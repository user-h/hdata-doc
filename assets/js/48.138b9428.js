(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{377:function(o,e,a){"use strict";a.r(e);var t=a(3),s=Object(t.a)({},(function(){var o=this,e=o._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("p",[o._v("注：sqoop只需要在namenode下安装即可\n版本:Sqoop-1.4.7")]),o._v(" "),e("h3",{attrs:{id:"_1-下载解压"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载解压"}},[o._v("#")]),o._v(" 1. 下载解压")]),o._v(" "),e("ul",[e("li",[o._v("上官网下载:"),e("code",[o._v("sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz")])]),o._v(" "),e("li",[o._v("上传. 解压"),e("code",[o._v("tar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz -C /soft/module")])]),o._v(" "),e("li",[o._v("重命名"),e("code",[o._v("mv sqoop-1.4.7.bin__hadoop-2.6.0 sqoop")])])]),o._v(" "),e("h3",{attrs:{id:"_2-修改配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改配置文件"}},[o._v("#")]),o._v(" 2.修改配置文件")]),o._v(" "),e("ul",[e("li",[o._v("进入目录"),e("code",[o._v("cd /soft/module/sqoop/conf/")]),o._v("  拷贝配置文件"),e("code",[o._v("cp sqoop-env-template.sh sqoop-env.sh")]),o._v("  修改配置文件"),e("code",[o._v("vim sqoop-env.sh")])])]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v("#Set path to where bin/hadoop is available\nexport HADOOP_COMMON_HOME=/soft/module/hadoop-2.9.2\n\n#Set path to where hadoop-*-core.jar is available\nexport HADOOP_MAPRED_HOME=/soft/module/hadoop-2.9.2\n\n#set the path to where bin/hbase is available\nexport HBASE_HOME=/soft/module/hbase\n\n#Set the path to where bin/hive is available\nexport HIVE_HOME=/soft/module/hive\n\n#Set the path for where zookeper config dir is\nexport ZOOCFGDIR=/soft/module/zookeeper\nexport ZOOKEEPER_HOME=/soft/module/zookeeper\n")])])]),e("ul",[e("li",[o._v("拷贝jdbc驱动\n"),e("s",[o._v("cp /soft/mysql-connector-java-5.1.48.jar /soft/sqoop/bin/")]),o._v(" "),e("code",[o._v("cp /soft/software/mysql-connector-java-5.1.48.jar /soft/module/sqoop/lib")])])]),o._v(" "),e("h3",{attrs:{id:"_3-验证及使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-验证及使用"}},[o._v("#")]),o._v(" 3.验证及使用")]),o._v(" "),e("ul",[e("li",[o._v("验证配置:"),e("code",[o._v("./bin/sqoop help")]),o._v("\n出现以下")])]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v("Available commands:\n  codegen            Generate code to interact with database records\n  create-hive-table  Import a table definition into Hive\n  eval               Evaluate a SQL statement and display the results\n  export             Export an HDFS directory to a database table\n  help               List available commands\n  import             Import a table from a database to HDFS\n  import-all-tables  Import tables from a database to HDFS\n  import-mainframe   Import datasets from a mainframe server to HDFS\n  job                Work with saved jobs\n  list-databases     List available databases on a server\n  list-tables        List available tables in a database\n  merge              Merge results of incremental imports\n  metastore          Run a standalone Sqoop metastore\n  version            Display version information\n")])])]),e("ul",[e("li",[o._v("测试Sqoop是否能够成功连接数据库\n"),e("code",[o._v("bin/sqoop list-databases --connect jdbc:mysql://hadoop1:3306/ --username root --password 123456789")]),o._v("\n出现以下")])]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v("information_schema\nmetastore\nmysql\nperformance_schema\nsys\n")])])]),e("h3",{attrs:{id:"错误-sqoop-sqoop-got-exception-running-sqoop-java-lang-runtimeexception-could-not-load-db-driver-class-com-mysql-jdbc-driver"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误-sqoop-sqoop-got-exception-running-sqoop-java-lang-runtimeexception-could-not-load-db-driver-class-com-mysql-jdbc-driver"}},[o._v("#")]),o._v(" 错误:"),e("code",[o._v("sqoop.Sqoop: Got exception running Sqoop: java.lang.RuntimeException: Could not load db driver class: com.mysql.jdbc.Driver")])]),o._v(" "),e("p",[o._v("[SQOOP_HOME]/lib/下缺少mysql驱动包")]),o._v(" "),e("h3",{attrs:{id:"注释掉没有使用的组件-解决启动时的警告"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注释掉没有使用的组件-解决启动时的警告"}},[o._v("#")]),o._v(" 注释掉没有使用的组件(解决启动时的警告)")]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v('bin/config-sqoop\n\n#if [ ! -d "${HBASE_HOME}" ]; then\n#  echo "Warning: $HBASE_HOME does not exist! HBase imports will fail."\n#  echo \'Please set $HBASE_HOME to the root of your HBase installation.\'\n#fi\n\n# Moved to be a runtime check in sqoop.\n#if [ ! -d "${HCAT_HOME}" ]; then\n#  echo "Warning: $HCAT_HOME does not exist! HCatalog jobs will fail."\n#  echo \'Please set $HCAT_HOME to the root of your HCatalog installation.\'\n#fi\n\n#if [ ! -d "${ACCUMULO_HOME}" ]; then\n#  echo "Warning: $ACCUMULO_HOME does not exist! Accumulo imports will fail."\n#  echo \'Please set $ACCUMULO_HOME to the root of your Accumulo installation.\'\n#fi\n#if [ ! -d "${ZOOKEEPER_HOME}" ]; then\n#  echo "Warning: $ZOOKEEPER_HOME does not exist! Accumulo imports will fail."\n#  echo \'Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\'\n#fi\n')])])])])}),[],!1,null,null,null);e.default=s.exports}}]);