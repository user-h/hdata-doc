(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],p=0,m=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(n[a]=l[a]);for(d&&d(e);m.length;)m.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],a=!0,o=1;o<t.length;o++){var l=t[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),n=s(s.s=t[0]))}return n}var a={},r={1:0},i=[];function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(n){var e=[],t=r[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=r[n]=[e,a]}));e.push(t[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(n){return s.p+"assets/js/"+({}[n]||n)+"."+{2:"82afd9cb",3:"5c0f818a",4:"528973e8",5:"53dd3ef1",6:"22885e2c",7:"814d9e01",8:"a242d330",9:"c7938acd",10:"7b061388",11:"3d84b622",12:"f524e450",13:"b3ff7d26",14:"3675e190",15:"676eac9f",16:"c546644f",17:"d80c3241",18:"bfa024db",19:"c4ebe893",20:"0c06c705",21:"e586d4fc",22:"d4747bce",23:"cfa91ca4",24:"77c960d1",25:"cc923a02",26:"432e9cf4",27:"3248ab2a",28:"67efb541",29:"e500a45f",30:"27916467",31:"db03022b",32:"40451343",33:"57a8afa5",34:"e8da6dc5",35:"25dea1e4",36:"ecc28683",37:"976e826a",38:"f1f7e891",39:"6daaca2d",40:"3766a207",41:"515be286",42:"87e45d55",43:"0eea2c15",44:"f5a1989e",45:"96eaa743",46:"6db88dae",47:"f3e98870",48:"138b9428",49:"b4e2bdb7",50:"6624a71f",51:"4273468b",52:"d69c448e",53:"3e61789b",54:"ed81b599",55:"a2edf6d0",56:"324986ae",57:"640caf90",58:"344d4730",59:"d9078674",60:"2afcb1b9",61:"996c28ca",62:"cb5e8bee",63:"146ed62c",64:"8bb9c50a",65:"460effd7",66:"f5294e94",67:"0da1dddd",68:"64117a5a",69:"ed33359f",70:"1250ab19",71:"f6a79a2a",72:"683057b4",73:"94e5450b",74:"fa587d94",75:"48871ae9",76:"447894b5",77:"da5dadf2",78:"a8553a08",79:"bd712952"}[n]+".js"}(n);var l=new Error;i=function(e){o.onerror=o.onload=null,clearTimeout(c);var t=r[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,t[1](l)}r[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(e)},s.m=n,s.c=a,s.d=function(n,e,t){s.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},s.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,e){if(1&e&&(n=s(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)s.d(t,a,function(e){return n[e]}.bind(null,a));return t},s.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(e,"a",e),e},s.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},s.p="/hdata-doc/",s.oe=function(n){throw console.error(n),n};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([102,0]),t()}([function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var a=t(25),r=Function.prototype,i=r.bind,s=r.call,o=a&&i.bind(s,s);n.exports=a?function(n){return n&&o(n)}:function(n){return n&&function(){return s.apply(n,arguments)}}},function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";function a(n,e,t,a,r,i,s,o){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return a}))},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var a=t(67),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();n.exports=i},function(n,e,t){var a=t(4);n.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var a=t(1),r=t(45),i=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(r(n),e)}},function(n,e,t){var a=t(0);n.exports=function(n){return"object"==typeof n?null!==n:a(n)}},function(n,e,t){var a=t(157),r=t(160);n.exports=function(n,e){var t=r(n,e);return a(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return a})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return s})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return p})),t.d(e,"f",(function(){return m})),t.d(e,"l",(function(){return u})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return b})),t.d(e,"n",(function(){return y})),t.d(e,"a",(function(){return _}));const a=/#.*$/,r=/\.(md|html)$/,i=/\/$/,s=/^[a-z]+:/i;function o(n){return decodeURI(n).replace(a,"").replace(r,"")}function l(n){return s.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function p(n){if(l(n))return n;if(!n)return"404";const e=n.match(a),t=e?e[0]:"",r=o(n);return i.test(r)?n:r+".html"+t}function m(n,e){const t=n.hash,r=function(n){const e=n&&n.match(a);if(e)return e[0]}(e);if(r&&t!==r)return!1;return o(n.path)===o(e)}function u(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;const r=e.split("/");t&&r[r.length-1]||r.pop();const i=n.replace(/^\//,"").split("/");for(let n=0;n<i.length;n++){const e=i[n];".."===e?r.pop():"."!==e&&r.push(e)}""!==r[0]&&r.unshift("");return r.join("/")}(e,t));const a=o(e);for(let e=0;e<n.length;e++)if(o(n[e].regularPath)===a)return Object.assign({},n[e],{type:"page",path:p(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(n,e,t,a){const{pages:r,themeConfig:i}=t,s=a&&i.locales&&i.locales[a]||i;if("auto"===(n.frontmatter.sidebar||s.sidebar||i.sidebar))return f(n);const o=s.sidebar||i.sidebar;if(o){const{base:t,config:a}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const a in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(a)))return{base:a,config:e[a]};var t;return{}}(e,o);return"auto"===a?f(n):a?a.map(n=>function n(e,t,a,r=1){if("string"==typeof e)return u(t,e,a);if(Array.isArray(e))return Object.assign(u(t,e[0],a),{title:e[1]});{r>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const i=e.children||[];return 0===i.length&&e.path?Object.assign(u(t,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map(e=>n(e,t,a,r+1)),collapsable:!1!==e.collapsable}}}(n,r,t)):[]}return[]}function f(n){const e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function g(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function b(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function y(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function v(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function _(n,e){return v(e)-v(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var a=t(14),r=t(142),i=t(143),s=a?a.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s&&s in Object(n)?r(n):i(n)}},function(n,e,t){var a=t(6).Symbol;n.exports=a},function(n,e,t){var a=t(7),r=t(61),i=t(98),s=t(24),o=t(52),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=a?i?function(n,e,t){if(s(n),e=o(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var a=d(n,e);a&&a.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:a.configurable,enumerable:"enumerable"in t?t.enumerable:a.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(s(n),e=o(e),s(t),r)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var a=t(2),r=t(0),i=function(n){return r(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(a[n]):a[n]&&a[n][e]}},function(n,e,t){var a=t(7),r=t(15),i=t(29);n.exports=a?function(n,e,t){return r.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var a=t(147),r=t(148),i=t(149),s=t(150),o=t(151);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(69);n.exports=function(n,e){for(var t=n.length;t--;)if(a(n[t][0],e))return t;return-1}},function(n,e,t){var a=t(10)(Object,"create");n.exports=a},function(n,e,t){var a=t(169);n.exports=function(n,e){var t=n.__data__;return a(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var a=t(40);n.exports=function(n){if("string"==typeof n||a(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var a,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(a=function(){var n,e,t={version:"0.2.0"},a=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(a[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=r(n,a.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(a.barSelector),d=a.speed,p=a.easing;return l.offsetWidth,s((function(e){""===a.positionUsing&&(a.positionUsing=t.getPositioningCSS()),o(c,function(n,e,t){var r;return(r="translate3d"===a.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,r}(n,d,p)),1===n?(o(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){o(l,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),a.trickleSpeed)};return a.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*a.trickleRate)},n=0,e=0,t.promise=function(a){return a&&"resolved"!==a.state()?(0===e&&t.start(),n++,e++,a.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=a.template;var r,s=e.querySelector(a.barSelector),l=n?"-100":i(t.status||0),d=document.querySelector(a.parent);return o(s,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),a.showSpinner||(r=e.querySelector(a.spinnerSelector))&&m(r),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(a.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&m(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var s=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),o=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var a,r=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((a=n[r]+i)in t)return a;return e}(t))}function a(n,e,a){e=t(e),n.style[e]=a}return function(n,e){var t,r,i=arguments;if(2==i.length)for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&a(n,t,r);else a(n,i[1],i[2])}}();function l(n,e){return("string"==typeof n?n:p(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=p(n),a=t+e;l(t,e)||(n.className=a.substring(1))}function d(n,e){var t,a=p(n);l(n,e)&&(t=a.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function m(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?a.call(e,t,e,n):a)||(n.exports=r)},function(n,e,t){var a=t(9),r=String,i=TypeError;n.exports=function(n){if(a(n))return n;throw i(r(n)+" is not an object")}},function(n,e,t){var a=t(4);n.exports=!a((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var a=t(43),r=t(51);n.exports=function(n){return a(r(n))}},function(n,e,t){var a=t(2),r=t(58),i=t(8),s=t(60),o=t(56),l=t(55),c=r("wks"),d=a.Symbol,p=d&&d.for,m=l?d:d&&d.withoutSetter||s;n.exports=function(n){if(!i(c,n)||!o&&"string"!=typeof c[n]){var e="Symbol."+n;o&&i(d,n)?c[n]=d[n]:c[n]=l&&p?p(e):m(e)}return c[n]}},function(n,e,t){var a=t(25),r=Function.prototype.call;n.exports=a?r.bind(r):function(){return r.apply(r,arguments)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var a=t(1),r=a({}.toString),i=a("".slice);n.exports=function(n){return i(r(n),8,-1)}},function(n,e,t){var a=t(2),r=t(32),i=a["__core-js_shared__"]||r("__core-js_shared__",{});n.exports=i},function(n,e,t){var a=t(2),r=Object.defineProperty;n.exports=function(n,e){try{r(a,n,{value:e,configurable:!0,writable:!0})}catch(t){a[n]=e}return e}},function(n,e,t){var a=t(141),r=t(12),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(n){return r(n)&&s.call(n,"callee")&&!o.call(n,"callee")};n.exports=l},function(n,e,t){var a=t(10)(t(6),"Map");n.exports=a},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var a=t(161),r=t(168),i=t(170),s=t(171),o=t(172);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var a=t(5),r=t(40),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;n.exports=function(n,e){if(a(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!r(n))||(s.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var a=t(13),r=t(12);n.exports=function(n){return"symbol"==typeof n||r(n)&&"[object Symbol]"==a(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){var a=t(2),r=t(50).f,i=t(17),s=t(110),o=t(32),l=t(63),c=t(122);n.exports=function(n,e){var t,d,p,m,u,h=n.target,f=n.global,g=n.stat;if(t=f?a:g?a[h]||o(h,{}):(a[h]||{}).prototype)for(d in e){if(m=e[d],p=n.dontCallGetSet?(u=r(t,d))&&u.value:t[d],!c(f?d:h+(g?".":"#")+d,n.forced)&&void 0!==p){if(typeof m==typeof p)continue;l(m,p)}(n.sham||p&&p.sham)&&i(m,"sham",!0),s(t,d,m,n)}}},function(n,e,t){var a=t(1),r=t(4),i=t(30),s=Object,o=a("".split);n.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==i(n)?o(n,""):s(n)}:s},function(n,e,t){var a=t(0),r=t(108),i=TypeError;n.exports=function(n){if(a(n))return n;throw i(r(n)+" is not a function")}},function(n,e,t){var a=t(51),r=Object;n.exports=function(n){return r(a(n))}},function(n,e){n.exports={}},function(n,e,t){var a=t(120);n.exports=function(n){return a(n.length)}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,m=Math.min,u=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function f(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var o=r.test(n);return o||i.test(n)?s(n.slice(2),o?2:8):a.test(n)?NaN:+n}n.exports=function(n,e,t){var a,r,i,s,o,l,c=0,d=!1,g=!1,b=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(e){var t=a,i=r;return a=r=void 0,c=e,s=n.apply(i,t)}function v(n){return c=n,o=setTimeout(x,e),d?y(n):s}function _(n){var t=n-l;return void 0===l||t>=e||t<0||g&&n-c>=i}function x(){var n=u();if(_(n))return k(n);o=setTimeout(x,function(n){var t=e-(n-l);return g?m(t,i-(n-c)):t}(n))}function k(n){return o=void 0,b&&a?y(n):(a=r=void 0,s)}function S(){var n=u(),t=_(n);if(a=arguments,r=this,l=n,t){if(void 0===o)return v(l);if(g)return o=setTimeout(x,e),y(l)}return void 0===o&&(o=setTimeout(x,e)),s}return e=f(e)||0,h(t)&&(d=!!t.leading,i=(g="maxWait"in t)?p(f(t.maxWait)||0,e):i,b="trailing"in t?!!t.trailing:b),S.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=r=o=void 0},S.flush=function(){return void 0===o?s:k(u())},S}},function(n,e,t){var a=t(7),r=t(28),i=t(104),s=t(29),o=t(26),l=t(52),c=t(8),d=t(61),p=Object.getOwnPropertyDescriptor;e.f=a?p:function(n,e){if(n=o(n),e=l(e),d)try{return p(n,e)}catch(n){}if(c(n,e))return s(!r(i.f,n,e),n[e])}},function(n,e){var t=TypeError;n.exports=function(n){if(null==n)throw t("Can't call method on "+n);return n}},function(n,e,t){var a=t(105),r=t(53);n.exports=function(n){var e=a(n,"string");return r(e)?e:e+""}},function(n,e,t){var a=t(16),r=t(0),i=t(54),s=t(55),o=Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return r(e)&&i(e.prototype,o(n))}},function(n,e,t){var a=t(1);n.exports=a({}.isPrototypeOf)},function(n,e,t){var a=t(56);n.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var a=t(57),r=t(4);n.exports=!!Object.getOwnPropertySymbols&&!r((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},function(n,e,t){var a,r,i=t(2),s=t(106),o=i.process,l=i.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(r=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!r&&s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(r=+a[1]),n.exports=r},function(n,e,t){var a=t(59),r=t(31);(n.exports=function(n,e){return r[n]||(r[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.4",mode:a?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e){n.exports=!1},function(n,e,t){var a=t(1),r=0,i=Math.random(),s=a(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+s(++r+i,36)}},function(n,e,t){var a=t(7),r=t(4),i=t(97);n.exports=!a&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var a=t(1),r=t(0),i=t(31),s=a(Function.toString);r(i.inspectSource)||(i.inspectSource=function(n){return s(n)}),n.exports=i.inspectSource},function(n,e,t){var a=t(8),r=t(115),i=t(50),s=t(15);n.exports=function(n,e,t){for(var o=r(e),l=s.f,c=i.f,d=0;d<o.length;d++){var p=o[d];a(n,p)||t&&a(t,p)||l(n,p,c(e,p))}}},function(n,e,t){var a=t(119);n.exports=function(n){var e=+n;return e!=e||0===e?0:a(e)}},function(n,e,t){var a=t(1),r=t(24),i=t(129);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,a){return r(t),i(a),e?n(t,a):t.__proto__=a,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,a=e.length,r=n.length;++t<a;)n[r+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var a=t(18),r=t(152),i=t(153),s=t(154),o=t(155),l=t(156);function c(n){var e=this.__data__=new a(n);this.size=e.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var a=t(13),r=t(35);n.exports=function(n){if(!r(n))return!1;var e=a(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var a=t(173),r=t(12);n.exports=function n(e,t,i,s,o){return e===t||(null==e||null==t||!r(e)&&!r(t)?e!=e&&t!=t:a(e,t,i,s,n,o))}},function(n,e,t){var a=t(74),r=t(176),i=t(75);n.exports=function(n,e,t,s,o,l){var c=1&t,d=n.length,p=e.length;if(d!=p&&!(c&&p>d))return!1;var m=l.get(n),u=l.get(e);if(m&&u)return m==e&&u==n;var h=-1,f=!0,g=2&t?new a:void 0;for(l.set(n,e),l.set(e,n);++h<d;){var b=n[h],y=e[h];if(s)var v=c?s(y,b,h,e,n,l):s(b,y,h,n,e,l);if(void 0!==v){if(v)continue;f=!1;break}if(g){if(!r(e,(function(n,e){if(!i(g,e)&&(b===n||o(b,n,t,s,l)))return g.push(e)}))){f=!1;break}}else if(b!==y&&!o(b,y,t,s,l)){f=!1;break}}return l.delete(n),l.delete(e),f}},function(n,e,t){var a=t(36),r=t(174),i=t(175);function s(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new a;++e<t;)this.add(n[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,n.exports=s},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var a=t(186),r=t(192),i=t(80);n.exports=function(n){return i(n)?a(n):r(n)}},function(n,e,t){(function(n){var a=t(6),r=t(188),i=e&&!e.nodeType&&e,s=i&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===i?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||r;n.exports=l}).call(this,t(48)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var a=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var a=t(189),r=t(190),i=t(191),s=i&&i.isTypedArray,o=s?r(s):a;n.exports=o},function(n,e,t){var a=t(70),r=t(38);n.exports=function(n){return null!=n&&r(n.length)&&!a(n)}},function(n,e,t){var a=t(10)(t(6),"Set");n.exports=a},function(n,e,t){var a=t(35);n.exports=function(n){return n==n&&!a(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var a=t(85),r=t(22);n.exports=function(n,e){for(var t=0,i=(e=a(e,n)).length;null!=n&&t<i;)n=n[r(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var a=t(5),r=t(39),i=t(203),s=t(206);n.exports=function(n,e){return a(n)?n:r(n,e)?[n]:i(s(n))}},function(n,e){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(139),r=t(144),i=t(215),s=t(223),o=t(232),l=t(101),c=i((function(n){var e=l(n);return o(e)&&(e=void 0),s(a(n,1,o,!0),r(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;n.exports=function(n){var e,t=""+n,r=a.exec(t);if(!r)return t;var i="",s=0,o=0;for(s=r.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==s&&(i+=t.substring(o,s)),o=s+1,i+=e}return o!==s?i+t.substring(o,s):i}},function(n,e,t){"use strict";t.r(e);var a={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},r=(t(235),t(3)),i=Object(r.a)(a,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);var a={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},r=(t(236),t(3)),i=Object(r.a)(a,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,a){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":a===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(a)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var a=t(2),r=t(9),i=a.document,s=r(i)&&r(i.createElement);n.exports=function(n){return s?i.createElement(n):{}}},function(n,e,t){var a=t(7),r=t(4);n.exports=a&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var a=t(58),r=t(60),i=a("keys");n.exports=function(n){return i[n]||(i[n]=r(n))}},function(n,e,t){var a=t(1),r=t(8),i=t(26),s=t(117).indexOf,o=t(46),l=a([].push);n.exports=function(n,e){var t,a=i(n),c=0,d=[];for(t in a)!r(o,t)&&r(a,t)&&l(d,t);for(;e.length>c;)r(a,t=e[c++])&&(~s(d,t)||l(d,t));return d}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(242)},function(n,e,t){"use strict";var a=t(42),r=t(123).left,i=t(124),s=t(57),o=t(125);a({target:"Array",proto:!0,forced:!i("reduce")||!o&&s>79&&s<83},{reduce:function(n){var e=arguments.length;return r(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);e.f=i?function(n){var e=r(this,n);return!!e&&e.enumerable}:a},function(n,e,t){var a=t(28),r=t(9),i=t(53),s=t(107),o=t(109),l=t(27),c=TypeError,d=l("toPrimitive");n.exports=function(n,e){if(!r(n)||i(n))return n;var t,l=s(n,d);if(l){if(void 0===e&&(e="default"),t=a(l,n,e),!r(t)||i(t))return t;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(n,e)}},function(n,e,t){var a=t(16);n.exports=a("navigator","userAgent")||""},function(n,e,t){var a=t(44);n.exports=function(n,e){var t=n[e];return null==t?void 0:a(t)}},function(n,e){var t=String;n.exports=function(n){try{return t(n)}catch(n){return"Object"}}},function(n,e,t){var a=t(28),r=t(0),i=t(9),s=TypeError;n.exports=function(n,e){var t,o;if("string"===e&&r(t=n.toString)&&!i(o=a(t,n)))return o;if(r(t=n.valueOf)&&!i(o=a(t,n)))return o;if("string"!==e&&r(t=n.toString)&&!i(o=a(t,n)))return o;throw s("Can't convert object to primitive value")}},function(n,e,t){var a=t(0),r=t(15),i=t(111),s=t(32);n.exports=function(n,e,t,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(a(t)&&i(t,c,o),o.global)l?n[e]=t:s(e,t);else{try{o.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:r.f(n,e,{value:t,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return n}},function(n,e,t){var a=t(4),r=t(0),i=t(8),s=t(7),o=t(112).CONFIGURABLE,l=t(62),c=t(113),d=c.enforce,p=c.get,m=Object.defineProperty,u=s&&!a((function(){return 8!==m((function(){}),"length",{value:8}).length})),h=String(String).split("String"),f=n.exports=function(n,e,t){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!i(n,"name")||o&&n.name!==e)&&(s?m(n,"name",{value:e,configurable:!0}):n.name=e),u&&t&&i(t,"arity")&&n.length!==t.arity&&m(n,"length",{value:t.arity});try{t&&i(t,"constructor")&&t.constructor?s&&m(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var a=d(n);return i(a,"source")||(a.source=h.join("string"==typeof e?e:"")),n};Function.prototype.toString=f((function(){return r(this)&&p(this).source||l(this)}),"toString")},function(n,e,t){var a=t(7),r=t(8),i=Function.prototype,s=a&&Object.getOwnPropertyDescriptor,o=r(i,"name"),l=o&&"something"===function(){}.name,c=o&&(!a||a&&s(i,"name").configurable);n.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var a,r,i,s=t(114),o=t(2),l=t(1),c=t(9),d=t(17),p=t(8),m=t(31),u=t(99),h=t(46),f=o.TypeError,g=o.WeakMap;if(s||m.state){var b=m.state||(m.state=new g),y=l(b.get),v=l(b.has),_=l(b.set);a=function(n,e){if(v(b,n))throw new f("Object already initialized");return e.facade=n,_(b,n,e),e},r=function(n){return y(b,n)||{}},i=function(n){return v(b,n)}}else{var x=u("state");h[x]=!0,a=function(n,e){if(p(n,x))throw new f("Object already initialized");return e.facade=n,d(n,x,e),e},r=function(n){return p(n,x)?n[x]:{}},i=function(n){return p(n,x)}}n.exports={set:a,get:r,has:i,enforce:function(n){return i(n)?r(n):a(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=r(e)).type!==n)throw f("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var a=t(2),r=t(0),i=t(62),s=a.WeakMap;n.exports=r(s)&&/native code/.test(i(s))},function(n,e,t){var a=t(16),r=t(1),i=t(116),s=t(121),o=t(24),l=r([].concat);n.exports=a("Reflect","ownKeys")||function(n){var e=i.f(o(n)),t=s.f;return t?l(e,t(n)):e}},function(n,e,t){var a=t(100),r=t(96).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return a(n,r)}},function(n,e,t){var a=t(26),r=t(118),i=t(47),s=function(n){return function(e,t,s){var o,l=a(e),c=i(l),d=r(s,c);if(n&&t!=t){for(;c>d;)if((o=l[d++])!=o)return!0}else for(;c>d;d++)if((n||d in l)&&l[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:s(!0),indexOf:s(!1)}},function(n,e,t){var a=t(64),r=Math.max,i=Math.min;n.exports=function(n,e){var t=a(n);return t<0?r(t+e,0):i(t,e)}},function(n,e){var t=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?a:t)(e)}},function(n,e,t){var a=t(64),r=Math.min;n.exports=function(n){return n>0?r(a(n),9007199254740991):0}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var a=t(4),r=t(0),i=/#|\.prototype\./,s=function(n,e){var t=l[o(n)];return t==d||t!=c&&(r(e)?a(e):!!e)},o=s.normalize=function(n){return String(n).replace(i,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";n.exports=s},function(n,e,t){var a=t(44),r=t(45),i=t(43),s=t(47),o=TypeError,l=function(n){return function(e,t,l,c){a(t);var d=r(e),p=i(d),m=s(d),u=n?m-1:0,h=n?-1:1;if(l<2)for(;;){if(u in p){c=p[u],u+=h;break}if(u+=h,n?u<0:m<=u)throw o("Reduce of empty array with no initial value")}for(;n?u>=0:m>u;u+=h)u in p&&(c=t(c,p[u],u,d));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var a=t(4);n.exports=function(n,e){var t=[][n];return!!t&&a((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var a=t(30),r=t(2);n.exports="process"==a(r.process)},function(n,e,t){var a=t(42),r=t(2),i=t(127),s=t(128),o=r.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=s(n,e,l),a({global:!0,constructor:!0,arity:1,forced:l},t)},d=function(n,e){if(o&&o[n]){var t={};t[n]=s("WebAssembly."+n,e,l),a({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var a=t(25),r=Function.prototype,i=r.apply,s=r.call;n.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(i):function(){return s.apply(i,arguments)})},function(n,e,t){"use strict";var a=t(16),r=t(8),i=t(17),s=t(54),o=t(65),l=t(63),c=t(130),d=t(131),p=t(132),m=t(136),u=t(137),h=t(138),f=t(7),g=t(59);n.exports=function(n,e,t,b){var y=b?2:1,v=n.split("."),_=v[v.length-1],x=a.apply(null,v);if(x){var k=x.prototype;if(!g&&r(k,"cause")&&delete k.cause,!t)return x;var S=a("Error"),w=e((function(n,e){var t=p(b?e:n,void 0),a=b?new x(n):new x;return void 0!==t&&i(a,"message",t),h&&i(a,"stack",u(a.stack,2)),this&&s(k,this)&&d(a,this,w),arguments.length>y&&m(a,arguments[y]),a}));if(w.prototype=k,"Error"!==_?o?o(w,S):l(w,S,{name:!0}):f&&"stackTraceLimit"in x&&(c(w,x,"stackTraceLimit"),c(w,x,"prepareStackTrace")),l(w,x),!g)try{k.name!==_&&i(k,"name",_),k.constructor=w}catch(n){}return w}}},function(n,e,t){var a=t(0),r=String,i=TypeError;n.exports=function(n){if("object"==typeof n||a(n))return n;throw i("Can't set "+r(n)+" as a prototype")}},function(n,e,t){var a=t(15).f;n.exports=function(n,e,t){t in n||a(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){var a=t(0),r=t(9),i=t(65);n.exports=function(n,e,t){var s,o;return i&&a(s=e.constructor)&&s!==t&&r(o=s.prototype)&&o!==t.prototype&&i(n,o),n}},function(n,e,t){var a=t(133);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:a(n)}},function(n,e,t){var a=t(134),r=String;n.exports=function(n){if("Symbol"===a(n))throw TypeError("Cannot convert a Symbol value to a string");return r(n)}},function(n,e,t){var a=t(135),r=t(0),i=t(30),s=t(27)("toStringTag"),o=Object,l="Arguments"==i(function(){return arguments}());n.exports=a?i:function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=o(n),s))?t:l?i(e):"Object"==(a=i(e))&&r(e.callee)?"Arguments":a}},function(n,e,t){var a={};a[t(27)("toStringTag")]="z",n.exports="[object z]"===String(a)},function(n,e,t){var a=t(9),r=t(17);n.exports=function(n,e){a(e)&&"cause"in e&&r(n,"cause",e.cause)}},function(n,e,t){var a=t(1),r=Error,i=a("".replace),s=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);n.exports=function(n,e){if(l&&"string"==typeof n&&!r.prepareStackTrace)for(;e--;)n=i(n,o,"");return n}},function(n,e,t){var a=t(4),r=t(29);n.exports=!a((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",r(1,7)),7!==n.stack)}))},function(n,e,t){var a=t(66),r=t(140);n.exports=function n(e,t,i,s,o){var l=-1,c=e.length;for(i||(i=r),o||(o=[]);++l<c;){var d=e[l];t>0&&i(d)?t>1?n(d,t-1,i,s,o):a(o,d):s||(o[o.length]=d)}return o}},function(n,e,t){var a=t(14),r=t(33),i=t(5),s=a?a.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||r(n)||!!(s&&n&&n[s])}},function(n,e,t){var a=t(13),r=t(12);n.exports=function(n){return r(n)&&"[object Arguments]"==a(n)}},function(n,e,t){var a=t(14),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,o=a?a.toStringTag:void 0;n.exports=function(n){var e=i.call(n,o),t=n[o];try{n[o]=void 0;var a=!0}catch(n){}var r=s.call(n);return a&&(e?n[o]=t:delete n[o]),r}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var a=t(145),r=t(201),i=t(41),s=t(5),o=t(212);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?s(n)?r(n[0],n[1]):a(n):o(n)}},function(n,e,t){var a=t(146),r=t(200),i=t(83);n.exports=function(n){var e=r(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||a(t,n,e)}}},function(n,e,t){var a=t(68),r=t(72);n.exports=function(n,e,t,i){var s=t.length,o=s,l=!i;if(null==n)return!o;for(n=Object(n);s--;){var c=t[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var d=(c=t[s])[0],p=n[d],m=c[1];if(l&&c[2]){if(void 0===p&&!(d in n))return!1}else{var u=new a;if(i)var h=i(p,m,d,n,e,u);if(!(void 0===h?r(m,p,3,i,u):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var a=t(19),r=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=a(e,n);return!(t<0)&&(t==e.length-1?e.pop():r.call(e,t,1),--this.size,!0)}},function(n,e,t){var a=t(19);n.exports=function(n){var e=this.__data__,t=a(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var a=t(19);n.exports=function(n){return a(this.__data__,n)>-1}},function(n,e,t){var a=t(19);n.exports=function(n,e){var t=this.__data__,r=a(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}},function(n,e,t){var a=t(18);n.exports=function(){this.__data__=new a,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var a=t(18),r=t(34),i=t(36);n.exports=function(n,e){var t=this.__data__;if(t instanceof a){var s=t.__data__;if(!r||s.length<199)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(s)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var a=t(70),r=t(158),i=t(35),s=t(71),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,p=c.hasOwnProperty,m=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||r(n))&&(a(n)?m:o).test(s(n))}},function(n,e,t){var a,r=t(159),i=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var a=t(6)["__core-js_shared__"];n.exports=a},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var a=t(162),r=t(18),i=t(34);n.exports=function(){this.size=0,this.__data__={hash:new a,map:new(i||r),string:new a}}},function(n,e,t){var a=t(163),r=t(164),i=t(165),s=t(166),o=t(167);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(20);n.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var a=t(20),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(a){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return r.call(e,n)?e[n]:void 0}},function(n,e,t){var a=t(20),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return a?void 0!==e[n]:r.call(e,n)}},function(n,e,t){var a=t(20);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var a=t(21);n.exports=function(n){var e=a(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var a=t(21);n.exports=function(n){return a(this,n).get(n)}},function(n,e,t){var a=t(21);n.exports=function(n){return a(this,n).has(n)}},function(n,e,t){var a=t(21);n.exports=function(n,e){var t=a(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}},function(n,e,t){var a=t(68),r=t(73),i=t(177),s=t(180),o=t(196),l=t(5),c=t(77),d=t(79),p="[object Object]",m=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,u,h,f){var g=l(n),b=l(e),y=g?"[object Array]":o(n),v=b?"[object Array]":o(e),_=(y="[object Arguments]"==y?p:y)==p,x=(v="[object Arguments]"==v?p:v)==p,k=y==v;if(k&&c(n)){if(!c(e))return!1;g=!0,_=!1}if(k&&!_)return f||(f=new a),g||d(n)?r(n,e,t,u,h,f):i(n,e,y,t,u,h,f);if(!(1&t)){var S=_&&m.call(n,"__wrapped__"),w=x&&m.call(e,"__wrapped__");if(S||w){var E=S?n.value():n,T=w?e.value():e;return f||(f=new a),h(E,T,t,u,f)}}return!!k&&(f||(f=new a),s(n,e,t,u,h,f))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length;++t<a;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var a=t(14),r=t(178),i=t(69),s=t(73),o=t(179),l=t(37),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,a,c,p,m){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!p(new r(n),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var u=o;case"[object Set]":var h=1&a;if(u||(u=l),n.size!=e.size&&!h)return!1;var f=m.get(n);if(f)return f==e;a|=2,m.set(n,e);var g=s(u(n),u(e),a,c,p,m);return m.delete(n),g;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var a=t(6).Uint8Array;n.exports=a},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,a){t[++e]=[a,n]})),t}},function(n,e,t){var a=t(181),r=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,s,o){var l=1&t,c=a(n),d=c.length;if(d!=a(e).length&&!l)return!1;for(var p=d;p--;){var m=c[p];if(!(l?m in e:r.call(e,m)))return!1}var u=o.get(n),h=o.get(e);if(u&&h)return u==e&&h==n;var f=!0;o.set(n,e),o.set(e,n);for(var g=l;++p<d;){var b=n[m=c[p]],y=e[m];if(i)var v=l?i(y,b,m,e,n,o):i(b,y,m,n,e,o);if(!(void 0===v?b===y||s(b,y,t,i,o):v)){f=!1;break}g||(g="constructor"==m)}if(f&&!g){var _=n.constructor,x=e.constructor;_==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(f=!1)}return o.delete(n),o.delete(e),f}},function(n,e,t){var a=t(182),r=t(183),i=t(76);n.exports=function(n){return a(n,i,r)}},function(n,e,t){var a=t(66),r=t(5);n.exports=function(n,e,t){var i=e(n);return r(n)?i:a(i,t(n))}},function(n,e,t){var a=t(184),r=t(185),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(n){return null==n?[]:(n=Object(n),a(s(n),(function(e){return i.call(n,e)})))}:r;n.exports=o},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=0,i=[];++t<a;){var s=n[t];e(s,t,n)&&(i[r++]=s)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var a=t(187),r=t(33),i=t(5),s=t(77),o=t(78),l=t(79),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),d=!t&&r(n),p=!t&&!d&&s(n),m=!t&&!d&&!p&&l(n),u=t||d||p||m,h=u?a(n.length,String):[],f=h.length;for(var g in n)!e&&!c.call(n,g)||u&&("length"==g||p&&("offset"==g||"parent"==g)||m&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,f))||h.push(g);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,a=Array(n);++t<n;)a[t]=e(t);return a}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var a=t(13),r=t(38),i=t(12),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&r(n.length)&&!!s[a(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var a=t(67),r=e&&!e.nodeType&&e,i=r&&"object"==typeof n&&n&&!n.nodeType&&n,s=i&&i.exports===r&&a.process,o=function(){try{var n=i&&i.require&&i.require("util").types;return n||s&&s.binding&&s.binding("util")}catch(n){}}();n.exports=o}).call(this,t(48)(n))},function(n,e,t){var a=t(193),r=t(194),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!a(n))return r(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var a=t(195)(Object.keys,Object);n.exports=a},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var a=t(197),r=t(34),i=t(198),s=t(81),o=t(199),l=t(13),c=t(71),d=c(a),p=c(r),m=c(i),u=c(s),h=c(o),f=l;(a&&"[object DataView]"!=f(new a(new ArrayBuffer(1)))||r&&"[object Map]"!=f(new r)||i&&"[object Promise]"!=f(i.resolve())||s&&"[object Set]"!=f(new s)||o&&"[object WeakMap]"!=f(new o))&&(f=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,a=t?c(t):"";if(a)switch(a){case d:return"[object DataView]";case p:return"[object Map]";case m:return"[object Promise]";case u:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=f},function(n,e,t){var a=t(10)(t(6),"DataView");n.exports=a},function(n,e,t){var a=t(10)(t(6),"Promise");n.exports=a},function(n,e,t){var a=t(10)(t(6),"WeakMap");n.exports=a},function(n,e,t){var a=t(82),r=t(76);n.exports=function(n){for(var e=r(n),t=e.length;t--;){var i=e[t],s=n[i];e[t]=[i,s,a(s)]}return e}},function(n,e,t){var a=t(72),r=t(202),i=t(209),s=t(39),o=t(82),l=t(83),c=t(22);n.exports=function(n,e){return s(n)&&o(e)?l(c(n),e):function(t){var s=r(t,n);return void 0===s&&s===e?i(t,n):a(e,s,3)}}},function(n,e,t){var a=t(84);n.exports=function(n,e,t){var r=null==n?void 0:a(n,e);return void 0===r?t:r}},function(n,e,t){var a=t(204),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=a((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(r,(function(n,t,a,r){e.push(a?r.replace(i,"$1"):t||n)})),e}));n.exports=s},function(n,e,t){var a=t(205);n.exports=function(n){var e=a(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var a=t(36);function r(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var a=arguments,r=e?e.apply(this,a):a[0],i=t.cache;if(i.has(r))return i.get(r);var s=n.apply(this,a);return t.cache=i.set(r,s)||i,s};return t.cache=new(r.Cache||a),t}r.Cache=a,n.exports=r},function(n,e,t){var a=t(207);n.exports=function(n){return null==n?"":a(n)}},function(n,e,t){var a=t(14),r=t(208),i=t(5),s=t(40),o=a?a.prototype:void 0,l=o?o.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return r(e,n)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=Array(a);++t<a;)r[t]=e(n[t],t,n);return r}},function(n,e,t){var a=t(210),r=t(211);n.exports=function(n,e){return null!=n&&r(n,e,a)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var a=t(85),r=t(33),i=t(5),s=t(78),o=t(38),l=t(22);n.exports=function(n,e,t){for(var c=-1,d=(e=a(e,n)).length,p=!1;++c<d;){var m=l(e[c]);if(!(p=null!=n&&t(n,m)))break;n=n[m]}return p||++c!=d?p:!!(d=null==n?0:n.length)&&o(d)&&s(m,d)&&(i(n)||r(n))}},function(n,e,t){var a=t(213),r=t(214),i=t(39),s=t(22);n.exports=function(n){return i(n)?a(s(n)):r(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var a=t(84);n.exports=function(n){return function(e){return a(e,n)}}},function(n,e,t){var a=t(41),r=t(216),i=t(218);n.exports=function(n,e){return i(r(n,e,a),n+"")}},function(n,e,t){var a=t(217),r=Math.max;n.exports=function(n,e,t){return e=r(void 0===e?n.length-1:e,0),function(){for(var i=arguments,s=-1,o=r(i.length-e,0),l=Array(o);++s<o;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=t(l),a(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var a=t(219),r=t(222)(a);n.exports=r},function(n,e,t){var a=t(220),r=t(221),i=t(41),s=r?function(n,e){return r(n,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:i;n.exports=s},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var a=t(10),r=function(){try{var n=a(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=r},function(n,e){var t=Date.now;n.exports=function(n){var e=0,a=0;return function(){var r=t(),i=16-(r-a);if(a=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var a=t(74),r=t(224),i=t(229),s=t(75),o=t(230),l=t(37);n.exports=function(n,e,t){var c=-1,d=r,p=n.length,m=!0,u=[],h=u;if(t)m=!1,d=i;else if(p>=200){var f=e?null:o(n);if(f)return l(f);m=!1,d=s,h=new a}else h=e?[]:u;n:for(;++c<p;){var g=n[c],b=e?e(g):g;if(g=t||0!==g?g:0,m&&b==b){for(var y=h.length;y--;)if(h[y]===b)continue n;e&&h.push(b),u.push(g)}else d(h,b,t)||(h!==u&&h.push(b),u.push(g))}return u}},function(n,e,t){var a=t(225);n.exports=function(n,e){return!!(null==n?0:n.length)&&a(n,e,0)>-1}},function(n,e,t){var a=t(226),r=t(227),i=t(228);n.exports=function(n,e,t){return e==e?i(n,e,t):a(n,r,t)}},function(n,e){n.exports=function(n,e,t,a){for(var r=n.length,i=t+(a?1:-1);a?i--:++i<r;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var a=t-1,r=n.length;++a<r;)if(n[a]===e)return a;return-1}},function(n,e){n.exports=function(n,e,t){for(var a=-1,r=null==n?0:n.length;++a<r;)if(t(e,n[a]))return!0;return!1}},function(n,e,t){var a=t(81),r=t(231),i=t(37),s=a&&1/i(new a([,-0]))[1]==1/0?function(n){return new a(n)}:r;n.exports=s},function(n,e){n.exports=function(){}},function(n,e,t){var a=t(80),r=t(12);n.exports=function(n){return r(n)&&a(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(87)},function(n,e,t){"use strict";t(88)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(89)},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.4
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var a=Object.freeze({}),r=Array.isArray;function i(n){return null==n}function s(n){return null!=n}function o(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function d(n){return null!==n&&"object"==typeof n}var p=Object.prototype.toString;function m(n){return"[object Object]"===p.call(n)}function u(n){return"[object RegExp]"===p.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function f(n){return s(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||m(n)&&n.toString===p?JSON.stringify(n,null,2):String(n)}function b(n){var e=parseFloat(n);return isNaN(e)?n:e}function y(n,e){for(var t=Object.create(null),a=n.split(","),r=0;r<a.length;r++)t[a[r]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}y("slot,component",!0);var v=y("key,ref,slot,slot-scope,is");function _(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var x=Object.prototype.hasOwnProperty;function k(n,e){return x.call(n,e)}function S(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var w=/-(\w)/g,E=S((function(n){return n.replace(w,(function(n,e){return e?e.toUpperCase():""}))})),T=S((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),I=/\B([A-Z])/g,A=S((function(n){return n.replace(I,"-$1").toLowerCase()}));var j=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var a=arguments.length;return a?a>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function z(n,e){e=e||0;for(var t=n.length-e,a=new Array(t);t--;)a[t]=n[t+e];return a}function O(n,e){for(var t in e)n[t]=e[t];return n}function C(n){for(var e={},t=0;t<n.length;t++)n[t]&&O(e,n[t]);return e}function D(n,e,t){}var N=function(n,e,t){return!1},L=function(n){return n};function M(n,e){if(n===e)return!0;var t=d(n),a=d(e);if(!t||!a)return!t&&!a&&String(n)===String(e);try{var r=Array.isArray(n),i=Array.isArray(e);if(r&&i)return n.length===e.length&&n.every((function(n,t){return M(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(r||i)return!1;var s=Object.keys(n),o=Object.keys(e);return s.length===o.length&&s.every((function(t){return M(n[t],e[t])}))}catch(n){return!1}}function R(n,e){for(var t=0;t<n.length;t++)if(M(n[t],e))return t;return-1}function q(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function P(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var B=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:D,parsePlatformTagName:L,mustUseProp:N,async:!0,_lifecycleHooks:F},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function G(n,e,t,a){Object.defineProperty(n,e,{value:t,enumerable:!!a,writable:!0,configurable:!0})}var W=new RegExp("[^".concat(H.source,".$_\\d]"));var Q="__proto__"in{},Y="undefined"!=typeof window,V=Y&&window.navigator.userAgent.toLowerCase(),J=V&&/msie|trident/.test(V),X=V&&V.indexOf("msie 9.0")>0,K=V&&V.indexOf("edge/")>0;V&&V.indexOf("android");var Z=V&&/iphone|ipad|ipod|ios/.test(V);V&&/chrome\/\d+/.test(V),V&&/phantomjs/.test(V);var nn,en=V&&V.match(/firefox\/(\d+)/),tn={}.watch,an=!1;if(Y)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){an=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var sn=function(){return void 0===nn&&(nn=!Y&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},on=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,dn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function mn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var un=D,hn=0,fn=function(){function n(){this.id=hn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){_(this.subs,n)},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.slice();for(var t=0,a=e.length;t<a;t++){e[t].update()}},n}();fn.target=null;var gn=[];function bn(n){gn.push(n),fn.target=n}function yn(){gn.pop(),fn.target=gn[gn.length-1]}var vn=function(){function n(n,e,t,a,r,i,s,o){this.tag=n,this.data=e,this.children=t,this.text=a,this.elm=r,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),_n=function(n){void 0===n&&(n="");var e=new vn;return e.text=n,e.isComment=!0,e};function xn(n){return new vn(void 0,void 0,void 0,String(n))}function kn(n){var e=new vn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var Sn=Array.prototype,wn=Object.create(Sn);function En(n){return Tn(n,!0),G(n,"__v_isShallow",!0),n}function Tn(n,e){if(!In(n)){ft(n,e,sn());0}}function In(n){return!(!n||!n.__v_isReadonly)}["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=Sn[n];G(wn,n,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r,i=e.apply(this,t),s=this.__ob__;switch(n){case"push":case"unshift":r=t;break;case"splice":r=t.slice(2)}return r&&s.observeArray(r),s.dep.notify(),i}))}));function An(n){return!(!n||!0!==n.__v_isRef)}function jn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){return function(n){return An(n)?n.value:n}(e[t])},set:function(n){var a=e[t];An(a)&&!An(n)?a.value=n:e[t]=n}})}var zn=new cn;function On(n){return function n(e,t){var a,i,s=r(e);if(!s&&!d(e)||Object.isFrozen(e)||e instanceof vn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(s)for(a=e.length;a--;)n(e[a],t);else for(i=Object.keys(e),a=i.length;a--;)n(e[i[a]],t)}(n,zn),zn.clear(),n}var Cn=S((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),a="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=a?n.slice(1):n,once:t,capture:a,passive:e}}));function Dn(n,e){function t(){var n=t.fns;if(!r(n))return Ve(n,null,arguments,e,"v-on handler");for(var a=n.slice(),i=0;i<a.length;i++)Ve(a[i],null,arguments,e,"v-on handler")}return t.fns=n,t}function Nn(n,e,t,a,r,s){var l,c,d,p;for(l in n)c=n[l],d=e[l],p=Cn(l),i(c)||(i(d)?(i(c.fns)&&(c=n[l]=Dn(c,s)),o(p.once)&&(c=n[l]=r(p.name,c,p.capture)),t(p.name,c,p.capture,p.passive,p.params)):c!==d&&(d.fns=c,n[l]=d));for(l in e)i(n[l])&&a((p=Cn(l)).name,e[l],p.capture)}function Ln(n,e,t){var a;n instanceof vn&&(n=n.data.hook||(n.data.hook={}));var r=n[e];function l(){t.apply(this,arguments),_(a.fns,l)}i(r)?a=Dn([l]):s(r.fns)&&o(r.merged)?(a=r).fns.push(l):a=Dn([r,l]),a.merged=!0,n[e]=a}function Mn(n,e,t,a,r){if(s(e)){if(k(e,t))return n[t]=e[t],r||delete e[t],!0;if(k(e,a))return n[t]=e[a],r||delete e[a],!0}return!1}function Rn(n){return l(n)?[xn(n)]:r(n)?function n(e,t){var a,c,d,p,m=[];for(a=0;a<e.length;a++)i(c=e[a])||"boolean"==typeof c||(d=m.length-1,p=m[d],r(c)?c.length>0&&(qn((c=n(c,"".concat(t||"","_").concat(a)))[0])&&qn(p)&&(m[d]=xn(p.text+c[0].text),c.shift()),m.push.apply(m,c)):l(c)?qn(p)?m[d]=xn(p.text+c):""!==c&&m.push(xn(c)):qn(c)&&qn(p)?m[d]=xn(p.text+c.text):(o(e._isVList)&&s(c.tag)&&i(c.key)&&s(t)&&(c.key="__vlist".concat(t,"_").concat(a,"__")),m.push(c)));return m}(n):void 0}function qn(n){return s(n)&&s(n.text)&&!1===n.isComment}function Pn(n,e){if(pn){var t=pn._provided,a=pn.$parent&&pn.$parent._provided;a===t&&(t=pn._provided=Object.create(a)),t[n]=e}else 0}function Bn(n,e){if(n){for(var t=Object.create(null),a=dn?Reflect.ownKeys(n):Object.keys(n),r=0;r<a.length;r++){var i=a[r];if("__ob__"!==i){var s=n[i].from;if(s in e._provided)t[i]=e._provided[s];else if("default"in n[i]){var o=n[i].default;t[i]=c(o)?o.call(e):o}else 0}}return t}}function Fn(n,e){if(!n||!n.length)return{};for(var t={},a=0,r=n.length;a<r;a++){var i=n[a],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==e&&i.fnContext!==e||!s||null==s.slot)(t.default||(t.default=[])).push(i);else{var o=s.slot,l=t[o]||(t[o]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var c in t)t[c].every($n)&&delete t[c];return t}function $n(n){return n.isComment&&!n.asyncFactory||" "===n.text}function Hn(n){return n.isComment&&n.asyncFactory}function Un(n,e,t,r){var i,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&r&&r!==a&&l===r.$key&&!s&&!r.$hasNormal)return r;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=Gn(n,t,c,e[c]))}else i={};for(var d in t)d in i||(i[d]=Wn(t,d));return e&&Object.isExtensible(e)&&(e._normalized=i),G(i,"$stable",o),G(i,"$key",l),G(i,"$hasNormal",s),i}function Gn(n,e,t,a){var i=function(){var e=pn;mn(n);var t=arguments.length?a.apply(null,arguments):a({}),i=(t=t&&"object"==typeof t&&!r(t)?[t]:Rn(t))&&t[0];return mn(e),t&&(!i||1===t.length&&i.isComment&&!Hn(i))?void 0:t};return a.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function Wn(n,e){return function(){return n[e]}}function Qn(n,e){var t,a,i,o,l=null;if(r(n)||"string"==typeof n)for(l=new Array(n.length),t=0,a=n.length;t<a;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(d(n))if(dn&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),p=c.next();!p.done;)l.push(e(p.value,l.length)),p=c.next()}else for(i=Object.keys(n),l=new Array(i.length),t=0,a=i.length;t<a;t++)o=i[t],l[t]=e(n[o],o,t);return s(l)||(l=[]),l._isVList=!0,l}function Yn(n,e,t,a){var r,i=this.$scopedSlots[n];i?(t=t||{},a&&(t=O(O({},a),t)),r=i(t)||(c(e)?e():e)):r=this.$slots[n]||(c(e)?e():e);var s=t&&t.slot;return s?this.$createElement("template",{slot:s},r):r}function Vn(n){return It(this.$options,"filters",n,!0)||L}function Jn(n,e){return r(n)?-1===n.indexOf(e):n!==e}function Xn(n,e,t,a,r){var i=$.keyCodes[e]||t;return r&&a&&!$.keyCodes[e]?Jn(r,a):i?Jn(i,n):a?A(a)!==e:void 0===n}function Kn(n,e,t,a,i){if(t)if(d(t)){r(t)&&(t=C(t));var s=void 0,o=function(r){if("class"===r||"style"===r||v(r))s=n;else{var o=n.attrs&&n.attrs.type;s=a||$.mustUseProp(e,o,r)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=E(r),c=A(r);l in s||c in s||(s[r]=t[r],i&&((n.on||(n.on={}))["update:".concat(r)]=function(n){t[r]=n}))};for(var l in t)o(l)}else;return n}function Zn(n,e){var t=this._staticTrees||(this._staticTrees=[]),a=t[n];return a&&!e||ee(a=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),a}function ne(n,e,t){return ee(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ee(n,e,t){if(r(n))for(var a=0;a<n.length;a++)n[a]&&"string"!=typeof n[a]&&te(n[a],"".concat(e,"_").concat(a),t);else te(n,e,t)}function te(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function ae(n,e){if(e)if(m(e)){var t=n.on=n.on?O({},n.on):{};for(var a in e){var r=t[a],i=e[a];t[a]=r?[].concat(r,i):i}}else;return n}function re(n,e,t,a){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var s=n[i];r(s)?re(s,e,t):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return a&&(e.$key=a),e}function ie(n,e){for(var t=0;t<e.length;t+=2){var a=e[t];"string"==typeof a&&a&&(n[e[t]]=e[t+1])}return n}function se(n,e){return"string"==typeof n?e+n:n}function oe(n){n._o=ne,n._n=b,n._s=g,n._l=Qn,n._t=Yn,n._q=M,n._i=R,n._m=Zn,n._f=Vn,n._k=Xn,n._b=Kn,n._v=xn,n._e=_n,n._u=re,n._g=ae,n._d=ie,n._p=se}function le(n,e,t,i,s){var l,c=this,d=s.options;k(i,"_uid")?(l=Object.create(i))._original=i:(l=i,i=i._original);var p=o(d._compiled),m=!p;this.data=n,this.props=e,this.children=t,this.parent=i,this.listeners=n.on||a,this.injections=Bn(d.inject,i),this.slots=function(){return c.$slots||Un(i,n.scopedSlots,c.$slots=Fn(t,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Un(i,n.scopedSlots,this.slots())}}),p&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=Un(i,n.scopedSlots,this.$slots)),d._scopeId?this._c=function(n,e,t,a){var s=fe(l,n,e,t,a,m);return s&&!r(s)&&(s.fnScopeId=d._scopeId,s.fnContext=i),s}:this._c=function(n,e,t,a){return fe(l,n,e,t,a,m)}}function ce(n,e,t,a,r){var i=kn(n);return i.fnContext=t,i.fnOptions=a,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function de(n,e){for(var t in e)n[E(t)]=e[t]}oe(le.prototype);var pe={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;pe.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},a=n.data.inlineTemplate;s(a)&&(t.render=a.render,t.staticRenderFns=a.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ae)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,i){0;var s=r.data.scopedSlots,o=n.$scopedSlots,l=!!(s&&!s.$stable||o!==a&&!o.$stable||s&&n.$scopedSlots.$key!==s.$key||!s&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||l),d=n.$vnode;n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r);n.$options._renderChildren=i;var p=r.data.attrs||a;n._attrsProxy&&be(n._attrsProxy,p,d.data&&d.data.attrs||a,n)&&(c=!0);if(n.$attrs=p,n.$listeners=t||a,e&&n.$options.props){mt(!1);for(var m=n._props,u=n.$options._propKeys||[],h=0;h<u.length;h++){var f=u[h],g=n.$options.props;m[f]=At(f,g,e,n)}mt(!0),n.$options.propsData=e}t=t||a;var b=n.$options._parentListeners;n.$options._parentListeners=t,Ie(n,t,b),c&&(n.$slots=Fn(i,r.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,a=n.componentInstance;a._isMounted||(a._isMounted=!0,Ce(a,"mounted")),n.data.keepAlive&&(t._isMounted?((e=a)._inactive=!1,Ne.push(e)):Oe(a,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,ze(e)))return;if(!e._inactive){e._inactive=!0;for(var a=0;a<e.$children.length;a++)n(e.$children[a]);Ce(e,"deactivated")}}(e,!0):e.$destroy())}},me=Object.keys(pe);function ue(n,e,t,l,c){if(!i(n)){var p=t.$options._base;if(d(n)&&(n=p.extend(n)),"function"==typeof n){var m;if(i(n.cid)&&void 0===(n=function(n,e){if(o(n.error)&&s(n.errorComp))return n.errorComp;if(s(n.resolved))return n.resolved;var t=xe;t&&s(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(o(n.loading)&&s(n.loadingComp))return n.loadingComp;if(t&&!s(n.owners)){var a=n.owners=[t],r=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return _(a,t)}));var p=function(n){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate();n&&(a.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},m=q((function(t){n.resolved=ke(t,e),r?a.length=0:p(!0)})),u=q((function(e){s(n.errorComp)&&(n.error=!0,p(!0))})),h=n(m,u);return d(h)&&(f(h)?i(n.resolved)&&h.then(m,u):f(h.component)&&(h.component.then(m,u),s(h.error)&&(n.errorComp=ke(h.error,e)),s(h.loading)&&(n.loadingComp=ke(h.loading,e),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,p(!1))}),h.delay||200)),s(h.timeout)&&(c=setTimeout((function(){c=null,i(n.resolved)&&u(null)}),h.timeout)))),r=!1,n.loading?n.loadingComp:n.resolved}}(m=n,p)))return function(n,e,t,a,r){var i=_n();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:a,tag:r},i}(m,e,t,l,c);e=e||{},$t(n),s(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",a=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),o=i[a],l=e.model.callback;s(o)?(r(o)?-1===o.indexOf(l):o!==l)&&(i[a]=[l].concat(o)):i[a]=l}(n.options,e);var u=function(n,e,t){var a=e.options.props;if(!i(a)){var r={},o=n.attrs,l=n.props;if(s(o)||s(l))for(var c in a){var d=A(c);Mn(r,l,c,d,!0)||Mn(r,o,c,d,!1)}return r}}(e,n);if(o(n.options.functional))return function(n,e,t,i,o){var l=n.options,c={},d=l.props;if(s(d))for(var p in d)c[p]=At(p,d,e||a);else s(t.attrs)&&de(c,t.attrs),s(t.props)&&de(c,t.props);var m=new le(t,c,o,i,n),u=l.render.call(null,m._c,m);if(u instanceof vn)return ce(u,t,m.parent,l,m);if(r(u)){for(var h=Rn(u)||[],f=new Array(h.length),g=0;g<h.length;g++)f[g]=ce(h[g],t,m.parent,l,m);return f}}(n,u,e,t,l);var h=e.on;if(e.on=e.nativeOn,o(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<me.length;t++){var a=me[t],r=e[a],i=pe[a];r===i||r&&r._merged||(e[a]=r?he(i,r):i)}}(e);var b=n.options.name||c;return new vn("vue-component-".concat(n.cid).concat(b?"-".concat(b):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:u,listeners:h,tag:c,children:l},m)}}}function he(n,e){var t=function(t,a){n(t,a),e(t,a)};return t._merged=!0,t}function fe(n,e,t,a,p,m){return(r(t)||l(t))&&(p=a,a=t,t=void 0),o(m)&&(p=2),function(n,e,t,a,l){if(s(t)&&s(t.__ob__))return _n();s(t)&&s(t.is)&&(e=t.is);if(!e)return _n();0;r(a)&&c(a[0])&&((t=t||{}).scopedSlots={default:a[0]},a.length=0);2===l?a=Rn(a):1===l&&(a=function(n){for(var e=0;e<n.length;e++)if(r(n[e]))return Array.prototype.concat.apply([],n);return n}(a));var p,m;if("string"==typeof e){var u=void 0;m=n.$vnode&&n.$vnode.ns||$.getTagNamespace(e),p=$.isReservedTag(e)?new vn($.parsePlatformTagName(e),t,a,void 0,void 0,n):t&&t.pre||!s(u=It(n.$options,"components",e))?new vn(e,t,a,void 0,void 0,n):ue(u,t,n,a,e)}else p=ue(e,t,n,a);return r(p)?p:s(p)?(s(m)&&function n(e,t,a){e.ns=t,"foreignObject"===e.tag&&(t=void 0,a=!0);if(s(e.children))for(var r=0,l=e.children.length;r<l;r++){var c=e.children[r];s(c.tag)&&(i(c.ns)||o(a)&&"svg"!==c.tag)&&n(c,t,a)}}(p,m),s(t)&&function(n){d(n.style)&&On(n.style);d(n.class)&&On(n.class)}(t),p):_n()}(n,e,t,a,p)}function ge(n){return{get attrs(){return function(n){if(!n._attrsProxy){var e=n._attrsProxy={};G(e,"_v_attr_proxy",!0),be(e,n.$attrs,a,n)}return n._attrsProxy}(n)},get slots(){return function(n){n._slotsProxy||ve(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:j(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return jn(n,e,t)}))}}}function be(n,e,t,a){var r=!1;for(var i in e)i in n?e[i]!==t[i]&&(r=!0):(r=!0,ye(n,i,a));for(var i in n)i in e||(r=!0,delete n[i]);return r}function ye(n,e,t){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t.$attrs[e]}})}function ve(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var _e,xe=null;function ke(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),d(n)?e.extend(n):n}function Se(n){if(r(n))for(var e=0;e<n.length;e++){var t=n[e];if(s(t)&&(s(t.componentOptions)||Hn(t)))return t}}function we(n,e){_e.$on(n,e)}function Ee(n,e){_e.$off(n,e)}function Te(n,e){var t=_e;return function a(){var r=e.apply(null,arguments);null!==r&&t.$off(n,a)}}function Ie(n,e,t){_e=n,Nn(e,t||{},we,Ee,Te,n),_e=void 0}var Ae=null;function je(n){var e=Ae;return Ae=n,function(){Ae=e}}function ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Oe(n,e){if(e){if(n._directInactive=!1,ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Oe(n.$children[t]);Ce(n,"activated")}}function Ce(n,e,t){bn();var a=pn;mn(n);var r=n.$options[e],i="".concat(e," hook");if(r)for(var s=0,o=r.length;s<o;s++)Ve(r[s],n,t||null,n,i);n._hasHookEvent&&n.$emit("hook:"+e),mn(a),yn()}var De=[],Ne=[],Le={},Me=!1,Re=!1,qe=0;var Pe,Be=0,Fe=Date.now;if(Y&&!J){var $e=window.performance;$e&&"function"==typeof $e.now&&Fe()>document.createEvent("Event").timeStamp&&(Fe=function(){return $e.now()})}function He(){var n,e;for(Be=Fe(),Re=!0,De.sort((function(n,e){return n.id-e.id})),qe=0;qe<De.length;qe++)(n=De[qe]).before&&n.before(),e=n.id,Le[e]=null,n.run();var t=Ne.slice(),a=De.slice();qe=De.length=Ne.length=0,Le={},Me=Re=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Oe(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],a=t.vm;a&&a._watcher===t&&a._isMounted&&!a._isDestroyed&&Ce(a,"updated")}}(a),on&&$.devtools&&on.emit("flush")}function Ue(n){var e=n.id;if(null==Le[e]&&(n!==fn.target||!n.noRecurse)){if(Le[e]=!0,Re){for(var t=De.length-1;t>qe&&De[t].id>n.id;)t--;De.splice(t+1,0,n)}else De.push(n);Me||(Me=!0,ot(He))}}var Ge=function(){function n(n){void 0===n&&(n=!1),this.active=!0,this.effects=[],this.cleanups=[],!n&&Pe&&(this.parent=Pe,this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Pe;try{return Pe=this,n()}finally{Pe=e}}else 0},n.prototype.on=function(){Pe=this},n.prototype.off=function(){Pe=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(this.parent&&!n){var a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}},n}();var We=0,Qe=function(){function n(n,e,t,a,r){var i,s;i=this,void 0===(s=Pe||(n?n._scope:void 0))&&(s=Pe),s&&s.active&&s.effects.push(i),(this.vm=n)&&r&&(n._watcher=this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++We,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!W.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;bn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Ye(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&On(n),yn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ue(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||d(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ve(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");function Ye(n,e,t){bn();try{if(e)for(var a=e;a=a.$parent;){var r=a.$options.errorCaptured;if(r)for(var i=0;i<r.length;i++)try{if(!1===r[i].call(a,n,e,t))return}catch(n){Je(n,a,"errorCaptured hook")}}Je(n,e,t)}finally{yn()}}function Ve(n,e,t,a,r){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(n){return Ye(n,a,r+" (Promise/async)")})),i._handled=!0)}catch(n){Ye(n,a,r)}return i}function Je(n,e,t){if($.errorHandler)try{return $.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Xe(e,null,"config.errorHandler")}Xe(n,e,t)}function Xe(n,e,t){if(!Y||"undefined"==typeof console)throw n;console.error(n)}var Ke,Ze=!1,nt=[],et=!1;function tt(){et=!1;var n=nt.slice(0);nt.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var at=Promise.resolve();Ke=function(){at.then(tt),Z&&setTimeout(D)},Ze=!0}else if(J||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ke="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(tt)}:function(){setTimeout(tt,0)};else{var rt=1,it=new MutationObserver(tt),st=document.createTextNode(String(rt));it.observe(st,{characterData:!0}),Ke=function(){rt=(rt+1)%2,st.data=String(rt)},Ze=!0}function ot(n,e){var t;if(nt.push((function(){if(n)try{n.call(e)}catch(n){Ye(n,e,"nextTick")}else t&&t(e)})),et||(et=!0,Ke()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function lt(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var a=n.$options;a[e]=St(a[e],t)}(t,n,e)}}lt("beforeMount"),lt("mounted"),lt("beforeUpdate"),lt("updated"),lt("beforeDestroy"),lt("destroyed"),lt("errorCaptured"),lt("activated"),lt("deactivated"),lt("serverPrefetch"),lt("renderTracked"),lt("renderTriggered");var ct=Object.getOwnPropertyNames(wn),dt={},pt=!0;function mt(n){pt=n}var ut={notify:D,depend:D,addSub:D,removeSub:D},ht=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?ut:new fn,this.vmCount=0,G(n,"__ob__",this),r(n)){if(!t)if(Q)n.__proto__=wn;else for(var a=0,i=ct.length;a<i;a++){G(n,o=ct[a],wn[o])}e||this.observeArray(n)}else{var s=Object.keys(n);for(a=0;a<s.length;a++){var o;gt(n,o=s[a],dt,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)ft(n[e],!1,this.mock)},n}();function ft(n,e,t){var a;if(!(!d(n)||An(n)||n instanceof vn))return k(n,"__ob__")&&n.__ob__ instanceof ht?a=n.__ob__:!pt||!t&&sn()||!r(n)&&!m(n)||!Object.isExtensible(n)||n.__v_skip||(a=new ht(n,e,t)),a}function gt(n,e,t,a,i,s){var o=new fn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var c=l&&l.get,d=l&&l.set;c&&!d||t!==dt&&2!==arguments.length||(t=n[e]);var p=!i&&ft(t,!1,s);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return fn.target&&(o.depend(),p&&(p.dep.depend(),r(e)&&vt(e))),An(e)&&!i?e.value:e},set:function(e){var a=c?c.call(n):t;if(P(a,e)){if(d)d.call(n,e);else{if(c)return;if(An(a)&&!An(e))return void(a.value=e);t=e}p=!i&&ft(e,!1,s),o.notify()}}}),o}}function bt(n,e,t){if(!In(n)){var a=n.__ob__;return r(n)&&h(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),a&&!a.shallow&&a.mock&&ft(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||a&&a.vmCount?t:a?(gt(a.value,e,t,void 0,a.shallow,a.mock),a.dep.notify(),t):(n[e]=t,t)}}function yt(n,e){if(r(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||In(n)||k(n,e)&&(delete n[e],t&&t.dep.notify())}}function vt(n){for(var e=void 0,t=0,a=n.length;t<a;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),r(e)&&vt(e)}var _t=$.optionMergeStrategies;function xt(n,e){if(!e)return n;for(var t,a,r,i=dn?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)"__ob__"!==(t=i[s])&&(a=n[t],r=e[t],k(n,t)?a!==r&&m(a)&&m(r)&&xt(a,r):bt(n,t,r));return n}function kt(n,e,t){return t?function(){var a=c(e)?e.call(t,t):e,r=c(n)?n.call(t,t):n;return a?xt(a,r):r}:e?n?function(){return xt(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function St(n,e){var t=e?n?n.concat(e):r(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function wt(n,e,t,a){var r=Object.create(n||null);return e?O(r,e):r}_t.data=function(n,e,t){return t?kt(n,e,t):e&&"function"!=typeof e?n:kt(n,e)},F.forEach((function(n){_t[n]=St})),B.forEach((function(n){_t[n+"s"]=wt})),_t.watch=function(n,e,t,a){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var s in O(i,n),e){var o=i[s],l=e[s];o&&!r(o)&&(o=[o]),i[s]=o?o.concat(l):r(l)?l:[l]}return i},_t.props=_t.methods=_t.inject=_t.computed=function(n,e,t,a){if(!n)return e;var r=Object.create(null);return O(r,n),e&&O(r,e),r},_t.provide=kt;var Et=function(n,e){return void 0===e?n:e};function Tt(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var a,i,s={};if(r(t))for(a=t.length;a--;)"string"==typeof(i=t[a])&&(s[E(i)]={type:null});else if(m(t))for(var o in t)i=t[o],s[E(o)]=m(i)?i:{type:i};else 0;n.props=s}}(e),function(n,e){var t=n.inject;if(t){var a=n.inject={};if(r(t))for(var i=0;i<t.length;i++)a[t[i]]={from:t[i]};else if(m(t))for(var s in t){var o=t[s];a[s]=m(o)?O({from:s},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var a=e[t];c(a)&&(e[t]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(n=Tt(n,e.extends,t)),e.mixins))for(var a=0,i=e.mixins.length;a<i;a++)n=Tt(n,e.mixins[a],t);var s,o={};for(s in n)l(s);for(s in e)k(n,s)||l(s);function l(a){var r=_t[a]||Et;o[a]=r(n[a],e[a],t,a)}return o}function It(n,e,t,a){if("string"==typeof t){var r=n[e];if(k(r,t))return r[t];var i=E(t);if(k(r,i))return r[i];var s=T(i);return k(r,s)?r[s]:r[t]||r[i]||r[s]}}function At(n,e,t,a){var r=e[n],i=!k(t,n),s=t[n],o=Ct(Boolean,r.type);if(o>-1)if(i&&!k(r,"default"))s=!1;else if(""===s||s===A(n)){var l=Ct(String,r.type);(l<0||o<l)&&(s=!0)}if(void 0===s){s=function(n,e,t){if(!k(e,"default"))return;var a=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(a)&&"Function"!==zt(e.type)?a.call(n):a}(a,r,n);var d=pt;mt(!0),ft(s),mt(d)}return s}var jt=/^\s*function (\w+)/;function zt(n){var e=n&&n.toString().match(jt);return e?e[1]:""}function Ot(n,e){return zt(n)===zt(e)}function Ct(n,e){if(!r(e))return Ot(e,n)?0:-1;for(var t=0,a=e.length;t<a;t++)if(Ot(e[t],n))return t;return-1}var Dt={enumerable:!0,configurable:!0,get:D,set:D};function Nt(n,e,t){Dt.get=function(){return this[e][t]},Dt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Dt)}function Lt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},a=n._props=En({}),r=n.$options._propKeys=[];n.$parent&&mt(!1);var i=function(i){r.push(i);var s=At(i,e,t,n);gt(a,i,s),i in n||Nt(n,"_props",i)};for(var s in e)i(s);mt(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var a=n._setupContext=ge(n);mn(n),bn();var r=Ve(t,null,[n._props||En({}),a],n,"setup");if(yn(),mn(),c(r))e.render=r;else if(d(r))if(n._setupState=r,r.__sfc){var i=n._setupProxy={};for(var s in r)"__sfc"!==s&&jn(i,r,s)}else for(var s in r)U(s)||jn(n,r,s);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?D:j(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;m(e=n._data=c(e)?function(n,e){bn();try{return n.call(e,e)}catch(n){return Ye(n,e,"data()"),{}}finally{yn()}}(e,n):e||{})||(e={});var t=Object.keys(e),a=n.$options.props,r=(n.$options.methods,t.length);for(;r--;){var i=t[r];0,a&&k(a,i)||U(i)||Nt(n,"_data",i)}var s=ft(e);s&&s.vmCount++}(n);else{var t=ft(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),a=sn();for(var r in e){var i=e[r],s=c(i)?i:i.get;0,a||(t[r]=new Qe(n,s||D,D,Mt)),r in n||Rt(n,r,i)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var a=e[t];if(r(a))for(var i=0;i<a.length;i++)Bt(n,t,a[i]);else Bt(n,t,a)}}(n,e.watch)}var Mt={lazy:!0};function Rt(n,e,t){var a=!sn();c(t)?(Dt.get=a?qt(e):Pt(t),Dt.set=D):(Dt.get=t.get?a&&!1!==t.cache?qt(e):Pt(t.get):D,Dt.set=t.set||D),Object.defineProperty(n,e,Dt)}function qt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),fn.target&&e.depend(),e.value}}function Pt(n){return function(){return n.call(this,this)}}function Bt(n,e,t,a){return m(t)&&(a=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,a)}var Ft=0;function $t(n){var e=n.options;if(n.super){var t=$t(n.super);if(t!==n.superOptions){n.superOptions=t;var a=function(n){var e,t=n.options,a=n.sealedOptions;for(var r in t)t[r]!==a[r]&&(e||(e={}),e[r]=t[r]);return e}(n);a&&O(n.extendOptions,a),(e=n.options=Tt(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Ht(n){this._init(n)}function Ut(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,a=t.cid,r=n._Ctor||(n._Ctor={});if(r[a])return r[a];var i=n.name||t.options.name;var s=function(n){this._init(n)};return(s.prototype=Object.create(t.prototype)).constructor=s,s.cid=e++,s.options=Tt(t.options,n),s.super=t,s.options.props&&function(n){var e=n.options.props;for(var t in e)Nt(n.prototype,"_props",t)}(s),s.options.computed&&function(n){var e=n.options.computed;for(var t in e)Rt(n.prototype,t,e[t])}(s),s.extend=t.extend,s.mixin=t.mixin,s.use=t.use,B.forEach((function(n){s[n]=t[n]})),i&&(s.options.components[i]=s),s.superOptions=t.options,s.extendOptions=n,s.sealedOptions=O({},s.options),r[a]=s,s}}function Gt(n){return n&&(n.Ctor.options.name||n.tag)}function Wt(n,e){return r(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!u(n)&&n.test(e)}function Qt(n,e){var t=n.cache,a=n.keys,r=n._vnode;for(var i in t){var s=t[i];if(s){var o=s.name;o&&!e(o)&&Yt(t,i,a,r)}}}function Yt(n,e,t,a){var r=n[e];!r||a&&r.tag===a.tag||r.componentInstance.$destroy(),n[e]=null,_(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Ft++,e._isVue=!0,e.__v_skip=!0,e._scope=new Ge(!0),n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),a=e._parentVnode;t.parent=e.parent,t._parentVnode=a;var r=a.componentOptions;t.propsData=r.propsData,t._parentListeners=r.listeners,t._renderChildren=r.children,t._componentTag=r.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Tt($t(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ie(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=Fn(e._renderChildren,r),n.$scopedSlots=a,n._c=function(e,t,a,r){return fe(n,e,t,a,r,!1)},n.$createElement=function(e,t,a,r){return fe(n,e,t,a,r,!0)};var i=t&&t.data;gt(n,"$attrs",i&&i.attrs||a,null,!0),gt(n,"$listeners",e._parentListeners||a,null,!0)}(e),Ce(e,"beforeCreate"),function(n){var e=Bn(n.$options.inject,n);e&&(mt(!1),Object.keys(e).forEach((function(t){gt(n,t,e[t])})),mt(!0))}(e),Lt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!d(t))return;var a=dn?Reflect.ownKeys(t):Object.keys(t);mn(n);for(var r=0;r<a.length;r++)Pn(a[r],t[a[r]]);mn()}}(e),Ce(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ht),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=bt,n.prototype.$delete=yt,n.prototype.$watch=function(n,e,t){if(m(e))return Bt(this,n,e,t);(t=t||{}).user=!0;var a=new Qe(this,n,e,t);if(t.immediate){var r='callback for immediate watcher "'.concat(a.expression,'"');bn(),Ve(e,this,[a.value],this,r),yn()}return function(){a.teardown()}}}(Ht),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var a=this;if(r(n))for(var i=0,s=n.length;i<s;i++)a.$on(n[i],t);else(a._events[n]||(a._events[n]=[])).push(t),e.test(n)&&(a._hasHookEvent=!0);return a},n.prototype.$once=function(n,e){var t=this;function a(){t.$off(n,a),e.apply(t,arguments)}return a.fn=e,t.$on(n,a),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(r(n)){for(var a=0,i=n.length;a<i;a++)t.$off(n[a],e);return t}var s,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?z(t):t;for(var a=z(arguments,1),r='event handler for "'.concat(n,'"'),i=0,s=t.length;i<s;i++)Ve(t[i],e,a,e,r)}return e}}(Ht),function(n){n.prototype._update=function(n,e){var t=this,a=t.$el,r=t._vnode,i=je(t);t._vnode=n,t.$el=r?t.__patch__(r,n):t.__patch__(t.$el,n,e,!1),i(),a&&(a.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){Ce(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||_(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),Ce(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Ht),function(n){oe(n.prototype),n.prototype.$nextTick=function(n){return ot(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,a=t.render,i=t._parentVnode;i&&(e.$scopedSlots=Un(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&ve(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{mn(e),xe=e,n=a.call(e._renderProxy,e.$createElement)}catch(t){Ye(t,e,"render"),n=e._vnode}finally{xe=null,mn()}return r(n)&&1===n.length&&(n=n[0]),n instanceof vn||(n=_n()),n.parent=i,n}}(Ht);var Vt=[String,RegExp,Array],Jt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Vt,exclude:Vt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,a=this.keyToCache;if(t){var r=t.tag,i=t.componentInstance,s=t.componentOptions;n[a]={name:Gt(s),tag:r,componentInstance:i},e.push(a),this.max&&e.length>parseInt(this.max)&&Yt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Yt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Qt(n,(function(n){return Wt(e,n)}))})),this.$watch("exclude",(function(e){Qt(n,(function(n){return!Wt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Se(n),t=e&&e.componentOptions;if(t){var a=Gt(t),r=this.include,i=this.exclude;if(r&&(!a||!Wt(r,a))||i&&a&&Wt(i,a))return e;var s=this.cache,o=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,_(o,l),o.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return $}};Object.defineProperty(n,"config",e),n.util={warn:un,extend:O,mergeOptions:Tt,defineReactive:gt},n.set=bt,n.delete=yt,n.nextTick=ot,n.observable=function(n){return ft(n),n},n.options=Object.create(null),B.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,O(n.options.components,Jt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=z(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Tt(this.options,n),this}}(n),Ut(n),function(n){B.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&m(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Ht),Object.defineProperty(Ht.prototype,"$isServer",{get:sn}),Object.defineProperty(Ht.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ht,"FunctionalRenderContext",{value:le}),Ht.version="2.7.4";var Xt=y("style,class"),Kt=y("input,textarea,option,select,progress"),Zt=y("contenteditable,draggable,spellcheck"),na=y("events,caret,typing,plaintext-only"),ea=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ta="http://www.w3.org/1999/xlink",aa=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},ra=function(n){return aa(n)?n.slice(6,n.length):""},ia=function(n){return null==n||!1===n};function sa(n){for(var e=n.data,t=n,a=n;s(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=oa(a.data,e));for(;s(t=t.parent);)t&&t.data&&(e=oa(e,t.data));return function(n,e){if(s(n)||s(e))return la(n,ca(e));return""}(e.staticClass,e.class)}function oa(n,e){return{staticClass:la(n.staticClass,e.staticClass),class:s(n.class)?[n.class,e.class]:e.class}}function la(n,e){return n?e?n+" "+e:n:e||""}function ca(n){return Array.isArray(n)?function(n){for(var e,t="",a=0,r=n.length;a<r;a++)s(e=ca(n[a]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):d(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var da={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},pa=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ma=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ua=function(n){return pa(n)||ma(n)};var ha=Object.create(null);var fa=y("text,number,password,search,email,tel,url");var ga=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(da[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),ba={create:function(n,e){ya(e)},update:function(n,e){n.data.ref!==e.data.ref&&(ya(n,!0),ya(e))},destroy:function(n){ya(n,!0)}};function ya(n,e){var t=n.data.ref;if(s(t)){var a=n.context,i=n.componentInstance||n.elm,o=e?null:i,l=e?void 0:i;if(c(t))Ve(t,a,[o],a,"template ref function");else{var d=n.data.refInFor,p="string"==typeof t||"number"==typeof t,m=An(t),u=a.$refs;if(p||m)if(d){var h=p?u[t]:t.value;e?r(h)&&_(h,i):r(h)?h.includes(i)||h.push(i):p?(u[t]=[i],va(a,t,u[t])):t.value=[i]}else if(p){if(e&&u[t]!==i)return;u[t]=l,va(a,t,o)}else if(m){if(e&&t.value!==i)return;t.value=o}else 0}}}function va(n,e,t){var a=n._setupState;a&&k(a,e)&&(An(a[e])?a[e].value=t:a[e]=t)}var _a=new vn("",{},[]),xa=["create","activate","update","remove","destroy"];function ka(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&s(n.data)===s(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,a=s(t=n.data)&&s(t=t.attrs)&&t.type,r=s(t=e.data)&&s(t=t.attrs)&&t.type;return a===r||fa(a)&&fa(r)}(n,e)||o(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function Sa(n,e,t){var a,r,i={};for(a=e;a<=t;++a)s(r=n[a].key)&&(i[r]=a);return i}var wa={create:Ea,update:Ea,destroy:function(n){Ea(n,_a)}};function Ea(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,a,r,i=n===_a,s=e===_a,o=Ia(n.data.directives,n.context),l=Ia(e.data.directives,e.context),c=[],d=[];for(t in l)a=o[t],r=l[t],a?(r.oldValue=a.value,r.oldArg=a.arg,ja(r,"update",e,n),r.def&&r.def.componentUpdated&&d.push(r)):(ja(r,"bind",e,n),r.def&&r.def.inserted&&c.push(r));if(c.length){var p=function(){for(var t=0;t<c.length;t++)ja(c[t],"inserted",e,n)};i?Ln(e,"insert",p):p()}d.length&&Ln(e,"postpatch",(function(){for(var t=0;t<d.length;t++)ja(d[t],"componentUpdated",e,n)}));if(!i)for(t in o)l[t]||ja(o[t],"unbind",n,n,s)}(n,e)}var Ta=Object.create(null);function Ia(n,e){var t,a,r=Object.create(null);if(!n)return r;for(t=0;t<n.length;t++)(a=n[t]).modifiers||(a.modifiers=Ta),r[Aa(a)]=a,e._setupState&&e._setupState.__sfc&&(a.def=a.def||It(e,"_setupState","v-"+a.name)),a.def=a.def||It(e.$options,"directives",a.name);return r}function Aa(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function ja(n,e,t,a,r){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,a,r)}catch(a){Ye(a,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var za=[ba,wa];function Oa(n,e){var t=e.componentOptions;if(!(s(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var a,r,l=e.elm,c=n.data.attrs||{},d=e.data.attrs||{};for(a in(s(d.__ob__)||o(d._v_attr_proxy))&&(d=e.data.attrs=O({},d)),d)r=d[a],c[a]!==r&&Ca(l,a,r,e.data.pre);for(a in(J||K)&&d.value!==c.value&&Ca(l,"value",d.value),c)i(d[a])&&(aa(a)?l.removeAttributeNS(ta,ra(a)):Zt(a)||l.removeAttribute(a))}}function Ca(n,e,t,a){a||n.tagName.indexOf("-")>-1?Da(n,e,t):ea(e)?ia(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Zt(e)?n.setAttribute(e,function(n,e){return ia(e)||"false"===e?"false":"contenteditable"===n&&na(e)?e:"true"}(e,t)):aa(e)?ia(t)?n.removeAttributeNS(ta,ra(e)):n.setAttributeNS(ta,e,t):Da(n,e,t)}function Da(n,e,t){if(ia(t))n.removeAttribute(e);else{if(J&&!X&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var a=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",a)};n.addEventListener("input",a),n.__ieph=!0}n.setAttribute(e,t)}}var Na={create:Oa,update:Oa};function La(n,e){var t=e.elm,a=e.data,r=n.data;if(!(i(a.staticClass)&&i(a.class)&&(i(r)||i(r.staticClass)&&i(r.class)))){var o=sa(e),l=t._transitionClasses;s(l)&&(o=la(o,ca(l))),o!==t._prevClass&&(t.setAttribute("class",o),t._prevClass=o)}}var Ma,Ra={create:La,update:La};function qa(n,e,t){var a=Ma;return function r(){var i=e.apply(null,arguments);null!==i&&Fa(n,r,t,a)}}var Pa=Ze&&!(en&&Number(en[1])<=53);function Ba(n,e,t,a){if(Pa){var r=Be,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=r||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}Ma.addEventListener(n,e,an?{capture:t,passive:a}:t)}function Fa(n,e,t,a){(a||Ma).removeEventListener(n,e._wrapper||e,t)}function $a(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},a=n.data.on||{};Ma=e.elm||n.elm,function(n){if(s(n.__r)){var e=J?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}s(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Nn(t,a,Ba,Fa,qa,e.context),Ma=void 0}}var Ha,Ua={create:$a,update:$a,destroy:function(n){return $a(n,_a)}};function Ga(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,a,r=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(s(c.__ob__)||o(c._v_attr_proxy))&&(c=e.data.domProps=O({},c)),l)t in c||(r[t]="");for(t in c){if(a=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),a===l[t])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===t&&"PROGRESS"!==r.tagName){r._value=a;var d=i(a)?"":String(a);Wa(r,d)&&(r.value=d)}else if("innerHTML"===t&&ma(r.tagName)&&i(r.innerHTML)){(Ha=Ha||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var p=Ha.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;p.firstChild;)r.appendChild(p.firstChild)}else if(a!==l[t])try{r[t]=a}catch(n){}}}}function Wa(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,a=n._vModifiers;if(s(a)){if(a.number)return b(t)!==b(e);if(a.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Qa={create:Ga,update:Ga},Ya=S((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var a=n.split(t);a.length>1&&(e[a[0].trim()]=a[1].trim())}})),e}));function Va(n){var e=Ja(n.style);return n.staticStyle?O(n.staticStyle,e):e}function Ja(n){return Array.isArray(n)?C(n):"string"==typeof n?Ya(n):n}var Xa,Ka=/^--/,Za=/\s*!important$/,nr=function(n,e,t){if(Ka.test(e))n.style.setProperty(e,t);else if(Za.test(t))n.style.setProperty(A(e),t.replace(Za,""),"important");else{var a=tr(e);if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.style[a]=t[r];else n.style[a]=t}},er=["Webkit","Moz","ms"],tr=S((function(n){if(Xa=Xa||document.createElement("div").style,"filter"!==(n=E(n))&&n in Xa)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<er.length;t++){var a=er[t]+e;if(a in Xa)return a}}));function ar(n,e){var t=e.data,a=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(a.staticStyle)&&i(a.style))){var r,o,l=e.elm,c=a.staticStyle,d=a.normalizedStyle||a.style||{},p=c||d,m=Ja(e.data.style)||{};e.data.normalizedStyle=s(m.__ob__)?O({},m):m;var u=function(n,e){var t,a={};if(e)for(var r=n;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(t=Va(r.data))&&O(a,t);(t=Va(n.data))&&O(a,t);for(var i=n;i=i.parent;)i.data&&(t=Va(i.data))&&O(a,t);return a}(e,!0);for(o in p)i(u[o])&&nr(l,o,"");for(o in u)(r=u[o])!==p[o]&&nr(l,o,null==r?"":r)}}var rr={create:ar,update:ar},ir=/\s+/;function sr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ir).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function or(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ir).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),a=" "+e+" ";t.indexOf(a)>=0;)t=t.replace(a," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function lr(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&O(e,cr(n.name||"v")),O(e,n),e}return"string"==typeof n?cr(n):void 0}}var cr=S((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),dr=Y&&!X,pr="transition",mr="transitionend",ur="animation",hr="animationend";dr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(pr="WebkitTransition",mr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ur="WebkitAnimation",hr="webkitAnimationEnd"));var fr=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function gr(n){fr((function(){fr(n)}))}function br(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),sr(n,e))}function yr(n,e){n._transitionClasses&&_(n._transitionClasses,e),or(n,e)}function vr(n,e,t){var a=xr(n,e),r=a.type,i=a.timeout,s=a.propCount;if(!r)return t();var o="transition"===r?mr:hr,l=0,c=function(){n.removeEventListener(o,d),t()},d=function(e){e.target===n&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),i+1),n.addEventListener(o,d)}var _r=/\b(transform|all)(,|$)/;function xr(n,e){var t,a=window.getComputedStyle(n),r=(a[pr+"Delay"]||"").split(", "),i=(a[pr+"Duration"]||"").split(", "),s=kr(r,i),o=(a[ur+"Delay"]||"").split(", "),l=(a[ur+"Duration"]||"").split(", "),c=kr(o,l),d=0,p=0;return"transition"===e?s>0&&(t="transition",d=s,p=i.length):"animation"===e?c>0&&(t="animation",d=c,p=l.length):p=(t=(d=Math.max(s,c))>0?s>c?"transition":"animation":null)?"transition"===t?i.length:l.length:0,{type:t,timeout:d,propCount:p,hasTransform:"transition"===t&&_r.test(a[pr+"Property"])}}function kr(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Sr(e)+Sr(n[t])})))}function Sr(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function wr(n,e){var t=n.elm;s(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var a=lr(n.data.transition);if(!i(a)&&!s(t._enterCb)&&1===t.nodeType){for(var r=a.css,o=a.type,l=a.enterClass,p=a.enterToClass,m=a.enterActiveClass,u=a.appearClass,h=a.appearToClass,f=a.appearActiveClass,g=a.beforeEnter,y=a.enter,v=a.afterEnter,_=a.enterCancelled,x=a.beforeAppear,k=a.appear,S=a.afterAppear,w=a.appearCancelled,E=a.duration,T=Ae,I=Ae.$vnode;I&&I.parent;)T=I.context,I=I.parent;var A=!T._isMounted||!n.isRootInsert;if(!A||k||""===k){var j=A&&u?u:l,z=A&&f?f:m,O=A&&h?h:p,C=A&&x||g,D=A&&c(k)?k:y,N=A&&S||v,L=A&&w||_,M=b(d(E)?E.enter:E);0;var R=!1!==r&&!X,P=Ir(D),B=t._enterCb=q((function(){R&&(yr(t,O),yr(t,z)),B.cancelled?(R&&yr(t,j),L&&L(t)):N&&N(t),t._enterCb=null}));n.data.show||Ln(n,"insert",(function(){var e=t.parentNode,a=e&&e._pending&&e._pending[n.key];a&&a.tag===n.tag&&a.elm._leaveCb&&a.elm._leaveCb(),D&&D(t,B)})),C&&C(t),R&&(br(t,j),br(t,z),gr((function(){yr(t,j),B.cancelled||(br(t,O),P||(Tr(M)?setTimeout(B,M):vr(t,o,B)))}))),n.data.show&&(e&&e(),D&&D(t,B)),R||P||B()}}}function Er(n,e){var t=n.elm;s(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var a=lr(n.data.transition);if(i(a)||1!==t.nodeType)return e();if(!s(t._leaveCb)){var r=a.css,o=a.type,l=a.leaveClass,c=a.leaveToClass,p=a.leaveActiveClass,m=a.beforeLeave,u=a.leave,h=a.afterLeave,f=a.leaveCancelled,g=a.delayLeave,y=a.duration,v=!1!==r&&!X,_=Ir(u),x=b(d(y)?y.leave:y);0;var k=t._leaveCb=q((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),v&&(yr(t,c),yr(t,p)),k.cancelled?(v&&yr(t,l),f&&f(t)):(e(),h&&h(t)),t._leaveCb=null}));g?g(S):S()}function S(){k.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),m&&m(t),v&&(br(t,l),br(t,p),gr((function(){yr(t,l),k.cancelled||(br(t,c),_||(Tr(x)?setTimeout(k,x):vr(t,o,k)))}))),u&&u(t,k),v||_||k())}}function Tr(n){return"number"==typeof n&&!isNaN(n)}function Ir(n){if(i(n))return!1;var e=n.fns;return s(e)?Ir(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Ar(n,e){!0!==e.data.show&&wr(e)}var jr=function(n){var e,t,a={},c=n.modules,d=n.nodeOps;for(e=0;e<xa.length;++e)for(a[xa[e]]=[],t=0;t<c.length;++t)s(c[t][xa[e]])&&a[xa[e]].push(c[t][xa[e]]);function p(n){var e=d.parentNode(n);s(e)&&d.removeChild(e,n)}function m(n,e,t,r,i,l,c){if(s(n.elm)&&s(l)&&(n=l[c]=kn(n)),n.isRootInsert=!i,!function(n,e,t,r){var i=n.data;if(s(i)){var l=s(n.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(n,!1),s(n.componentInstance))return u(n,e),h(t,n.elm,r),o(l)&&function(n,e,t,r){var i,o=n;for(;o.componentInstance;)if(o=o.componentInstance._vnode,s(i=o.data)&&s(i=i.transition)){for(i=0;i<a.activate.length;++i)a.activate[i](_a,o);e.push(o);break}h(t,n.elm,r)}(n,e,t,r),!0}}(n,e,t,r)){var p=n.data,m=n.children,g=n.tag;s(g)?(n.elm=n.ns?d.createElementNS(n.ns,g):d.createElement(g,n),v(n),f(n,m,e),s(p)&&b(n,e),h(t,n.elm,r)):o(n.isComment)?(n.elm=d.createComment(n.text),h(t,n.elm,r)):(n.elm=d.createTextNode(n.text),h(t,n.elm,r))}}function u(n,e){s(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(b(n,e),v(n)):(ya(n),e.push(n))}function h(n,e,t){s(n)&&(s(t)?d.parentNode(t)===n&&d.insertBefore(n,e,t):d.appendChild(n,e))}function f(n,e,t){if(r(e)){0;for(var a=0;a<e.length;++a)m(e[a],t,n.elm,null,!0,e,a)}else l(n.text)&&d.appendChild(n.elm,d.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return s(n.tag)}function b(n,t){for(var r=0;r<a.create.length;++r)a.create[r](_a,n);s(e=n.data.hook)&&(s(e.create)&&e.create(_a,n),s(e.insert)&&t.push(n))}function v(n){var e;if(s(e=n.fnScopeId))d.setStyleScope(n.elm,e);else for(var t=n;t;)s(e=t.context)&&s(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e),t=t.parent;s(e=Ae)&&e!==n.context&&e!==n.fnContext&&s(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e)}function _(n,e,t,a,r,i){for(;a<=r;++a)m(t[a],i,n,e,!1,t,a)}function x(n){var e,t,r=n.data;if(s(r))for(s(e=r.hook)&&s(e=e.destroy)&&e(n),e=0;e<a.destroy.length;++e)a.destroy[e](n);if(s(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function k(n,e,t){for(;e<=t;++e){var a=n[e];s(a)&&(s(a.tag)?(S(a),x(a)):p(a.elm))}}function S(n,e){if(s(e)||s(n.data)){var t,r=a.remove.length+1;for(s(e)?e.listeners+=r:e=function(n,e){function t(){0==--t.listeners&&p(n)}return t.listeners=e,t}(n.elm,r),s(t=n.componentInstance)&&s(t=t._vnode)&&s(t.data)&&S(t,e),t=0;t<a.remove.length;++t)a.remove[t](n,e);s(t=n.data.hook)&&s(t=t.remove)?t(n,e):e()}else p(n.elm)}function w(n,e,t,a){for(var r=t;r<a;r++){var i=e[r];if(s(i)&&ka(n,i))return r}}function E(n,e,t,r,l,c){if(n!==e){s(e.elm)&&s(r)&&(e=r[l]=kn(e));var p=e.elm=n.elm;if(o(n.isAsyncPlaceholder))s(e.asyncFactory.resolved)?A(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(n.isStatic)&&e.key===n.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=n.componentInstance;else{var u,h=e.data;s(h)&&s(u=h.hook)&&s(u=u.prepatch)&&u(n,e);var f=n.children,b=e.children;if(s(h)&&g(e)){for(u=0;u<a.update.length;++u)a.update[u](n,e);s(u=h.hook)&&s(u=u.update)&&u(n,e)}i(e.text)?s(f)&&s(b)?f!==b&&function(n,e,t,a,r){var o,l,c,p=0,u=0,h=e.length-1,f=e[0],g=e[h],b=t.length-1,y=t[0],v=t[b],x=!r;for(0;p<=h&&u<=b;)i(f)?f=e[++p]:i(g)?g=e[--h]:ka(f,y)?(E(f,y,a,t,u),f=e[++p],y=t[++u]):ka(g,v)?(E(g,v,a,t,b),g=e[--h],v=t[--b]):ka(f,v)?(E(f,v,a,t,b),x&&d.insertBefore(n,f.elm,d.nextSibling(g.elm)),f=e[++p],v=t[--b]):ka(g,y)?(E(g,y,a,t,u),x&&d.insertBefore(n,g.elm,f.elm),g=e[--h],y=t[++u]):(i(o)&&(o=Sa(e,p,h)),i(l=s(y.key)?o[y.key]:w(y,e,p,h))?m(y,a,n,f.elm,!1,t,u):ka(c=e[l],y)?(E(c,y,a,t,u),e[l]=void 0,x&&d.insertBefore(n,c.elm,f.elm)):m(y,a,n,f.elm,!1,t,u),y=t[++u]);p>h?_(n,i(t[b+1])?null:t[b+1].elm,t,u,b,a):u>b&&k(e,p,h)}(p,f,b,t,c):s(b)?(s(n.text)&&d.setTextContent(p,""),_(p,null,b,0,b.length-1,t)):s(f)?k(f,0,f.length-1):s(n.text)&&d.setTextContent(p,""):n.text!==e.text&&d.setTextContent(p,e.text),s(h)&&s(u=h.hook)&&s(u=u.postpatch)&&u(n,e)}}}function T(n,e,t){if(o(t)&&s(n.parent))n.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var I=y("attrs,class,staticClass,staticStyle,key");function A(n,e,t,a){var r,i=e.tag,l=e.data,c=e.children;if(a=a||l&&l.pre,e.elm=n,o(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(r=l.hook)&&s(r=r.init)&&r(e,!0),s(r=e.componentInstance)))return u(e,t),!0;if(s(i)){if(s(c))if(n.hasChildNodes())if(s(r=l)&&s(r=r.domProps)&&s(r=r.innerHTML)){if(r!==n.innerHTML)return!1}else{for(var d=!0,p=n.firstChild,m=0;m<c.length;m++){if(!p||!A(p,c[m],t,a)){d=!1;break}p=p.nextSibling}if(!d||p)return!1}else f(e,c,t);if(s(l)){var h=!1;for(var g in l)if(!I(g)){h=!0,b(e,t);break}!h&&l.class&&On(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,r){if(!i(e)){var l,c=!1,p=[];if(i(n))c=!0,m(e,p);else{var u=s(n.nodeType);if(!u&&ka(n,e))E(n,e,p,null,null,r);else{if(u){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),o(t)&&A(n,e,p))return T(e,p,!0),n;l=n,n=new vn(d.tagName(l).toLowerCase(),{},[],void 0,l)}var h=n.elm,f=d.parentNode(h);if(m(e,p,h._leaveCb?null:f,d.nextSibling(h)),s(e.parent))for(var b=e.parent,y=g(e);b;){for(var v=0;v<a.destroy.length;++v)a.destroy[v](b);if(b.elm=e.elm,y){for(var _=0;_<a.create.length;++_)a.create[_](_a,b);var S=b.data.hook.insert;if(S.merged)for(var w=1;w<S.fns.length;w++)S.fns[w]()}else ya(b);b=b.parent}s(f)?k([n],0,0):s(n.tag)&&x(n)}}return T(e,p,c),e.elm}s(n)&&x(n)}}({nodeOps:ga,modules:[Na,Ra,Ua,Qa,rr,Y?{create:Ar,activate:Ar,remove:function(n,e){!0!==n.data.show?Er(n,e):e()}}:{}].concat(za)});X&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Rr(n,"input")}));var zr={inserted:function(n,e,t,a){"select"===t.tag?(a.elm&&!a.elm._vOptions?Ln(t,"postpatch",(function(){zr.componentUpdated(n,e,t)})):Or(n,e,t.context),n._vOptions=[].map.call(n.options,Nr)):("textarea"===t.tag||fa(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Lr),n.addEventListener("compositionend",Mr),n.addEventListener("change",Mr),X&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Or(n,e,t.context);var a=n._vOptions,r=n._vOptions=[].map.call(n.options,Nr);if(r.some((function(n,e){return!M(n,a[e])})))(n.multiple?e.value.some((function(n){return Dr(n,r)})):e.value!==e.oldValue&&Dr(e.value,r))&&Rr(n,"change")}}};function Or(n,e,t){Cr(n,e,t),(J||K)&&setTimeout((function(){Cr(n,e,t)}),0)}function Cr(n,e,t){var a=e.value,r=n.multiple;if(!r||Array.isArray(a)){for(var i,s,o=0,l=n.options.length;o<l;o++)if(s=n.options[o],r)i=R(a,Nr(s))>-1,s.selected!==i&&(s.selected=i);else if(M(Nr(s),a))return void(n.selectedIndex!==o&&(n.selectedIndex=o));r||(n.selectedIndex=-1)}}function Dr(n,e){return e.every((function(e){return!M(e,n)}))}function Nr(n){return"_value"in n?n._value:n.value}function Lr(n){n.target.composing=!0}function Mr(n){n.target.composing&&(n.target.composing=!1,Rr(n.target,"input"))}function Rr(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function qr(n){return!n.componentInstance||n.data&&n.data.transition?n:qr(n.componentInstance._vnode)}var Pr={model:zr,show:{bind:function(n,e,t){var a=e.value,r=(t=qr(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;a&&r?(t.data.show=!0,wr(t,(function(){n.style.display=i}))):n.style.display=a?i:"none"},update:function(n,e,t){var a=e.value;!a!=!e.oldValue&&((t=qr(t)).data&&t.data.transition?(t.data.show=!0,a?wr(t,(function(){n.style.display=n.__vOriginalDisplay})):Er(t,(function(){n.style.display="none"}))):n.style.display=a?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,a,r){r||(n.style.display=n.__vOriginalDisplay)}}},Br={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fr(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Fr(Se(e.children)):n}function $r(n){var e={},t=n.$options;for(var a in t.propsData)e[a]=n[a];var r=t._parentListeners;for(var a in r)e[E(a)]=r[a];return e}function Hr(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Ur=function(n){return n.tag||Hn(n)},Gr=function(n){return"show"===n.name},Wr={name:"transition",props:Br,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Ur)).length){0;var a=this.mode;0;var r=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return r;var i=Fr(r);if(!i)return r;if(this._leaving)return Hr(n,r);var s="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?s+"comment":s+i.tag:l(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var o=(i.data||(i.data={})).transition=$r(this),c=this._vnode,d=Fr(c);if(i.data.directives&&i.data.directives.some(Gr)&&(i.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,d)&&!Hn(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var p=d.data.transition=O({},o);if("out-in"===a)return this._leaving=!0,Ln(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Hr(n,r);if("in-out"===a){if(Hn(i))return c;var m,u=function(){m()};Ln(o,"afterEnter",u),Ln(o,"enterCancelled",u),Ln(p,"delayLeave",(function(n){m=n}))}}return r}}},Qr=O({tag:String,moveClass:String},Br);function Yr(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Vr(n){n.data.newPos=n.elm.getBoundingClientRect()}function Jr(n){var e=n.data.pos,t=n.data.newPos,a=e.left-t.left,r=e.top-t.top;if(a||r){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate(".concat(a,"px,").concat(r,"px)"),i.transitionDuration="0s"}}delete Qr.mode;var Xr={Transition:Wr,TransitionGroup:{props:Qr,beforeMount:function(){var n=this,e=this._update;this._update=function(t,a){var r=je(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,r(),e.call(n,t,a)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),a=this.prevChildren=this.children,r=this.$slots.default||[],i=this.children=[],s=$r(this),o=0;o<r.length;o++){if((d=r[o]).tag)if(null!=d.key&&0!==String(d.key).indexOf("__vlist"))i.push(d),t[d.key]=d,(d.data||(d.data={})).transition=s;else;}if(a){var l=[],c=[];for(o=0;o<a.length;o++){var d;(d=a[o]).data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?l.push(d):c.push(d)}this.kept=n(e,null,l),this.removed=c}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Yr),n.forEach(Vr),n.forEach(Jr),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,a=t.style;br(t,e),a.transform=a.WebkitTransform=a.transitionDuration="",t.addEventListener(mr,t._moveCb=function n(a){a&&a.target!==t||a&&!/transform$/.test(a.propertyName)||(t.removeEventListener(mr,n),t._moveCb=null,yr(t,e))})}})))},methods:{hasMove:function(n,e){if(!dr)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){or(t,n)})),sr(t,e),t.style.display="none",this.$el.appendChild(t);var a=xr(t);return this.$el.removeChild(t),this._hasMove=a.hasTransform}}}};function Kr(n,e){for(var t in e)n[t]=e[t];return n}Ht.config.mustUseProp=function(n,e,t){return"value"===t&&Kt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Ht.config.isReservedTag=ua,Ht.config.isReservedAttr=Xt,Ht.config.getTagNamespace=function(n){return ma(n)?"svg":"math"===n?"math":void 0},Ht.config.isUnknownElement=function(n){if(!Y)return!0;if(ua(n))return!1;if(n=n.toLowerCase(),null!=ha[n])return ha[n];var e=document.createElement(n);return n.indexOf("-")>-1?ha[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ha[n]=/HTMLUnknownElement/.test(e.toString())},O(Ht.options.directives,Pr),O(Ht.options.components,Xr),Ht.prototype.__patch__=Y?jr:D,Ht.prototype.$mount=function(n,e){return function(n,e,t){var a;n.$el=e,n.$options.render||(n.$options.render=_n),Ce(n,"beforeMount"),a=function(){n._update(n._render(),t)},new Qe(n,a,D,{before:function(){n._isMounted&&!n._isDestroyed&&Ce(n,"beforeUpdate")}},!0),t=!1;var r=n._preWatchers;if(r)for(var i=0;i<r.length;i++)r[i].run();return null==n.$vnode&&(n._isMounted=!0,Ce(n,"mounted")),n}(this,n=n&&Y?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Y&&setTimeout((function(){$.devtools&&on&&on.emit("init",Ht)}),0);var Zr=/[!'()*]/g,ni=function(n){return"%"+n.charCodeAt(0).toString(16)},ei=/%2C/g,ti=function(n){return encodeURIComponent(n).replace(Zr,ni).replace(ei,",")};function ai(n){try{return decodeURIComponent(n)}catch(n){0}return n}var ri=function(n){return null==n||"object"==typeof n?n:String(n)};function ii(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),a=ai(t.shift()),r=t.length>0?ai(t.join("=")):null;void 0===e[a]?e[a]=r:Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]})),e):e}function si(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return ti(e);if(Array.isArray(t)){var a=[];return t.forEach((function(n){void 0!==n&&(null===n?a.push(ti(e)):a.push(ti(e)+"="+ti(n)))})),a.join("&")}return ti(e)+"="+ti(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var oi=/\/?$/;function li(n,e,t,a){var r=a&&a.options.stringifyQuery,i=e.query||{};try{i=ci(i)}catch(n){}var s={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:mi(e,r),matched:n?pi(n):[]};return t&&(s.redirectedFrom=mi(t,r)),Object.freeze(s)}function ci(n){if(Array.isArray(n))return n.map(ci);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=ci(n[t]);return e}return n}var di=li(null,{path:"/"});function pi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function mi(n,e){var t=n.path,a=n.query;void 0===a&&(a={});var r=n.hash;return void 0===r&&(r=""),(t||"/")+(e||si)(a)+r}function ui(n,e,t){return e===di?n===e:!!e&&(n.path&&e.path?n.path.replace(oi,"")===e.path.replace(oi,"")&&(t||n.hash===e.hash&&hi(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&hi(n.query,e.query)&&hi(n.params,e.params))))}function hi(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),a=Object.keys(e).sort();return t.length===a.length&&t.every((function(t,r){var i=n[t];if(a[r]!==t)return!1;var s=e[t];return null==i||null==s?i===s:"object"==typeof i&&"object"==typeof s?hi(i,s):String(i)===String(s)}))}function fi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var a in t.instances){var r=t.instances[a],i=t.enteredCbs[a];if(r&&i){delete t.enteredCbs[a];for(var s=0;s<i.length;s++)r._isBeingDestroyed||i[s](r)}}}}var gi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,a=e.children,r=e.parent,i=e.data;i.routerView=!0;for(var s=r.$createElement,o=t.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),d=0,p=!1;r&&r._routerRoot!==r;){var m=r.$vnode?r.$vnode.data:{};m.routerView&&d++,m.keepAlive&&r._directInactive&&r._inactive&&(p=!0),r=r.$parent}if(i.routerViewDepth=d,p){var u=c[o],h=u&&u.component;return h?(u.configProps&&bi(h,i,u.route,u.configProps),s(h,i,a)):s()}var f=l.matched[d],g=f&&f.components[o];if(!f||!g)return c[o]=null,s();c[o]={component:g},i.registerRouteInstance=function(n,e){var t=f.instances[o];(e&&t!==n||!e&&t===n)&&(f.instances[o]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){f.instances[o]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==f.instances[o]&&(f.instances[o]=n.componentInstance),fi(l)};var b=f.props&&f.props[o];return b&&(Kr(c[o],{route:l,configProps:b}),bi(g,i,l,b)),s(g,i,a)}};function bi(n,e,t,a){var r=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,a);if(r){r=e.props=Kr({},r);var i=e.attrs=e.attrs||{};for(var s in r)n.props&&s in n.props||(i[s]=r[s],delete r[s])}}function yi(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var r=e.split("/");t&&r[r.length-1]||r.pop();for(var i=n.replace(/^\//,"").split("/"),s=0;s<i.length;s++){var o=i[s];".."===o?r.pop():"."!==o&&r.push(o)}return""!==r[0]&&r.unshift(""),r.join("/")}function vi(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var _i=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},xi=Li,ki=Ii,Si=function(n,e){return ji(Ii(n,e),e)},wi=ji,Ei=Ni,Ti=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ii(n,e){for(var t,a=[],r=0,i=0,s="",o=e&&e.delimiter||"/";null!=(t=Ti.exec(n));){var l=t[0],c=t[1],d=t.index;if(s+=n.slice(i,d),i=d+l.length,c)s+=c[1];else{var p=n[i],m=t[2],u=t[3],h=t[4],f=t[5],g=t[6],b=t[7];s&&(a.push(s),s="");var y=null!=m&&null!=p&&p!==m,v="+"===g||"*"===g,_="?"===g||"*"===g,x=t[2]||o,k=h||f;a.push({name:u||r++,prefix:m||"",delimiter:x,optional:_,repeat:v,partial:y,asterisk:!!b,pattern:k?Oi(k):b?".*":"[^"+zi(x)+"]+?"})}}return i<n.length&&(s+=n.substr(i)),s&&a.push(s),a}function Ai(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function ji(n,e){for(var t=new Array(n.length),a=0;a<n.length;a++)"object"==typeof n[a]&&(t[a]=new RegExp("^(?:"+n[a].pattern+")$",Di(e)));return function(e,a){for(var r="",i=e||{},s=(a||{}).pretty?Ai:encodeURIComponent,o=0;o<n.length;o++){var l=n[o];if("string"!=typeof l){var c,d=i[l.name];if(null==d){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(_i(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(c=s(d[p]),!t[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):s(d),!t[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function zi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Oi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Ci(n,e){return n.keys=e,n}function Di(n){return n&&n.sensitive?"":"i"}function Ni(n,e,t){_i(e)||(t=e||t,e=[]);for(var a=(t=t||{}).strict,r=!1!==t.end,i="",s=0;s<n.length;s++){var o=n[s];if("string"==typeof o)i+=zi(o);else{var l=zi(o.prefix),c="(?:"+o.pattern+")";e.push(o),o.repeat&&(c+="(?:"+l+c+")*"),i+=c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=zi(t.delimiter||"/"),p=i.slice(-d.length)===d;return a||(i=(p?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=r?"$":a&&p?"":"(?="+d+"|$)",Ci(new RegExp("^"+i,Di(t)),e)}function Li(n,e,t){return _i(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var a=0;a<t.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ci(n,e)}(n,e):_i(n)?function(n,e,t){for(var a=[],r=0;r<n.length;r++)a.push(Li(n[r],e,t).source);return Ci(new RegExp("(?:"+a.join("|")+")",Di(t)),e)}(n,e,t):function(n,e,t){return Ni(Ii(n,t),e,t)}(n,e,t)}xi.parse=ki,xi.compile=Si,xi.tokensToFunction=wi,xi.tokensToRegExp=Ei;var Mi=Object.create(null);function Ri(n,e,t){e=e||{};try{var a=Mi[n]||(Mi[n]=xi.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function qi(n,e,t,a){var r="string"==typeof n?{path:n}:n;if(r._normalized)return r;if(r.name){var i=(r=Kr({},n)).params;return i&&"object"==typeof i&&(r.params=Kr({},i)),r}if(!r.path&&r.params&&e){(r=Kr({},r))._normalized=!0;var s=Kr(Kr({},e.params),r.params);if(e.name)r.name=e.name,r.params=s;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;r.path=Ri(o,s,e.path)}else 0;return r}var l=function(n){var e="",t="",a=n.indexOf("#");a>=0&&(e=n.slice(a),n=n.slice(0,a));var r=n.indexOf("?");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{path:n,query:t,hash:e}}(r.path||""),c=e&&e.path||"/",d=l.path?yi(l.path,c,t||r.append):c,p=function(n,e,t){void 0===e&&(e={});var a,r=t||ii;try{a=r(n||"")}catch(n){a={}}for(var i in e){var s=e[i];a[i]=Array.isArray(s)?s.map(ri):ri(s)}return a}(l.query,r.query,a&&a.options.parseQuery),m=r.hash||l.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:d,query:p,hash:m}}var Pi,Bi=function(){},Fi={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,a=this.$route,r=t.resolve(this.to,a,this.append),i=r.location,s=r.route,o=r.href,l={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,p=null==c?"router-link-active":c,m=null==d?"router-link-exact-active":d,u=null==this.activeClass?p:this.activeClass,h=null==this.exactActiveClass?m:this.exactActiveClass,f=s.redirectedFrom?li(null,qi(s.redirectedFrom),null,t):s;l[h]=ui(a,f,this.exactPath),l[u]=this.exact||this.exactPath?l[h]:function(n,e){return 0===n.path.replace(oi,"/").indexOf(e.path.replace(oi,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(a,f);var g=l[h]?this.ariaCurrentValue:null,b=function(n){$i(n)&&(e.replace?t.replace(i,Bi):t.push(i,Bi))},y={click:$i};Array.isArray(this.event)?this.event.forEach((function(n){y[n]=b})):y[this.event]=b;var v={class:l},_=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:o,route:s,navigate:b,isActive:l[u],isExactActive:l[h]});if(_){if(1===_.length)return _[0];if(_.length>1||!_.length)return 0===_.length?n():n("span",{},_)}if("a"===this.tag)v.on=y,v.attrs={href:o,"aria-current":g};else{var x=function n(e){var t;if(e)for(var a=0;a<e.length;a++){if("a"===(t=e[a]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var k=x.data=Kr({},x.data);for(var S in k.on=k.on||{},k.on){var w=k.on[S];S in y&&(k.on[S]=Array.isArray(w)?w:[w])}for(var E in y)E in k.on?k.on[E].push(y[E]):k.on[E]=b;var T=x.data.attrs=Kr({},x.data.attrs);T.href=o,T["aria-current"]=g}else v.on=y}return n(this.tag,v,this.$slots.default)}};function $i(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Hi="undefined"!=typeof window;function Ui(n,e,t,a,r){var i=e||[],s=t||Object.create(null),o=a||Object.create(null);n.forEach((function(n){!function n(e,t,a,r,i,s){var o=r.path,l=r.name;0;var c=r.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return vi(e.path+"/"+n)}(o,i,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var p={path:d,regex:Gi(d,c),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:l,parent:i,matchAs:s,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var i=s?vi(s+"/"+r.path):void 0;n(e,t,a,r,p,i)}));t[p.path]||(e.push(p.path),t[p.path]=p);if(void 0!==r.alias)for(var m=Array.isArray(r.alias)?r.alias:[r.alias],u=0;u<m.length;++u){0;var h={path:m[u],children:r.children};n(e,t,a,h,i,p.path||"/")}l&&(a[l]||(a[l]=p))}(i,s,o,n,r)}));for(var l=0,c=i.length;l<c;l++)"*"===i[l]&&(i.push(i.splice(l,1)[0]),c--,l--);return{pathList:i,pathMap:s,nameMap:o}}function Gi(n,e){return xi(n,[],e)}function Wi(n,e){var t=Ui(n),a=t.pathList,r=t.pathMap,i=t.nameMap;function s(n,t,s){var o=qi(n,t,!1,e),c=o.name;if(c){var d=i[c];if(!d)return l(null,o);var p=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof o.params&&(o.params={}),t&&"object"==typeof t.params)for(var m in t.params)!(m in o.params)&&p.indexOf(m)>-1&&(o.params[m]=t.params[m]);return o.path=Ri(d.path,o.params),l(d,o,s)}if(o.path){o.params={};for(var u=0;u<a.length;u++){var h=a[u],f=r[h];if(Qi(f.regex,o.path,o.params))return l(f,o,s)}}return l(null,o)}function o(n,t){var a=n.redirect,r="function"==typeof a?a(li(n,t,null,e)):a;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,t);var o=r,c=o.name,d=o.path,p=t.query,m=t.hash,u=t.params;if(p=o.hasOwnProperty("query")?o.query:p,m=o.hasOwnProperty("hash")?o.hash:m,u=o.hasOwnProperty("params")?o.params:u,c){i[c];return s({_normalized:!0,name:c,query:p,hash:m,params:u},void 0,t)}if(d){var h=function(n,e){return yi(n,e.parent?e.parent.path:"/",!0)}(d,n);return s({_normalized:!0,path:Ri(h,u),query:p,hash:m},void 0,t)}return l(null,t)}function l(n,t,a){return n&&n.redirect?o(n,a||t):n&&n.matchAs?function(n,e,t){var a=s({_normalized:!0,path:Ri(t,e.params)});if(a){var r=a.matched,i=r[r.length-1];return e.params=a.params,l(i,e)}return l(null,e)}(0,t,n.matchAs):li(n,t,a,e)}return{match:s,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Ui([e||n],a,r,i,t),t&&t.alias.length&&Ui(t.alias.map((function(n){return{path:n,children:[e]}})),a,r,i,t)},getRoutes:function(){return a.map((function(n){return r[n]}))},addRoutes:function(n){Ui(n,a,r,i)}}}function Qi(n,e,t){var a=e.match(n);if(!a)return!1;if(!t)return!0;for(var r=1,i=a.length;r<i;++r){var s=n.keys[r-1];s&&(t[s.name||"pathMatch"]="string"==typeof a[r]?ai(a[r]):a[r])}return!0}var Yi=Hi&&window.performance&&window.performance.now?window.performance:Date;function Vi(){return Yi.now().toFixed(3)}var Ji=Vi();function Xi(){return Ji}function Ki(n){return Ji=n}var Zi=Object.create(null);function ns(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=Kr({},window.history.state);return t.key=Xi(),window.history.replaceState(t,"",e),window.addEventListener("popstate",as),function(){window.removeEventListener("popstate",as)}}function es(n,e,t,a){if(n.app){var r=n.options.scrollBehavior;r&&n.app.$nextTick((function(){var i=function(){var n=Xi();if(n)return Zi[n]}(),s=r.call(n,e,t,a?i:null);s&&("function"==typeof s.then?s.then((function(n){ls(n,i)})).catch((function(n){0})):ls(s,i))}))}}function ts(){var n=Xi();n&&(Zi[n]={x:window.pageXOffset,y:window.pageYOffset})}function as(n){ts(),n.state&&n.state.key&&Ki(n.state.key)}function rs(n){return ss(n.x)||ss(n.y)}function is(n){return{x:ss(n.x)?n.x:window.pageXOffset,y:ss(n.y)?n.y:window.pageYOffset}}function ss(n){return"number"==typeof n}var os=/^#\d/;function ls(n,e){var t,a="object"==typeof n;if(a&&"string"==typeof n.selector){var r=os.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(r){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{x:a.left-t.left-e.x,y:a.top-t.top-e.y}}(r,i={x:ss((t=i).x)?t.x:0,y:ss(t.y)?t.y:0})}else rs(n)&&(e=is(n))}else a&&rs(n)&&(e=is(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var cs,ds=Hi&&((-1===(cs=window.navigator.userAgent).indexOf("Android 2.")&&-1===cs.indexOf("Android 4.0")||-1===cs.indexOf("Mobile Safari")||-1!==cs.indexOf("Chrome")||-1!==cs.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ps(n,e){ts();var t=window.history;try{if(e){var a=Kr({},t.state);a.key=Xi(),t.replaceState(a,"",n)}else t.pushState({key:Ki(Vi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function ms(n){ps(n,!0)}function us(n,e,t){var a=function(r){r>=n.length?t():n[r]?e(n[r],(function(){a(r+1)})):a(r+1)};a(0)}var hs={redirected:2,aborted:4,cancelled:8,duplicated:16};function fs(n,e){return bs(n,e,hs.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ys.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function gs(n,e){return bs(n,e,hs.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function bs(n,e,t,a){var r=new Error(a);return r._isRouter=!0,r.from=n,r.to=e,r.type=t,r}var ys=["params","query","hash"];function vs(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function _s(n,e){return vs(n)&&n._isRouter&&(null==e||n.type===e)}function xs(n){return function(e,t,a){var r=!1,i=0,s=null;ks(n,(function(n,e,t,o){if("function"==typeof n&&void 0===n.cid){r=!0,i++;var l,c=Es((function(e){var r;((r=e).__esModule||ws&&"Module"===r[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Pi.extend(e),t.components[o]=e,--i<=0&&a()})),d=Es((function(n){var e="Failed to resolve async component "+o+": "+n;s||(s=vs(n)?n:new Error(e),a(s))}));try{l=n(c,d)}catch(n){d(n)}if(l)if("function"==typeof l.then)l.then(c,d);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,d)}}})),r||a()}}function ks(n,e){return Ss(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ss(n){return Array.prototype.concat.apply([],n)}var ws="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Es(n){var e=!1;return function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(!e)return e=!0,n.apply(this,t)}}var Ts=function(n,e){this.router=n,this.base=function(n){if(!n)if(Hi){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=di,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Is(n,e,t,a){var r=ks(n,(function(n,a,r,i){var s=function(n,e){"function"!=typeof n&&(n=Pi.extend(n));return n.options[e]}(n,e);if(s)return Array.isArray(s)?s.map((function(n){return t(n,a,r,i)})):t(s,a,r,i)}));return Ss(a?r.reverse():r)}function As(n,e){if(e)return function(){return n.apply(e,arguments)}}Ts.prototype.listen=function(n){this.cb=n},Ts.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Ts.prototype.onError=function(n){this.errorCbs.push(n)},Ts.prototype.transitionTo=function(n,e,t){var a,r=this;try{a=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(a,(function(){r.updateRoute(a),e&&e(a),r.ensureURL(),r.router.afterHooks.forEach((function(n){n&&n(a,i)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(n){n(a)})))}),(function(n){t&&t(n),n&&!r.ready&&(_s(n,hs.redirected)&&i===di||(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(n)}))))}))},Ts.prototype.confirmTransition=function(n,e,t){var a=this,r=this.current;this.pending=n;var i,s,o=function(n){!_s(n)&&vs(n)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=r.matched.length-1;if(ui(n,r)&&l===c&&n.matched[l]===r.matched[c])return this.ensureURL(),n.hash&&es(this.router,r,n,!1),o(((s=bs(i=r,n,hs.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",s));var d=function(n,e){var t,a=Math.max(n.length,e.length);for(t=0;t<a&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),p=d.updated,m=d.deactivated,u=d.activated,h=[].concat(function(n){return Is(n,"beforeRouteLeave",As,!0)}(m),this.router.beforeHooks,function(n){return Is(n,"beforeRouteUpdate",As)}(p),u.map((function(n){return n.beforeEnter})),xs(u)),f=function(e,t){if(a.pending!==n)return o(gs(r,n));try{e(n,r,(function(e){!1===e?(a.ensureURL(!0),o(function(n,e){return bs(n,e,hs.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(r,n))):vs(e)?(a.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(fs(r,n)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):t(e)}))}catch(n){o(n)}};us(h,f,(function(){us(function(n){return Is(n,"beforeRouteEnter",(function(n,e,t,a){return function(n,e,t){return function(a,r,i){return n(a,r,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,a)}))}(u).concat(a.router.resolveHooks),f,(function(){if(a.pending!==n)return o(gs(r,n));a.pending=null,e(n),a.router.app&&a.router.app.$nextTick((function(){fi(n)}))}))}))},Ts.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Ts.prototype.setupListeners=function(){},Ts.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=di,this.pending=null};var js=function(n){function e(e,t){n.call(this,e,t),this._startLocation=zs(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,a=ds&&t;a&&this.listeners.push(ns());var r=function(){var t=n.current,r=zs(n.base);n.current===di&&r===n._startLocation||n.transitionTo(r,(function(n){a&&es(e,n,t,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){ps(vi(a.base+n.fullPath)),es(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){ms(vi(a.base+n.fullPath)),es(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(zs(this.base)!==this.current.fullPath){var e=vi(this.base+this.current.fullPath);n?ps(e):ms(e)}},e.prototype.getCurrentLocation=function(){return zs(this.base)},e}(Ts);function zs(n){var e=window.location.pathname,t=e.toLowerCase(),a=n.toLowerCase();return!n||t!==a&&0!==t.indexOf(vi(a+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Os=function(n){function e(e,t,a){n.call(this,e,t),a&&function(n){var e=zs(n);if(!/^\/#/.test(e))return window.location.replace(vi(n+"/#"+e)),!0}(this.base)||Cs()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=ds&&e;t&&this.listeners.push(ns());var a=function(){var e=n.current;Cs()&&n.transitionTo(Ds(),(function(a){t&&es(n.router,a,e,!0),ds||Ms(a.fullPath)}))},r=ds?"popstate":"hashchange";window.addEventListener(r,a),this.listeners.push((function(){window.removeEventListener(r,a)}))}},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Ls(n.fullPath),es(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Ms(n.fullPath),es(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Ds()!==e&&(n?Ls(e):Ms(e))},e.prototype.getCurrentLocation=function(){return Ds()},e}(Ts);function Cs(){var n=Ds();return"/"===n.charAt(0)||(Ms("/"+n),!1)}function Ds(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ns(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Ls(n){ds?ps(Ns(n)):window.location.hash=n}function Ms(n){ds?ms(Ns(n)):window.location.replace(Ns(n))}var Rs=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index+1).concat(n),a.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var a=this.stack[t];this.confirmTransition(a,(function(){var n=e.current;e.index=t,e.updateRoute(a),e.router.afterHooks.forEach((function(e){e&&e(a,n)}))}),(function(n){_s(n,hs.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ts),qs=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Wi(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!ds&&!1!==n.fallback,this.fallback&&(e="hash"),Hi||(e="abstract"),this.mode=e,e){case"history":this.history=new js(this,n.base);break;case"hash":this.history=new Os(this,n.base,this.fallback);break;case"abstract":this.history=new Rs(this,n.base);break;default:0}},Ps={currentRoute:{configurable:!0}};function Bs(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}qs.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Ps.currentRoute.get=function(){return this.history&&this.history.current},qs.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof js||t instanceof Os){var a=function(n){t.setupListeners(),function(n){var a=t.current,r=e.options.scrollBehavior;ds&&r&&"fullPath"in n&&es(e,n,a,!1)}(n)};t.transitionTo(t.getCurrentLocation(),a,a)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},qs.prototype.beforeEach=function(n){return Bs(this.beforeHooks,n)},qs.prototype.beforeResolve=function(n){return Bs(this.resolveHooks,n)},qs.prototype.afterEach=function(n){return Bs(this.afterHooks,n)},qs.prototype.onReady=function(n,e){this.history.onReady(n,e)},qs.prototype.onError=function(n){this.history.onError(n)},qs.prototype.push=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.push(n,e,t)}));this.history.push(n,e,t)},qs.prototype.replace=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.replace(n,e,t)}));this.history.replace(n,e,t)},qs.prototype.go=function(n){this.history.go(n)},qs.prototype.back=function(){this.go(-1)},qs.prototype.forward=function(){this.go(1)},qs.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},qs.prototype.resolve=function(n,e,t){var a=qi(n,e=e||this.history.current,t,this),r=this.match(a,e),i=r.redirectedFrom||r.fullPath;return{location:a,route:r,href:function(n,e,t){var a="hash"===t?"#"+e:e;return n?vi(n+"/"+a):a}(this.history.base,i,this.mode),normalizedTo:a,resolved:r}},qs.prototype.getRoutes=function(){return this.matcher.getRoutes()},qs.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==di&&this.history.transitionTo(this.history.getCurrentLocation())},qs.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==di&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(qs.prototype,Ps),qs.install=function n(e){if(!n.installed||Pi!==e){n.installed=!0,Pi=e;var t=function(n){return void 0!==n},a=function(n,e){var a=n.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,a(this,this)},destroyed:function(){a(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",gi),e.component("RouterLink",Fi);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},qs.version="3.5.4",qs.isNavigationFailure=_s,qs.NavigationFailureType=hs,qs.START_LOCATION=di,Hi&&window.Vue&&window.Vue.use(qs);var Fs=qs;t(103);t(126);var $s={NotFound:()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,337)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,336))},Hs={"v-2df947ea":()=>t.e(11).then(t.bind(null,350)),"v-d2fb2a82":()=>t.e(13).then(t.bind(null,351)),"v-689808d8":()=>t.e(14).then(t.bind(null,352)),"v-29791135":()=>t.e(15).then(t.bind(null,353)),"v-4c2230e8":()=>t.e(16).then(t.bind(null,354)),"v-1a0eb102":()=>t.e(17).then(t.bind(null,355)),"v-2c168266":()=>t.e(18).then(t.bind(null,338)),"v-c32a4ba6":()=>t.e(19).then(t.bind(null,339)),"v-1d12c416":()=>t.e(12).then(t.bind(null,356)),"v-8aa2b0da":()=>t.e(21).then(t.bind(null,340)),"v-81b6555c":()=>t.e(20).then(t.bind(null,341)),"v-830992f8":()=>t.e(23).then(t.bind(null,342)),"v-f5852fb2":()=>t.e(22).then(t.bind(null,343)),"v-11fe809f":()=>t.e(24).then(t.bind(null,344)),"v-74435332":()=>t.e(25).then(t.bind(null,345)),"v-0469e89f":()=>t.e(26).then(t.bind(null,346)),"v-3ed5a0cf":()=>t.e(27).then(t.bind(null,347)),"v-7487d51a":()=>t.e(28).then(t.bind(null,348)),"v-bed51406":()=>t.e(29).then(t.bind(null,357)),"v-42c6f9fa":()=>t.e(30).then(t.bind(null,358)),"v-30099682":()=>t.e(31).then(t.bind(null,359)),"v-f9f8fc5c":()=>t.e(32).then(t.bind(null,360)),"v-2fa3e257":()=>t.e(33).then(t.bind(null,361)),"v-5063a9cb":()=>t.e(34).then(t.bind(null,362)),"v-7f6942cf":()=>t.e(35).then(t.bind(null,363)),"v-786d75c7":()=>t.e(36).then(t.bind(null,364)),"v-bb3e9386":()=>t.e(37).then(t.bind(null,365)),"v-555e21cf":()=>t.e(38).then(t.bind(null,366)),"v-92803bde":()=>t.e(39).then(t.bind(null,367)),"v-9b1324b0":()=>t.e(3).then(t.bind(null,368)),"v-a16758b4":()=>t.e(40).then(t.bind(null,369)),"v-6c2b8593":()=>t.e(8).then(t.bind(null,370)),"v-e35d4030":()=>t.e(42).then(t.bind(null,371)),"v-0221b7b2":()=>t.e(41).then(t.bind(null,372)),"v-356e286c":()=>t.e(43).then(t.bind(null,373)),"v-e9baf2c8":()=>t.e(44).then(t.bind(null,374)),"v-db83fd4c":()=>t.e(45).then(t.bind(null,375)),"v-51040124":()=>t.e(47).then(t.bind(null,376)),"v-d4ddf460":()=>t.e(48).then(t.bind(null,377)),"v-2c5956be":()=>t.e(49).then(t.bind(null,378)),"v-1fd37798":()=>t.e(46).then(t.bind(null,379)),"v-63f04fc0":()=>t.e(50).then(t.bind(null,349)),"v-599d1974":()=>t.e(51).then(t.bind(null,380)),"v-0c3bcc96":()=>t.e(53).then(t.bind(null,381)),"v-a5e93828":()=>t.e(52).then(t.bind(null,382)),"v-f125018c":()=>t.e(55).then(t.bind(null,383)),"v-01457896":()=>t.e(56).then(t.bind(null,384)),"v-7ea7fc0c":()=>t.e(54).then(t.bind(null,385)),"v-4448404b":()=>t.e(57).then(t.bind(null,386)),"v-227c94e8":()=>t.e(58).then(t.bind(null,387)),"v-1e74358a":()=>t.e(9).then(t.bind(null,388)),"v-656f9cf6":()=>t.e(59).then(t.bind(null,389)),"v-5a91a923":()=>t.e(60).then(t.bind(null,390)),"v-50566ea5":()=>t.e(10).then(t.bind(null,391)),"v-00c7823d":()=>t.e(61).then(t.bind(null,392)),"v-2a8f5aa8":()=>t.e(63).then(t.bind(null,393)),"v-a4ab2664":()=>t.e(62).then(t.bind(null,394)),"v-2bc194fa":()=>t.e(64).then(t.bind(null,395)),"v-1dc96cde":()=>t.e(66).then(t.bind(null,396)),"v-152fe1e4":()=>t.e(65).then(t.bind(null,397)),"v-547abcde":()=>t.e(67).then(t.bind(null,398)),"v-6ece5467":()=>t.e(68).then(t.bind(null,399)),"v-e244ce58":()=>t.e(69).then(t.bind(null,400)),"v-412d7d01":()=>t.e(70).then(t.bind(null,401)),"v-0499277d":()=>t.e(71).then(t.bind(null,402)),"v-00f00e91":()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,403)),"v-48901c43":()=>t.e(72).then(t.bind(null,404)),"v-68f50c4e":()=>t.e(73).then(t.bind(null,405)),"v-5e6eb6cd":()=>t.e(74).then(t.bind(null,406)),"v-acb49e1a":()=>t.e(76).then(t.bind(null,407)),"v-90e7de80":()=>t.e(75).then(t.bind(null,408)),"v-447f8646":()=>t.e(77).then(t.bind(null,409)),"v-460c88ea":()=>t.e(78).then(t.bind(null,410)),"v-5111c592":()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,411))};function Us(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Gs=/-(\w)/g,Ws=Us(n=>n.replace(Gs,(n,e)=>e?e.toUpperCase():"")),Qs=/\B([A-Z])/g,Ys=Us(n=>n.replace(Qs,"-$1").toLowerCase()),Vs=Us(n=>n.charAt(0).toUpperCase()+n.slice(1));function Js(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Vs(Ws(e))):n(Vs(e))||n(Ys(e))}const Xs=Object.assign({},$s,Hs),Ks=n=>Xs[n],Zs=n=>Hs[n],no=n=>$s[n],eo=n=>Ht.component(n);function to(n){return Js(Zs,n)}function ao(n){return Js(no,n)}function ro(n){return Js(Ks,n)}function io(n){return Js(eo,n)}function so(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!io(n)&&ro(n)){const e=await ro(n)();Ht.component(n,e.default)}}))}function oo(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var lo=t(92),co=t.n(lo),po=t(93),mo=t.n(po),uo={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${mo()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=fo(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=go(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return co()([{name:"description",content:this.$description}],n,this.siteMeta,bo)},updateCanonicalLink(){ho(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",fo(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){go(null,this.currentMetaTags),ho()}};function ho(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function fo(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function go(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function bo(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var yo=t(49),vo={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(yo)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),r=window.innerHeight+t;for(let n=0;n<e.length;n++){const i=e[n],s=e[n+1],o=0===n&&0===t||t>=i.parentElement.offsetTop+10&&(!s||t<s.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(o&&l!==decodeURIComponent(i.hash)){const t=i;if(r===a)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},_o=t(23),xo=t.n(_o),ko={mounted(){xo.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Ht.component(n.name)||xo.a.start(),t()}),this.$router.afterEach(()=>{xo.a.done(),this.isSidebarOpen=!1})}};t(233),t(234);class So{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var wo={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new So).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Eo={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},To={},Io=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Ao=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Eo[n]},jo=function n(e,t,a){var r=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))r[n]=t[n];else{var e=n.replace("data","");r.dataset[e]=t[n]}})),a&&a.forEach((function(e){var t=e.tag,a=e.attrs,i=e.children;r.appendChild(n(t,a,i))})),r},zo=function(n,e,t){var a,r=(a=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(a));return 1!==r.length||t?r:r[0]},Oo=function(n,e){var t,a,r=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),s=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:s&&s[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};o.htmlTpl=Io(o.html),o.jsTpl=(t=o.js,a=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(a,"\n})")),o.script=function(n,e){var t=n.split(/export\s+default/),a="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),r=window.Babel?window.Babel.transform(a,{presets:["es2015"]}).code:a,i=[eval][0](r);return i.template=e,i}(o.js,o.html);var l=Ao("vue");return o.jsLib.unshift(l),o},Co=function(n,e){var t,a=n.match(/<style>([\s\S]+)<\/style>/),r=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),s={css:a&&a[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return s.htmlTpl=s.html,s.jsTpl=s.js,s.script=(t=s.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),s},Do=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function No(){var n=zo(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=zo(n,"vuepress-plugin-demo-block__code"),t=zo(n,"vuepress-plugin-demo-block__display"),a=zo(n,"vuepress-plugin-demo-block__footer"),r=zo(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),s=decodeURIComponent(n.dataset.config),o=decodeURIComponent(n.dataset.type);s=s?JSON.parse(s):{};var l=e.querySelector("div").clientHeight,c="react"===o?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,a="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),r=new Function("return ".concat(a))(),i={js:r,css:r.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Do(n),htmlTpl:Io("")},s=Ao("react"),o=Ao("reactDOM");return i.jsLib.unshift(s,o),i}(i,s):"vanilla"===o?Co(i,s):Oo(i,s),d=jo("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(a.appendChild(d),d.addEventListener("click",Lo.bind(null,d,l,e,a)),Ao("jsfiddle")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,i=n.cssLib,s=r.concat(i).concat(Ao("cssLib")).concat(Ao("jsLib")).join(",");return jo("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:a}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:s}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),Ao("codepen")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,i=n.cssLib,s=JSON.stringify({css:e,html:t,js:a,js_external:r.concat(Ao("jsLib")).join(";"),css_external:i.concat(Ao("cssLib")).join(";"),layout:Ao("codepenLayout"),js_pre_processor:Ao("codepenJsProcessor"),editors:Ao("codepenEditors")});return jo("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:s}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==s.horizontal?s.horizontal:Ao("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var p=e.firstChild.cloneNode(!0);p.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(p)}if(c.css&&function(n){if(!To[n]){var e=jo("style",{innerHTML:n});document.body.appendChild(e),To[n]=!0}}(c.css),"react"===o)ReactDOM.render(React.createElement(c.js),r);else if("vue"===o){var m=(new(Vue.extend(c.script))).$mount();r.appendChild(m.$el)}else"vanilla"===o&&(r.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){No()}),300)}function Lo(n,e,t,a){var r="1"!==n.dataset.isExpand;t.style.height=r?"".concat(e,"px"):0,r?a.classList.add("vuepress-plugin-demo-block__show-link"):a.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=r?"1":"0"}var Mo={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},No()},updated:function(){No()}},Ro="auto",qo="zoom-in",Po="zoom-out",Bo="grab",Fo="move";function $o(n,e,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={passive:!1};a?n.addEventListener(e,t,r):n.removeEventListener(e,t,r)}function Ho(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Uo(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Go(n,e,t){!function(n){var e=Wo,t=Qo;if(n.transition){var a=n.transition;delete n.transition,n[e]=a}if(n.transform){var r=n.transform;delete n.transform,n[t]=r}}(e);var a=n.style,r={};for(var i in e)t&&(r[i]=a[i]||""),a[i]=e[i];return r}var Wo="transition",Qo="transform",Yo="transform",Vo="transitionend";var Jo=function(){},Xo={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Jo,onClose:Jo,onGrab:Jo,onMove:Jo,onRelease:Jo,onBeforeOpen:Jo,onBeforeClose:Jo,onBeforeGrab:Jo,onBeforeRelease:Jo,onImageLoading:Jo,onImageLoaded:Jo},Ko={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),nl(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var a=this.lastScrollPosition.x-e,r=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(r)>=i||Math.abs(a)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Zo(n)&&!nl(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Zo(n)&&!nl(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,a=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,a)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,a=e.clientY;this.move(t,a)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Zo(n){return 0===n.button}function nl(n){return n.metaKey||n.ctrlKey}var el={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Go(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),$o(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Go(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},al=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),rl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},il={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Uo(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,a=n.transitionDuration,r=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Bo:Po,transition:Yo+"\n        "+a+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Go(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Go(this.el,{transform:"none"})},grab:function(n,e,t){var a=sl(),r=a.x-n,i=a.y-e;Go(this.el,{cursor:Fo,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var a=sl(),r=a.x-n,i=a.y-e;Go(this.el,{transition:Yo,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Go(this.el,this.styleClose)},restoreOpenStyle:function(){Go(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=sl(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,a=this.instance.options,r=a.customSize,i=a.scaleBase;if(!r&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(r&&"object"===(void 0===r?"undefined":tl(r)))return{x:r.width/this.rect.width,y:r.height/this.rect.height};var s=this.rect.width/2,o=this.rect.height/2,l=sl(),c={x:l.x-s,y:l.y-o},d=c.x/s,p=c.y/o,m=i+Math.min(d,p);if(r&&"string"==typeof r){var u=t||this.el.naturalWidth,h=e||this.el.naturalHeight,f=parseFloat(r)*u/(100*this.rect.width),g=parseFloat(r)*h/(100*this.rect.height);if(m>f||m>g)return{x:f,y:g}}return{x:m,y:m}}};function sl(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function ol(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(a){$o(n,a,e[a],t)}))}var ll=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(il),this.overlay=Object.create(el),this.handler=Object.create(Ko),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=rl({},Xo,e),this.overlay.init(this),this.handler.init(this)}return al(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=qo,$o(n,"click",this.handler.click),this.options.preloadImage&&Ho(Uo(n)));return this}},{key:"config",value:function(n){return n?(rl(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var a="string"==typeof n?document.querySelector(n):n;if("IMG"===a.tagName){if(this.options.onBeforeOpen(a),this.target.init(a,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(a),Ho(r,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),$o(document,"scroll",this.handler.scroll),$o(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&$o(window,"resize",this.handler.resizeWindow);var i=function n(){$o(a,Vo,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&ol(document,e.handler,!0),t(a)};return $o(a,Vo,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Ro,this.overlay.fadeOut(),this.target.zoomOut(),$o(document,"scroll",this.handler.scroll,!1),$o(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&$o(window,"resize",this.handler.resizeWindow,!1);var a=function a(){$o(t,Vo,a,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&ol(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return $o(t,Vo,a),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var r=this.target.el;this.options.onBeforeGrab(r),this.released=!1,this.target.grab(n,e,t);var i=function n(){$o(r,Vo,n,!1),a(r)};return $o(r,Vo,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Fo,this.target.move(n,e,t);var r=this.target.el,i=function n(){$o(r,Vo,n,!1),a(r)};return $o(r,Vo,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Ro,this.target.restoreOpenStyle();var a=function a(){$o(t,Vo,a,!1),n.lock=!1,n.released=!0,e(t)};return $o(t,Vo,a),this}}}]),n}();const cl=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),dl=Number("500");class pl{constructor(){this.instance=new ll(cl)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=dl){setTimeout(()=>this.update(n),e)}}var ml=[uo,vo,ko,wo,Mo,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new pl,this.$vuepress.zooming.updateDelay()}}],ul={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return oo("layout",n),Ht.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},hl=t(3),fl=Object(hl.a)(ul,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(fl,"mixins",ml);const gl=[{name:"v-2df947ea",path:"/pages/de9b5e/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2df947ea").then(t)}},{path:"/pages/de9b5e/index.html",redirect:"/pages/de9b5e/"},{path:"/01.Javaç¸å³/00.Javaç¸å³ç¥è¯.html",redirect:"/pages/de9b5e/"},{name:"v-d2fb2a82",path:"/pages/035171/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-d2fb2a82").then(t)}},{path:"/pages/035171/index.html",redirect:"/pages/035171/"},{path:"/01.Javaç¸å³/01.åºç¡/02.Javaæ©å±.html",redirect:"/pages/035171/"},{name:"v-689808d8",path:"/pages/1d1863/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-689808d8").then(t)}},{path:"/pages/1d1863/index.html",redirect:"/pages/1d1863/"},{path:"/01.Javaç¸å³/02.å·¥å·/001.hutoolå·¥å·å.html",redirect:"/pages/1d1863/"},{name:"v-29791135",path:"/pages/1d1864/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-29791135").then(t)}},{path:"/pages/1d1864/index.html",redirect:"/pages/1d1864/"},{path:"/01.Javaç¸å³/02.å·¥å·/002.Apache Commonså·¥å·å.html",redirect:"/pages/1d1864/"},{name:"v-4c2230e8",path:"/pages/2e9bb7/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-4c2230e8").then(t)}},{path:"/pages/2e9bb7/index.html",redirect:"/pages/2e9bb7/"},{path:"/01.Javaç¸å³/02.å·¥å·/010.SQLè§£æå·¥å·.html",redirect:"/pages/2e9bb7/"},{name:"v-1a0eb102",path:"/pages/1e9420/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-1a0eb102").then(t)}},{path:"/pages/1e9420/index.html",redirect:"/pages/1e9420/"},{path:"/01.Javaç¸å³/03.æ¡æ¶/01.Spring Bootç¸å³.html",redirect:"/pages/1e9420/"},{name:"v-2c168266",path:"/pages/bdceb5/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2c168266").then(t)}},{path:"/pages/bdceb5/index.html",redirect:"/pages/bdceb5/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/006.è®¾è®¡æ¨¡å¼å¥é¨.html",redirect:"/pages/bdceb5/"},{name:"v-c32a4ba6",path:"/pages/676d02/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-c32a4ba6").then(t)}},{path:"/pages/676d02/index.html",redirect:"/pages/676d02/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/011.ç­ç¥æ¨¡å¼.html",redirect:"/pages/676d02/"},{name:"v-1d12c416",path:"/pages/768c32/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-1d12c416").then(t)}},{path:"/pages/768c32/index.html",redirect:"/pages/768c32/"},{path:"/01.Javaç¸å³/01.åºç¡/01.Javaåºç¡.html",redirect:"/pages/768c32/"},{name:"v-8aa2b0da",path:"/pages/116f8a/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-8aa2b0da").then(t)}},{path:"/pages/116f8a/index.html",redirect:"/pages/116f8a/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/030.è£é¥°èæ¨¡å¼.html",redirect:"/pages/116f8a/"},{name:"v-81b6555c",path:"/pages/d0e23d/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-81b6555c").then(t)}},{path:"/pages/d0e23d/index.html",redirect:"/pages/d0e23d/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/020.è§å¯èæ¨¡å¼.html",redirect:"/pages/d0e23d/"},{name:"v-830992f8",path:"/pages/4e0678/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-830992f8").then(t)}},{path:"/pages/4e0678/index.html",redirect:"/pages/4e0678/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/050.åä¾æ¨¡å¼.html",redirect:"/pages/4e0678/"},{name:"v-f5852fb2",path:"/pages/668a2b/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-f5852fb2").then(t)}},{path:"/pages/668a2b/index.html",redirect:"/pages/668a2b/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/040.å·¥åæ¨¡å¼.html",redirect:"/pages/668a2b/"},{name:"v-11fe809f",path:"/pages/5d365c/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-11fe809f").then(t)}},{path:"/pages/5d365c/index.html",redirect:"/pages/5d365c/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/060.å½ä»¤æ¨¡å¼.html",redirect:"/pages/5d365c/"},{name:"v-74435332",path:"/pages/c7cf8b/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-74435332").then(t)}},{path:"/pages/c7cf8b/index.html",redirect:"/pages/c7cf8b/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/070.ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼.html",redirect:"/pages/c7cf8b/"},{name:"v-0469e89f",path:"/pages/93ef90/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-0469e89f").then(t)}},{path:"/pages/93ef90/index.html",redirect:"/pages/93ef90/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/080.æ¨¡æ¿æ¹æ³æ¨¡å¼.html",redirect:"/pages/93ef90/"},{name:"v-3ed5a0cf",path:"/pages/4372f2/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-3ed5a0cf").then(t)}},{path:"/pages/4372f2/index.html",redirect:"/pages/4372f2/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/090.è¿­ä»£å¨ä¸ç»åæ¨¡å¼.html",redirect:"/pages/4372f2/"},{name:"v-7487d51a",path:"/pages/463f44/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-7487d51a").then(t)}},{path:"/pages/463f44/index.html",redirect:"/pages/463f44/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/110.ç¶ææ¨¡å¼.html",redirect:"/pages/463f44/"},{name:"v-bed51406",path:"/pages/cb203f/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-bed51406").then(t)}},{path:"/pages/cb203f/index.html",redirect:"/pages/cb203f/"},{path:"/01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/120.ä»£çæ¨¡å¼.html",redirect:"/pages/cb203f/"},{name:"v-42c6f9fa",path:"/pages/5d76a5/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-42c6f9fa").then(t)}},{path:"/pages/5d76a5/index.html",redirect:"/pages/5d76a5/"},{path:"/02.å¤§æ°æ®/01.Hadoop/01.Hadoopåå¸å¼æ­å»º.html",redirect:"/pages/5d76a5/"},{name:"v-30099682",path:"/pages/f9f70f/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-30099682").then(t)}},{path:"/pages/f9f70f/index.html",redirect:"/pages/f9f70f/"},{path:"/02.å¤§æ°æ®/01.Hadoop/02.Hadoopé«å¯ç¨æ­å»º.html",redirect:"/pages/f9f70f/"},{name:"v-f9f8fc5c",path:"/pages/3e77b2/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-f9f8fc5c").then(t)}},{path:"/pages/3e77b2/index.html",redirect:"/pages/3e77b2/"},{path:"/02.å¤§æ°æ®/01.Hadoop/03.éç¾¤ç«¯å£.html",redirect:"/pages/3e77b2/"},{name:"v-2fa3e257",path:"/pages/03a2bd/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2fa3e257").then(t)}},{path:"/pages/03a2bd/index.html",redirect:"/pages/03a2bd/"},{path:"/02.å¤§æ°æ®/01.Hadoop/04.ä»£ç demoï¼mr hbase hive redisï¼.html",redirect:"/pages/03a2bd/"},{name:"v-5063a9cb",path:"/pages/e2226d/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-5063a9cb").then(t)}},{path:"/pages/e2226d/index.html",redirect:"/pages/e2226d/"},{path:"/02.å¤§æ°æ®/02.Zookeeper/01.Zookeeperéç¾¤æ­å»º.html",redirect:"/pages/e2226d/"},{name:"v-7f6942cf",path:"/pages/edf4cb/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-7f6942cf").then(t)}},{path:"/pages/edf4cb/index.html",redirect:"/pages/edf4cb/"},{path:"/02.å¤§æ°æ®/03.Hive/01.Hiveéç¾¤æ­å»º.html",redirect:"/pages/edf4cb/"},{name:"v-786d75c7",path:"/pages/dd806a/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-786d75c7").then(t)}},{path:"/pages/dd806a/index.html",redirect:"/pages/dd806a/"},{path:"/02.å¤§æ°æ®/03.Hive/02.Hiveç¸å³.html",redirect:"/pages/dd806a/"},{name:"v-bb3e9386",path:"/pages/dd807a/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-bb3e9386").then(t)}},{path:"/pages/dd807a/index.html",redirect:"/pages/dd807a/"},{path:"/02.å¤§æ°æ®/03.Hive/03.HSQL.html",redirect:"/pages/dd807a/"},{name:"v-555e21cf",path:"/pages/bfa383/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-555e21cf").then(t)}},{path:"/pages/bfa383/index.html",redirect:"/pages/bfa383/"},{path:"/02.å¤§æ°æ®/04.Kafka/01.Kafkaéç¾¤æ­å»º.html",redirect:"/pages/bfa383/"},{name:"v-92803bde",path:"/pages/b22228/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-92803bde").then(t)}},{path:"/pages/b22228/index.html",redirect:"/pages/b22228/"},{path:"/02.å¤§æ°æ®/05.HBase/01.HBaseéç¾¤æ­å»º.html",redirect:"/pages/b22228/"},{name:"v-9b1324b0",path:"/pages/e15afa/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-9b1324b0").then(t)}},{path:"/pages/e15afa/index.html",redirect:"/pages/e15afa/"},{path:"/02.å¤§æ°æ®/05.HBase/02.HBaseåºç¡å­¦ä¹ .html",redirect:"/pages/e15afa/"},{name:"v-a16758b4",path:"/pages/7d157d/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-a16758b4").then(t)}},{path:"/pages/7d157d/index.html",redirect:"/pages/7d157d/"},{path:"/02.å¤§æ°æ®/06.Spark/01.Sparkç¯å¢æ­å»º.html",redirect:"/pages/7d157d/"},{name:"v-6c2b8593",path:"/pages/b3ba00/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-6c2b8593").then(t)}},{path:"/pages/b3ba00/index.html",redirect:"/pages/b3ba00/"},{path:"/02.å¤§æ°æ®/06.Spark/02.Sparkç¸å³ç¥è¯.html",redirect:"/pages/b3ba00/"},{name:"v-e35d4030",path:"/pages/415096/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-e35d4030").then(t)}},{path:"/pages/415096/index.html",redirect:"/pages/415096/"},{path:"/02.å¤§æ°æ®/07.Flink/01.Flinkç¯å¢æ­å»º.html",redirect:"/pages/415096/"},{name:"v-0221b7b2",path:"/pages/70f03f/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-0221b7b2").then(t)}},{path:"/pages/70f03f/index.html",redirect:"/pages/70f03f/"},{path:"/02.å¤§æ°æ®/06.Spark/10.Sparkåæ ¸å­¦ä¹ .html",redirect:"/pages/70f03f/"},{name:"v-356e286c",path:"/pages/415097/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-356e286c").then(t)}},{path:"/pages/415097/index.html",redirect:"/pages/415097/"},{path:"/02.å¤§æ°æ®/07.Flink/02.Flinkå­¦ä¹ .html",redirect:"/pages/415097/"},{name:"v-e9baf2c8",path:"/pages/e4166e/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-e9baf2c8").then(t)}},{path:"/pages/e4166e/index.html",redirect:"/pages/e4166e/"},{path:"/02.å¤§æ°æ®/10.Flume/01.Flumeå®è£éç½®.html",redirect:"/pages/e4166e/"},{name:"v-db83fd4c",path:"/pages/0376ec/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-db83fd4c").then(t)}},{path:"/pages/0376ec/index.html",redirect:"/pages/0376ec/"},{path:"/02.å¤§æ°æ®/10.Flume/02.Flumeé«å¯ç¨éç¾¤å®è£.html",redirect:"/pages/0376ec/"},{name:"v-51040124",path:"/pages/eeda49/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-51040124").then(t)}},{path:"/pages/eeda49/index.html",redirect:"/pages/eeda49/"},{path:"/02.å¤§æ°æ®/10.Flume/04.Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼.html",redirect:"/pages/eeda49/"},{name:"v-d4ddf460",path:"/pages/60b3d7/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-d4ddf460").then(t)}},{path:"/pages/60b3d7/index.html",redirect:"/pages/60b3d7/"},{path:"/02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/01.Sqoopå®è£éç½®.html",redirect:"/pages/60b3d7/"},{name:"v-2c5956be",path:"/pages/40f7a3/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2c5956be").then(t)}},{path:"/pages/40f7a3/index.html",redirect:"/pages/40f7a3/"},{path:"/02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/02.Sqoopä½¿ç¨.html",redirect:"/pages/40f7a3/"},{name:"v-1fd37798",path:"/pages/3408a8/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-1fd37798").then(t)}},{path:"/pages/3408a8/index.html",redirect:"/pages/3408a8/"},{path:"/02.å¤§æ°æ®/10.Flume/03.Flumeç¸å³å­¦ä¹ .html",redirect:"/pages/3408a8/"},{name:"v-63f04fc0",path:"/pages/b76fc1/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-63f04fc0").then(t)}},{path:"/pages/b76fc1/index.html",redirect:"/pages/b76fc1/"},{path:"/02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/09.æ°æ®éææ¡æ¶.html",redirect:"/pages/b76fc1/"},{name:"v-599d1974",path:"/pages/4d39ac/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-599d1974").then(t)}},{path:"/pages/4d39ac/index.html",redirect:"/pages/4d39ac/"},{path:"/02.å¤§æ°æ®/12. Impala/01.Impala.html",redirect:"/pages/4d39ac/"},{name:"v-0c3bcc96",path:"/pages/d89b45/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-0c3bcc96").then(t)}},{path:"/pages/d89b45/index.html",redirect:"/pages/d89b45/"},{path:"/02.å¤§æ°æ®/20.å¶ä»/01.docker.html",redirect:"/pages/d89b45/"},{name:"v-a5e93828",path:"/pages/a04438/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-a5e93828").then(t)}},{path:"/pages/a04438/index.html",redirect:"/pages/a04438/"},{path:"/02.å¤§æ°æ®/16.è°åº¦/01.è°åº¦å·¥å·.html",redirect:"/pages/a04438/"},{name:"v-f125018c",path:"/pages/b5c27a/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-f125018c").then(t)}},{path:"/pages/b5c27a/index.html",redirect:"/pages/b5c27a/"},{path:"/03.æ°æ®åº/01.Oracle/02.ç³»ç»å½æ°ç¯.html",redirect:"/pages/b5c27a/"},{name:"v-01457896",path:"/pages/c2df29/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-01457896").then(t)}},{path:"/pages/c2df29/index.html",redirect:"/pages/c2df29/"},{path:"/03.æ°æ®åº/01.Oracle/06.ä¸MySQLè¯­æ³åºå«.html",redirect:"/pages/c2df29/"},{name:"v-7ea7fc0c",path:"/pages/7e6951/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-7ea7fc0c").then(t)}},{path:"/pages/7e6951/index.html",redirect:"/pages/7e6951/"},{path:"/03.æ°æ®åº/01.Oracle/01.Oracleç¸å³ç¥è¯æè®°.html",redirect:"/pages/7e6951/"},{name:"v-4448404b",path:"/pages/e0cc49/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-4448404b").then(t)}},{path:"/pages/e0cc49/index.html",redirect:"/pages/e0cc49/"},{path:"/03.æ°æ®åº/0101.æ°æ®åº.html",redirect:"/pages/e0cc49/"},{name:"v-227c94e8",path:"/pages/36476d/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-227c94e8").then(t)}},{path:"/pages/36476d/index.html",redirect:"/pages/36476d/"},{path:"/03.æ°æ®åº/02.MySQL/02.MySQLçç¢ç¥è¯ç¹.html",redirect:"/pages/36476d/"},{name:"v-1e74358a",path:"/pages/086761/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-1e74358a").then(t)}},{path:"/pages/086761/index.html",redirect:"/pages/086761/"},{path:"/03.æ°æ®åº/06.å½äº§æ°æ®åº/03.è¾¾æ¢¦æ°æ®åº.html",redirect:"/pages/086761/"},{name:"v-656f9cf6",path:"/pages/e461e3/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-656f9cf6").then(t)}},{path:"/pages/e461e3/index.html",redirect:"/pages/e461e3/"},{path:"/03.æ°æ®åº/06.å½äº§æ°æ®åº/09.åä¸ºé«æ¯æ°æ®åº.html",redirect:"/pages/e461e3/"},{name:"v-5a91a923",path:"/pages/ca5c12/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-5a91a923").then(t)}},{path:"/pages/ca5c12/index.html",redirect:"/pages/ca5c12/"},{path:"/03.æ°æ®åº/09.Redis/01.Rediså½ä»¤å­¦ä¹ .html",redirect:"/pages/ca5c12/"},{name:"v-50566ea5",path:"/pages/265b1a/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-50566ea5").then(t)}},{path:"/pages/265b1a/index.html",redirect:"/pages/265b1a/"},{path:"/03.æ°æ®åº/10.Excel/01.Excelæå·§.html",redirect:"/pages/265b1a/"},{name:"v-00c7823d",path:"/pages/e02b49/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-00c7823d").then(t)}},{path:"/pages/e02b49/index.html",redirect:"/pages/e02b49/"},{path:"/03.æ°æ®åº/1000.SQLéå¸¸è§ç¨æ³éé¦.html",redirect:"/pages/e02b49/"},{name:"v-2a8f5aa8",path:"/pages/f2a330/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2a8f5aa8").then(t)}},{path:"/pages/f2a330/index.html",redirect:"/pages/f2a330/"},{path:"/04.å¶ä»/01.Python/01.Pythonç®åè¯­æ³å­¦ä¹ .html",redirect:"/pages/f2a330/"},{name:"v-a4ab2664",path:"/pages/d5b8e9/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-a4ab2664").then(t)}},{path:"/pages/d5b8e9/index.html",redirect:"/pages/d5b8e9/"},{path:"/03.æ°æ®åº/1006.SQLç»ä¹ é¢.html",redirect:"/pages/d5b8e9/"},{name:"v-2bc194fa",path:"/pages/f2a340/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-2bc194fa").then(t)}},{path:"/pages/f2a340/index.html",redirect:"/pages/f2a340/"},{path:"/04.å¶ä»/01.Python/02.Pythonæä½Office.html",redirect:"/pages/f2a340/"},{name:"v-1dc96cde",path:"/pages/c2b99b/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-1dc96cde").then(t)}},{path:"/pages/c2b99b/index.html",redirect:"/pages/c2b99b/"},{path:"/04.å¶ä»/01.Python/04.èªå·±åçpythonç¨åº.html",redirect:"/pages/c2b99b/"},{name:"v-152fe1e4",path:"/pages/f2a341/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-152fe1e4").then(t)}},{path:"/pages/f2a341/index.html",redirect:"/pages/f2a341/"},{path:"/04.å¶ä»/01.Python/03.Pythonç±»åºå­¦ä¹ .html",redirect:"/pages/f2a341/"},{name:"v-547abcde",path:"/pages/f799c7/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-547abcde").then(t)}},{path:"/pages/f799c7/index.html",redirect:"/pages/f799c7/"},{path:"/04.å¶ä»/01.Python/05.Pythonç¬è«.html",redirect:"/pages/f799c7/"},{name:"v-6ece5467",path:"/pages/5704cc/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-6ece5467").then(t)}},{path:"/pages/5704cc/index.html",redirect:"/pages/5704cc/"},{path:"/04.å¶ä»/02.Shell/01.Shellåºç¡.html",redirect:"/pages/5704cc/"},{name:"v-e244ce58",path:"/pages/5765cc/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-e244ce58").then(t)}},{path:"/pages/5765cc/index.html",redirect:"/pages/5765cc/"},{path:"/04.å¶ä»/02.Shell/02.Shellå°å·¥å·.html",redirect:"/pages/5765cc/"},{name:"v-412d7d01",path:"/pages/c917bd/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-412d7d01").then(t)}},{path:"/pages/c917bd/index.html",redirect:"/pages/c917bd/"},{path:"/04.å¶ä»/03.Scala/01.è¯­æ³å­¦ä¹ .html",redirect:"/pages/c917bd/"},{name:"v-0499277d",path:"/pages/e4e158/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-0499277d").then(t)}},{path:"/pages/e4e158/index.html",redirect:"/pages/e4e158/"},{path:"/04.å¶ä»/04.æ­£åè¡¨è¾¾å¼/01.æ­£ååºç¡.html",redirect:"/pages/e4e158/"},{name:"v-00f00e91",path:"/pages/AXI4oJ/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-00f00e91").then(t)}},{path:"/pages/AXI4oJ/index.html",redirect:"/pages/AXI4oJ/"},{path:"/04.å¶ä»/100.æå½/01.æå½.html",redirect:"/pages/AXI4oJ/"},{name:"v-48901c43",path:"/pages/gxfmrs/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-48901c43").then(t)}},{path:"/pages/gxfmrs/index.html",redirect:"/pages/gxfmrs/"},{path:"/04.å¶ä»/06.åç«¯/01.åç«¯ç¸å³.html",redirect:"/pages/gxfmrs/"},{name:"v-68f50c4e",path:"/pages/e6d5cb/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-68f50c4e").then(t)}},{path:"/pages/e6d5cb/index.html",redirect:"/pages/e6d5cb/"},{path:"/04.å¶ä»/98.èµæ/98.èµæ.html",redirect:"/pages/e6d5cb/"},{name:"v-5e6eb6cd",path:"/pages/414e9c/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-5e6eb6cd").then(t)}},{path:"/pages/414e9c/index.html",redirect:"/pages/414e9c/"},{path:"/04.å¶ä»/99.æè®°/01.å¸¸ç¨å·¥å·æç½ç«.html",redirect:"/pages/414e9c/"},{name:"v-acb49e1a",path:"/pages/378bb1/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-acb49e1a").then(t)}},{path:"/pages/378bb1/index.html",redirect:"/pages/378bb1/"},{path:"/04.å¶ä»/99.æè®°/03.å¿«æ·é®.html",redirect:"/pages/378bb1/"},{name:"v-90e7de80",path:"/pages/c0e729/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-90e7de80").then(t)}},{path:"/pages/c0e729/index.html",redirect:"/pages/c0e729/"},{path:"/04.å¶ä»/99.æè®°/02.çç¢ç¥è¯.html",redirect:"/pages/c0e729/"},{name:"v-447f8646",path:"/pages/3cec6c/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-447f8646").then(t)}},{path:"/pages/3cec6c/index.html",redirect:"/pages/3cec6c/"},{path:"/04.å¶ä»/99.æè®°/10.FAQ.html",redirect:"/pages/3cec6c/"},{name:"v-460c88ea",path:"/archives/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-460c88ea").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-5111c592",path:"/",component:fl,beforeEnter:(n,e,t)=>{so("Layout","v-5111c592").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:fl}],bl={title:"åå®åææ¸",description:"",base:"/hdata-doc/",headTags:[["link",{rel:"icon",href:"/hdata-doc/img/favicon.ico"}],["meta",{name:"keywords",content:"vuepress,theme,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"Javaç¸å³ç¥è¯",frontmatter:{title:"Javaç¸å³ç¥è¯",date:"2022-02-23T13:45:00.000Z",permalink:"/pages/de9b5e/",categories:["Javaç¸å³"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/00.Java%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86.html",relativePath:"01.Javaç¸å³/00.Javaç¸å³ç¥è¯.md",key:"v-2df947ea",path:"/pages/de9b5e/",headers:[{level:2,title:"Javaç¸å³ç¥è¯ç§¯ç´¯",slug:"javaç¸å³ç¥è¯ç§¯ç´¯",normalizedTitle:"javaç¸å³ç¥è¯ç§¯ç´¯",charIndex:2},{level:4,title:"å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§",slug:"å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§",normalizedTitle:"å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§",charIndex:58}],headersStr:"Javaç¸å³ç¥è¯ç§¯ç´¯ å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§",content:"# Javaç¸å³ç¥è¯ç§¯ç´¯\n\n----------------------------------------\n\n# å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§\n\n * ååç¼å­ï¼ååæ°æ®åº\n * ååæ°æ®åºï¼ååç¼å­\n * åå ç¼å­ï¼ååæ°æ®åº\n * ååæ°æ®åºï¼åå ç¼å­\n\nåæé¾æ¥",normalizedContent:"# javaç¸å³ç¥è¯ç§¯ç´¯\n\n----------------------------------------\n\n# å¦ä½ä¿è¯æ°æ®åºåç¼å­ååä¸è´æ§\n\n * ååç¼å­ï¼ååæ°æ®åº\n * ååæ°æ®åºï¼ååç¼å­\n * åå ç¼å­ï¼ååæ°æ®åº\n * ååæ°æ®åºï¼åå ç¼å­\n\nåæé¾æ¥",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Javaæ©å±",frontmatter:{title:"Javaæ©å±",date:"2022-04-15T22:20:30.000Z",permalink:"/pages/035171/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/01.%E5%9F%BA%E7%A1%80/02.Java%E6%89%A9%E5%B1%95.html",relativePath:"01.Javaç¸å³/01.åºç¡/02.Javaæ©å±.md",key:"v-d2fb2a82",path:"/pages/035171/",headers:[{level:3,title:"åºç¡",slug:"åºç¡",normalizedTitle:"åºç¡",charIndex:2},{level:4,title:"Java Docs",slug:"java-docs",normalizedTitle:"java docs",charIndex:8},{level:5,title:"Java ææ¡£æ³¨é",slug:"java-ææ¡£æ³¨é",normalizedTitle:"java ææ¡£æ³¨é",charIndex:21},{level:5,title:"ideaçæé¡¹ç®å¸®å©ææ¡£",slug:"ideaçæé¡¹ç®å¸®å©ææ¡£",normalizedTitle:"ideaçæé¡¹ç®å¸®å©ææ¡£",charIndex:1876},{level:4,title:"idea Debuggerä½¿ç¨",slug:"idea-debuggerä½¿ç¨",normalizedTitle:"idea debuggerä½¿ç¨",charIndex:2076},{level:4,title:"æ°æ®ç±»åç¥è¯ç¹",slug:"æ°æ®ç±»åç¥è¯ç¹",normalizedTitle:"æ°æ®ç±»åç¥è¯ç¹",charIndex:2101},{level:5,title:"Javaä¸­valueOfä¸parseIntæ¹æ³æ¯è¾",slug:"javaä¸­valueofä¸parseintæ¹æ³æ¯è¾",normalizedTitle:"javaä¸­valueofä¸parseintæ¹æ³æ¯è¾",charIndex:2112},{level:5,title:"HashMap",slug:"hashmap",normalizedTitle:"hashmap",charIndex:2235},{level:3,title:"å°æ¸¸æ2048",slug:"å°æ¸¸æ2048",normalizedTitle:"å°æ¸¸æ2048",charIndex:2264}],headersStr:"åºç¡ Java Docs Java ææ¡£æ³¨é ideaçæé¡¹ç®å¸®å©ææ¡£ idea Debuggerä½¿ç¨ æ°æ®ç±»åç¥è¯ç¹ Javaä¸­valueOfä¸parseIntæ¹æ³æ¯è¾ HashMap å°æ¸¸æ2048",content:'# åºç¡\n\n# Java Docs\n\n# Java ææ¡£æ³¨é\n\nJava æ¯æä¸ç§æ³¨éæ¹å¼ãåä¸¤ç§åå«æ¯ // å /* /ï¼ç¬¬ä¸ç§è¢«ç§°ä½è¯´ææ³¨éï¼å®ä»¥ /* å¼å§ï¼ä»¥ */ç»æã\n\nè¯´ææ³¨éåè®¸ä½ å¨ç¨åºä¸­åµå¥å³äºç¨åºçä¿¡æ¯ãä½ å¯ä»¥ä½¿ç¨ javadoc å·¥å·è½¯ä»¶æ¥çæä¿¡æ¯ï¼å¹¶è¾åºå°HTMLæä»¶ä¸­ã\n\nè¯´ææ³¨éï¼ä½¿ä½ æ´å æ¹ä¾¿çè®°å½ä½ çç¨åºä¿¡æ¯ã\n\njavadoc æ ç­¾\n\næ ç­¾              æè¿°                                            ç¤ºä¾\n@author         æ è¯ä¸ä¸ªç±»çä½è                                      @author description\n@deprecated     æåä¸ä¸ªè¿æçç±»ææå                                   @deprecated description\n{@docRoot}      ææå½åææ¡£æ ¹ç®å½çè·¯å¾                                  Directory Path\n@exception      æ å¿ä¸ä¸ªç±»æåºçå¼å¸¸                                    @exception exception-name explanation\n{@inheritDoc}   ä»ç´æ¥ç¶ç±»ç»§æ¿çæ³¨é                                    Inherits a comment from the immediate surperclass.\n{@link}         æå¥ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥                                 {@link name text}\n{@linkplain}    æå¥ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥ï¼ä½æ¯è¯¥é¾æ¥æ¾ç¤ºçº¯ææ¬å­ä½                    Inserts an in-line link to another topic.\n@param          è¯´æä¸ä¸ªæ¹æ³çåæ°                                     @param parameter-name explanation\n@return         è¯´æè¿åå¼ç±»å                                       @return explanation\n@see            æå®ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥                                 @see anchor\n@serial         è¯´æä¸ä¸ªåºååå±æ§                                     @serial description\n@serialData     è¯´æéè¿writeObject( ) å writeExternal( )æ¹æ³åçæ°æ®   @serialData description\n@serialField    è¯´æä¸ä¸ªObjectStreamFieldç»ä»¶                       @serialField name type description\n@since          æ è®°å½å¼å¥ä¸ä¸ªç¹å®çååæ¶                                 @since release\n@throws         å @exceptionæ ç­¾ä¸æ ·.                             The @throws tag has the same meaning as the @exception tag.\n{@value}        æ¾ç¤ºå¸¸éçå¼ï¼è¯¥å¸¸éå¿é¡»æ¯staticå±æ§ã                        Displays the value of a constant, which must be a static\n                                                              field.\n@version        æå®ç±»ççæ¬                                        @version info\n\n# ideaçæé¡¹ç®å¸®å©ææ¡£\n\nå¯ä»¥å¸®å©çè§£æºç \n\n * æå¼é¡¹ç® ->\n * Tools ->\n * Generate JavaDoc ->\n * å¨Output directoryéæ©ææ¡£è¾åºç®å½ ->\n * è®¾ç½®Locale:zh_CN ->\n * è®¾ç½®Other command line arguments:-encoding UTF-8 -charset UTF-8 ->\n * OK\n\n# idea Debuggerä½¿ç¨\n\nåå®¢é¾æ¥\n\n# æ°æ®ç±»åç¥è¯ç¹\n\n# Javaä¸­valueOfä¸parseIntæ¹æ³æ¯è¾\n\n * ä»è¿åç±»åå¯ä»¥çåºparseIntè¿åçæ¯åºæ¬ç±»åintï¼èvalueOfè¿åçæ¯å¯¹è±¡Integerï¼new Integer(Integer.parseInt(s))ï¼ãåæå°å\n\n# HashMap\n\nHashMapè¯¦è§£\n\nåæå°å\n\n\n# å°æ¸¸æ2048\n\nç¹å»æ¥ç\n\nä»¥ä¸ä¸ºä»£ç \n\nimport javax.swing.*;\nimport java.awt.*;\npublic class Block extends JLabel \n{\n  private int value;\n  public Block() \n  {\n    value = 0;//åå§åå¼ä¸º0\n    setFont(new Font("font", Font.PLAIN, 40));//è®¾å®å­ä½\n    setBackground(Color.gray);//è®¾å®åå§é¢è²ä¸ºç°è²\n  }\n \n  public int getValue()//è·åå¼\n  {\n    return value;\n  }\n \n  public void setValue(int value)\n  {\n    this.value = value;\n    String text = String.valueOf(value);\n    if (value != 0)\n      setText(text);\n    else\n      setText("");//å¦æå¼ä¸º0åä¸æ¾ç¤º\n    setColor();\n  }\n \n  public void setColor() //æ ¹æ®å¼çä¸åè®¾å®ä¸åçèæ¯é¢è²ãlabelå­ä½\n  {\n    switch (value) \n      {\n    case 0:\n      setBackground(Color.gray);\n      break;\n    case 2:\n      setBackground(new Color(238, 228, 218));\n      break;\n    case 4:\n      setBackground(new Color(238, 224, 198));\n      break;\n    case 8:\n      setBackground(new Color(243, 177, 116));\n      break;\n    case 16:\n      setBackground(new Color(243, 177, 116));\n      break;\n    case 32:\n      setBackground(new Color(248, 149, 90));\n      break;\n    case 64:\n      setBackground(new Color(249, 94, 50));\n      break;\n    case 128:\n      setBackground(new Color(239, 207, 108));\n      break;\n    case 256:\n      setBackground(new Color(239, 207, 99));\n      break;\n    case 512:\n      setBackground(new Color(239, 203, 82));\n      break;\n    case 1024:\n      setBackground(new Color(239, 199, 57));\n      break;\n    case 2048:\n      setBackground(new Color(239, 195, 41));\n      break;\n    case 4096:\n      setBackground(new Color(255, 60, 57));\n      break;\n      }\n  }\n}\n\n\nimport java.awt.*;\nimport javax.swing.*;\npublic class My2048 extends JFrame \n{ \n  public My2048()//æé å½æ° \n  {\n    setTitle("2048");//è®¾ç½®æ é¢\n    setSize(400, 400);//è®¾å®çªå£å¤§å°\n    setLocation(500, 200);//è®¾å®çªå£èµ·å§ä½ç½®\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    getContentPane().setLayout(new GridLayout(4, 4, 5, 5));//è®¾å®å¸å±æ¹å¼ä¸ºGridLayoutå\n    new Operation(this);\n    this.setVisible(true);//è®¾ä¸ºå¯è§\n  }\n \n  public static void main(String args]) //ç¨åºå¥å£ç¹\n  {\n    try\n    {\n      UIManager.setLookAndFeel("org.jvnet.substance.skin.SubstanceRavenGraphiteLookAndFeel");//è®¾å®UI\n    } //æ¥åæåºçå¼å¸¸\n    catch (ClassNotFoundException | InstantiationException| IllegalAccessException | UnsupportedLookAndFeelException e)\n    {\n      e.printStackTrace();\n    }\n    JFrame.setDefaultLookAndFeelDecorated(true);//è®¾å®Frameçç¼ºçå¤è§\n    new My2048();\n  }\n \n}\n\n\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class Operation implements KeyListener\n{\n  Block] block;//ç¨äºå¨å­16ä¸ªæ°æ®\n  JPanel panel;\n  public boolean up,down,left,right;\n  int moveFlag;//ç¨äºç´¯è®¡ç§»å¨çæ¬¡æ°\n  boolean numFlag;//ç¨äºå¤æ­æ¯å¦è¿è½å å¥æ°çæ°å­\n  public Operation(JFrame frame) \n  {\n    this.panel = (JPanel)frame.getContentPane();//æé åºpanel\n    block = new Block16];//æé åºé¿åº¦ä¸º16çæ°ç»\n    numFlag = true;//åå§å\n    moveFlag = 0;\n    up=true;down=true;left=true;right=true;\n    addBlock();\n    for (int i = 0; i < 2; i++)\n      appearBlock();\n    frame.addKeyListener(this);\n  }\n \n  private void addBlock() \n  {\n    for (int i = 0; i < 16; i++) //å¾paneléå å¥block\n    {\n      blocki] = new Block();\n      blocki].setHorizontalAlignment(JLabel.CENTER);// ä¸éæçæ ç­¾\n      blocki].setOpaque(true);\n      panel.add(blocki]);  \n    }\n  } \n  public void appearBlock() \n  {\n    while (numFlag) //å½è¿è½å å¥éæºçä¸ä¸ªæ°çå¼å¾æ¶å\n    {\n      int index = (int) (Math.random() * 16);//åä¸ä¸ª0å°15çéæºæ´æ°ï¼è¿ä¸ªæ°ä½ä¸ºéæºå å¥çä¸­ç2æ4çä½ç½®\n      if (blockindex].getValue() == 0)//å¦æè¿ä¸ªæ°æå¨çblockæ°ç»ä¸­å¼ä¸º0ï¼å³å¨ä¸ºç©ºçæ¶åï¼å å¥ä¸ä¸ª2æ4çæ°å­\n      {\n        if (Math.random() < 0.5)\n        {\n          blockindex].setValue(2);\n        }\n        else\n        {\n          blockindex].setValue(4);\n        }\n        break;//è·³åºwhile\n      }\n    }\n  }\n \n  public void judgeAppear() //ç»è®¡blockæ°ç»ä¸­æ¯å¦å«æå¼ä¸º0çåç´ ï¼è¥æ²¡æï¼ånumFlagåä¸ºfalse\n  {\n    int sum = 0;\n    for (int i = 0; i < 16; i++) \n    {\n      if (blocki].getValue() != 0)\n      {\n        sum++;\n      }\n    }\n    if (sum == 16)\n      numFlag = false;\n \n  }\n \n  public int Find(int i,int j,int a,int b)\n  {\n    while(i<b&&i>=a)\n    {\n       if(blocki].getValue()!=0)\n       {\n        return i;\n       }\n       i=i+j;\n    }\n    return -1;\n  }\n  public void upBlock()\n  {\n    int i=0,j=0;int t=0;int valueJ=0;int valueI=0;int index=0;\n    for(i=0;i<4;i++)\n    {\n      index=i;\n      for(j=i+4;j<16;j+=4)\n      {  \n        valueJ=0; valueI=0;\n        if(blockindex].getValue()==0)\n        {\n          t=Find(index,4,0,16);\n          if(t!=-1)\n          {\n            blockindex].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueI=blockindex].getValue();\n        if(blockj].getValue()==0)\n        {\n          t=Find(j,4,0,16);\n          if(t!=-1)\n          {\n            blockj].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueJ=blockj].getValue();\n        if(valueI==valueJ&&valueI!=0&&valueJ!=0)\n        {\n          blockindex].setValue(valueI+valueJ);\n          blockj].setValue(0);\n          numFlag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void downBlock() {\n \n    int i=0,j=0;int t=0;int valueJ=0;int valueI=0;int index=0;\n    for(i=12;i<16;i++)\n    {\n      index=i;\n      for(j=i-4;j>=0;j-=4)\n      {  \n        valueJ=0; valueI=0;\n        if(blockindex].getValue()==0)\n        {\n          t=Find(index,-4,0,16);\n          if(t!=-1)\n          {\n            blockindex].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueI=blockindex].getValue();\n        if(blockj].getValue()==0)\n        {\n          t=Find(j,-4,0,16);\n          if(t!=-1)\n          {\n            blockj].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueJ=blockj].getValue();\n        if(valueI==valueJ&&valueI!=0&&valueJ!=0)\n        {\n          blockindex].setValue(valueI+valueJ);\n          blockj].setValue(0);\n          numFlag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void rightBlock() \n  {\n    int i=0,j=0;int t=0;int valueJ=0;int valueI=0;int index=0;\n    for(i=3;i<16;i+=4)\n    {\n      index=i;\n      for(j=i-1;j>i-4;j--)\n      {  \n        valueJ=0; valueI=0;\n        if(blockindex].getValue()==0)\n        {\n          t=Find(index,-1,i-3,index+1);\n          if(t!=-1)\n          {\n            blockindex].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueI=blockindex].getValue();\n        if(blockj].getValue()==0)\n        {\n          t=Find(j,-1,i-3,j+1);\n          if(t!=-1)\n          {\n            blockj].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueJ=blockj].getValue();\n        if(valueI==valueJ&&valueI!=0&&valueJ!=0)\n        {\n          blockindex].setValue(valueI+valueJ);\n          blockj].setValue(0);\n          numFlag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void leftBlock() \n  {\n    int i=0,j=0;int t=0;int valueJ=0;int valueI=0;int index=0;\n    for(i=0;i<16;i+=4)\n    {\n      index=i;\n      for(j=i+1;j<i+4;j++)\n      {  \n        valueJ=0; valueI=0;\n        if(blockindex].getValue()==0)\n        {\n          t=Find(index,1,index,i+4);\n          if(t!=-1)\n          {\n            blockindex].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueI=blockindex].getValue();\n        if(blockj].getValue()==0)\n        {\n          t=Find(j,1,j,i+4);\n          if(t!=-1)\n          {\n            blockj].setValue(blockt].getValue());\n            blockt].setValue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valueJ=blockj].getValue();\n        if(valueI==valueJ&&valueI!=0&&valueJ!=0)\n        {\n          blockindex].setValue(valueI+valueJ);\n          blockj].setValue(0);\n          numFlag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void over() \n  {\n    if (numFlag ==false&& up==false&&down==false&&left==false&&right==false) //å½ä¸è½æ·»å åç´ ï¼å¹¶ä¸ä¸å¯ç§»å¨çæ­¥æ°è¶è¿36å°±è¾äºï¼è¾äºçæ¶åå¨çä¸­å¤®æ¾ç¤ºGAMEOVER\n    {\n      block4].setText("G");\n      block5].setText("A");\n      block6].setText("M");\n      block7].setText("E");\n      block8].setText("O");\n      block9].setText("V");\n      block10].setText("E");\n      block11].setText("R"); \n      block11].addMouseListener(new MouseAdapter() {public void mousePressed(MouseEvent e){reStart();}});\n    }\n  }\n   \n  public void win() //åOVER\n  { \n    block0].setText("Y");\n    block1].setText("O");\n    block2].setText("U");\n    block13].setText("W");\n    block14].setText("I");\n    block15].setText("N");\n    block15].addMouseListener(new MouseAdapter() {\n      public void mousePressed(MouseEvent e) {\n        reStart();\n      }\n    });\n  }\n  public void reStart()//éå¯æ¸¸æï¼åæé å½æ°ç±»ä¼¼ï¼ä¸å¨ç´¯è¿°\n  {\n    numFlag=true;\n    moveFlag=0;\n    up=true;down=true;left=true;right=true;\n    for(int i=0;i<16;i++)\n      blocki].setValue(0);\n    for (int i = 0; i < 2; i++)\n      appearBlock();\n  }\n  public void keyPressed(KeyEvent e) //å¤æ­æçä¸ä¸å·¦å³é®ï¼å¹¶ä¾æ¬¡è°ç¨ç§»å¨å½æ°ãå¤æ­å½æ°ãæ·»å å½æ°ãå¤æ­æ¯å¦è¾æçå½æ°\n  {\n    switch (e.getKeyCode()) {\n    case KeyEvent.VK_UP:\n      if(up){\n      upBlock();}\n      judgeAppear();\n      appearBlock();\n      over();\n       \n      if(numFlag==false)\n      {\n        up=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case KeyEvent.VK_DOWN:\n      if(down){\n      downBlock();}\n      judgeAppear();\n      appearBlock();\n      over();\n      if(numFlag==false)\n      {\n        down=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case KeyEvent.VK_LEFT:\n      if(left){\n      leftBlock();}\n      judgeAppear();\n      appearBlock();\n      over();\n       \n      if(numFlag==false)\n      {\n        left=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case KeyEvent.VK_RIGHT:\n      if(right){\n      rightBlock();}\n      judgeAppear();\n      appearBlock();\n      over();\n       \n      if(numFlag==false)\n      {\n        right=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    }\n \n  }\n  public void keyTyped(KeyEvent e) {\n \n  }\n  public void keyReleased(KeyEvent e) {\n \n  }\n \n}\n',normalizedContent:'# åºç¡\n\n# java docs\n\n# java ææ¡£æ³¨é\n\njava æ¯æä¸ç§æ³¨éæ¹å¼ãåä¸¤ç§åå«æ¯ // å /* /ï¼ç¬¬ä¸ç§è¢«ç§°ä½è¯´ææ³¨éï¼å®ä»¥ /* å¼å§ï¼ä»¥ */ç»æã\n\nè¯´ææ³¨éåè®¸ä½ å¨ç¨åºä¸­åµå¥å³äºç¨åºçä¿¡æ¯ãä½ å¯ä»¥ä½¿ç¨ javadoc å·¥å·è½¯ä»¶æ¥çæä¿¡æ¯ï¼å¹¶è¾åºå°htmlæä»¶ä¸­ã\n\nè¯´ææ³¨éï¼ä½¿ä½ æ´å æ¹ä¾¿çè®°å½ä½ çç¨åºä¿¡æ¯ã\n\njavadoc æ ç­¾\n\næ ç­¾              æè¿°                                            ç¤ºä¾\n@author         æ è¯ä¸ä¸ªç±»çä½è                                      @author description\n@deprecated     æåä¸ä¸ªè¿æçç±»ææå                                   @deprecated description\n{@docroot}      ææå½åææ¡£æ ¹ç®å½çè·¯å¾                                  directory path\n@exception      æ å¿ä¸ä¸ªç±»æåºçå¼å¸¸                                    @exception exception-name explanation\n{@inheritdoc}   ä»ç´æ¥ç¶ç±»ç»§æ¿çæ³¨é                                    inherits a comment from the immediate surperclass.\n{@link}         æå¥ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥                                 {@link name text}\n{@linkplain}    æå¥ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥ï¼ä½æ¯è¯¥é¾æ¥æ¾ç¤ºçº¯ææ¬å­ä½                    inserts an in-line link to another topic.\n@param          è¯´æä¸ä¸ªæ¹æ³çåæ°                                     @param parameter-name explanation\n@return         è¯´æè¿åå¼ç±»å                                       @return explanation\n@see            æå®ä¸ä¸ªå°å¦ä¸ä¸ªä¸»é¢çé¾æ¥                                 @see anchor\n@serial         è¯´æä¸ä¸ªåºååå±æ§                                     @serial description\n@serialdata     è¯´æéè¿writeobject( ) å writeexternal( )æ¹æ³åçæ°æ®   @serialdata description\n@serialfield    è¯´æä¸ä¸ªobjectstreamfieldç»ä»¶                       @serialfield name type description\n@since          æ è®°å½å¼å¥ä¸ä¸ªç¹å®çååæ¶                                 @since release\n@throws         å @exceptionæ ç­¾ä¸æ ·.                             the @throws tag has the same meaning as the @exception tag.\n{@value}        æ¾ç¤ºå¸¸éçå¼ï¼è¯¥å¸¸éå¿é¡»æ¯staticå±æ§ã                        displays the value of a constant, which must be a static\n                                                              field.\n@version        æå®ç±»ççæ¬                                        @version info\n\n# ideaçæé¡¹ç®å¸®å©ææ¡£\n\nå¯ä»¥å¸®å©çè§£æºç \n\n * æå¼é¡¹ç® ->\n * tools ->\n * generate javadoc ->\n * å¨output directoryéæ©ææ¡£è¾åºç®å½ ->\n * è®¾ç½®locale:zh_cn ->\n * è®¾ç½®other command line arguments:-encoding utf-8 -charset utf-8 ->\n * ok\n\n# idea debuggerä½¿ç¨\n\nåå®¢é¾æ¥\n\n# æ°æ®ç±»åç¥è¯ç¹\n\n# javaä¸­valueofä¸parseintæ¹æ³æ¯è¾\n\n * ä»è¿åç±»åå¯ä»¥çåºparseintè¿åçæ¯åºæ¬ç±»åintï¼èvalueofè¿åçæ¯å¯¹è±¡integerï¼new integer(integer.parseint(s))ï¼ãåæå°å\n\n# hashmap\n\nhashmapè¯¦è§£\n\nåæå°å\n\n\n# å°æ¸¸æ2048\n\nç¹å»æ¥ç\n\nä»¥ä¸ä¸ºä»£ç \n\nimport javax.swing.*;\nimport java.awt.*;\npublic class block extends jlabel \n{\n  private int value;\n  public block() \n  {\n    value = 0;//åå§åå¼ä¸º0\n    setfont(new font("font", font.plain, 40));//è®¾å®å­ä½\n    setbackground(color.gray);//è®¾å®åå§é¢è²ä¸ºç°è²\n  }\n \n  public int getvalue()//è·åå¼\n  {\n    return value;\n  }\n \n  public void setvalue(int value)\n  {\n    this.value = value;\n    string text = string.valueof(value);\n    if (value != 0)\n      settext(text);\n    else\n      settext("");//å¦æå¼ä¸º0åä¸æ¾ç¤º\n    setcolor();\n  }\n \n  public void setcolor() //æ ¹æ®å¼çä¸åè®¾å®ä¸åçèæ¯é¢è²ãlabelå­ä½\n  {\n    switch (value) \n      {\n    case 0:\n      setbackground(color.gray);\n      break;\n    case 2:\n      setbackground(new color(238, 228, 218));\n      break;\n    case 4:\n      setbackground(new color(238, 224, 198));\n      break;\n    case 8:\n      setbackground(new color(243, 177, 116));\n      break;\n    case 16:\n      setbackground(new color(243, 177, 116));\n      break;\n    case 32:\n      setbackground(new color(248, 149, 90));\n      break;\n    case 64:\n      setbackground(new color(249, 94, 50));\n      break;\n    case 128:\n      setbackground(new color(239, 207, 108));\n      break;\n    case 256:\n      setbackground(new color(239, 207, 99));\n      break;\n    case 512:\n      setbackground(new color(239, 203, 82));\n      break;\n    case 1024:\n      setbackground(new color(239, 199, 57));\n      break;\n    case 2048:\n      setbackground(new color(239, 195, 41));\n      break;\n    case 4096:\n      setbackground(new color(255, 60, 57));\n      break;\n      }\n  }\n}\n\n\nimport java.awt.*;\nimport javax.swing.*;\npublic class my2048 extends jframe \n{ \n  public my2048()//æé å½æ° \n  {\n    settitle("2048");//è®¾ç½®æ é¢\n    setsize(400, 400);//è®¾å®çªå£å¤§å°\n    setlocation(500, 200);//è®¾å®çªå£èµ·å§ä½ç½®\n    setdefaultcloseoperation(jframe.exit_on_close);\n    getcontentpane().setlayout(new gridlayout(4, 4, 5, 5));//è®¾å®å¸å±æ¹å¼ä¸ºgridlayoutå\n    new operation(this);\n    this.setvisible(true);//è®¾ä¸ºå¯è§\n  }\n \n  public static void main(string args]) //ç¨åºå¥å£ç¹\n  {\n    try\n    {\n      uimanager.setlookandfeel("org.jvnet.substance.skin.substanceravengraphitelookandfeel");//è®¾å®ui\n    } //æ¥åæåºçå¼å¸¸\n    catch (classnotfoundexception | instantiationexception| illegalaccessexception | unsupportedlookandfeelexception e)\n    {\n      e.printstacktrace();\n    }\n    jframe.setdefaultlookandfeeldecorated(true);//è®¾å®frameçç¼ºçå¤è§\n    new my2048();\n  }\n \n}\n\n\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class operation implements keylistener\n{\n  block] block;//ç¨äºå¨å­16ä¸ªæ°æ®\n  jpanel panel;\n  public boolean up,down,left,right;\n  int moveflag;//ç¨äºç´¯è®¡ç§»å¨çæ¬¡æ°\n  boolean numflag;//ç¨äºå¤æ­æ¯å¦è¿è½å å¥æ°çæ°å­\n  public operation(jframe frame) \n  {\n    this.panel = (jpanel)frame.getcontentpane();//æé åºpanel\n    block = new block16];//æé åºé¿åº¦ä¸º16çæ°ç»\n    numflag = true;//åå§å\n    moveflag = 0;\n    up=true;down=true;left=true;right=true;\n    addblock();\n    for (int i = 0; i < 2; i++)\n      appearblock();\n    frame.addkeylistener(this);\n  }\n \n  private void addblock() \n  {\n    for (int i = 0; i < 16; i++) //å¾paneléå å¥block\n    {\n      blocki] = new block();\n      blocki].sethorizontalalignment(jlabel.center);// ä¸éæçæ ç­¾\n      blocki].setopaque(true);\n      panel.add(blocki]);  \n    }\n  } \n  public void appearblock() \n  {\n    while (numflag) //å½è¿è½å å¥éæºçä¸ä¸ªæ°çå¼å¾æ¶å\n    {\n      int index = (int) (math.random() * 16);//åä¸ä¸ª0å°15çéæºæ´æ°ï¼è¿ä¸ªæ°ä½ä¸ºéæºå å¥çä¸­ç2æ4çä½ç½®\n      if (blockindex].getvalue() == 0)//å¦æè¿ä¸ªæ°æå¨çblockæ°ç»ä¸­å¼ä¸º0ï¼å³å¨ä¸ºç©ºçæ¶åï¼å å¥ä¸ä¸ª2æ4çæ°å­\n      {\n        if (math.random() < 0.5)\n        {\n          blockindex].setvalue(2);\n        }\n        else\n        {\n          blockindex].setvalue(4);\n        }\n        break;//è·³åºwhile\n      }\n    }\n  }\n \n  public void judgeappear() //ç»è®¡blockæ°ç»ä¸­æ¯å¦å«æå¼ä¸º0çåç´ ï¼è¥æ²¡æï¼ånumflagåä¸ºfalse\n  {\n    int sum = 0;\n    for (int i = 0; i < 16; i++) \n    {\n      if (blocki].getvalue() != 0)\n      {\n        sum++;\n      }\n    }\n    if (sum == 16)\n      numflag = false;\n \n  }\n \n  public int find(int i,int j,int a,int b)\n  {\n    while(i<b&&i>=a)\n    {\n       if(blocki].getvalue()!=0)\n       {\n        return i;\n       }\n       i=i+j;\n    }\n    return -1;\n  }\n  public void upblock()\n  {\n    int i=0,j=0;int t=0;int valuej=0;int valuei=0;int index=0;\n    for(i=0;i<4;i++)\n    {\n      index=i;\n      for(j=i+4;j<16;j+=4)\n      {  \n        valuej=0; valuei=0;\n        if(blockindex].getvalue()==0)\n        {\n          t=find(index,4,0,16);\n          if(t!=-1)\n          {\n            blockindex].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuei=blockindex].getvalue();\n        if(blockj].getvalue()==0)\n        {\n          t=find(j,4,0,16);\n          if(t!=-1)\n          {\n            blockj].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuej=blockj].getvalue();\n        if(valuei==valuej&&valuei!=0&&valuej!=0)\n        {\n          blockindex].setvalue(valuei+valuej);\n          blockj].setvalue(0);\n          numflag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void downblock() {\n \n    int i=0,j=0;int t=0;int valuej=0;int valuei=0;int index=0;\n    for(i=12;i<16;i++)\n    {\n      index=i;\n      for(j=i-4;j>=0;j-=4)\n      {  \n        valuej=0; valuei=0;\n        if(blockindex].getvalue()==0)\n        {\n          t=find(index,-4,0,16);\n          if(t!=-1)\n          {\n            blockindex].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuei=blockindex].getvalue();\n        if(blockj].getvalue()==0)\n        {\n          t=find(j,-4,0,16);\n          if(t!=-1)\n          {\n            blockj].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuej=blockj].getvalue();\n        if(valuei==valuej&&valuei!=0&&valuej!=0)\n        {\n          blockindex].setvalue(valuei+valuej);\n          blockj].setvalue(0);\n          numflag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void rightblock() \n  {\n    int i=0,j=0;int t=0;int valuej=0;int valuei=0;int index=0;\n    for(i=3;i<16;i+=4)\n    {\n      index=i;\n      for(j=i-1;j>i-4;j--)\n      {  \n        valuej=0; valuei=0;\n        if(blockindex].getvalue()==0)\n        {\n          t=find(index,-1,i-3,index+1);\n          if(t!=-1)\n          {\n            blockindex].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuei=blockindex].getvalue();\n        if(blockj].getvalue()==0)\n        {\n          t=find(j,-1,i-3,j+1);\n          if(t!=-1)\n          {\n            blockj].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuej=blockj].getvalue();\n        if(valuei==valuej&&valuei!=0&&valuej!=0)\n        {\n          blockindex].setvalue(valuei+valuej);\n          blockj].setvalue(0);\n          numflag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void leftblock() \n  {\n    int i=0,j=0;int t=0;int valuej=0;int valuei=0;int index=0;\n    for(i=0;i<16;i+=4)\n    {\n      index=i;\n      for(j=i+1;j<i+4;j++)\n      {  \n        valuej=0; valuei=0;\n        if(blockindex].getvalue()==0)\n        {\n          t=find(index,1,index,i+4);\n          if(t!=-1)\n          {\n            blockindex].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuei=blockindex].getvalue();\n        if(blockj].getvalue()==0)\n        {\n          t=find(j,1,j,i+4);\n          if(t!=-1)\n          {\n            blockj].setvalue(blockt].getvalue());\n            blockt].setvalue(0);\n          }\n          else\n          {\n            break;\n          }\n        }\n        valuej=blockj].getvalue();\n        if(valuei==valuej&&valuei!=0&&valuej!=0)\n        {\n          blockindex].setvalue(valuei+valuej);\n          blockj].setvalue(0);\n          numflag = true;\n        }\n        index=j;\n      }\n       \n    }\n  }\n  public void over() \n  {\n    if (numflag ==false&& up==false&&down==false&&left==false&&right==false) //å½ä¸è½æ·»å åç´ ï¼å¹¶ä¸ä¸å¯ç§»å¨çæ­¥æ°è¶è¿36å°±è¾äºï¼è¾äºçæ¶åå¨çä¸­å¤®æ¾ç¤ºgameover\n    {\n      block4].settext("g");\n      block5].settext("a");\n      block6].settext("m");\n      block7].settext("e");\n      block8].settext("o");\n      block9].settext("v");\n      block10].settext("e");\n      block11].settext("r"); \n      block11].addmouselistener(new mouseadapter() {public void mousepressed(mouseevent e){restart();}});\n    }\n  }\n   \n  public void win() //åover\n  { \n    block0].settext("y");\n    block1].settext("o");\n    block2].settext("u");\n    block13].settext("w");\n    block14].settext("i");\n    block15].settext("n");\n    block15].addmouselistener(new mouseadapter() {\n      public void mousepressed(mouseevent e) {\n        restart();\n      }\n    });\n  }\n  public void restart()//éå¯æ¸¸æï¼åæé å½æ°ç±»ä¼¼ï¼ä¸å¨ç´¯è¿°\n  {\n    numflag=true;\n    moveflag=0;\n    up=true;down=true;left=true;right=true;\n    for(int i=0;i<16;i++)\n      blocki].setvalue(0);\n    for (int i = 0; i < 2; i++)\n      appearblock();\n  }\n  public void keypressed(keyevent e) //å¤æ­æçä¸ä¸å·¦å³é®ï¼å¹¶ä¾æ¬¡è°ç¨ç§»å¨å½æ°ãå¤æ­å½æ°ãæ·»å å½æ°ãå¤æ­æ¯å¦è¾æçå½æ°\n  {\n    switch (e.getkeycode()) {\n    case keyevent.vk_up:\n      if(up){\n      upblock();}\n      judgeappear();\n      appearblock();\n      over();\n       \n      if(numflag==false)\n      {\n        up=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case keyevent.vk_down:\n      if(down){\n      downblock();}\n      judgeappear();\n      appearblock();\n      over();\n      if(numflag==false)\n      {\n        down=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case keyevent.vk_left:\n      if(left){\n      leftblock();}\n      judgeappear();\n      appearblock();\n      over();\n       \n      if(numflag==false)\n      {\n        left=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    case keyevent.vk_right:\n      if(right){\n      rightblock();}\n      judgeappear();\n      appearblock();\n      over();\n       \n      if(numflag==false)\n      {\n        right=false;\n      }\n      else\n      {\n        up=true;down=true;left=true;right=true;\n      }\n      break;\n    }\n \n  }\n  public void keytyped(keyevent e) {\n \n  }\n  public void keyreleased(keyevent e) {\n \n  }\n \n}\n',charsets:{cjk:!0},lastUpdated:"2022/07/03, 15:32:16",lastUpdatedTimestamp:1656833536e3},{title:"hutoolå·¥å·å",frontmatter:{title:"hutoolå·¥å·å",date:"2022-02-23T13:02:26.000Z",permalink:"/pages/1d1863/",categories:["Javaç¸å³","å·¥å·"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/02.%E5%B7%A5%E5%85%B7/001.hutool%E5%B7%A5%E5%85%B7%E5%8C%85.html",relativePath:"01.Javaç¸å³/02.å·¥å·/001.hutoolå·¥å·å.md",key:"v-689808d8",path:"/pages/1d1863/",headers:[{level:2,title:"é¾å¾ç³æ¶",slug:"é¾å¾ç³æ¶",normalizedTitle:"é¾å¾ç³æ¶",charIndex:2},{level:3,title:"å®æ¶ä»»å¡",slug:"å®æ¶ä»»å¡",normalizedTitle:"å®æ¶ä»»å¡",charIndex:242},{level:3,title:"äºç»´ç å·¥å·",slug:"äºç»´ç å·¥å·",normalizedTitle:"äºç»´ç å·¥å·",charIndex:1183},{level:3,title:"é®ä»¶å·¥å·",slug:"é®ä»¶å·¥å·",normalizedTitle:"é®ä»¶å·¥å·",charIndex:2108},{level:3,title:"Jsonå·¥å·",slug:"jsonå·¥å·",normalizedTitle:"jsonå·¥å·",charIndex:3458},{level:3,title:"ä¿¡æ¯è±æå·¥å·",slug:"ä¿¡æ¯è±æå·¥å·",normalizedTitle:"ä¿¡æ¯è±æå·¥å·",charIndex:5677},{level:3,title:"åç¼©å·¥å·",slug:"åç¼©å·¥å·",normalizedTitle:"åç¼©å·¥å·",charIndex:6187},{level:3,title:"å¯ä¸IDå·¥å·",slug:"å¯ä¸idå·¥å·",normalizedTitle:"å¯ä¸idå·¥å·",charIndex:7668},{level:3,title:"æ­£åå·¥å·",slug:"æ­£åå·¥å·",normalizedTitle:"æ­£åå·¥å·",charIndex:8736},{level:3,title:"èº«ä»½è¯å·¥å·",slug:"èº«ä»½è¯å·¥å·",normalizedTitle:"èº«ä»½è¯å·¥å·",charIndex:10611},{level:3,title:"EasyExcelå·¥å·ç±»",slug:"easyexcelå·¥å·ç±»",normalizedTitle:"easyexcelå·¥å·ç±»",charIndex:12004},{level:4,title:"ä»£ç å®ç°è¿ç¨",slug:"ä»£ç å®ç°è¿ç¨",normalizedTitle:"ä»£ç å®ç°è¿ç¨",charIndex:12020}],headersStr:"é¾å¾ç³æ¶ å®æ¶ä»»å¡ äºç»´ç å·¥å· é®ä»¶å·¥å· Jsonå·¥å· ä¿¡æ¯è±æå·¥å· åç¼©å·¥å· å¯ä¸IDå·¥å· æ­£åå·¥å· èº«ä»½è¯å·¥å· EasyExcelå·¥å·ç±» ä»£ç å®ç°è¿ç¨",content:'# é¾å¾ç³æ¶\n\nå¯¼å¥ä¾èµ\n\n        <dependency>\n            <groupId>cn.hutool</groupId>\n            <artifactId>hutool-all</artifactId>\n            <version>${hutool.version}</version>\n        </dependency>\n\n\n----------------------------------------\n\n\n# å®æ¶ä»»å¡\n\nç¹å»æ¥ç\n\ncron.setting\n\n\n# ææ¯æ³¨é  == com.company.aaa.job.TestJob.run = */10 * * * *\n[com.hrbu.cron]\nå®æ¶ä»»å¡.Test = */10 * * * * *\n\n\npackage com.hrbu.cron;\n\nimport cn.hutool.core.lang.Console;\nimport cn.hutool.cron.CronUtil;\nimport cn.hutool.cron.task.Task;\nimport org.junit.Test;\n\n/**\n * éç½®æä»¶cron.setting\n */\npublic class å®æ¶ä»»å¡ {\n\n\n    @Test\n    public void Main() throws InterruptedException {\n        // éç½®æä»¶åæ³ä¸éè¦è°ç¨å°±å¯ä»¥æ§è¡ï¼\n        Test2();\n        Thread.currentThread().sleep(30000);\n    }\n\n    /**\n     * å®æ¶ä»»å¡\n     */\n    public void Test() {\n        System.out.println("hello world!!!");\n    }\n\n    /**\n     * å¨ææ·»å å®æ¶ä»»å¡\n     */\n    public void Test2() {\n        CronUtil.schedule("*/2 * * * * *", new Task() {\n            @Override\n            public void execute() {\n                Console.log("Task excuted.");\n            }\n        });\n\n        // æ¯æç§çº§å«å®æ¶ä»»å¡\n        CronUtil.setMatchSecond(true);\n        CronUtil.start();\n    }\n}\n\n\n\n\n# äºç»´ç å·¥å·\n\nç¹å»æ¥ç\n\n        \x3c!-- äºç»´ç ä¾èµ --\x3e\n        <dependency>\n            <groupId>com.google.zxing</groupId>\n            <artifactId>core</artifactId>\n            <version>${qrcode.version}</version>\n        </dependency>\n\n\npackage com.hrbu.extra;\n\nimport cn.hutool.core.io.FileUtil;\nimport cn.hutool.extra.qrcode.QrCodeUtil;\nimport org.junit.Test;\n\npublic class äºç»´ç å·¥å· {\n    /**\n     * çæäºç»´ç \n     *\n     * ä¹å¯ä»¥èªè¡è®¾ç½® 1.æ ·å¼ï¼é¢è²ï¼è¾¹è·ï¼ 2.logoå°å¾æ  3.è°æ´çº éçº§å«\n     */\n    @Test\n    public void Test() {\n        // çææå®urlå¯¹åºçäºç»´ç å°æä»¶(ä¹å¯ä»¥å°æµ)ï¼å®½åé«é½æ¯300åç´ \n        QrCodeUtil.generate("http://aihb.top/", 300, 300, FileUtil.file("D:\\\\Program Files\\\\JetBrains\\\\project\\\\utils\\\\a_common\\\\qrcode.jpg"));\n\n    }\n\n    /**\n     * è¯å«äºç»´ç \n     */\n    @Test\n    public void Test2() {\n        String decode = QrCodeUtil.decode(FileUtil.file("D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\qrcode.jpg"));\n        System.out.println(decode);\n    }\n}\n\n\n\n\n# é®ä»¶å·¥å·\n\nç¹å»æ¥ç\n\n        \x3c!-- é®ä»¶ä¾èµ --\x3e\n        <dependency>\n            <groupId>com.sun.mail</groupId>\n            <artifactId>javax.mail</artifactId>\n            <version>${mail.version}</version>\n        </dependency>\n\n\nmail.setting\n\n# åä»¶äººï¼å¿é¡»æ­£ç¡®ï¼å¦ååéå¤±è´¥ï¼\n# from = hutool@yeah.net\nfrom = 1714686225@qq.com\n# å¯ç ï¼æ³¨æï¼æäºé®ç®±éè¦ä¸ºSMTPæå¡åç¬è®¾ç½®å¯ç ï¼è¯¦ææ¥çç¸å³å¸®å©ï¼\npass = mmmggnsqvstrdjhe\n# ä½¿ç¨SSLå®å¨è¿æ¥\nsslEnable = true\n# é®ä»¶æå¡å¨çSMTPç«¯å£ï¼å¯éï¼é»è®¤25\nport = 465  # 465 587\n\n# é®ä»¶æå¡å¨çSMTPå°åï¼å¯éï¼é»è®¤ä¸ºsmtp.<åä»¶äººé®ç®±åç¼>\n# host = smtp.qq.com\n# ç¨æ·åï¼é»è®¤ä¸ºåä»¶äººé®ç®±åç¼\n# user = hutool\n\n\npackage com.hrbu.extra;\n\nimport cn.hutool.core.collection.CollUtil;\nimport cn.hutool.core.io.FileUtil;\nimport cn.hutool.extra.mail.MailAccount;\nimport cn.hutool.extra.mail.MailUtil;\nimport org.junit.Test;\n\n/**\n * éç½®æä»¶mail.setting\n */\npublic class é®ä»¶å·¥å· {\n\n    /**\n     * æ®éææ¬\n     */\n    @Test\n    public void Test() {\n        MailUtil.send("xxx@qq.com", "æµè¯", "é®ä»¶æ¥èªHutoolæµè¯", false);\n    }\n\n    /**\n     * ç¾¤å\n     */\n    @Test\n    public void Test2() {\n        MailUtil.send(CollUtil.newArrayList("xxx@qq.com", "zzz@qq.com"), "æµè¯", "é®ä»¶æ¥èªHutoolæµè¯", false);\n    }\n\n    /**\n     * htmlæ ¼å¼é®ä»¶ï¼å¹¶å¢å éä»¶  465ç«¯å£\n     */\n    @Test\n    public void Test3() {\n        MailUtil.send(CollUtil.newArrayList("xxx@qq.com"), "é®å¤©", "é®å¤©ç¬¬ä¸ç« ", true, FileUtil.file("D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\zt.txt"));\n    }\n}\n\n\n\n\n# Jsonå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.io.json;\n\nimport cn.hutool.json.JSON;\nimport cn.hutool.json.JSONObject;\nimport cn.hutool.json.JSONUtil;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class Jsonç¸å³ {\n\n    private String jsonStr = "{\\"appId\\":\\"\\",\\"timestamp\\":1642926098,\\"nonceStr\\":\\"VLyigbixrv\\",\\"signature\\":\\"e57e0fdf59ce34efda440153656b72194d3bd9c5\\",\\"jsApiList\\":[\\"updateAppMessageShareData\\",\\"updateTimelineShareData\\"]}";\n\n    /**\n     * javaå¯¹è±¡è½¬ä¸ºJson\n     */\n    @Test\n    public void Test3()  {\n        Student student = new Student("1", "ahb", "ç·", "24");\n\n        // javaBeanè½¬ä¸ºjson (ä¸å¿½ç¥ç©ºå¼)\n        JSONObject jsonObject = JSONUtil.parseObj(student, false);\n        System.out.println(JSONUtil.toJsonPrettyStr(jsonObject));\n\n        // jsonObject.setDateFormat("yyyy-MM-dd HH:mm:ss"); // è®¾ç½®æ¶é´æ ¼å¼\n    }\n\n    /**\n     * XMLå­ç¬¦ä¸²è½¬æ¢ä¸ºJSON\n     * JSONè½¬æ¢ä¸ºXML\n     *\n     * JSONè½¬Bean\n     * readXXX ï¼ ä»JSONæä»¶ä¸­è¯»åJSONå¯¹è±¡çå¿«æ·æ¹æ³\n     */\n    @Test\n    public void Test2()  {\n        // ä»æä»¶ä¸­è¯»å\n        JSON json = JSONUtil.readJSON(new File("src/main/resources/test.json"), StandardCharsets.UTF_8);\n        // System.out.println(JSONUtil.toJsonPrettyStr(json));\n        System.out.println(JSONUtil.parseObj(json).getJSONArray("jsApiList"));\n    }\n\n    /**\n     * æ ¹æ®å­ç¬¦ä¸²åå»ºä¸ä¸ªjsonå¯¹è±¡\n     */\n    @Test\n    public void Test() {\n        // å­ç¬¦ä¸²è§£æ\n        JSONObject json1 = JSONUtil.parseObj(jsonStr);\n        System.out.println(json1.getStr("timestamp"));\n        System.out.println(json1.getInt("timestamp"));\n        System.out.println(json1.getLong("timestamp"));\n        System.out.println(json1.getDouble("timestamp"));\n        System.out.println(json1.getBigDecimal("timestamp"));\n\n        // æ ¼å¼åjson(æ ¼å¼åJSONå­ç¬¦ä¸²ï¼æ­¤æ¹æ³å¹¶ä¸ä¸¥æ ¼æ£æ¥JSONçæ ¼å¼æ­£ç¡®ä¸å¦)\n        System.out.println(JSONUtil.formatJsonStr(jsonStr));\n\n        // è½¬æ¢ä¸ºæ ¼å¼ååçJSONå­ç¬¦ä¸²\n        System.out.println(JSONUtil.toJsonPrettyStr(jsonStr));\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\nclass Student{\n    private String id;\n    private String name;\n    private String sex;\n    private String age;\n}\n\n\n\n# ä¿¡æ¯è±æå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.util.DesensitizedUtil;\nimport org.junit.Test;\n\n/**\n * ç°é¶æ®µæ¯æçè±ææ°æ®ç±»ååæ¬ï¼\n *\n * ç¨æ·id\n * ä¸­æå§å\n * èº«ä»½è¯å·\n * åº§æºå·\n * ææºå·\n * å°å\n * çµå­é®ä»¶\n * å¯ç \n * ä¸­å½å¤§éè½¦çï¼åå«æ®éè½¦è¾ãæ°è½æºè½¦è¾\n * é¶è¡å¡\n * æ´ä½æ¥è¯´ï¼æè°è±æå°±æ¯éèæä¿¡æ¯ä¸­çä¸é¨åå³é®ä¿¡æ¯ï¼ç¨*ä»£æ¿ï¼èªå®ä¹éèå¯ä»¥ä½¿ç¨StrUtil.hideæ¹æ³å®æã\n */\npublic class ä¿¡æ¯è±æå·¥å· {\n\n    /**\n     * èº«ä»½è¯å·è±æ\n     */\n    @Test\n    public void Test() {\n        String idCardNum = DesensitizedUtil.idCardNum("51343620000320711X", 1, 2);\n        System.out.println(idCardNum);\n    }\n}\n\n\n\n\n# åç¼©å·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.io.FileUtil;\nimport cn.hutool.core.util.ZipUtil;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.util.Collections;\nimport java.util.zip.ZipEntry;\n\npublic class åç¼©å·¥å· {\n\n    final String sourceFile = "D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\zt.txt";\n    final String sourceFile2 = "D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\num.csv";\n    final String tagFile = "D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\all.zip";\n    final String tagFile2 = "D:\\\\Program Files\\\\JetBrains\\\\project\\\\Utils\\\\a_common\\\\all";\n\n    /**\n     *  zipåç¼©\n     */\n    @Test\n    public void Test() {\n        // ZipUtil.zip(sourceFile, tagFile);\n\n        File zip = ZipUtil.zip(FileUtil.file(tagFile), false,\n                FileUtil.file(sourceFile),\n                FileUtil.file(sourceFile2));    // å¤æä»¶æç®å½åç¼©\n        System.out.println(zip);\n    }\n\n    /**\n     *  zipè§£åç¼©\n     */\n    @Test\n    public void Test2() {\n        File unzip = ZipUtil.unzip(tagFile, tagFile2);\n        System.out.println(unzip);\n    }\n\n\n    /**\n     * Gzipæ¯ç½é¡µä¼ è¾ä¸­å¹¿æ³ä½¿ç¨çåç¼©æ¹å¼ï¼Hutoolåæ ·æä¾å¶å·¥å·æ¹æ³ç®åå¶è¿ç¨ã\n     * ZipUtil.gzip åç¼©ï¼å¯åç¼©å­ç¬¦ä¸²ï¼ä¹å¯åç¼©æä»¶ ZipUtil.unGzip è§£åGzipæä»¶\n     *\n     *\n     * ZipUtil.zlib åç¼©ï¼å¯åç¼©å­ç¬¦ä¸²ï¼ä¹å¯åç¼©æä»¶ ZipUtil.unZlib è§£åzlibæä»¶\n     * æ³¨æ ZipUtilé»è®¤æåµä¸ä½¿ç¨ç³»ç»ç¼ç ï¼ä¹å°±æ¯è¯´ï¼\n     * å¦æä½ å¨å½ä»¤è¡ä¸è¿è¡ï¼åè°ç¨ç³»ç»ç¼ç ï¼ä¸è¬Windowsä¸ä¸ºGBKãLinuxä¸ä¸ºUTF-8ï¼\n     * å¦æä½ å¨IDEï¼å¦Eclipseï¼ä¸è¿è¡ä»£ç ï¼åè¯»åçæ¯å½åé¡¹ç®çç¼ç ï¼è¯¦ç»è¯·æ¥éIDEè®¾ç½®ï¼æçé¡¹ç®é»è®¤é½æ¯UTF-8ç¼ç ï¼å æ­¤è§£åååç¼©é½æ¯ç¨è¿ä¸ªç¼ç ï¼\n     */\n}\n\n\n\n\n# å¯ä¸IDå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.lang.Snowflake;\nimport cn.hutool.core.util.IdUtil;\nimport cn.hutool.core.util.ObjectUtil;\nimport org.junit.Test;\n\npublic class å¯ä¸IDå·¥å· {\n    /**\n     * UUID\n     */\n    @Test\n    public void Test() {\n        System.out.println(IdUtil.fastUUID());          // å¸¦-çUUID\n        System.out.println(IdUtil.fastSimpleUUID());    // ä¸å¸¦-çUUID\n    }\n\n    /**\n     * ObjectId\n     * ObjectIdæ¯MongoDBæ°æ®åºçä¸ç§å¯ä¸IDçæç­ç¥\n     */\n    @Test\n    public void Test2() {\n        System.out.println(IdUtil.objectId());\n    }\n\n    /**\n     * éªè±ç®æ³\n     * åå¸å¼ç³»ç»ä¸­ï¼æä¸äºéè¦ä½¿ç¨å¨å±å¯ä¸IDçåºæ¯ï¼æäºæ¶åæä»¬å¸æè½ä½¿ç¨ä¸ç§ç®åä¸äºçIDï¼å¹¶ä¸å¸æIDè½å¤æç§æ¶é´æåºçæãTwitterçSnowflake ç®æ³å°±æ¯è¿ç§çæå¨ã\n     * æ³¨æ: IdUtil.createSnowflakeæ¯æ¬¡è°ç¨ä¼åå»ºä¸ä¸ªæ°çSnowflakeå¯¹è±¡ï¼ä¸åçSnowflakeå¯¹è±¡åå»ºçIDå¯è½ä¼æéå¤ï¼å æ­¤è¯·èªè¡ç»´æ¤æ­¤å¯¹è±¡ä¸ºåä¾ï¼æèä½¿ç¨IdUtil.getSnowflakeä½¿ç¨å¨å±åä¾å¯¹è±¡ã\n     */\n    @Test\n    public void Test3() {\n        // åæ°1ä¸ºç»ç«¯ID\n        // åæ°2ä¸ºæ°æ®ä¸­å¿ID\n        Snowflake snowflake = IdUtil.getSnowflake(1, 2);\n        for (int i = 0; i < 200; i++) {\n            System.out.println(snowflake.nextId());\n        }\n    }\n\n}\n\n\n\n\n# æ­£åå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.util.ReUtil;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\n\npublic class æ­£åå·¥å· {\n\n    private final String[] strs = {\n            "ZZZaaabbbcccä¸­æ1234",\n            "ZZZaaabbbcccä¸­æ1234,:345/"\n    };\n    /**\n     * æ­£åæåå¹éå°çæ°æ®\n     */\n    @Test\n    public void Test() {\n        String str1 = ReUtil.extractMulti("(\\\\w+).*(\\\\d+)", strs[0], "$1\\t$2");      // æååºå¹éå°çåå®¹\n        ArrayList<String> list = ReUtil.findAll("([\\\\u4e00-\\\\u9fa5]+)(\\\\d{2})", strs[0], 2, new ArrayList<String>());     //æ¥æ¾ææå¹éææ¬(0ææ 1ç¬¬ä¸ä¸ªæ¬å·å 2ç¬¬äºä¸ªæ¬å·å)\n\n        Integer firstNumber = ReUtil.getFirstNumber(strs[1]);                 // æ¾å°å¹éå°çç¬¬ä¸æ®µæ°å­\n        boolean match = ReUtil.isMatch("\\\\w{12}.*\\\\d{4}", strs[0]);     // æ­£åå¼æ¯å¦å®å¨å¹éå­ç¬¦ä¸²\n\n        String str2 = ReUtil.replaceAll(strs[1], "(\\\\d+)", "($1)");// å°å¹éå°çé¨åæ¿æ¢ä¸ºæå®å¼\n\n        String str3 = ReUtil.escape("hello ${world}!!");        // æ­£åå³é®å­è½¬ä¹\n\n\n        System.out.println(str1);\n        list.forEach(v -> System.out.printf(v + " "));\n        System.out.println();\n        System.out.println(firstNumber);\n        System.out.println(match);\n        System.out.println(str2);\n        System.out.println(str3);\n        // Assert.assertEquals("A-z", str);\n    }\n\n    /**\n     * å é¤å¹éå°çåå®¹\n     */\n    @Test\n    public void Test2() {\n        String str1 = ReUtil.delFirst("\\\\w+", strs[0]);         // å é¤ç¬¬ä¸æ¬¡å¹éå°çåå®¹\n        String str2 = ReUtil.delFirst("[\\\\u4e00-\\\\u9fa5]+", strs[0]);\n\n        String str3 = ReUtil.delAll("[0-9]{1}", strs[0]);       // å é¤ææå¹éå°çåå®¹\n        String str4 = ReUtil.delLast("[0-9]{1}", strs[0]);      // å é¤æåä¸æ¬¡å¹éå°çåå®¹\n        String str5 = ReUtil.delPre("[0-9]{1}", strs[0]);       // ç¬¬ä¸æ¬¡å¹éå°å­ç¬¦ä¹åçææåå®¹\n\n        System.out.println(str1 + "\\n" + str2 + "\\n" + str3 + "\\n" + str4 + "\\n" + str5 );\n        // Assert.assertEquals("A-z", str);\n    }\n}\n\n\n\n\n# èº«ä»½è¯å·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.date.DateTime;\nimport cn.hutool.core.date.DateUtil;\nimport cn.hutool.core.util.IdcardUtil;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class èº«ä»½è¯å·¥å· {\n\n    /**\n     * èº«ä»½è¯ç¸å³æ ¡éª\n     */\n    @Test\n    public void Main(){\n        String ID_18 = "321083197812162119";\n        String ID_15 = "150102880730303";\n\n        //æ¯å¦ææ\n        boolean valid = IdcardUtil.isValidCard(ID_18);\n        boolean valid15 = IdcardUtil.isValidCard(ID_15);\n\n        //è½¬æ¢\n        String convert15To18 = IdcardUtil.convert15To18(ID_15);\n        Assert.assertEquals(convert15To18, "150102198807303035");\n\n        //å¹´é¾\n        DateTime date = DateUtil.parse("2017-04-10");\n\n        int age = IdcardUtil.getAgeByIdCard(ID_18, date);\n        Assert.assertEquals(age, 38);\n\n        int age2 = IdcardUtil.getAgeByIdCard(ID_15, date);\n        Assert.assertEquals(age2, 28);\n\n        //çæ¥\n        String birth = IdcardUtil.getBirthByIdCard(ID_18);\n        Assert.assertEquals(birth, "19781216");\n\n        String birth2 = IdcardUtil.getBirthByIdCard(ID_15);\n        Assert.assertEquals(birth2, "19880730");\n\n        //çä»½\n        String province = IdcardUtil.getProvinceByIdCard(ID_18);\n        Assert.assertEquals(province, "æ±è");\n\n        String province2 = IdcardUtil.getProvinceByIdCard(ID_15);\n        Assert.assertEquals(province2, "åèå¤");\n\n    }\n}\n\n\n\n\n# EasyExcelå·¥å·ç±»\n\n# ä»£ç å®ç°è¿ç¨\n\nç¹å»æ¥ç\n\n        \x3c!-- start å­¦ä¹ Excel --\x3e\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>easyexcel</artifactId>\n            <version>3.0.5</version>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>fastjson</artifactId>\n            <version>1.2.75</version>\n        </dependency>\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <version>RELEASE</version>\n            <scope>compile</scope>\n        </dependency>\n        \x3c!-- end å­¦ä¹ Excel --\x3e\n\n\n1. å®ä½ç±»\n\n * é¦åéè¦æ°å»ºå®ä½ç±»ï¼æ¥å°excelä¸­æ¯ä¸è¡æ°æ®å¯¹åºå°ä¸ä¸ªå¯¹è±¡ä¸­ã\n * æ³¨è§£å­¦ä¹ \n   * @HeadRowHeight(20) è®¾ç½®è¡é«\n   * @ColumnWidth(25) è®¾ç½®åå®½\n   * @ExcelProperty(value = "BAL_ID", index = 0) headåç§°ãä¸æ \n   * @ExcelIgnore å¤çä¸­å¿½ç¥çå\n   * @DateTimeFormat("yyyy-MM-dd HH:mm:ss") æ¶é´æ ¼å¼å\n   * @NumberFormat("#.##%") æ¥æ¶ç¾åæ¯æ°æ®\n\n----------------------------------------\n\n2. çå¬å¨\n\n * ç»§æ¿AnalysisEventListener<å®ä½>ç±»ï¼éåå¶ä¸­ä¸¤ä¸ªæ¹æ³ï¼\n   * invoke è¯»åä¸æ¡æ°æ®ï¼æ§è¡ä¸æ¬¡è¯¥æ¹æ³ãå¯å¤çæ¯ä¸è¡æ°æ®\n   * doAfterAllAnalysed è¯»åç»æåï¼æ§è¡ä¸æ¬¡è¯¥æ¹æ³\n\n----------------------------------------\n\n3. è¯»å\n\nMyDataReadListener myDataReadListener = new MyDataReadListener();\n// å°è£å·¥ä½èå¯¹è±¡\nExcelReaderBuilder workBook = EasyExcel.read(sourceFile, MyData.class, myDataReadListener);\n// å°è£å·¥ä½è¡¨å¯¹è±¡\nExcelReaderSheetBuilder sheet = workBook.sheet();\n// è¯»å\nsheet.doRead();\nreturn myDataReadListener.getAllData();\n\n\n----------------------------------------\n\n4. èªå®ä¹æ¦æªå¨\n\n * å¯ä»¥ç¨äºæå®ç¹å®ååæ ¼æ ·å¼\n * è¿éå®ç°äºRowWriteHandleræ¥å£ï¼éåafterRowDisposeæ¹æ³ï¼å°å¯¹æ¯ç»æä¸åçååæ ¼ç½®ä¸ä¸åçåæ¯è²\n\néè¦äºè§£çç±»ææ¥å£\nWorkbookWriteHandler\nSheetWriteHandler\nRowWriteHandler\nCellWriteHandler\nDefaultWriteHandlerLoader\n\n\n----------------------------------------\n\n5. åå¥\n\nEasyExcel.write(tagFile, MyData.class)\n        .registerWriteHandler(new èªå®ä¹æ¦æªå¨())\n        .sheet()\n        .doWrite(æ°æ®é(List));\n\n\n----------------------------------------',normalizedContent:'# é¾å¾ç³æ¶\n\nå¯¼å¥ä¾èµ\n\n        <dependency>\n            <groupid>cn.hutool</groupid>\n            <artifactid>hutool-all</artifactid>\n            <version>${hutool.version}</version>\n        </dependency>\n\n\n----------------------------------------\n\n\n# å®æ¶ä»»å¡\n\nç¹å»æ¥ç\n\ncron.setting\n\n\n# ææ¯æ³¨é  == com.company.aaa.job.testjob.run = */10 * * * *\n[com.hrbu.cron]\nå®æ¶ä»»å¡.test = */10 * * * * *\n\n\npackage com.hrbu.cron;\n\nimport cn.hutool.core.lang.console;\nimport cn.hutool.cron.cronutil;\nimport cn.hutool.cron.task.task;\nimport org.junit.test;\n\n/**\n * éç½®æä»¶cron.setting\n */\npublic class å®æ¶ä»»å¡ {\n\n\n    @test\n    public void main() throws interruptedexception {\n        // éç½®æä»¶åæ³ä¸éè¦è°ç¨å°±å¯ä»¥æ§è¡ï¼\n        test2();\n        thread.currentthread().sleep(30000);\n    }\n\n    /**\n     * å®æ¶ä»»å¡\n     */\n    public void test() {\n        system.out.println("hello world!!!");\n    }\n\n    /**\n     * å¨ææ·»å å®æ¶ä»»å¡\n     */\n    public void test2() {\n        cronutil.schedule("*/2 * * * * *", new task() {\n            @override\n            public void execute() {\n                console.log("task excuted.");\n            }\n        });\n\n        // æ¯æç§çº§å«å®æ¶ä»»å¡\n        cronutil.setmatchsecond(true);\n        cronutil.start();\n    }\n}\n\n\n\n\n# äºç»´ç å·¥å·\n\nç¹å»æ¥ç\n\n        \x3c!-- äºç»´ç ä¾èµ --\x3e\n        <dependency>\n            <groupid>com.google.zxing</groupid>\n            <artifactid>core</artifactid>\n            <version>${qrcode.version}</version>\n        </dependency>\n\n\npackage com.hrbu.extra;\n\nimport cn.hutool.core.io.fileutil;\nimport cn.hutool.extra.qrcode.qrcodeutil;\nimport org.junit.test;\n\npublic class äºç»´ç å·¥å· {\n    /**\n     * çæäºç»´ç \n     *\n     * ä¹å¯ä»¥èªè¡è®¾ç½® 1.æ ·å¼ï¼é¢è²ï¼è¾¹è·ï¼ 2.logoå°å¾æ  3.è°æ´çº éçº§å«\n     */\n    @test\n    public void test() {\n        // çææå®urlå¯¹åºçäºç»´ç å°æä»¶(ä¹å¯ä»¥å°æµ)ï¼å®½åé«é½æ¯300åç´ \n        qrcodeutil.generate("http://aihb.top/", 300, 300, fileutil.file("d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\qrcode.jpg"));\n\n    }\n\n    /**\n     * è¯å«äºç»´ç \n     */\n    @test\n    public void test2() {\n        string decode = qrcodeutil.decode(fileutil.file("d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\qrcode.jpg"));\n        system.out.println(decode);\n    }\n}\n\n\n\n\n# é®ä»¶å·¥å·\n\nç¹å»æ¥ç\n\n        \x3c!-- é®ä»¶ä¾èµ --\x3e\n        <dependency>\n            <groupid>com.sun.mail</groupid>\n            <artifactid>javax.mail</artifactid>\n            <version>${mail.version}</version>\n        </dependency>\n\n\nmail.setting\n\n# åä»¶äººï¼å¿é¡»æ­£ç¡®ï¼å¦ååéå¤±è´¥ï¼\n# from = hutool@yeah.net\nfrom = 1714686225@qq.com\n# å¯ç ï¼æ³¨æï¼æäºé®ç®±éè¦ä¸ºsmtpæå¡åç¬è®¾ç½®å¯ç ï¼è¯¦ææ¥çç¸å³å¸®å©ï¼\npass = mmmggnsqvstrdjhe\n# ä½¿ç¨sslå®å¨è¿æ¥\nsslenable = true\n# é®ä»¶æå¡å¨çsmtpç«¯å£ï¼å¯éï¼é»è®¤25\nport = 465  # 465 587\n\n# é®ä»¶æå¡å¨çsmtpå°åï¼å¯éï¼é»è®¤ä¸ºsmtp.<åä»¶äººé®ç®±åç¼>\n# host = smtp.qq.com\n# ç¨æ·åï¼é»è®¤ä¸ºåä»¶äººé®ç®±åç¼\n# user = hutool\n\n\npackage com.hrbu.extra;\n\nimport cn.hutool.core.collection.collutil;\nimport cn.hutool.core.io.fileutil;\nimport cn.hutool.extra.mail.mailaccount;\nimport cn.hutool.extra.mail.mailutil;\nimport org.junit.test;\n\n/**\n * éç½®æä»¶mail.setting\n */\npublic class é®ä»¶å·¥å· {\n\n    /**\n     * æ®éææ¬\n     */\n    @test\n    public void test() {\n        mailutil.send("xxx@qq.com", "æµè¯", "é®ä»¶æ¥èªhutoolæµè¯", false);\n    }\n\n    /**\n     * ç¾¤å\n     */\n    @test\n    public void test2() {\n        mailutil.send(collutil.newarraylist("xxx@qq.com", "zzz@qq.com"), "æµè¯", "é®ä»¶æ¥èªhutoolæµè¯", false);\n    }\n\n    /**\n     * htmlæ ¼å¼é®ä»¶ï¼å¹¶å¢å éä»¶  465ç«¯å£\n     */\n    @test\n    public void test3() {\n        mailutil.send(collutil.newarraylist("xxx@qq.com"), "é®å¤©", "é®å¤©ç¬¬ä¸ç« ", true, fileutil.file("d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\zt.txt"));\n    }\n}\n\n\n\n\n# jsonå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.io.json;\n\nimport cn.hutool.json.json;\nimport cn.hutool.json.jsonobject;\nimport cn.hutool.json.jsonutil;\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport org.junit.test;\n\nimport java.io.file;\nimport java.nio.charset.charset;\nimport java.nio.charset.standardcharsets;\n\npublic class jsonç¸å³ {\n\n    private string jsonstr = "{\\"appid\\":\\"\\",\\"timestamp\\":1642926098,\\"noncestr\\":\\"vlyigbixrv\\",\\"signature\\":\\"e57e0fdf59ce34efda440153656b72194d3bd9c5\\",\\"jsapilist\\":[\\"updateappmessagesharedata\\",\\"updatetimelinesharedata\\"]}";\n\n    /**\n     * javaå¯¹è±¡è½¬ä¸ºjson\n     */\n    @test\n    public void test3()  {\n        student student = new student("1", "ahb", "ç·", "24");\n\n        // javabeanè½¬ä¸ºjson (ä¸å¿½ç¥ç©ºå¼)\n        jsonobject jsonobject = jsonutil.parseobj(student, false);\n        system.out.println(jsonutil.tojsonprettystr(jsonobject));\n\n        // jsonobject.setdateformat("yyyy-mm-dd hh:mm:ss"); // è®¾ç½®æ¶é´æ ¼å¼\n    }\n\n    /**\n     * xmlå­ç¬¦ä¸²è½¬æ¢ä¸ºjson\n     * jsonè½¬æ¢ä¸ºxml\n     *\n     * jsonè½¬bean\n     * readxxx ï¼ ä»jsonæä»¶ä¸­è¯»åjsonå¯¹è±¡çå¿«æ·æ¹æ³\n     */\n    @test\n    public void test2()  {\n        // ä»æä»¶ä¸­è¯»å\n        json json = jsonutil.readjson(new file("src/main/resources/test.json"), standardcharsets.utf_8);\n        // system.out.println(jsonutil.tojsonprettystr(json));\n        system.out.println(jsonutil.parseobj(json).getjsonarray("jsapilist"));\n    }\n\n    /**\n     * æ ¹æ®å­ç¬¦ä¸²åå»ºä¸ä¸ªjsonå¯¹è±¡\n     */\n    @test\n    public void test() {\n        // å­ç¬¦ä¸²è§£æ\n        jsonobject json1 = jsonutil.parseobj(jsonstr);\n        system.out.println(json1.getstr("timestamp"));\n        system.out.println(json1.getint("timestamp"));\n        system.out.println(json1.getlong("timestamp"));\n        system.out.println(json1.getdouble("timestamp"));\n        system.out.println(json1.getbigdecimal("timestamp"));\n\n        // æ ¼å¼åjson(æ ¼å¼åjsonå­ç¬¦ä¸²ï¼æ­¤æ¹æ³å¹¶ä¸ä¸¥æ ¼æ£æ¥jsonçæ ¼å¼æ­£ç¡®ä¸å¦)\n        system.out.println(jsonutil.formatjsonstr(jsonstr));\n\n        // è½¬æ¢ä¸ºæ ¼å¼ååçjsonå­ç¬¦ä¸²\n        system.out.println(jsonutil.tojsonprettystr(jsonstr));\n    }\n}\n\n@data\n@allargsconstructor\n@noargsconstructor\nclass student{\n    private string id;\n    private string name;\n    private string sex;\n    private string age;\n}\n\n\n\n# ä¿¡æ¯è±æå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.util.desensitizedutil;\nimport org.junit.test;\n\n/**\n * ç°é¶æ®µæ¯æçè±ææ°æ®ç±»ååæ¬ï¼\n *\n * ç¨æ·id\n * ä¸­æå§å\n * èº«ä»½è¯å·\n * åº§æºå·\n * ææºå·\n * å°å\n * çµå­é®ä»¶\n * å¯ç \n * ä¸­å½å¤§éè½¦çï¼åå«æ®éè½¦è¾ãæ°è½æºè½¦è¾\n * é¶è¡å¡\n * æ´ä½æ¥è¯´ï¼æè°è±æå°±æ¯éèæä¿¡æ¯ä¸­çä¸é¨åå³é®ä¿¡æ¯ï¼ç¨*ä»£æ¿ï¼èªå®ä¹éèå¯ä»¥ä½¿ç¨strutil.hideæ¹æ³å®æã\n */\npublic class ä¿¡æ¯è±æå·¥å· {\n\n    /**\n     * èº«ä»½è¯å·è±æ\n     */\n    @test\n    public void test() {\n        string idcardnum = desensitizedutil.idcardnum("51343620000320711x", 1, 2);\n        system.out.println(idcardnum);\n    }\n}\n\n\n\n\n# åç¼©å·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.io.fileutil;\nimport cn.hutool.core.util.ziputil;\nimport org.junit.test;\n\nimport java.io.file;\nimport java.util.collections;\nimport java.util.zip.zipentry;\n\npublic class åç¼©å·¥å· {\n\n    final string sourcefile = "d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\zt.txt";\n    final string sourcefile2 = "d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\num.csv";\n    final string tagfile = "d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\all.zip";\n    final string tagfile2 = "d:\\\\program files\\\\jetbrains\\\\project\\\\utils\\\\a_common\\\\all";\n\n    /**\n     *  zipåç¼©\n     */\n    @test\n    public void test() {\n        // ziputil.zip(sourcefile, tagfile);\n\n        file zip = ziputil.zip(fileutil.file(tagfile), false,\n                fileutil.file(sourcefile),\n                fileutil.file(sourcefile2));    // å¤æä»¶æç®å½åç¼©\n        system.out.println(zip);\n    }\n\n    /**\n     *  zipè§£åç¼©\n     */\n    @test\n    public void test2() {\n        file unzip = ziputil.unzip(tagfile, tagfile2);\n        system.out.println(unzip);\n    }\n\n\n    /**\n     * gzipæ¯ç½é¡µä¼ è¾ä¸­å¹¿æ³ä½¿ç¨çåç¼©æ¹å¼ï¼hutoolåæ ·æä¾å¶å·¥å·æ¹æ³ç®åå¶è¿ç¨ã\n     * ziputil.gzip åç¼©ï¼å¯åç¼©å­ç¬¦ä¸²ï¼ä¹å¯åç¼©æä»¶ ziputil.ungzip è§£ågzipæä»¶\n     *\n     *\n     * ziputil.zlib åç¼©ï¼å¯åç¼©å­ç¬¦ä¸²ï¼ä¹å¯åç¼©æä»¶ ziputil.unzlib è§£åzlibæä»¶\n     * æ³¨æ ziputilé»è®¤æåµä¸ä½¿ç¨ç³»ç»ç¼ç ï¼ä¹å°±æ¯è¯´ï¼\n     * å¦æä½ å¨å½ä»¤è¡ä¸è¿è¡ï¼åè°ç¨ç³»ç»ç¼ç ï¼ä¸è¬windowsä¸ä¸ºgbkãlinuxä¸ä¸ºutf-8ï¼\n     * å¦æä½ å¨ideï¼å¦eclipseï¼ä¸è¿è¡ä»£ç ï¼åè¯»åçæ¯å½åé¡¹ç®çç¼ç ï¼è¯¦ç»è¯·æ¥éideè®¾ç½®ï¼æçé¡¹ç®é»è®¤é½æ¯utf-8ç¼ç ï¼å æ­¤è§£åååç¼©é½æ¯ç¨è¿ä¸ªç¼ç ï¼\n     */\n}\n\n\n\n\n# å¯ä¸idå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.lang.snowflake;\nimport cn.hutool.core.util.idutil;\nimport cn.hutool.core.util.objectutil;\nimport org.junit.test;\n\npublic class å¯ä¸idå·¥å· {\n    /**\n     * uuid\n     */\n    @test\n    public void test() {\n        system.out.println(idutil.fastuuid());          // å¸¦-çuuid\n        system.out.println(idutil.fastsimpleuuid());    // ä¸å¸¦-çuuid\n    }\n\n    /**\n     * objectid\n     * objectidæ¯mongodbæ°æ®åºçä¸ç§å¯ä¸idçæç­ç¥\n     */\n    @test\n    public void test2() {\n        system.out.println(idutil.objectid());\n    }\n\n    /**\n     * éªè±ç®æ³\n     * åå¸å¼ç³»ç»ä¸­ï¼æä¸äºéè¦ä½¿ç¨å¨å±å¯ä¸idçåºæ¯ï¼æäºæ¶åæä»¬å¸æè½ä½¿ç¨ä¸ç§ç®åä¸äºçidï¼å¹¶ä¸å¸æidè½å¤æç§æ¶é´æåºçæãtwitterçsnowflake ç®æ³å°±æ¯è¿ç§çæå¨ã\n     * æ³¨æ: idutil.createsnowflakeæ¯æ¬¡è°ç¨ä¼åå»ºä¸ä¸ªæ°çsnowflakeå¯¹è±¡ï¼ä¸åçsnowflakeå¯¹è±¡åå»ºçidå¯è½ä¼æéå¤ï¼å æ­¤è¯·èªè¡ç»´æ¤æ­¤å¯¹è±¡ä¸ºåä¾ï¼æèä½¿ç¨idutil.getsnowflakeä½¿ç¨å¨å±åä¾å¯¹è±¡ã\n     */\n    @test\n    public void test3() {\n        // åæ°1ä¸ºç»ç«¯id\n        // åæ°2ä¸ºæ°æ®ä¸­å¿id\n        snowflake snowflake = idutil.getsnowflake(1, 2);\n        for (int i = 0; i < 200; i++) {\n            system.out.println(snowflake.nextid());\n        }\n    }\n\n}\n\n\n\n\n# æ­£åå·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.util.reutil;\nimport org.junit.assert;\nimport org.junit.test;\n\nimport java.util.arraylist;\n\npublic class æ­£åå·¥å· {\n\n    private final string[] strs = {\n            "zzzaaabbbcccä¸­æ1234",\n            "zzzaaabbbcccä¸­æ1234,:345/"\n    };\n    /**\n     * æ­£åæåå¹éå°çæ°æ®\n     */\n    @test\n    public void test() {\n        string str1 = reutil.extractmulti("(\\\\w+).*(\\\\d+)", strs[0], "$1\\t$2");      // æååºå¹éå°çåå®¹\n        arraylist<string> list = reutil.findall("([\\\\u4e00-\\\\u9fa5]+)(\\\\d{2})", strs[0], 2, new arraylist<string>());     //æ¥æ¾ææå¹éææ¬(0ææ 1ç¬¬ä¸ä¸ªæ¬å·å 2ç¬¬äºä¸ªæ¬å·å)\n\n        integer firstnumber = reutil.getfirstnumber(strs[1]);                 // æ¾å°å¹éå°çç¬¬ä¸æ®µæ°å­\n        boolean match = reutil.ismatch("\\\\w{12}.*\\\\d{4}", strs[0]);     // æ­£åå¼æ¯å¦å®å¨å¹éå­ç¬¦ä¸²\n\n        string str2 = reutil.replaceall(strs[1], "(\\\\d+)", "($1)");// å°å¹éå°çé¨åæ¿æ¢ä¸ºæå®å¼\n\n        string str3 = reutil.escape("hello ${world}!!");        // æ­£åå³é®å­è½¬ä¹\n\n\n        system.out.println(str1);\n        list.foreach(v -> system.out.printf(v + " "));\n        system.out.println();\n        system.out.println(firstnumber);\n        system.out.println(match);\n        system.out.println(str2);\n        system.out.println(str3);\n        // assert.assertequals("a-z", str);\n    }\n\n    /**\n     * å é¤å¹éå°çåå®¹\n     */\n    @test\n    public void test2() {\n        string str1 = reutil.delfirst("\\\\w+", strs[0]);         // å é¤ç¬¬ä¸æ¬¡å¹éå°çåå®¹\n        string str2 = reutil.delfirst("[\\\\u4e00-\\\\u9fa5]+", strs[0]);\n\n        string str3 = reutil.delall("[0-9]{1}", strs[0]);       // å é¤ææå¹éå°çåå®¹\n        string str4 = reutil.dellast("[0-9]{1}", strs[0]);      // å é¤æåä¸æ¬¡å¹éå°çåå®¹\n        string str5 = reutil.delpre("[0-9]{1}", strs[0]);       // ç¬¬ä¸æ¬¡å¹éå°å­ç¬¦ä¹åçææåå®¹\n\n        system.out.println(str1 + "\\n" + str2 + "\\n" + str3 + "\\n" + str4 + "\\n" + str5 );\n        // assert.assertequals("a-z", str);\n    }\n}\n\n\n\n\n# èº«ä»½è¯å·¥å·\n\nç¹å»æ¥ç\n\npackage com.hrbu.util;\n\nimport cn.hutool.core.date.datetime;\nimport cn.hutool.core.date.dateutil;\nimport cn.hutool.core.util.idcardutil;\nimport org.junit.assert;\nimport org.junit.test;\n\npublic class èº«ä»½è¯å·¥å· {\n\n    /**\n     * èº«ä»½è¯ç¸å³æ ¡éª\n     */\n    @test\n    public void main(){\n        string id_18 = "321083197812162119";\n        string id_15 = "150102880730303";\n\n        //æ¯å¦ææ\n        boolean valid = idcardutil.isvalidcard(id_18);\n        boolean valid15 = idcardutil.isvalidcard(id_15);\n\n        //è½¬æ¢\n        string convert15to18 = idcardutil.convert15to18(id_15);\n        assert.assertequals(convert15to18, "150102198807303035");\n\n        //å¹´é¾\n        datetime date = dateutil.parse("2017-04-10");\n\n        int age = idcardutil.getagebyidcard(id_18, date);\n        assert.assertequals(age, 38);\n\n        int age2 = idcardutil.getagebyidcard(id_15, date);\n        assert.assertequals(age2, 28);\n\n        //çæ¥\n        string birth = idcardutil.getbirthbyidcard(id_18);\n        assert.assertequals(birth, "19781216");\n\n        string birth2 = idcardutil.getbirthbyidcard(id_15);\n        assert.assertequals(birth2, "19880730");\n\n        //çä»½\n        string province = idcardutil.getprovincebyidcard(id_18);\n        assert.assertequals(province, "æ±è");\n\n        string province2 = idcardutil.getprovincebyidcard(id_15);\n        assert.assertequals(province2, "åèå¤");\n\n    }\n}\n\n\n\n\n# easyexcelå·¥å·ç±»\n\n# ä»£ç å®ç°è¿ç¨\n\nç¹å»æ¥ç\n\n        \x3c!-- start å­¦ä¹ excel --\x3e\n        <dependency>\n            <groupid>com.alibaba</groupid>\n            <artifactid>easyexcel</artifactid>\n            <version>3.0.5</version>\n        </dependency>\n        <dependency>\n            <groupid>com.alibaba</groupid>\n            <artifactid>fastjson</artifactid>\n            <version>1.2.75</version>\n        </dependency>\n        <dependency>\n            <groupid>org.projectlombok</groupid>\n            <artifactid>lombok</artifactid>\n            <version>release</version>\n            <scope>compile</scope>\n        </dependency>\n        \x3c!-- end å­¦ä¹ excel --\x3e\n\n\n1. å®ä½ç±»\n\n * é¦åéè¦æ°å»ºå®ä½ç±»ï¼æ¥å°excelä¸­æ¯ä¸è¡æ°æ®å¯¹åºå°ä¸ä¸ªå¯¹è±¡ä¸­ã\n * æ³¨è§£å­¦ä¹ \n   * @headrowheight(20) è®¾ç½®è¡é«\n   * @columnwidth(25) è®¾ç½®åå®½\n   * @excelproperty(value = "bal_id", index = 0) headåç§°ãä¸æ \n   * @excelignore å¤çä¸­å¿½ç¥çå\n   * @datetimeformat("yyyy-mm-dd hh:mm:ss") æ¶é´æ ¼å¼å\n   * @numberformat("#.##%") æ¥æ¶ç¾åæ¯æ°æ®\n\n----------------------------------------\n\n2. çå¬å¨\n\n * ç»§æ¿analysiseventlistener<å®ä½>ç±»ï¼éåå¶ä¸­ä¸¤ä¸ªæ¹æ³ï¼\n   * invoke è¯»åä¸æ¡æ°æ®ï¼æ§è¡ä¸æ¬¡è¯¥æ¹æ³ãå¯å¤çæ¯ä¸è¡æ°æ®\n   * doafterallanalysed è¯»åç»æåï¼æ§è¡ä¸æ¬¡è¯¥æ¹æ³\n\n----------------------------------------\n\n3. è¯»å\n\nmydatareadlistener mydatareadlistener = new mydatareadlistener();\n// å°è£å·¥ä½èå¯¹è±¡\nexcelreaderbuilder workbook = easyexcel.read(sourcefile, mydata.class, mydatareadlistener);\n// å°è£å·¥ä½è¡¨å¯¹è±¡\nexcelreadersheetbuilder sheet = workbook.sheet();\n// è¯»å\nsheet.doread();\nreturn mydatareadlistener.getalldata();\n\n\n----------------------------------------\n\n4. èªå®ä¹æ¦æªå¨\n\n * å¯ä»¥ç¨äºæå®ç¹å®ååæ ¼æ ·å¼\n * è¿éå®ç°äºrowwritehandleræ¥å£ï¼éåafterrowdisposeæ¹æ³ï¼å°å¯¹æ¯ç»æä¸åçååæ ¼ç½®ä¸ä¸åçåæ¯è²\n\néè¦äºè§£çç±»ææ¥å£\nworkbookwritehandler\nsheetwritehandler\nrowwritehandler\ncellwritehandler\ndefaultwritehandlerloader\n\n\n----------------------------------------\n\n5. åå¥\n\neasyexcel.write(tagfile, mydata.class)\n        .registerwritehandler(new èªå®ä¹æ¦æªå¨())\n        .sheet()\n        .dowrite(æ°æ®é(list));\n\n\n----------------------------------------',charsets:{cjk:!0},lastUpdated:"2022/08/21, 00:20:31",lastUpdatedTimestamp:1661012431e3},{title:"Commonsç±»åº",frontmatter:{title:"Commonsç±»åº",date:"2022-02-23T13:02:26.000Z",permalink:"/pages/1d1864/",categories:["Javaç¸å³","å·¥å·"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/02.%E5%B7%A5%E5%85%B7/002.Apache%20Commons%E5%B7%A5%E5%85%B7%E5%8C%85.html",relativePath:"01.Javaç¸å³/02.å·¥å·/002.Apache Commonså·¥å·å.md",key:"v-29791135",path:"/pages/1d1864/",headers:[{level:2,title:"Apache Commonsç±»åº",slug:"apache-commonsç±»åº",normalizedTitle:"apache commonsç±»åº",charIndex:2},{level:3,title:"å®æ¹ææ¡£",slug:"å®æ¹ææ¡£",normalizedTitle:"å®æ¹ææ¡£",charIndex:65},{level:4,title:"è¯»å Excel æ°æ®å­¦ä¹ ",slug:"è¯»å-excel-æ°æ®å­¦ä¹ ",normalizedTitle:"è¯»å excel æ°æ®å­¦ä¹ ",charIndex:79}],headersStr:"Apache Commonsç±»åº å®æ¹ææ¡£ è¯»å Excel æ°æ®å­¦ä¹ ",content:"# Apache Commonsç±»åº\n\n----------------------------------------\n\n\n# å®æ¹ææ¡£\n\nè®¿é®å°å\n\n# è¯»å Excel æ°æ®å­¦ä¹ \n\nè·³è½¬é¾æ¥ è·³è½¬é¾æ¥",normalizedContent:"# apache commonsç±»åº\n\n----------------------------------------\n\n\n# å®æ¹ææ¡£\n\nè®¿é®å°å\n\n# è¯»å excel æ°æ®å­¦ä¹ \n\nè·³è½¬é¾æ¥ è·³è½¬é¾æ¥",charsets:{cjk:!0},lastUpdated:"2024/03/17, 02:02:47",lastUpdatedTimestamp:1710612167e3},{title:"SQLè§£æå·¥å·",frontmatter:{title:"SQLè§£æå·¥å·",date:"2022-08-20T23:00:16.000Z",permalink:"/pages/2e9bb7/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/02.%E5%B7%A5%E5%85%B7/010.SQL%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7.html",relativePath:"01.Javaç¸å³/02.å·¥å·/010.SQLè§£æå·¥å·.md",key:"v-4c2230e8",path:"/pages/2e9bb7/",headers:[{level:2,title:"ä¸ãSQLFlow",slug:"ä¸ãsqlflow",normalizedTitle:"ä¸ãsqlflow",charIndex:2},{level:4,title:"1. é¡¹ç®ç®ä»",slug:"_1-é¡¹ç®ç®ä»",normalizedTitle:"1. é¡¹ç®ç®ä»",charIndex:15},{level:4,title:"2. è¡ç»åæå·¥å·",slug:"_2-è¡ç»åæå·¥å·",normalizedTitle:"2. è¡ç»åæå·¥å·",charIndex:349}],headersStr:"ä¸ãSQLFlow 1. é¡¹ç®ç®ä» 2. è¡ç»åæå·¥å·",content:"# ä¸ãSQLFlow\n\n# 1. é¡¹ç®ç®ä»\n\næ°æ®åºä¸­è§å¾(View)çæ°æ®æ¥èªè¡¨(Table)æå¶ä»è§å¾ï¼è§å¾ä¸­å­æ®µ(Column)çæ°æ®å¯è½æ¥èªå¤ä¸ªè¡¨ä¸­å¤ä¸ªå­æ®µçèé(aggregation)ã è¡¨ä¸­çæ°æ®å¯è½éè¿ETLä»å¤é¨ç³»ç»ä¸­å¯¼å¥ãè¿ç§ä»æ°æ®çæºå¤´ç»è¿åä¸ªå¤çç¯èï¼å°è¾¾æ°æ®ç»ç¹çæ°æ®é¾è·¯å³ç³»ç§°ä¸ºæ°æ®è¡ç¼å³ç³»(data lineage)ã\n\nSQLFlow éè¿åæåç§æ°æ®åºå¯¹è±¡çå®ä¹(DDL)ãDML è¯­å¥ãETL/ELTä¸­ä½¿ç¨çå­å¨è¿ç¨(Proceudre,Function)ã è§¦åå¨(Trigger)åå¶ä» SQL èæ¬ï¼ç»åºå®æ´çæ°æ®è¡ç¼å³ç³»ã\n\nå¨å¤§åæ°æ®ä»åºä¸­ï¼å®æ´çæ°æ®è¡ç¼å³ç³»å¯ä»¥ç¨æ¥è¿è¡æ°æ®æº¯æºãè¡¨åå­æ®µåæ´çå½±ååæãæ°æ®åè§æ§çè¯æãæ°æ®è´¨éçæ£æ¥ç­ã\n\n# 2. è¡ç»åæå·¥å·\n\nåæ°\n\nåæ°                     æè¿°\n/f                     SQLæä»¶çå®æ´è·¯å¾\n/d                     ç®å½çå®æ´è·¯å¾åæ¬SQLæä»¶\n/j                     è¿ååå«è¿æ¥å³ç³»çç»æ\n/s                     ç®åè¾åºï¼å¿½ç¥ä¸­é´ç»æ\n/topselectlist         å¸¦æé¡¶é¨selectç»æçç®åè¾åº\n/i                     ä¸/såæ°ç±»ä¼¼,ä½å°ä¿çSQLå½æ°çæçç»æé\n/if                    ä¿çææä¸­é´ç»æéï¼ä½å é¤SQLå½æ°çæçç»æé\n/ic                    å¿½ç¥è¾åºä¸­çåæ \n/lof                   å°å­¤å¿åï¼æ²¡ææå®è¡¨çåï¼é¾æ¥å°ç¬¬ä¸ä¸ªè¡¨\n/traceView             åªè¾åºæºè¡¨åè§å¾çåç§°ï¼å¿½ç¥ææä¸­é´æ°æ®\n/text                  æ­¤éé¡¹ä»ä½¿ç¨ /sï¼å¨ææ¬æ¨¡å¼ä¸è¾åºåä¾èµå³ç³»\n/json                  æå°JSONæ ¼å¼è¾åº\n/stat                  è¾åºåæç»è®¡ä¿¡æ¯\n/tableLineage [/csv]   è¾åºè¡¨çº§å«çSQLè¡ç»\n/csv                   ç¨csvæ¹å¼è¾åºåçº§å«è¡ç»å³ç³»\n/t                     è®¾ç½®æ°æ®åºç±»åï¼æ¯æ\n                       access,bigquery,couchbase,dax,db2,greenplum,hana,hive,impala,informix,mdx,mssql,sqlserver,mysql,netezza,odbc,openedge,oracle,postgresql,postgres,redshift,snowflake,sybase,teradata,soql,verticaç­ï¼é»è®¤å¼ä¸ºoracle\n/o                     å°è¾åºæµåå¥æå®çæä»¶\n/log                   çædataflow.logæä»¶ä»¥è®°å½æ¥å¿ä¿¡æ¯\n/env                   æå®ä¸ä¸ªåæ°æ®Jsonæ¥è·åæ°æ®åºåæ°æ®ä¿¡æ¯\n/transform             è¾åºå³ç³»è½¬æ¢ä»£ç \n/coor                  è¾åºå³ç³»åæ¢åæ ï¼ä½ä¸æ¯ä»£ç \n/defaultDatabase       specify the default schema.\n/defaultSchema         specify the default schema.\n/showImplicitSchema    show implicit schema.\n\nè¡ç¼åæç¤ºä¾ ä»æ°æ®åºä¸­æ½ååæ°æ®",normalizedContent:"# ä¸ãsqlflow\n\n# 1. é¡¹ç®ç®ä»\n\næ°æ®åºä¸­è§å¾(view)çæ°æ®æ¥èªè¡¨(table)æå¶ä»è§å¾ï¼è§å¾ä¸­å­æ®µ(column)çæ°æ®å¯è½æ¥èªå¤ä¸ªè¡¨ä¸­å¤ä¸ªå­æ®µçèé(aggregation)ã è¡¨ä¸­çæ°æ®å¯è½éè¿etlä»å¤é¨ç³»ç»ä¸­å¯¼å¥ãè¿ç§ä»æ°æ®çæºå¤´ç»è¿åä¸ªå¤çç¯èï¼å°è¾¾æ°æ®ç»ç¹çæ°æ®é¾è·¯å³ç³»ç§°ä¸ºæ°æ®è¡ç¼å³ç³»(data lineage)ã\n\nsqlflow éè¿åæåç§æ°æ®åºå¯¹è±¡çå®ä¹(ddl)ãdml è¯­å¥ãetl/eltä¸­ä½¿ç¨çå­å¨è¿ç¨(proceudre,function)ã è§¦åå¨(trigger)åå¶ä» sql èæ¬ï¼ç»åºå®æ´çæ°æ®è¡ç¼å³ç³»ã\n\nå¨å¤§åæ°æ®ä»åºä¸­ï¼å®æ´çæ°æ®è¡ç¼å³ç³»å¯ä»¥ç¨æ¥è¿è¡æ°æ®æº¯æºãè¡¨åå­æ®µåæ´çå½±ååæãæ°æ®åè§æ§çè¯æãæ°æ®è´¨éçæ£æ¥ç­ã\n\n# 2. è¡ç»åæå·¥å·\n\nåæ°\n\nåæ°                     æè¿°\n/f                     sqlæä»¶çå®æ´è·¯å¾\n/d                     ç®å½çå®æ´è·¯å¾åæ¬sqlæä»¶\n/j                     è¿ååå«è¿æ¥å³ç³»çç»æ\n/s                     ç®åè¾åºï¼å¿½ç¥ä¸­é´ç»æ\n/topselectlist         å¸¦æé¡¶é¨selectç»æçç®åè¾åº\n/i                     ä¸/såæ°ç±»ä¼¼,ä½å°ä¿çsqlå½æ°çæçç»æé\n/if                    ä¿çææä¸­é´ç»æéï¼ä½å é¤sqlå½æ°çæçç»æé\n/ic                    å¿½ç¥è¾åºä¸­çåæ \n/lof                   å°å­¤å¿åï¼æ²¡ææå®è¡¨çåï¼é¾æ¥å°ç¬¬ä¸ä¸ªè¡¨\n/traceview             åªè¾åºæºè¡¨åè§å¾çåç§°ï¼å¿½ç¥ææä¸­é´æ°æ®\n/text                  æ­¤éé¡¹ä»ä½¿ç¨ /sï¼å¨ææ¬æ¨¡å¼ä¸è¾åºåä¾èµå³ç³»\n/json                  æå°jsonæ ¼å¼è¾åº\n/stat                  è¾åºåæç»è®¡ä¿¡æ¯\n/tablelineage [/csv]   è¾åºè¡¨çº§å«çsqlè¡ç»\n/csv                   ç¨csvæ¹å¼è¾åºåçº§å«è¡ç»å³ç³»\n/t                     è®¾ç½®æ°æ®åºç±»åï¼æ¯æ\n                       access,bigquery,couchbase,dax,db2,greenplum,hana,hive,impala,informix,mdx,mssql,sqlserver,mysql,netezza,odbc,openedge,oracle,postgresql,postgres,redshift,snowflake,sybase,teradata,soql,verticaç­ï¼é»è®¤å¼ä¸ºoracle\n/o                     å°è¾åºæµåå¥æå®çæä»¶\n/log                   çædataflow.logæä»¶ä»¥è®°å½æ¥å¿ä¿¡æ¯\n/env                   æå®ä¸ä¸ªåæ°æ®jsonæ¥è·åæ°æ®åºåæ°æ®ä¿¡æ¯\n/transform             è¾åºå³ç³»è½¬æ¢ä»£ç \n/coor                  è¾åºå³ç³»åæ¢åæ ï¼ä½ä¸æ¯ä»£ç \n/defaultdatabase       specify the default schema.\n/defaultschema         specify the default schema.\n/showimplicitschema    show implicit schema.\n\nè¡ç¼åæç¤ºä¾ ä»æ°æ®åºä¸­æ½ååæ°æ®",charsets:{cjk:!0},lastUpdated:"2022/08/29, 12:56:39",lastUpdatedTimestamp:1661748999e3},{title:"Spring Bootç¸å³",frontmatter:{title:"Spring Bootç¸å³",date:"2022-02-28T08:54:08.000Z",permalink:"/pages/1e9420/",categories:["Javaç¸å³","æ¡æ¶"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/03.%E6%A1%86%E6%9E%B6/01.Spring%20Boot%E7%9B%B8%E5%85%B3.html",relativePath:"01.Javaç¸å³/03.æ¡æ¶/01.Spring Bootç¸å³.md",key:"v-1a0eb102",path:"/pages/1e9420/",headers:[{level:2,title:"ç¥è¯ç¹",slug:"ç¥è¯ç¹",normalizedTitle:"ç¥è¯ç¹",charIndex:2},{level:3,title:"Spring éç½®æä»¶",slug:"spring-éç½®æä»¶",normalizedTitle:"spring éç½®æä»¶",charIndex:10},{level:4,title:"Spring éç½®æä»¶ä¼åçº§ï¼ä»é«å°ä½ï¼",slug:"spring-éç½®æä»¶ä¼åçº§-ä»é«å°ä½",normalizedTitle:"spring éç½®æä»¶ä¼åçº§ï¼ä»é«å°ä½ï¼",charIndex:25},{level:4,title:"å¯å¨åæ°æå®éç½®æä»¶",slug:"å¯å¨åæ°æå®éç½®æä»¶",normalizedTitle:"å¯å¨åæ°æå®éç½®æä»¶",charIndex:196},{level:4,title:"Spring Booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½®",slug:"spring-booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½®",normalizedTitle:"spring booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½®",charIndex:643},{level:3,title:"Spring Bootå®ä½ç±»æ¶é´æ ¼å¼å",slug:"spring-bootå®ä½ç±»æ¶é´æ ¼å¼å",normalizedTitle:"spring bootå®ä½ç±»æ¶é´æ ¼å¼å",charIndex:1650},{level:3,title:"äºå¡æ³¨è§£",slug:"äºå¡æ³¨è§£",normalizedTitle:"äºå¡æ³¨è§£",charIndex:1796},{level:3,title:"å½åæå¥½çmaven repository",slug:"å½åæå¥½çmaven-repository",normalizedTitle:"å½åæå¥½çmaven repository",charIndex:2575},{level:3,title:"ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³",slug:"ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³",normalizedTitle:"ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³",charIndex:3866},{level:2,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:2486},{level:4,title:"å·¥ä½Spring + Strusts2 + EXTJS5",slug:"å·¥ä½spring-strusts2-extjs5",normalizedTitle:"å·¥ä½spring + strusts2 + extjs5",charIndex:3890}],headersStr:"ç¥è¯ç¹ Spring éç½®æä»¶ Spring éç½®æä»¶ä¼åçº§ï¼ä»é«å°ä½ï¼ å¯å¨åæ°æå®éç½®æä»¶ Spring Booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½® Spring Bootå®ä½ç±»æ¶é´æ ¼å¼å äºå¡æ³¨è§£ å½åæå¥½çmaven repository ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³ å¶ä» å·¥ä½Spring + Strusts2 + EXTJS5",content:'# ç¥è¯ç¹\n\n\n# Spring éç½®æä»¶\n\n# Spring éç½®æä»¶ä¼åçº§ï¼ä»é«å°ä½ï¼\n\næä»¶ä¼åçº§\n\n 1. propertieséç½®æä»¶\n 2. ymléç½®æä»¶\n 3. yamléç½®æä»¶\n\næä»¶ä½ç½®ä¼åçº§\n\n 1. ç´æ¥å­ç®å½/config\n 2. é¡¹ç®æ ¹ç®å½/config\n 3. é¡¹ç®æ ¹ç®å½\n 4. classpathæ ¹config/\n 5. classpathæ ¹ç®å½ä¸ç\n\n# å¯å¨åæ°æå®éç½®æä»¶\n\n# ç²¾ç¡®è¯»åå¤é¨éç½®æä»¶\njava  -jar -Dspring.profiles.active=test  xxx.jar\n\n# æ¹åä¸»éç½®æä»¶å\njava -jar foo.jar --spring.config.name=spring\n\n\n# ä½¿ç¨æå®ç®å½\njava  -Dspring.profiles.active=test -jar comet-service/target/xxx.jar --spring.config.location=/tmp/\n# ä½¿ç¨ optionalï¼å½ç®å½è·¯å¾ä¸å­å¨æ¶ä¸æ¥é\njava  -Dspring.profiles.active=test -jar comet-service/target/xxx.jar --spring.config.location=optional:/tmp/\n\n\n# spring.config.additional-location # ä¸ä¼è¦çä¸»éç½®æä»¶ä¸­çè®¾ç½®ï¼èæ¯ä½ä¸ºè¡¥å\n\n\n# Spring Booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½®\n\n * ä½¿ç¨@Valueæ¹å¼\n\n@Value("${spring.kafka.topic}")\nprivate String topic;\n\n\n * ä½¿ç¨Environmentæ¹å¼\n\n@Autowired  \nprivate Environment env;  \n      \nenv.getProperty("spring.kafka.topic");\n\n\n * @ConfigurationProperties(prefix = "") æ³¨è§£\n\n1ãå¨application.ymlä¸­æ·»å éç½®\napplication:\n  serverConfig:\n    address: localhost\n    port: 22\n    username: geiri\n    password: 12345678\n    \n2.å»ºéç½®ç±»\npackage com.pn.ebs.config;\n \nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n \n@Component\n@ConfigurationProperties(prefix = "application")\npublic class ApplicationProperties {\n \n    private ServerConfig serverConfig = new ServerConfig();\n \n    public ServerConfig getServerConfig() {\n        return serverConfig;\n    }\n    public final class ServerConfig{\n        private String address;\n        private String port;\n        private String username;\n        private String password;\n        // geter/setter æ­¤å¤ç¥\n    }\n \n}\n\n\n\n# Spring Bootå®ä½ç±»æ¶é´æ ¼å¼å\n\n// è¿åæ¶é´æ ¼å¼\n@JsonFormat(pattern="yyyy-MM-dd HH:mm:ss",timezone="GMT+8")\n\n// ä¼ å¥æ¶é´æ ¼å¼\n@DateTimeFormat(pattern ="yyyy-MM-dd")\n\n\n\n# äºå¡æ³¨è§£\n\n> Spring Bootä¸­å®ç°äºå¡æ²¡æé¢å¤çJaråï¼è¿æ¯åºæ¬çæ°æ®åºè®¿é®åï¼æ¯å¦mybatis\n\næ³¨è§£äºå¡@Transactional\n\n@Service\npublic class PersonService {\n    @Resource\n    private PersonMapper personMapper;\n\n    @Resource\n    private CompanyMapper companyMapper;\n\n    @Transactional(rollbackFor = {RuntimeException.class, Error.class})\n    public void saveOne(Person person) {\n        Company company = new Company();\n        company.setName("tenmao:" + person.getName());\n        companyMapper.insertOne(company);\n        personMapper.insertOne(person);\n    }\n}\n\n\næ³¨è§£å±æ§\n\n * rollbackForï¼è§¦ååæ»çå¼å¸¸ï¼é»è®¤æ¯RuntimeExceptionåError\n * isolation: äºå¡çéç¦»çº§å«ï¼é»è®¤æ¯Isolation.DEFAULTä¹å°±æ¯æ°æ®åºèªèº«çé»è®¤éç¦»çº§å«ï¼æ¯å¦MySQLæ¯ISOLATION_REPEATABLE_READå¯éå¤è¯»\n\n> è¿æ ·å°±å¯ä»¥äºï¼ä¸éè¦å¶ä»éç½®ã\n> psï¼ç½ç»ä¸è¿è¯´è¦å¨@SpringBootApplicationä¸æ·»å æ³¨è§£@EnableTransactionManagementï¼å·²ç»ä¸éè¦äº\n\nåæ\n\n\n# å½åæå¥½çmaven repository\n\næ¹æ³1ï¼å¨å±éç½®:ä¿®æ¹mavenæ ¹ç®å½ä¸çconfæä»¶å¤¹ä¸­çsetting.xmlæä»¶ï¼åå®¹å¦ä¸ï¼\n\n<mirrors>\n    <mirror>\n      <id>alimaven</id>\n      <name>aliyun maven</name>\n      <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n      <mirrorOf>central</mirrorOf>        \n    </mirror>\n  </mirrors>\n\n\næ¹æ³2ï¼åé¡¹ç®éç½®: pom.xmlæä»¶éæ·»å \n\n<repositories>  \n        <repository>  \n            <id>alimaven</id>  \n            <name>aliyun maven</name>  \n            <url>http://maven.aliyun.com/nexus/content/groups/public/</url>  \n            <releases>  \n                <enabled>true</enabled>  \n            </releases>  \n            <snapshots>  \n                <enabled>false</enabled>  \n            </snapshots>  \n        </repository>  \n</repositories> \n===========================================\n<repositories>\n        <repository>\n            <id>central</id>\n            <name>aliyun maven</name>\n            <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n            <layout>default</layout>\n            \x3c!-- æ¯å¦å¼å¯åå¸çæä»¶ä¸è½½ --\x3e\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n            \x3c!-- æ¯å¦å¼å¯å¿«ç§çæä»¶ä¸è½½ --\x3e\n            <snapshots>\n                <enabled>false</enabled>\n            </snapshots>\n        </repository>\n    </repositories> \n\n\n\n# ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³\n\n\n# å¶ä»\n\n# å·¥ä½Spring + Strusts2 + EXTJS5\n\nåå±\n\n * actionå±ç±»ä¼¼äºcontroller\n * serviceç¸å½äºserviceå±\n * BgdDataSourceç±»ä¼¼äºdaoå±ï¼è´è´£ä¸æ°æ®åºäº¤äºï¼ä½æ¯sqlå¨serviceå±ä½ä¸ºåæ°ä¼ å¥ï¼\n\néç½®æä»¶\n\n * Struts-Springéæweb.xmlï¼æªè¯¦ç»äºè§£ï¼\n\n> Springçå¬å¨å è½½springä¸ä¸ææä»¶\n\n * Springçéç½®æä»¶applicationContext.xml\n\n> æ³¨åå®ä½ç±»Spring beansçè·¯å¾ï¼åå»ºaction\n\n * struts.xml\n\n> éç½®actionè·¯å¾ï¼ä¸springéç½®å¯¹åº\n\n\n\nEXTæ¸²ææµç¨\n\nåèé¾æ¥\n\nExt.Panelä¸ºä¾ï¼å¶ä»ç±»ä¼¼ï¼ï¼\n\n> å°ä¸ä¸ªPanelæ¾ç¤ºå¨æµè§å¨ä¸­ï¼å¶è¿ç¨å«årenderï¼æ¸²æï¼ãæè¿ä¹å éå·¥åºï¼\n> ç¬¬ä¸ãè§¦åâbeforeRenderâäºä»¶\n> ç¬¬äºãå¾å°è¿ä¸ªPanelçç¶èç¹ï¼éå¯¹DOMæ¥è¯´ï¼ï¼å³å®¹å¨ï¼ä¹å°±æ¯ä¾Panelå¥ä½çé£ä¸ªå®¹å¨\n> ç¬¬ä¸ãè®¾ç½®rendered=true\n> ç¬¬åãè°ç¨onRenderæ¹æ³ï¼è¿æ­¥æ¯æéè¦çï¼ä¹å°±æ¯å¦ä½å°ç»ä»¶æ¾ç¤ºå¨æµè§å¨ä¸ï¼æ¶åå°å¾å¤æµç¨ï¼ä¸ä¼è¯¦è§£\n> ç¬¬äºãè®¾ç½®è¿ä¸ªpanelçcss\n> ç¬¬å­ãè§¦åârenderâäºä»¶ï¼æçæ¯å½renderå®æåï¼è§¦åçäºä»¶\n> ç¬¬ä¸ãè°ç¨aferRenderï¼è¿æ­¥åç¬¬åæ­¥ä¸æ ·ï¼æ¯å¾éè¦çæµç¨ä¹ä¸\n> ç¬¬å«ãççè¦ä¸è¦å°è¿ä¸ªpaneléèæèå¤±æï¼å¦æç¨æ·è®¾ç½®äºhiddenæèdisable\n> ç¬¬ä¹ãè®¾ç½®è¿ä¸ªpanelçä½ç½®ï¼ä¹å°±æ¯doLayoutï¼å¸å±\n\nEXTå½æ°åéæ©å¨\n\n// 1. $.post()æ¹æ³\n$.post("/xx/xx/xx.action", {\n    para: $.trim(code)\n}, function (jsondata) {\n    if(jsondata.success){\n\n    }else{\n\n    }\n}, "json")\n\n// 2. èªå è½½å½æ°\nExt.onReady(function () {});\n\n// 3. EXTéæ©å¨ æ ¹æ®ç»ä»¶ç±»å(xtypeå±æ§)è·åç»ä»¶\nExt.ComponentQuery.query();\n// å®ä¾\nrender : function (self){\n    Ext.query(\'textarea[name="ALARM_DESC"]\')[0].outerHTML = "<div name = \'ALARM_DESC\' style = \'background:#E6E6E6; width: 100%; height: 120px; padding: 4px 6px 3px 6px\'>" + self.value + "</div>";\n    // document.getElementsByName("ALARM_DESC")[0].outerHTML = "<div name = \'ALARM_DESC\' style = \'background:#E6E6E6; width: 100%; height: 120px; padding: 4px 6px 3px 6px\'>" + self.value + "</div>";\n    Ext.get(Ext.query(\'div[name="ALARM_DESC"] a\')).applyStyles(\'color:#0000FF\');\n    // $(\'div[name="ALARM_DESC"] a\').css("color", "#0000FF")\n\n    // aæ ç­¾ç¦ç¨\n    // Ext.get(Ext.query(\'div[name="ALARM_DESC"] a\')).applyStyles(\'color: red; pointer-events: none;\');\n}\n\n// 4. è·åè¡¨æ ¼éä¸­è¡\n[Grid].getSelectionModel().getSelection();  // å¤è¡\n[getGrid].getCurrentRecord();               // åè¡\n\n\né®é¢\n\n 1. springåstruts2æ´åæ¶ï¼springæ¥ç®¡äºactionå¯¹è±¡çåå»ºï¼æä»¥ä¸å®è¦å¨springéç½®æä»¶ä¸­éç½®actionï¼è¿ééè¦æ³¨æçæ¯éç½®ä¸­çidæ¶ï¼è¦ä¸struts.xmléç½®actionä¸­çclassä¸è´\n 2. EXTæ¡æ¶ï¼åå°è¿åæ¶, "success"ä¸å®è¦è¿åtrue, å¦åstoreä¸ä¼å·æ°, è¿æ¯ç¼å­çåå®¹\n 3. è¦æ ¹æ®æ°æ®åºéçå­æ®µçæaæ ç­¾ï¼extå°è¯æ æå, éæ©å¨renderäºä»¶ä¸­ç¨document.xxx.outerHTMLç´æ¥ä¿®æ¹domåç´ , ææ¶æªåç°bug',normalizedContent:'# ç¥è¯ç¹\n\n\n# spring éç½®æä»¶\n\n# spring éç½®æä»¶ä¼åçº§ï¼ä»é«å°ä½ï¼\n\næä»¶ä¼åçº§\n\n 1. propertieséç½®æä»¶\n 2. ymléç½®æä»¶\n 3. yamléç½®æä»¶\n\næä»¶ä½ç½®ä¼åçº§\n\n 1. ç´æ¥å­ç®å½/config\n 2. é¡¹ç®æ ¹ç®å½/config\n 3. é¡¹ç®æ ¹ç®å½\n 4. classpathæ ¹config/\n 5. classpathæ ¹ç®å½ä¸ç\n\n# å¯å¨åæ°æå®éç½®æä»¶\n\n# ç²¾ç¡®è¯»åå¤é¨éç½®æä»¶\njava  -jar -dspring.profiles.active=test  xxx.jar\n\n# æ¹åä¸»éç½®æä»¶å\njava -jar foo.jar --spring.config.name=spring\n\n\n# ä½¿ç¨æå®ç®å½\njava  -dspring.profiles.active=test -jar comet-service/target/xxx.jar --spring.config.location=/tmp/\n# ä½¿ç¨ optionalï¼å½ç®å½è·¯å¾ä¸å­å¨æ¶ä¸æ¥é\njava  -dspring.profiles.active=test -jar comet-service/target/xxx.jar --spring.config.location=optional:/tmp/\n\n\n# spring.config.additional-location # ä¸ä¼è¦çä¸»éç½®æä»¶ä¸­çè®¾ç½®ï¼èæ¯ä½ä¸ºè¡¥å\n\n\n# spring booté¡¹ç®ä¸­è¯»åapplicationéç½®æä»¶ä¸­éç½®\n\n * ä½¿ç¨@valueæ¹å¼\n\n@value("${spring.kafka.topic}")\nprivate string topic;\n\n\n * ä½¿ç¨environmentæ¹å¼\n\n@autowired  \nprivate environment env;  \n      \nenv.getproperty("spring.kafka.topic");\n\n\n * @configurationproperties(prefix = "") æ³¨è§£\n\n1ãå¨application.ymlä¸­æ·»å éç½®\napplication:\n  serverconfig:\n    address: localhost\n    port: 22\n    username: geiri\n    password: 12345678\n    \n2.å»ºéç½®ç±»\npackage com.pn.ebs.config;\n \nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.stereotype.component;\n \n@component\n@configurationproperties(prefix = "application")\npublic class applicationproperties {\n \n    private serverconfig serverconfig = new serverconfig();\n \n    public serverconfig getserverconfig() {\n        return serverconfig;\n    }\n    public final class serverconfig{\n        private string address;\n        private string port;\n        private string username;\n        private string password;\n        // geter/setter æ­¤å¤ç¥\n    }\n \n}\n\n\n\n# spring bootå®ä½ç±»æ¶é´æ ¼å¼å\n\n// è¿åæ¶é´æ ¼å¼\n@jsonformat(pattern="yyyy-mm-dd hh:mm:ss",timezone="gmt+8")\n\n// ä¼ å¥æ¶é´æ ¼å¼\n@datetimeformat(pattern ="yyyy-mm-dd")\n\n\n\n# äºå¡æ³¨è§£\n\n> spring bootä¸­å®ç°äºå¡æ²¡æé¢å¤çjaråï¼è¿æ¯åºæ¬çæ°æ®åºè®¿é®åï¼æ¯å¦mybatis\n\næ³¨è§£äºå¡@transactional\n\n@service\npublic class personservice {\n    @resource\n    private personmapper personmapper;\n\n    @resource\n    private companymapper companymapper;\n\n    @transactional(rollbackfor = {runtimeexception.class, error.class})\n    public void saveone(person person) {\n        company company = new company();\n        company.setname("tenmao:" + person.getname());\n        companymapper.insertone(company);\n        personmapper.insertone(person);\n    }\n}\n\n\næ³¨è§£å±æ§\n\n * rollbackforï¼è§¦ååæ»çå¼å¸¸ï¼é»è®¤æ¯runtimeexceptionåerror\n * isolation: äºå¡çéç¦»çº§å«ï¼é»è®¤æ¯isolation.defaultä¹å°±æ¯æ°æ®åºèªèº«çé»è®¤éç¦»çº§å«ï¼æ¯å¦mysqlæ¯isolation_repeatable_readå¯éå¤è¯»\n\n> è¿æ ·å°±å¯ä»¥äºï¼ä¸éè¦å¶ä»éç½®ã\n> psï¼ç½ç»ä¸è¿è¯´è¦å¨@springbootapplicationä¸æ·»å æ³¨è§£@enabletransactionmanagementï¼å·²ç»ä¸éè¦äº\n\nåæ\n\n\n# å½åæå¥½çmaven repository\n\næ¹æ³1ï¼å¨å±éç½®:ä¿®æ¹mavenæ ¹ç®å½ä¸çconfæä»¶å¤¹ä¸­çsetting.xmlæä»¶ï¼åå®¹å¦ä¸ï¼\n\n<mirrors>\n    <mirror>\n      <id>alimaven</id>\n      <name>aliyun maven</name>\n      <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n      <mirrorof>central</mirrorof>        \n    </mirror>\n  </mirrors>\n\n\næ¹æ³2ï¼åé¡¹ç®éç½®: pom.xmlæä»¶éæ·»å \n\n<repositories>  \n        <repository>  \n            <id>alimaven</id>  \n            <name>aliyun maven</name>  \n            <url>http://maven.aliyun.com/nexus/content/groups/public/</url>  \n            <releases>  \n                <enabled>true</enabled>  \n            </releases>  \n            <snapshots>  \n                <enabled>false</enabled>  \n            </snapshots>  \n        </repository>  \n</repositories> \n===========================================\n<repositories>\n        <repository>\n            <id>central</id>\n            <name>aliyun maven</name>\n            <url>http://maven.aliyun.com/nexus/content/groups/public/</url>\n            <layout>default</layout>\n            \x3c!-- æ¯å¦å¼å¯åå¸çæä»¶ä¸è½½ --\x3e\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n            \x3c!-- æ¯å¦å¼å¯å¿«ç§çæä»¶ä¸è½½ --\x3e\n            <snapshots>\n                <enabled>false</enabled>\n            </snapshots>\n        </repository>\n    </repositories> \n\n\n\n# ææ¶é´äºè§£ä¸ä¸èªå¨é¨ç½²ç¸å³\n\n\n# å¶ä»\n\n# å·¥ä½spring + strusts2 + extjs5\n\nåå±\n\n * actionå±ç±»ä¼¼äºcontroller\n * serviceç¸å½äºserviceå±\n * bgddatasourceç±»ä¼¼äºdaoå±ï¼è´è´£ä¸æ°æ®åºäº¤äºï¼ä½æ¯sqlå¨serviceå±ä½ä¸ºåæ°ä¼ å¥ï¼\n\néç½®æä»¶\n\n * struts-springéæweb.xmlï¼æªè¯¦ç»äºè§£ï¼\n\n> springçå¬å¨å è½½springä¸ä¸ææä»¶\n\n * springçéç½®æä»¶applicationcontext.xml\n\n> æ³¨åå®ä½ç±»spring beansçè·¯å¾ï¼åå»ºaction\n\n * struts.xml\n\n> éç½®actionè·¯å¾ï¼ä¸springéç½®å¯¹åº\n\n\n\nextæ¸²ææµç¨\n\nåèé¾æ¥\n\next.panelä¸ºä¾ï¼å¶ä»ç±»ä¼¼ï¼ï¼\n\n> å°ä¸ä¸ªpanelæ¾ç¤ºå¨æµè§å¨ä¸­ï¼å¶è¿ç¨å«årenderï¼æ¸²æï¼ãæè¿ä¹å éå·¥åºï¼\n> ç¬¬ä¸ãè§¦åâbeforerenderâäºä»¶\n> ç¬¬äºãå¾å°è¿ä¸ªpanelçç¶èç¹ï¼éå¯¹domæ¥è¯´ï¼ï¼å³å®¹å¨ï¼ä¹å°±æ¯ä¾panelå¥ä½çé£ä¸ªå®¹å¨\n> ç¬¬ä¸ãè®¾ç½®rendered=true\n> ç¬¬åãè°ç¨onrenderæ¹æ³ï¼è¿æ­¥æ¯æéè¦çï¼ä¹å°±æ¯å¦ä½å°ç»ä»¶æ¾ç¤ºå¨æµè§å¨ä¸ï¼æ¶åå°å¾å¤æµç¨ï¼ä¸ä¼è¯¦è§£\n> ç¬¬äºãè®¾ç½®è¿ä¸ªpanelçcss\n> ç¬¬å­ãè§¦åârenderâäºä»¶ï¼æçæ¯å½renderå®æåï¼è§¦åçäºä»¶\n> ç¬¬ä¸ãè°ç¨aferrenderï¼è¿æ­¥åç¬¬åæ­¥ä¸æ ·ï¼æ¯å¾éè¦çæµç¨ä¹ä¸\n> ç¬¬å«ãççè¦ä¸è¦å°è¿ä¸ªpaneléèæèå¤±æï¼å¦æç¨æ·è®¾ç½®äºhiddenæèdisable\n> ç¬¬ä¹ãè®¾ç½®è¿ä¸ªpanelçä½ç½®ï¼ä¹å°±æ¯dolayoutï¼å¸å±\n\nextå½æ°åéæ©å¨\n\n// 1. $.post()æ¹æ³\n$.post("/xx/xx/xx.action", {\n    para: $.trim(code)\n}, function (jsondata) {\n    if(jsondata.success){\n\n    }else{\n\n    }\n}, "json")\n\n// 2. èªå è½½å½æ°\next.onready(function () {});\n\n// 3. extéæ©å¨ æ ¹æ®ç»ä»¶ç±»å(xtypeå±æ§)è·åç»ä»¶\next.componentquery.query();\n// å®ä¾\nrender : function (self){\n    ext.query(\'textarea[name="alarm_desc"]\')[0].outerhtml = "<div name = \'alarm_desc\' style = \'background:#e6e6e6; width: 100%; height: 120px; padding: 4px 6px 3px 6px\'>" + self.value + "</div>";\n    // document.getelementsbyname("alarm_desc")[0].outerhtml = "<div name = \'alarm_desc\' style = \'background:#e6e6e6; width: 100%; height: 120px; padding: 4px 6px 3px 6px\'>" + self.value + "</div>";\n    ext.get(ext.query(\'div[name="alarm_desc"] a\')).applystyles(\'color:#0000ff\');\n    // $(\'div[name="alarm_desc"] a\').css("color", "#0000ff")\n\n    // aæ ç­¾ç¦ç¨\n    // ext.get(ext.query(\'div[name="alarm_desc"] a\')).applystyles(\'color: red; pointer-events: none;\');\n}\n\n// 4. è·åè¡¨æ ¼éä¸­è¡\n[grid].getselectionmodel().getselection();  // å¤è¡\n[getgrid].getcurrentrecord();               // åè¡\n\n\né®é¢\n\n 1. springåstruts2æ´åæ¶ï¼springæ¥ç®¡äºactionå¯¹è±¡çåå»ºï¼æä»¥ä¸å®è¦å¨springéç½®æä»¶ä¸­éç½®actionï¼è¿ééè¦æ³¨æçæ¯éç½®ä¸­çidæ¶ï¼è¦ä¸struts.xmléç½®actionä¸­çclassä¸è´\n 2. extæ¡æ¶ï¼åå°è¿åæ¶, "success"ä¸å®è¦è¿åtrue, å¦åstoreä¸ä¼å·æ°, è¿æ¯ç¼å­çåå®¹\n 3. è¦æ ¹æ®æ°æ®åºéçå­æ®µçæaæ ç­¾ï¼extå°è¯æ æå, éæ©å¨renderäºä»¶ä¸­ç¨document.xxx.outerhtmlç´æ¥ä¿®æ¹domåç´ , ææ¶æªåç°bug',charsets:{cjk:!0},lastUpdated:"2024/09/10, 20:38:55",lastUpdatedTimestamp:1725971935e3},{title:"è®¾è®¡æ¨¡å¼å¥é¨",frontmatter:{title:"è®¾è®¡æ¨¡å¼å¥é¨",date:"2022-07-10T16:30:55.000Z",permalink:"/pages/bdceb5/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/006.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%85%A5%E9%97%A8.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/006.è®¾è®¡æ¨¡å¼å¥é¨.md",key:"v-2c168266",path:"/pages/bdceb5/",headers:[{level:2,title:"ç±»é´å³ç³»",slug:"ç±»é´å³ç³»",normalizedTitle:"ç±»é´å³ç³»",charIndex:2},{level:4,title:"1ãä¾èµï¼Dependenceï¼",slug:"_1ãä¾èµ-dependence",normalizedTitle:"1ãä¾èµï¼dependenceï¼",charIndex:61},{level:4,title:"2ãå³èï¼Associationï¼",slug:"_2ãå³è-association",normalizedTitle:"2ãå³èï¼associationï¼",charIndex:187},{level:4,title:"3ãèåï¼Aggregationï¼",slug:"_3ãèå-aggregation",normalizedTitle:"3ãèåï¼aggregationï¼",charIndex:406},{level:4,title:"4ãç»åï¼Compositionï¼",slug:"_4ãç»å-composition",normalizedTitle:"4ãç»åï¼compositionï¼",charIndex:579},{level:4,title:"5ãæ³åï¼Generalizationï¼",slug:"_5ãæ³å-generalization",normalizedTitle:"5ãæ³åï¼generalizationï¼",charIndex:769},{level:4,title:"6ãå®ç°ï¼Realizationï¼",slug:"_6ãå®ç°-realization",normalizedTitle:"6ãå®ç°ï¼realizationï¼",charIndex:920},{level:2,title:"å­(ä¸)å¤§è®¾è®¡åå",slug:"å­-ä¸-å¤§è®¾è®¡åå",normalizedTitle:"å­(ä¸)å¤§è®¾è®¡åå",charIndex:1036},{level:4,title:"ä¸ãåä¸èè´£åå",slug:"ä¸ãåä¸èè´£åå",normalizedTitle:"ä¸ãåä¸èè´£åå",charIndex:1091},{level:4,title:"äºãæ¥å£éç¦»åå",slug:"äºãæ¥å£éç¦»åå",normalizedTitle:"äºãæ¥å£éç¦»åå",charIndex:1241},{level:4,title:"ä¸ãä¾èµåè½¬åå",slug:"ä¸ãä¾èµåè½¬åå",normalizedTitle:"ä¸ãä¾èµåè½¬åå",charIndex:1414},{level:4,title:"åãéå¼æ¿æ¢åå",slug:"åãéå¼æ¿æ¢åå",normalizedTitle:"åãéå¼æ¿æ¢åå",charIndex:2419},{level:4,title:"äºãå¼é­ååocp",slug:"äºãå¼é­ååocp",normalizedTitle:"äºãå¼é­ååocp",charIndex:2777},{level:4,title:"å­ãè¿ªç±³ç¹æ³å(æå°ç¥éåå)",slug:"å­ãè¿ªç±³ç¹æ³å-æå°ç¥éåå",normalizedTitle:"å­ãè¿ªç±³ç¹æ³å(æå°ç¥éåå)",charIndex:3088},{level:4,title:"ä¸ï¼åæå¤ç¨åå",slug:"ä¸-åæå¤ç¨åå",normalizedTitle:"ä¸ï¼åæå¤ç¨åå",charIndex:3582},{level:2,title:"è®¾è®¡æ¨¡å¼å¥é¨",slug:"è®¾è®¡æ¨¡å¼å¥é¨",normalizedTitle:"è®¾è®¡æ¨¡å¼å¥é¨",charIndex:3626},{level:4,title:"è®¾è®¡åå",slug:"è®¾è®¡åå",normalizedTitle:"è®¾è®¡åå",charIndex:1041},{level:4,title:"åè®¤ç¥",slug:"åè®¤ç¥",normalizedTitle:"åè®¤ç¥",charIndex:3917},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:3926},{level:2,title:"mermaid è¯­æ³",slug:"mermaid-è¯­æ³",normalizedTitle:"mermaid è¯­æ³",charIndex:4210},{level:4,title:"Githubå®ç½",slug:"githubå®ç½",normalizedTitle:"githubå®ç½",charIndex:4266}],headersStr:"ç±»é´å³ç³» 1ãä¾èµï¼Dependenceï¼ 2ãå³èï¼Associationï¼ 3ãèåï¼Aggregationï¼ 4ãç»åï¼Compositionï¼ 5ãæ³åï¼Generalizationï¼ 6ãå®ç°ï¼Realizationï¼ å­(ä¸)å¤§è®¾è®¡åå ä¸ãåä¸èè´£åå äºãæ¥å£éç¦»åå ä¸ãä¾èµåè½¬åå åãéå¼æ¿æ¢åå äºãå¼é­ååocp å­ãè¿ªç±³ç¹æ³å(æå°ç¥éåå) ä¸ï¼åæå¤ç¨åå è®¾è®¡æ¨¡å¼å¥é¨ è®¾è®¡åå åè®¤ç¥ è¦ç¹ mermaid è¯­æ³ Githubå®ç½",content:"# ç±»é´å³ç³»\n\n----------------------------------------\n\nè¦ååº¦ä»å¼±å°å¼º\n\n# 1ãä¾èµï¼Dependenceï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼±ä½ç¨å³ç³»ï¼æ¯ä¸ç§ä¸´æ¶æ§çä½¿ç¨å³ç³»ï¼éå¸¸ç¨èçº¿+ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼ä¾èµå³ç³»æ¯ç±»ä¹é´æå¼±çå³ç³»ï¼æ¯å¦ï¼ç±»Açä¸äºæ¹æ³åæ°ä¸­ä½¿ç¨äºç±»Bçå®ä¾ï¼ç±»Açä¸äºæ¹æ³é»è¾ä¸­è°ç¨äºç±»Bçæ¹æ³æåéç­ç­ã\n\n# 2ãå³èï¼Associationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼éå¸¸ç¨å®çº¿æå®çº¿+ç®­å¤´è¡¨ç¤ºï¼è¿éçå³èå³ç³»æçæ¯ä¸è¬å³èå³ç³»ï¼åé¢çèååç»åä¹å±äºå³èå³ç³»ã\n\nä¸¾ä¾ï¼å³èå³ç³»æ¯ç±»ä¹é´çå¼ç¨å³ç³»ï¼çæ´»ä¸­çå¸¸è§ï¼æ¯å¦æï¼ææºååçµçº¿ï¼èå¸åå­¦çï¼çäº§èåæ¶è´¹èç­ãå¯ä»¥éè¿æååéæ¥å®ç°å³èå³ç³»ï¼æ¯å¦ç±»Aä¸­ä½¿ç¨äºç±»Bçå¯¹è±¡å¼ç¨ï¼AåBä¹é´å°±æ¯ä¸ç§å³èå³ç³»ã\n\nç±»åï¼ä¸è¬å³èå³ç³»åå¯ä»¥åä¸ºååå³èãååå³èãèªå³èï¼ç»å¾è¡¨ç¤ºã\n\n# 3ãèåï¼Aggregationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼ä¹å±äºå³èå³ç³»çä¸ç§ï¼æ¯æ´ä½åå±é¨ä¹é´çå³ç³»ï¼æ¯ has-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+èå¿è±å½¢ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼èåå³ç³»å¼ºè°äºæ´ä½åå±é¨çå³ç³»ï¼æ¯å¦å­¦æ ¡åæå¸ï¼å·¥ååå·¥äººç­ï¼æ³¨æçæ¯å±é¨å¯ä»¥ç¬ç«äºæ´ä½èå­å¨ï¼æ¯å¦å·¥åæ²¡äºä½å·¥äººè¿æ¯å¯ä»¥å­å¨çï¼éè¿æåå±æ§æ¥å®ç°èåå³ç³»ã\n\n# 4ãç»åï¼Compositionï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼ä¹å±äºå³èå³ç³»çä¸ç§ï¼ä¹æ¯æ´ä½åå±é¨ä¹é´çå³ç³»ï¼æ¯ cxmtains-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+å®å¿è±å½¢ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼ç»åå³ç³»æ¯ä¸ç§è¦ååº¦æ´é«çèåå³ç³»ï¼æ´ä½å¯¹è±¡å¯ä»¥æ§å¶é¨åå¯¹è±¡ççå½å¨æï¼é¨åå¯¹è±¡ä¸è½è±ç¦»æ´ä½å¯¹è±¡èå­å¨ï¼æ¯å¦çµèåCPUï¼å¦æCPUæ²¡äºï¼çµèå°±å¤±å»äºåºæ¬çè¿ç®è½åç­åäºçµèæ¥åºã\n\n# 5ãæ³åï¼Generalizationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çç»§æ¿å³ç³»ï¼æ¯ä¸ç§è¦ååº¦æé«çå³ç³»ï¼æ¯ is-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+ç©ºå¿ä¸è§ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼æ³åå³ç³»å¼ºè°äºä¸è¬ä¸ç¹æ®çå³ç³»ï¼éè¿Javaçç±»ç»§æ¿æºå¶å®ç°ç±»ä¹é´çæ³åå³ç³»ï¼æ¯å¦ï¼ææºå·¥åï¼ä¸åä¸ºææºå·¥åï¼å°ç±³ææºå·¥åä¹é´çå³ç³»ã\n\n# 6ãå®ç°ï¼Realizationï¼\n\nå«ä¹ï¼ä½ç°äºæ¥å£åç±»ä¹é´çå³ç³»ï¼éå¸¸ç¨èçº¿+ç©ºå¿ä¸è§ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼å®ç°å³ç³»ï¼éè¿Javaçå®ç°æºå¶å®ç°çï¼æ¯å¦ï¼ææºå·¥åæ¥å£ï¼ä¸åä¸ºææºå·¥åå®ç°ç±»ï¼å°ç±³ææºå·¥åå®ç°ç±»ä¹é´çå³ç³»ã\n\n\n# å­(ä¸)å¤§è®¾è®¡åå\n\n----------------------------------------\n\n# ä¸ãåä¸èè´£åå\n\næ³¨æäºé¡¹åç»è\n\n 1. éä½ç±»çå¤æåº¦ï¼ä¸ä¸ªç±»åªè´è´£ä¸ä¸ªèè´£\n 2. æé«ç±»çå¯è¯»æ§ï¼å¯ç»´æ¤æ§\n 3. éä½åæ´å¼èµ·çé£é©\n 4. éå¸¸æåµä¸ï¼æä»¬åºå½éµå®åä¸èè´£åå ï¼åªæé»è¾è¶³å¤ç®åï¼æè½å¨ä»£ç çº§è¿ååä¸èè´£ååï¼åªæç±»ä¸­æ¹æ³è¶³å¤å°ï¼å¯ä»¥å¨æ¹æ³çº§å«ä¿æåä¸èè´£åå\n\n# äºãæ¥å£éç¦»åå\n\nå®¢æ·ç«¯ä¸åºè¯¥ä¾èµå®ä¸éè¦çæ¥å£ï¼ å³ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªç±»çä¾èµåºè¯¥å»ºç«å¨æå°çæ¥å£ä¸\n\né®é¢ï¼ ç±» A éè¿æ¥å£ä¾èµç±» Bï¼ ç±» C éè¿æ¥å£ä¾èµç±» Dï¼ å¦ææ¥å£å¯¹äºç±» A åç±» C æ¥è¯´ä¸æ¯æå°æ¥å£ï¼ é£ä¹ç±» B åç±» D å¿é¡»å»å®ç°ä»ä»¬ä¸éè¦çæ¹æ³\n\nè§£å³ï¼ å°æ¥å£æåä¸ºç¬ç«çå ä¸ªæ¥å£(è¿éæä»¬æåæ 3 ä¸ªæ¥å£)\n\n# ä¸ãä¾èµåè½¬åå\n\nä¾èµåè½¬åå(Dependence Inversion Principle)æ¯æ:\n\n 1. é«å±æ¨¡åä¸åºè¯¥ä¾èµä½å±æ¨¡åï¼ äºèé½åºè¯¥ä¾èµå¶æ½è±¡\n 2. æ½è±¡ä¸åºè¯¥ä¾èµç»èï¼ ç»èåºè¯¥ä¾èµæ½è±¡\n 3. ä¾èµåè½¬(åç½®)çä¸­å¿ææ³æ¯é¢åæ¥å£ç¼ç¨\n 4. ä¾èµåè½¬ååæ¯åºäºè¿æ ·çè®¾è®¡çå¿µï¼ ç¸å¯¹äºç»èçå¤åæ§ï¼ æ½è±¡çä¸è¥¿è¦ç¨³å®çå¤ã ä»¥æ½è±¡ä¸ºåºç¡æ­å»ºçæ¶ææ¯ä»¥ç»èä¸ºåºç¡çæ¶æè¦ç¨³å®çå¤ã å¨ java ä¸­ï¼ æ½è±¡æçæ¯æ¥å£ææ½è±¡ç±»ï¼ ç»èå°±æ¯å·ä½çå®ç°ç±»\n 5. ä½¿ç¨æ¥å£ææ½è±¡ç±»çç®çæ¯å¶å®å¥½è§èï¼ èä¸æ¶åä»»ä½å·ä½çæä½ï¼ æå±ç°ç»èçä»»å¡äº¤ç»ä»çå®ç°ç±»å»å®æ\n\né®é¢(ä¸ç¥éå¾ç»çå¯¹ä¸å¯¹)ï¼å¦æè·åçå¯¹è±¡æ¯å¾®ä¿¡ï¼å°±è¦æ°å¢ç±»ï¼Persionä¹è¦æ°å¢ç¸åºæ¥æ¶æ¹æ³\n\nè§£å³æè·¯: å¼å¥ä¸ä¸ªæ½è±¡çæ¥å£ IReceiver\n\nä¾èµå³ç³»ä¼ éçä¸ç§æ¹å¼\n\n 1. æ¥å£ä¼ é\n\nChangHong changHong = new ChangHong();  //å®ç°ITVæ¥å£\nOpenAndClose openAndClose = new OpenAndClose();  //å®ç°IOpenAndCloseæ¥å£\nopenAndClose.open(changHong);  //IOpenAndCloseæ¹æ³åæ°ä¸ºITV\n\n\n 2. æé æ¹æ³ä¼ é\n\nOpenAndClose openAndClose = new OpenAndClose(changHong);  //å®ç°IOpenAndCloseæ¥å£ ä¸ æé åæ°ä¸ºITV\nopenAndClose.open();  //è°ç¨ITVçplayæ¹æ³\n\n\n 3. setter æ¹å¼ä¼ é\n\nOpenAndClose openAndClose = new OpenAndClose();  //å®ç°IOpenAndCloseæ¥å£\nopenAndClose.setTv(changHong);  //setæ¹æ³åæ°ä¸ºITV\nopenAndClose.open();  //è°ç¨ITVçplayæ¹æ³\n\n\næ³¨æäºé¡¹:\n\n 1. ä½å±æ¨¡åå°½éé½è¦ææ½è±¡ç±»ææ¥å£ï¼ æèä¸¤èé½æï¼ ç¨åºç¨³å®æ§æ´å¥½.\n 2. åéçå£°æç±»åå°½éæ¯æ½è±¡ç±»ææ¥å£, è¿æ ·æä»¬çåéå¼ç¨åå®éå¯¹è±¡é´ï¼ å°±å­å¨ä¸ä¸ªç¼å²å±ï¼ å©äºç¨åºæ©å±åä¼å\n 3. ç»§æ¿æ¶éµå¾ªéæ°æ¿æ¢åå\n\n# åãéå¼æ¿æ¢åå\n\nOO ä¸­çç»§æ¿æ§çæèåè¯´æ:\n\n 1. ç»§æ¿åå«è¿æ ·ä¸å±å«ä¹ï¼ ç¶ç±»ä¸­å¡æ¯å·²ç»å®ç°å¥½çæ¹æ³ï¼ å®éä¸æ¯å¨è®¾å®è§èåå¥çº¦å­ç±»å¦æå¯¹è¿äºæ¹æ³ä»»æä¿®æ¹, å°±ä¼å¯¹ç»§æ¿ä½ç³»é æç ´å\n 2. ç»§æ¿å¨ç»ç¨åºè®¾è®¡å¸¦æ¥ä¾¿å©çåæ¶ï¼ ä¹å¸¦æ¥äºå¼ç«¯ãä¼ç»ç¨åºå¸¦æ¥ä¾µå¥æ§ï¼ ç¨åºçå¯ç§»æ¤æ§éä½ï¼å¢å å¯¹è±¡é´çè¦åæ§(ä¿®æ¹ç¶ç±», å­ç±»å¯è½åºç°æé)\n 3. é®é¢æåºï¼ å¨ç¼ç¨ä¸­ï¼ å¦ä½æ­£ç¡®çä½¿ç¨ç»§æ¿? => éæ°æ¿æ¢åå\n\nåºæ¬ä»ç»:\n\n 1. 1988 å¹´ï¼ ç±éº»ççå·¥å­¦é¢çä»¥ä¸ºå§éçå¥³å£«æåº\n 2. çæ³ç¶æ: ææå¼ç¨åºç±»çå°æ¹å¿é¡»è½éæå°ä½¿ç¨å¶å­ç±»çå¯¹è±¡\n 3. ä½¿ç¨ç»§æ¿æ¶: å­ç±»ä¸­å°½éä¸è¦éåç¶ç±»çæ¹æ³\n 4. ç»§æ¿å®éä¸è®©ä¸¤ä¸ªç±»è¦åæ§å¢å¼ºäºï¼éå½çæåµä¸: å¯ä»¥éè¿èåï¼ ç»åï¼ ä¾èµæ¥è§£å³é®é¢\n\n# äºãå¼é­ååocp\n\nåºæ¬ä»ç»:\n\n 1. å¼é­ååï¼Open Closed Principleï¼ æ¯ç¼ç¨ä¸­æåºç¡ã æéè¦çè®¾è®¡åå\n 2. ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ï¼ æ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾(å¯¹æä¾æ¹)ï¼ å¯¹ä¿®æ¹å³é­(å¯¹ä½¿ç¨æ¹)ã ç¨æ½è±¡æå»ºæ¡æ¶ï¼ ç¨å®ç°æ©å±ç»è\n 3. å½è½¯ä»¶éè¦ååæ¶ï¼ å°½ééè¿æ©å±è½¯ä»¶å®ä½çè¡ä¸ºæ¥å®ç°ååï¼ èä¸æ¯éè¿ä¿®æ¹å·²æçä»£ç æ¥å®ç°ååã\n 4. ç¼ç¨ä¸­éµå¾ªå¶å®ååï¼ ä»¥åä½¿ç¨è®¾è®¡æ¨¡å¼çç®çå°±æ¯éµå¾ªå¼é­åå\n\nä¼ç¼ºç¹ï¼å¥½çè§£ææä½ï¼è¿åäºå¼é­ååï¼æ°å¢å ä¸ä¸ªä¸è§å½¢ç±»ï¼è¦ä¿®æ¹å¾å¤å°æ¹ï¼å¦ï¼æ°å Trlangleç±» GraphicEditorç±»å¢å æ¹æ³ drawShapeæ¹æ³å¢å åæ¯ï¼\n\n# å­ãè¿ªç±³ç¹æ³å(æå°ç¥éåå)\n\nåºæ¬åå:\n\n 1. ä¸ä¸ªå¯¹è±¡åºè¯¥å¯¹å¶ä»å¯¹è±¡ä¿ææå°çäºè§£\n 2. ç±»ä¸ç±»å³ç³»è¶å¯åï¼ è¦ååº¦è¶å¤§\n 3. è¿ªç±³ç¹æ³å(Demeter Principle)åå«æå°ç¥éååï¼ å³ä¸ä¸ªç±»å¯¹èªå·±ä¾èµçç±»ç¥éçè¶å°è¶å¥½ã ä¹å°±æ¯è¯´ï¼ å¯¹äºè¢«ä¾èµçç±»ä¸ç®¡å¤ä¹å¤æï¼ é½å°½éå°é»è¾å°è£å¨ç±»çåé¨ã å¯¹å¤é¤äºæä¾ç public æ¹æ³ï¼ ä¸å¯¹å¤æ³é²ä»»ä½ä¿¡æ¯\n 4. è¿ªç±³ç¹æ³åè¿æä¸ªæ´ç®åçå®ä¹ï¼ åªä¸ç´æ¥çæåéä¿¡\n 5. ç´æ¥çæåï¼ æ¯ä¸ªå¯¹è±¡é½ä¼ä¸å¶ä»å¯¹è±¡æè¦åå³ç³»ï¼ åªè¦ä¸¤ä¸ªå¯¹è±¡ä¹é´æè¦åå³ç³»ï¼ æä»¬å°±è¯´è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´æ¯æåå³ç³»ã è¦åçæ¹å¼å¾å¤ï¼ ä¾èµï¼ å³èï¼ ç»åï¼ èåç­ã å¶ä¸­ï¼ æä»¬ç§°åºç°æååéï¼ æ¹æ³åæ°ï¼ æ¹æ³è¿åå¼ä¸­çç±»ä¸ºç´æ¥çæåï¼ èåºç°å¨å±é¨åéä¸­çç±»ä¸æ¯ç´æ¥çæåã ä¹å°±æ¯è¯´ï¼ éççç±»æå¥½ä¸è¦ä»¥å±é¨åéçå½¢å¼åºç°å¨ç±»çåé¨\n\næ³¨æäºé¡¹\n\n 1. è¿ªç±³ç¹æ³åçæ ¸å¿æ¯éä½ç±»ä¹é´çè¦å\n 2. ä½æ¯æ³¨æï¼ ç±äºæ¯ä¸ªç±»é½åå°äºä¸å¿è¦çä¾èµï¼ å æ­¤è¿ªç±³ç¹æ³ååªæ¯è¦æ±éä½ç±»é´(å¯¹è±¡é´)è¦åå³ç³»ï¼ å¹¶ä¸æ¯è¦æ±å®å¨æ²¡æä¾èµå³ç³»\n\n# ä¸ï¼åæå¤ç¨åå\n\nåºæ¬ä»ç»ï¼ååæ¯å°½éä½¿ç¨åæ/èåçæ¹å¼ï¼ èä¸æ¯ä½¿ç¨ç»§æ¿\n\n\n# è®¾è®¡æ¨¡å¼å¥é¨\n\n----------------------------------------\n\n# è®¾è®¡åå\n\n 1. æ¾åºåºç¨ä¸­å¯è½éè¦ååä¹å¤ï¼æå®ä»¬ç¬ç«åºæ¥ï¼ä¸è¦åé£äºä¸éè¦ååçä»£ç æ··å¨ä¸èµ·ã\n 2. éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã\n 3. å¤ç¨ç»åï¼å°ç¨ç»§æ¿\n 4. ä¸ºäºäº¤äºå¯¹è±¡ä¹é´çæ¾è¦åè®¾è®¡èåªå\n 5. ç±»åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ãï¼å¼é­ååï¼\n 6. è¦ä¾èµæ½è±¡ï¼ä¸è¦ä¾èµå·ä½ç±»ãï¼ä¾èµåç½®ååï¼\n 7. æå°ç¥è¯ååï¼åªåä½ çå¯åè°è¯ã\n 8. å«è°ç¨æä»¬ï¼æä»¬ä¼è°ç¨ä½ ï¼å¥½è±åååï¼\n 9. ä¸ä¸ªç±»åºè¯¥åªæä¸ä¸ªå¼èµ·ååçåå ï¼åä¸èè´£ååï¼\n\n# åè®¤ç¥\n\n\n\n# è¦ç¹\n\n * ç¥éOOåºç¡ï¼å¹¶ä¸è¶³ä»¥è®©ä½ è®¾è®¡åºè¯å¥½çOOç³»ç»ã\n * è¯å¥½çOOè®¾è®¡å¿é¡»å·å¤å¯å¤ç¨ãå¯æ©åãå¯ç»´æ¤ä¸ä¸ªç¹æ§ã\n * æ¨¡å¼å¯ä»¥è®©æä»¬å»ºé åºå·æè¯å¥½OOè®¾è®¡è´¨éçç³»ç»ã\n * æ¨¡å¼è¢«è®¤ä¸ºæ¯åç»éªè¯çOOè®¾è®¡ç»éªã\n * æ¨¡å¼ä¸æ¯ä»£ç ï¼èæ¯éå¯¹è®¾è®¡é®é¢çéç¨è§£å³æ¹æ¡ãä½ å¯æå®ä»¬åºç¨å°ç¹å®çåºç¨ä¸­ã\n * æ¨¡å¼ä¸æ¯è¢«åæï¼èæ¯è¢«åç°ã\n * å¤§å¤æ°çæ¨¡å¼åååï¼é½çç¼äºè½¯ä»¶ååçä¸»é¢ã\n * å¤§å¤æ°çæ¨¡å¼é½åè®¸ç³»ç»å±é¨æ¹åç¬ç«äºå¶ä»é¨åã\n * æä»¬å¸¸æç³»ç»ä¸­ä¼ååçé¨åæ½åºæ¥å°è£ã\n * æ¨¡å¼è®©å¼åäººåä¹é´æå±äº«çè¯­è¨ï¼è½å¤æå¤§åæ²éçä»·å¼ã\n\n\n# mermaid è¯­æ³\n\n----------------------------------------\n\n# Githubå®ç½\n\nMermaid æ¯ä¸ä¸ªåºäº JavaScript çå¾è¡¨åå¾è¡¨å·¥å·ï¼éè¿è§£æ Markdown çææ¬å®ä¹ï¼ä»¥å¨æåå»ºåä¿®æ¹å¾è¡¨ã\n\nå¯ä½¿ä¹åå»ºæµç¨å¾ãæ¶åºå¾ãUMLç±»å¾ãç¶æå¾ãå®ä½å³ç³»å¾ãç¨æ·ä½éªæç¨å¾ãçç¹å¾ãé¥¼å¾ãéæ±å¾ãGitåæ¯å¾ãè½¯ä»¶æ¶æï¼C4ï¼å¾ç­\n\nå®ç½è¯­æ³",normalizedContent:"# ç±»é´å³ç³»\n\n----------------------------------------\n\nè¦ååº¦ä»å¼±å°å¼º\n\n# 1ãä¾èµï¼dependenceï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼±ä½ç¨å³ç³»ï¼æ¯ä¸ç§ä¸´æ¶æ§çä½¿ç¨å³ç³»ï¼éå¸¸ç¨èçº¿+ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼ä¾èµå³ç³»æ¯ç±»ä¹é´æå¼±çå³ç³»ï¼æ¯å¦ï¼ç±»açä¸äºæ¹æ³åæ°ä¸­ä½¿ç¨äºç±»bçå®ä¾ï¼ç±»açä¸äºæ¹æ³é»è¾ä¸­è°ç¨äºç±»bçæ¹æ³æåéç­ç­ã\n\n# 2ãå³èï¼associationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼éå¸¸ç¨å®çº¿æå®çº¿+ç®­å¤´è¡¨ç¤ºï¼è¿éçå³èå³ç³»æçæ¯ä¸è¬å³èå³ç³»ï¼åé¢çèååç»åä¹å±äºå³èå³ç³»ã\n\nä¸¾ä¾ï¼å³èå³ç³»æ¯ç±»ä¹é´çå¼ç¨å³ç³»ï¼çæ´»ä¸­çå¸¸è§ï¼æ¯å¦æï¼ææºååçµçº¿ï¼èå¸åå­¦çï¼çäº§èåæ¶è´¹èç­ãå¯ä»¥éè¿æååéæ¥å®ç°å³èå³ç³»ï¼æ¯å¦ç±»aä¸­ä½¿ç¨äºç±»bçå¯¹è±¡å¼ç¨ï¼aåbä¹é´å°±æ¯ä¸ç§å³èå³ç³»ã\n\nç±»åï¼ä¸è¬å³èå³ç³»åå¯ä»¥åä¸ºååå³èãååå³èãèªå³èï¼ç»å¾è¡¨ç¤ºã\n\n# 3ãèåï¼aggregationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼ä¹å±äºå³èå³ç³»çä¸ç§ï¼æ¯æ´ä½åå±é¨ä¹é´çå³ç³»ï¼æ¯ has-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+èå¿è±å½¢ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼èåå³ç³»å¼ºè°äºæ´ä½åå±é¨çå³ç³»ï¼æ¯å¦å­¦æ ¡åæå¸ï¼å·¥ååå·¥äººç­ï¼æ³¨æçæ¯å±é¨å¯ä»¥ç¬ç«äºæ´ä½èå­å¨ï¼æ¯å¦å·¥åæ²¡äºä½å·¥äººè¿æ¯å¯ä»¥å­å¨çï¼éè¿æåå±æ§æ¥å®ç°èåå³ç³»ã\n\n# 4ãç»åï¼compositionï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çå¼ºä½ç¨å³ç³»ï¼ä¹å±äºå³èå³ç³»çä¸ç§ï¼ä¹æ¯æ´ä½åå±é¨ä¹é´çå³ç³»ï¼æ¯ cxmtains-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+å®å¿è±å½¢ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼ç»åå³ç³»æ¯ä¸ç§è¦ååº¦æ´é«çèåå³ç³»ï¼æ´ä½å¯¹è±¡å¯ä»¥æ§å¶é¨åå¯¹è±¡ççå½å¨æï¼é¨åå¯¹è±¡ä¸è½è±ç¦»æ´ä½å¯¹è±¡èå­å¨ï¼æ¯å¦çµèåcpuï¼å¦æcpuæ²¡äºï¼çµèå°±å¤±å»äºåºæ¬çè¿ç®è½åç­åäºçµèæ¥åºã\n\n# 5ãæ³åï¼generalizationï¼\n\nå«ä¹ï¼ä½ç°äºç±»ä¹é´çç»§æ¿å³ç³»ï¼æ¯ä¸ç§è¦ååº¦æé«çå³ç³»ï¼æ¯ is-a çå³ç³»ï¼éå¸¸ç¨å®çº¿+ç©ºå¿ä¸è§ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼æ³åå³ç³»å¼ºè°äºä¸è¬ä¸ç¹æ®çå³ç³»ï¼éè¿javaçç±»ç»§æ¿æºå¶å®ç°ç±»ä¹é´çæ³åå³ç³»ï¼æ¯å¦ï¼ææºå·¥åï¼ä¸åä¸ºææºå·¥åï¼å°ç±³ææºå·¥åä¹é´çå³ç³»ã\n\n# 6ãå®ç°ï¼realizationï¼\n\nå«ä¹ï¼ä½ç°äºæ¥å£åç±»ä¹é´çå³ç³»ï¼éå¸¸ç¨èçº¿+ç©ºå¿ä¸è§ç®­å¤´è¡¨ç¤ºã\n\nä¸¾ä¾ï¼å®ç°å³ç³»ï¼éè¿javaçå®ç°æºå¶å®ç°çï¼æ¯å¦ï¼ææºå·¥åæ¥å£ï¼ä¸åä¸ºææºå·¥åå®ç°ç±»ï¼å°ç±³ææºå·¥åå®ç°ç±»ä¹é´çå³ç³»ã\n\n\n# å­(ä¸)å¤§è®¾è®¡åå\n\n----------------------------------------\n\n# ä¸ãåä¸èè´£åå\n\næ³¨æäºé¡¹åç»è\n\n 1. éä½ç±»çå¤æåº¦ï¼ä¸ä¸ªç±»åªè´è´£ä¸ä¸ªèè´£\n 2. æé«ç±»çå¯è¯»æ§ï¼å¯ç»´æ¤æ§\n 3. éä½åæ´å¼èµ·çé£é©\n 4. éå¸¸æåµä¸ï¼æä»¬åºå½éµå®åä¸èè´£åå ï¼åªæé»è¾è¶³å¤ç®åï¼æè½å¨ä»£ç çº§è¿ååä¸èè´£ååï¼åªæç±»ä¸­æ¹æ³è¶³å¤å°ï¼å¯ä»¥å¨æ¹æ³çº§å«ä¿æåä¸èè´£åå\n\n# äºãæ¥å£éç¦»åå\n\nå®¢æ·ç«¯ä¸åºè¯¥ä¾èµå®ä¸éè¦çæ¥å£ï¼ å³ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªç±»çä¾èµåºè¯¥å»ºç«å¨æå°çæ¥å£ä¸\n\né®é¢ï¼ ç±» a éè¿æ¥å£ä¾èµç±» bï¼ ç±» c éè¿æ¥å£ä¾èµç±» dï¼ å¦ææ¥å£å¯¹äºç±» a åç±» c æ¥è¯´ä¸æ¯æå°æ¥å£ï¼ é£ä¹ç±» b åç±» d å¿é¡»å»å®ç°ä»ä»¬ä¸éè¦çæ¹æ³\n\nè§£å³ï¼ å°æ¥å£æåä¸ºç¬ç«çå ä¸ªæ¥å£(è¿éæä»¬æåæ 3 ä¸ªæ¥å£)\n\n# ä¸ãä¾èµåè½¬åå\n\nä¾èµåè½¬åå(dependence inversion principle)æ¯æ:\n\n 1. é«å±æ¨¡åä¸åºè¯¥ä¾èµä½å±æ¨¡åï¼ äºèé½åºè¯¥ä¾èµå¶æ½è±¡\n 2. æ½è±¡ä¸åºè¯¥ä¾èµç»èï¼ ç»èåºè¯¥ä¾èµæ½è±¡\n 3. ä¾èµåè½¬(åç½®)çä¸­å¿ææ³æ¯é¢åæ¥å£ç¼ç¨\n 4. ä¾èµåè½¬ååæ¯åºäºè¿æ ·çè®¾è®¡çå¿µï¼ ç¸å¯¹äºç»èçå¤åæ§ï¼ æ½è±¡çä¸è¥¿è¦ç¨³å®çå¤ã ä»¥æ½è±¡ä¸ºåºç¡æ­å»ºçæ¶ææ¯ä»¥ç»èä¸ºåºç¡çæ¶æè¦ç¨³å®çå¤ã å¨ java ä¸­ï¼ æ½è±¡æçæ¯æ¥å£ææ½è±¡ç±»ï¼ ç»èå°±æ¯å·ä½çå®ç°ç±»\n 5. ä½¿ç¨æ¥å£ææ½è±¡ç±»çç®çæ¯å¶å®å¥½è§èï¼ èä¸æ¶åä»»ä½å·ä½çæä½ï¼ æå±ç°ç»èçä»»å¡äº¤ç»ä»çå®ç°ç±»å»å®æ\n\né®é¢(ä¸ç¥éå¾ç»çå¯¹ä¸å¯¹)ï¼å¦æè·åçå¯¹è±¡æ¯å¾®ä¿¡ï¼å°±è¦æ°å¢ç±»ï¼persionä¹è¦æ°å¢ç¸åºæ¥æ¶æ¹æ³\n\nè§£å³æè·¯: å¼å¥ä¸ä¸ªæ½è±¡çæ¥å£ ireceiver\n\nä¾èµå³ç³»ä¼ éçä¸ç§æ¹å¼\n\n 1. æ¥å£ä¼ é\n\nchanghong changhong = new changhong();  //å®ç°itvæ¥å£\nopenandclose openandclose = new openandclose();  //å®ç°iopenandcloseæ¥å£\nopenandclose.open(changhong);  //iopenandcloseæ¹æ³åæ°ä¸ºitv\n\n\n 2. æé æ¹æ³ä¼ é\n\nopenandclose openandclose = new openandclose(changhong);  //å®ç°iopenandcloseæ¥å£ ä¸ æé åæ°ä¸ºitv\nopenandclose.open();  //è°ç¨itvçplayæ¹æ³\n\n\n 3. setter æ¹å¼ä¼ é\n\nopenandclose openandclose = new openandclose();  //å®ç°iopenandcloseæ¥å£\nopenandclose.settv(changhong);  //setæ¹æ³åæ°ä¸ºitv\nopenandclose.open();  //è°ç¨itvçplayæ¹æ³\n\n\næ³¨æäºé¡¹:\n\n 1. ä½å±æ¨¡åå°½éé½è¦ææ½è±¡ç±»ææ¥å£ï¼ æèä¸¤èé½æï¼ ç¨åºç¨³å®æ§æ´å¥½.\n 2. åéçå£°æç±»åå°½éæ¯æ½è±¡ç±»ææ¥å£, è¿æ ·æä»¬çåéå¼ç¨åå®éå¯¹è±¡é´ï¼ å°±å­å¨ä¸ä¸ªç¼å²å±ï¼ å©äºç¨åºæ©å±åä¼å\n 3. ç»§æ¿æ¶éµå¾ªéæ°æ¿æ¢åå\n\n# åãéå¼æ¿æ¢åå\n\noo ä¸­çç»§æ¿æ§çæèåè¯´æ:\n\n 1. ç»§æ¿åå«è¿æ ·ä¸å±å«ä¹ï¼ ç¶ç±»ä¸­å¡æ¯å·²ç»å®ç°å¥½çæ¹æ³ï¼ å®éä¸æ¯å¨è®¾å®è§èåå¥çº¦å­ç±»å¦æå¯¹è¿äºæ¹æ³ä»»æä¿®æ¹, å°±ä¼å¯¹ç»§æ¿ä½ç³»é æç ´å\n 2. ç»§æ¿å¨ç»ç¨åºè®¾è®¡å¸¦æ¥ä¾¿å©çåæ¶ï¼ ä¹å¸¦æ¥äºå¼ç«¯ãä¼ç»ç¨åºå¸¦æ¥ä¾µå¥æ§ï¼ ç¨åºçå¯ç§»æ¤æ§éä½ï¼å¢å å¯¹è±¡é´çè¦åæ§(ä¿®æ¹ç¶ç±», å­ç±»å¯è½åºç°æé)\n 3. é®é¢æåºï¼ å¨ç¼ç¨ä¸­ï¼ å¦ä½æ­£ç¡®çä½¿ç¨ç»§æ¿? => éæ°æ¿æ¢åå\n\nåºæ¬ä»ç»:\n\n 1. 1988 å¹´ï¼ ç±éº»ççå·¥å­¦é¢çä»¥ä¸ºå§éçå¥³å£«æåº\n 2. çæ³ç¶æ: ææå¼ç¨åºç±»çå°æ¹å¿é¡»è½éæå°ä½¿ç¨å¶å­ç±»çå¯¹è±¡\n 3. ä½¿ç¨ç»§æ¿æ¶: å­ç±»ä¸­å°½éä¸è¦éåç¶ç±»çæ¹æ³\n 4. ç»§æ¿å®éä¸è®©ä¸¤ä¸ªç±»è¦åæ§å¢å¼ºäºï¼éå½çæåµä¸: å¯ä»¥éè¿èåï¼ ç»åï¼ ä¾èµæ¥è§£å³é®é¢\n\n# äºãå¼é­ååocp\n\nåºæ¬ä»ç»:\n\n 1. å¼é­ååï¼open closed principleï¼ æ¯ç¼ç¨ä¸­æåºç¡ã æéè¦çè®¾è®¡åå\n 2. ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ï¼ æ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾(å¯¹æä¾æ¹)ï¼ å¯¹ä¿®æ¹å³é­(å¯¹ä½¿ç¨æ¹)ã ç¨æ½è±¡æå»ºæ¡æ¶ï¼ ç¨å®ç°æ©å±ç»è\n 3. å½è½¯ä»¶éè¦ååæ¶ï¼ å°½ééè¿æ©å±è½¯ä»¶å®ä½çè¡ä¸ºæ¥å®ç°ååï¼ èä¸æ¯éè¿ä¿®æ¹å·²æçä»£ç æ¥å®ç°ååã\n 4. ç¼ç¨ä¸­éµå¾ªå¶å®ååï¼ ä»¥åä½¿ç¨è®¾è®¡æ¨¡å¼çç®çå°±æ¯éµå¾ªå¼é­åå\n\nä¼ç¼ºç¹ï¼å¥½çè§£ææä½ï¼è¿åäºå¼é­ååï¼æ°å¢å ä¸ä¸ªä¸è§å½¢ç±»ï¼è¦ä¿®æ¹å¾å¤å°æ¹ï¼å¦ï¼æ°å trlangleç±» graphiceditorç±»å¢å æ¹æ³ drawshapeæ¹æ³å¢å åæ¯ï¼\n\n# å­ãè¿ªç±³ç¹æ³å(æå°ç¥éåå)\n\nåºæ¬åå:\n\n 1. ä¸ä¸ªå¯¹è±¡åºè¯¥å¯¹å¶ä»å¯¹è±¡ä¿ææå°çäºè§£\n 2. ç±»ä¸ç±»å³ç³»è¶å¯åï¼ è¦ååº¦è¶å¤§\n 3. è¿ªç±³ç¹æ³å(demeter principle)åå«æå°ç¥éååï¼ å³ä¸ä¸ªç±»å¯¹èªå·±ä¾èµçç±»ç¥éçè¶å°è¶å¥½ã ä¹å°±æ¯è¯´ï¼ å¯¹äºè¢«ä¾èµçç±»ä¸ç®¡å¤ä¹å¤æï¼ é½å°½éå°é»è¾å°è£å¨ç±»çåé¨ã å¯¹å¤é¤äºæä¾ç public æ¹æ³ï¼ ä¸å¯¹å¤æ³é²ä»»ä½ä¿¡æ¯\n 4. è¿ªç±³ç¹æ³åè¿æä¸ªæ´ç®åçå®ä¹ï¼ åªä¸ç´æ¥çæåéä¿¡\n 5. ç´æ¥çæåï¼ æ¯ä¸ªå¯¹è±¡é½ä¼ä¸å¶ä»å¯¹è±¡æè¦åå³ç³»ï¼ åªè¦ä¸¤ä¸ªå¯¹è±¡ä¹é´æè¦åå³ç³»ï¼ æä»¬å°±è¯´è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´æ¯æåå³ç³»ã è¦åçæ¹å¼å¾å¤ï¼ ä¾èµï¼ å³èï¼ ç»åï¼ èåç­ã å¶ä¸­ï¼ æä»¬ç§°åºç°æååéï¼ æ¹æ³åæ°ï¼ æ¹æ³è¿åå¼ä¸­çç±»ä¸ºç´æ¥çæåï¼ èåºç°å¨å±é¨åéä¸­çç±»ä¸æ¯ç´æ¥çæåã ä¹å°±æ¯è¯´ï¼ éççç±»æå¥½ä¸è¦ä»¥å±é¨åéçå½¢å¼åºç°å¨ç±»çåé¨\n\næ³¨æäºé¡¹\n\n 1. è¿ªç±³ç¹æ³åçæ ¸å¿æ¯éä½ç±»ä¹é´çè¦å\n 2. ä½æ¯æ³¨æï¼ ç±äºæ¯ä¸ªç±»é½åå°äºä¸å¿è¦çä¾èµï¼ å æ­¤è¿ªç±³ç¹æ³ååªæ¯è¦æ±éä½ç±»é´(å¯¹è±¡é´)è¦åå³ç³»ï¼ å¹¶ä¸æ¯è¦æ±å®å¨æ²¡æä¾èµå³ç³»\n\n# ä¸ï¼åæå¤ç¨åå\n\nåºæ¬ä»ç»ï¼ååæ¯å°½éä½¿ç¨åæ/èåçæ¹å¼ï¼ èä¸æ¯ä½¿ç¨ç»§æ¿\n\n\n# è®¾è®¡æ¨¡å¼å¥é¨\n\n----------------------------------------\n\n# è®¾è®¡åå\n\n 1. æ¾åºåºç¨ä¸­å¯è½éè¦ååä¹å¤ï¼æå®ä»¬ç¬ç«åºæ¥ï¼ä¸è¦åé£äºä¸éè¦ååçä»£ç æ··å¨ä¸èµ·ã\n 2. éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã\n 3. å¤ç¨ç»åï¼å°ç¨ç»§æ¿\n 4. ä¸ºäºäº¤äºå¯¹è±¡ä¹é´çæ¾è¦åè®¾è®¡èåªå\n 5. ç±»åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ãï¼å¼é­ååï¼\n 6. è¦ä¾èµæ½è±¡ï¼ä¸è¦ä¾èµå·ä½ç±»ãï¼ä¾èµåç½®ååï¼\n 7. æå°ç¥è¯ååï¼åªåä½ çå¯åè°è¯ã\n 8. å«è°ç¨æä»¬ï¼æä»¬ä¼è°ç¨ä½ ï¼å¥½è±åååï¼\n 9. ä¸ä¸ªç±»åºè¯¥åªæä¸ä¸ªå¼èµ·ååçåå ï¼åä¸èè´£ååï¼\n\n# åè®¤ç¥\n\n\n\n# è¦ç¹\n\n * ç¥éooåºç¡ï¼å¹¶ä¸è¶³ä»¥è®©ä½ è®¾è®¡åºè¯å¥½çooç³»ç»ã\n * è¯å¥½çooè®¾è®¡å¿é¡»å·å¤å¯å¤ç¨ãå¯æ©åãå¯ç»´æ¤ä¸ä¸ªç¹æ§ã\n * æ¨¡å¼å¯ä»¥è®©æä»¬å»ºé åºå·æè¯å¥½ooè®¾è®¡è´¨éçç³»ç»ã\n * æ¨¡å¼è¢«è®¤ä¸ºæ¯åç»éªè¯çooè®¾è®¡ç»éªã\n * æ¨¡å¼ä¸æ¯ä»£ç ï¼èæ¯éå¯¹è®¾è®¡é®é¢çéç¨è§£å³æ¹æ¡ãä½ å¯æå®ä»¬åºç¨å°ç¹å®çåºç¨ä¸­ã\n * æ¨¡å¼ä¸æ¯è¢«åæï¼èæ¯è¢«åç°ã\n * å¤§å¤æ°çæ¨¡å¼åååï¼é½çç¼äºè½¯ä»¶ååçä¸»é¢ã\n * å¤§å¤æ°çæ¨¡å¼é½åè®¸ç³»ç»å±é¨æ¹åç¬ç«äºå¶ä»é¨åã\n * æä»¬å¸¸æç³»ç»ä¸­ä¼ååçé¨åæ½åºæ¥å°è£ã\n * æ¨¡å¼è®©å¼åäººåä¹é´æå±äº«çè¯­è¨ï¼è½å¤æå¤§åæ²éçä»·å¼ã\n\n\n# mermaid è¯­æ³\n\n----------------------------------------\n\n# githubå®ç½\n\nmermaid æ¯ä¸ä¸ªåºäº javascript çå¾è¡¨åå¾è¡¨å·¥å·ï¼éè¿è§£æ markdown çææ¬å®ä¹ï¼ä»¥å¨æåå»ºåä¿®æ¹å¾è¡¨ã\n\nå¯ä½¿ä¹åå»ºæµç¨å¾ãæ¶åºå¾ãumlç±»å¾ãç¶æå¾ãå®ä½å³ç³»å¾ãç¨æ·ä½éªæç¨å¾ãçç¹å¾ãé¥¼å¾ãéæ±å¾ãgitåæ¯å¾ãè½¯ä»¶æ¶æï¼c4ï¼å¾ç­\n\nå®ç½è¯­æ³",charsets:{cjk:!0},lastUpdated:"2022/08/11, 00:48:36",lastUpdatedTimestamp:1660150116e3},{title:"ç­ç¥æ¨¡å¼",frontmatter:{title:"ç­ç¥æ¨¡å¼",date:"2022-07-15T08:46:45.000Z",permalink:"/pages/676d02/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/011.%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/011.ç­ç¥æ¨¡å¼.md",key:"v-c32a4ba6",path:"/pages/676d02/",headers:[{level:2,title:"ç­ç¥æ¨¡å¼ï¼Strategy Patternï¼",slug:"ç­ç¥æ¨¡å¼-strategy-pattern",normalizedTitle:"ç­ç¥æ¨¡å¼ï¼strategy patternï¼",charIndex:2},{level:4,title:"é¸­å­é£åå«",slug:"é¸­å­é£åå«",normalizedTitle:"é¸­å­é£åå«",charIndex:80},{level:4,title:"å°æ¸¸æï¼å¨ä½åé©æ¸¸æ",slug:"å°æ¸¸æ-å¨ä½åé©æ¸¸æ",normalizedTitle:"å°æ¸¸æï¼å¨ä½åé©æ¸¸æ",charIndex:491}],headersStr:"ç­ç¥æ¨¡å¼ï¼Strategy Patternï¼ é¸­å­é£åå« å°æ¸¸æï¼å¨ä½åé©æ¸¸æ",content:"# ç­ç¥æ¨¡å¼ï¼Strategy Patternï¼\n\nç­ç¥æ¨¡å¼å®ä¹äºç®æ³æï¼åå«å°è£èµ·æ¥ï¼è®©å®ä»¬ä¹é´å¯ä»¥äºç¸æ¿æ¢ï¼æ­¤æ¨¡å¼è®©ç®æ³çååç¬ç«äºä½¿ç¨ç®æ³çå®¢æ·ã\n\n# é¸­å­é£åå«\n\nä¸ºäºç»é¸­å­å¢å é£è¡è½å\n\n> é®é¢ï¼å¨è¶ç±»å¢å æ¹æ³å¯¼è´æ©¡ç®é¸­ä¹ä¼é£äº è§£å³æ¹æ¡ï¼å¨å­ç±»ä¸­è¦çæç¶ç±»æ¹æ³ï¼åä¼å¯¼è´å¶ä»é®é¢ï¼ä¸æ¦åå»ºæ°çé¸­å­ç±»ï¼å°±å¿é¡»æ£æ¥é£è¡åå«çæ¹æ³ï¼\n\n> ä½¿ç¨æ¥å£å¢ï¼ä¼å¯¼è´\n> \n>  1. ä»£ç ä¸è½å¤ç¨\n>  2. é£è¡å¨ä½æåºå«ï¼å°±è¦æ¯ä¸ªç±»çæ¹æ³é½æä¸åçå®ç°\n\n> éå¯¹æ¥å£ç¼ç¨ çæ­£å«ä¹ä¸ºéå¯¹è¶ç±»ç¼ç¨ãå³Animal animal = new Dog()çå½¢å¼ ä¼ç¹ï¼\n> \n>  1. é£è¡åå«çå¨ä½å¯ä»¥è¢«å¶ä»å¯¹è±¡å¤ç¨\n>  2. å¯ä»¥æ°å¢è¡ä¸ºï¼ä¸ä¼å½±åå°è¡ä¸ºç±»ï¼ä¹ä¸ä¼å½±åå°é¸­å­ç±»\n> \n> ç¼ºç¹ï¼æé å¨å®ä¾åå¯¹è±¡ï¼æ¯å¯¹å·ä½å®ç°ç¼ç¨ï¼æå¾æ¹è¿\n\næ¹è¿ï¼ åå»º FlyBehaviorãQuackBehavior ç getãset æ¹æ³ï¼ä½¿è¿è¡æ¶å¯ä»¥å¨æçè®¾å®å¶è¡ä¸ºï¼å³å¨åå»ºé¸­å­å¯¹è±¡æ¶ä¼ å¥è¡ä¸ºå¯¹è±¡æ¥è®¾ç½®å¶è¡ä¸ºãï¼æç¹ç±»ä¼¼äºå½æ°ç¼ç¨éè¿åæ°ä¼ å¥ä¸æ®µé»è¾çæè§ï¼ï¼ï¼ï¼\n\n# å°æ¸¸æï¼å¨ä½åé©æ¸¸æ\n\nææ¸¸æè§è²åä½¿ç¨æ­¦å¨è¡ä¸ºçç±»ï¼æ¯ä¸ªè§è²ä¸æ¬¡åªè½ä½¿ç¨ä¸ç§æ­¦å¨ï¼ä½æ¯å¯ä»¥å¨æ¸¸æè¿ç¨ä¸­æ¢æ­¦å¨ã",normalizedContent:"# ç­ç¥æ¨¡å¼ï¼strategy patternï¼\n\nç­ç¥æ¨¡å¼å®ä¹äºç®æ³æï¼åå«å°è£èµ·æ¥ï¼è®©å®ä»¬ä¹é´å¯ä»¥äºç¸æ¿æ¢ï¼æ­¤æ¨¡å¼è®©ç®æ³çååç¬ç«äºä½¿ç¨ç®æ³çå®¢æ·ã\n\n# é¸­å­é£åå«\n\nä¸ºäºç»é¸­å­å¢å é£è¡è½å\n\n> é®é¢ï¼å¨è¶ç±»å¢å æ¹æ³å¯¼è´æ©¡ç®é¸­ä¹ä¼é£äº è§£å³æ¹æ¡ï¼å¨å­ç±»ä¸­è¦çæç¶ç±»æ¹æ³ï¼åä¼å¯¼è´å¶ä»é®é¢ï¼ä¸æ¦åå»ºæ°çé¸­å­ç±»ï¼å°±å¿é¡»æ£æ¥é£è¡åå«çæ¹æ³ï¼\n\n> ä½¿ç¨æ¥å£å¢ï¼ä¼å¯¼è´\n> \n>  1. ä»£ç ä¸è½å¤ç¨\n>  2. é£è¡å¨ä½æåºå«ï¼å°±è¦æ¯ä¸ªç±»çæ¹æ³é½æä¸åçå®ç°\n\n> éå¯¹æ¥å£ç¼ç¨ çæ­£å«ä¹ä¸ºéå¯¹è¶ç±»ç¼ç¨ãå³animal animal = new dog()çå½¢å¼ ä¼ç¹ï¼\n> \n>  1. é£è¡åå«çå¨ä½å¯ä»¥è¢«å¶ä»å¯¹è±¡å¤ç¨\n>  2. å¯ä»¥æ°å¢è¡ä¸ºï¼ä¸ä¼å½±åå°è¡ä¸ºç±»ï¼ä¹ä¸ä¼å½±åå°é¸­å­ç±»\n> \n> ç¼ºç¹ï¼æé å¨å®ä¾åå¯¹è±¡ï¼æ¯å¯¹å·ä½å®ç°ç¼ç¨ï¼æå¾æ¹è¿\n\næ¹è¿ï¼ åå»º flybehaviorãquackbehavior ç getãset æ¹æ³ï¼ä½¿è¿è¡æ¶å¯ä»¥å¨æçè®¾å®å¶è¡ä¸ºï¼å³å¨åå»ºé¸­å­å¯¹è±¡æ¶ä¼ å¥è¡ä¸ºå¯¹è±¡æ¥è®¾ç½®å¶è¡ä¸ºãï¼æç¹ç±»ä¼¼äºå½æ°ç¼ç¨éè¿åæ°ä¼ å¥ä¸æ®µé»è¾çæè§ï¼ï¼ï¼ï¼\n\n# å°æ¸¸æï¼å¨ä½åé©æ¸¸æ\n\nææ¸¸æè§è²åä½¿ç¨æ­¦å¨è¡ä¸ºçç±»ï¼æ¯ä¸ªè§è²ä¸æ¬¡åªè½ä½¿ç¨ä¸ç§æ­¦å¨ï¼ä½æ¯å¯ä»¥å¨æ¸¸æè¿ç¨ä¸­æ¢æ­¦å¨ã",charsets:{cjk:!0},lastUpdated:"2022/07/15, 18:03:14",lastUpdatedTimestamp:1657879394e3},{title:"Javaåºç¡",frontmatter:{title:"Javaåºç¡",date:"2022-03-02T11:35:41.000Z",permalink:"/pages/768c32/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/01.%E5%9F%BA%E7%A1%80/01.Java%E5%9F%BA%E7%A1%80.html",relativePath:"01.Javaç¸å³/01.åºç¡/01.Javaåºç¡.md",key:"v-1d12c416",path:"/pages/768c32/",headers:[{level:2,title:"åºç¡è¯­æ³",slug:"åºç¡è¯­æ³",normalizedTitle:"åºç¡è¯­æ³",charIndex:2},{level:4,title:"8ç§åºæ¬æ°æ®ç±»å",slug:"_8ç§åºæ¬æ°æ®ç±»å",normalizedTitle:"8ç§åºæ¬æ°æ®ç±»å",charIndex:10},{level:4,title:"æµç¨æ§å¶",slug:"æµç¨æ§å¶",normalizedTitle:"æµç¨æ§å¶",charIndex:3020},{level:4,title:"å½æ°ï¼æ¹æ³ï¼",slug:"å½æ°-æ¹æ³",normalizedTitle:"å½æ°ï¼æ¹æ³ï¼",charIndex:8317},{level:4,title:"ç±»åå¯¹è±¡",slug:"ç±»åå¯¹è±¡",normalizedTitle:"ç±»åå¯¹è±¡",charIndex:10417},{level:4,title:"ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç°",slug:"ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç°",normalizedTitle:"ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç°",charIndex:12295},{level:4,title:"æ¥å£å®ç°åæ·±æµæ·è´",slug:"æ¥å£å®ç°åæ·±æµæ·è´",normalizedTitle:"æ¥å£å®ç°åæ·±æµæ·è´",charIndex:16358},{level:4,title:"ç±»é´å³ç³»",slug:"ç±»é´å³ç³»",normalizedTitle:"ç±»é´å³ç³»",charIndex:19786},{level:4,title:"ç®åè®¾è®¡æ¨¡å¼",slug:"ç®åè®¾è®¡æ¨¡å¼",normalizedTitle:"ç®åè®¾è®¡æ¨¡å¼",charIndex:24794},{level:4,title:"å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸",slug:"å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸",normalizedTitle:"å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸",charIndex:27676},{level:4,title:"çº¿ç¨",slug:"çº¿ç¨",normalizedTitle:"çº¿ç¨",charIndex:30336},{level:5,title:"å¤çº¿ç¨",slug:"å¤çº¿ç¨",normalizedTitle:"å¤çº¿ç¨",charIndex:30342},{level:5,title:"å¤çº¿ç¨é",slug:"å¤çº¿ç¨é",normalizedTitle:"å¤çº¿ç¨é",charIndex:35318},{level:4,title:"å¸¸ç¨å·¥å·ç±»",slug:"å¸¸ç¨å·¥å·ç±»",normalizedTitle:"å¸¸ç¨å·¥å·ç±»",charIndex:40018},{level:4,title:"Java Stream",slug:"java-stream",normalizedTitle:"java stream",charIndex:57642},{level:4,title:"æä»¶æä½",slug:"æä»¶æä½",normalizedTitle:"æä»¶æä½",charIndex:60627},{level:4,title:"javax.swingï¼ç¥ï¼å·²ç»å¾å°ä½¿ç¨ï¼",slug:"javax-swing-ç¥-å·²ç»å¾å°ä½¿ç¨",normalizedTitle:"javax.swingï¼ç¥ï¼å·²ç»å¾å°ä½¿ç¨ï¼",charIndex:80798},{level:4,title:"ç½ç»ç¼ç¨ï¼ç¥ï¼java.netåï¼",slug:"ç½ç»ç¼ç¨-ç¥-java-netå",normalizedTitle:"ç½ç»ç¼ç¨ï¼ç¥ï¼java.netåï¼",charIndex:80823},{level:2,title:"æ³¨è§£",slug:"æ³¨è§£",normalizedTitle:"æ³¨è§£",charIndex:80845},{level:4,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:7229},{level:4,title:"JDKåºæ¬æ³¨è§£",slug:"jdkåºæ¬æ³¨è§£",normalizedTitle:"jdkåºæ¬æ³¨è§£",charIndex:80948},{level:4,title:"JDKåæ³¨è§£",slug:"jdkåæ³¨è§£",normalizedTitle:"jdkåæ³¨è§£",charIndex:81048},{level:4,title:"èªå®ä¹æ³¨è§£",slug:"èªå®ä¹æ³¨è§£",normalizedTitle:"èªå®ä¹æ³¨è§£",charIndex:81905},{level:4,title:"éè¿åå°è·åæ³¨è§£ä¿¡æ¯",slug:"éè¿åå°è·åæ³¨è§£ä¿¡æ¯",normalizedTitle:"éè¿åå°è·åæ³¨è§£ä¿¡æ¯",charIndex:82268}],headersStr:"åºç¡è¯­æ³ 8ç§åºæ¬æ°æ®ç±»å æµç¨æ§å¶ å½æ°ï¼æ¹æ³ï¼ ç±»åå¯¹è±¡ ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç° æ¥å£å®ç°åæ·±æµæ·è´ ç±»é´å³ç³» ç®åè®¾è®¡æ¨¡å¼ å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸ çº¿ç¨ å¤çº¿ç¨ å¤çº¿ç¨é å¸¸ç¨å·¥å·ç±» Java Stream æä»¶æä½ javax.swingï¼ç¥ï¼å·²ç»å¾å°ä½¿ç¨ï¼ ç½ç»ç¼ç¨ï¼ç¥ï¼java.netåï¼ æ³¨è§£ å®ä¹ JDKåºæ¬æ³¨è§£ JDKåæ³¨è§£ èªå®ä¹æ³¨è§£ éè¿åå°è·åæ³¨è§£ä¿¡æ¯",content:'# åºç¡è¯­æ³\n\n# 8ç§åºæ¬æ°æ®ç±»å\n\npublic class Data {\n\tpublic static void main(String[] args) {\n\t    // byte  \n        System.out.println("åºæ¬ç±»åï¼byte äºè¿å¶ä½æ°ï¼" + Byte.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Byte");  \n        System.out.println("æå°å¼ï¼Byte.MIN_VALUE=" + Byte.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Byte.MAX_VALUE=" + Byte.MAX_VALUE);  \n        System.out.println();  \n  \n        // short  \n        System.out.println("åºæ¬ç±»åï¼short äºè¿å¶ä½æ°ï¼" + Short.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Short");  \n        System.out.println("æå°å¼ï¼Short.MIN_VALUE=" + Short.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Short.MAX_VALUE=" + Short.MAX_VALUE);  \n        System.out.println();  \n  \n        // int  \n        System.out.println("åºæ¬ç±»åï¼int äºè¿å¶ä½æ°ï¼" + Integer.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Integer");  \n        System.out.println("æå°å¼ï¼Integer.MIN_VALUE=" + Integer.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Integer.MAX_VALUE=" + Integer.MAX_VALUE);  \n        System.out.println();  \n  \n        // long  \n        System.out.println("åºæ¬ç±»åï¼long äºè¿å¶ä½æ°ï¼" + Long.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Long");  \n        System.out.println("æå°å¼ï¼Long.MIN_VALUE=" + Long.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Long.MAX_VALUE=" + Long.MAX_VALUE);  \n        System.out.println();  \n  \n        // float  \n        System.out.println("åºæ¬ç±»åï¼float äºè¿å¶ä½æ°ï¼" + Float.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Float");  \n        System.out.println("æå°å¼ï¼Float.MIN_VALUE=" + Float.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Float.MAX_VALUE=" + Float.MAX_VALUE);  \n        System.out.println();  \n  \n        // double  \n        System.out.println("åºæ¬ç±»åï¼double äºè¿å¶ä½æ°ï¼" + Double.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Double");  \n        System.out.println("æå°å¼ï¼Double.MIN_VALUE=" + Double.MIN_VALUE);  \n        System.out.println("æå¤§å¼ï¼Double.MAX_VALUE=" + Double.MAX_VALUE);  \n        System.out.println();  \n  \n        // char  \n        System.out.println("åºæ¬ç±»åï¼char äºè¿å¶ä½æ°ï¼" + Character.SIZE);  \n        System.out.println("åè£ç±»ï¼java.lang.Character");  \n        // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°Character.MIN_VALUEè¾åºå°æ§å¶å°  \n        System.out.println("æå°å¼ï¼Character.MIN_VALUE="  + (int) Character.MIN_VALUE);  \n        // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°Character.MAX_VALUEè¾åºå°æ§å¶å°  \n        System.out.println("æå¤§å¼ï¼Character.MAX_VALUE="  + (int) Character.MAX_VALUE); \n        \n        // å¸å°\n        boolean bool1=false;\n        byte b =15;\n        short s = (short)3556;\n        int i = 150;\n        long l = 31356L;\n        float f = 12.345f;\n        double d = 20.1236467892;\n        char c = \'B\';\n        System.out.println("\\n" + "bool1=" + bool1 +" b="+b + " s="+s +" i="+i +" l="+l +" f="+f +" d="+d + " c=" +c +"\\n");\n        \n        System.out.println("i++=" + (i++) +"\\n");\n        i=150;\n        System.out.println("++i=" + (++i) +"\\n");\n        \n        i=150;\n        System.out.println("i--=" + (i--) +"\\n");\n        i=150;\n        System.out.println("--i=" + (--i) +"\\n");\n    }\n}\n\n\n# æµç¨æ§å¶\n\n\npublic static void main(String[] args) {\n    here: while (true) {\n        System.out.println("è¯·è¾å¥æç»©ï¼ï¼0-100ï¼");\n        Scanner scan = new Scanner(System.in);\n        int score = scan.nextInt();\n        if (score > 100) {\n            System.out.println("è¾å¥éè¯¯ï¼");\n        } else {\n            switch (score / 10) {\n            case 10:\n            case 9:\n                System.out.println("ä¼ç§");\n                break;\n            case 8:\n                System.out.println("è¯å¥½");\n                break;\n            case 7:\n                System.out.println("ä¸­ç­");\n                break;\n            case 6:\n                System.out.println("åæ ¼");\n                break;\n            case 5:\n            case 4:\n            case 3:\n            case 2:\n            case 1:\n            case 0:\n                System.out.println("ä¸åæ ¼");\n                break;\n            default:\n                System.out.println("è¾å¥éè¯¯ï¼è¯·è¾å¥0-100çæ°ã");\n                break here;\n            }\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    while (true) {\n        System.out.println("è¯·è¾å¥å¹´ä»½ï¼");\n        Scanner scan = new Scanner(System.in);\n        int year = scan.nextInt();\n        if (year % 400 == 0 || year % 4 == 0 && year % 100 != 0) {\n            System.out.println(year + "æ¯é°å¹´");\n            System.exit(0);\n        } else {\n            System.out.println(year + "ä¸æ¯é°å¹´");\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    System.out.println("è¯·è¾å¥ä¸ä¸ªæ°ï¼");\n    Scanner scan = new Scanner(System.in);\n    int num = scan.nextInt();\n    boolean flag = true;\n    for(int i=2;i<num;i++)\n    {\n        if(num%i == 0){\n            flag = false;\n        }\n        else{\n        }\n    }\n    if(flag==true){\n        System.out.println(num + "æ¯è´¨æ°");\n    }\n    else{\n        System.out.println(num + "ä¸æ¯è´¨æ°");\n    }\n}\n// ------------------------------------------\npublic static void main(String[] args) {\n    for (int i = 2; i <= 1000; i++) {\n        boolean flag = true;\n        int n = i;\n        for (int j = 2; j < Math.sqrt(i) + 1; j++) {\n            if (n % j == 0) {\n                flag = false;\n            }\n        }\n        if (flag == true) {\n            System.out.println(n + "æ¯è´¨æ°");\n        } else {\n            System.out.println(n + "ä¸æ¯è´¨æ°");\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int a[]=new int[] {\n            45, 52, 23, 63, 25,\n            13, 22, 42, 32, 20,\n            46, 55, 35, 32, 66\n    };\n    \n    System.out.println("è¾åºåæ°ç»ï¼");\n    for (int i:a) {\n        System.out.print(i + " ");\n    }\n    \n    System.out.println();\n    int sum = 0;\n    int average = 0;\n    int max = a[0];\n    for (int i = 0; i < a.length; i++) {        \n        sum += a[i];\n        if(max<a[i]){\n            max = a[i];\n        }\n    }\n    System.out.println("max = " + max);\n    average = sum / a.length;\n    System.out.println("average = " + average);\n    \n    int len = a.length;\n    boolean flag = true;\n    while (flag) {\n        flag = false;\n        for (int i = 1; i < a.length; i++) {\n            if (a[i - 1] > a[i]) {\n                int temp = a[i];\n                a[i] = a[i-1];\n                a[i-1] = temp;\n                flag = true;\n            }\n        }\n        len -- ;\n    }\n    System.out.println("æåºåæ°ç»ï¼");\n    for (int i:a) {\n        System.out.print(i + " ");\n    }\n}\n\n\npublic class Method2 {\n    public static long fib(int n){\n        if(n==1||n==2) {\n            return 1;\n        } else {\n            return fib(n-1)+fib(n-2);\n        }\n    }\n    \n    public static long fib1(int n){\n        long f[] = new long[n]; \n        f[0]=1;\n        f[1]=1;\n        for (int i = 2; i < f.length; i++) {\n            f[i]=f[i-1]+f[i-2];\n        }\n        return f[n-1];\n    }\n    //å¬å¼ï¼fib(n) = pow(((1 + sqrt(5)) / 2.0),n) / sqrt(5) - pow(((1 - sqrt(5)) / 2.0),n) / sqrt(5));\n    public static long fib2(int n) {\n        int f[] = new int[n+1];\n        f[n] = (int) (Math.pow(((1 + Math.sqrt(5)) / 2.0),n) / Math.sqrt(5) - Math.pow(((1 - Math.sqrt(5)) / 2.0),n) / Math.sqrt(5));\n        return f[n];\n    }\n    \n    public static long[][] fib3(int n) {\n        long a[][] = { { 1, 1 }, { 1, 0 } }; // å®ä¹åºç©éµ\n        long b[][]; // å­å¨å­æ¹æ³çç»æ\n        long c[][] = new long[2][2]; // å­å¨æåè®¡ç®ç»æ\n        long d[][] = new long[2][2]; // å­å¨ä¸­é´è®¡ç®ç»æ\n        if ((n) <= 1)\n            return a; // å¦ææ¬¡æ¹å°ç­äº1ç´æ¥è¿å\n        else if ((n) % 2 == 1) {\n            b = fib3((n - 1) / 2);\n\n            d[0][0] = b[0][0] * b[0][0] + b[0][1] * b[1][0];\n            d[0][1] = b[0][0] * b[0][1] + b[0][1] * b[1][1];\n            d[1][0] = b[1][0] * b[0][0] + b[1][1] * b[1][0];\n            d[1][1] = b[1][0] * b[0][1] + b[1][1] * b[1][1];\n\n            c[0][0] = d[0][0] * a[0][0] + d[0][1] * a[1][0];\n            c[0][1] = d[0][0] * a[0][1] + d[0][1] * a[1][1];\n            c[1][0] = d[1][0] * a[0][0] + d[1][1] * a[1][0];\n            c[1][1] = d[1][0] * a[0][1] + d[1][1] * a[1][1];\n\n        } else {\n            b = fib3((n) / 2);\n\n            c[0][0] = b[0][0] * b[0][0] + b[0][1] * b[1][0];\n            c[0][1] = b[0][0] * b[0][1] + b[0][1] * b[1][1];\n            c[1][0] = b[1][0] * b[0][0] + b[1][1] * b[1][0];\n            c[1][1] = b[1][0] * b[0][1] + b[1][1] * b[1][1];\n        }\n        return c;\n    }\n}\n\n\n# å½æ°ï¼æ¹æ³ï¼\n\n\n  public class Method1 {\n      public static void showArr(int a1[]) {\n          for (int i = 0; i < a1.length; i++) {\n              System.out.print(a1[i] + "  ");\n          }\n          System.out.println();\n      }\n      //showArræ¹æ³éè½½\n      public static void showArr(double b1[]) {\n          for (int i = 0; i < b1.length; i++) {\n              System.out.print(b1[i] + "  ");\n          }\n          System.out.println();\n      }\n      \n      public static void findArr(int a1[],int n){\n          boolean flag=true;\n          for (int i = 0; i < a1.length; i++) {\n              if(a1[i]==n){\n                  flag=false;\n                  System.out.println(a1[i] + "ä¸æ ä¸º"+i);\n              }\n          }\n          if(flag==true){\n                  System.out.println("æ²¡ææ¾å°ç¬¦åæ¡ä»¶çæ°");\n          }\n      }\n      //findArræ¹æ³éè½½\n      public static void findArr(double b1[],double m){\n          boolean flag=true;\n          for (int i = 0; i < b1.length; i++) {\n              if(b1[i]==m){\n                  flag=false;\n                  System.out.println(b1[i] + "ä¸æ ä¸º"+i);\n              }\n          }\n          if(flag==true){\n                  System.out.println("æ²¡ææ¾å°ç¬¦åæ¡ä»¶çæ°");\n          }\n      }\n      \n      \n      public static int[] sortArr(int a1[]) {\n          for (int i = 0; i < a1.length - 1; i++) {\n              for (int j = 0; j < a1.length - i - 1; j++) {\n                  if (a1[j] > a1[j + 1]) {\n                      int temp = a1[j];\n                      a1[j] = a1[j + 1];\n                      a1[j + 1] = temp;\n                  }\n              }\n          }\n          return a1;\n      }\n      \n      public static double[] sortArr(double a1[]) {\n          //éè¦æ¯è¾a1.length-1è½®\n          for (int i = 0; i < a1.length - 1; i++) {\n              //ç¬¬iè½®éè¦æ¯è¾çä¸¤ä¸ªæ°\n              for (int j = 0; j < a1.length - i - 1; j++) {\n                  if (a1[j] > a1[j + 1]) {\n                      double temp = a1[j];\n                      a1[j] = a1[j + 1];\n                      a1[j + 1] = temp;\n                  }\n              }\n          }\n          return a1;\n      }\n  \n  }\n\n\n# ç±»åå¯¹è±¡\n\n\npublic class Method3 {\n\tprotected String name;\n\tprotected int age;\n\tprotected String sex;\n\tprotected String num;\n\tpublic Method3(){\n\t\t\n\t}\n\t\n\tpublic Method3(String name, int age, String sex, String num) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.sex = sex;\n\t\tthis.num = num;\n\t}\n\tpublic void setname(){\n\t\tthis.name = name;\n\t}\n\tpublic String getname(){\n\t\treturn name;\n\t}\n\tpublic void setage(){\n\t\tthis.age = age;\n\t}\n\tpublic int getage(){\n\t\treturn age;\n\t}\n\tpublic void setsex(){\n\t\tthis.sex = sex;\n\t}\n\tpublic String getsex(){\n\t\treturn sex;\n\t}\n\tpublic void setnum(){\n\t\tthis.num = num;\n\t}\n\tpublic String getnum(){\n\t\treturn num;\n\t}\n\t\n\t@Override\n    public String toString() {\n        return "student [name=" + name + ", age=" + age + ", sex=" + sex + ", num=" + num + "]";\n    }\n\t\n  /* public static void sortNum(Method3 []s){\n\t\tfor (int i = 0; i < s.length-1; i++) {\n\t\t\tfor (int j = 0; j < s.length-i-1; j++) {\n\t\t\t\tif(s[j].age>s[j+1].age){\n\t\t\t\t\tMethod3 a;\n\t\t\t\t\ta=s[j];\n\t\t\t\t\ts[j]=s[j+1];\n\t\t\t\t\ts[j+1]=a;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}*/\n}\n// ------------------------\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t    Method3 student[] = new Method3[3];\n\t   \tstudent[0]=new Method3("bbb",24,"ç·","17044003");\n\t   \tstudent[1]=new Method3("ccc",23,"å¥³","17044002");\n\t   \tstudent[2]=new Method3("aaa",25,"ç·","17044001");\n\t   \t\n\t   \tList<Method3> list = new ArrayList<Method3>();\n\t   \tlist.add(student[0]);\n\t   \tlist.add(student[1]);\n\t   \tlist.add(student[2]);\n\t   \t\n\t   \tSystem.out.println("æåºåï¼");\n        //æåºå\n\t   \tfor (Method3 method3 : list) {\n\t   \t\tSystem.out.println(method3);\n\t\t}\n      ComparatorConsunInfo comparatorConsunInfo = new ComparatorConsunInfo();//æ¯è¾å¨\n      Collections.sort(list,comparatorConsunInfo);//æåº\n      \n      System.out.println("æå¹´é¾æåºåï¼");\n      //æåºå\n      for (Method3 method3 : list) {\n        \tSystem.out.println(method3);\n\t\t}\n       \n\t}\n}\n\n\n# ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç°\n\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tPerson p0 = new Person();\n\t\tSystem.out.println(p0);\n\t\t\n\t\tPerson p1 = new Person("aaa");\n\t\tSystem.out.println(p1);\n\t\tp1.say();\n\t\tPerson.speak();\n\t\tSystem.out.println();\n\t\t\n\t\tPerson p2 = new Student();\n\t\tSystem.out.println(p2);\n\t\t\n\t\tPerson p3 = new Student("åå°æ»¨å­¦é¢");\n\t\tSystem.out.println(p3);\n\t\t\n\t\tPerson p4 = new Student("bbb","XXXå­¦æ ¡");\n\t\tSystem.out.println(p4);\n\t\tp4.say();\n\t\tp4.display();\n\t\tStudent.speak();\n\t\tSystem.out.println();\n\t\t\n\t\tPerson p5 = new Middlestudent();\n\t\tSystem.out.println(p5);\n\t\t\n\t\tPerson p6 = new Middlestudent("ä¸é«");\n\t\tSystem.out.println(p6);\n\t\t\n\t\tPerson p7 = new Middlestudent("ddd","äºé«");\n\t\tSystem.out.println(p7);\n\t\tp7.say();\n\t\tMiddlestudent.speak();\n\t\tSystem.out.println();\n\t\t\n\t\tPerson p8 = new Smallstudent();\n\t\tp8.display();\n\t\tp8.say();\n\t\tSmallstudent p9 = new Smallstudent();\n\t\tp9.display1();\n\n\t\tVirtualTree tree = new Tree("éªæ¾");\n\t\ttree.act();\n\t}\n}\n\n\npublic class Person {\n\tprotected String name;\n\tpublic Person(){\n\t\t\n\t}\n\tpublic Person(String name){\n\t\tthis.name=name;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tprivate void setName(String name) {\n\t\tthis.name = name;\n\t}\n\t\n\t\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "æçåå­:"+ this.name ;\n\t}\n\tpublic void say(){\n\t\tSystem.out.println("ææ¯ä¸ä¸ªäººããã");\n\t}\n\t\n\tpublic static void speak(){\n\t\tSystem.out.println("åé¥­");\n\t}\n\t\n\tpublic final void display(){\n\t\tSystem.out.println("ææ¯finalæ¹æ³\\tä¸è½è¢«éå");\n\t}\n}\n\n\npublic class Student extends Person {\n\tprivate String school;\n\t\n\tpublic Student(){\n\t\t\n\t}\n\tpublic Student(String school){\n\t\tsuper(" ");\n\t\tthis.school=school;\n\t}\n\tpublic Student(String name,String school){\n\t\tsuper(name);\n\t\tthis.school=school;\n\t}\n\t\n\tpublic String getSchool() {\n\t\treturn school;\n\t}\n\tpublic void setSchool(String school) {\n\t\tthis.school = school;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "æçåå­:"+ super.name +"\\tæçå­¦æ ¡:" + this.school;\n\t}\n\t@Override\n\tpublic void say() {\n\t\t// TODO Auto-generated method stub\n\t\tsuper.say();\n\t\tSystem.out.println("ææ¯ä¸ä¸ªå­¦çããã");\n\t}\n\tpublic static void speak(){\n\t\tSystem.out.println("å­¦ä¹ ");\n\t}\n}\n\n\nfinal public class Smallstudent extends Student  {\n\tpublic void say(){\n\t\tSystem.out.println("ææ¯ä¸åªå°å­¦ç");\n\t}\n\tpublic void display1(){\n\t\tSystem.out.println("ææ¯finalç±»\\tä¸å¯è¢«ç»§æ¿\\n");\n\t}\n}\n\n\npublic class Middlestudent extends Student {\n\n\tpublic Middlestudent(){\n\t\tsuper("","");\n\t}\n\tpublic Middlestudent(String school){\n\t\tsuper(" ",school);\n\t}\n\tpublic Middlestudent(String name,String school){\n\t\tsuper(name,school);\n\t}\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "æçåå­:"+ super.getName() +"\\tæçå­¦æ ¡:" + super.getSchool();\n\t}\n\t@Override\n\tpublic void say() {\n\t\t// TODO Auto-generated method stub\n\t\tsuper.say();\n\t\tSystem.out.println("ææ¯ä¸ä¸ªé«ä¸­çããã");\n\t}\n\t\n\tpublic static void speak(){\n\t\tSystem.out.println("ç¡è§");\n\t}\n}\n\n\npublic abstract class VirtualTree {\n\tprivate String tree="æ³æ ";\n\tpublic VirtualTree(){\n\t\t\n\t}\n\tpublic VirtualTree(String tree){\n\t\tthis.tree=tree;\n\t}\n\t\n\tpublic String getTree() {\n\t\treturn tree;\n\t}\n\tpublic void setTree(String tree) {\n\t\tthis.tree = tree;\n\t}\n\tpublic abstract void wave(); \n\tpublic abstract void grow();\n\tpublic abstract void dieAway();\n\tpublic abstract void fellDown();\n\tpublic void act(){\n\t\t\tthis.wave();\n\t\t\tthis.grow();\n\t\t\tthis.dieAway();\n\t\t\tthis.fellDown();\n\t}\n}\n\n\npublic class Tree extends VirtualTree {\n\t\n\tpublic Tree(){\n\t\t\n\t}\n\tpublic Tree(String tree){\n\t\tsuper(tree);\n\t}\n\t\n\t@Override\n\tpublic void wave() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println("é£å¹è¿ï¼" + super.getTree() + "æ ææå¨ã");\n\t}\n\n\t@Override\n\tpublic void grow() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println(super.getTree() + "çé¿ä¸­Â·Â·Â·Â·Â·Â·");\n\t}\n\n\t@Override\n\tpublic void dieAway() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println(super.getTree() + "æ¯èåé¶");\n\t}\n\n\t@Override\n\tpublic void fellDown() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println(super.getTree() + "è¢«ç ä¼");\n\t}\n}\n\n\n# æ¥å£å®ç°åæ·±æµæ·è´\n\n\npublic class Main {\n\tpublic static void main(String[] args) throws CloneNotSupportedException{\n\t\tHero hero1 = new Hero("å¾·é²ä¼");\n\t\tPets pet1 = new Pets("é¾ç¼");\n\t\thero1.setPet(pet1);\n\t\thero1.displayMes();\n\t\t//System.out.println(hero1);\n\n\t\t/*Hero hero2 = hero1;\t\t\t//å¼ç¨æ·è´\n\t\t//hero2.displayMes();\n\t\tSystem.out.println(hero2);\n\t\tSystem.out.println(hero1.equals(hero3));*/\n\t\t\n\t\t/*Hero hero3 = (Hero) hero1.clone();\t\t//æµæ·è´\tç¬¬ä¸ä¸ªclone()éå\n\t\tSystem.out.println(hero3.equals(hero1));\n\t\thero3.displayMes();\n\t\tSystem.out.println(hero3.pet.equals(hero1.pet));\n\t\tSystem.out.println("hero1çpetå°åï¼" + hero1.pet);\n\t\tSystem.out.println("hero4çpetå°åï¼" + hero3.pet);*/\n\n\t\t//æ·±æ·è´çä¸¤ç§æ¹æ³\n\t\t//1.æ·±å¤å¶æ¡ä»¶ ---ç¶ç±»åå­ç±»é½è¦å®ç°Cloneableï¼ï¼æ¥å£\n\t\t//2.ç¶ç±»éåCloneæ¥å£çæ¶åï¼è¦æå­ç±»å¸¦ä¸ï¼\n\t\tHero hero4 = (Hero) hero1.clone();\t\t//æ·±æ·è´\tç¬¬äºä¸ªclone()éå\n\t\t\n\t\tSystem.out.println(hero4.equals(hero1));\n\t\thero4.displayMes();\n\t\tSystem.out.println(hero4.pet==hero1.pet);\n\t\tSystem.out.println("hero1çpet" + hero1.pet.petname);\n\t\tSystem.out.println("hero4çpet" + hero4.pet.petname);\n\t\tSystem.out.println(hero1.pet.equals(hero4.pet));\n\t}\n}\n\n\npublic interface Flyable {\n\tString fly="æ¥å¨ç¿è";\t//å¨å±åé é»è®¤ä¸ºpublic static String\n\tpublic void able1();\t\t\t\t//æ¥å£æ¹æ³é»è®¤ä¸ºæ½è±¡\n\tpublic static void fly(String f){\t\t//æ¥å£éææ¹æ³\n\t\t//fly = f;\n\t\tSystem.out.print("\\t" + Flyable.fly);\n\t}\n}\n\n\npublic class Pets implements Flyable,Cloneable{\n\t String petname;\n\t\t\n\tpublic Pets() {\n\t}\n\n\tpublic Pets(String petname) {\n\t\tthis.petname = petname;\n\t}\n\n\tpublic String getPet() {\n\t\treturn petname;\n\t}\n\n\tpublic void setPet(String petname) {\n\t\tthis.petname = petname;\n\t}\n\t\n\t//æ¥å£æ¹æ³çå®ä¾å\n\tpublic void able1(){\n\t\tSystem.out.print(" and fly");\n\t}\n\n\t@Override\n\tpublic Object clone() throws CloneNotSupportedException {\n\t\t// TODO Auto-generated method stub\n\t\treturn super.clone();\n\t}\n\n\t// æ³¨ï¼ï¼æ­¤å¤ä¸ºåé¢ç¤ºä¾ï¼éåequalsæ¹æ³æ¶ä¸å®è¦éåhashCode()æ¹æ³\n\t/*@Override\n\tpublic boolean equals(Object temp) {\n\t\t// TODO Auto-generated method stub\n\t\tif(this==temp){\n\t\t\treturn true;\n\t\t}\n\t\tif(temp instanceof Pets){\n\t\t\tPets pet=(Pets)temp;\n\t\t\t\n\t\t\tif(this.petname.equals(((Pets) temp).petname)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn false;\t\t\t\n\t\t}\n\t}*/\n}\n\n\n// åéï¼å®ç°Cloneableæ¥å£ï¼éåclone()æ¹æ³ï¼æéä¸ºpublic\npublic class Hero implements Cloneable {\n\tprivate String name;\n\tPets pet;\n\t\n\tpublic Hero(){\n\t\t\n\t}\n\tpublic Hero(String name){\n\t\tthis.name = name;\n\t}\n\t\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\t\n\tpublic Pets getPet() {\n\t\treturn pet;\n\t}\n\tpublic void setPet(Pets pet) {\n\t\tthis.pet = pet;\n\t}\n\t/*@Override //æµæ·è´\n\tprotected Object clone() throws CloneNotSupportedException {\n\t\t// TODO Auto-generated method stub\n\t\treturn super.clone();\n\t}*/\n\t@Override\t//æ·±æ·è´\n\tpublic Object clone() throws CloneNotSupportedException {\n\t\tHero hero = (Hero)super.clone();\n\t\thero.pet = (Pets)pet.clone();\n\t\treturn hero;\n\t}\n\t\n\t\n\t// æ³¨ï¼ï¼æ­¤å¤ä¸ºåé¢ç¤ºä¾ï¼éåequalsæ¹æ³æ¶ä¸å®è¦éåhashCode()æ¹æ³\n\t/*@Override\n\tpublic boolean equals(Object temp) {\n\t\t// TODO Auto-generated method stub\n\t\tif(this==temp){\n\t\t\treturn true;\n\t\t}\n\t\tif(temp instanceof Hero){\n\t\t\tHero hero=(Hero) temp;\n\t\t\tPets pet=(Pets)hero.pet;\n\t\t\t\n\t\t\tif(this.pet==hero.pet && this.pet.petname.equals(hero.pet.petname)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn false;\n\t\t}\t\t\n\t}*/\n\t\n\tpublic void displayMes(){\n\t\tSystem.out.println("Hero name:" + name);\n\t\tSystem.out.print("Pet name:" + pet.getPet());\n\t\tFlyable.fly(" ");\n\t\tpet.able1();\n\t\tSystem.out.println();\n\t}\n}\n\n\n# ç±»é´å³ç³»\n\n\npublic class Main {\n\t//ä½ä¼ç±»åç±»ä¹é´çå³ç³»\n\tpublic static void main(String[] args) {\n\t\t\n\t\tbyte f[]={9,11,13,12,10};\n\n\t\tStudent s[]=new Student[2];\n\t\ts[0]=new Student("éªåé·é¸£",(byte)127,"ç·","14000000",true);\n\t\tPhone phone = new Phone();\n\t\tphone=new Phone("WAL-000",2000,20);\n\t\ts[0].finger(f);\n\t\ts[0].toString();//System.out.println(s);\n\t\ts[0].playPhone(phone);\n\t\ts[0].buyPhone(phone);\n\t\ts[0].breath();\n\t\t\n\t\ts[1]=new Student();\n\t\ts[1].toString();\n\t\ts[1].breath();\n\t\t\n\t\t\n\t\t/*s=null;\n\t\tSystem.gc();*/\n\t}\n\n}\n\n\n  public class Student {\n      private String name=" ";\n      private byte age;\n      private String sex;\n      private String num;\n      private boolean graduate;\n      Phone phone=new Phone();\n      Hands hand = new Hands();\n      \n      public Student(){\n          hand = new Hands();\n      }\n      public Student(String name){\n          this.name=name;\n      }\n      public Student(String name,byte age){\n          this(name);\n          this.age=age;\n      }\n      public Student(String name,byte age,String sex){\n          this(name,age);\n          this.sex=sex;\n      }\n      public Student(String name,byte age,String sex,String num){\n          this(name,age,sex);\n          this.num=num;\n      }\n      public Student(String name,byte age,String sex,String num ,boolean graduate){\n          this(name,age,sex,num);\n          this.graduate=graduate;\n      }\n  \n      \n      public String getName(){\n          return name;\n      }\n      public void setName(String name){\n          this.name=name;\n      }\n      public short getAge() {\n          return age;\n      }\n      public void setAge(byte age) {\n          this.age = age;\n      }\n      public String getSex() {\n          return sex;\n      }\n      public void setSex(String sex) {\n          this.sex = sex;\n      }\n      public String getNum() {\n          return num;\n      }\n      public void setNum(String num) {\n          this.num = num;\n      }\n      public boolean isGraduate() {\n          return graduate;\n      }\n      public void setGraduate(boolean graduate) {\n          this.graduate = graduate;\n      }\n      \n      public Hands getHand() {\n          return hand;\n      }\n      public void setHand(Hands hand) {\n          this.hand = hand;\n      }\n      \n      public void finger(byte a[]){       //ä¸Handsæç»åå³ç³»\n          hand = new Hands(a);\n      }\n      \n      @Override\n      public String toString() {\n          // TODO Auto-generated method stub\n          System.out.println("å§åï¼" + this.name +"\\tå¹´é¾ï¼" + age + "\\tæ§å«ï¼" + sex + "\\tå­¦å·ï¼" + num + "\\tæ¯å¦æ¯ä¸ï¼" + graduate);\n          System.out.println(this.getHand());\n          return super.toString();\n      }\n      \n      /*@Override\n      protected void finalize() throws Throwable {\n          // TODO Auto-generated method stub\n          System.out.println("åæ¶åå¾...");\n          super.finalize();\n      }*/\n      public void breath(){       //ä¸Airç±»æä¾èµå³ç³»\n          Air freshair = new Air();\n          freshair.air();\n      }\n      \n      public void playPhone(Phone phone){     //ä¸Phoneæèåå³ç³»\n          System.out.println(this.getName()+"åå­¦çææº  åå·ï¼"+phone.getModel()+ "\\tä»·æ ¼ï¼" +phone.getPrice() + "\\tå°ºå¯¸ï¼" + phone.getSize());\n      }\n      \n      public Phone buyPhone(Phone phone){\n          System.out.println("è´­ä¹°ææº åå·ï¼"+phone.getModel()+ "  ä»·æ ¼ï¼" +phone.getPrice() + "  å°ºå¯¸ï¼" + phone.getSize());\n          return this.phone;\n      }\n  }\n\n\n  public class Air {\n      //ä¾èµ\n      public void air(){\n          System.out.println("å¸æ°" + "\\tå¼" +" æ°" + "\\n");\n      }\n  }\n\n\npublic class Hands {\n\t//ç»å\n\tprivate byte[] finger=new byte[5];\n\tpublic Hands(){\n\t\tfinger[0]=(byte)7;\n\t\tfinger[1]=(byte)8.2;\n\t\tfinger[2]=(byte)10;\t\t\n\t\tfinger[3]=(byte)9.3;\n\t\tfinger[4]=(byte)7.5;\n\t}\n\tpublic Hands(byte[] finger){\n\t\tthis.finger=finger;\n\t}\n\t\n\tpublic byte[] getFinger() {\n\t\treturn finger;\n\t}\n\n\tpublic void setFinger(byte[] finger) {\n\t\tthis.finger = finger;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println("ææé¿ä¸ºï¼"+finger[0]+"\\té£æé¿ä¸ºï¼"+finger[1]+"\\tä¸­æé¿ä¸ºï¼"+finger[2]+"\\tæ åæé¿ä¸ºï¼"+finger[3]+"\\tå°æé¿ä¸ºï¼"+finger[4]);\n\t\treturn super.toString();\n\t}\n}\n\n\n  public class Phone {\n      //èå\n      private String model;\n      private int price;\n      private int size;\n  \n      public Phone() {\n  \n      }\n  \n      public Phone(String model) {\n          this();\n          this.model=model;\n      }\n  \n      public Phone(String model, int price) {\n          this(model);\n          this.price=price;\n      }\n  \n      public Phone(String model, int price, int size) {\n          this(model,price);\n          this.size=size;\n      }\n  \n      public String getModel() {\n          return model;\n      }\n  \n      public void setModel(String model) {\n          this.model = model;\n      }\n  \n      public int getPrice() {\n          return price;\n      }\n  \n      public void setPrice(int price) {\n          this.price = price;\n      }\n  \n      public int getSize() {\n          return size;\n      }\n  \n      public void setSize(int size) {\n          this.size = size;\n      }\n  }\n\n\n# ç®åè®¾è®¡æ¨¡å¼\n\n\n  public class Main {\n      static{\n          System.out.println("æµè¯ç±»çéæä»£ç å");\n      }\n      public static void mothod(int n){\n          \n          System.out.println("ææ¯" + n + "å¥æ èçè¯ããã");\n      }\n      public static void main(String[] args) {\n          // TODO Auto-generated method stub\n          /*Student.setSchool("XXå­¦é¢");\n          Student s1 = new Student();\n          s1.setName("aaa");\n          System.out.println(s1.getName() + " " + Student.getSchool());*/\n          \n          Test.mothod(3);\n          \n          Student s0 = new Student();\n          System.out.println(s0);\n          \n          Student s2 = new Student("aaa");\n          s2.schoolName("XXå­¦é¢");\n          s2.showMessage();\n          \n          Singleton s3 = Singleton.getInstane();\n          System.out.println(s3);\n          Singleton s4 = Singleton.getInstane();\n          System.out.println(s4);\n          System.out.println("ï¼åä¾é¥¿æ±å¼ï¼å¯¹è±¡æ°ï¼" + Singleton.num + "\\n");\n          \n          Singleton1 s5 = Singleton1.getInstane();\n          System.out.println(s5);\n          Singleton1 s6 = Singleton1.getInstane();\n          System.out.println(s6);\n          System.out.println("ï¼åä¾ææ±å¼ï¼å¯¹è±¡æ°ï¼" + Singleton1.num + "\\n");\n          \n          Multiton s7 = Multiton.getInstane("ææ1");\n          System.out.println(s7.getStar());\n          Multiton s8 = Multiton.getInstane("ææ2");\n          System.out.println(s8.getStar());\n          Multiton s9 = Multiton.getInstane("ææ3");\n          System.out.println(s9.getStar());\n          System.out.println("ï¼å¤ä¾ï¼å¯¹è±¡æ°ï¼" + Multiton.num);\n      }\n  }\n\n\n// å¤ä¾\npublic class Multiton {\n\tprivate String star;\n\tpublic static int num=0;\n\tprivate static Multiton[] s = new Multiton[3];\n\tstatic{\n\t\tfor (int i = 0; i < s.length; i++) {\n\t\t\ts[i] = new Multiton("ææ" + (i+1));\n\t\t}\n\t}\n\t\n\tpublic String getStar() {\n\t\treturn star;\n\t}\n\tpublic void setStar(String star) {\n\t\tthis.star = star;\n\t}\n\t\n\tprivate Multiton(){\n\t\tnum++;\n\t}\n\tprivate Multiton(String star){\n\t\tthis.star=star;\n\t\tnum++;\n\t}\n\t\n\tpublic static Multiton getInstane(String star)\n\t{\n\t\tif(s[0].getStar().equals(star)){\n\t\t\treturn s[0];\n\t\t}\n\t\telse if(s[1].getStar().equals(star))\n\t\t{\n\t\t\treturn s[1];\n\t\t}\n\t\telse{\n\t\t\treturn s[2];\n\t\t}\n\t}\n}\n\n\n//åä¾   é¥¿æ±å¼\npublic class Singleton {\n\tprivate String school;\n\tpublic static int num=0;\n\tprivate static final Singleton s = new Singleton("XXå­¦é¢");\n\t\n\tprivate Singleton(){\n\t\tnum++;\n\t}\n\tprivate Singleton(String school){\n\t\tthis.school=school;\n\t\tnum++;\n\t}\n\t\n\tpublic static Singleton getInstane()\n\t{\n\t\treturn s;\n\t}\n}\n\n\n//åä¾  ææ±å¼\npublic class Singleton1 {\n\tprivate String school;\n\tpublic static int num=0;\n\tprivate static Singleton1 s = null;\n\t\n\tprivate Singleton1() {\n\t\tnum++;\n\t}\n\tprivate Singleton1(String school) {\n\t\tthis.school=school;\n\t\tnum++;\n\t}\n\t\n\tpublic static Singleton1 getInstane() {\n\t\tif(s==null){\n\t\t\ts=new Singleton1();\n\t\t} else {\n\t\t\treturn s;\n\t\t}\n\t\treturn s;\n\t}\n}\n\n\n# å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸\n\n\npublic class ArrException {\n\tpublic static void main(String[] args){\n\t\tint a[]={21,32,52};\n\t\t\n\t\ttry{\n\t\t\tSystem.out.println(a[3]);\n\t\t}catch(ArrayIndexOutOfBoundsException e){\n\t\t\tSystem.out.println("å¼å¸¸ä¿¡æ¯ä¸ºï¼" + e.getMessage());\n\t\t}\n\t}\t\n}\n\n\npublic class ClasEpt {\n\tprivate String name;\n\n\tprotected ClasEpt() {\n\t\tsuper();\n\t}\n\n\tprotected ClasEpt(String name) {\n\t\tsuper();\n\t\tthis.name = name;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "å§åï¼"+name;\n\t}\n\t\n\t\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tClasEpt c=new ClasEpt("name");\n\t\tc=null;\n\t\t\n\t\tassert (c!=null):"å¯¹è±¡cæånull";\n\t\t\n\t\tSystem.out.println(c);\n\t\ttry{\n\t\t\tSystem.out.println(c.toString());\n\t\t}catch(NullPointerException e){\n\t\t\tSystem.out.println("å¼å¸¸ä¿¡æ¯ï¼" + e.getMessage());\n\t\t\t//e.printStackTrace();\n\t\t}\n\t}\n}\n\n\npublic class DivEpt {\n\tpublic static void main(String[] args) {\n\t\tint a=100;\n\t\tint b=0;\n\t\t\n\t\ttry{\n\t\t\tSystem.out.println(div(a,b));\n\t\t}catch(Exception e){\n\t\t\tSystem.out.println("å¼å¸¸ä¿¡æ¯ä¸ºï¼" + e.getMessage());\n\t\t}finally{\n\t\t\tSystem.out.println("è¯·éæ°æä½");\n\t\t}\n\t}\n\t\n\tpublic static int div(int a,int b) {\n\t\treturn a/b;\n\t}\n}\n\n\npublic class DivEpt1 {\n\tpublic static void main(String[] args) {\n\t\tint a=100;\n\t\tint b=0;\n\t\t\n\t\ttry{\n\t\t\tSystem.out.println(div(a,b));\n\t\t}catch(Exception e){\n\t\t\tSystem.out.println(e.getMessage());\n\t\t}\n\t}\n\t\n\tpublic static int div(int a,int b) throws Exception {\n\t\tif(b==0){\n\t\t\tthrow new Exception("é¤æ°ä¸ºé¶");\n\t\t}\n\t\treturn a/b;\n\t}\n}\n\n\n/**\n * èªå®ä¹å¼å¸¸\n * ç»§æ¿Exception\n * @author Lenovo\n */\npublic class MyException extends Exception{\n\t\n\t/**\n\t * åºååID\n\t */\n\tprivate static final long serialVersionUID = 1L;\n\tpublic MyException(){\n\t\tsuper();\n\t}\n\tpublic MyException(String msg){\n\t\tsuper(msg);\n\t}\n\tpublic String getMessage(String s) {\n\t\t\n\t\treturn "å¾å°å¼å¸¸ä¿¡æ¯ï¼" + super.getMessage();\n\t}\n\t@Override\n\tpublic void printStackTrace() {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.print("æå°å æ ä¿¡æ¯ï¼");\n\t\tsuper.printStackTrace();\n\t}\n}\n\n// ----------------------------\n\npublic class MyTest {\n\tpublic static void main(String[] args) throws MyException{\n\t\tint x=5;\n\t\twhile(x--\x3e1){\n\t\t\tScanner cin = new Scanner(System.in);\n\t\ttry{\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tif(b==0){\n\t\t\t\t\tthrow new MyException("é¤æ°ä¸è½ä¸º0");\t\t//èªå®ä¹å¼å¸¸ç±»å¯¹è±¡\n\t\t\t\t}\n\t\t\t\tSystem.out.println(a/b);\n\t\t\t}catch(InputMismatchException e){\n\t\t\t\t//e.printStackTrace();\n\t\t\t\tSystem.out.println(e.getMessage());\n\t\t\t}catch(ArithmeticException e){\n\t\t\t\tSystem.out.println(e.getMessage());\n\t\t\t}catch(RuntimeErrorException e){\n\t\t\t\tSystem.out.println(e.getMessage());\n\t\t\t}catch(Exception e){\n\t\t\t\tSystem.out.println(e.getMessage());\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n# çº¿ç¨\n\n# å¤çº¿ç¨\n\n\npublic class MyThread extends Thread{\n\tprivate static int tickets = 50;\n\t//private volatile int tickets = 50;\n\t//private int tickets = 50;\n\tprivate int time ;\t\n\tpublic MyThread(String name,int time){\n\t\tsuper(name);\n\t\tthis.time = time;\n\t}\n\n\t@Override\n\tpublic void run() {\n\t\t\n\t\twhile(tickets--\x3e0){\n\t\t\ttry {\n\t\t\t\tThread.sleep(this.time);\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬" + tickets + "å¼ ç¥¨");\n\t\t}\n\t}\n}\n// ------------------------------------------------------\npublic static void main(String[] args) {\n\t// TODO Auto-generated method stub\n\tMyThread t1=new MyThread("çªå£1",200);\n\tMyThread t2=new MyThread("çªå£2",100);\n\tMyThread t3=new MyThread("çªå£3",50);\n\tMyThread t4=new MyThread("çªå£4",10);\n\t\n\tt1.start();\n\tt2.start();\n\tt3.start();\n\tt4.start();\n}\n\n\npublic class TRunnable implements Runnable{\n\tprivate int tickets = 50;\n\tprivate int time;\n\tprotected TRunnable(int time) {\n\t\tsuper();\n\t\tthis.time = time;\n\t}\n\n\t@Override\n\tpublic void run() {\n\t\t// TODO Auto-generated method stub\n\t\twhile(tickets--\x3e0){\n\t\t\ttry {\n\t\t\t\tThread.sleep(this.time);\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬" + tickets + "å¼ ç¥¨");\n\t\t}\n\t}\n}\n\n// ----------------------------------\npublic static void main(String[] args) {\n\t\t//Runnableæ¥å£å®ç°ç±»çå¯¹è±¡\n\t\tTRunnable tr1=new TRunnable(100);\t\t//åæ°ä¸ºç¡ç æ¶é´\n\t\t\n\t\tThread t1 = new Thread(tr1,"çªå£1");\n\t\tThread t2 = new Thread(tr1,"çªå£2");\n\t\tThread t3 = new Thread(tr1,"çªå£3");\n\t\tThread t4 = new Thread(tr1,"çªå£4");\n\t\t\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t\tt4.start();\n\t}\n}\n\n\n// å¯å¸¦è¿åå¼çå¤çº¿ç¨\npublic class TCallable implements Callable{\n \tprivate int tickets = 50;\n \t@Override\n \tpublic Object call() throws Exception {\n \t\twhile(true){\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets==39){\n \t\t\t\t\tSystem.out.println("ç¨åºè®©æ­¥...");\n \t\t\t\t\tThread.yield();\n \t\t\t\t}\n \t\t\t}\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets==6){\n \t\t\t\t\tSystem.out.println("ç¨åºè®©æ­¥...");\n \t\t\t\t\tThread.yield();\n \t\t\t\t}\n \t\t\t}\n \t\t\t\n \t\t\ttry {\n \t\t\t\tThread.sleep(2);\n \t\t\t} catch (InterruptedException e) {\n \t\t\t\t// TODO Auto-generated catch block\n \t\t\t\te.printStackTrace();\n \t\t\t}\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets>0){\n \t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬" + tickets + "å¼ ç¥¨");\t\n \t\t\t\t\ttickets--;\n \t\t\t\t}else{\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n \t\treturn tickets;\n \t}\n}\n// ----------------------------\npublic class TestTC {\n\tpublic static void main(String[] args) throws InterruptedException, ExecutionException  {\n\t\tTCallable tc = new TCallable();\n\t\t\n\t\tFutureTask ft1 = new FutureTask(tc);\n\t\tThread t1 = new Thread(ft1,"çªå£1");\n\t\t\n\t\tFutureTask ft2 = new FutureTask(tc);\n\t\tThread t2 = new Thread(ft2,"çªå£2");\n\t\t\n\t\tFutureTask ft3 = new FutureTask(tc);\n\t\tThread t3 = new Thread(ft3,"çªå£3");\n\t\t\n\t\tFutureTask ft4 = new FutureTask(tc);\n\t\tThread t4 = new Thread(ft4,"çªå£4");\n\t\t\n\t\tFutureTask ft5 = new FutureTask(tc);\n\t\tThread t5 = new Thread(ft5,"çªå£5");\n\t\t\n\t\tFutureTask ft6 = new FutureTask(tc);\n\t\tThread t6 = new Thread(ft6,"çªå£6");\n\t\t\n\t\tDamonThread d2 = new DamonThread();\n\t\tThread t9 = new Thread(d2,"å®æ¤çº¿ç¨");\n\t\tt9.setDaemon(true);\n\t\tSystem.out.println("çº¿ç¨t9æ¯å¦æ¯å®æ¤çº¿ç¨:" + t9.isDaemon());\n\t\tt9.start();\n\t\t\n\t\tt1.setPriority(1);\n\t\tt1.start();\n\t\tt2.setPriority(1);\n\t\tt2.start();\n\t\tt3.setPriority(9);\n\t\tt3.start();\n\t\tt4.setPriority(3);\n\t\tt4.start();\n\t\tt5.setPriority(3);\n\t\tt5.start();\n\t\tt5.join();\t\t//join(ï¼åé¢ççº¿ç¨å¨æ­¤çº¿ç¨ç»æåæä¼è¿è¡\n\t\tt6.setPriority(9);\n\t\tt6.start();\n\t\t\n\t\tSystem.out.println("t1\\tID:" + t1.getId() + "\\tè¿åç»æï¼" + ft1.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft1.isDone());\n\t\tSystem.out.println("t2\\tID:" + t2.getId() + "\\tè¿åç»æï¼" + ft2.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft2.isDone());\n\t\tSystem.out.println("t3\\tID:" + t3.getId() + "\\tè¿åç»æï¼" + ft3.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft3.isDone());\n\t\tSystem.out.println("t4\\tID:" + t4.getId() + "\\tè¿åç»æï¼" + ft4.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft4.isDone());\n\t\tSystem.out.println("t5\\tID:" + t5.getId() + "\\tè¿åç»æï¼" + ft5.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft5.isDone());\n\t\tSystem.out.println("t6\\tID:" + t6.getId() + "\\tè¿åç»æï¼" + ft6.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft6.isDone());\n\t}\n}\n\n\npublic class DamonThread implements Runnable{\n\n\t@Override\n\tpublic void run() {\n\t\t// TODO Auto-generated method stub\n\t\twhile(true){\n\t\t\tSystem.out.println(Thread.currentThread().getName() + "è¿è¡");\n\t\t\ttry {\n\t\t\t\tThread.sleep(1);\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n}\n// ----------------------------------------------\npublic class TestDT {\n\tpublic static void main(String[] args) throws InterruptedException {\n\t\tDamonThread d1 = new DamonThread();\n\t\tThread t1 = new Thread(d1,"å®æ¤çº¿ç¨");\n\t\tt1.setDaemon(true);\n\t\tSystem.out.println("çº¿ç¨t1æ¯å¦æ¯å®æ¤çº¿ç¨:" + t1.isDaemon());\n\t\tt1.start();\n\t\t\n\t\tfor (int i = 0; i < 10; i++) {\n\t\t\tThread.sleep(3);\n\t\t\tSystem.out.println(Thread.currentThread().getName() + "è¿è¡ä¸­...");\n\t\t}\n\t\t\n\t\t/*while(true){\n\t\t\t\n\t\t}*/\n\t}\n}\n\n\n# å¤çº¿ç¨é\n\n\npublic class Test_Method implements Callable<Object> {\n\tprivate int tickets = 100;\n\t@Override\n\tpublic Object call() throws Exception {\n\t\t// TODO Auto-generated method stub\n\t\twhile(tickets>0){\n\t\t\tsold();\n\t\t}\n\t\treturn tickets;\n\t}\n\t\n\tpublic synchronized void sold(){\n\t\tif (tickets > 0) {\n\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬"\n\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\ttickets--;\n\t\t}\n\t}\n}\n\n\npublic class Test_synchronized implements Callable<Object> {\n\tprivate int tickets = 100;\n\n\t@Override\n\tpublic Object call() throws Exception {\n\t\twhile (true) {\n\t\t\tsynchronized (this) {\n\t\t\t\ttry {\n\t\t\t\t\tThread.sleep(1000);\n\t\t\t\t} catch (InterruptedException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t\tif (tickets > 0) {\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬"\n\t\t\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\t\t\ttickets--;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn tickets;\n\t}\n}\n\n\npublic class Test_Lock implements Callable<Object> {\n\tprivate int tickets = 100;\n\tprivate final Lock lock = new ReentrantLock();\n\n\t@Override\n\tpublic Object call() throws Exception {\n\t\twhile (true) {\n\t\t\tlock.lock();\n\t\t\ttry {\n\t\t\t\tThread.sleep(30);\n\t\t\t\tif (tickets > 0) {\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + " åç¬¬"\n\t\t\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\t\t\ttickets--;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}finally{\n\t\t\t\tlock.unlock();\n\t\t\t}\n\n\t\t}\n\t\treturn tickets;\n\t}\n}\n\n\npublic class DeadLockThread implements Callable<Object>{\n\tstatic Object chopsticks1 = new Object();\n\tstatic Object chopsticks2 = new Object();\n\tprivate boolean flag ;\n\tpublic DeadLockThread(boolean flag) {\n\t\tthis.flag = flag;\n\t}\n\t@Override\n\tpublic Object call() throws Exception {\n\t\tif(flag==true){\n\t\t\twhile(true){\n\t\t\t\tsynchronized(chopsticks1){\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\tget chopsticks1");\n\t\t\t\t\tsynchronized(chopsticks2){\n\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\tget chopsticks2");\n\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\teating");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\twhile(true){\n\t\t\t\tsynchronized(chopsticks1){\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\tget chopsticks1");\n\t\t\t\t\tsynchronized(chopsticks2){\n\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\tget chopsticks2");\n\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + "\\teating");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n// ---------------\npublic class TestDLT {\n\tpublic static void main(String[] args) {\n\t\tDeadLockThread dl1 = new DeadLockThread(false);\n\t\tFutureTask ft1 = new FutureTask(dl1);\n\t\tThread t1 = new Thread(ft1,"p1");\n\t\t\n\t\tDeadLockThread dl2 = new DeadLockThread(true);\n\t\tFutureTask ft2 = new FutureTask(dl2);\n\t\tThread t2 = new Thread(ft2,"p2");\n\t\t\n\t\tt1.start();\n\t\tt2.start();\n\t}\n}\n\n\n// -------------- Storageï¼åºå­ï¼ ---------------------\npublic class Storage {\n\tprivate int data;\n\tprivate boolean b = false;\n\tint i = 0;\n\t\n\tsynchronized public void put(int num){\n\t\twhile(b == true){\n\t\t\ttry {\n\t\t\t\tthis.wait();\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tdata=num;\n\t\tb=true;\n\t\ti++;\n\t\tSystem.out.println(Thread.currentThread().getName() +"å¨" + i + "å¤çäº§" + data);\n\t\ttry {\n\t\t\tThread.sleep(100);\n\t\t} catch (InterruptedException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\te.printStackTrace();\n\t\t}finally{\n\t\t\tthis.notify();\n\t\t}\n\t}\n\t\n\tsynchronized public void get(){\n\t\t\twhile(b==false){\n\t\t\t\ttry {\n\t\t\t\t\tthis.wait();\n\t\t\t\t} catch (InterruptedException e) {\n\t\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t}\n\t\t\tb=false;\n\t\t\tSystem.out.println(Thread.currentThread().getName() + "æ¶è´¹" + data);\n\t\t\ttry {\n\t\t\t\tThread.sleep(100);\n\t\t\t} catch (InterruptedException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}finally{\n\t\t\t\tthis.notify();\n\t\t\t}\n\t}\n}\n\n// ----------------- Producerï¼çäº§èï¼ -------------------\npublic class Producer implements Runnable {\n\tStorage s = new Storage();\n\tprivate int count = 0;\n\n\tpublic Producer(Storage s) {\n\t\tthis.s = s;\n\t}\n\n\t@Override\n\tpublic void run() {\n\n\t\twhile (count < 15) {\n\t\t\ts.put(count++);\n\t\t}\n\t}\n}\n\n// ----------------- Consumerï¼æ¶è´¹èï¼ -------------------\npublic class Consumer implements Runnable {\n\tStorage s = new Storage();\n\tprivate int count = 0;\n\n\tpublic Consumer(Storage s) {\n\t\tthis.s = s;\n\t}\n\n\t@Override\n\tpublic void run() {\n\n\t\twhile (count++ < 15) {\n\t\t\ts.get();\n\t\t}\n\t}\n}\n\n// ----------------- æµè¯ç±»å¯å¨ç±» -------------------\npublic class TestSPD {\n\tpublic static void main(String[] args) {\n\t\tStorage s = new Storage();\n\t\t\n\t\tProducer p = new Producer(s);\n\t\tConsumer c = new Consumer(s);\n\t\t\n\t\tnew Thread(p,"çäº§è").start();\n\t\tnew Thread(c,"æ¶è´¹è").start();\n\t}\n}\n\n\n# å¸¸ç¨å·¥å·ç±»\n\n\npublic class T_regex {\n\tpublic static void main(String args[]){\n\t\tString s1 = "1033178928@qq.com";\n\t\tSystem.out.println("æ¯å¦æ¯ä¸ä¸ªqqé®ç®±:" + s1.matches("[0-9]{10,11}@(([a-zA-z0-9]-*){1,}\\\\.){1,3}[a-zA-z\\\\-]{1,}"));\n\t\t\n\t\tString s2 = "451221199705303537";\n\t\tSystem.out.println("æ¯å¦æ¯ä¸ä¸ªæ­£ç¡®çèº«ä»½è¯å·ï¼" + s2.matches("[0-9]{18}"));\n\t\n\t\tPattern p=Pattern.compile("[0-9]{10,11}@(([a-zA-z0-9]-*){1,}\\\\.){1,3}[a-zA-z\\\\-]{1,}"); \n\t\tMatcher m =p.matcher("1033178928@qq.com"); \n\t\tboolean b = m.matches();\n\t\tSystem.out.println(b);\n\t\tMatcher m2=p.matcher("10331789@qq.com");\n\t\tb = m2.matches();\n\t\tSystem.out.println(b);\n\t\tMatcher m3=p.matcher("4534545378@qq.com");\n\t\tb = m3.matches();\n\t\tSystem.out.println(b);\n\t\tMatcher m4=p.matcher("1033178928@.com");\n\t\tb = m4.matches();\n\t\tSystem.out.println(b);\n\t}\n}\n\n\npublic class T_Method {\n\tpublic static void main(String []args){\n\t\tString s = new String(" AbCdefgHijk_LmnopwrStuVwxyz_AbCdefgHijkL_mnopwrStuVwxyz ");\n\t\t\n\t\tSystem.out.println(s.indexOf("Stu"));\n\t\tSystem.out.println(s.lastIndexOf("Stu"));\n\t\tSystem.out.println(s.startsWith("AbCdefg"));\n\t\tSystem.out.println(s.endsWith("vwxyz"));\n\t\tSystem.out.println(s.equals(""));\n\t\tSystem.out.println(s.length());\n\t\tSystem.out.println(s.contains("mnopwrSt"));\n\t\tSystem.out.println(s.toUpperCase());\n\t\tSystem.out.println(s.toLowerCase());\n\t\tSystem.out.println(s.replace("AbCdefgHijk_LmnopwrStuVwxyz", "aaa"));\n\t\tString s_arr[] = s.split("_");\n\t\tfor (int i = 0; i < s_arr.length; i++) {\n\t\t\tif(i != s_arr.length - 1){\n\t\t\t\tSystem.out.print(s_arr[i] + "0.0\\t");\n\t\t\t}else{\n\t\t\t\tSystem.out.println(s_arr[i]);\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(s.substring(18,26));\t\t//18-26çå­ç¬¦\n\t\tSystem.out.println(s.trim());\n\t}\n}\n\n\npublic class T_Builder {\n\tpublic static void main(String args[]){\n\t\tSystem.out.println("å¢=======");\n\t\tStringBuilder s1 = new StringBuilder("æç¥äººåç»æç©·å°½");\n\t\tString s2 = "*";\n\t\tadd(s1,s2);\n\t\tSystem.out.println("å =======");\n\t\tupdate();\n\t\tSystem.out.println("æ¹=======");\n\t\tdelete();\n\t}\n\tpublic static void add(StringBuilder str1,String str2){\n\t\tstr1.append(str2);\n\t\tSystem.out.println("appendæ·»å ç»æï¼" + str1);\n\t\t\n\t\tstr1.insert(4, str2);\n\t\tSystem.out.println("insertæ·»å ç»æï¼" + str1);\n\t}\n\tpublic static void update(){\n\t\tStringBuilder sb = new StringBuilder("apple");\n\t\tsb.setCharAt(3, \' \');\n\t\tSystem.out.println("ä¿®æ¹ï¼" + sb);\n\t\t\n\t\tsb.replace(2, 4, "===");\n\t\tSystem.out.println("æ¿æ¢ï¼" + sb);\n\t\t\n\t\tStringBuilder sb1 = new StringBuilder("ä¸æµ·èªæ¥æ°´æ¥èªæµ·ä¸");\n\t\tSystem.out.println( "sb1æ¯å¦æ¯åæ:" + sb1.equals(sb1.reverse()));\n\t\tStringBuilder sb3 = new StringBuilder("ç²çéª°å­å®çº¢è±ï¼å¥éª¨ç¸æåç¥å¦");\n\t\tSystem.out.println("ç¿»è½¬ï¼" + sb1.reverse() + "\\t" + sb3.reverse());\n\t}\n\tpublic static void delete(){\n\t\tStringBuilder sb = new StringBuilder("å¹´å°è½»çï¼æ»ä»¥ä¸ºå¤©ä¸äºæ å¯ä¸ä¸ºã");\n\t\tsb.delete(2, 5);\n\t\tSystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.deleteCharAt(2);\n\t\tSystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.delete(0, sb.length());\n\t\tSystem.out.println("æ¸ç©ºç¼å²åº:" + sb);\n\t}\n}\n\n\npublic class T_Buffer {\n\tpublic static void main(String args[]){\n\t\tSystem.out.println("å¢=======");\n\t\tStringBuffer s1 = new StringBuffer("æç¥äººåç»æç©·å°½");\n\t\tString s2 = "*";\n\t\tadd(s1,s2);\n\t\tSystem.out.println("å =======");\n\t\tupdate();\n\t\tSystem.out.println("æ¹=======");\n\t\tdelete();\n\t}\n\tpublic static void add(StringBuffer str1,String str2){\n\t\tstr1.append(str2);\n\t\tSystem.out.println("appendæ·»å ç»æï¼" + str1);\n\t\t\n\t\tstr1.insert(4, str2);\n\t\tSystem.out.println("insertæ·»å ç»æï¼" + str1);\n\t}\n\tpublic static void update(){\n\t\tStringBuffer sb = new StringBuffer("apple");\n\t\tsb.setCharAt(3, \' \');\n\t\tSystem.out.println("ä¿®æ¹ï¼" + sb);\n\t\t\n\t\tsb.replace(2, 4, "===");\n\t\tSystem.out.println("æ¿æ¢ï¼" + sb);\n\t\t\n\t\tStringBuffer sb1 = new StringBuffer("ä¸æµ·èªæ¥æ°´æ¥èªæµ·ä¸");\n\t\tSystem.out.println( "sb1æ¯å¦æ¯åæ:" + sb1.equals(sb1.reverse()));\n\t\tStringBuffer sb3 = new StringBuffer("ç²çéª°å­å®çº¢è±ï¼å¥éª¨ç¸æåç¥å¦");\n\t\tSystem.out.println("ç¿»è½¬ï¼" + sb1.reverse() + "\\t" + sb3.reverse());\n\t}\n\tpublic static void delete(){\n\t\tStringBuffer sb = new StringBuffer("å¹´å°è½»çï¼æ»ä»¥ä¸ºå¤©ä¸äºæ å¯ä¸ä¸ºã");\n\t\tsb.delete(2, 5);\n\t\tSystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.deleteCharAt(2);\n\t\tSystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.delete(0, sb.length());\n\t\tSystem.out.println("æ¸ç©ºç¼å²åº:" + sb);\n\t}\n}\n\n\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\tRuntime rt = Runtime.getRuntime();\n\t\tSystem.out.println("å¤çæºä¸ªæ°ï¼" + rt.availableProcessors() + "ä¸ª");\n\t\tSystem.out.println("ç©ºé²åå­ï¼" + rt.freeMemory()/1024/1024 + "M");\n\t\tSystem.out.println("æå¤§åå­ï¼" + rt.maxMemory()/1024/1024 + "M");\n\t\t\n\t\ttry {\n\t\t\t\n\t\t\tProcess process = rt.exec("notepad.exe");\n\t\t\tThread.sleep(3000);\n\t\t\tprocess.destroy();\n\t\t\t\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t} catch (InterruptedException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}\n\n\n// ------------- DateFormat -----------\npublic class T_DateFormat {\n\tpublic static void main(String[] args) {\n\t\tDate d = new Date();\n\t\tDateFormat fullFormat = DateFormat.getDateInstance(DateFormat.FULL);\n\t\tDateFormat longFormat = DateFormat.getDateInstance(DateFormat.LONG);\n\t\tDateFormat mediumFormat = DateFormat.getDateTimeInstance(DateFormat.MEDIUM, DateFormat.MEDIUM);\n\t\tDateFormat shortFormat = DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.SHORT);\n\n\t\tSystem.out.println("å½åæ¥æçå®æ´æ ¼å¼ä¸ºï¼" + fullFormat.format(d));\n\t\tSystem.out.println("å½åæ¥æçé¿æ ¼å¼ä¸ºï¼" + longFormat.format(d));\n\t\tSystem.out.println("å½åæ¥æçæ®éæ ¼å¼ä¸ºï¼" + mediumFormat.format(d));\n\t\tSystem.out.println("å½åæ¥æçç­æ ¼å¼ä¸ºï¼" + shortFormat.format(d));\n\t\t\n\t\tSimpleDateFormat s = new SimpleDateFormat("Gyyyyå¹´MMæddæ¥ï¼ä»å¤©æ¯yyyyå¹´ç¬¬Då¤©ï¼E");\n\t\tSystem.out.println(s.format(new Date()));\n\t}\n}\n\n// ------------- ClockãDurationãInstant -----------\npublic class T_time {\n\tpublic static void main(String[] args) {\n\t\t//Clock\n\t\tClock c = Clock.systemUTC();\n\t\tSystem.out.println("UTCè½¬æ¢å½åæ¶é´ï¼" + c.instant());\n\t\tSystem.out.println("UTCè½¬æ¢æ¯«ç§æ°ï¼" + c.millis());\n\t\t//Duration\n\t\tDuration d = Duration.ofDays(3);\n\t\tSystem.out.println("3å¤©=" + d.toHours() + "æ¶");\n\t\tSystem.out.println("3å¤©=" + d.toMinutes() + "å");\n\t\tSystem.out.println("3å¤©=" + d.toMillis() + "ç§");\n\t\t//Instant\n\t\tInstant i = Instant.now();\n\t\tSystem.out.println("UTCå½åæ¶é´ï¼" + i);\n\t\tSystem.out.println("UTCå½åæ¶é´+1å°æ¶ï¼" + i.plusSeconds(3600));\n\t\tSystem.out.println("UTCå½åæ¶é´-1å°æ¶ï¼" + i.minusSeconds(3600));\t\t\n\t}\n}  \n\n// ------------- Calendar -----------\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\tDate d1 = new Date();\n\t\tDate d2 = new Date(System.currentTimeMillis() + 1000);\n\t\tSystem.out.println(d1);\n\t\tSystem.out.println(d2);\n\t\t\n\t\t//å¾å°å½åå¹´ æ æ¥ æ¶ å ç§\n\t\tCalendar cr = Calendar.getInstance();\n\t\tint year = cr.get(Calendar.YEAR);\n\t\tint month = cr.get(Calendar.MONTH)+ 1;\n\t\tint date = cr.get(Calendar.DATE);\n\t\tint hour = cr.get(Calendar.HOUR);\n\t\tint minute = cr.get(Calendar.MINUTE);\n\t\tint second = cr.get(Calendar.SECOND);\t\t\n\t\tSystem.out.println("å½åæ¶é´" + year + "å¹´" + month + "æ" + date + "æ¥\\t" + hour + ":" + minute + ":" + second );\n\t\n\t\t//è®¾ç½®æ¥æ+100å¤©\n\t\tCalendar cr2 = Calendar.getInstance();\n\t\tcr2.set(2019, 6, 6);\n\t\tcr2.add(Calendar.DATE, 100);\n\t\tint y = cr2.get(Calendar.YEAR);\n\t\tint m = cr2.get(Calendar.MONTH);\n\t\tint d = cr2.get(Calendar.DATE);\n\t\tSystem.out.println("è®¡åå®ææ¶é´æ¯ï¼" + y + "å¹´" + m + "æ" + d +"æ¥");\n\t\t\n\t\t//å®¹éæ¨¡å¼ä¸éå®¹éæ¨¡å¼\n\t\tCalendar ca = Calendar.getInstance();\n\t\tca.set(Calendar.MONTH, 13);\n\t\tSystem.out.println(ca.getTime());\n\t\t/*ca.setLenient(false);\n\t\tca.set(Calendar.MONTH, 13);\n\t\tSystem.out.println(ca.getTime());*/\n\t}\n}\n\n\n// --------------- arraycopy ----------------------------\npublic class T_arraycopy {\n\tpublic static void main(String[] args) {\n\t\tint []srcarry = {100,101,102,103,104,105,106,107,108};\n\t\tint []desarray = {1,2,3,4,5};\n\t\tSystem.arraycopy(srcarry, 3, desarray, 0, desarray.length);\n\t\tfor (int i = 0; i < desarray.length; i++) {\n\t\t\tSystem.out.println(i + ":" + desarray[i]);\n\t\t}\n\t}\n}\n// --------------- currentTimeMillis ----------------------------\npublic class T_currentTimeMillis {\n\tpublic static void main(String[] args) {\n\t\tlong s_time = System.nanoTime();\n\t\tlong starttime = System.currentTimeMillis();\n\t\tint s = 0;\n\t\tfor (int i = 0; i < 1000000; i++) {\n\t\t\ts=s+1;\n\t\t}\n\t\tlong endtime = System.currentTimeMillis();\n\t\tlong e_time = System.nanoTime();\n\n\t\tSystem.out.println("è¿è¡æ¶é´ï¼" + (endtime-starttime) + "ms");\n\t\tSystem.out.println("è¿è¡æ¶é´ï¼" + (e_time-s_time) + "æ¯«å¾®ç§");\n\t}\n}\n// --------------- getProperties ----------------------------\npublic class T_getproperties {\n\tpublic static void main(String[] args) {\n\t\tProperties properties = System.getProperties();\n\t\tSystem.out.println(properties);\n\t\t\n\t\tSet<String>propertyNames = properties.stringPropertyNames();\n\t\tfor (String key : propertyNames) {\n\t\t\tString value = System.getProperty(key);\n\t\t\tSystem.out.println(key + "---" + value);\n\t\t}\n\t}\n}\n\n\npublic class T_List {\n\tpublic static void main(String[] args) {\n\t\tArrayList<String> list = new ArrayList<String>();\n\t\tlist.add("Eve");\n\t\tlist.add("Mark");\n\t\tlist.add("Rose");\n\t\tlist.add("Rose");\n\t\tSystem.out.println(list);\n\n\t\tSystem.out.println("ç¬¬ä¸ä¸ªåç´ ï¼" + list.get(2));\n\t\tSystem.out.println("é¿åº¦ï¼" + list.size());\n\t\tSystem.out.println("å é¤ç¬¬åä¸ªåç´ " + list.remove(3));\n\n\t\t//foreachéå\n\t\tfor (String str : list) {\n\t\t\tSystem.out.print(str + " ");\n\t\t}\n\t\tSystem.out.println();\n\n\t\tLinkedList<String> ll = new LinkedList<String>();\n\t\tll.addAll(list);\t//ælistéåå å¥llä¸­\n\t\tll.add("John");\n\t\tll.addFirst("John");\n\n\t\t//iteratoréå\n\t\tIterator<String> it = ll.iterator();\n\t\tSystem.out.print("iteraroréå:");\n\t\twhile(it.hasNext()) {\n\t\t\tString str = (String)(it.next());\n\t\t\tSystem.out.print(str + " ");\n\t\t}\n\t\tSystem.out.println();\n\t\t\n\t\t//jdk8 forEachéåè¿­ä»£å¨å¯¹è±¡\n\t\tll.removeFirst();\n\t\tIterator<String> it1 = ll.iterator();\n\t\tit1.forEachRemaining(obj -> System.out.print("\\tè¿­ä»£éååç´ ï¼" + obj));\n\t\tSystem.out.println();\n\t\t\n\t\t//éåè¿­ä»£éå\n\t\tSystem.out.print("éåè¿­ä»£éåï¼");\n\t\tListIterator<String> li = ll.listIterator(ll.size());\n\t\twhile(li.hasPrevious()){\n\t\t\tString str = (String)li.previous();\n\t\t\tSystem.out.print(str + " ");\n\t\t}\n\t}\n}\n\n\npublic class T_Vector {\n\tpublic static void main(String[] args) {\n\t\tT_Vector t = new T_Vector();\n\t\tVector<String> v = new Vector<String>();\n\t\tv.add("10086");\n\t\tv.add("10087");\n\t\tv.add("10088");\n\t\tv.add("10089");\n\t\tt.printSet2(v);\n\t}\n\n\tpublic void printSet2(Vector<String> hs) {\n        Enumeration<String> elements = hs.elements();\n        while (elements.hasMoreElements()) {\n            System.out.println(elements.nextElement());\n        }\n    }\n}\n\n\n// -----------------------ç¬¬ä¸ç§ï¼å®ç°comparableæ¥å£ -------------------------\npublic class Student implements Comparable<Object>{\n\tprivate String name;\n\tprivate byte age;\n\tprivate String id;\n\tpublic Student(String name, byte age, String id) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.id = id;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "å§åï¼" + name + "å¹´é¾ï¼" + age + "å­¦å·ï¼" + id;\n\t}\n\t@Override\n\tpublic int compareTo(Object obj) {\n\t\t// TODO Auto-generated method stub\n\t\tStudent student = (Student)obj;\n\t\t/*if(this.age>student.age){\n\t\t\treturn 1;\n\t\t}else if(this.age==student.age){\n\t\t\treturn this.name.compareTo(student.name);\n\t\t}else{\n\t\t\treturn -1;\n\t\t}*/\n\t\tif(this.name.equals(student.name)){\n\t\t\treturn this.age-student.age;\n\t\t}else{\n\t\t\treturn this.name.compareTo(student.name);\n\t\t}\n\t}\n}\n\n// -----------------------ç¬¬äºç§ï¼Comparatorï¼èªå®ä¹æ¯è¾å¨ï¼ -------------------------\npublic class MyComparator implements Comparator<Object>{\n\t@Override\n\tpublic int compare(Object obj1, Object obj2) {\n\t\t// TODO Auto-generated method stub\n\t\tStudents students1 = (Students)obj1;\n\t\tStudents students2 = (Students)obj2;\n\t\t/*if(students1.age>students2.age){\n\t\t\treturn 1;\n\t\t}else if(students1.age==students2.age){\n\t\t\treturn students1.name.compareTo(students2.name);\n\t\t}else{\n\t\t\treturn -1;\n\t\t}*/\n\t\tif(students1.name.equals(students2.name)){\n\t\t\treturn students2.age-students1.age;\n\t\t}else{\n\t\t\treturn students1.name.compareTo(students2.name);\n\t\t}\n\t}\n}\n\npublic class Students {\n\tString name;\n\tbyte age;\n\tString id;\n\tpublic Students(String name, byte age, String id) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.id = id;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn "å§åï¼" + name + "å¹´é¾ï¼" + age + "å­¦å·ï¼" + id;\n\t}\n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\t// TODO Auto-generated method stub\n\t\tif(this == obj){\n\t\t\treturn true; \n\t\t}\n\t\tif(obj instanceof Students){\n\t\t\tif(this.id.equals(((Students) obj).id)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t@Override\n\tpublic int hashCode() {\n\t\t// TODO Auto-generated method stub\n\t\treturn id.hashCode();\n\t}\n}\n\n// --------------------- æµè¯ç±» -----------------------------\npublic class Test {\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tHashSet<Student> hs = new HashSet<Student>();\n\t\tStudent s1 = new Student("aaa", (byte) 20, "10086");\n\t\tStudent s2 = new Student("bbb", (byte) 23, "10087");\n\t\tStudent s3 = new Student("ccc", (byte) 21, "10088");\n\t\tStudent s4 = new Student("aaa", (byte) 19, "10089");\n\t\ths.add(s1);\n\t\ths.add(s2);\n\t\ths.add(s3);\n\t\ths.add(s4);\n\t\ths.forEach(str -> System.out.println(str));\n\t\t// System.out.println(hs);\n\t\tSystem.out.println();\n\n\t\tHashSet<Students> hst = new HashSet<Students>();\n\t\tStudents s5 = new Students("aaa", (byte) 20, "10086");\n\t\tStudents s6 = new Students("bbb", (byte) 23, "10087");\n\t\tStudents s7 = new Students("ccc", (byte) 21, "10088");\n\t\tStudents s8 = new Students("aaa", (byte) 19, "10089");\n\t\thst.add(s5);\n\t\thst.add(s6);\n\t\thst.add(s7);\n\t\thst.add(s8);\n\t\thst.forEach(str -> System.out.println(str));\n\n\t\tTreeSet<Student> ts2 = new TreeSet<Student>();\n\t\t// ä¸å®ç°comparatableæ¶ä¸å¯æåº è¿è¡æ¶éè¯¯\n\t\tts2.add(s1);\n\t\tts2.add(s2);\n\t\tts2.add(s3);\n\t\tts2.add(s4);\n\t\t//System.out.println(ts2);\n\t\tSystem.out.println("Comparableï¼æå§å-å¹´é¾æåº");\n\t\tIterator<Student> it2 = ts2.iterator();\n\t\tit2.forEachRemaining(stu->System.out.println(stu + ""));\n\n\t\tTreeSet<Students> ts = new TreeSet<Students>(new MyComparator());\n\t\tts.add(s5);\n\t\tts.add(s6);\n\t\tts.add(s7);\n\t\tts.add(s8);\n\t\t//System.out.println(ts);\n\t\tSystem.out.println("Comparatorï¼æå§å-å¹´é¾æåº");\n\t\tIterator<Students> it = ts.iterator();\n\t\tit.forEachRemaining(stu->System.out.println(stu + " "));\n\t}\n}\n\n\npublic class T_map {\n\tpublic static void main(String[] args) {\n\t\tMap<String, String> map = new HashMap<String, String>();\n\t\tmap.put("aaa", "987654321");\n\t\tmap.put("bbb", "87654321");\n\t\tmap.put("ccc", "7654321");\n\t\tmap.put("ddd", "654321");\n\t\tmap.put("bbb", "54321");\n\t\t// è¿­ä»£å¨éå\n\t\tSystem.out.println("è¿­ä»£å¨éåï¼");\n\t\tSet keySet = map.keySet();\n\t\tIterator it = keySet.iterator();\n\t\twhile (it.hasNext()) {\n\t\t\tObject key = it.next();\n\t\t\tObject value = map.get(key);\n\t\t\tSystem.out.print(key + "=" + value +"\\t");\n\t\t}\n\t\tSystem.out.println();\n\t\t// System.out.println(map);\n\n\t\tif (map.containsKey("aaa") && map.get("aaa").equals("987654321")) {\n\t\t\tSystem.out.println("ç¨æ·å­å¨ä¸å¯ç æ­£ç¡®");\n\t\t}else{\n\t\t\tSystem.out.println("ç¨æ·åæå¯ç ä¸æ­£ç¡®");\n\t\t}\n\n\t\tSystem.out.println(map.keySet());\n\t\tSystem.out.println(map.values());\n\n\t\tmap.replace("bbb", "876543210");\n\t\t//foreachéå\n\t\tSystem.out.println("foreachéåï¼");\n\t\tmap.forEach((k,v)->System.out.println(k + "=" +v));\n\n\t\tmap.remove("aaa");\n\t\tSystem.out.println("entrySetæ¹æ³ï¼");\n\t\tSet entrySet = map.entrySet();\n\t\tIterator it2 = keySet.iterator();\n\t\twhile (it2.hasNext()) {\n\t\t\tObject key = it2.next();\n\t\t\tObject value = map.get(key);\n\t\t\tSystem.out.print(key + "=" + value +"\\t");\n\t\t}\n\t\tSystem.out.println();\n\t\tCollection<String> values = map.values();\n\t\tvalues.forEach(value->System.out.print(value + "    "));\n\t\t\n\t\tSystem.out.println();\n\t\t//ææ¾çé¡ºåºè¾åº\n\t\tMap map2 = new LinkedHashMap();\n\t\t//map2.putAll(map);\n\t\tmap2.put("aaa", "987654321");\n\t\tmap2.put("bbb", "87654321");\n\t\tmap2.put("ccc", "7654321");\n\t\tmap2.put("ddd", "654321");\n\t\tmap2.put("bbb", "54321");\n\t\tmap2.forEach((k,v)->System.out.println(k + ":" +v));\n\t}\n}\n\n\npublic class T_Collections {\n\tpublic static void main(String[] args) {\n\t\tStudent stu[] = new Student[3];\n\t\tstu[0] = new Student("aaa",(byte)20,"10086");\n\t\tstu[1] = new Student("bbb",(byte)19,"10087");\n\t\tstu[2] = new Student("ccc",(byte)21,"70088");\n\t\tList<Student> lt = new LinkedList<Student>();\n\t\tlt.add(stu[0]);\n\t\tlt.add(stu[1]);\n\t\tlt.add(stu[2]);\n\t\tlt.forEach(i->System.out.println(i));\n\t\t\n\t\tSystem.out.println("æåºåï¼");\n\t\tCollections.sort(lt);\t\t\t\t\t\t\t//å®ç°æ¯è¾å¨ï¼èªç¶æåºæå®å¶æåºï¼\n\t\tlt.forEach(i->System.out.println(i));\n\t\t\n\t\tSystem.out.println("äºåæ¥æ¾ï¼");\n\t\tStudent s = new Student("ccc",(byte)21,"10087");\t\t//ä¸ºä»ä¹ååè½¬æä¸¤ä¸ªæ¥ä¸å°ï¼ï¼ï¼\n\t\tint index = Collections.binarySearch(lt,s,null);\n\t\tSystem.out.println(index);\n\t\t\n\t\tSystem.out.println("åè½¬åï¼");\n\t\tCollections.reverse(lt);\n\t\tlt.forEach(i->System.out.println(i));\n\t\t\n\t\t//System.out.println(lt);\n\t\t/*Iterator it = lt.iterator();\n\t\twhile(it.hasNext()){\n\t\t\tObject obj = it.next();\n\t\t\tSystem.out.println(obj);\n\t\t}*/\n\t}\n}\n\n\npublic class T_Arrays {\n\tpublic static void main(String[] args) {\n\t\tString arr[] = {"h","l","a","h","b"};\n\t\t//æåº\n\t\tSystem.out.println("æåºï¼");\n\t\tArrays.sort(arr);\n\t\tSystem.out.println(Arrays.toString(arr));\n\t\t\n\t\t//äºåæ¥æ¾\n\t\tSystem.out.println("äºåæ¥æ¾ï¼");\n\t\tint index = Arrays.binarySearch(arr, "l");\n\t\tSystem.out.println("lçä½ç½®ï¼" + index);\n\t\t\n\t\t//æå°\n\t\tSystem.out.println("æå°æ°ç»ï¼");\n\t\tSystem.out.println(arr);\n\t\tString str = Arrays.toString(arr);\n\t\tSystem.out.println(str);\n\t\t\n\t\t//æ ¹æ®æ°ç»åå»ºArrayList\n\t\tSystem.out.println("æ ¹æ®æ°ç»åå»ºArrayList:");\n\t\tArrayList al = new ArrayList(Arrays.asList(arr));\n\t\tSystem.out.println(al);\n\t\t\n\t\t//æ£æ¥æ°ç»æ¯å¦åå«æä¸ªå¼\n\t\tSystem.out.println("æ£æ¥æ°ç»æ¯å¦åå«æä¸ªå¼:");\n\t\tboolean b = al.contains("lh");\n\t\tSystem.out.println(b);\n\t}\n}\n\n\nclass CachePool2<T>{\n\t\tT temp;\n\t\tpublic T getTemp() {\n\t\t\treturn temp;\n\t\t}\n\t\tpublic void setTemp(T temp) {\n\t\t\tthis.temp = temp;\n\t\t}\n\t}\npublic class T_CachePool {\n\tpublic static void main(String[] args) {\n\t\tStudent stu = new Student("åå­",(byte)20,"10086");\n\t\tCachePool2 c = new CachePool2();\n\t\tc.setTemp(stu);\n\t\tSystem.out.println(c.getTemp());\n\t\tc.setTemp("This is an apple!");\n\t\tSystem.out.println(c.getTemp());\n\t}\n}\n\n\n# Java Stream\n\nä½ç¨\n\n 1. å¯¹æ°ç»ãCollection ç­éåç±»ä¸­çåç´ è¿è¡æä½\n\nç®åå®ä¾\n\n> éæ±ï¼ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n\n/**\n * ãå¸¸è§æ¹å¼ã\n * ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n *\n * @param sentence ç»å®çå¥å­ï¼çº¦å®éç©ºï¼ä¸åè¯ä¹é´ä»ç±ä¸ä¸ªç©ºæ ¼åé\n * @return ååºè¾åºç¬¦åæ¡ä»¶çåè¯åè¡¨\n */\npublic List<String> sortGetTop3LongWords(@NotNull String sentence) {\n    // ååå²å¥å­ï¼è·åå·ä½çåè¯ä¿¡æ¯\n    String[] words = sentence.split(" ");\n    List<String> wordList = new ArrayList<>();\n    // å¾ªç¯å¤æ­åè¯çé¿åº¦ï¼åè¿æ»¤åºç¬¦åé¿åº¦è¦æ±çåè¯\n    for (String word : words) {\n        if (word.length() > 5) {\n            wordList.add(word);\n        }\n    }\n    // å¯¹ç¬¦åæ¡ä»¶çåè¡¨æç§é¿åº¦è¿è¡æåº\n    wordList.sort((o1, o2) -> o2.length() - o1.length());\n    // å¤æ­listç»æé¿åº¦ï¼å¦æå¤§äº3åæªååä¸ä¸ªæ°æ®çå­listè¿å\n    if (wordList.size() > 3) {\n        wordList = wordList.subList(0, 3);\n    }\n    return wordList;\n}\n\n\n/**\n * ãStreamæ¹å¼ã\n * ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n *\n * @param sentence ç»å®çå¥å­ï¼çº¦å®éç©ºï¼ä¸åè¯ä¹é´ä»ç±ä¸ä¸ªç©ºæ ¼åé\n * @return ååºè¾åºç¬¦åæ¡ä»¶çåè¯åè¡¨\n */\npublic List<String> sortGetTop3LongWordsByStream(@NotNull String sentence) {\n    return Arrays.stream(sentence.split(" "))\n            .filter(word -> word.length() > 5)\n            .sorted((o1, o2) -> o2.length() - o1.length())\n            .limit(3)\n            .collect(Collectors.toList());\n}\n\n\nStream ä½¿ç¨ ä¸ Spark RDD ä½¿ç¨æäºè®¸ç±»ä¼¼ï¼\n\n 1. åå»º Stream\n\n> ä¸»è¦è´è´£æ°å»ºä¸ä¸ª Stream æµï¼æèåºäºç°æçæ°ç» ListãSetãMap ç­éåç±»åå¯¹è±¡åå»ºåºæ°çStreamæµã\n\nAPI                åè½è¯´æ\nstream()           åå»ºåºä¸ä¸ªæ°çstreamä¸²è¡æµå¯¹è±¡\nparallelStream()   åå»ºåºä¸ä¸ªå¯å¹¶è¡æ§è¡çstreamæµå¯¹è±¡\nStream.of()        éè¿ç»å®çä¸ç³»ååç´ åå»ºä¸ä¸ªæ°çStreamä¸²è¡æµå¯¹è±¡\n\n 2. è½¬æ¢ç®å­\n\n> è´è´£å¯¹ Stream è¿è¡å¤çæä½ï¼å¹¶è¿åä¸ä¸ªæ°ç Stream å¯¹è±¡ï¼ä¸­é´ç®¡éæä½å¯ä»¥è¿è¡å å ã\n> \n>  1. æ ç¶æï¼Statelessï¼æä½ï¼æåç´ çå¤çä¸åä¹ååç´ çå½±å\n>  2. æç¶æï¼Statefulï¼æä½ï¼æè¯¥æä½åªææ¿å°ææåç´ ä¹åæè½ç»§ç»­ä¸å»\n\nAPI           åè½è¯´æ\nfilter()      1æç§æ¡ä»¶è¿æ»¤ç¬¦åè¦æ±çåç´ ï¼ è¿åæ°çstreamæµ\nmap()         1å°å·²æåç´ è½¬æ¢ä¸ºå¦ä¸ä¸ªå¯¹è±¡ç±»åï¼ä¸å¯¹ä¸é»è¾ï¼è¿åæ°çstreamæµ\nflatMap()     å°å·²æåç´ è½¬æ¢ä¸ºå¦ä¸ä¸ªå¯¹è±¡ç±»åï¼ä¸å¯¹å¤é»è¾ï¼å³åæ¥ä¸ä¸ªåç´ å¯¹è±¡å¯è½ä¼è½¬æ¢ä¸º1ä¸ªæèå¤ä¸ªæ°ç±»åçåç´ ï¼è¿åæ°çstreamæµ\nlimit()       2ä»ä¿çéååé¢æå®ä¸ªæ°çåç´ ï¼è¿åæ°çstreamæµ\nskip()        2è·³è¿éååé¢æå®ä¸ªæ°çåç´ ï¼è¿åæ°çstreamæµ\nconcat()      å°ä¸¤ä¸ªæµçæ°æ®åå¹¶èµ·æ¥ä¸º1ä¸ªæ°çæµï¼è¿åæ°çstreamæµ\ndistinct()    2å¯¹Streamä¸­ææåç´ è¿è¡å»éï¼è¿åæ°çstreamæµ\nsorted()      2å¯¹streamä¸­ææçåç´ æç§æå®è§åè¿è¡æåºï¼è¿åæ°çstreamæµ\npeek()        1å¯¹streamæµä¸­çæ¯ä¸ªåç´ è¿è¡éä¸ªéåå¤çï¼è¿åå¤çåçstreamæµ\nunordered()   1æç¡®å°å¯¹æµè¿è¡å»é¤æåºçº¦æå¯ä»¥æ¹åæäºæç¶ææç»ç«¯æä½çå¹¶è¡æ§è½ã\n\n 3. ç»æ­¢Stream\n\n> éè¿ç»æ­¢ç®¡éæä½ä¹åï¼Stream æµå°ä¼ç»æï¼æåå¯è½ä¼æ§è¡æäºé»è¾å¤çï¼æèæ¯æç§è¦æ±è¿åæäºæ§è¡åçç»ææ°æ®ã\n> \n>  1. ç­è·¯ï¼Short-circuitingï¼æä½ï¼æéå°æäºç¬¦åæ¡ä»¶çåç´ å°±å¯ä»¥å¾å°æç»ç»æ\n>  2. éç­è·¯ï¼Unshort-circuitingï¼æä½ï¼æå¿é¡»å¤çå®ææåç´ æè½å¾å°æç»ç»æ\n\nAPI                åè½è¯´æ\ncount()            2è¿åstreamå¤çåæç»çåç´ ä¸ªæ°\nmax()              2è¿åstreamå¤çåçåç´ æå¤§å¼\nmin()              2è¿åstreamå¤çåçåç´ æå°å¼\nfindFirst()        1æ¾å°ç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çåç´ æ¶åç»æ­¢æµå¤ç\nfindAny()          1æ¾å°ä»»ä½ä¸ä¸ªç¬¦åæ¡ä»¶çåç´ æ¶åéåºæµå¤çï¼è¿ä¸ªå¯¹äºä¸²è¡æµæ¶ä¸findFirstç¸åï¼å¯¹äºå¹¶è¡æµæ¶æ¯è¾é«æï¼ä»»ä½åçä¸­æ¾å°é½ä¼ç»æ­¢åç»­è®¡ç®é»è¾\nanyMatch()         1è¿åä¸ä¸ªbooleanå¼ï¼ç±»ä¼¼äºisContains(),ç¨äºå¤æ­æ¯å¦æç¬¦åæ¡ä»¶çåç´ \nallMatch()         1è¿åä¸ä¸ªbooleanå¼ï¼ç¨äºå¤æ­æ¯å¦ææåç´ é½ç¬¦åæ¡ä»¶\nnoneMatch()        1è¿åä¸ä¸ªbooleanå¼ï¼ ç¨äºå¤æ­æ¯å¦ææåç´ é½ä¸ç¬¦åæ¡ä»¶\ncollect()          2å°æµè½¬æ¢ä¸ºæå®çç±»åï¼éè¿Collectorsè¿è¡æå®\nreduce()           2åå¹¶æµçåç´ å¹¶äº§çåä¸ªå¼ã\ntoArray()          2å°æµè½¬æ¢ä¸ºæ°ç»\niterator()         å°æµè½¬æ¢ä¸ºIteratorå¯¹è±¡\nforEach()          2æ è¿åå¼ï¼å¯¹åç´ è¿è¡éä¸ªéåï¼ç¶åæ§è¡ç»å®çå¤çé»è¾\nforEachOrdered()   2å¯¹è¯¥æµçæ¯ä¸ªåç´ æ§è¡æä½ï¼å¹¶ææµçéå°é¡ºåºè¿è¡ã\n\n# æä»¶æä½\n\n\npublic class Test1 {\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tFileInputStream fis=null;\n\t\tFileOutputStream fos=null;\n\t\ttry{\n\t\t\tfis = new FileInputStream("file/Hello.txt");\n\t\t\tfos = new FileOutputStream("file/Helloå¯æ¬.txt",true);\n\t\t\t\n\t\t\tlong start = System.currentTimeMillis();\n\t\t\tint b;\n\t\t\twhile((b=fis.read())!=-1){\n\t\t\t\tfos.write(b);\n\t\t\t}\n\t\t\tlong end = System.currentTimeMillis();\n\t\t\tSystem.out.println(end-start + " ms");\n\n\t\t}catch(IOException e){\n\t\t\tSystem.out.println("æ·è´åºé");\n\t\t}finally{\n\t\t\ttry{\n\t\t\t\tif(fos!=null){\n\t\t\t\t\tfos.close();\n\t\t\t\t\tSystem.out.println("å³é­è¾åºæµå¯¹è±¡æå");\n\t\t\t\t}\n\t\t\t}catch(Exception e){\n\t\t\t\tSystem.out.println("å³é­è¾åºæµå¯¹è±¡å¤±è´¥");\n\t\t\t}finally{\n\t\t\t\ttry{\n\t\t\t\t\tif(fis!=null){\n\t\t\t\t\t\tfis.close();\n\t\t\t\t\t\tSystem.out.println("å³é­è¾å¥æµå¯¹è±¡æå");\n\t\t\t\t\t}\n\t\t\t\t}catch(Exception e){\n\t\t\t\t\tSystem.out.println("å³é­è¾å¥æµå¯¹è±¡å¤±è´¥");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\npublic class Test2 {\n\tpublic static void main(String[] args) throws IOException {\n\t\t// TODO Auto-generated method stub\n\t\tFileInputStream fis = new FileInputStream("file/è§é¢.mp4");\n\t\tFileOutputStream fos = new FileOutputStream("file/è§é¢å¯æ¬.MP4");\n\t\t\n\t\tbyte buff[] = new byte[8192];\n\t\tlong start = System.currentTimeMillis();\n\t\tint len;\n\t\twhile((len=fis.read(buff))!=-1){\n\t\t\tfos.write(buff,0,len);\n\t\t}\n\t\tlong end = System.currentTimeMillis();\n\t\tSystem.out.println(end-start + " ms");\n\t\t\n\t\tfos.close();\n\t\tfis.close();\n\t}\n}\n\n\npublic class Test3 {\n\tpublic static void main(String[] args) throws Exception {\n\t\t// TODO Auto-generated method stub\n\t\tBufferedInputStream bis = new BufferedInputStream(new FileInputStream("file/ç«.jpg"));\n\t\tBufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("file/ç«å¯æ¬.jpg"));\n\t\tlong start = System.currentTimeMillis();\n\t\tint len;\n\t\twhile((len=bis.read())!=-1){\n\t\t\tbos.write(len);\n\t\t}\n\t\tlong end = System.currentTimeMillis();\n\t\tSystem.out.println(end-start + " ms");\n\t\tbos.close();\n\t\tbis.close();\n\t}\n}\n\n\npublic class Test4 {\n\tpublic static void main(String[] args) throws IOException {\n\t\t// TODO Auto-generated method stub\n\t\tFileReader fr = new FileReader("file/ææ¡£.txt");\n\t\tFileWriter fw = new FileWriter("file/ææ¡£å¯æ¬.txt");\n\t\tlong start = System.currentTimeMillis();\n\t\tint len;\n\t\twhile((len=fr.read())!=-1){\n\t\t\tfw.write(len);\n\t\t}\n\t\tfw.write("\\r\\n");\n\t\tfw.write("ç²çéª°å­");\n\t\tfw.write("å®çº¢è±ï¼\\r\\n");\n\t\tfw.write("å¥éª¨ç¸æ");\n\t\tfw.write("åç¥å¦");\n\t\tlong end = System.currentTimeMillis();\n\t\tSystem.out.println(end-start + "ms");\n\t\tfw.close();\n\t\tfr.close();\n\t}\n}\n\n\npublic class Test5 {\n\tpublic static void main(String[] args) throws IOException {\n\t\t// TODO Auto-generated method stub\n\t\tBufferedReader br = new BufferedReader(new FileReader("file/ææ¡£.txt"));\n\n\t\tBufferedWriter bw = new BufferedWriter(new FileWriter("file/ææ¡£å¯æ¬1.txt"));\n\t\tlong start = System.currentTimeMillis();\n\t\tString str = null;\n\t\twhile ((str = br.readLine()) != null) {\n\t\t\tbw.write(str);\n\t\t\tbw.newLine();\n\t\t}\n\t\tlong end = System.currentTimeMillis();\n\t\tSystem.out.println(end - start + " ms");\n\t\tbw.close();\n\t\tbr.close();\n\t}\n}\n\n\npublic class Test6 {\n\tpublic static void main(String[] args) throws IOException {\t\t\t//è½¬æ¢æµ\n\t\tFileInputStream fis = new FileInputStream("file/reader.txt");\n\t\tInputStreamReader isr = new InputStreamReader(fis);\n\t\tBufferedReader br = new BufferedReader(isr);\n\t\t\n\t\tFileOutputStream fos = new FileOutputStream("file/writer.txt");\n\t\tOutputStreamWriter osr = new OutputStreamWriter(fos);\n\t\tBufferedWriter bw = new BufferedWriter(osr);\n\n\t\tString line=null;\n\t\twhile((line=br.readLine())!=null){\n\t\t\tbw.write(line);\n\t\t\tbw.newLine();\t\t\t\t\t\t//æ¢è¡\n\t\t\tbw.flush();\t\t\t\t\t\t\t//å·æ°ç¼å²\n\t\t\tif(line.equals("end")){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tbw.close();\n\t\tbw.close();\n\t}\n}\n\n\npublic class Test7 {\n\tpublic static void main(String[] args) {\n\n\t\tStudent stu=new Student("å­¦ç");\n\t\tDecorator dec = new Decorator(stu);\n\t\tSystem.out.println(dec);\n\t\tdec.study();\n\t}\n}\nclass Student{\n\tprivate String name;\n\tpublic Student(){\n\t\t\n\t}\n\tpublic Student(String name) {\n\t\tsuper();\n\t\tthis.name = name;\n\t}\n\tpublic String getName(){\n\t\treturn name;\n\t}\n\tpublic void study(){\n\t\tSystem.out.println("åé¢");\n\t}\n}\nclass Decorator{\n\tStudent s = new Student();\n\tpublic Decorator(Student s) {\n\t\tsuper();\n\t\tthis.s = s;\n\t}\n\tpublic void study(){\n\t\ts.study();\n\t\tSystem.out.println("çä¹¦");\n\t}\n\t@Override\n\tpublic String toString() {\n\t\treturn "å§åï¼" + s.getName();\n\t}\n}\n\n\nclass Hero implements Serializable{\n\tprivate static final long serialVersionUID = 1L;\n\tprivate String name;\n\tprivate int hp;\n\tpublic Hero(String name, int hp) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.hp = hp;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic int getHp() {\n\t\treturn hp;\n\t}\n\tpublic void setHp(int hp) {\n\t\tthis.hp = hp;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\t// TODO Auto-generated method stub\n\t\treturn name + "  " + hp;\n\t}\n}\n\npublic class Test8 {\n\tpublic static void main(String[] args) throws IOException, ClassNotFoundException {\n\n\t\tFileOutputStream fos = new FileOutputStream("file/hero.txt",true);\n\t\tObjectOutputStream oos = new ObjectOutputStream(fos);\n\t\t\n\t\tFileInputStream fis = new FileInputStream("file/hero.txt");\n\t\tObjectInputStream ois = new ObjectInputStream(fis);\n\t\t\n\t\tHero hero = new Hero("å¾·é²ä¼",1000);\n\t\tSystem.out.println(hero);\n\t\toos.writeObject(hero);\n\n\t\tfor (int i = 0; i < 5; i++) {\n\t\t\thero.setHp(hero.getHp()-(int)Math.floor(Math.random()*200));\n\t\t}\n\t\tSystem.out.println(hero);\n\t\t\n\t\thero = (Hero)(ois.readObject());\n\t\tSystem.out.println(hero);\n\t\t\n\t\tois.close();\n\t\tfis.close();\n\t\toos.close();\n\t\tfos.close();\n\t}\n}\n\n\n// æ°æ®è¾åºæµåè®¸åºç¨ç¨åºä»¥ä¸æºå¨æ å³æ¹å¼å°Javaåºæ¬æ°æ®ç±»ååå°åºå±è¾åºæµ\npublic class Test_Data_Stream {\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tFileOutputStream fos = new FileOutputStream("file/ææ¬.txt");\n\t\tDataOutputStream dos = new DataOutputStream(new BufferedOutputStream(fos));\n\n\t\tdos.writeByte(01);\n\t\tdos.writeDouble(99.999999);\n\t\tdos.writeInt(516546);\n\t\tdos.writeBoolean(false);\n\t\tdos.writeUTF("é¾é¾");\n\n\t\tdos.close();\n\t\tfos.close();\n\n\t\tFileInputStream fis = new FileInputStream("file/ææ¬.txt");\n\t\tDataInputStream dis = new DataInputStream(new BufferedInputStream(fis));\n\n\t\tSystem.out.println(dis.readByte());\n\t\tSystem.out.println(dis.readDouble());\n\t\tSystem.out.println(dis.readInt());\n\t\tSystem.out.println(dis.readBoolean());\n\t\tSystem.out.println(dis.readUTF());\n\n\t\tdis.close();\n\t\tfis.close();\n\t}\n}\n\n\n// åå¹¶æµï¼å®ä»è¾å¥æµçæåºéåå¼å§ï¼å¹¶ä»ç¬¬ä¸ä¸ªè¾å¥æµå¼å§è¯»åï¼ç´å°å°è¾¾æä»¶æ«å°¾ï¼æ¥çä»ç¬¬äºä¸ªè¾å¥æµè¯»åï¼ä¾æ¬¡ç±»æ¨ï¼ç´å°å°è¾¾åå«çæåä¸ä¸ªè¾å¥æµçæä»¶æ«å°¾ä¸ºæ­¢\npublic class Test_Sequence {\n\tpublic static void main(String[] args) throws Exception {\n\t\t// åå»ºäºä¸¤ä¸ªæµå¯¹è±¡in1ãin2\n\t\tFileInputStream in1 = new FileInputStream("file/stream1.txt");\n\t\tFileInputStream in2 = new FileInputStream("file/stream2.txt");\n\t\t// åå»ºä¸ä¸ªåºåæµï¼åå¹¶ä¸¤ä¸ªå­èæµin1åin2\n\t\tSequenceInputStream sis = new SequenceInputStream(in1, in2);\n\t\tFileOutputStream out = new FileOutputStream("file/stream.txt");\n\t\tint len;\n\t\t// åå»ºä¸ä¸ª1024ä¸ªå­èæ°ç»ä½ä¸ºç¼å²åº\n\t\tbyte[] buf = new byte[1024];\n\t\t// åæ¶ä¸ä¸ªæµï¼\n\t\twhile ((len = sis.read(buf)) != -1) {\n\t\t\tout.write(buf, 0, len); // å°ç¼å²åºä¸­çæ°æ®è¾åº\n\t\t\tout.write("\\r\\n".getBytes());\n\t\t}\n\t\tsis.close();\n\t\tout.close();\n\t}\n}\n\n\n//System.inæ¯InputStream, æ åè¾å¥æµ, é»è®¤å¯ä»¥ä»é®çè¾å¥è¯»åå­èæ°æ®\n//System.outæ¯PrintStream, æ åè¾åºæµ, é»è®¤å¯ä»¥åConsoleä¸­è¾åºå­ç¬¦åå­èæ°æ®\npublic class Test_Print1 {\n\tpublic static void main(String[] args) throws IOException{\n\n\t\t// inputStream();\n\t\tSystem.setIn(new FileInputStream("file/in.txt")); // æ¹åæ åè¾å¥æµ\n\t\tSystem.setOut(new PrintStream("file/out.txt")); // æ¹åæ åè¾åºæµ\n\t\tInputStream is = System.in; // è·åæ åçé®çè¾å¥æµï¼é»è®¤æåé®çï¼æ¹ååæåæä»¶\n\t\tPrintStream ps = System.out; // è·åæ åçè¾åºæµï¼é»è®¤æåçæ¯æ§å¶å°ï¼æ¹ååå°±æåæä»¶\n\n\t\tint b;\n\t\twhile ((b = is.read()) != -1) {\n\t\t\tps.write(b);\n\t\t}\n\t\tis.close();\n\t\tps.close();\n\t}\n}\n\n// ----------------------------------------------------------------------\n\npublic class Test_Print2 {\n\tpublic static void main(String[] args) throws Exception {\n\t\tSystem.setIn(new FileInputStream("file/in.txt"));\t\t//æ¹ååæåæä»¶\n\t\tInputStream is2=System.in;\n\t\tPrintStream ps2 = System.out;\n\t\tint b2;\n\t\twhile ((b2 = is2.read()) != -1) {\n\t\t\tps2.write(b2);\n\t\t}\n\t\tps2.close();\n\t\tis2.close();\n\t\t\n\t\t/*System.setOut(new PrintStream("file/out.txt"));\n\t\tInputStream is3=System.in;\n\t\tPrintStream ps3 = System.out;\n\t\tint b3;\n\t\twhile ((b3 = is3.read()) != -1) {\n\t\t\tps3.write(b3);\n\t\t}\n\t\tps3.close();\n\t\tis3.close();*/\n\t}\n}\n\n\npublic static void main(String[] args) {\n    try {\n        FileInputStream fis = new FileInputStream("D://java.txt");\n        InputStreamReader isr = new InputStreamReader(fis, "UTF-8");\n        int b = 0;\n        while ((b = isr.read()) != -1) {\n            System.out.print((char) b);    // è¾åºç»æä¸ºâCè¯­è¨ä¸­æç½â\n        }\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\n\nimport java.io.*;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n/**\n * æä»¶å·¥å·ç±»\n */\npublic class FileUtil {\n    /**\n     * è¯»åæä»¶åå®¹\n     *\n     * @param is\n     * @return\n     */\n    public static String readFile(InputStream is) {\n        BufferedReader br = null;\n        StringBuffer sb = new StringBuffer();\n        try {\n            br = new BufferedReader(new InputStreamReader(is, "UTF-8"));\n            String readLine = null;\n            while ((readLine = br.readLine()) != null) {\n                sb.append(readLine+"\\r\\n");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                br.close();\n                is.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return sb.toString();\n    }\n    /**\n     * @description åæä»¶\n     * @param args\n     * @throws UnsupportedEncodingException\n     * @throws IOException\n     */\n    public static boolean writeTxtFile(String content, File fileName, String encoding) {\n        FileOutputStream o = null;\n        boolean result=false;\n        try {\n            o = new FileOutputStream(fileName);\n            o.write(content.getBytes(encoding));\n            result=true;\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (o != null) {\n                try {\n                    o.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        return result;\n    }\n    public static String readFile(String path){\n        File file07 = new File(path);\n        InputStream is=null;\n        try {\n            is = new FileInputStream(file07);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return readFile(is);\n    }\n    \n    /**\n     * å¤æ­æå®çæä»¶æ¯å¦å­å¨ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static boolean isFileExist(String fileName) {\n        return new File(fileName).isFile();\n    }\n\n    /**\n     * åå»ºæå®çç®å½ã å¦ææå®çç®å½çç¶ç®å½ä¸å­å¨ååå»ºå¶ç®å½ä¹¦ä¸ææéè¦çç¶ç®å½ã\n     * æ³¨æï¼å¯è½ä¼å¨è¿åfalseçæ¶ååå»ºé¨åç¶ç®å½ã\n     *\n     * @param file\n     * @return\n     */\n    public static boolean makeDirectory(File file) {\n        File parent = file.getParentFile();\n        if (parent != null) {\n            return parent.mkdirs();\n        }\n        return false;\n    }\n\n    /**\n     * è¿åæä»¶çURLå°åã\n     *\n     * @param file\n     * @return\n     * @throws MalformedURLException\n     */\n    public static URL getURL(File file) throws MalformedURLException {\n        String fileURL = "file:/" + file.getAbsolutePath();\n        URL url = new URL(fileURL);\n        return url;\n    }\n\n    /**\n     * ä»æä»¶è·¯å¾å¾å°æä»¶åã\n     *\n     * @param filePath\n     * @return\n     */\n    public static String getFileName(String filePath) {\n        File file = new File(filePath);\n        return file.getName();\n    }\n\n    /**\n     * ä»æä»¶åå¾å°æä»¶ç»å¯¹è·¯å¾ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static String getFilePath(String fileName) {\n        File file = new File(fileName);\n        return file.getAbsolutePath();\n    }\n\n    /**\n     * å°DOS/Windowsæ ¼å¼çè·¯å¾è½¬æ¢ä¸ºUNIX/Linuxæ ¼å¼çè·¯å¾ã\n     *\n     * @param filePath\n     * @return\n     */\n    public static String toUNIXpath(String filePath) {\n        return filePath.replace("", "/");\n    }\n\n    /**\n     * ä»æä»¶åå¾å°UNIXé£æ ¼çæä»¶ç»å¯¹è·¯å¾ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static String getUNIXfilePath(String fileName) {\n        File file = new File(fileName);\n        return toUNIXpath(file.getAbsolutePath());\n    }\n\n    /**\n     * å¾å°æä»¶åç¼å\n     *\n     * @param fileName\n     * @return\n     */\n    public static String getFileExt(String fileName) {\n        int point = fileName.lastIndexOf(\'.\');\n        int length = fileName.length();\n        if (point == -1 || point == length - 1) {\n            return "";\n        } else {\n            return fileName.substring(point + 1, length);\n        }\n    }\n\n    /**\n     * å¾å°æä»¶çåå­é¨åã å®éä¸å°±æ¯è·¯å¾ä¸­çæåä¸ä¸ªè·¯å¾åéç¬¦åçé¨åã\n     *\n     * @param fileName\n     * @return\n     */\n    public static String getNamePart(String fileName) {\n        int point = getPathLastIndex(fileName);\n        int length = fileName.length();\n        if (point == -1) {\n            return fileName;\n        } else if (point == length - 1) {\n            int secondPoint = getPathLastIndex(fileName, point - 1);\n            if (secondPoint == -1) {\n                if (length == 1) {\n                    return fileName;\n                } else {\n                    return fileName.substring(0, point);\n                }\n            } else {\n                return fileName.substring(secondPoint + 1, point);\n            }\n        } else {\n            return fileName.substring(point + 1);\n        }\n    }\n\n    /**\n     * å¾å°æä»¶åä¸­çç¶è·¯å¾é¨åã å¯¹ä¸¤ç§è·¯å¾åéç¬¦é½ææã ä¸å­å¨æ¶è¿å""ã\n     * å¦ææä»¶åæ¯ä»¥è·¯å¾åéç¬¦ç»å°¾çåä¸èèè¯¥åéç¬¦ï¼ä¾å¦"/path/"è¿å""ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static String getPathPart(String fileName) {\n        int point = getPathLastIndex(fileName);\n        int length = fileName.length();\n        if (point == -1) {\n            return "";\n        } else if (point == length - 1) {\n            int secondPoint = getPathLastIndex(fileName, point - 1);\n            if (secondPoint == -1) {\n                return "";\n            } else {\n                return fileName.substring(0, secondPoint);\n            }\n        } else {\n            return fileName.substring(0, point);\n        }\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æååºç°çä½ç½®ã å¯¹äºDOSæèUNIXé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static int getPathLastIndex(String fileName) {\n        int point = fileName.lastIndexOf("/");\n        if (point == -1) {\n            point = fileName.lastIndexOf("");\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æå®ä½ç½®åæååºç°çä½ç½®ã å¯¹äºDOSæèUNIXé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param fileName\n     * @param fromIndex\n     * @return\n     */\n    public static int getPathLastIndex(String fileName, int fromIndex) {\n        int point = fileName.lastIndexOf("/", fromIndex);\n        if (point == -1) {\n            point = fileName.lastIndexOf("", fromIndex);\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­é¦æ¬¡åºç°çä½ç½®ã å¯¹äºDOSæèUNIXé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param fileName\n     * @return\n     */\n    public static int getPathIndex(String fileName) {\n        int point = fileName.indexOf("/");\n        if (point == -1) {\n            point = fileName.indexOf("");\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æå®ä½ç½®åé¦æ¬¡åºç°çä½ç½®ã å¯¹äºDOSæèUNIXé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param fileName\n     * @param fromIndex\n     * @return\n     */\n    public static int getPathIndex(String fileName, int fromIndex) {\n        int point = fileName.indexOf("/", fromIndex);\n        if (point == -1) {\n            point = fileName.indexOf("", fromIndex);\n        }\n        return point;\n    }\n\n    /**\n     * å°æä»¶åä¸­çç±»åé¨åå»æã\n     *\n     * @param filename\n     * @return\n     */\n    public static String removeFileExt(String filename) {\n        int index = filename.lastIndexOf(".");\n        if (index != -1) {\n            return filename.substring(0, index);\n        } else {\n            return filename;\n        }\n    }\n\n    /**\n     * å¾å°ç¸å¯¹è·¯å¾ã æä»¶åä¸æ¯ç®å½åçå­èç¹æ¶è¿åæä»¶åã\n     *\n     * @param pathName\n     * @param fileName\n     * @return\n     */\n    public static String getSubpath(String pathName, String fileName) {\n        int index = fileName.indexOf(pathName);\n        if (index != -1) {\n            return fileName.substring(index + pathName.length() + 1);\n        } else {\n            return fileName;\n        }\n    }\n\n    /**\n     * å é¤ä¸ä¸ªæä»¶ã\n     *\n     * @param filename\n     * @throws IOException\n     */\n    public static void deleteFile(String filename) throws IOException {\n        File file = new File(filename);\n        if (file.isDirectory()) {\n            throw new IOException("IOException -> BadInputException: not a file.");\n        }\n        if (!file.exists()) {\n            throw new IOException("IOException -> BadInputException: file is not exist.");\n        }\n        if (!file.delete()) {\n            throw new IOException("Cannot delete file. filename = " + filename);\n        }\n    }\n\n    /**\n     * å é¤æä»¶å¤¹åå¶ä¸é¢çå­æä»¶å¤¹\n     *\n     * @param dir\n     * @throws IOException\n     */\n    public static void deleteDir(File dir) throws IOException {\n        if (dir.isFile())\n            throw new IOException("IOException -> BadInputException: not a directory.");\n        File[] files = dir.listFiles();\n        if (files != null) {\n            for (int i = 0; i < files.length; i++) {\n                File file = files[i];\n                if (file.isFile()) {\n                    file.delete();\n                } else {\n                    deleteDir(file);\n                }\n            }\n        }\n        dir.delete();\n    }\n\n    /**\n     * å¤å¶æä»¶\n     *\n     * @param src\n     * @param dst\n     * @throws Exception\n     */\n    public static void copy(File src, File dst) throws Exception {\n        int BUFFER_SIZE = 4096;\n        InputStream in = null;\n        OutputStream out = null;\n        try {\n            in = new BufferedInputStream(new FileInputStream(src), BUFFER_SIZE);\n            out = new BufferedOutputStream(new FileOutputStream(dst), BUFFER_SIZE);\n            byte[] buffer = new byte[BUFFER_SIZE];\n            int len = 0;\n            while ((len = in.read(buffer)) > 0) {\n                out.write(buffer, 0, len);\n            }\n        } catch (Exception e) {\n            throw e;\n        } finally {\n            if (null != in) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                in = null;\n            }\n            if (null != out) {\n                try {\n                    out.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                out = null;\n            }\n        }\n    }\n\n    /**\n     * @å¤å¶æä»¶ï¼æ¯æææºæä»¶åå®¹è¿½å å°ç®æ æä»¶æ«å°¾\n     * @param src\n     * @param dst\n     * @param append\n     * @throws Exception\n     */\n    public static void copy(File src, File dst, boolean append) throws Exception {\n        int BUFFER_SIZE = 4096;\n        InputStream in = null;\n        OutputStream out = null;\n        try {\n            in = new BufferedInputStream(new FileInputStream(src), BUFFER_SIZE);\n            out = new BufferedOutputStream(new FileOutputStream(dst, append), BUFFER_SIZE);\n            byte[] buffer = new byte[BUFFER_SIZE];\n            int len = 0;\n            while ((len = in.read(buffer)) > 0) {\n                out.write(buffer, 0, len);\n            }\n        } catch (Exception e) {\n            throw e;\n        } finally {\n            if (null != in) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                in = null;\n            }\n            if (null != out) {\n                try {\n                    out.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                out = null;\n            }\n        }\n    }\n}\n\n\n# javax.swingï¼ç¥ï¼å·²ç»å¾å°ä½¿ç¨ï¼\n\n# ç½ç»ç¼ç¨ï¼ç¥ï¼java.netåï¼\n\n\n# æ³¨è§£\n\n# å®ä¹\n\n> Javaæ³¨è§£æ¯éå å¨ä»£ç ä¸­çä¸äºåä¿¡æ¯ï¼ç¨äºä¸äºå·¥å·å¨ç¼è¯ãè¿è¡æ¶è¿è¡è§£æåä½¿ç¨ï¼èµ·å°è¯´æãéç½®çåè½ã\n> æ³¨è§£ç¸å³ç±»é½åå«å¨java.lang.annotationåä¸­ã\n\n# JDKåºæ¬æ³¨è§£\n\n 1. @Override éå\n 2. @Deprecated å·²è¿æ¶\n 3. @SuppressWarnings(value = "unchecked") åå¶ç¼è¾å¨è­¦å\n\n# JDKåæ³¨è§£\n\n> åæ³¨è§£ç¨äºä¿®é¥°å¶ä»çæ³¨è§£\n\n/* å®ä¹æ³¨è§£çä¿çç­ç¥ */\n@Retention(RetentionPolicy.SOURCE)             // æ³¨è§£ä»å­å¨äºæºç ä¸­ï¼å¨classå­èç æä»¶ä¸­ä¸åå«\n@Retention(RetentionPolicy.CLASS)              // é»è®¤çä¿çç­ç¥ï¼æ³¨è§£ä¼å¨classå­èç æä»¶ä¸­å­å¨ï¼ä½è¿è¡æ¶æ æ³è·å¾ï¼\n@Retention(RetentionPolicy.RUNTIME)            // æ³¨è§£ä¼å¨classå­èç æä»¶ä¸­å­å¨ï¼å¨è¿è¡æ¶å¯ä»¥éè¿åå°è·åå°\n\n\n/* æå®è¢«ä¿®é¥°çAnnotationå¯ä»¥æ¾ç½®çä½ç½®(è¢«ä¿®é¥°çç®æ ) */\n@Target(ElementType.TYPE)                      // ç±»ãæ¥å£ï¼åæ¬æ³¨è§£ç±»åï¼æ enum å£°æ\n@Target(ElementType.FIELD)                     // ç¨äºæååéï¼åæ¬æä¸¾å¸¸éï¼\n@Target(ElementType.METHOD)                    // æ¹æ³\n@Target(ElementType.PARAMETER)                 // æ¹æ³åæ°\n@Target(ElementType.CONSTRUCTOR)               // æé å½æ°\n@Target(ElementType.LOCAL_VARIABLE)            // å±é¨åé\n@Target(ElementType.ANNOTATION_TYPE)           // æ³¨è§£\n@Target(ElementType.PACKAGE)                   // å \n\n\n// æå®è¢«ä¿®é¥°çAnnotationå°å·æç»§æ¿æ§\n\n\n// æå®è¢«ä¿®é¥°çè¯¥Annotationå¯ä»¥è¢«javadocå·¥å·æåæææ¡£\n\n\n# èªå®ä¹æ³¨è§£\n\n 1. æ è®°æ³¨è§£ï¼æ²¡æå®ä¹æååéçæ³¨è§£ç±»åè¢«ç§°ä¸ºæ è®°æ³¨è§£ãè¿ç§æ³¨è§£ä»å©ç¨èªèº«çå­å¨ä¸å¦æ¥æä¾ä¿¡æ¯ï¼å¦ @Overrideã\n    \n    // å®ä¹ä¸ä¸ªç®åçæ³¨è§£ç±»å\n    public @interface Test {\n    \n    }\n    \n\n 2. åæ°æ®æ³¨è§£ï¼åå«æååéçæ³¨è§£ï¼å ä¸ºå®ä»¬å¯ä»¥æ¥åæ´å¤çåæ°æ®ï¼æä»¥ä¹è¢«ç§°ä¸ºåæ°æ®æ³¨è§£ã\n    \n    public @interface MyTag {\n        // å®ä¹äºä¸¤ä¸ªæååéçæ³¨è§£\n        // ä½¿ç¨defaultä¸ºä¸¤ä¸ªæååéæå®åå§å¼\n        String name() default "Cè¯­è¨ä¸­æç½";\n        int age() default 7;\n    }\n    \n\n# éè¿åå°è·åæ³¨è§£ä¿¡æ¯\n\n@XmlRootElement(name="user")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class User {\n \n  private String pwd;\n \n  @XmlElement(name = "ID")\n  private int id;\n  \n  @XmlAttribute\n  @XmlElement\n  private String name;\n  \n  /***\n   *  1ãè·åå±æ§ä¸çæå®ç±»åçæ³¨é\n   *  2ãè·åå±æ§ä¸çæå®ç±»åçæ³¨éçæå®æ¹æ³\n   *  3ãè·åå±æ§ä¸çæææ³¨é\n   *  4ãè·åç±»ä¸çæææ³¨é\n   *  5ãè·åæ¹æ³ä¸çæææ³¨é\n   */\n  @SuppressWarnings("rawtypes")\n  public static void main(String[] args) {\n    \n    Field[] fields =  User.class.getDeclaredFields();\n    \n    for(Field f : fields){\n      String filedName = f.getName();\n      System.out.println("å±æ§åç§°:ã"+filedName+"ã");\n \n      //1ãè·åå±æ§ä¸çæå®ç±»åçæ³¨é\n      Annotation annotation = f.getAnnotation(XmlElement.class);\n      \n      //æè¯¥ç±»åçæ³¨éå­å¨\n      if (annotation!=null) {\n        //å¼ºå¶è½¬åä¸ºç¸åºçæ³¨é\t\n        XmlElement xmlElement = (XmlElement)annotation;\n        //3ãè·åå±æ§ä¸çæå®ç±»åçæ³¨éçæå®æ¹æ³\n        //å·ä½æ¯ä¸æ¯é»è®¤å¼å¯ä»¥å»æ¥çæºä»£ç \n        if (xmlElement.name().equals("##default")) {\n          System.out.println("å±æ§ã"+filedName+"ãæ³¨éä½¿ç¨çnameæ¯é»è®¤å¼: "+xmlElement.name());\n        }else {\n          System.out.println("å±æ§ã"+filedName+"ãæ³¨éä½¿ç¨çnameæ¯èªå®ä¹çå¼: "+xmlElement.name());\n        }\n      }\n \n      //2ãè·åå±æ§ä¸çæææ³¨é\n      Annotation[] allAnnotations = f.getAnnotations();\n      \n      for(Annotation an : allAnnotations){\n        \n        Class annotationType = an.annotationType();\n        \n        System.out.println("å±æ§ã"+filedName+"ãçæ³¨éç±»åæ: " + annotationType);\n      }\n      System.out.println("----------åä¸½çåå²çº¿--------------");\n    }\n    \n    //4ãè·åç±»ä¸çæææ³¨é\n    Annotation[] classAnnotation = User.class.getAnnotations();\n    \n    for(Annotation cAnnotation : classAnnotation){\n      Class annotationType =  cAnnotation.annotationType();\n      System.out.println("Userç±»ä¸çæ³¨éæ: " +annotationType);\n    }\n    \n    System.out.println("----------åä¸½çåå²çº¿--------------");\n    \n    // 5ãè·åæ¹æ³ä¸çæææ³¨é\n    Method method;\n    try {\n      method = User.class.getMethod("setPwd",String.class);\n      \n      Annotation[] methodAnnotations = method.getAnnotations();\n \n      for(Annotation me : methodAnnotations){\n        Class annotationType =  me.annotationType();\n        System.out.println("setPwdæ¹æ³ä¸çæ³¨éæ: " + annotationType);\n      }\n    } catch (SecurityException e) {\n      e.printStackTrace();\n    } catch (NoSuchMethodException e) {\n      e.printStackTrace();\n    }\n  }\n \n  @XmlElement\n  public void setPwd(String pwd) {\n    this.pwd = pwd;\n  }\n \n  public String getPwd() {\n    return pwd;\n  }\n}\n',normalizedContent:'# åºç¡è¯­æ³\n\n# 8ç§åºæ¬æ°æ®ç±»å\n\npublic class data {\n\tpublic static void main(string[] args) {\n\t    // byte  \n        system.out.println("åºæ¬ç±»åï¼byte äºè¿å¶ä½æ°ï¼" + byte.size);  \n        system.out.println("åè£ç±»ï¼java.lang.byte");  \n        system.out.println("æå°å¼ï¼byte.min_value=" + byte.min_value);  \n        system.out.println("æå¤§å¼ï¼byte.max_value=" + byte.max_value);  \n        system.out.println();  \n  \n        // short  \n        system.out.println("åºæ¬ç±»åï¼short äºè¿å¶ä½æ°ï¼" + short.size);  \n        system.out.println("åè£ç±»ï¼java.lang.short");  \n        system.out.println("æå°å¼ï¼short.min_value=" + short.min_value);  \n        system.out.println("æå¤§å¼ï¼short.max_value=" + short.max_value);  \n        system.out.println();  \n  \n        // int  \n        system.out.println("åºæ¬ç±»åï¼int äºè¿å¶ä½æ°ï¼" + integer.size);  \n        system.out.println("åè£ç±»ï¼java.lang.integer");  \n        system.out.println("æå°å¼ï¼integer.min_value=" + integer.min_value);  \n        system.out.println("æå¤§å¼ï¼integer.max_value=" + integer.max_value);  \n        system.out.println();  \n  \n        // long  \n        system.out.println("åºæ¬ç±»åï¼long äºè¿å¶ä½æ°ï¼" + long.size);  \n        system.out.println("åè£ç±»ï¼java.lang.long");  \n        system.out.println("æå°å¼ï¼long.min_value=" + long.min_value);  \n        system.out.println("æå¤§å¼ï¼long.max_value=" + long.max_value);  \n        system.out.println();  \n  \n        // float  \n        system.out.println("åºæ¬ç±»åï¼float äºè¿å¶ä½æ°ï¼" + float.size);  \n        system.out.println("åè£ç±»ï¼java.lang.float");  \n        system.out.println("æå°å¼ï¼float.min_value=" + float.min_value);  \n        system.out.println("æå¤§å¼ï¼float.max_value=" + float.max_value);  \n        system.out.println();  \n  \n        // double  \n        system.out.println("åºæ¬ç±»åï¼double äºè¿å¶ä½æ°ï¼" + double.size);  \n        system.out.println("åè£ç±»ï¼java.lang.double");  \n        system.out.println("æå°å¼ï¼double.min_value=" + double.min_value);  \n        system.out.println("æå¤§å¼ï¼double.max_value=" + double.max_value);  \n        system.out.println();  \n  \n        // char  \n        system.out.println("åºæ¬ç±»åï¼char äºè¿å¶ä½æ°ï¼" + character.size);  \n        system.out.println("åè£ç±»ï¼java.lang.character");  \n        // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°character.min_valueè¾åºå°æ§å¶å°  \n        system.out.println("æå°å¼ï¼character.min_value="  + (int) character.min_value);  \n        // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°character.max_valueè¾åºå°æ§å¶å°  \n        system.out.println("æå¤§å¼ï¼character.max_value="  + (int) character.max_value); \n        \n        // å¸å°\n        boolean bool1=false;\n        byte b =15;\n        short s = (short)3556;\n        int i = 150;\n        long l = 31356l;\n        float f = 12.345f;\n        double d = 20.1236467892;\n        char c = \'b\';\n        system.out.println("\\n" + "bool1=" + bool1 +" b="+b + " s="+s +" i="+i +" l="+l +" f="+f +" d="+d + " c=" +c +"\\n");\n        \n        system.out.println("i++=" + (i++) +"\\n");\n        i=150;\n        system.out.println("++i=" + (++i) +"\\n");\n        \n        i=150;\n        system.out.println("i--=" + (i--) +"\\n");\n        i=150;\n        system.out.println("--i=" + (--i) +"\\n");\n    }\n}\n\n\n# æµç¨æ§å¶\n\n\npublic static void main(string[] args) {\n    here: while (true) {\n        system.out.println("è¯·è¾å¥æç»©ï¼ï¼0-100ï¼");\n        scanner scan = new scanner(system.in);\n        int score = scan.nextint();\n        if (score > 100) {\n            system.out.println("è¾å¥éè¯¯ï¼");\n        } else {\n            switch (score / 10) {\n            case 10:\n            case 9:\n                system.out.println("ä¼ç§");\n                break;\n            case 8:\n                system.out.println("è¯å¥½");\n                break;\n            case 7:\n                system.out.println("ä¸­ç­");\n                break;\n            case 6:\n                system.out.println("åæ ¼");\n                break;\n            case 5:\n            case 4:\n            case 3:\n            case 2:\n            case 1:\n            case 0:\n                system.out.println("ä¸åæ ¼");\n                break;\n            default:\n                system.out.println("è¾å¥éè¯¯ï¼è¯·è¾å¥0-100çæ°ã");\n                break here;\n            }\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    while (true) {\n        system.out.println("è¯·è¾å¥å¹´ä»½ï¼");\n        scanner scan = new scanner(system.in);\n        int year = scan.nextint();\n        if (year % 400 == 0 || year % 4 == 0 && year % 100 != 0) {\n            system.out.println(year + "æ¯é°å¹´");\n            system.exit(0);\n        } else {\n            system.out.println(year + "ä¸æ¯é°å¹´");\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    system.out.println("è¯·è¾å¥ä¸ä¸ªæ°ï¼");\n    scanner scan = new scanner(system.in);\n    int num = scan.nextint();\n    boolean flag = true;\n    for(int i=2;i<num;i++)\n    {\n        if(num%i == 0){\n            flag = false;\n        }\n        else{\n        }\n    }\n    if(flag==true){\n        system.out.println(num + "æ¯è´¨æ°");\n    }\n    else{\n        system.out.println(num + "ä¸æ¯è´¨æ°");\n    }\n}\n// ------------------------------------------\npublic static void main(string[] args) {\n    for (int i = 2; i <= 1000; i++) {\n        boolean flag = true;\n        int n = i;\n        for (int j = 2; j < math.sqrt(i) + 1; j++) {\n            if (n % j == 0) {\n                flag = false;\n            }\n        }\n        if (flag == true) {\n            system.out.println(n + "æ¯è´¨æ°");\n        } else {\n            system.out.println(n + "ä¸æ¯è´¨æ°");\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    // todo auto-generated method stub\n    int a[]=new int[] {\n            45, 52, 23, 63, 25,\n            13, 22, 42, 32, 20,\n            46, 55, 35, 32, 66\n    };\n    \n    system.out.println("è¾åºåæ°ç»ï¼");\n    for (int i:a) {\n        system.out.print(i + " ");\n    }\n    \n    system.out.println();\n    int sum = 0;\n    int average = 0;\n    int max = a[0];\n    for (int i = 0; i < a.length; i++) {        \n        sum += a[i];\n        if(max<a[i]){\n            max = a[i];\n        }\n    }\n    system.out.println("max = " + max);\n    average = sum / a.length;\n    system.out.println("average = " + average);\n    \n    int len = a.length;\n    boolean flag = true;\n    while (flag) {\n        flag = false;\n        for (int i = 1; i < a.length; i++) {\n            if (a[i - 1] > a[i]) {\n                int temp = a[i];\n                a[i] = a[i-1];\n                a[i-1] = temp;\n                flag = true;\n            }\n        }\n        len -- ;\n    }\n    system.out.println("æåºåæ°ç»ï¼");\n    for (int i:a) {\n        system.out.print(i + " ");\n    }\n}\n\n\npublic class method2 {\n    public static long fib(int n){\n        if(n==1||n==2) {\n            return 1;\n        } else {\n            return fib(n-1)+fib(n-2);\n        }\n    }\n    \n    public static long fib1(int n){\n        long f[] = new long[n]; \n        f[0]=1;\n        f[1]=1;\n        for (int i = 2; i < f.length; i++) {\n            f[i]=f[i-1]+f[i-2];\n        }\n        return f[n-1];\n    }\n    //å¬å¼ï¼fib(n) = pow(((1 + sqrt(5)) / 2.0),n) / sqrt(5) - pow(((1 - sqrt(5)) / 2.0),n) / sqrt(5));\n    public static long fib2(int n) {\n        int f[] = new int[n+1];\n        f[n] = (int) (math.pow(((1 + math.sqrt(5)) / 2.0),n) / math.sqrt(5) - math.pow(((1 - math.sqrt(5)) / 2.0),n) / math.sqrt(5));\n        return f[n];\n    }\n    \n    public static long[][] fib3(int n) {\n        long a[][] = { { 1, 1 }, { 1, 0 } }; // å®ä¹åºç©éµ\n        long b[][]; // å­å¨å­æ¹æ³çç»æ\n        long c[][] = new long[2][2]; // å­å¨æåè®¡ç®ç»æ\n        long d[][] = new long[2][2]; // å­å¨ä¸­é´è®¡ç®ç»æ\n        if ((n) <= 1)\n            return a; // å¦ææ¬¡æ¹å°ç­äº1ç´æ¥è¿å\n        else if ((n) % 2 == 1) {\n            b = fib3((n - 1) / 2);\n\n            d[0][0] = b[0][0] * b[0][0] + b[0][1] * b[1][0];\n            d[0][1] = b[0][0] * b[0][1] + b[0][1] * b[1][1];\n            d[1][0] = b[1][0] * b[0][0] + b[1][1] * b[1][0];\n            d[1][1] = b[1][0] * b[0][1] + b[1][1] * b[1][1];\n\n            c[0][0] = d[0][0] * a[0][0] + d[0][1] * a[1][0];\n            c[0][1] = d[0][0] * a[0][1] + d[0][1] * a[1][1];\n            c[1][0] = d[1][0] * a[0][0] + d[1][1] * a[1][0];\n            c[1][1] = d[1][0] * a[0][1] + d[1][1] * a[1][1];\n\n        } else {\n            b = fib3((n) / 2);\n\n            c[0][0] = b[0][0] * b[0][0] + b[0][1] * b[1][0];\n            c[0][1] = b[0][0] * b[0][1] + b[0][1] * b[1][1];\n            c[1][0] = b[1][0] * b[0][0] + b[1][1] * b[1][0];\n            c[1][1] = b[1][0] * b[0][1] + b[1][1] * b[1][1];\n        }\n        return c;\n    }\n}\n\n\n# å½æ°ï¼æ¹æ³ï¼\n\n\n  public class method1 {\n      public static void showarr(int a1[]) {\n          for (int i = 0; i < a1.length; i++) {\n              system.out.print(a1[i] + "  ");\n          }\n          system.out.println();\n      }\n      //showarræ¹æ³éè½½\n      public static void showarr(double b1[]) {\n          for (int i = 0; i < b1.length; i++) {\n              system.out.print(b1[i] + "  ");\n          }\n          system.out.println();\n      }\n      \n      public static void findarr(int a1[],int n){\n          boolean flag=true;\n          for (int i = 0; i < a1.length; i++) {\n              if(a1[i]==n){\n                  flag=false;\n                  system.out.println(a1[i] + "ä¸æ ä¸º"+i);\n              }\n          }\n          if(flag==true){\n                  system.out.println("æ²¡ææ¾å°ç¬¦åæ¡ä»¶çæ°");\n          }\n      }\n      //findarræ¹æ³éè½½\n      public static void findarr(double b1[],double m){\n          boolean flag=true;\n          for (int i = 0; i < b1.length; i++) {\n              if(b1[i]==m){\n                  flag=false;\n                  system.out.println(b1[i] + "ä¸æ ä¸º"+i);\n              }\n          }\n          if(flag==true){\n                  system.out.println("æ²¡ææ¾å°ç¬¦åæ¡ä»¶çæ°");\n          }\n      }\n      \n      \n      public static int[] sortarr(int a1[]) {\n          for (int i = 0; i < a1.length - 1; i++) {\n              for (int j = 0; j < a1.length - i - 1; j++) {\n                  if (a1[j] > a1[j + 1]) {\n                      int temp = a1[j];\n                      a1[j] = a1[j + 1];\n                      a1[j + 1] = temp;\n                  }\n              }\n          }\n          return a1;\n      }\n      \n      public static double[] sortarr(double a1[]) {\n          //éè¦æ¯è¾a1.length-1è½®\n          for (int i = 0; i < a1.length - 1; i++) {\n              //ç¬¬iè½®éè¦æ¯è¾çä¸¤ä¸ªæ°\n              for (int j = 0; j < a1.length - i - 1; j++) {\n                  if (a1[j] > a1[j + 1]) {\n                      double temp = a1[j];\n                      a1[j] = a1[j + 1];\n                      a1[j + 1] = temp;\n                  }\n              }\n          }\n          return a1;\n      }\n  \n  }\n\n\n# ç±»åå¯¹è±¡\n\n\npublic class method3 {\n\tprotected string name;\n\tprotected int age;\n\tprotected string sex;\n\tprotected string num;\n\tpublic method3(){\n\t\t\n\t}\n\t\n\tpublic method3(string name, int age, string sex, string num) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.sex = sex;\n\t\tthis.num = num;\n\t}\n\tpublic void setname(){\n\t\tthis.name = name;\n\t}\n\tpublic string getname(){\n\t\treturn name;\n\t}\n\tpublic void setage(){\n\t\tthis.age = age;\n\t}\n\tpublic int getage(){\n\t\treturn age;\n\t}\n\tpublic void setsex(){\n\t\tthis.sex = sex;\n\t}\n\tpublic string getsex(){\n\t\treturn sex;\n\t}\n\tpublic void setnum(){\n\t\tthis.num = num;\n\t}\n\tpublic string getnum(){\n\t\treturn num;\n\t}\n\t\n\t@override\n    public string tostring() {\n        return "student [name=" + name + ", age=" + age + ", sex=" + sex + ", num=" + num + "]";\n    }\n\t\n  /* public static void sortnum(method3 []s){\n\t\tfor (int i = 0; i < s.length-1; i++) {\n\t\t\tfor (int j = 0; j < s.length-i-1; j++) {\n\t\t\t\tif(s[j].age>s[j+1].age){\n\t\t\t\t\tmethod3 a;\n\t\t\t\t\ta=s[j];\n\t\t\t\t\ts[j]=s[j+1];\n\t\t\t\t\ts[j+1]=a;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}*/\n}\n// ------------------------\npublic class main {\n\n\tpublic static void main(string[] args) {\n\t    method3 student[] = new method3[3];\n\t   \tstudent[0]=new method3("bbb",24,"ç·","17044003");\n\t   \tstudent[1]=new method3("ccc",23,"å¥³","17044002");\n\t   \tstudent[2]=new method3("aaa",25,"ç·","17044001");\n\t   \t\n\t   \tlist<method3> list = new arraylist<method3>();\n\t   \tlist.add(student[0]);\n\t   \tlist.add(student[1]);\n\t   \tlist.add(student[2]);\n\t   \t\n\t   \tsystem.out.println("æåºåï¼");\n        //æåºå\n\t   \tfor (method3 method3 : list) {\n\t   \t\tsystem.out.println(method3);\n\t\t}\n      comparatorconsuninfo comparatorconsuninfo = new comparatorconsuninfo();//æ¯è¾å¨\n      collections.sort(list,comparatorconsuninfo);//æåº\n      \n      system.out.println("æå¹´é¾æåºåï¼");\n      //æåºå\n      for (method3 method3 : list) {\n        \tsystem.out.println(method3);\n\t\t}\n       \n\t}\n}\n\n\n# ç±»çç»§æ¿ä¸æ½è±¡ç±»çå®ç°\n\n\npublic class main {\n\tpublic static void main(string[] args) {\n\t\t// todo auto-generated method stub\n\t\tperson p0 = new person();\n\t\tsystem.out.println(p0);\n\t\t\n\t\tperson p1 = new person("aaa");\n\t\tsystem.out.println(p1);\n\t\tp1.say();\n\t\tperson.speak();\n\t\tsystem.out.println();\n\t\t\n\t\tperson p2 = new student();\n\t\tsystem.out.println(p2);\n\t\t\n\t\tperson p3 = new student("åå°æ»¨å­¦é¢");\n\t\tsystem.out.println(p3);\n\t\t\n\t\tperson p4 = new student("bbb","xxxå­¦æ ¡");\n\t\tsystem.out.println(p4);\n\t\tp4.say();\n\t\tp4.display();\n\t\tstudent.speak();\n\t\tsystem.out.println();\n\t\t\n\t\tperson p5 = new middlestudent();\n\t\tsystem.out.println(p5);\n\t\t\n\t\tperson p6 = new middlestudent("ä¸é«");\n\t\tsystem.out.println(p6);\n\t\t\n\t\tperson p7 = new middlestudent("ddd","äºé«");\n\t\tsystem.out.println(p7);\n\t\tp7.say();\n\t\tmiddlestudent.speak();\n\t\tsystem.out.println();\n\t\t\n\t\tperson p8 = new smallstudent();\n\t\tp8.display();\n\t\tp8.say();\n\t\tsmallstudent p9 = new smallstudent();\n\t\tp9.display1();\n\n\t\tvirtualtree tree = new tree("éªæ¾");\n\t\ttree.act();\n\t}\n}\n\n\npublic class person {\n\tprotected string name;\n\tpublic person(){\n\t\t\n\t}\n\tpublic person(string name){\n\t\tthis.name=name;\n\t}\n\tpublic string getname() {\n\t\treturn name;\n\t}\n\tprivate void setname(string name) {\n\t\tthis.name = name;\n\t}\n\t\n\t\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "æçåå­:"+ this.name ;\n\t}\n\tpublic void say(){\n\t\tsystem.out.println("ææ¯ä¸ä¸ªäººããã");\n\t}\n\t\n\tpublic static void speak(){\n\t\tsystem.out.println("åé¥­");\n\t}\n\t\n\tpublic final void display(){\n\t\tsystem.out.println("ææ¯finalæ¹æ³\\tä¸è½è¢«éå");\n\t}\n}\n\n\npublic class student extends person {\n\tprivate string school;\n\t\n\tpublic student(){\n\t\t\n\t}\n\tpublic student(string school){\n\t\tsuper(" ");\n\t\tthis.school=school;\n\t}\n\tpublic student(string name,string school){\n\t\tsuper(name);\n\t\tthis.school=school;\n\t}\n\t\n\tpublic string getschool() {\n\t\treturn school;\n\t}\n\tpublic void setschool(string school) {\n\t\tthis.school = school;\n\t}\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "æçåå­:"+ super.name +"\\tæçå­¦æ ¡:" + this.school;\n\t}\n\t@override\n\tpublic void say() {\n\t\t// todo auto-generated method stub\n\t\tsuper.say();\n\t\tsystem.out.println("ææ¯ä¸ä¸ªå­¦çããã");\n\t}\n\tpublic static void speak(){\n\t\tsystem.out.println("å­¦ä¹ ");\n\t}\n}\n\n\nfinal public class smallstudent extends student  {\n\tpublic void say(){\n\t\tsystem.out.println("ææ¯ä¸åªå°å­¦ç");\n\t}\n\tpublic void display1(){\n\t\tsystem.out.println("ææ¯finalç±»\\tä¸å¯è¢«ç»§æ¿\\n");\n\t}\n}\n\n\npublic class middlestudent extends student {\n\n\tpublic middlestudent(){\n\t\tsuper("","");\n\t}\n\tpublic middlestudent(string school){\n\t\tsuper(" ",school);\n\t}\n\tpublic middlestudent(string name,string school){\n\t\tsuper(name,school);\n\t}\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "æçåå­:"+ super.getname() +"\\tæçå­¦æ ¡:" + super.getschool();\n\t}\n\t@override\n\tpublic void say() {\n\t\t// todo auto-generated method stub\n\t\tsuper.say();\n\t\tsystem.out.println("ææ¯ä¸ä¸ªé«ä¸­çããã");\n\t}\n\t\n\tpublic static void speak(){\n\t\tsystem.out.println("ç¡è§");\n\t}\n}\n\n\npublic abstract class virtualtree {\n\tprivate string tree="æ³æ ";\n\tpublic virtualtree(){\n\t\t\n\t}\n\tpublic virtualtree(string tree){\n\t\tthis.tree=tree;\n\t}\n\t\n\tpublic string gettree() {\n\t\treturn tree;\n\t}\n\tpublic void settree(string tree) {\n\t\tthis.tree = tree;\n\t}\n\tpublic abstract void wave(); \n\tpublic abstract void grow();\n\tpublic abstract void dieaway();\n\tpublic abstract void felldown();\n\tpublic void act(){\n\t\t\tthis.wave();\n\t\t\tthis.grow();\n\t\t\tthis.dieaway();\n\t\t\tthis.felldown();\n\t}\n}\n\n\npublic class tree extends virtualtree {\n\t\n\tpublic tree(){\n\t\t\n\t}\n\tpublic tree(string tree){\n\t\tsuper(tree);\n\t}\n\t\n\t@override\n\tpublic void wave() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println("é£å¹è¿ï¼" + super.gettree() + "æ ææå¨ã");\n\t}\n\n\t@override\n\tpublic void grow() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println(super.gettree() + "çé¿ä¸­Â·Â·Â·Â·Â·Â·");\n\t}\n\n\t@override\n\tpublic void dieaway() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println(super.gettree() + "æ¯èåé¶");\n\t}\n\n\t@override\n\tpublic void felldown() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println(super.gettree() + "è¢«ç ä¼");\n\t}\n}\n\n\n# æ¥å£å®ç°åæ·±æµæ·è´\n\n\npublic class main {\n\tpublic static void main(string[] args) throws clonenotsupportedexception{\n\t\thero hero1 = new hero("å¾·é²ä¼");\n\t\tpets pet1 = new pets("é¾ç¼");\n\t\thero1.setpet(pet1);\n\t\thero1.displaymes();\n\t\t//system.out.println(hero1);\n\n\t\t/*hero hero2 = hero1;\t\t\t//å¼ç¨æ·è´\n\t\t//hero2.displaymes();\n\t\tsystem.out.println(hero2);\n\t\tsystem.out.println(hero1.equals(hero3));*/\n\t\t\n\t\t/*hero hero3 = (hero) hero1.clone();\t\t//æµæ·è´\tç¬¬ä¸ä¸ªclone()éå\n\t\tsystem.out.println(hero3.equals(hero1));\n\t\thero3.displaymes();\n\t\tsystem.out.println(hero3.pet.equals(hero1.pet));\n\t\tsystem.out.println("hero1çpetå°åï¼" + hero1.pet);\n\t\tsystem.out.println("hero4çpetå°åï¼" + hero3.pet);*/\n\n\t\t//æ·±æ·è´çä¸¤ç§æ¹æ³\n\t\t//1.æ·±å¤å¶æ¡ä»¶ ---ç¶ç±»åå­ç±»é½è¦å®ç°cloneableï¼ï¼æ¥å£\n\t\t//2.ç¶ç±»éåcloneæ¥å£çæ¶åï¼è¦æå­ç±»å¸¦ä¸ï¼\n\t\thero hero4 = (hero) hero1.clone();\t\t//æ·±æ·è´\tç¬¬äºä¸ªclone()éå\n\t\t\n\t\tsystem.out.println(hero4.equals(hero1));\n\t\thero4.displaymes();\n\t\tsystem.out.println(hero4.pet==hero1.pet);\n\t\tsystem.out.println("hero1çpet" + hero1.pet.petname);\n\t\tsystem.out.println("hero4çpet" + hero4.pet.petname);\n\t\tsystem.out.println(hero1.pet.equals(hero4.pet));\n\t}\n}\n\n\npublic interface flyable {\n\tstring fly="æ¥å¨ç¿è";\t//å¨å±åé é»è®¤ä¸ºpublic static string\n\tpublic void able1();\t\t\t\t//æ¥å£æ¹æ³é»è®¤ä¸ºæ½è±¡\n\tpublic static void fly(string f){\t\t//æ¥å£éææ¹æ³\n\t\t//fly = f;\n\t\tsystem.out.print("\\t" + flyable.fly);\n\t}\n}\n\n\npublic class pets implements flyable,cloneable{\n\t string petname;\n\t\t\n\tpublic pets() {\n\t}\n\n\tpublic pets(string petname) {\n\t\tthis.petname = petname;\n\t}\n\n\tpublic string getpet() {\n\t\treturn petname;\n\t}\n\n\tpublic void setpet(string petname) {\n\t\tthis.petname = petname;\n\t}\n\t\n\t//æ¥å£æ¹æ³çå®ä¾å\n\tpublic void able1(){\n\t\tsystem.out.print(" and fly");\n\t}\n\n\t@override\n\tpublic object clone() throws clonenotsupportedexception {\n\t\t// todo auto-generated method stub\n\t\treturn super.clone();\n\t}\n\n\t// æ³¨ï¼ï¼æ­¤å¤ä¸ºåé¢ç¤ºä¾ï¼éåequalsæ¹æ³æ¶ä¸å®è¦éåhashcode()æ¹æ³\n\t/*@override\n\tpublic boolean equals(object temp) {\n\t\t// todo auto-generated method stub\n\t\tif(this==temp){\n\t\t\treturn true;\n\t\t}\n\t\tif(temp instanceof pets){\n\t\t\tpets pet=(pets)temp;\n\t\t\t\n\t\t\tif(this.petname.equals(((pets) temp).petname)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn false;\t\t\t\n\t\t}\n\t}*/\n}\n\n\n// åéï¼å®ç°cloneableæ¥å£ï¼éåclone()æ¹æ³ï¼æéä¸ºpublic\npublic class hero implements cloneable {\n\tprivate string name;\n\tpets pet;\n\t\n\tpublic hero(){\n\t\t\n\t}\n\tpublic hero(string name){\n\t\tthis.name = name;\n\t}\n\t\n\tpublic string getname() {\n\t\treturn name;\n\t}\n\n\tpublic void setname(string name) {\n\t\tthis.name = name;\n\t}\n\t\n\tpublic pets getpet() {\n\t\treturn pet;\n\t}\n\tpublic void setpet(pets pet) {\n\t\tthis.pet = pet;\n\t}\n\t/*@override //æµæ·è´\n\tprotected object clone() throws clonenotsupportedexception {\n\t\t// todo auto-generated method stub\n\t\treturn super.clone();\n\t}*/\n\t@override\t//æ·±æ·è´\n\tpublic object clone() throws clonenotsupportedexception {\n\t\thero hero = (hero)super.clone();\n\t\thero.pet = (pets)pet.clone();\n\t\treturn hero;\n\t}\n\t\n\t\n\t// æ³¨ï¼ï¼æ­¤å¤ä¸ºåé¢ç¤ºä¾ï¼éåequalsæ¹æ³æ¶ä¸å®è¦éåhashcode()æ¹æ³\n\t/*@override\n\tpublic boolean equals(object temp) {\n\t\t// todo auto-generated method stub\n\t\tif(this==temp){\n\t\t\treturn true;\n\t\t}\n\t\tif(temp instanceof hero){\n\t\t\thero hero=(hero) temp;\n\t\t\tpets pet=(pets)hero.pet;\n\t\t\t\n\t\t\tif(this.pet==hero.pet && this.pet.petname.equals(hero.pet.petname)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse{\n\t\t\treturn false;\n\t\t}\t\t\n\t}*/\n\t\n\tpublic void displaymes(){\n\t\tsystem.out.println("hero name:" + name);\n\t\tsystem.out.print("pet name:" + pet.getpet());\n\t\tflyable.fly(" ");\n\t\tpet.able1();\n\t\tsystem.out.println();\n\t}\n}\n\n\n# ç±»é´å³ç³»\n\n\npublic class main {\n\t//ä½ä¼ç±»åç±»ä¹é´çå³ç³»\n\tpublic static void main(string[] args) {\n\t\t\n\t\tbyte f[]={9,11,13,12,10};\n\n\t\tstudent s[]=new student[2];\n\t\ts[0]=new student("éªåé·é¸£",(byte)127,"ç·","14000000",true);\n\t\tphone phone = new phone();\n\t\tphone=new phone("wal-000",2000,20);\n\t\ts[0].finger(f);\n\t\ts[0].tostring();//system.out.println(s);\n\t\ts[0].playphone(phone);\n\t\ts[0].buyphone(phone);\n\t\ts[0].breath();\n\t\t\n\t\ts[1]=new student();\n\t\ts[1].tostring();\n\t\ts[1].breath();\n\t\t\n\t\t\n\t\t/*s=null;\n\t\tsystem.gc();*/\n\t}\n\n}\n\n\n  public class student {\n      private string name=" ";\n      private byte age;\n      private string sex;\n      private string num;\n      private boolean graduate;\n      phone phone=new phone();\n      hands hand = new hands();\n      \n      public student(){\n          hand = new hands();\n      }\n      public student(string name){\n          this.name=name;\n      }\n      public student(string name,byte age){\n          this(name);\n          this.age=age;\n      }\n      public student(string name,byte age,string sex){\n          this(name,age);\n          this.sex=sex;\n      }\n      public student(string name,byte age,string sex,string num){\n          this(name,age,sex);\n          this.num=num;\n      }\n      public student(string name,byte age,string sex,string num ,boolean graduate){\n          this(name,age,sex,num);\n          this.graduate=graduate;\n      }\n  \n      \n      public string getname(){\n          return name;\n      }\n      public void setname(string name){\n          this.name=name;\n      }\n      public short getage() {\n          return age;\n      }\n      public void setage(byte age) {\n          this.age = age;\n      }\n      public string getsex() {\n          return sex;\n      }\n      public void setsex(string sex) {\n          this.sex = sex;\n      }\n      public string getnum() {\n          return num;\n      }\n      public void setnum(string num) {\n          this.num = num;\n      }\n      public boolean isgraduate() {\n          return graduate;\n      }\n      public void setgraduate(boolean graduate) {\n          this.graduate = graduate;\n      }\n      \n      public hands gethand() {\n          return hand;\n      }\n      public void sethand(hands hand) {\n          this.hand = hand;\n      }\n      \n      public void finger(byte a[]){       //ä¸handsæç»åå³ç³»\n          hand = new hands(a);\n      }\n      \n      @override\n      public string tostring() {\n          // todo auto-generated method stub\n          system.out.println("å§åï¼" + this.name +"\\tå¹´é¾ï¼" + age + "\\tæ§å«ï¼" + sex + "\\tå­¦å·ï¼" + num + "\\tæ¯å¦æ¯ä¸ï¼" + graduate);\n          system.out.println(this.gethand());\n          return super.tostring();\n      }\n      \n      /*@override\n      protected void finalize() throws throwable {\n          // todo auto-generated method stub\n          system.out.println("åæ¶åå¾...");\n          super.finalize();\n      }*/\n      public void breath(){       //ä¸airç±»æä¾èµå³ç³»\n          air freshair = new air();\n          freshair.air();\n      }\n      \n      public void playphone(phone phone){     //ä¸phoneæèåå³ç³»\n          system.out.println(this.getname()+"åå­¦çææº  åå·ï¼"+phone.getmodel()+ "\\tä»·æ ¼ï¼" +phone.getprice() + "\\tå°ºå¯¸ï¼" + phone.getsize());\n      }\n      \n      public phone buyphone(phone phone){\n          system.out.println("è´­ä¹°ææº åå·ï¼"+phone.getmodel()+ "  ä»·æ ¼ï¼" +phone.getprice() + "  å°ºå¯¸ï¼" + phone.getsize());\n          return this.phone;\n      }\n  }\n\n\n  public class air {\n      //ä¾èµ\n      public void air(){\n          system.out.println("å¸æ°" + "\\tå¼" +" æ°" + "\\n");\n      }\n  }\n\n\npublic class hands {\n\t//ç»å\n\tprivate byte[] finger=new byte[5];\n\tpublic hands(){\n\t\tfinger[0]=(byte)7;\n\t\tfinger[1]=(byte)8.2;\n\t\tfinger[2]=(byte)10;\t\t\n\t\tfinger[3]=(byte)9.3;\n\t\tfinger[4]=(byte)7.5;\n\t}\n\tpublic hands(byte[] finger){\n\t\tthis.finger=finger;\n\t}\n\t\n\tpublic byte[] getfinger() {\n\t\treturn finger;\n\t}\n\n\tpublic void setfinger(byte[] finger) {\n\t\tthis.finger = finger;\n\t}\n\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println("ææé¿ä¸ºï¼"+finger[0]+"\\té£æé¿ä¸ºï¼"+finger[1]+"\\tä¸­æé¿ä¸ºï¼"+finger[2]+"\\tæ åæé¿ä¸ºï¼"+finger[3]+"\\tå°æé¿ä¸ºï¼"+finger[4]);\n\t\treturn super.tostring();\n\t}\n}\n\n\n  public class phone {\n      //èå\n      private string model;\n      private int price;\n      private int size;\n  \n      public phone() {\n  \n      }\n  \n      public phone(string model) {\n          this();\n          this.model=model;\n      }\n  \n      public phone(string model, int price) {\n          this(model);\n          this.price=price;\n      }\n  \n      public phone(string model, int price, int size) {\n          this(model,price);\n          this.size=size;\n      }\n  \n      public string getmodel() {\n          return model;\n      }\n  \n      public void setmodel(string model) {\n          this.model = model;\n      }\n  \n      public int getprice() {\n          return price;\n      }\n  \n      public void setprice(int price) {\n          this.price = price;\n      }\n  \n      public int getsize() {\n          return size;\n      }\n  \n      public void setsize(int size) {\n          this.size = size;\n      }\n  }\n\n\n# ç®åè®¾è®¡æ¨¡å¼\n\n\n  public class main {\n      static{\n          system.out.println("æµè¯ç±»çéæä»£ç å");\n      }\n      public static void mothod(int n){\n          \n          system.out.println("ææ¯" + n + "å¥æ èçè¯ããã");\n      }\n      public static void main(string[] args) {\n          // todo auto-generated method stub\n          /*student.setschool("xxå­¦é¢");\n          student s1 = new student();\n          s1.setname("aaa");\n          system.out.println(s1.getname() + " " + student.getschool());*/\n          \n          test.mothod(3);\n          \n          student s0 = new student();\n          system.out.println(s0);\n          \n          student s2 = new student("aaa");\n          s2.schoolname("xxå­¦é¢");\n          s2.showmessage();\n          \n          singleton s3 = singleton.getinstane();\n          system.out.println(s3);\n          singleton s4 = singleton.getinstane();\n          system.out.println(s4);\n          system.out.println("ï¼åä¾é¥¿æ±å¼ï¼å¯¹è±¡æ°ï¼" + singleton.num + "\\n");\n          \n          singleton1 s5 = singleton1.getinstane();\n          system.out.println(s5);\n          singleton1 s6 = singleton1.getinstane();\n          system.out.println(s6);\n          system.out.println("ï¼åä¾ææ±å¼ï¼å¯¹è±¡æ°ï¼" + singleton1.num + "\\n");\n          \n          multiton s7 = multiton.getinstane("ææ1");\n          system.out.println(s7.getstar());\n          multiton s8 = multiton.getinstane("ææ2");\n          system.out.println(s8.getstar());\n          multiton s9 = multiton.getinstane("ææ3");\n          system.out.println(s9.getstar());\n          system.out.println("ï¼å¤ä¾ï¼å¯¹è±¡æ°ï¼" + multiton.num);\n      }\n  }\n\n\n// å¤ä¾\npublic class multiton {\n\tprivate string star;\n\tpublic static int num=0;\n\tprivate static multiton[] s = new multiton[3];\n\tstatic{\n\t\tfor (int i = 0; i < s.length; i++) {\n\t\t\ts[i] = new multiton("ææ" + (i+1));\n\t\t}\n\t}\n\t\n\tpublic string getstar() {\n\t\treturn star;\n\t}\n\tpublic void setstar(string star) {\n\t\tthis.star = star;\n\t}\n\t\n\tprivate multiton(){\n\t\tnum++;\n\t}\n\tprivate multiton(string star){\n\t\tthis.star=star;\n\t\tnum++;\n\t}\n\t\n\tpublic static multiton getinstane(string star)\n\t{\n\t\tif(s[0].getstar().equals(star)){\n\t\t\treturn s[0];\n\t\t}\n\t\telse if(s[1].getstar().equals(star))\n\t\t{\n\t\t\treturn s[1];\n\t\t}\n\t\telse{\n\t\t\treturn s[2];\n\t\t}\n\t}\n}\n\n\n//åä¾   é¥¿æ±å¼\npublic class singleton {\n\tprivate string school;\n\tpublic static int num=0;\n\tprivate static final singleton s = new singleton("xxå­¦é¢");\n\t\n\tprivate singleton(){\n\t\tnum++;\n\t}\n\tprivate singleton(string school){\n\t\tthis.school=school;\n\t\tnum++;\n\t}\n\t\n\tpublic static singleton getinstane()\n\t{\n\t\treturn s;\n\t}\n}\n\n\n//åä¾  ææ±å¼\npublic class singleton1 {\n\tprivate string school;\n\tpublic static int num=0;\n\tprivate static singleton1 s = null;\n\t\n\tprivate singleton1() {\n\t\tnum++;\n\t}\n\tprivate singleton1(string school) {\n\t\tthis.school=school;\n\t\tnum++;\n\t}\n\t\n\tpublic static singleton1 getinstane() {\n\t\tif(s==null){\n\t\t\ts=new singleton1();\n\t\t} else {\n\t\t\treturn s;\n\t\t}\n\t\treturn s;\n\t}\n}\n\n\n# å¸¸è§å¼å¸¸ç±»ä¸æè·å¼å¸¸\n\n\npublic class arrexception {\n\tpublic static void main(string[] args){\n\t\tint a[]={21,32,52};\n\t\t\n\t\ttry{\n\t\t\tsystem.out.println(a[3]);\n\t\t}catch(arrayindexoutofboundsexception e){\n\t\t\tsystem.out.println("å¼å¸¸ä¿¡æ¯ä¸ºï¼" + e.getmessage());\n\t\t}\n\t}\t\n}\n\n\npublic class clasept {\n\tprivate string name;\n\n\tprotected clasept() {\n\t\tsuper();\n\t}\n\n\tprotected clasept(string name) {\n\t\tsuper();\n\t\tthis.name = name;\n\t}\n\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "å§åï¼"+name;\n\t}\n\t\n\t\n\tpublic static void main(string[] args) {\n\t\t// todo auto-generated method stub\n\t\tclasept c=new clasept("name");\n\t\tc=null;\n\t\t\n\t\tassert (c!=null):"å¯¹è±¡cæånull";\n\t\t\n\t\tsystem.out.println(c);\n\t\ttry{\n\t\t\tsystem.out.println(c.tostring());\n\t\t}catch(nullpointerexception e){\n\t\t\tsystem.out.println("å¼å¸¸ä¿¡æ¯ï¼" + e.getmessage());\n\t\t\t//e.printstacktrace();\n\t\t}\n\t}\n}\n\n\npublic class divept {\n\tpublic static void main(string[] args) {\n\t\tint a=100;\n\t\tint b=0;\n\t\t\n\t\ttry{\n\t\t\tsystem.out.println(div(a,b));\n\t\t}catch(exception e){\n\t\t\tsystem.out.println("å¼å¸¸ä¿¡æ¯ä¸ºï¼" + e.getmessage());\n\t\t}finally{\n\t\t\tsystem.out.println("è¯·éæ°æä½");\n\t\t}\n\t}\n\t\n\tpublic static int div(int a,int b) {\n\t\treturn a/b;\n\t}\n}\n\n\npublic class divept1 {\n\tpublic static void main(string[] args) {\n\t\tint a=100;\n\t\tint b=0;\n\t\t\n\t\ttry{\n\t\t\tsystem.out.println(div(a,b));\n\t\t}catch(exception e){\n\t\t\tsystem.out.println(e.getmessage());\n\t\t}\n\t}\n\t\n\tpublic static int div(int a,int b) throws exception {\n\t\tif(b==0){\n\t\t\tthrow new exception("é¤æ°ä¸ºé¶");\n\t\t}\n\t\treturn a/b;\n\t}\n}\n\n\n/**\n * èªå®ä¹å¼å¸¸\n * ç»§æ¿exception\n * @author lenovo\n */\npublic class myexception extends exception{\n\t\n\t/**\n\t * åºååid\n\t */\n\tprivate static final long serialversionuid = 1l;\n\tpublic myexception(){\n\t\tsuper();\n\t}\n\tpublic myexception(string msg){\n\t\tsuper(msg);\n\t}\n\tpublic string getmessage(string s) {\n\t\t\n\t\treturn "å¾å°å¼å¸¸ä¿¡æ¯ï¼" + super.getmessage();\n\t}\n\t@override\n\tpublic void printstacktrace() {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.print("æå°å æ ä¿¡æ¯ï¼");\n\t\tsuper.printstacktrace();\n\t}\n}\n\n// ----------------------------\n\npublic class mytest {\n\tpublic static void main(string[] args) throws myexception{\n\t\tint x=5;\n\t\twhile(x--\x3e1){\n\t\t\tscanner cin = new scanner(system.in);\n\t\ttry{\n\t\t\t\tint a = cin.nextint();\n\t\t\t\tint b = cin.nextint();\n\t\t\t\tif(b==0){\n\t\t\t\t\tthrow new myexception("é¤æ°ä¸è½ä¸º0");\t\t//èªå®ä¹å¼å¸¸ç±»å¯¹è±¡\n\t\t\t\t}\n\t\t\t\tsystem.out.println(a/b);\n\t\t\t}catch(inputmismatchexception e){\n\t\t\t\t//e.printstacktrace();\n\t\t\t\tsystem.out.println(e.getmessage());\n\t\t\t}catch(arithmeticexception e){\n\t\t\t\tsystem.out.println(e.getmessage());\n\t\t\t}catch(runtimeerrorexception e){\n\t\t\t\tsystem.out.println(e.getmessage());\n\t\t\t}catch(exception e){\n\t\t\t\tsystem.out.println(e.getmessage());\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n# çº¿ç¨\n\n# å¤çº¿ç¨\n\n\npublic class mythread extends thread{\n\tprivate static int tickets = 50;\n\t//private volatile int tickets = 50;\n\t//private int tickets = 50;\n\tprivate int time ;\t\n\tpublic mythread(string name,int time){\n\t\tsuper(name);\n\t\tthis.time = time;\n\t}\n\n\t@override\n\tpublic void run() {\n\t\t\n\t\twhile(tickets--\x3e0){\n\t\t\ttry {\n\t\t\t\tthread.sleep(this.time);\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬" + tickets + "å¼ ç¥¨");\n\t\t}\n\t}\n}\n// ------------------------------------------------------\npublic static void main(string[] args) {\n\t// todo auto-generated method stub\n\tmythread t1=new mythread("çªå£1",200);\n\tmythread t2=new mythread("çªå£2",100);\n\tmythread t3=new mythread("çªå£3",50);\n\tmythread t4=new mythread("çªå£4",10);\n\t\n\tt1.start();\n\tt2.start();\n\tt3.start();\n\tt4.start();\n}\n\n\npublic class trunnable implements runnable{\n\tprivate int tickets = 50;\n\tprivate int time;\n\tprotected trunnable(int time) {\n\t\tsuper();\n\t\tthis.time = time;\n\t}\n\n\t@override\n\tpublic void run() {\n\t\t// todo auto-generated method stub\n\t\twhile(tickets--\x3e0){\n\t\t\ttry {\n\t\t\t\tthread.sleep(this.time);\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬" + tickets + "å¼ ç¥¨");\n\t\t}\n\t}\n}\n\n// ----------------------------------\npublic static void main(string[] args) {\n\t\t//runnableæ¥å£å®ç°ç±»çå¯¹è±¡\n\t\ttrunnable tr1=new trunnable(100);\t\t//åæ°ä¸ºç¡ç æ¶é´\n\t\t\n\t\tthread t1 = new thread(tr1,"çªå£1");\n\t\tthread t2 = new thread(tr1,"çªå£2");\n\t\tthread t3 = new thread(tr1,"çªå£3");\n\t\tthread t4 = new thread(tr1,"çªå£4");\n\t\t\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t\tt4.start();\n\t}\n}\n\n\n// å¯å¸¦è¿åå¼çå¤çº¿ç¨\npublic class tcallable implements callable{\n \tprivate int tickets = 50;\n \t@override\n \tpublic object call() throws exception {\n \t\twhile(true){\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets==39){\n \t\t\t\t\tsystem.out.println("ç¨åºè®©æ­¥...");\n \t\t\t\t\tthread.yield();\n \t\t\t\t}\n \t\t\t}\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets==6){\n \t\t\t\t\tsystem.out.println("ç¨åºè®©æ­¥...");\n \t\t\t\t\tthread.yield();\n \t\t\t\t}\n \t\t\t}\n \t\t\t\n \t\t\ttry {\n \t\t\t\tthread.sleep(2);\n \t\t\t} catch (interruptedexception e) {\n \t\t\t\t// todo auto-generated catch block\n \t\t\t\te.printstacktrace();\n \t\t\t}\n \t\t\tsynchronized(this){\n \t\t\t\tif(tickets>0){\n \t\t\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬" + tickets + "å¼ ç¥¨");\t\n \t\t\t\t\ttickets--;\n \t\t\t\t}else{\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n \t\treturn tickets;\n \t}\n}\n// ----------------------------\npublic class testtc {\n\tpublic static void main(string[] args) throws interruptedexception, executionexception  {\n\t\ttcallable tc = new tcallable();\n\t\t\n\t\tfuturetask ft1 = new futuretask(tc);\n\t\tthread t1 = new thread(ft1,"çªå£1");\n\t\t\n\t\tfuturetask ft2 = new futuretask(tc);\n\t\tthread t2 = new thread(ft2,"çªå£2");\n\t\t\n\t\tfuturetask ft3 = new futuretask(tc);\n\t\tthread t3 = new thread(ft3,"çªå£3");\n\t\t\n\t\tfuturetask ft4 = new futuretask(tc);\n\t\tthread t4 = new thread(ft4,"çªå£4");\n\t\t\n\t\tfuturetask ft5 = new futuretask(tc);\n\t\tthread t5 = new thread(ft5,"çªå£5");\n\t\t\n\t\tfuturetask ft6 = new futuretask(tc);\n\t\tthread t6 = new thread(ft6,"çªå£6");\n\t\t\n\t\tdamonthread d2 = new damonthread();\n\t\tthread t9 = new thread(d2,"å®æ¤çº¿ç¨");\n\t\tt9.setdaemon(true);\n\t\tsystem.out.println("çº¿ç¨t9æ¯å¦æ¯å®æ¤çº¿ç¨:" + t9.isdaemon());\n\t\tt9.start();\n\t\t\n\t\tt1.setpriority(1);\n\t\tt1.start();\n\t\tt2.setpriority(1);\n\t\tt2.start();\n\t\tt3.setpriority(9);\n\t\tt3.start();\n\t\tt4.setpriority(3);\n\t\tt4.start();\n\t\tt5.setpriority(3);\n\t\tt5.start();\n\t\tt5.join();\t\t//join(ï¼åé¢ççº¿ç¨å¨æ­¤çº¿ç¨ç»æåæä¼è¿è¡\n\t\tt6.setpriority(9);\n\t\tt6.start();\n\t\t\n\t\tsystem.out.println("t1\\tid:" + t1.getid() + "\\tè¿åç»æï¼" + ft1.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft1.isdone());\n\t\tsystem.out.println("t2\\tid:" + t2.getid() + "\\tè¿åç»æï¼" + ft2.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft2.isdone());\n\t\tsystem.out.println("t3\\tid:" + t3.getid() + "\\tè¿åç»æï¼" + ft3.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft3.isdone());\n\t\tsystem.out.println("t4\\tid:" + t4.getid() + "\\tè¿åç»æï¼" + ft4.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft4.isdone());\n\t\tsystem.out.println("t5\\tid:" + t5.getid() + "\\tè¿åç»æï¼" + ft5.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft5.isdone());\n\t\tsystem.out.println("t6\\tid:" + t6.getid() + "\\tè¿åç»æï¼" + ft6.get() + "\\tä»»å¡æ¯å¦å®æï¼" + ft6.isdone());\n\t}\n}\n\n\npublic class damonthread implements runnable{\n\n\t@override\n\tpublic void run() {\n\t\t// todo auto-generated method stub\n\t\twhile(true){\n\t\t\tsystem.out.println(thread.currentthread().getname() + "è¿è¡");\n\t\t\ttry {\n\t\t\t\tthread.sleep(1);\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t}\n}\n// ----------------------------------------------\npublic class testdt {\n\tpublic static void main(string[] args) throws interruptedexception {\n\t\tdamonthread d1 = new damonthread();\n\t\tthread t1 = new thread(d1,"å®æ¤çº¿ç¨");\n\t\tt1.setdaemon(true);\n\t\tsystem.out.println("çº¿ç¨t1æ¯å¦æ¯å®æ¤çº¿ç¨:" + t1.isdaemon());\n\t\tt1.start();\n\t\t\n\t\tfor (int i = 0; i < 10; i++) {\n\t\t\tthread.sleep(3);\n\t\t\tsystem.out.println(thread.currentthread().getname() + "è¿è¡ä¸­...");\n\t\t}\n\t\t\n\t\t/*while(true){\n\t\t\t\n\t\t}*/\n\t}\n}\n\n\n# å¤çº¿ç¨é\n\n\npublic class test_method implements callable<object> {\n\tprivate int tickets = 100;\n\t@override\n\tpublic object call() throws exception {\n\t\t// todo auto-generated method stub\n\t\twhile(tickets>0){\n\t\t\tsold();\n\t\t}\n\t\treturn tickets;\n\t}\n\t\n\tpublic synchronized void sold(){\n\t\tif (tickets > 0) {\n\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬"\n\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\ttickets--;\n\t\t}\n\t}\n}\n\n\npublic class test_synchronized implements callable<object> {\n\tprivate int tickets = 100;\n\n\t@override\n\tpublic object call() throws exception {\n\t\twhile (true) {\n\t\t\tsynchronized (this) {\n\t\t\t\ttry {\n\t\t\t\t\tthread.sleep(1000);\n\t\t\t\t} catch (interruptedexception e) {\n\t\t\t\t\te.printstacktrace();\n\t\t\t\t}\n\t\t\t\tif (tickets > 0) {\n\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬"\n\t\t\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\t\t\ttickets--;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn tickets;\n\t}\n}\n\n\npublic class test_lock implements callable<object> {\n\tprivate int tickets = 100;\n\tprivate final lock lock = new reentrantlock();\n\n\t@override\n\tpublic object call() throws exception {\n\t\twhile (true) {\n\t\t\tlock.lock();\n\t\t\ttry {\n\t\t\t\tthread.sleep(30);\n\t\t\t\tif (tickets > 0) {\n\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + " åç¬¬"\n\t\t\t\t\t\t\t+ tickets + "å¼ ç¥¨");\n\t\t\t\t\ttickets--;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}finally{\n\t\t\t\tlock.unlock();\n\t\t\t}\n\n\t\t}\n\t\treturn tickets;\n\t}\n}\n\n\npublic class deadlockthread implements callable<object>{\n\tstatic object chopsticks1 = new object();\n\tstatic object chopsticks2 = new object();\n\tprivate boolean flag ;\n\tpublic deadlockthread(boolean flag) {\n\t\tthis.flag = flag;\n\t}\n\t@override\n\tpublic object call() throws exception {\n\t\tif(flag==true){\n\t\t\twhile(true){\n\t\t\t\tsynchronized(chopsticks1){\n\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\tget chopsticks1");\n\t\t\t\t\tsynchronized(chopsticks2){\n\t\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\tget chopsticks2");\n\t\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\teating");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\twhile(true){\n\t\t\t\tsynchronized(chopsticks1){\n\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\tget chopsticks1");\n\t\t\t\t\tsynchronized(chopsticks2){\n\t\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\tget chopsticks2");\n\t\t\t\t\t\tsystem.out.println(thread.currentthread().getname() + "\\teating");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n// ---------------\npublic class testdlt {\n\tpublic static void main(string[] args) {\n\t\tdeadlockthread dl1 = new deadlockthread(false);\n\t\tfuturetask ft1 = new futuretask(dl1);\n\t\tthread t1 = new thread(ft1,"p1");\n\t\t\n\t\tdeadlockthread dl2 = new deadlockthread(true);\n\t\tfuturetask ft2 = new futuretask(dl2);\n\t\tthread t2 = new thread(ft2,"p2");\n\t\t\n\t\tt1.start();\n\t\tt2.start();\n\t}\n}\n\n\n// -------------- storageï¼åºå­ï¼ ---------------------\npublic class storage {\n\tprivate int data;\n\tprivate boolean b = false;\n\tint i = 0;\n\t\n\tsynchronized public void put(int num){\n\t\twhile(b == true){\n\t\t\ttry {\n\t\t\t\tthis.wait();\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t\tdata=num;\n\t\tb=true;\n\t\ti++;\n\t\tsystem.out.println(thread.currentthread().getname() +"å¨" + i + "å¤çäº§" + data);\n\t\ttry {\n\t\t\tthread.sleep(100);\n\t\t} catch (interruptedexception e) {\n\t\t\t// todo auto-generated catch block\n\t\t\te.printstacktrace();\n\t\t}finally{\n\t\t\tthis.notify();\n\t\t}\n\t}\n\t\n\tsynchronized public void get(){\n\t\t\twhile(b==false){\n\t\t\t\ttry {\n\t\t\t\t\tthis.wait();\n\t\t\t\t} catch (interruptedexception e) {\n\t\t\t\t\t// todo auto-generated catch block\n\t\t\t\t\te.printstacktrace();\n\t\t\t\t}\n\t\t\t}\n\t\t\tb=false;\n\t\t\tsystem.out.println(thread.currentthread().getname() + "æ¶è´¹" + data);\n\t\t\ttry {\n\t\t\t\tthread.sleep(100);\n\t\t\t} catch (interruptedexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}finally{\n\t\t\t\tthis.notify();\n\t\t\t}\n\t}\n}\n\n// ----------------- producerï¼çäº§èï¼ -------------------\npublic class producer implements runnable {\n\tstorage s = new storage();\n\tprivate int count = 0;\n\n\tpublic producer(storage s) {\n\t\tthis.s = s;\n\t}\n\n\t@override\n\tpublic void run() {\n\n\t\twhile (count < 15) {\n\t\t\ts.put(count++);\n\t\t}\n\t}\n}\n\n// ----------------- consumerï¼æ¶è´¹èï¼ -------------------\npublic class consumer implements runnable {\n\tstorage s = new storage();\n\tprivate int count = 0;\n\n\tpublic consumer(storage s) {\n\t\tthis.s = s;\n\t}\n\n\t@override\n\tpublic void run() {\n\n\t\twhile (count++ < 15) {\n\t\t\ts.get();\n\t\t}\n\t}\n}\n\n// ----------------- æµè¯ç±»å¯å¨ç±» -------------------\npublic class testspd {\n\tpublic static void main(string[] args) {\n\t\tstorage s = new storage();\n\t\t\n\t\tproducer p = new producer(s);\n\t\tconsumer c = new consumer(s);\n\t\t\n\t\tnew thread(p,"çäº§è").start();\n\t\tnew thread(c,"æ¶è´¹è").start();\n\t}\n}\n\n\n# å¸¸ç¨å·¥å·ç±»\n\n\npublic class t_regex {\n\tpublic static void main(string args[]){\n\t\tstring s1 = "1033178928@qq.com";\n\t\tsystem.out.println("æ¯å¦æ¯ä¸ä¸ªqqé®ç®±:" + s1.matches("[0-9]{10,11}@(([a-za-z0-9]-*){1,}\\\\.){1,3}[a-za-z\\\\-]{1,}"));\n\t\t\n\t\tstring s2 = "451221199705303537";\n\t\tsystem.out.println("æ¯å¦æ¯ä¸ä¸ªæ­£ç¡®çèº«ä»½è¯å·ï¼" + s2.matches("[0-9]{18}"));\n\t\n\t\tpattern p=pattern.compile("[0-9]{10,11}@(([a-za-z0-9]-*){1,}\\\\.){1,3}[a-za-z\\\\-]{1,}"); \n\t\tmatcher m =p.matcher("1033178928@qq.com"); \n\t\tboolean b = m.matches();\n\t\tsystem.out.println(b);\n\t\tmatcher m2=p.matcher("10331789@qq.com");\n\t\tb = m2.matches();\n\t\tsystem.out.println(b);\n\t\tmatcher m3=p.matcher("4534545378@qq.com");\n\t\tb = m3.matches();\n\t\tsystem.out.println(b);\n\t\tmatcher m4=p.matcher("1033178928@.com");\n\t\tb = m4.matches();\n\t\tsystem.out.println(b);\n\t}\n}\n\n\npublic class t_method {\n\tpublic static void main(string []args){\n\t\tstring s = new string(" abcdefghijk_lmnopwrstuvwxyz_abcdefghijkl_mnopwrstuvwxyz ");\n\t\t\n\t\tsystem.out.println(s.indexof("stu"));\n\t\tsystem.out.println(s.lastindexof("stu"));\n\t\tsystem.out.println(s.startswith("abcdefg"));\n\t\tsystem.out.println(s.endswith("vwxyz"));\n\t\tsystem.out.println(s.equals(""));\n\t\tsystem.out.println(s.length());\n\t\tsystem.out.println(s.contains("mnopwrst"));\n\t\tsystem.out.println(s.touppercase());\n\t\tsystem.out.println(s.tolowercase());\n\t\tsystem.out.println(s.replace("abcdefghijk_lmnopwrstuvwxyz", "aaa"));\n\t\tstring s_arr[] = s.split("_");\n\t\tfor (int i = 0; i < s_arr.length; i++) {\n\t\t\tif(i != s_arr.length - 1){\n\t\t\t\tsystem.out.print(s_arr[i] + "0.0\\t");\n\t\t\t}else{\n\t\t\t\tsystem.out.println(s_arr[i]);\n\t\t\t}\n\t\t}\n\t\tsystem.out.println(s.substring(18,26));\t\t//18-26çå­ç¬¦\n\t\tsystem.out.println(s.trim());\n\t}\n}\n\n\npublic class t_builder {\n\tpublic static void main(string args[]){\n\t\tsystem.out.println("å¢=======");\n\t\tstringbuilder s1 = new stringbuilder("æç¥äººåç»æç©·å°½");\n\t\tstring s2 = "*";\n\t\tadd(s1,s2);\n\t\tsystem.out.println("å =======");\n\t\tupdate();\n\t\tsystem.out.println("æ¹=======");\n\t\tdelete();\n\t}\n\tpublic static void add(stringbuilder str1,string str2){\n\t\tstr1.append(str2);\n\t\tsystem.out.println("appendæ·»å ç»æï¼" + str1);\n\t\t\n\t\tstr1.insert(4, str2);\n\t\tsystem.out.println("insertæ·»å ç»æï¼" + str1);\n\t}\n\tpublic static void update(){\n\t\tstringbuilder sb = new stringbuilder("apple");\n\t\tsb.setcharat(3, \' \');\n\t\tsystem.out.println("ä¿®æ¹ï¼" + sb);\n\t\t\n\t\tsb.replace(2, 4, "===");\n\t\tsystem.out.println("æ¿æ¢ï¼" + sb);\n\t\t\n\t\tstringbuilder sb1 = new stringbuilder("ä¸æµ·èªæ¥æ°´æ¥èªæµ·ä¸");\n\t\tsystem.out.println( "sb1æ¯å¦æ¯åæ:" + sb1.equals(sb1.reverse()));\n\t\tstringbuilder sb3 = new stringbuilder("ç²çéª°å­å®çº¢è±ï¼å¥éª¨ç¸æåç¥å¦");\n\t\tsystem.out.println("ç¿»è½¬ï¼" + sb1.reverse() + "\\t" + sb3.reverse());\n\t}\n\tpublic static void delete(){\n\t\tstringbuilder sb = new stringbuilder("å¹´å°è½»çï¼æ»ä»¥ä¸ºå¤©ä¸äºæ å¯ä¸ä¸ºã");\n\t\tsb.delete(2, 5);\n\t\tsystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.deletecharat(2);\n\t\tsystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.delete(0, sb.length());\n\t\tsystem.out.println("æ¸ç©ºç¼å²åº:" + sb);\n\t}\n}\n\n\npublic class t_buffer {\n\tpublic static void main(string args[]){\n\t\tsystem.out.println("å¢=======");\n\t\tstringbuffer s1 = new stringbuffer("æç¥äººåç»æç©·å°½");\n\t\tstring s2 = "*";\n\t\tadd(s1,s2);\n\t\tsystem.out.println("å =======");\n\t\tupdate();\n\t\tsystem.out.println("æ¹=======");\n\t\tdelete();\n\t}\n\tpublic static void add(stringbuffer str1,string str2){\n\t\tstr1.append(str2);\n\t\tsystem.out.println("appendæ·»å ç»æï¼" + str1);\n\t\t\n\t\tstr1.insert(4, str2);\n\t\tsystem.out.println("insertæ·»å ç»æï¼" + str1);\n\t}\n\tpublic static void update(){\n\t\tstringbuffer sb = new stringbuffer("apple");\n\t\tsb.setcharat(3, \' \');\n\t\tsystem.out.println("ä¿®æ¹ï¼" + sb);\n\t\t\n\t\tsb.replace(2, 4, "===");\n\t\tsystem.out.println("æ¿æ¢ï¼" + sb);\n\t\t\n\t\tstringbuffer sb1 = new stringbuffer("ä¸æµ·èªæ¥æ°´æ¥èªæµ·ä¸");\n\t\tsystem.out.println( "sb1æ¯å¦æ¯åæ:" + sb1.equals(sb1.reverse()));\n\t\tstringbuffer sb3 = new stringbuffer("ç²çéª°å­å®çº¢è±ï¼å¥éª¨ç¸æåç¥å¦");\n\t\tsystem.out.println("ç¿»è½¬ï¼" + sb1.reverse() + "\\t" + sb3.reverse());\n\t}\n\tpublic static void delete(){\n\t\tstringbuffer sb = new stringbuffer("å¹´å°è½»çï¼æ»ä»¥ä¸ºå¤©ä¸äºæ å¯ä¸ä¸ºã");\n\t\tsb.delete(2, 5);\n\t\tsystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.deletecharat(2);\n\t\tsystem.out.println("å é¤æå®ä½ç½®:" + sb);\n\t\tsb.delete(0, sb.length());\n\t\tsystem.out.println("æ¸ç©ºç¼å²åº:" + sb);\n\t}\n}\n\n\npublic class test {\n\tpublic static void main(string[] args) {\n\t\truntime rt = runtime.getruntime();\n\t\tsystem.out.println("å¤çæºä¸ªæ°ï¼" + rt.availableprocessors() + "ä¸ª");\n\t\tsystem.out.println("ç©ºé²åå­ï¼" + rt.freememory()/1024/1024 + "m");\n\t\tsystem.out.println("æå¤§åå­ï¼" + rt.maxmemory()/1024/1024 + "m");\n\t\t\n\t\ttry {\n\t\t\t\n\t\t\tprocess process = rt.exec("notepad.exe");\n\t\t\tthread.sleep(3000);\n\t\t\tprocess.destroy();\n\t\t\t\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t} catch (interruptedexception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t}\n}\n\n\n// ------------- dateformat -----------\npublic class t_dateformat {\n\tpublic static void main(string[] args) {\n\t\tdate d = new date();\n\t\tdateformat fullformat = dateformat.getdateinstance(dateformat.full);\n\t\tdateformat longformat = dateformat.getdateinstance(dateformat.long);\n\t\tdateformat mediumformat = dateformat.getdatetimeinstance(dateformat.medium, dateformat.medium);\n\t\tdateformat shortformat = dateformat.getdatetimeinstance(dateformat.short, dateformat.short);\n\n\t\tsystem.out.println("å½åæ¥æçå®æ´æ ¼å¼ä¸ºï¼" + fullformat.format(d));\n\t\tsystem.out.println("å½åæ¥æçé¿æ ¼å¼ä¸ºï¼" + longformat.format(d));\n\t\tsystem.out.println("å½åæ¥æçæ®éæ ¼å¼ä¸ºï¼" + mediumformat.format(d));\n\t\tsystem.out.println("å½åæ¥æçç­æ ¼å¼ä¸ºï¼" + shortformat.format(d));\n\t\t\n\t\tsimpledateformat s = new simpledateformat("gyyyyå¹´mmæddæ¥ï¼ä»å¤©æ¯yyyyå¹´ç¬¬då¤©ï¼e");\n\t\tsystem.out.println(s.format(new date()));\n\t}\n}\n\n// ------------- clockãdurationãinstant -----------\npublic class t_time {\n\tpublic static void main(string[] args) {\n\t\t//clock\n\t\tclock c = clock.systemutc();\n\t\tsystem.out.println("utcè½¬æ¢å½åæ¶é´ï¼" + c.instant());\n\t\tsystem.out.println("utcè½¬æ¢æ¯«ç§æ°ï¼" + c.millis());\n\t\t//duration\n\t\tduration d = duration.ofdays(3);\n\t\tsystem.out.println("3å¤©=" + d.tohours() + "æ¶");\n\t\tsystem.out.println("3å¤©=" + d.tominutes() + "å");\n\t\tsystem.out.println("3å¤©=" + d.tomillis() + "ç§");\n\t\t//instant\n\t\tinstant i = instant.now();\n\t\tsystem.out.println("utcå½åæ¶é´ï¼" + i);\n\t\tsystem.out.println("utcå½åæ¶é´+1å°æ¶ï¼" + i.plusseconds(3600));\n\t\tsystem.out.println("utcå½åæ¶é´-1å°æ¶ï¼" + i.minusseconds(3600));\t\t\n\t}\n}  \n\n// ------------- calendar -----------\npublic class test {\n\tpublic static void main(string[] args) {\n\t\tdate d1 = new date();\n\t\tdate d2 = new date(system.currenttimemillis() + 1000);\n\t\tsystem.out.println(d1);\n\t\tsystem.out.println(d2);\n\t\t\n\t\t//å¾å°å½åå¹´ æ æ¥ æ¶ å ç§\n\t\tcalendar cr = calendar.getinstance();\n\t\tint year = cr.get(calendar.year);\n\t\tint month = cr.get(calendar.month)+ 1;\n\t\tint date = cr.get(calendar.date);\n\t\tint hour = cr.get(calendar.hour);\n\t\tint minute = cr.get(calendar.minute);\n\t\tint second = cr.get(calendar.second);\t\t\n\t\tsystem.out.println("å½åæ¶é´" + year + "å¹´" + month + "æ" + date + "æ¥\\t" + hour + ":" + minute + ":" + second );\n\t\n\t\t//è®¾ç½®æ¥æ+100å¤©\n\t\tcalendar cr2 = calendar.getinstance();\n\t\tcr2.set(2019, 6, 6);\n\t\tcr2.add(calendar.date, 100);\n\t\tint y = cr2.get(calendar.year);\n\t\tint m = cr2.get(calendar.month);\n\t\tint d = cr2.get(calendar.date);\n\t\tsystem.out.println("è®¡åå®ææ¶é´æ¯ï¼" + y + "å¹´" + m + "æ" + d +"æ¥");\n\t\t\n\t\t//å®¹éæ¨¡å¼ä¸éå®¹éæ¨¡å¼\n\t\tcalendar ca = calendar.getinstance();\n\t\tca.set(calendar.month, 13);\n\t\tsystem.out.println(ca.gettime());\n\t\t/*ca.setlenient(false);\n\t\tca.set(calendar.month, 13);\n\t\tsystem.out.println(ca.gettime());*/\n\t}\n}\n\n\n// --------------- arraycopy ----------------------------\npublic class t_arraycopy {\n\tpublic static void main(string[] args) {\n\t\tint []srcarry = {100,101,102,103,104,105,106,107,108};\n\t\tint []desarray = {1,2,3,4,5};\n\t\tsystem.arraycopy(srcarry, 3, desarray, 0, desarray.length);\n\t\tfor (int i = 0; i < desarray.length; i++) {\n\t\t\tsystem.out.println(i + ":" + desarray[i]);\n\t\t}\n\t}\n}\n// --------------- currenttimemillis ----------------------------\npublic class t_currenttimemillis {\n\tpublic static void main(string[] args) {\n\t\tlong s_time = system.nanotime();\n\t\tlong starttime = system.currenttimemillis();\n\t\tint s = 0;\n\t\tfor (int i = 0; i < 1000000; i++) {\n\t\t\ts=s+1;\n\t\t}\n\t\tlong endtime = system.currenttimemillis();\n\t\tlong e_time = system.nanotime();\n\n\t\tsystem.out.println("è¿è¡æ¶é´ï¼" + (endtime-starttime) + "ms");\n\t\tsystem.out.println("è¿è¡æ¶é´ï¼" + (e_time-s_time) + "æ¯«å¾®ç§");\n\t}\n}\n// --------------- getproperties ----------------------------\npublic class t_getproperties {\n\tpublic static void main(string[] args) {\n\t\tproperties properties = system.getproperties();\n\t\tsystem.out.println(properties);\n\t\t\n\t\tset<string>propertynames = properties.stringpropertynames();\n\t\tfor (string key : propertynames) {\n\t\t\tstring value = system.getproperty(key);\n\t\t\tsystem.out.println(key + "---" + value);\n\t\t}\n\t}\n}\n\n\npublic class t_list {\n\tpublic static void main(string[] args) {\n\t\tarraylist<string> list = new arraylist<string>();\n\t\tlist.add("eve");\n\t\tlist.add("mark");\n\t\tlist.add("rose");\n\t\tlist.add("rose");\n\t\tsystem.out.println(list);\n\n\t\tsystem.out.println("ç¬¬ä¸ä¸ªåç´ ï¼" + list.get(2));\n\t\tsystem.out.println("é¿åº¦ï¼" + list.size());\n\t\tsystem.out.println("å é¤ç¬¬åä¸ªåç´ " + list.remove(3));\n\n\t\t//foreachéå\n\t\tfor (string str : list) {\n\t\t\tsystem.out.print(str + " ");\n\t\t}\n\t\tsystem.out.println();\n\n\t\tlinkedlist<string> ll = new linkedlist<string>();\n\t\tll.addall(list);\t//ælistéåå å¥llä¸­\n\t\tll.add("john");\n\t\tll.addfirst("john");\n\n\t\t//iteratoréå\n\t\titerator<string> it = ll.iterator();\n\t\tsystem.out.print("iteraroréå:");\n\t\twhile(it.hasnext()) {\n\t\t\tstring str = (string)(it.next());\n\t\t\tsystem.out.print(str + " ");\n\t\t}\n\t\tsystem.out.println();\n\t\t\n\t\t//jdk8 foreachéåè¿­ä»£å¨å¯¹è±¡\n\t\tll.removefirst();\n\t\titerator<string> it1 = ll.iterator();\n\t\tit1.foreachremaining(obj -> system.out.print("\\tè¿­ä»£éååç´ ï¼" + obj));\n\t\tsystem.out.println();\n\t\t\n\t\t//éåè¿­ä»£éå\n\t\tsystem.out.print("éåè¿­ä»£éåï¼");\n\t\tlistiterator<string> li = ll.listiterator(ll.size());\n\t\twhile(li.hasprevious()){\n\t\t\tstring str = (string)li.previous();\n\t\t\tsystem.out.print(str + " ");\n\t\t}\n\t}\n}\n\n\npublic class t_vector {\n\tpublic static void main(string[] args) {\n\t\tt_vector t = new t_vector();\n\t\tvector<string> v = new vector<string>();\n\t\tv.add("10086");\n\t\tv.add("10087");\n\t\tv.add("10088");\n\t\tv.add("10089");\n\t\tt.printset2(v);\n\t}\n\n\tpublic void printset2(vector<string> hs) {\n        enumeration<string> elements = hs.elements();\n        while (elements.hasmoreelements()) {\n            system.out.println(elements.nextelement());\n        }\n    }\n}\n\n\n// -----------------------ç¬¬ä¸ç§ï¼å®ç°comparableæ¥å£ -------------------------\npublic class student implements comparable<object>{\n\tprivate string name;\n\tprivate byte age;\n\tprivate string id;\n\tpublic student(string name, byte age, string id) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.id = id;\n\t}\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "å§åï¼" + name + "å¹´é¾ï¼" + age + "å­¦å·ï¼" + id;\n\t}\n\t@override\n\tpublic int compareto(object obj) {\n\t\t// todo auto-generated method stub\n\t\tstudent student = (student)obj;\n\t\t/*if(this.age>student.age){\n\t\t\treturn 1;\n\t\t}else if(this.age==student.age){\n\t\t\treturn this.name.compareto(student.name);\n\t\t}else{\n\t\t\treturn -1;\n\t\t}*/\n\t\tif(this.name.equals(student.name)){\n\t\t\treturn this.age-student.age;\n\t\t}else{\n\t\t\treturn this.name.compareto(student.name);\n\t\t}\n\t}\n}\n\n// -----------------------ç¬¬äºç§ï¼comparatorï¼èªå®ä¹æ¯è¾å¨ï¼ -------------------------\npublic class mycomparator implements comparator<object>{\n\t@override\n\tpublic int compare(object obj1, object obj2) {\n\t\t// todo auto-generated method stub\n\t\tstudents students1 = (students)obj1;\n\t\tstudents students2 = (students)obj2;\n\t\t/*if(students1.age>students2.age){\n\t\t\treturn 1;\n\t\t}else if(students1.age==students2.age){\n\t\t\treturn students1.name.compareto(students2.name);\n\t\t}else{\n\t\t\treturn -1;\n\t\t}*/\n\t\tif(students1.name.equals(students2.name)){\n\t\t\treturn students2.age-students1.age;\n\t\t}else{\n\t\t\treturn students1.name.compareto(students2.name);\n\t\t}\n\t}\n}\n\npublic class students {\n\tstring name;\n\tbyte age;\n\tstring id;\n\tpublic students(string name, byte age, string id) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t\tthis.id = id;\n\t}\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn "å§åï¼" + name + "å¹´é¾ï¼" + age + "å­¦å·ï¼" + id;\n\t}\n\t@override\n\tpublic boolean equals(object obj) {\n\t\t// todo auto-generated method stub\n\t\tif(this == obj){\n\t\t\treturn true; \n\t\t}\n\t\tif(obj instanceof students){\n\t\t\tif(this.id.equals(((students) obj).id)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t@override\n\tpublic int hashcode() {\n\t\t// todo auto-generated method stub\n\t\treturn id.hashcode();\n\t}\n}\n\n// --------------------- æµè¯ç±» -----------------------------\npublic class test {\n\tpublic static void main(string[] args) {\n\t\t// todo auto-generated method stub\n\t\thashset<student> hs = new hashset<student>();\n\t\tstudent s1 = new student("aaa", (byte) 20, "10086");\n\t\tstudent s2 = new student("bbb", (byte) 23, "10087");\n\t\tstudent s3 = new student("ccc", (byte) 21, "10088");\n\t\tstudent s4 = new student("aaa", (byte) 19, "10089");\n\t\ths.add(s1);\n\t\ths.add(s2);\n\t\ths.add(s3);\n\t\ths.add(s4);\n\t\ths.foreach(str -> system.out.println(str));\n\t\t// system.out.println(hs);\n\t\tsystem.out.println();\n\n\t\thashset<students> hst = new hashset<students>();\n\t\tstudents s5 = new students("aaa", (byte) 20, "10086");\n\t\tstudents s6 = new students("bbb", (byte) 23, "10087");\n\t\tstudents s7 = new students("ccc", (byte) 21, "10088");\n\t\tstudents s8 = new students("aaa", (byte) 19, "10089");\n\t\thst.add(s5);\n\t\thst.add(s6);\n\t\thst.add(s7);\n\t\thst.add(s8);\n\t\thst.foreach(str -> system.out.println(str));\n\n\t\ttreeset<student> ts2 = new treeset<student>();\n\t\t// ä¸å®ç°comparatableæ¶ä¸å¯æåº è¿è¡æ¶éè¯¯\n\t\tts2.add(s1);\n\t\tts2.add(s2);\n\t\tts2.add(s3);\n\t\tts2.add(s4);\n\t\t//system.out.println(ts2);\n\t\tsystem.out.println("comparableï¼æå§å-å¹´é¾æåº");\n\t\titerator<student> it2 = ts2.iterator();\n\t\tit2.foreachremaining(stu->system.out.println(stu + ""));\n\n\t\ttreeset<students> ts = new treeset<students>(new mycomparator());\n\t\tts.add(s5);\n\t\tts.add(s6);\n\t\tts.add(s7);\n\t\tts.add(s8);\n\t\t//system.out.println(ts);\n\t\tsystem.out.println("comparatorï¼æå§å-å¹´é¾æåº");\n\t\titerator<students> it = ts.iterator();\n\t\tit.foreachremaining(stu->system.out.println(stu + " "));\n\t}\n}\n\n\npublic class t_map {\n\tpublic static void main(string[] args) {\n\t\tmap<string, string> map = new hashmap<string, string>();\n\t\tmap.put("aaa", "987654321");\n\t\tmap.put("bbb", "87654321");\n\t\tmap.put("ccc", "7654321");\n\t\tmap.put("ddd", "654321");\n\t\tmap.put("bbb", "54321");\n\t\t// è¿­ä»£å¨éå\n\t\tsystem.out.println("è¿­ä»£å¨éåï¼");\n\t\tset keyset = map.keyset();\n\t\titerator it = keyset.iterator();\n\t\twhile (it.hasnext()) {\n\t\t\tobject key = it.next();\n\t\t\tobject value = map.get(key);\n\t\t\tsystem.out.print(key + "=" + value +"\\t");\n\t\t}\n\t\tsystem.out.println();\n\t\t// system.out.println(map);\n\n\t\tif (map.containskey("aaa") && map.get("aaa").equals("987654321")) {\n\t\t\tsystem.out.println("ç¨æ·å­å¨ä¸å¯ç æ­£ç¡®");\n\t\t}else{\n\t\t\tsystem.out.println("ç¨æ·åæå¯ç ä¸æ­£ç¡®");\n\t\t}\n\n\t\tsystem.out.println(map.keyset());\n\t\tsystem.out.println(map.values());\n\n\t\tmap.replace("bbb", "876543210");\n\t\t//foreachéå\n\t\tsystem.out.println("foreachéåï¼");\n\t\tmap.foreach((k,v)->system.out.println(k + "=" +v));\n\n\t\tmap.remove("aaa");\n\t\tsystem.out.println("entrysetæ¹æ³ï¼");\n\t\tset entryset = map.entryset();\n\t\titerator it2 = keyset.iterator();\n\t\twhile (it2.hasnext()) {\n\t\t\tobject key = it2.next();\n\t\t\tobject value = map.get(key);\n\t\t\tsystem.out.print(key + "=" + value +"\\t");\n\t\t}\n\t\tsystem.out.println();\n\t\tcollection<string> values = map.values();\n\t\tvalues.foreach(value->system.out.print(value + "    "));\n\t\t\n\t\tsystem.out.println();\n\t\t//ææ¾çé¡ºåºè¾åº\n\t\tmap map2 = new linkedhashmap();\n\t\t//map2.putall(map);\n\t\tmap2.put("aaa", "987654321");\n\t\tmap2.put("bbb", "87654321");\n\t\tmap2.put("ccc", "7654321");\n\t\tmap2.put("ddd", "654321");\n\t\tmap2.put("bbb", "54321");\n\t\tmap2.foreach((k,v)->system.out.println(k + ":" +v));\n\t}\n}\n\n\npublic class t_collections {\n\tpublic static void main(string[] args) {\n\t\tstudent stu[] = new student[3];\n\t\tstu[0] = new student("aaa",(byte)20,"10086");\n\t\tstu[1] = new student("bbb",(byte)19,"10087");\n\t\tstu[2] = new student("ccc",(byte)21,"70088");\n\t\tlist<student> lt = new linkedlist<student>();\n\t\tlt.add(stu[0]);\n\t\tlt.add(stu[1]);\n\t\tlt.add(stu[2]);\n\t\tlt.foreach(i->system.out.println(i));\n\t\t\n\t\tsystem.out.println("æåºåï¼");\n\t\tcollections.sort(lt);\t\t\t\t\t\t\t//å®ç°æ¯è¾å¨ï¼èªç¶æåºæå®å¶æåºï¼\n\t\tlt.foreach(i->system.out.println(i));\n\t\t\n\t\tsystem.out.println("äºåæ¥æ¾ï¼");\n\t\tstudent s = new student("ccc",(byte)21,"10087");\t\t//ä¸ºä»ä¹ååè½¬æä¸¤ä¸ªæ¥ä¸å°ï¼ï¼ï¼\n\t\tint index = collections.binarysearch(lt,s,null);\n\t\tsystem.out.println(index);\n\t\t\n\t\tsystem.out.println("åè½¬åï¼");\n\t\tcollections.reverse(lt);\n\t\tlt.foreach(i->system.out.println(i));\n\t\t\n\t\t//system.out.println(lt);\n\t\t/*iterator it = lt.iterator();\n\t\twhile(it.hasnext()){\n\t\t\tobject obj = it.next();\n\t\t\tsystem.out.println(obj);\n\t\t}*/\n\t}\n}\n\n\npublic class t_arrays {\n\tpublic static void main(string[] args) {\n\t\tstring arr[] = {"h","l","a","h","b"};\n\t\t//æåº\n\t\tsystem.out.println("æåºï¼");\n\t\tarrays.sort(arr);\n\t\tsystem.out.println(arrays.tostring(arr));\n\t\t\n\t\t//äºåæ¥æ¾\n\t\tsystem.out.println("äºåæ¥æ¾ï¼");\n\t\tint index = arrays.binarysearch(arr, "l");\n\t\tsystem.out.println("lçä½ç½®ï¼" + index);\n\t\t\n\t\t//æå°\n\t\tsystem.out.println("æå°æ°ç»ï¼");\n\t\tsystem.out.println(arr);\n\t\tstring str = arrays.tostring(arr);\n\t\tsystem.out.println(str);\n\t\t\n\t\t//æ ¹æ®æ°ç»åå»ºarraylist\n\t\tsystem.out.println("æ ¹æ®æ°ç»åå»ºarraylist:");\n\t\tarraylist al = new arraylist(arrays.aslist(arr));\n\t\tsystem.out.println(al);\n\t\t\n\t\t//æ£æ¥æ°ç»æ¯å¦åå«æä¸ªå¼\n\t\tsystem.out.println("æ£æ¥æ°ç»æ¯å¦åå«æä¸ªå¼:");\n\t\tboolean b = al.contains("lh");\n\t\tsystem.out.println(b);\n\t}\n}\n\n\nclass cachepool2<t>{\n\t\tt temp;\n\t\tpublic t gettemp() {\n\t\t\treturn temp;\n\t\t}\n\t\tpublic void settemp(t temp) {\n\t\t\tthis.temp = temp;\n\t\t}\n\t}\npublic class t_cachepool {\n\tpublic static void main(string[] args) {\n\t\tstudent stu = new student("åå­",(byte)20,"10086");\n\t\tcachepool2 c = new cachepool2();\n\t\tc.settemp(stu);\n\t\tsystem.out.println(c.gettemp());\n\t\tc.settemp("this is an apple!");\n\t\tsystem.out.println(c.gettemp());\n\t}\n}\n\n\n# java stream\n\nä½ç¨\n\n 1. å¯¹æ°ç»ãcollection ç­éåç±»ä¸­çåç´ è¿è¡æä½\n\nç®åå®ä¾\n\n> éæ±ï¼ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n\n/**\n * ãå¸¸è§æ¹å¼ã\n * ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n *\n * @param sentence ç»å®çå¥å­ï¼çº¦å®éç©ºï¼ä¸åè¯ä¹é´ä»ç±ä¸ä¸ªç©ºæ ¼åé\n * @return ååºè¾åºç¬¦åæ¡ä»¶çåè¯åè¡¨\n */\npublic list<string> sortgettop3longwords(@notnull string sentence) {\n    // ååå²å¥å­ï¼è·åå·ä½çåè¯ä¿¡æ¯\n    string[] words = sentence.split(" ");\n    list<string> wordlist = new arraylist<>();\n    // å¾ªç¯å¤æ­åè¯çé¿åº¦ï¼åè¿æ»¤åºç¬¦åé¿åº¦è¦æ±çåè¯\n    for (string word : words) {\n        if (word.length() > 5) {\n            wordlist.add(word);\n        }\n    }\n    // å¯¹ç¬¦åæ¡ä»¶çåè¡¨æç§é¿åº¦è¿è¡æåº\n    wordlist.sort((o1, o2) -> o2.length() - o1.length());\n    // å¤æ­listç»æé¿åº¦ï¼å¦æå¤§äº3åæªååä¸ä¸ªæ°æ®çå­listè¿å\n    if (wordlist.size() > 3) {\n        wordlist = wordlist.sublist(0, 3);\n    }\n    return wordlist;\n}\n\n\n/**\n * ãstreamæ¹å¼ã\n * ä»ç»å®å¥å­ä¸­è¿ååè¯é¿åº¦å¤§äº5çåè¯åè¡¨ï¼æé¿åº¦ååºè¾åºï¼æå¤è¿å3ä¸ª\n *\n * @param sentence ç»å®çå¥å­ï¼çº¦å®éç©ºï¼ä¸åè¯ä¹é´ä»ç±ä¸ä¸ªç©ºæ ¼åé\n * @return ååºè¾åºç¬¦åæ¡ä»¶çåè¯åè¡¨\n */\npublic list<string> sortgettop3longwordsbystream(@notnull string sentence) {\n    return arrays.stream(sentence.split(" "))\n            .filter(word -> word.length() > 5)\n            .sorted((o1, o2) -> o2.length() - o1.length())\n            .limit(3)\n            .collect(collectors.tolist());\n}\n\n\nstream ä½¿ç¨ ä¸ spark rdd ä½¿ç¨æäºè®¸ç±»ä¼¼ï¼\n\n 1. åå»º stream\n\n> ä¸»è¦è´è´£æ°å»ºä¸ä¸ª stream æµï¼æèåºäºç°æçæ°ç» listãsetãmap ç­éåç±»åå¯¹è±¡åå»ºåºæ°çstreamæµã\n\napi                åè½è¯´æ\nstream()           åå»ºåºä¸ä¸ªæ°çstreamä¸²è¡æµå¯¹è±¡\nparallelstream()   åå»ºåºä¸ä¸ªå¯å¹¶è¡æ§è¡çstreamæµå¯¹è±¡\nstream.of()        éè¿ç»å®çä¸ç³»ååç´ åå»ºä¸ä¸ªæ°çstreamä¸²è¡æµå¯¹è±¡\n\n 2. è½¬æ¢ç®å­\n\n> è´è´£å¯¹ stream è¿è¡å¤çæä½ï¼å¹¶è¿åä¸ä¸ªæ°ç stream å¯¹è±¡ï¼ä¸­é´ç®¡éæä½å¯ä»¥è¿è¡å å ã\n> \n>  1. æ ç¶æï¼statelessï¼æä½ï¼æåç´ çå¤çä¸åä¹ååç´ çå½±å\n>  2. æç¶æï¼statefulï¼æä½ï¼æè¯¥æä½åªææ¿å°ææåç´ ä¹åæè½ç»§ç»­ä¸å»\n\napi           åè½è¯´æ\nfilter()      1æç§æ¡ä»¶è¿æ»¤ç¬¦åè¦æ±çåç´ ï¼ è¿åæ°çstreamæµ\nmap()         1å°å·²æåç´ è½¬æ¢ä¸ºå¦ä¸ä¸ªå¯¹è±¡ç±»åï¼ä¸å¯¹ä¸é»è¾ï¼è¿åæ°çstreamæµ\nflatmap()     å°å·²æåç´ è½¬æ¢ä¸ºå¦ä¸ä¸ªå¯¹è±¡ç±»åï¼ä¸å¯¹å¤é»è¾ï¼å³åæ¥ä¸ä¸ªåç´ å¯¹è±¡å¯è½ä¼è½¬æ¢ä¸º1ä¸ªæèå¤ä¸ªæ°ç±»åçåç´ ï¼è¿åæ°çstreamæµ\nlimit()       2ä»ä¿çéååé¢æå®ä¸ªæ°çåç´ ï¼è¿åæ°çstreamæµ\nskip()        2è·³è¿éååé¢æå®ä¸ªæ°çåç´ ï¼è¿åæ°çstreamæµ\nconcat()      å°ä¸¤ä¸ªæµçæ°æ®åå¹¶èµ·æ¥ä¸º1ä¸ªæ°çæµï¼è¿åæ°çstreamæµ\ndistinct()    2å¯¹streamä¸­ææåç´ è¿è¡å»éï¼è¿åæ°çstreamæµ\nsorted()      2å¯¹streamä¸­ææçåç´ æç§æå®è§åè¿è¡æåºï¼è¿åæ°çstreamæµ\npeek()        1å¯¹streamæµä¸­çæ¯ä¸ªåç´ è¿è¡éä¸ªéåå¤çï¼è¿åå¤çåçstreamæµ\nunordered()   1æç¡®å°å¯¹æµè¿è¡å»é¤æåºçº¦æå¯ä»¥æ¹åæäºæç¶ææç»ç«¯æä½çå¹¶è¡æ§è½ã\n\n 3. ç»æ­¢stream\n\n> éè¿ç»æ­¢ç®¡éæä½ä¹åï¼stream æµå°ä¼ç»æï¼æåå¯è½ä¼æ§è¡æäºé»è¾å¤çï¼æèæ¯æç§è¦æ±è¿åæäºæ§è¡åçç»ææ°æ®ã\n> \n>  1. ç­è·¯ï¼short-circuitingï¼æä½ï¼æéå°æäºç¬¦åæ¡ä»¶çåç´ å°±å¯ä»¥å¾å°æç»ç»æ\n>  2. éç­è·¯ï¼unshort-circuitingï¼æä½ï¼æå¿é¡»å¤çå®ææåç´ æè½å¾å°æç»ç»æ\n\napi                åè½è¯´æ\ncount()            2è¿åstreamå¤çåæç»çåç´ ä¸ªæ°\nmax()              2è¿åstreamå¤çåçåç´ æå¤§å¼\nmin()              2è¿åstreamå¤çåçåç´ æå°å¼\nfindfirst()        1æ¾å°ç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çåç´ æ¶åç»æ­¢æµå¤ç\nfindany()          1æ¾å°ä»»ä½ä¸ä¸ªç¬¦åæ¡ä»¶çåç´ æ¶åéåºæµå¤çï¼è¿ä¸ªå¯¹äºä¸²è¡æµæ¶ä¸findfirstç¸åï¼å¯¹äºå¹¶è¡æµæ¶æ¯è¾é«æï¼ä»»ä½åçä¸­æ¾å°é½ä¼ç»æ­¢åç»­è®¡ç®é»è¾\nanymatch()         1è¿åä¸ä¸ªbooleanå¼ï¼ç±»ä¼¼äºiscontains(),ç¨äºå¤æ­æ¯å¦æç¬¦åæ¡ä»¶çåç´ \nallmatch()         1è¿åä¸ä¸ªbooleanå¼ï¼ç¨äºå¤æ­æ¯å¦ææåç´ é½ç¬¦åæ¡ä»¶\nnonematch()        1è¿åä¸ä¸ªbooleanå¼ï¼ ç¨äºå¤æ­æ¯å¦ææåç´ é½ä¸ç¬¦åæ¡ä»¶\ncollect()          2å°æµè½¬æ¢ä¸ºæå®çç±»åï¼éè¿collectorsè¿è¡æå®\nreduce()           2åå¹¶æµçåç´ å¹¶äº§çåä¸ªå¼ã\ntoarray()          2å°æµè½¬æ¢ä¸ºæ°ç»\niterator()         å°æµè½¬æ¢ä¸ºiteratorå¯¹è±¡\nforeach()          2æ è¿åå¼ï¼å¯¹åç´ è¿è¡éä¸ªéåï¼ç¶åæ§è¡ç»å®çå¤çé»è¾\nforeachordered()   2å¯¹è¯¥æµçæ¯ä¸ªåç´ æ§è¡æä½ï¼å¹¶ææµçéå°é¡ºåºè¿è¡ã\n\n# æä»¶æä½\n\n\npublic class test1 {\n\tpublic static void main(string[] args) {\n\t\t// todo auto-generated method stub\n\t\tfileinputstream fis=null;\n\t\tfileoutputstream fos=null;\n\t\ttry{\n\t\t\tfis = new fileinputstream("file/hello.txt");\n\t\t\tfos = new fileoutputstream("file/helloå¯æ¬.txt",true);\n\t\t\t\n\t\t\tlong start = system.currenttimemillis();\n\t\t\tint b;\n\t\t\twhile((b=fis.read())!=-1){\n\t\t\t\tfos.write(b);\n\t\t\t}\n\t\t\tlong end = system.currenttimemillis();\n\t\t\tsystem.out.println(end-start + " ms");\n\n\t\t}catch(ioexception e){\n\t\t\tsystem.out.println("æ·è´åºé");\n\t\t}finally{\n\t\t\ttry{\n\t\t\t\tif(fos!=null){\n\t\t\t\t\tfos.close();\n\t\t\t\t\tsystem.out.println("å³é­è¾åºæµå¯¹è±¡æå");\n\t\t\t\t}\n\t\t\t}catch(exception e){\n\t\t\t\tsystem.out.println("å³é­è¾åºæµå¯¹è±¡å¤±è´¥");\n\t\t\t}finally{\n\t\t\t\ttry{\n\t\t\t\t\tif(fis!=null){\n\t\t\t\t\t\tfis.close();\n\t\t\t\t\t\tsystem.out.println("å³é­è¾å¥æµå¯¹è±¡æå");\n\t\t\t\t\t}\n\t\t\t\t}catch(exception e){\n\t\t\t\t\tsystem.out.println("å³é­è¾å¥æµå¯¹è±¡å¤±è´¥");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\npublic class test2 {\n\tpublic static void main(string[] args) throws ioexception {\n\t\t// todo auto-generated method stub\n\t\tfileinputstream fis = new fileinputstream("file/è§é¢.mp4");\n\t\tfileoutputstream fos = new fileoutputstream("file/è§é¢å¯æ¬.mp4");\n\t\t\n\t\tbyte buff[] = new byte[8192];\n\t\tlong start = system.currenttimemillis();\n\t\tint len;\n\t\twhile((len=fis.read(buff))!=-1){\n\t\t\tfos.write(buff,0,len);\n\t\t}\n\t\tlong end = system.currenttimemillis();\n\t\tsystem.out.println(end-start + " ms");\n\t\t\n\t\tfos.close();\n\t\tfis.close();\n\t}\n}\n\n\npublic class test3 {\n\tpublic static void main(string[] args) throws exception {\n\t\t// todo auto-generated method stub\n\t\tbufferedinputstream bis = new bufferedinputstream(new fileinputstream("file/ç«.jpg"));\n\t\tbufferedoutputstream bos = new bufferedoutputstream(new fileoutputstream("file/ç«å¯æ¬.jpg"));\n\t\tlong start = system.currenttimemillis();\n\t\tint len;\n\t\twhile((len=bis.read())!=-1){\n\t\t\tbos.write(len);\n\t\t}\n\t\tlong end = system.currenttimemillis();\n\t\tsystem.out.println(end-start + " ms");\n\t\tbos.close();\n\t\tbis.close();\n\t}\n}\n\n\npublic class test4 {\n\tpublic static void main(string[] args) throws ioexception {\n\t\t// todo auto-generated method stub\n\t\tfilereader fr = new filereader("file/ææ¡£.txt");\n\t\tfilewriter fw = new filewriter("file/ææ¡£å¯æ¬.txt");\n\t\tlong start = system.currenttimemillis();\n\t\tint len;\n\t\twhile((len=fr.read())!=-1){\n\t\t\tfw.write(len);\n\t\t}\n\t\tfw.write("\\r\\n");\n\t\tfw.write("ç²çéª°å­");\n\t\tfw.write("å®çº¢è±ï¼\\r\\n");\n\t\tfw.write("å¥éª¨ç¸æ");\n\t\tfw.write("åç¥å¦");\n\t\tlong end = system.currenttimemillis();\n\t\tsystem.out.println(end-start + "ms");\n\t\tfw.close();\n\t\tfr.close();\n\t}\n}\n\n\npublic class test5 {\n\tpublic static void main(string[] args) throws ioexception {\n\t\t// todo auto-generated method stub\n\t\tbufferedreader br = new bufferedreader(new filereader("file/ææ¡£.txt"));\n\n\t\tbufferedwriter bw = new bufferedwriter(new filewriter("file/ææ¡£å¯æ¬1.txt"));\n\t\tlong start = system.currenttimemillis();\n\t\tstring str = null;\n\t\twhile ((str = br.readline()) != null) {\n\t\t\tbw.write(str);\n\t\t\tbw.newline();\n\t\t}\n\t\tlong end = system.currenttimemillis();\n\t\tsystem.out.println(end - start + " ms");\n\t\tbw.close();\n\t\tbr.close();\n\t}\n}\n\n\npublic class test6 {\n\tpublic static void main(string[] args) throws ioexception {\t\t\t//è½¬æ¢æµ\n\t\tfileinputstream fis = new fileinputstream("file/reader.txt");\n\t\tinputstreamreader isr = new inputstreamreader(fis);\n\t\tbufferedreader br = new bufferedreader(isr);\n\t\t\n\t\tfileoutputstream fos = new fileoutputstream("file/writer.txt");\n\t\toutputstreamwriter osr = new outputstreamwriter(fos);\n\t\tbufferedwriter bw = new bufferedwriter(osr);\n\n\t\tstring line=null;\n\t\twhile((line=br.readline())!=null){\n\t\t\tbw.write(line);\n\t\t\tbw.newline();\t\t\t\t\t\t//æ¢è¡\n\t\t\tbw.flush();\t\t\t\t\t\t\t//å·æ°ç¼å²\n\t\t\tif(line.equals("end")){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tbw.close();\n\t\tbw.close();\n\t}\n}\n\n\npublic class test7 {\n\tpublic static void main(string[] args) {\n\n\t\tstudent stu=new student("å­¦ç");\n\t\tdecorator dec = new decorator(stu);\n\t\tsystem.out.println(dec);\n\t\tdec.study();\n\t}\n}\nclass student{\n\tprivate string name;\n\tpublic student(){\n\t\t\n\t}\n\tpublic student(string name) {\n\t\tsuper();\n\t\tthis.name = name;\n\t}\n\tpublic string getname(){\n\t\treturn name;\n\t}\n\tpublic void study(){\n\t\tsystem.out.println("åé¢");\n\t}\n}\nclass decorator{\n\tstudent s = new student();\n\tpublic decorator(student s) {\n\t\tsuper();\n\t\tthis.s = s;\n\t}\n\tpublic void study(){\n\t\ts.study();\n\t\tsystem.out.println("çä¹¦");\n\t}\n\t@override\n\tpublic string tostring() {\n\t\treturn "å§åï¼" + s.getname();\n\t}\n}\n\n\nclass hero implements serializable{\n\tprivate static final long serialversionuid = 1l;\n\tprivate string name;\n\tprivate int hp;\n\tpublic hero(string name, int hp) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.hp = hp;\n\t}\n\tpublic string getname() {\n\t\treturn name;\n\t}\n\tpublic void setname(string name) {\n\t\tthis.name = name;\n\t}\n\tpublic int gethp() {\n\t\treturn hp;\n\t}\n\tpublic void sethp(int hp) {\n\t\tthis.hp = hp;\n\t}\n\t@override\n\tpublic string tostring() {\n\t\t// todo auto-generated method stub\n\t\treturn name + "  " + hp;\n\t}\n}\n\npublic class test8 {\n\tpublic static void main(string[] args) throws ioexception, classnotfoundexception {\n\n\t\tfileoutputstream fos = new fileoutputstream("file/hero.txt",true);\n\t\tobjectoutputstream oos = new objectoutputstream(fos);\n\t\t\n\t\tfileinputstream fis = new fileinputstream("file/hero.txt");\n\t\tobjectinputstream ois = new objectinputstream(fis);\n\t\t\n\t\thero hero = new hero("å¾·é²ä¼",1000);\n\t\tsystem.out.println(hero);\n\t\toos.writeobject(hero);\n\n\t\tfor (int i = 0; i < 5; i++) {\n\t\t\thero.sethp(hero.gethp()-(int)math.floor(math.random()*200));\n\t\t}\n\t\tsystem.out.println(hero);\n\t\t\n\t\thero = (hero)(ois.readobject());\n\t\tsystem.out.println(hero);\n\t\t\n\t\tois.close();\n\t\tfis.close();\n\t\toos.close();\n\t\tfos.close();\n\t}\n}\n\n\n// æ°æ®è¾åºæµåè®¸åºç¨ç¨åºä»¥ä¸æºå¨æ å³æ¹å¼å°javaåºæ¬æ°æ®ç±»ååå°åºå±è¾åºæµ\npublic class test_data_stream {\n\n\tpublic static void main(string[] args) throws exception {\n\t\tfileoutputstream fos = new fileoutputstream("file/ææ¬.txt");\n\t\tdataoutputstream dos = new dataoutputstream(new bufferedoutputstream(fos));\n\n\t\tdos.writebyte(01);\n\t\tdos.writedouble(99.999999);\n\t\tdos.writeint(516546);\n\t\tdos.writeboolean(false);\n\t\tdos.writeutf("é¾é¾");\n\n\t\tdos.close();\n\t\tfos.close();\n\n\t\tfileinputstream fis = new fileinputstream("file/ææ¬.txt");\n\t\tdatainputstream dis = new datainputstream(new bufferedinputstream(fis));\n\n\t\tsystem.out.println(dis.readbyte());\n\t\tsystem.out.println(dis.readdouble());\n\t\tsystem.out.println(dis.readint());\n\t\tsystem.out.println(dis.readboolean());\n\t\tsystem.out.println(dis.readutf());\n\n\t\tdis.close();\n\t\tfis.close();\n\t}\n}\n\n\n// åå¹¶æµï¼å®ä»è¾å¥æµçæåºéåå¼å§ï¼å¹¶ä»ç¬¬ä¸ä¸ªè¾å¥æµå¼å§è¯»åï¼ç´å°å°è¾¾æä»¶æ«å°¾ï¼æ¥çä»ç¬¬äºä¸ªè¾å¥æµè¯»åï¼ä¾æ¬¡ç±»æ¨ï¼ç´å°å°è¾¾åå«çæåä¸ä¸ªè¾å¥æµçæä»¶æ«å°¾ä¸ºæ­¢\npublic class test_sequence {\n\tpublic static void main(string[] args) throws exception {\n\t\t// åå»ºäºä¸¤ä¸ªæµå¯¹è±¡in1ãin2\n\t\tfileinputstream in1 = new fileinputstream("file/stream1.txt");\n\t\tfileinputstream in2 = new fileinputstream("file/stream2.txt");\n\t\t// åå»ºä¸ä¸ªåºåæµï¼åå¹¶ä¸¤ä¸ªå­èæµin1åin2\n\t\tsequenceinputstream sis = new sequenceinputstream(in1, in2);\n\t\tfileoutputstream out = new fileoutputstream("file/stream.txt");\n\t\tint len;\n\t\t// åå»ºä¸ä¸ª1024ä¸ªå­èæ°ç»ä½ä¸ºç¼å²åº\n\t\tbyte[] buf = new byte[1024];\n\t\t// åæ¶ä¸ä¸ªæµï¼\n\t\twhile ((len = sis.read(buf)) != -1) {\n\t\t\tout.write(buf, 0, len); // å°ç¼å²åºä¸­çæ°æ®è¾åº\n\t\t\tout.write("\\r\\n".getbytes());\n\t\t}\n\t\tsis.close();\n\t\tout.close();\n\t}\n}\n\n\n//system.inæ¯inputstream, æ åè¾å¥æµ, é»è®¤å¯ä»¥ä»é®çè¾å¥è¯»åå­èæ°æ®\n//system.outæ¯printstream, æ åè¾åºæµ, é»è®¤å¯ä»¥åconsoleä¸­è¾åºå­ç¬¦åå­èæ°æ®\npublic class test_print1 {\n\tpublic static void main(string[] args) throws ioexception{\n\n\t\t// inputstream();\n\t\tsystem.setin(new fileinputstream("file/in.txt")); // æ¹åæ åè¾å¥æµ\n\t\tsystem.setout(new printstream("file/out.txt")); // æ¹åæ åè¾åºæµ\n\t\tinputstream is = system.in; // è·åæ åçé®çè¾å¥æµï¼é»è®¤æåé®çï¼æ¹ååæåæä»¶\n\t\tprintstream ps = system.out; // è·åæ åçè¾åºæµï¼é»è®¤æåçæ¯æ§å¶å°ï¼æ¹ååå°±æåæä»¶\n\n\t\tint b;\n\t\twhile ((b = is.read()) != -1) {\n\t\t\tps.write(b);\n\t\t}\n\t\tis.close();\n\t\tps.close();\n\t}\n}\n\n// ----------------------------------------------------------------------\n\npublic class test_print2 {\n\tpublic static void main(string[] args) throws exception {\n\t\tsystem.setin(new fileinputstream("file/in.txt"));\t\t//æ¹ååæåæä»¶\n\t\tinputstream is2=system.in;\n\t\tprintstream ps2 = system.out;\n\t\tint b2;\n\t\twhile ((b2 = is2.read()) != -1) {\n\t\t\tps2.write(b2);\n\t\t}\n\t\tps2.close();\n\t\tis2.close();\n\t\t\n\t\t/*system.setout(new printstream("file/out.txt"));\n\t\tinputstream is3=system.in;\n\t\tprintstream ps3 = system.out;\n\t\tint b3;\n\t\twhile ((b3 = is3.read()) != -1) {\n\t\t\tps3.write(b3);\n\t\t}\n\t\tps3.close();\n\t\tis3.close();*/\n\t}\n}\n\n\npublic static void main(string[] args) {\n    try {\n        fileinputstream fis = new fileinputstream("d://java.txt");\n        inputstreamreader isr = new inputstreamreader(fis, "utf-8");\n        int b = 0;\n        while ((b = isr.read()) != -1) {\n            system.out.print((char) b);    // è¾åºç»æä¸ºâcè¯­è¨ä¸­æç½â\n        }\n    } catch (filenotfoundexception e) {\n        // todo auto-generated catch block\n        e.printstacktrace();\n    } catch (ioexception e) {\n        // todo auto-generated catch block\n        e.printstacktrace();\n    }\n}\n\n\nimport java.io.*;\nimport java.net.malformedurlexception;\nimport java.net.url;\n\n/**\n * æä»¶å·¥å·ç±»\n */\npublic class fileutil {\n    /**\n     * è¯»åæä»¶åå®¹\n     *\n     * @param is\n     * @return\n     */\n    public static string readfile(inputstream is) {\n        bufferedreader br = null;\n        stringbuffer sb = new stringbuffer();\n        try {\n            br = new bufferedreader(new inputstreamreader(is, "utf-8"));\n            string readline = null;\n            while ((readline = br.readline()) != null) {\n                sb.append(readline+"\\r\\n");\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            try {\n                br.close();\n                is.close();\n            } catch (ioexception e) {\n                e.printstacktrace();\n            }\n        }\n        return sb.tostring();\n    }\n    /**\n     * @description åæä»¶\n     * @param args\n     * @throws unsupportedencodingexception\n     * @throws ioexception\n     */\n    public static boolean writetxtfile(string content, file filename, string encoding) {\n        fileoutputstream o = null;\n        boolean result=false;\n        try {\n            o = new fileoutputstream(filename);\n            o.write(content.getbytes(encoding));\n            result=true;\n        } catch (filenotfoundexception e) {\n            e.printstacktrace();\n        } catch (unsupportedencodingexception e) {\n            e.printstacktrace();\n        } catch (ioexception e) {\n            e.printstacktrace();\n        } finally {\n            if (o != null) {\n                try {\n                    o.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n\n        return result;\n    }\n    public static string readfile(string path){\n        file file07 = new file(path);\n        inputstream is=null;\n        try {\n            is = new fileinputstream(file07);\n        } catch (filenotfoundexception e) {\n            e.printstacktrace();\n        }\n        return readfile(is);\n    }\n    \n    /**\n     * å¤æ­æå®çæä»¶æ¯å¦å­å¨ã\n     *\n     * @param filename\n     * @return\n     */\n    public static boolean isfileexist(string filename) {\n        return new file(filename).isfile();\n    }\n\n    /**\n     * åå»ºæå®çç®å½ã å¦ææå®çç®å½çç¶ç®å½ä¸å­å¨ååå»ºå¶ç®å½ä¹¦ä¸ææéè¦çç¶ç®å½ã\n     * æ³¨æï¼å¯è½ä¼å¨è¿åfalseçæ¶ååå»ºé¨åç¶ç®å½ã\n     *\n     * @param file\n     * @return\n     */\n    public static boolean makedirectory(file file) {\n        file parent = file.getparentfile();\n        if (parent != null) {\n            return parent.mkdirs();\n        }\n        return false;\n    }\n\n    /**\n     * è¿åæä»¶çurlå°åã\n     *\n     * @param file\n     * @return\n     * @throws malformedurlexception\n     */\n    public static url geturl(file file) throws malformedurlexception {\n        string fileurl = "file:/" + file.getabsolutepath();\n        url url = new url(fileurl);\n        return url;\n    }\n\n    /**\n     * ä»æä»¶è·¯å¾å¾å°æä»¶åã\n     *\n     * @param filepath\n     * @return\n     */\n    public static string getfilename(string filepath) {\n        file file = new file(filepath);\n        return file.getname();\n    }\n\n    /**\n     * ä»æä»¶åå¾å°æä»¶ç»å¯¹è·¯å¾ã\n     *\n     * @param filename\n     * @return\n     */\n    public static string getfilepath(string filename) {\n        file file = new file(filename);\n        return file.getabsolutepath();\n    }\n\n    /**\n     * å°dos/windowsæ ¼å¼çè·¯å¾è½¬æ¢ä¸ºunix/linuxæ ¼å¼çè·¯å¾ã\n     *\n     * @param filepath\n     * @return\n     */\n    public static string tounixpath(string filepath) {\n        return filepath.replace("", "/");\n    }\n\n    /**\n     * ä»æä»¶åå¾å°unixé£æ ¼çæä»¶ç»å¯¹è·¯å¾ã\n     *\n     * @param filename\n     * @return\n     */\n    public static string getunixfilepath(string filename) {\n        file file = new file(filename);\n        return tounixpath(file.getabsolutepath());\n    }\n\n    /**\n     * å¾å°æä»¶åç¼å\n     *\n     * @param filename\n     * @return\n     */\n    public static string getfileext(string filename) {\n        int point = filename.lastindexof(\'.\');\n        int length = filename.length();\n        if (point == -1 || point == length - 1) {\n            return "";\n        } else {\n            return filename.substring(point + 1, length);\n        }\n    }\n\n    /**\n     * å¾å°æä»¶çåå­é¨åã å®éä¸å°±æ¯è·¯å¾ä¸­çæåä¸ä¸ªè·¯å¾åéç¬¦åçé¨åã\n     *\n     * @param filename\n     * @return\n     */\n    public static string getnamepart(string filename) {\n        int point = getpathlastindex(filename);\n        int length = filename.length();\n        if (point == -1) {\n            return filename;\n        } else if (point == length - 1) {\n            int secondpoint = getpathlastindex(filename, point - 1);\n            if (secondpoint == -1) {\n                if (length == 1) {\n                    return filename;\n                } else {\n                    return filename.substring(0, point);\n                }\n            } else {\n                return filename.substring(secondpoint + 1, point);\n            }\n        } else {\n            return filename.substring(point + 1);\n        }\n    }\n\n    /**\n     * å¾å°æä»¶åä¸­çç¶è·¯å¾é¨åã å¯¹ä¸¤ç§è·¯å¾åéç¬¦é½ææã ä¸å­å¨æ¶è¿å""ã\n     * å¦ææä»¶åæ¯ä»¥è·¯å¾åéç¬¦ç»å°¾çåä¸èèè¯¥åéç¬¦ï¼ä¾å¦"/path/"è¿å""ã\n     *\n     * @param filename\n     * @return\n     */\n    public static string getpathpart(string filename) {\n        int point = getpathlastindex(filename);\n        int length = filename.length();\n        if (point == -1) {\n            return "";\n        } else if (point == length - 1) {\n            int secondpoint = getpathlastindex(filename, point - 1);\n            if (secondpoint == -1) {\n                return "";\n            } else {\n                return filename.substring(0, secondpoint);\n            }\n        } else {\n            return filename.substring(0, point);\n        }\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æååºç°çä½ç½®ã å¯¹äºdosæèunixé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param filename\n     * @return\n     */\n    public static int getpathlastindex(string filename) {\n        int point = filename.lastindexof("/");\n        if (point == -1) {\n            point = filename.lastindexof("");\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æå®ä½ç½®åæååºç°çä½ç½®ã å¯¹äºdosæèunixé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param filename\n     * @param fromindex\n     * @return\n     */\n    public static int getpathlastindex(string filename, int fromindex) {\n        int point = filename.lastindexof("/", fromindex);\n        if (point == -1) {\n            point = filename.lastindexof("", fromindex);\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­é¦æ¬¡åºç°çä½ç½®ã å¯¹äºdosæèunixé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param filename\n     * @return\n     */\n    public static int getpathindex(string filename) {\n        int point = filename.indexof("/");\n        if (point == -1) {\n            point = filename.indexof("");\n        }\n        return point;\n    }\n\n    /**\n     * å¾å°è·¯å¾åéç¬¦å¨æä»¶è·¯å¾ä¸­æå®ä½ç½®åé¦æ¬¡åºç°çä½ç½®ã å¯¹äºdosæèunixé£æ ¼çåéç¬¦é½å¯ä»¥ã\n     *\n     * @param filename\n     * @param fromindex\n     * @return\n     */\n    public static int getpathindex(string filename, int fromindex) {\n        int point = filename.indexof("/", fromindex);\n        if (point == -1) {\n            point = filename.indexof("", fromindex);\n        }\n        return point;\n    }\n\n    /**\n     * å°æä»¶åä¸­çç±»åé¨åå»æã\n     *\n     * @param filename\n     * @return\n     */\n    public static string removefileext(string filename) {\n        int index = filename.lastindexof(".");\n        if (index != -1) {\n            return filename.substring(0, index);\n        } else {\n            return filename;\n        }\n    }\n\n    /**\n     * å¾å°ç¸å¯¹è·¯å¾ã æä»¶åä¸æ¯ç®å½åçå­èç¹æ¶è¿åæä»¶åã\n     *\n     * @param pathname\n     * @param filename\n     * @return\n     */\n    public static string getsubpath(string pathname, string filename) {\n        int index = filename.indexof(pathname);\n        if (index != -1) {\n            return filename.substring(index + pathname.length() + 1);\n        } else {\n            return filename;\n        }\n    }\n\n    /**\n     * å é¤ä¸ä¸ªæä»¶ã\n     *\n     * @param filename\n     * @throws ioexception\n     */\n    public static void deletefile(string filename) throws ioexception {\n        file file = new file(filename);\n        if (file.isdirectory()) {\n            throw new ioexception("ioexception -> badinputexception: not a file.");\n        }\n        if (!file.exists()) {\n            throw new ioexception("ioexception -> badinputexception: file is not exist.");\n        }\n        if (!file.delete()) {\n            throw new ioexception("cannot delete file. filename = " + filename);\n        }\n    }\n\n    /**\n     * å é¤æä»¶å¤¹åå¶ä¸é¢çå­æä»¶å¤¹\n     *\n     * @param dir\n     * @throws ioexception\n     */\n    public static void deletedir(file dir) throws ioexception {\n        if (dir.isfile())\n            throw new ioexception("ioexception -> badinputexception: not a directory.");\n        file[] files = dir.listfiles();\n        if (files != null) {\n            for (int i = 0; i < files.length; i++) {\n                file file = files[i];\n                if (file.isfile()) {\n                    file.delete();\n                } else {\n                    deletedir(file);\n                }\n            }\n        }\n        dir.delete();\n    }\n\n    /**\n     * å¤å¶æä»¶\n     *\n     * @param src\n     * @param dst\n     * @throws exception\n     */\n    public static void copy(file src, file dst) throws exception {\n        int buffer_size = 4096;\n        inputstream in = null;\n        outputstream out = null;\n        try {\n            in = new bufferedinputstream(new fileinputstream(src), buffer_size);\n            out = new bufferedoutputstream(new fileoutputstream(dst), buffer_size);\n            byte[] buffer = new byte[buffer_size];\n            int len = 0;\n            while ((len = in.read(buffer)) > 0) {\n                out.write(buffer, 0, len);\n            }\n        } catch (exception e) {\n            throw e;\n        } finally {\n            if (null != in) {\n                try {\n                    in.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n                in = null;\n            }\n            if (null != out) {\n                try {\n                    out.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n                out = null;\n            }\n        }\n    }\n\n    /**\n     * @å¤å¶æä»¶ï¼æ¯æææºæä»¶åå®¹è¿½å å°ç®æ æä»¶æ«å°¾\n     * @param src\n     * @param dst\n     * @param append\n     * @throws exception\n     */\n    public static void copy(file src, file dst, boolean append) throws exception {\n        int buffer_size = 4096;\n        inputstream in = null;\n        outputstream out = null;\n        try {\n            in = new bufferedinputstream(new fileinputstream(src), buffer_size);\n            out = new bufferedoutputstream(new fileoutputstream(dst, append), buffer_size);\n            byte[] buffer = new byte[buffer_size];\n            int len = 0;\n            while ((len = in.read(buffer)) > 0) {\n                out.write(buffer, 0, len);\n            }\n        } catch (exception e) {\n            throw e;\n        } finally {\n            if (null != in) {\n                try {\n                    in.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n                in = null;\n            }\n            if (null != out) {\n                try {\n                    out.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n                out = null;\n            }\n        }\n    }\n}\n\n\n# javax.swingï¼ç¥ï¼å·²ç»å¾å°ä½¿ç¨ï¼\n\n# ç½ç»ç¼ç¨ï¼ç¥ï¼java.netåï¼\n\n\n# æ³¨è§£\n\n# å®ä¹\n\n> javaæ³¨è§£æ¯éå å¨ä»£ç ä¸­çä¸äºåä¿¡æ¯ï¼ç¨äºä¸äºå·¥å·å¨ç¼è¯ãè¿è¡æ¶è¿è¡è§£æåä½¿ç¨ï¼èµ·å°è¯´æãéç½®çåè½ã\n> æ³¨è§£ç¸å³ç±»é½åå«å¨java.lang.annotationåä¸­ã\n\n# jdkåºæ¬æ³¨è§£\n\n 1. @override éå\n 2. @deprecated å·²è¿æ¶\n 3. @suppresswarnings(value = "unchecked") åå¶ç¼è¾å¨è­¦å\n\n# jdkåæ³¨è§£\n\n> åæ³¨è§£ç¨äºä¿®é¥°å¶ä»çæ³¨è§£\n\n/* å®ä¹æ³¨è§£çä¿çç­ç¥ */\n@retention(retentionpolicy.source)             // æ³¨è§£ä»å­å¨äºæºç ä¸­ï¼å¨classå­èç æä»¶ä¸­ä¸åå«\n@retention(retentionpolicy.class)              // é»è®¤çä¿çç­ç¥ï¼æ³¨è§£ä¼å¨classå­èç æä»¶ä¸­å­å¨ï¼ä½è¿è¡æ¶æ æ³è·å¾ï¼\n@retention(retentionpolicy.runtime)            // æ³¨è§£ä¼å¨classå­èç æä»¶ä¸­å­å¨ï¼å¨è¿è¡æ¶å¯ä»¥éè¿åå°è·åå°\n\n\n/* æå®è¢«ä¿®é¥°çannotationå¯ä»¥æ¾ç½®çä½ç½®(è¢«ä¿®é¥°çç®æ ) */\n@target(elementtype.type)                      // ç±»ãæ¥å£ï¼åæ¬æ³¨è§£ç±»åï¼æ enum å£°æ\n@target(elementtype.field)                     // ç¨äºæååéï¼åæ¬æä¸¾å¸¸éï¼\n@target(elementtype.method)                    // æ¹æ³\n@target(elementtype.parameter)                 // æ¹æ³åæ°\n@target(elementtype.constructor)               // æé å½æ°\n@target(elementtype.local_variable)            // å±é¨åé\n@target(elementtype.annotation_type)           // æ³¨è§£\n@target(elementtype.package)                   // å \n\n\n// æå®è¢«ä¿®é¥°çannotationå°å·æç»§æ¿æ§\n\n\n// æå®è¢«ä¿®é¥°çè¯¥annotationå¯ä»¥è¢«javadocå·¥å·æåæææ¡£\n\n\n# èªå®ä¹æ³¨è§£\n\n 1. æ è®°æ³¨è§£ï¼æ²¡æå®ä¹æååéçæ³¨è§£ç±»åè¢«ç§°ä¸ºæ è®°æ³¨è§£ãè¿ç§æ³¨è§£ä»å©ç¨èªèº«çå­å¨ä¸å¦æ¥æä¾ä¿¡æ¯ï¼å¦ @overrideã\n    \n    // å®ä¹ä¸ä¸ªç®åçæ³¨è§£ç±»å\n    public @interface test {\n    \n    }\n    \n\n 2. åæ°æ®æ³¨è§£ï¼åå«æååéçæ³¨è§£ï¼å ä¸ºå®ä»¬å¯ä»¥æ¥åæ´å¤çåæ°æ®ï¼æä»¥ä¹è¢«ç§°ä¸ºåæ°æ®æ³¨è§£ã\n    \n    public @interface mytag {\n        // å®ä¹äºä¸¤ä¸ªæååéçæ³¨è§£\n        // ä½¿ç¨defaultä¸ºä¸¤ä¸ªæååéæå®åå§å¼\n        string name() default "cè¯­è¨ä¸­æç½";\n        int age() default 7;\n    }\n    \n\n# éè¿åå°è·åæ³¨è§£ä¿¡æ¯\n\n@xmlrootelement(name="user")\n@xmlaccessortype(xmlaccesstype.field)\npublic class user {\n \n  private string pwd;\n \n  @xmlelement(name = "id")\n  private int id;\n  \n  @xmlattribute\n  @xmlelement\n  private string name;\n  \n  /***\n   *  1ãè·åå±æ§ä¸çæå®ç±»åçæ³¨é\n   *  2ãè·åå±æ§ä¸çæå®ç±»åçæ³¨éçæå®æ¹æ³\n   *  3ãè·åå±æ§ä¸çæææ³¨é\n   *  4ãè·åç±»ä¸çæææ³¨é\n   *  5ãè·åæ¹æ³ä¸çæææ³¨é\n   */\n  @suppresswarnings("rawtypes")\n  public static void main(string[] args) {\n    \n    field[] fields =  user.class.getdeclaredfields();\n    \n    for(field f : fields){\n      string filedname = f.getname();\n      system.out.println("å±æ§åç§°:ã"+filedname+"ã");\n \n      //1ãè·åå±æ§ä¸çæå®ç±»åçæ³¨é\n      annotation annotation = f.getannotation(xmlelement.class);\n      \n      //æè¯¥ç±»åçæ³¨éå­å¨\n      if (annotation!=null) {\n        //å¼ºå¶è½¬åä¸ºç¸åºçæ³¨é\t\n        xmlelement xmlelement = (xmlelement)annotation;\n        //3ãè·åå±æ§ä¸çæå®ç±»åçæ³¨éçæå®æ¹æ³\n        //å·ä½æ¯ä¸æ¯é»è®¤å¼å¯ä»¥å»æ¥çæºä»£ç \n        if (xmlelement.name().equals("##default")) {\n          system.out.println("å±æ§ã"+filedname+"ãæ³¨éä½¿ç¨çnameæ¯é»è®¤å¼: "+xmlelement.name());\n        }else {\n          system.out.println("å±æ§ã"+filedname+"ãæ³¨éä½¿ç¨çnameæ¯èªå®ä¹çå¼: "+xmlelement.name());\n        }\n      }\n \n      //2ãè·åå±æ§ä¸çæææ³¨é\n      annotation[] allannotations = f.getannotations();\n      \n      for(annotation an : allannotations){\n        \n        class annotationtype = an.annotationtype();\n        \n        system.out.println("å±æ§ã"+filedname+"ãçæ³¨éç±»åæ: " + annotationtype);\n      }\n      system.out.println("----------åä¸½çåå²çº¿--------------");\n    }\n    \n    //4ãè·åç±»ä¸çæææ³¨é\n    annotation[] classannotation = user.class.getannotations();\n    \n    for(annotation cannotation : classannotation){\n      class annotationtype =  cannotation.annotationtype();\n      system.out.println("userç±»ä¸çæ³¨éæ: " +annotationtype);\n    }\n    \n    system.out.println("----------åä¸½çåå²çº¿--------------");\n    \n    // 5ãè·åæ¹æ³ä¸çæææ³¨é\n    method method;\n    try {\n      method = user.class.getmethod("setpwd",string.class);\n      \n      annotation[] methodannotations = method.getannotations();\n \n      for(annotation me : methodannotations){\n        class annotationtype =  me.annotationtype();\n        system.out.println("setpwdæ¹æ³ä¸çæ³¨éæ: " + annotationtype);\n      }\n    } catch (securityexception e) {\n      e.printstacktrace();\n    } catch (nosuchmethodexception e) {\n      e.printstacktrace();\n    }\n  }\n \n  @xmlelement\n  public void setpwd(string pwd) {\n    this.pwd = pwd;\n  }\n \n  public string getpwd() {\n    return pwd;\n  }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/11/08, 23:40:21",lastUpdatedTimestamp:1667922021e3},{title:"è£é¥°èæ¨¡å¼",frontmatter:{title:"è£é¥°èæ¨¡å¼",date:"2022-07-15T08:46:45.000Z",permalink:"/pages/116f8a/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/030.%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/030.è£é¥°èæ¨¡å¼.md",key:"v-8aa2b0da",path:"/pages/116f8a/",headers:[{level:2,title:"è£é¥°èæ¨¡å¼ï¼Decorator Patternï¼",slug:"è£é¥°èæ¨¡å¼-decorator-pattern",normalizedTitle:"è£é¥°èæ¨¡å¼ï¼decorator patternï¼",charIndex:2},{level:4,title:"åå¡è®¢åç³»ç»",slug:"åå¡è®¢åç³»ç»",normalizedTitle:"åå¡è®¢åç³»ç»",charIndex:77},{level:5,title:"ç¬¬ä¸æ¬¡å°è¯",slug:"ç¬¬ä¸æ¬¡å°è¯",normalizedTitle:"ç¬¬ä¸æ¬¡å°è¯",charIndex:87},{level:5,title:"è®¾è®¡",slug:"è®¾è®¡",normalizedTitle:"è®¾è®¡",charIndex:200},{level:5,title:"å³é®ç¹",slug:"å³é®ç¹",normalizedTitle:"å³é®ç¹",charIndex:206},{level:5,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:406},{level:4,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:412},{level:4,title:"Java APIä¸­çè£é¥°èæ¨¡å¼ï¼IOæµï¼",slug:"java-apiä¸­çè£é¥°èæ¨¡å¼-ioæµ",normalizedTitle:"java apiä¸­çè£é¥°èæ¨¡å¼ï¼ioæµï¼",charIndex:3841},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:3865}],headersStr:"è£é¥°èæ¨¡å¼ï¼Decorator Patternï¼ åå¡è®¢åç³»ç» ç¬¬ä¸æ¬¡å°è¯ è®¾è®¡ å³é®ç¹ ç±»å¾ ä»£ç å®ç° Java APIä¸­çè£é¥°èæ¨¡å¼ï¼IOæµï¼ è¦ç¹",content:'# è£é¥°èæ¨¡å¼ï¼Decorator Patternï¼\n\nè£é¥°èæ¨¡å¼ å¨æå°å°è´£ä»»éå å°å¯¹è±¡ä¸ãè¥è¦æ©å±åè½ï¼è£é¥°èæä¾äºæ¯ç»§æ¿æ´æå¼¹æ§çæ¿ä»£æ¹æ¡ã\n\n# åå¡è®¢åç³»ç»\n\n# ç¬¬ä¸æ¬¡å°è¯\n\nBeverageï¼é¥®æï¼ç±»ä½ä¸ºæ½è±¡ç±»ï¼æ¯ä¸ªå­ç±»é½å®ç° Beverage ç±»ä¸­ç costæ¹æ³ãä½ç±äºè´­ä¹°åå¡æ¶ï¼å¯ä»¥åå¶ä¸­å å¥è¸å¥¶ãè±æµç­è°æï¼æä»¥è®¢åç³»ç»éè¦èèå å¥ä¸åè°æçä»·æ ¼ï¼å¯¼è´ç±»åçç¸æ§å¢é¿ã\n\n# è®¾è®¡\n\n# å³é®ç¹\n\n * è£é¥°èåè¢«è£é¥°å¯¹è±¡æç¸åçç¶ç±»ã\n * ä½ å¯ä»¥ç¨ä¸ä¸ªæå¤ä¸ªè£é¥°èåè£ä¸ä¸ªå¯¹è±¡ã\n * æ¢ç¶è£é¥°èåè¢«è£é¥°å¯¹è±¡æç¸åçç¶ç±»ï¼æä»¥å¨ä»»ä½éè¦åå§å¯¹è±¡ï¼è¢«åè£çï¼çåºåï¼å¯ä»¥ç¨è£é¥°è¿çå¯¹è±¡ä»£æ¿å®ã\n * è£é¥°èå¯ä»¥å¨æå§æè¢«è£é¥°èçè¡ä¸ºä¹åä¸ï¼æï¼ä¹åï¼å ä¸èªå·±çè¡ä¸ºï¼ä»¥è¾¾å°ç¹å®çç®çã\n * å¯¹è±¡å¯ä»¥å¨ä»»ä½æ¶åè¢«è£é¥°ï¼æä»¥å¯ä»¥å¨è¿è¡æ¶å¨æå°ãä¸ééå°ç¨ä½ åæ¬¢çè£é¥°èæ¥è£é¥°å¯¹è±¡ã\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\npublic abstract class Beverage {\n    String description = "æªç¥çé¥®æ";\n\n    public String getDescription() {\n        return description;\n    }\n\n    public abstract double cost();\n}\n-------------------------------------------------------\npublic class HouseBlend extends Beverage {\n    public HouseBlend() {\n        description = "HouseBlend";\n    }\n\n    @Override\n    public double cost() {\n        return 1;\n    }\n}\n-------------------------------------------------------\npublic class DarkRoast extends Beverage {\n\n    public DarkRoast() {\n        description = "DarkRoast";\n    }\n\n    @Override\n    public double cost() {\n        return 2;\n    }\n}\n-------------------------------------------------------\npublic class Espresso extends Beverage {\n    public Espresso() {\n        description = "Espresso";\n    }\n\n    @Override\n    public double cost() {\n        return 3;\n    }\n}\n-------------------------------------------------------\npublic class Decaf extends Beverage {\n    public Decaf() {\n        description = "Decaf";\n    }\n\n    @Override\n    public double cost() {\n        return 4;\n    }\n}\n\n\npublic abstract class CondimentDecorator extends Beverage {\n    @Override\n    public String getDescription() {\n        return super.getDescription();\n    }\n}\n-------------------------------------------------------\npublic class Milk extends CondimentDecorator {\n\n    Beverage beverage;\n\n    public Milk(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.1;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + "ï¼Milk";\n    }\n}\n-------------------------------------------------------\npublic class Mocha extends CondimentDecorator {\n\n    Beverage beverage;\n\n    public Mocha(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.2;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + "ï¼Mocha";\n    }\n}\n-------------------------------------------------------\npublic class Soy extends CondimentDecorator {\n\n    Beverage beverage;\n\n    public Soy(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.3;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + "ï¼Soy";\n    }\n}\n-------------------------------------------------------\npublic class Whip extends CondimentDecorator {\n\n    Beverage beverage;\n\n    public Whip(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.4;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + "ï¼Whip";\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Beverage darkRoast = new DarkRoast();\n        darkRoast = new Milk(darkRoast);\n        darkRoast = new Mocha(darkRoast);\n        darkRoast = new Soy(darkRoast);\n\n        System.out.println("ååï¼" + darkRoast.getDescription() + "\\nä»·æ ¼ï¼" + darkRoast.cost());\n\n        Beverage espresso = new Espresso();\n        espresso = new Milk(espresso);\n        espresso = new Whip(espresso);\n\n        System.out.println("ååï¼" + espresso.getDescription() + "\\nä»·æ ¼ï¼" + espresso.cost());\n    }\n}\n\n\n# Java APIä¸­çè£é¥°èæ¨¡å¼ï¼IOæµï¼\n\n# è¦ç¹\n\n * ç»§æ¿å±äºæ©å±å½¢å¼ä¹ä¸ï¼ä½ä¸è§å¾æ¯è¾¾å°å¼¹æ§è®¾è®¡çæä½³æ¹å¼ã\n * å¨æä»¬çè®¾è®¡ä¸­ï¼åºè¯¥åè®¸è¡ä¸ºå¯ä»¥è¢«æ©å±ï¼èæ é¡»ä¿®æ¹ç°æçä»£ç ã\n * ç»ååå§æå¯ç¨äºå¨è¿è¡æ¶å¨æå°å ä¸æ°çè¡ä¸ºã\n * é¤äºç»§æ¿ï¼è£é¥°èæ¨¡å¼ä¹å¯ä»¥è®©æä»¬æ©å±è¡ä¸ºã\n * è£é¥°èæ¨¡å¼æå³çä¸ç¾¤è£é¥°èç±»ï¼è¿äºç±»ç¨æ¥åè£å·ä½ç»ä»¶ã\n * è£é¥°èç±»åæ åºè¢«è£é¥°çç»ä»¶ç±»åï¼äºå®ä¸ï¼ä»ä»¬å·æç¸åçç±»åï¼é½ç»è¿æ¥å£æç»§æ¿å®ç°ï¼ã\n * è£é¥°èå¯ä»¥å¨è¢«è£é¥°èçè¡ä¸ºåé¢ä¸ï¼æï¼åé¢å ä¸èªå·±çè¡ä¸ºï¼çè³å°è¢«è£é¥°èçè¡ä¸ºæ´ä¸ªåä»£æï¼èè¾¾å°ç¹çç®çã\n * ä½ å¯ä»¥ç¨æ æ°ä¸ªè£é¥°èåè£ä¸ä¸ªç»ä»¶ã\n * è£é¥°èä¸è¬å¯¹ç»ä»¶çå®¢æ·æ¯éæçï¼é¤éå®¢æ·ç¨åºä¾èµäºç»ä»¶çå·ä½ç±»åã\n * è£é¥°èä¼å¯¼è´è®¾è®¡ä¸­åºç°è®¸å¤å°å¯¹è±¡ï¼å¦æè¿åº¦ä½¿ç¨ï¼ä¼è®©ç¨åºåå¾å¾å¤æã',normalizedContent:'# è£é¥°èæ¨¡å¼ï¼decorator patternï¼\n\nè£é¥°èæ¨¡å¼ å¨æå°å°è´£ä»»éå å°å¯¹è±¡ä¸ãè¥è¦æ©å±åè½ï¼è£é¥°èæä¾äºæ¯ç»§æ¿æ´æå¼¹æ§çæ¿ä»£æ¹æ¡ã\n\n# åå¡è®¢åç³»ç»\n\n# ç¬¬ä¸æ¬¡å°è¯\n\nbeverageï¼é¥®æï¼ç±»ä½ä¸ºæ½è±¡ç±»ï¼æ¯ä¸ªå­ç±»é½å®ç° beverage ç±»ä¸­ç costæ¹æ³ãä½ç±äºè´­ä¹°åå¡æ¶ï¼å¯ä»¥åå¶ä¸­å å¥è¸å¥¶ãè±æµç­è°æï¼æä»¥è®¢åç³»ç»éè¦èèå å¥ä¸åè°æçä»·æ ¼ï¼å¯¼è´ç±»åçç¸æ§å¢é¿ã\n\n# è®¾è®¡\n\n# å³é®ç¹\n\n * è£é¥°èåè¢«è£é¥°å¯¹è±¡æç¸åçç¶ç±»ã\n * ä½ å¯ä»¥ç¨ä¸ä¸ªæå¤ä¸ªè£é¥°èåè£ä¸ä¸ªå¯¹è±¡ã\n * æ¢ç¶è£é¥°èåè¢«è£é¥°å¯¹è±¡æç¸åçç¶ç±»ï¼æä»¥å¨ä»»ä½éè¦åå§å¯¹è±¡ï¼è¢«åè£çï¼çåºåï¼å¯ä»¥ç¨è£é¥°è¿çå¯¹è±¡ä»£æ¿å®ã\n * è£é¥°èå¯ä»¥å¨æå§æè¢«è£é¥°èçè¡ä¸ºä¹åä¸ï¼æï¼ä¹åï¼å ä¸èªå·±çè¡ä¸ºï¼ä»¥è¾¾å°ç¹å®çç®çã\n * å¯¹è±¡å¯ä»¥å¨ä»»ä½æ¶åè¢«è£é¥°ï¼æä»¥å¯ä»¥å¨è¿è¡æ¶å¨æå°ãä¸ééå°ç¨ä½ åæ¬¢çè£é¥°èæ¥è£é¥°å¯¹è±¡ã\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\npublic abstract class beverage {\n    string description = "æªç¥çé¥®æ";\n\n    public string getdescription() {\n        return description;\n    }\n\n    public abstract double cost();\n}\n-------------------------------------------------------\npublic class houseblend extends beverage {\n    public houseblend() {\n        description = "houseblend";\n    }\n\n    @override\n    public double cost() {\n        return 1;\n    }\n}\n-------------------------------------------------------\npublic class darkroast extends beverage {\n\n    public darkroast() {\n        description = "darkroast";\n    }\n\n    @override\n    public double cost() {\n        return 2;\n    }\n}\n-------------------------------------------------------\npublic class espresso extends beverage {\n    public espresso() {\n        description = "espresso";\n    }\n\n    @override\n    public double cost() {\n        return 3;\n    }\n}\n-------------------------------------------------------\npublic class decaf extends beverage {\n    public decaf() {\n        description = "decaf";\n    }\n\n    @override\n    public double cost() {\n        return 4;\n    }\n}\n\n\npublic abstract class condimentdecorator extends beverage {\n    @override\n    public string getdescription() {\n        return super.getdescription();\n    }\n}\n-------------------------------------------------------\npublic class milk extends condimentdecorator {\n\n    beverage beverage;\n\n    public milk(beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @override\n    public double cost() {\n        return beverage.cost() + 0.1;\n    }\n\n    @override\n    public string getdescription() {\n        return beverage.getdescription() + "ï¼milk";\n    }\n}\n-------------------------------------------------------\npublic class mocha extends condimentdecorator {\n\n    beverage beverage;\n\n    public mocha(beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @override\n    public double cost() {\n        return beverage.cost() + 0.2;\n    }\n\n    @override\n    public string getdescription() {\n        return beverage.getdescription() + "ï¼mocha";\n    }\n}\n-------------------------------------------------------\npublic class soy extends condimentdecorator {\n\n    beverage beverage;\n\n    public soy(beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @override\n    public double cost() {\n        return beverage.cost() + 0.3;\n    }\n\n    @override\n    public string getdescription() {\n        return beverage.getdescription() + "ï¼soy";\n    }\n}\n-------------------------------------------------------\npublic class whip extends condimentdecorator {\n\n    beverage beverage;\n\n    public whip(beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @override\n    public double cost() {\n        return beverage.cost() + 0.4;\n    }\n\n    @override\n    public string getdescription() {\n        return beverage.getdescription() + "ï¼whip";\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        beverage darkroast = new darkroast();\n        darkroast = new milk(darkroast);\n        darkroast = new mocha(darkroast);\n        darkroast = new soy(darkroast);\n\n        system.out.println("ååï¼" + darkroast.getdescription() + "\\nä»·æ ¼ï¼" + darkroast.cost());\n\n        beverage espresso = new espresso();\n        espresso = new milk(espresso);\n        espresso = new whip(espresso);\n\n        system.out.println("ååï¼" + espresso.getdescription() + "\\nä»·æ ¼ï¼" + espresso.cost());\n    }\n}\n\n\n# java apiä¸­çè£é¥°èæ¨¡å¼ï¼ioæµï¼\n\n# è¦ç¹\n\n * ç»§æ¿å±äºæ©å±å½¢å¼ä¹ä¸ï¼ä½ä¸è§å¾æ¯è¾¾å°å¼¹æ§è®¾è®¡çæä½³æ¹å¼ã\n * å¨æä»¬çè®¾è®¡ä¸­ï¼åºè¯¥åè®¸è¡ä¸ºå¯ä»¥è¢«æ©å±ï¼èæ é¡»ä¿®æ¹ç°æçä»£ç ã\n * ç»ååå§æå¯ç¨äºå¨è¿è¡æ¶å¨æå°å ä¸æ°çè¡ä¸ºã\n * é¤äºç»§æ¿ï¼è£é¥°èæ¨¡å¼ä¹å¯ä»¥è®©æä»¬æ©å±è¡ä¸ºã\n * è£é¥°èæ¨¡å¼æå³çä¸ç¾¤è£é¥°èç±»ï¼è¿äºç±»ç¨æ¥åè£å·ä½ç»ä»¶ã\n * è£é¥°èç±»åæ åºè¢«è£é¥°çç»ä»¶ç±»åï¼äºå®ä¸ï¼ä»ä»¬å·æç¸åçç±»åï¼é½ç»è¿æ¥å£æç»§æ¿å®ç°ï¼ã\n * è£é¥°èå¯ä»¥å¨è¢«è£é¥°èçè¡ä¸ºåé¢ä¸ï¼æï¼åé¢å ä¸èªå·±çè¡ä¸ºï¼çè³å°è¢«è£é¥°èçè¡ä¸ºæ´ä¸ªåä»£æï¼èè¾¾å°ç¹çç®çã\n * ä½ å¯ä»¥ç¨æ æ°ä¸ªè£é¥°èåè£ä¸ä¸ªç»ä»¶ã\n * è£é¥°èä¸è¬å¯¹ç»ä»¶çå®¢æ·æ¯éæçï¼é¤éå®¢æ·ç¨åºä¾èµäºç»ä»¶çå·ä½ç±»åã\n * è£é¥°èä¼å¯¼è´è®¾è®¡ä¸­åºç°è®¸å¤å°å¯¹è±¡ï¼å¦æè¿åº¦ä½¿ç¨ï¼ä¼è®©ç¨åºåå¾å¾å¤æã',charsets:{cjk:!0},lastUpdated:"2022/07/15, 18:03:14",lastUpdatedTimestamp:1657879394e3},{title:"è§å¯èæ¨¡å¼",frontmatter:{title:"è§å¯èæ¨¡å¼",date:"2022-07-15T08:46:45.000Z",permalink:"/pages/d0e23d/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/020.%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/020.è§å¯èæ¨¡å¼.md",key:"v-81b6555c",path:"/pages/d0e23d/",headers:[{level:2,title:"è§å¯èæ¨¡å¼ï¼Observerï¼",slug:"è§å¯èæ¨¡å¼-observer",normalizedTitle:"è§å¯èæ¨¡å¼ï¼observerï¼",charIndex:2},{level:4,title:"æ°è±¡çæµåºç¨",slug:"æ°è±¡çæµåºç¨",normalizedTitle:"æ°è±¡çæµåºç¨",charIndex:128},{level:5,title:"1. é®é¢æè¿°",slug:"_1-é®é¢æè¿°",normalizedTitle:"1. é®é¢æè¿°",charIndex:138},{level:5,title:"2. éè¯¯ç¤ºè",slug:"_2-éè¯¯ç¤ºè",normalizedTitle:"2. éè¯¯ç¤ºè",charIndex:232},{level:5,title:"3. æ¾è¦å",slug:"_3-æ¾è¦å",normalizedTitle:"3. æ¾è¦å",charIndex:810},{level:5,title:"4. ç±»å¾è®¾è®¡",slug:"_4-ç±»å¾è®¾è®¡",normalizedTitle:"4. ç±»å¾è®¾è®¡",charIndex:942},{level:4,title:"å®ç°è§å¯èæ¨¡å¼ï¼ä¸»é¢æ¨éä¿¡æ¯ï¼",slug:"å®ç°è§å¯èæ¨¡å¼-ä¸»é¢æ¨éä¿¡æ¯",normalizedTitle:"å®ç°è§å¯èæ¨¡å¼ï¼ä¸»é¢æ¨éä¿¡æ¯ï¼",charIndex:953},{level:4,title:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ®",slug:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ®",normalizedTitle:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ®",charIndex:4278},{level:4,title:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®",slug:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®",normalizedTitle:"ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®",charIndex:6125},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:8445},{level:4,title:"è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨",slug:"è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨",normalizedTitle:"è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨",charIndex:8842}],headersStr:"è§å¯èæ¨¡å¼ï¼Observerï¼ æ°è±¡çæµåºç¨ 1. é®é¢æè¿° 2. éè¯¯ç¤ºè 3. æ¾è¦å 4. ç±»å¾è®¾è®¡ å®ç°è§å¯èæ¨¡å¼ï¼ä¸»é¢æ¨éä¿¡æ¯ï¼ ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ® ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ® è¦ç¹ è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨",content:'# è§å¯èæ¨¡å¼ï¼Observerï¼\n\nè§å¯èæ¨¡å¼ å®ä¹äºå¯¹è±¡ä¹é´çä¸å¯¹å¤ä¾èµï¼è¿æ ·ä¸æ¥ï¼å½ä¸ä¸ªå¯¹è±¡æ¹åç¶ææ¶ï¼å®çææä¾èµèé½ä¼æ¶å°éç¥å¹¶èªå¨æ´æ°ã\n\nç®åæ¥è¯´ï¼è§å¯èæ¨¡å¼ = åºçèï¼ä¸»é¢ Subjectï¼ + è®¢éèï¼è§å¯è Observerï¼\n\n# æ°è±¡çæµåºç¨\n\n# 1. é®é¢æè¿°\n\n> æ­¤ç³»ç»ä¸­çä¸ä¸ªé¨åæ¯æ°è±¡ç«ï¼è·åå®éæ°è±¡æ°æ®çç©çè£ç½®ï¼ãWeatherDataå¯¹è±¡(è¿½è¸ªæ¥èªæ°è±¡ç«çæ°æ®ï¼å¹¶æ´æ°å¸åæ¿)åå¸åæ¿ï¼æ¾ç¤ºç®åå¤©æ°ç¶åµç»ç¨æ·çï¼\n\n# 2. éè¯¯ç¤ºè\n\n> éè¯¯ç¤ºèï¼å®ç° measurementsChanged æ¹æ³\n> \n>  1. è¿ééå¯¹å·ä½å®ç°ç¼ç¨ï¼èééå¯¹æ¥å£\n>  2. å¯¹äºæ¯ä¸ªæ°çå¸åæ¿ï¼æä»¬é½å¾ä¿®æ¹ä»£ç \n>  3. æ æ³å¨è¿è¡æ¶å¨æå¢å æå é¤å¸åæ¿\n>  4. æ²¡æå°è£æ¹åçé¨å\n\npublic class WeatherData{\n    public void measurementsChanged() {\n        // éè¿getteræ¹æ³è·åå¼\n        float temp = getTempreature();\n        float humidity = getHumidity();\n        float pressure = getPressure();\n\n        // æ´æ°3ä¸ªå¸åæ¿\n        currentConditionsDisplay.update(temp, humidity, pressure);\n        statisticsDisplay.update(temp, humidity, pressure);\n        forecastDisplay.update(temp, humidity, pressure);\n\n        // å¶ä»æ¹æ³\n    }\n}\n\n\n# 3. æ¾è¦å\n\n * å½ä¸¤ä¸ªå¯¹è±¡ä¹é´æ¾è¦åï¼å®ä»¬ä¾ç¶å¯ä»¥äº¤äºï¼ä½æ¯ä¸å¤ªæ¸æ¥å½¼æ­¤çç»èã\n * è§å¯èæ¨¡å¼æä¾äºä¸ç§å¯¹è±¡è®¾è®¡ï¼è®©ä¸»é¢åè§å¯èä¹é´æ¾è¦åã\n * æ¾è¦åçè®¾è®¡ä¹æä»¥è½è®©æä»¬å»ºç«æå¼¹æ§çOOç³»ç»ï¼è½å¤åºå¯¹ååï¼æ¯å ä¸ºå¯¹è±¡ä¹é´çäºç¸ä¾èµéå°äºæä½ã\n\n# 4. ç±»å¾è®¾è®¡\n\n# å®ç°è§å¯èæ¨¡å¼ï¼ä¸»é¢æ¨éä¿¡æ¯ï¼\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\ninterface Subject{\n    void registerObserver(Observer observer);\n    void removeObserver(Observer observer);\n    void notifyObservers();\n}\n\npublic class WeatherData implements Subject {\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private List<Observer> listObject;\n\n    public WeatherData() {\n        // åå»ºä¸»é¢å¯¹è±¡æ¶ï¼å®ä¾åå­å¨è§å¯èçéå\n        listObject = new ArrayList<>();\n    }\n\n    public float getTempreature() {\n        return tempreature;\n    }\n\n    public float getHumidity() {\n        return humidity;\n    }\n\n    public float getPressure() {\n        return pressure;\n    }\n\n    @Override\n    public void registerObserver(Observer observer) {\n        // è§å¯èæ³¨åï¼å°å¶å å¥éç¥éåä¸­\n        listObject.add(observer);\n    }\n\n    @Override\n    public void removeObserver(Observer observer) {\n        // è§å¯èåæ¶ï¼å°å¶ä»éç¥éåä¸­å é¤\n        listObject.remove(observer);\n    }\n\n    @Override\n    public void notifyObservers() {\n        System.out.println("è§å¯èæ°éï¼" + listObject.size());\n        // éåè§å¯èéåï¼åéææ°è§æµå¼\n        for (Observer observer : listObject) {\n            observer.update(getTempreature(), getHumidity(), getPressure());\n        }\n    }\n\n    public void measurementsChanged() {\n        // å½ä»æ°è±¡ç«è·åæ´æ°è§æµå¼æ¶ï¼éç¥è§å¯è\n        notifyObservers();\n    }\n\n    public void setMeasurements(float tempreature, float humidity, float pressure) {\n        this.tempreature = tempreature;\n        this.humidity = humidity;\n        this.pressure = pressure;\n        measurementsChanged();\n    }\n}\n\n\npublic interface Observer {\n    void update(float tempreature, float humidity, float pressure);\n}\npublic interface DisplayElement {\n    void display();\n}\npublic class CurrentConditionsDisplay implements DisplayElement, Observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private Subject subject;\n\n    public CurrentConditionsDisplay(Subject s) {\n        this.subject = s;\n        subject.registerObserver(this);\n    }\n\n    @Override\n    public String toString() {\n        return "CurrentConditionsDisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @Override\n    public void update(float tempreature, float humidity, float pressure) {\n        this.tempreature = tempreature;\n        this.humidity = humidity;\n        this.pressure = pressure;\n        display();\n    }\n\n    @Override\n    public void display() {\n        System.out.println(toString());\n    }\n}\n// å¶ä»è§å¯èç±»ä¼¼\n\n\npublic class Main {\n    public static void main(String[] args) {\n        WeatherData weatherData = new WeatherData();\n\n        Observer currentConditionsDisplay = new CurrentConditionsDisplay(weatherData);\n        Observer statisticsDisplay = new StatisticsDisplay(weatherData);\n        Observer thirdPartyDisplay = new ThirdPartyDisplay(weatherData);\n        Observer forecastDisplay = new ForecastDisplay(weatherData);\n        weatherData.registerObserver(forecastDisplay);\n        // weatherData.removeObserver(currentConditionsDisplay);\n\n        weatherData.setMeasurements(22, 22, 22);\n        weatherData.setMeasurements(25, 25, 25);\n        weatherData.setMeasurements(30, 30, 30);\n    }\n}\n\n\n# ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ®\n\n// 1. å¯¼å¥javaåç½®å\nimport java.util.Observable;\n\n// 2.ç»§æ¿ä¸»é¢ç±»\npublic class Weather extends Observable {\n\n    // 3. ä¸éè¦è¿½è¸ªè§å¯èï¼ç¶ç±»å·²ç»å®ç°\n    // 4. ä¸éè¦æé å¨åå§åè§å¯èéå\n    public Weather() {}\n\n    public void setMeasurements(Object arg) {\n        // 5. è°ç¨ notifyObservers() ä¹åï¼è°ç¨ setChanged() è®¾ç½®ç¶æï¼è¿ä¸æ­¥å¿é¡»åï¼å ä¸º changed é»è®¤ä¸º false ï¼\n        setChanged();\n        // æ³¨æï¼ä¼ å¥æ°æ®åæ°ï¼è§å¯æ¨¡å¼ä¸ºä¸»é¢æ¨éï¼è¥æ²¡æä¼ éæ°æ®å¯¹è±¡ï¼åä¸ºè§å¯èæåï¼\n        notifyObservers(arg);\n    }\n}\n\n\nimport java.util.List;\nimport java.util.Observable;\nimport java.util.Observer;\n\npublic class ThirdPartyDisplay implements DisplayElement, Observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private Observable observable;\n\n    public ThirdPartyDisplay(Observable weather) {\n        this.observable = weather;\n        this.observable.addObserver(this);\n    }\n\n    @Override\n    public String toString() {\n        return "ThirdPartyDisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @Override\n    public void display() {\n        System.out.println(toString());\n    }\n\n    @Override\n    public void update(Observable o, Object arg) {\n        List list = (List) arg;\n        this.tempreature = (float) list.get(0);\n        this.humidity = (float) list.get(1);\n        this.pressure = (float) list.get(2);\n        display();\n    }\n}\n\n\nimport java.util.Arrays;\nimport java.util.Observer;\n\npublic class Main {\n    public static void main(String[] args) {\n        // ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç° æ¨éæ°æ®\n        Weather weather = new Weather();\n        Observer thirdPartyDisplay = new ThirdPartyDisplay(weather);\n        Observer thirdPartyDisplay2 = new ThirdPartyDisplay(weather);\n        weather.setMeasurements(Arrays.asList(25f, 25f, 25f));\n    }\n}\n\n\n# ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®\n\n\n// 1. å¯¼å¥javaåç½®å\nimport java.util.Observable;\n\n// 2.ç»§æ¿ä¸»é¢ç±»\npublic class Weather extends Observable {\n\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n\n    public float getTempreature() {\n        return tempreature;\n    }\n\n    public float getHumidity() {\n        return humidity;\n    }\n\n    public float getPressure() {\n        return pressure;\n    }\n\n    // 3. ä¸éè¦è¿½è¸ªè§å¯èï¼ç¶ç±»å·²ç»å®ç°\n    // 4. ä¸éè¦æé å¨åå§åè§å¯èéå\n    public Weather() {}\n\n    public void setMeasurements(float v, float v1, float v2) {\n        this.tempreature = v;\n        this.humidity = v1;\n        this.pressure = v2;\n        measurementsChanged();\n    }\n    public void measurementsChanged() {\n        // 5. è°ç¨ notifyObservers() ä¹åï¼è°ç¨ setChanged() è®¾ç½®ç¶æï¼è¿ä¸æ­¥å¿é¡»åï¼å ä¸º changed é»è®¤ä¸º false ï¼\n        setChanged();\n        // æ³¨æï¼æ²¡æä¼ éæ°æ®å¯¹è±¡ï¼åä¸ºè§å¯èæå\n        notifyObservers();\n    }\n\n}\n\n\nimport java.util.Observable;\nimport java.util.Observer;\n\npublic class ThirdPartyDisplay implements DisplayElement, Observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private Observable observable;\n\n    public ThirdPartyDisplay(Observable weather) {\n        this.observable = weather;\n        this.observable.addObserver(this);\n    }\n\n    @Override\n    public String toString() {\n        return "ThirdPartyDisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @Override\n    public void display() {\n        System.out.println(toString());\n    }\n\n    @Override\n    public void update(Observable o, Object arg) {\n        if (o instanceof Weather) {\n            Weather weather = (Weather) o;\n            this.tempreature = weather.getTempreature();\n            this.humidity = weather.getHumidity();\n            this.pressure = weather.getPressure();\n            display();\n        }\n    }\n}\n\n\n\nimport java.util.Observer;\n\npublic class Main {\n    public static void main(String[] args) {\n        // ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®\n        Weather weather = new Weather();\n        Observer thirdPartyDisplay1 = new ThirdPartyDisplay(weather);\n        Observer thirdPartyDisplay2 = new ThirdPartyDisplay(weather);\n        weather.setMeasurements(25f, 25f, 25f);\n    }\n}\n\n\n# è¦ç¹\n\n * è§å¯èæ¨¡å¼å®ä¹äºå¯¹è±¡ä¹é´ä¸å¯¹å¤çå³ç³»ã\n * ä¸»é¢ï¼ä¹å°±æ¯å¯è§å¯èï¼ç¨ä¸ä¸ªå±åçæ¥å£æ¥æ´æ°è§å¯è\n * è§å¯èåå¯è§å¯èä¹é´ç¨æ¾è¦åæ¹å¼ç»åï¼loosecoupling),å¯è§å¯èä¸ç¥éè§å¯èçç»èï¼åªç¥éè§å¯èå®ç°äºè§å¯èæ¥å£ã\n * ä½¿ç¨æ­¤æ¨¡å¼æ¶ï¼ä½ å¯ä»è¢«è§å¯èå¤æ¨(push)ææ(pull)æ°æ®ï¼ç¶èï¼æ¨çæ¹å¼è¢«è®¤ä¸ºæ´âæ­£ç¡®âï¼ã\n * æå¤ä¸ªè§å¯èæ¶ï¼ä¸å¯ä»¥ä¾èµç¹å®çéç¥æ¬¡åºã\n * Javaæå¤ç§è§å¯èæ¨¡å¼çå®ç°ï¼åæ¬äºéç¨çjava.util.Observable\n * è¦æ³¨æ java.util.Observable å®ç°ä¸æå¸¦æ¥çä¸äºé®é¢ã\n * å¦ææå¿è¦çè¯ï¼å¯ä»¥å®ç°èªå·±çObservableï¼è¿å¹¶ä¸é¾ï¼ä¸è¦å®³æã\n * Swingå¤§éä½¿ç¨è§å¯èæ¨¡å¼ï¼è®¸å¤GUIæ¡æ¶ä¹æ¯å¦æ­¤ã\n * æ­¤æ¨¡å¼ä¹è¢«åºç¨å¨è®¸å¤å°æ¹ï¼ä¾å¦ï¼JavaBeansãRMIã\n\n# è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨\n\n 1. æ¾åºç¨åºä¸­ä¼ååçæ¹é¢ï¼ç¶åå°å¶ååºå®ä¸åçæ¹é¢ç¸åç¦»ã\n\n> å¨è§å¯èæ¨¡å¼ä¸­ï¼ä¼æ¹åçæ¯ä¸»é¢çç¶æï¼ä»¥åè§å¯èçæ°ç®åç±»åãç¨è¿ä¸ªæ¨¡å¼ï¼ä½ å¯ä»¥æ¹åä¾èµäºä¸»é¢ç¶æçå¯¹è±¡ï¼å´ä¸å¿æ¹åä¸»é¢ãè¿å°±å«æåè§åï¼\n\n 2. éå¯¹æ¥å£ç¼ç¨ï¼ä¸éå¯¹å®ç°ç¼ç¨ã\n\n> ä¸»é¢ä¸è§å¯èé½ä½¿ç¨æ¥å£ï¼è§å¯èå©ç¨ä¸»é¢çæ¥å£åä¸»é¢æ³¨åï¼èä¸»é¢å©ç¨è§å¯èæ¥å£éç¥è§å¯èãè¿æ ·å¯ä»¥è®©ä¸¤èä¹é´è¿ä½æ­£å¸¸ï¼ååæ¶å·ææ¾è¦åçä¼ç¹ã\n\n 3. å¤ç¨ç»åï¼å°ç¨ç»§æ¿ã\n\n> è§å¯èæ¨¡å¼å©ç¨âç»åâï¼å°è®¸å¤è§å¯èç»åè¿ä¸»é¢ä¸­ãå¯¹è±¡ä¹é´çè¿ç§å³ç³»ä¸æ¯éè¿ç»§æ¿äº§ççï¼èæ¯å¨è¿è¡æ¶å©ç¨ç»åçæ¹å¼èäº§ççã',normalizedContent:'# è§å¯èæ¨¡å¼ï¼observerï¼\n\nè§å¯èæ¨¡å¼ å®ä¹äºå¯¹è±¡ä¹é´çä¸å¯¹å¤ä¾èµï¼è¿æ ·ä¸æ¥ï¼å½ä¸ä¸ªå¯¹è±¡æ¹åç¶ææ¶ï¼å®çææä¾èµèé½ä¼æ¶å°éç¥å¹¶èªå¨æ´æ°ã\n\nç®åæ¥è¯´ï¼è§å¯èæ¨¡å¼ = åºçèï¼ä¸»é¢ subjectï¼ + è®¢éèï¼è§å¯è observerï¼\n\n# æ°è±¡çæµåºç¨\n\n# 1. é®é¢æè¿°\n\n> æ­¤ç³»ç»ä¸­çä¸ä¸ªé¨åæ¯æ°è±¡ç«ï¼è·åå®éæ°è±¡æ°æ®çç©çè£ç½®ï¼ãweatherdataå¯¹è±¡(è¿½è¸ªæ¥èªæ°è±¡ç«çæ°æ®ï¼å¹¶æ´æ°å¸åæ¿)åå¸åæ¿ï¼æ¾ç¤ºç®åå¤©æ°ç¶åµç»ç¨æ·çï¼\n\n# 2. éè¯¯ç¤ºè\n\n> éè¯¯ç¤ºèï¼å®ç° measurementschanged æ¹æ³\n> \n>  1. è¿ééå¯¹å·ä½å®ç°ç¼ç¨ï¼èééå¯¹æ¥å£\n>  2. å¯¹äºæ¯ä¸ªæ°çå¸åæ¿ï¼æä»¬é½å¾ä¿®æ¹ä»£ç \n>  3. æ æ³å¨è¿è¡æ¶å¨æå¢å æå é¤å¸åæ¿\n>  4. æ²¡æå°è£æ¹åçé¨å\n\npublic class weatherdata{\n    public void measurementschanged() {\n        // éè¿getteræ¹æ³è·åå¼\n        float temp = gettempreature();\n        float humidity = gethumidity();\n        float pressure = getpressure();\n\n        // æ´æ°3ä¸ªå¸åæ¿\n        currentconditionsdisplay.update(temp, humidity, pressure);\n        statisticsdisplay.update(temp, humidity, pressure);\n        forecastdisplay.update(temp, humidity, pressure);\n\n        // å¶ä»æ¹æ³\n    }\n}\n\n\n# 3. æ¾è¦å\n\n * å½ä¸¤ä¸ªå¯¹è±¡ä¹é´æ¾è¦åï¼å®ä»¬ä¾ç¶å¯ä»¥äº¤äºï¼ä½æ¯ä¸å¤ªæ¸æ¥å½¼æ­¤çç»èã\n * è§å¯èæ¨¡å¼æä¾äºä¸ç§å¯¹è±¡è®¾è®¡ï¼è®©ä¸»é¢åè§å¯èä¹é´æ¾è¦åã\n * æ¾è¦åçè®¾è®¡ä¹æä»¥è½è®©æä»¬å»ºç«æå¼¹æ§çooç³»ç»ï¼è½å¤åºå¯¹ååï¼æ¯å ä¸ºå¯¹è±¡ä¹é´çäºç¸ä¾èµéå°äºæä½ã\n\n# 4. ç±»å¾è®¾è®¡\n\n# å®ç°è§å¯èæ¨¡å¼ï¼ä¸»é¢æ¨éä¿¡æ¯ï¼\n\n\nimport java.util.arraylist;\nimport java.util.list;\n\ninterface subject{\n    void registerobserver(observer observer);\n    void removeobserver(observer observer);\n    void notifyobservers();\n}\n\npublic class weatherdata implements subject {\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private list<observer> listobject;\n\n    public weatherdata() {\n        // åå»ºä¸»é¢å¯¹è±¡æ¶ï¼å®ä¾åå­å¨è§å¯èçéå\n        listobject = new arraylist<>();\n    }\n\n    public float gettempreature() {\n        return tempreature;\n    }\n\n    public float gethumidity() {\n        return humidity;\n    }\n\n    public float getpressure() {\n        return pressure;\n    }\n\n    @override\n    public void registerobserver(observer observer) {\n        // è§å¯èæ³¨åï¼å°å¶å å¥éç¥éåä¸­\n        listobject.add(observer);\n    }\n\n    @override\n    public void removeobserver(observer observer) {\n        // è§å¯èåæ¶ï¼å°å¶ä»éç¥éåä¸­å é¤\n        listobject.remove(observer);\n    }\n\n    @override\n    public void notifyobservers() {\n        system.out.println("è§å¯èæ°éï¼" + listobject.size());\n        // éåè§å¯èéåï¼åéææ°è§æµå¼\n        for (observer observer : listobject) {\n            observer.update(gettempreature(), gethumidity(), getpressure());\n        }\n    }\n\n    public void measurementschanged() {\n        // å½ä»æ°è±¡ç«è·åæ´æ°è§æµå¼æ¶ï¼éç¥è§å¯è\n        notifyobservers();\n    }\n\n    public void setmeasurements(float tempreature, float humidity, float pressure) {\n        this.tempreature = tempreature;\n        this.humidity = humidity;\n        this.pressure = pressure;\n        measurementschanged();\n    }\n}\n\n\npublic interface observer {\n    void update(float tempreature, float humidity, float pressure);\n}\npublic interface displayelement {\n    void display();\n}\npublic class currentconditionsdisplay implements displayelement, observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private subject subject;\n\n    public currentconditionsdisplay(subject s) {\n        this.subject = s;\n        subject.registerobserver(this);\n    }\n\n    @override\n    public string tostring() {\n        return "currentconditionsdisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @override\n    public void update(float tempreature, float humidity, float pressure) {\n        this.tempreature = tempreature;\n        this.humidity = humidity;\n        this.pressure = pressure;\n        display();\n    }\n\n    @override\n    public void display() {\n        system.out.println(tostring());\n    }\n}\n// å¶ä»è§å¯èç±»ä¼¼\n\n\npublic class main {\n    public static void main(string[] args) {\n        weatherdata weatherdata = new weatherdata();\n\n        observer currentconditionsdisplay = new currentconditionsdisplay(weatherdata);\n        observer statisticsdisplay = new statisticsdisplay(weatherdata);\n        observer thirdpartydisplay = new thirdpartydisplay(weatherdata);\n        observer forecastdisplay = new forecastdisplay(weatherdata);\n        weatherdata.registerobserver(forecastdisplay);\n        // weatherdata.removeobserver(currentconditionsdisplay);\n\n        weatherdata.setmeasurements(22, 22, 22);\n        weatherdata.setmeasurements(25, 25, 25);\n        weatherdata.setmeasurements(30, 30, 30);\n    }\n}\n\n\n# ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°ä¸»é¢æ¨éæ°æ®\n\n// 1. å¯¼å¥javaåç½®å\nimport java.util.observable;\n\n// 2.ç»§æ¿ä¸»é¢ç±»\npublic class weather extends observable {\n\n    // 3. ä¸éè¦è¿½è¸ªè§å¯èï¼ç¶ç±»å·²ç»å®ç°\n    // 4. ä¸éè¦æé å¨åå§åè§å¯èéå\n    public weather() {}\n\n    public void setmeasurements(object arg) {\n        // 5. è°ç¨ notifyobservers() ä¹åï¼è°ç¨ setchanged() è®¾ç½®ç¶æï¼è¿ä¸æ­¥å¿é¡»åï¼å ä¸º changed é»è®¤ä¸º false ï¼\n        setchanged();\n        // æ³¨æï¼ä¼ å¥æ°æ®åæ°ï¼è§å¯æ¨¡å¼ä¸ºä¸»é¢æ¨éï¼è¥æ²¡æä¼ éæ°æ®å¯¹è±¡ï¼åä¸ºè§å¯èæåï¼\n        notifyobservers(arg);\n    }\n}\n\n\nimport java.util.list;\nimport java.util.observable;\nimport java.util.observer;\n\npublic class thirdpartydisplay implements displayelement, observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private observable observable;\n\n    public thirdpartydisplay(observable weather) {\n        this.observable = weather;\n        this.observable.addobserver(this);\n    }\n\n    @override\n    public string tostring() {\n        return "thirdpartydisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @override\n    public void display() {\n        system.out.println(tostring());\n    }\n\n    @override\n    public void update(observable o, object arg) {\n        list list = (list) arg;\n        this.tempreature = (float) list.get(0);\n        this.humidity = (float) list.get(1);\n        this.pressure = (float) list.get(2);\n        display();\n    }\n}\n\n\nimport java.util.arrays;\nimport java.util.observer;\n\npublic class main {\n    public static void main(string[] args) {\n        // ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç° æ¨éæ°æ®\n        weather weather = new weather();\n        observer thirdpartydisplay = new thirdpartydisplay(weather);\n        observer thirdpartydisplay2 = new thirdpartydisplay(weather);\n        weather.setmeasurements(arrays.aslist(25f, 25f, 25f));\n    }\n}\n\n\n# ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®\n\n\n// 1. å¯¼å¥javaåç½®å\nimport java.util.observable;\n\n// 2.ç»§æ¿ä¸»é¢ç±»\npublic class weather extends observable {\n\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n\n    public float gettempreature() {\n        return tempreature;\n    }\n\n    public float gethumidity() {\n        return humidity;\n    }\n\n    public float getpressure() {\n        return pressure;\n    }\n\n    // 3. ä¸éè¦è¿½è¸ªè§å¯èï¼ç¶ç±»å·²ç»å®ç°\n    // 4. ä¸éè¦æé å¨åå§åè§å¯èéå\n    public weather() {}\n\n    public void setmeasurements(float v, float v1, float v2) {\n        this.tempreature = v;\n        this.humidity = v1;\n        this.pressure = v2;\n        measurementschanged();\n    }\n    public void measurementschanged() {\n        // 5. è°ç¨ notifyobservers() ä¹åï¼è°ç¨ setchanged() è®¾ç½®ç¶æï¼è¿ä¸æ­¥å¿é¡»åï¼å ä¸º changed é»è®¤ä¸º false ï¼\n        setchanged();\n        // æ³¨æï¼æ²¡æä¼ éæ°æ®å¯¹è±¡ï¼åä¸ºè§å¯èæå\n        notifyobservers();\n    }\n\n}\n\n\nimport java.util.observable;\nimport java.util.observer;\n\npublic class thirdpartydisplay implements displayelement, observer{\n    private float tempreature;\n    private float humidity;\n    private float pressure;\n    private observable observable;\n\n    public thirdpartydisplay(observable weather) {\n        this.observable = weather;\n        this.observable.addobserver(this);\n    }\n\n    @override\n    public string tostring() {\n        return "thirdpartydisplay{" +\n                "tempreature=" + tempreature +\n                ", humidity=" + humidity +\n                ", pressure=" + pressure +\n                \'}\';\n    }\n\n    @override\n    public void display() {\n        system.out.println(tostring());\n    }\n\n    @override\n    public void update(observable o, object arg) {\n        if (o instanceof weather) {\n            weather weather = (weather) o;\n            this.tempreature = weather.gettempreature();\n            this.humidity = weather.gethumidity();\n            this.pressure = weather.getpressure();\n            display();\n        }\n    }\n}\n\n\n\nimport java.util.observer;\n\npublic class main {\n    public static void main(string[] args) {\n        // ä½¿ç¨åç½®è§å¯èæ¨¡å¼å®ç°è§å¯èæåæ°æ®\n        weather weather = new weather();\n        observer thirdpartydisplay1 = new thirdpartydisplay(weather);\n        observer thirdpartydisplay2 = new thirdpartydisplay(weather);\n        weather.setmeasurements(25f, 25f, 25f);\n    }\n}\n\n\n# è¦ç¹\n\n * è§å¯èæ¨¡å¼å®ä¹äºå¯¹è±¡ä¹é´ä¸å¯¹å¤çå³ç³»ã\n * ä¸»é¢ï¼ä¹å°±æ¯å¯è§å¯èï¼ç¨ä¸ä¸ªå±åçæ¥å£æ¥æ´æ°è§å¯è\n * è§å¯èåå¯è§å¯èä¹é´ç¨æ¾è¦åæ¹å¼ç»åï¼loosecoupling),å¯è§å¯èä¸ç¥éè§å¯èçç»èï¼åªç¥éè§å¯èå®ç°äºè§å¯èæ¥å£ã\n * ä½¿ç¨æ­¤æ¨¡å¼æ¶ï¼ä½ å¯ä»è¢«è§å¯èå¤æ¨(push)ææ(pull)æ°æ®ï¼ç¶èï¼æ¨çæ¹å¼è¢«è®¤ä¸ºæ´âæ­£ç¡®âï¼ã\n * æå¤ä¸ªè§å¯èæ¶ï¼ä¸å¯ä»¥ä¾èµç¹å®çéç¥æ¬¡åºã\n * javaæå¤ç§è§å¯èæ¨¡å¼çå®ç°ï¼åæ¬äºéç¨çjava.util.observable\n * è¦æ³¨æ java.util.observable å®ç°ä¸æå¸¦æ¥çä¸äºé®é¢ã\n * å¦ææå¿è¦çè¯ï¼å¯ä»¥å®ç°èªå·±çobservableï¼è¿å¹¶ä¸é¾ï¼ä¸è¦å®³æã\n * swingå¤§éä½¿ç¨è§å¯èæ¨¡å¼ï¼è®¸å¤guiæ¡æ¶ä¹æ¯å¦æ­¤ã\n * æ­¤æ¨¡å¼ä¹è¢«åºç¨å¨è®¸å¤å°æ¹ï¼ä¾å¦ï¼javabeansãrmiã\n\n# è§å¯èæ¨¡å¼å¯¹è®¾è®¡ååçåºç¨\n\n 1. æ¾åºç¨åºä¸­ä¼ååçæ¹é¢ï¼ç¶åå°å¶ååºå®ä¸åçæ¹é¢ç¸åç¦»ã\n\n> å¨è§å¯èæ¨¡å¼ä¸­ï¼ä¼æ¹åçæ¯ä¸»é¢çç¶æï¼ä»¥åè§å¯èçæ°ç®åç±»åãç¨è¿ä¸ªæ¨¡å¼ï¼ä½ å¯ä»¥æ¹åä¾èµäºä¸»é¢ç¶æçå¯¹è±¡ï¼å´ä¸å¿æ¹åä¸»é¢ãè¿å°±å«æåè§åï¼\n\n 2. éå¯¹æ¥å£ç¼ç¨ï¼ä¸éå¯¹å®ç°ç¼ç¨ã\n\n> ä¸»é¢ä¸è§å¯èé½ä½¿ç¨æ¥å£ï¼è§å¯èå©ç¨ä¸»é¢çæ¥å£åä¸»é¢æ³¨åï¼èä¸»é¢å©ç¨è§å¯èæ¥å£éç¥è§å¯èãè¿æ ·å¯ä»¥è®©ä¸¤èä¹é´è¿ä½æ­£å¸¸ï¼ååæ¶å·ææ¾è¦åçä¼ç¹ã\n\n 3. å¤ç¨ç»åï¼å°ç¨ç»§æ¿ã\n\n> è§å¯èæ¨¡å¼å©ç¨âç»åâï¼å°è®¸å¤è§å¯èç»åè¿ä¸»é¢ä¸­ãå¯¹è±¡ä¹é´çè¿ç§å³ç³»ä¸æ¯éè¿ç»§æ¿äº§ççï¼èæ¯å¨è¿è¡æ¶å©ç¨ç»åçæ¹å¼èäº§ççã',charsets:{cjk:!0},lastUpdated:"2022/07/15, 18:03:14",lastUpdatedTimestamp:1657879394e3},{title:"åä¾æ¨¡å¼",frontmatter:{title:"åä¾æ¨¡å¼",date:"2022-07-17T23:15:31.000Z",permalink:"/pages/4e0678/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/050.%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/050.åä¾æ¨¡å¼.md",key:"v-830992f8",path:"/pages/4e0678/",headers:[{level:2,title:"åä¾æ¨¡å¼ï¼Singletonï¼",slug:"åä¾æ¨¡å¼-singleton",normalizedTitle:"åä¾æ¨¡å¼ï¼singletonï¼",charIndex:2},{level:4,title:"é®é¢æåº",slug:"é®é¢æåº",normalizedTitle:"é®é¢æåº",charIndex:51},{level:4,title:"ç»å¸åä¾æ¨¡å¼",slug:"ç»å¸åä¾æ¨¡å¼",normalizedTitle:"ç»å¸åä¾æ¨¡å¼",charIndex:188},{level:5,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:198},{level:5,title:"ä»£ç ",slug:"ä»£ç ",normalizedTitle:"ä»£ç ",charIndex:204},{level:4,title:"è§£å³å¤çº¿ç¨é®é¢",slug:"è§£å³å¤çº¿ç¨é®é¢",normalizedTitle:"è§£å³å¤çº¿ç¨é®é¢",charIndex:886},{level:5,title:"1. å  synchronized é",slug:"_1-å -synchronized-é",normalizedTitle:"1. å  synchronized é",charIndex:897},{level:5,title:"2. é¥¿æ±å¼åä¾",slug:"_2-é¥¿æ±å¼åä¾",normalizedTitle:"2. é¥¿æ±å¼åä¾",charIndex:966},{level:5,title:"3. ææ±å¼åä¾ï¼åéæ£æ¥å éï¼",slug:"_3-ææ±å¼åä¾-åéæ£æ¥å é",normalizedTitle:"3. ææ±å¼åä¾ï¼åéæ£æ¥å éï¼",charIndex:1222},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:1805}],headersStr:"åä¾æ¨¡å¼ï¼Singletonï¼ é®é¢æåº ç»å¸åä¾æ¨¡å¼ ç±»å¾ ä»£ç  è§£å³å¤çº¿ç¨é®é¢ 1. å  synchronized é 2. é¥¿æ±å¼åä¾ 3. ææ±å¼åä¾ï¼åéæ£æ¥å éï¼ è¦ç¹",content:"# åä¾æ¨¡å¼ï¼Singletonï¼\n\nåä¾æ¨¡å¼ ç¡®ä¿ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼å¹¶æä¾ä¸ä¸ªå¨å±è®¿é®ç¹ã\n\n# é®é¢æåº\n\né®é¢ï¼æäºå¯¹è±¡æä»¬åªéè¦ä¸ä¸ªãæ¯å¦çº¿ç¨æ± ï¼threadpoolï¼ãç¼å­ï¼cacheï¼ãå¯¹è¯æ¡ãå¤çåå¥½è®¾ç½®åæ³¨åè¡¨ï¼registryï¼çå¯¹è±¡ãæ¥å¿å¯¹è±¡ãé©±å¨ç¨åºå¯¹è±¡ç­ã\n\nJava éæåéå¯ä»¥ä¿è¯å¨å±åªæä¸ä¸ªå®ä¾ï¼ä½æ¯ä¼æç¼ºç¹ï¼å¿é¡»ä¸å¼å§å°±åå»ºå¥½å¯¹è±¡ï¼\n\n# ç»å¸åä¾æ¨¡å¼\n\n# ç±»å¾\n\n# ä»£ç \n\né®é¢ï¼å¨å¤çº¿ç¨çæåµä¸ä¼åºç°é®é¢\n\npublic class ChocolateBoiler {\n    private boolean empty;   // éçæ¯å¦æ¯ç©ºç\n    private boolean boiled;  // æ¯å¦ç®æ²¸è¿\n    private static ChocolateBoiler chocolateBoiler;\n\n    private ChocolateBoiler() {\n        empty = true;\n        boiled = false;\n    }\n\n    public static ChocolateBoiler getInstance() {\n        if (null == chocolateBoiler) {\n            chocolateBoiler =  new ChocolateBoiler();\n        }\n        return chocolateBoiler;\n    }\n\n    public void  fill() {\n        if (isEmpty()) {\n            empty = false;\n            boiled = false;\n            // å¨éçéå¡«åå·§åååçå¥¶çæ··åç©\n        }\n    }\n\n    private boolean isEmpty() {\n        return empty;\n    }\n}\n\n\n# è§£å³å¤çº¿ç¨é®é¢\n\n# 1. å  synchronized é\n\nç» getInstance() æ¹æ³å  synchronized éï¼ç¼ºç¹æ¯ä¼éä½æ§è½ã\n\n# 2. é¥¿æ±å¼åä¾\n\nå¨JVMå è½½ç±»æ¶ç«å»å®ä¾åå¯¹è±¡ï¼åé¢è°ç¨ getInstance() æ¹æ³æ¶ç´æ¥è¿åå®ä¾å°±å¯ä»¥ã\n\npublic class Singleton() {\n  private static Singleton uniqueSingleton = new Singleton();\n\n  private Singleton() {}\n\n  public static Singleton getInstance() {\n    return uniqueSingleton;\n  }\n}\n\n\n# 3. ææ±å¼åä¾ï¼åéæ£æ¥å éï¼\n\nå©ç¨åéæ£æ¥å éï¼double-checked lockingï¼ï¼é¦åæ£æ¥æ¯å¦å®ä¾å·²ç»åå»ºäºï¼å¦æå°æªåå»ºï¼âæâè¿è¡åæ­¥ãè¿æ ·ä¸æ¥ï¼åªæç¬¬ä¸æ¬¡ä¼åæ­¥ï¼è¿æ­£æ¯æä»¬æ³è¦çã\n\n> volatileå³é®å­æ¯javaæä¾çä¸ç§ç¨å¼±çåæ­¥æºå¶ãç¨æ¥å°åéçæ´æ°æä½åæ­¥å°å¶ä»çº¿ç¨ï¼ä¿è¯å¯è§æ§ï¼ä¿è¯çº¿ç¨ç­å°çåéå¼æ¯ææ°ç\n> æ³¨ï¼JDK1.4 åæ´æ©çæ¬ç volatile ä¼å¯¼è´åéæ£æ¥éå¤±æ\n\npublic class Singleton() {\n  private volatile static Singleton uniqueSingleton;\n\n  private Singleton() {}\n\n  public static Singleton getInstance() {\n    if (uniqueSingleton == null) {\n      synchronized (Singleton.class) {\n        if (uniqueSingleton == null) {\n          uniqueSingleton = new Singleton();\n        }\n      }\n    }\n    return uniqueSingleton;\n  }\n}\n\n\n# è¦ç¹\n\n * åä¾æ¨¡å¼ç¡®ä¿ç¨åºä¸­ä¸ä¸ªç±»æå¤åªæä¸ä¸ªå®ä¾ã\n * åä¾æ¨¡å¼ä¹æä¾è®¿é®è¿ä¸ªå®ä¾çå¨å±ç¹ã\n * å¨Javaä¸­å®ç°åä¾æ¨¡å¼éè¦ç§æçæé å¨ãä¸ä¸ªéææ¹æ³åä¸ä¸ªéæåéã\n * ç¡®å®å¨æ§è½åèµæºä¸çéå¶ï¼ç¶åå°å¿å°éæ©éå½çæ¹æ¡æ¥å®ç°åä¾ï¼ä»¥è§£å³å¤çº¿ç¨çé®é¢ï¼æä»¬å¿é¡»è®¤å®ææçç¨åºé½æ¯å¤çº¿ç¨çï¼ã\n * å¦æä¸æ¯éç¨JDK1.5ä»¥ä¸ï¼åéæ£æ¥å éå®ç°ä¼å¤±æã\n * å°å¿ï¼ä½ å¦æä½¿ç¨å¤ä¸ªç±»å è½½å¨ï¼å¯è½å¯¼è´åä¾å¤±æèäº§çå¤ä¸ªå®ä¾ã\n   \n   > ç±äºæ¯ä¸ªç±»å è½½å¨é½å®ä¹äºä¸ä¸ªå½åç©ºé´ï¼å¦ææå¤ä¸ªç±»å è½½å¨ï¼ä¼å¯¼è´åä¸ä¸ªç±»è¢«å è½½å¤æ¬¡ï¼é æå¤ä¸ªåä¾æ¨¡å¼å¹¶å­çç°è±¡ãè§£å³åæ³æ¯ï¼æ§è¡æå®ç±»å è½½å¨ï¼å¹¶æå®åä¸ä¸ªç±»å è½½å¨ã\n\n * å¦æä½¿ç¨JVM1.2æä¹åççæ¬ï¼ä½ å¿é¡»å»ºç«åä¾æ³¨åè¡¨ï¼ä»¥ååå¾æ¶éå¨å°åä¾åæ¶ã\n   \n   > è°£è¨ï¼åå¾æ¶éå¨ä¼åæåä¾ãJava1.2ä¹åï¼åå¾æ¶éå¨æä¸ªbugï¼åä¾æ²¡æå¨å±å¼ç¨ï¼åªæåä¾ç±»å¼ç¨èªèº«ï¼çæ¶åä¼è¢«å½ååå¾æ¸é¤ã1.2 ä»¥åå·²ä¿®å¤ã",normalizedContent:"# åä¾æ¨¡å¼ï¼singletonï¼\n\nåä¾æ¨¡å¼ ç¡®ä¿ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼å¹¶æä¾ä¸ä¸ªå¨å±è®¿é®ç¹ã\n\n# é®é¢æåº\n\né®é¢ï¼æäºå¯¹è±¡æä»¬åªéè¦ä¸ä¸ªãæ¯å¦çº¿ç¨æ± ï¼threadpoolï¼ãç¼å­ï¼cacheï¼ãå¯¹è¯æ¡ãå¤çåå¥½è®¾ç½®åæ³¨åè¡¨ï¼registryï¼çå¯¹è±¡ãæ¥å¿å¯¹è±¡ãé©±å¨ç¨åºå¯¹è±¡ç­ã\n\njava éæåéå¯ä»¥ä¿è¯å¨å±åªæä¸ä¸ªå®ä¾ï¼ä½æ¯ä¼æç¼ºç¹ï¼å¿é¡»ä¸å¼å§å°±åå»ºå¥½å¯¹è±¡ï¼\n\n# ç»å¸åä¾æ¨¡å¼\n\n# ç±»å¾\n\n# ä»£ç \n\né®é¢ï¼å¨å¤çº¿ç¨çæåµä¸ä¼åºç°é®é¢\n\npublic class chocolateboiler {\n    private boolean empty;   // éçæ¯å¦æ¯ç©ºç\n    private boolean boiled;  // æ¯å¦ç®æ²¸è¿\n    private static chocolateboiler chocolateboiler;\n\n    private chocolateboiler() {\n        empty = true;\n        boiled = false;\n    }\n\n    public static chocolateboiler getinstance() {\n        if (null == chocolateboiler) {\n            chocolateboiler =  new chocolateboiler();\n        }\n        return chocolateboiler;\n    }\n\n    public void  fill() {\n        if (isempty()) {\n            empty = false;\n            boiled = false;\n            // å¨éçéå¡«åå·§åååçå¥¶çæ··åç©\n        }\n    }\n\n    private boolean isempty() {\n        return empty;\n    }\n}\n\n\n# è§£å³å¤çº¿ç¨é®é¢\n\n# 1. å  synchronized é\n\nç» getinstance() æ¹æ³å  synchronized éï¼ç¼ºç¹æ¯ä¼éä½æ§è½ã\n\n# 2. é¥¿æ±å¼åä¾\n\nå¨jvmå è½½ç±»æ¶ç«å»å®ä¾åå¯¹è±¡ï¼åé¢è°ç¨ getinstance() æ¹æ³æ¶ç´æ¥è¿åå®ä¾å°±å¯ä»¥ã\n\npublic class singleton() {\n  private static singleton uniquesingleton = new singleton();\n\n  private singleton() {}\n\n  public static singleton getinstance() {\n    return uniquesingleton;\n  }\n}\n\n\n# 3. ææ±å¼åä¾ï¼åéæ£æ¥å éï¼\n\nå©ç¨åéæ£æ¥å éï¼double-checked lockingï¼ï¼é¦åæ£æ¥æ¯å¦å®ä¾å·²ç»åå»ºäºï¼å¦æå°æªåå»ºï¼âæâè¿è¡åæ­¥ãè¿æ ·ä¸æ¥ï¼åªæç¬¬ä¸æ¬¡ä¼åæ­¥ï¼è¿æ­£æ¯æä»¬æ³è¦çã\n\n> volatileå³é®å­æ¯javaæä¾çä¸ç§ç¨å¼±çåæ­¥æºå¶ãç¨æ¥å°åéçæ´æ°æä½åæ­¥å°å¶ä»çº¿ç¨ï¼ä¿è¯å¯è§æ§ï¼ä¿è¯çº¿ç¨ç­å°çåéå¼æ¯ææ°ç\n> æ³¨ï¼jdk1.4 åæ´æ©çæ¬ç volatile ä¼å¯¼è´åéæ£æ¥éå¤±æ\n\npublic class singleton() {\n  private volatile static singleton uniquesingleton;\n\n  private singleton() {}\n\n  public static singleton getinstance() {\n    if (uniquesingleton == null) {\n      synchronized (singleton.class) {\n        if (uniquesingleton == null) {\n          uniquesingleton = new singleton();\n        }\n      }\n    }\n    return uniquesingleton;\n  }\n}\n\n\n# è¦ç¹\n\n * åä¾æ¨¡å¼ç¡®ä¿ç¨åºä¸­ä¸ä¸ªç±»æå¤åªæä¸ä¸ªå®ä¾ã\n * åä¾æ¨¡å¼ä¹æä¾è®¿é®è¿ä¸ªå®ä¾çå¨å±ç¹ã\n * å¨javaä¸­å®ç°åä¾æ¨¡å¼éè¦ç§æçæé å¨ãä¸ä¸ªéææ¹æ³åä¸ä¸ªéæåéã\n * ç¡®å®å¨æ§è½åèµæºä¸çéå¶ï¼ç¶åå°å¿å°éæ©éå½çæ¹æ¡æ¥å®ç°åä¾ï¼ä»¥è§£å³å¤çº¿ç¨çé®é¢ï¼æä»¬å¿é¡»è®¤å®ææçç¨åºé½æ¯å¤çº¿ç¨çï¼ã\n * å¦æä¸æ¯éç¨jdk1.5ä»¥ä¸ï¼åéæ£æ¥å éå®ç°ä¼å¤±æã\n * å°å¿ï¼ä½ å¦æä½¿ç¨å¤ä¸ªç±»å è½½å¨ï¼å¯è½å¯¼è´åä¾å¤±æèäº§çå¤ä¸ªå®ä¾ã\n   \n   > ç±äºæ¯ä¸ªç±»å è½½å¨é½å®ä¹äºä¸ä¸ªå½åç©ºé´ï¼å¦ææå¤ä¸ªç±»å è½½å¨ï¼ä¼å¯¼è´åä¸ä¸ªç±»è¢«å è½½å¤æ¬¡ï¼é æå¤ä¸ªåä¾æ¨¡å¼å¹¶å­çç°è±¡ãè§£å³åæ³æ¯ï¼æ§è¡æå®ç±»å è½½å¨ï¼å¹¶æå®åä¸ä¸ªç±»å è½½å¨ã\n\n * å¦æä½¿ç¨jvm1.2æä¹åççæ¬ï¼ä½ å¿é¡»å»ºç«åä¾æ³¨åè¡¨ï¼ä»¥ååå¾æ¶éå¨å°åä¾åæ¶ã\n   \n   > è°£è¨ï¼åå¾æ¶éå¨ä¼åæåä¾ãjava1.2ä¹åï¼åå¾æ¶éå¨æä¸ªbugï¼åä¾æ²¡æå¨å±å¼ç¨ï¼åªæåä¾ç±»å¼ç¨èªèº«ï¼çæ¶åä¼è¢«å½ååå¾æ¸é¤ã1.2 ä»¥åå·²ä¿®å¤ã",charsets:{cjk:!0},lastUpdated:"2022/08/11, 00:48:36",lastUpdatedTimestamp:1660150116e3},{title:"å·¥åæ¨¡å¼",frontmatter:{title:"å·¥åæ¨¡å¼",date:"2022-07-16T17:42:58.000Z",permalink:"/pages/668a2b/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/040.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/040.å·¥åæ¨¡å¼.md",key:"v-f5852fb2",path:"/pages/668a2b/",headers:[{level:3,title:"ä¸ãå·¥åæ¨¡å¼ï¼Factory Patternï¼",slug:"ä¸ãå·¥åæ¨¡å¼-factory-pattern",normalizedTitle:"ä¸ãå·¥åæ¨¡å¼ï¼factory patternï¼",charIndex:2},{level:4,title:"é®é¢æåº",slug:"é®é¢æåº",normalizedTitle:"é®é¢æåº",charIndex:29},{level:4,title:"ç®åå·¥å",slug:"ç®åå·¥å",normalizedTitle:"ç®åå·¥å",charIndex:470},{level:5,title:"æ½åååçå°æ¹",slug:"æ½åååçå°æ¹",normalizedTitle:"æ½åååçå°æ¹",charIndex:508},{level:5,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:961},{level:4,title:"å·¥åæ¹æ³æ¨¡å¼",slug:"å·¥åæ¹æ³æ¨¡å¼",normalizedTitle:"å·¥åæ¹æ³æ¨¡å¼",charIndex:967},{level:5,title:"å¼å çåº",slug:"å¼å çåº",normalizedTitle:"å¼å çåº",charIndex:1032},{level:6,title:"ç±»å¾",slug:"ç±»å¾-2",normalizedTitle:"ç±»å¾",charIndex:961},{level:6,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:1046},{level:5,title:"ä¾èµåç½®åå",slug:"ä¾èµåç½®åå",normalizedTitle:"ä¾èµåç½®åå",charIndex:4075},{level:6,title:"æè¿°",slug:"æè¿°",normalizedTitle:"æè¿°",charIndex:4085},{level:6,title:"å¦ä½éµå¾ªæ­¤åå",slug:"å¦ä½éµå¾ªæ­¤åå",normalizedTitle:"å¦ä½éµå¾ªæ­¤åå",charIndex:4241},{level:4,title:"æ½è±¡å·¥åæ¨¡å¼",slug:"æ½è±¡å·¥åæ¨¡å¼",normalizedTitle:"æ½è±¡å·¥åæ¨¡å¼",charIndex:4306},{level:5,title:"åæå·¥å",slug:"åæå·¥å",normalizedTitle:"åæå·¥å",charIndex:4359},{level:6,title:"é®é¢æåº",slug:"é®é¢æåº-2",normalizedTitle:"é®é¢æåº",charIndex:29},{level:6,title:"ç±»å¾",slug:"ç±»å¾-3",normalizedTitle:"ç±»å¾",charIndex:961},{level:6,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°-2",normalizedTitle:"ä»£ç å®ç°",charIndex:1046},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:11097}],headersStr:"ä¸ãå·¥åæ¨¡å¼ï¼Factory Patternï¼ é®é¢æåº ç®åå·¥å æ½åååçå°æ¹ ç±»å¾ å·¥åæ¹æ³æ¨¡å¼ å¼å çåº ç±»å¾ ä»£ç å®ç° ä¾èµåç½®åå æè¿° å¦ä½éµå¾ªæ­¤åå æ½è±¡å·¥åæ¨¡å¼ åæå·¥å é®é¢æåº ç±»å¾ ä»£ç å®ç° è¦ç¹",content:'# ä¸ãå·¥åæ¨¡å¼ï¼Factory Patternï¼\n\n# é®é¢æåº\n\nå½æä»¬ä½¿ç¨ "new" æ¥å®ä¾åå¯¹è±¡æ¶ï¼ä¹æ¯å¨å¯¹å·ä½å®ç°ç¼ç¨ã æ¯å¦æä»¬æ ¹æ®æ¡ä»¶çä¸åæ¥å®ä¾åé¸­å­ï¼éè¦ç¼åä»¥ä¸ä»£ç \n\nPizza orderPizza(String type) {\n  Pizza pizza;\n\n  if (type.equals("cheese")) {\n    pizza = new CheesePizza();\n  } else if (type.equals("clam")) {\n    pizza = new ClamPizza();\n  } else if (type.equals("veggie")) {\n    pizza = new VeggiePizza();\n  }\n\n  pizza.perpare();\n  pizza.bake();\n  pizza.cut();\n  pizza.box();\n  return pizza;\n}\n\n\nä¸æ¦åçä¿®æ¹ææ©å±ï¼æä»¬å°±å¿é¡»å»ç»´æ¤è¿æ®µä»£ç ï¼å®¹æåºç°é®é¢ï¼è¿åå¼é­ååï¼\n\n# ç®åå·¥å\n\nç®åå·¥åå¶å®ä¸æ¯ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼åèæ¯è¾åæ¯ä¸ç§ç¼ç¨ä¹ æ¯ã\n\n# æ½åååçå°æ¹\n\næåå»ºä¸åå¯¹è±¡è¿ä¸ª âåâ çå°æ¹æ½ååºæ¥ï¼ä¸åçå°æ¹ï¼å¶ä»æ¹æ³ï¼ä¸ååå¨ã\n\npublic class SimplePizzaFactory {\n  public Pizza createPizza(String type) {\n    Pizza pizza;\n\n    if (type.equals("cheese")) {\n      pizza = new CheesePizza();\n    } else if (type.equals("clam")) {\n      pizza = new ClamPizza();\n    } else if (type.equals("veggie")) {\n      pizza = new VeggiePizza();\n    }\n\n    return pizza;\n  }\n}\n\n\néï¼\n\n> éæå·¥åï¼ä½¿ç¨éææ¹æ³æ¥å®ä¹ç®åå·¥åï¼å¯ä»¥ä¸ä½¿ç¨åå»ºå¯¹è±¡çæ¹æ³æ¥å®ä¾åå¯¹è±¡ãç¼ºç¹æ¯ä¸è½éè¿ç»§æ¿æ¥ä¿®æ¹åå»ºæ¹æ³åçè¡ä¸ºã\n\n# ç±»å¾\n\n# å·¥åæ¹æ³æ¨¡å¼\n\nå·¥åæ¹æ³æ¨¡å¼ å®ä¹äºä¸ä¸ªåå»ºå¯¹è±¡çæ¥å£ï¼ä½ç±å­ç±»å³å®è¦å®ä¾åçç±»æ¯åªä¸ä¸ªãå·¥åæ¹æ³è®©ç±»æå®ä¾åæ¨è¿å°å­ç±»ã\n\n# å¼å çåº\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\nimport java.util.ArrayList;\n\npublic abstract class Pizza {\n    protected String name;            // æ«è¨åå­\n    protected String dough;           // é¢å¢ç±»å\n    protected String sauce;           // é±æç±»å\n    protected ArrayList topping= new ArrayList();     // ä¸å¥ä½æ\n\n    public String getName() {\n        return name;\n    }\n\n    public void perpare(){\n        System.out.println("åå¤åæ");\n    }\n    public void bake(){\n        System.out.println("çç¤æ«è¨");\n    }\n    public void cut(){\n        System.out.println("æ«è¨åç");\n    }\n    public void box(){\n        System.out.println("æ«è¨è£ç");\n    }\n}\n\n\nclass ClamPizza extends Pizza {\n    public ClamPizza() {\n        name = "ClamPizza";\n        System.out.println("åå§å" + name);\n    }\n}\nclass VeggiePizza extends Pizza {\n    public VeggiePizza() {\n        name = "VeggiePizza";\n        System.out.println("åå§å" + name);\n    }\n}\nclass NYStyleCheesePizza extends Pizza {\n    public NYStyleCheesePizza() {\n        name = "NYStyleCheesePizza";\n        System.out.println("åå§å" + name);\n    }\n}\nclass ChicagoStyleCheesePizza extends Pizza {\n    public ChicagoStyleCheesePizza() {\n        name = "ChicagoStyleCheesePizza";\n        System.out.println("åå§å" + name);\n    }\n\n    @Override\n    public void cut() {\n        System.out.println("æ«è¨åä¸ºæ¹å");\n    }\n}\n\n\npublic abstract class PizzaStore {\n    Pizza pizza = null;\n\n    public Pizza orderPizza(String type) {\n        return createPizza(type);\n    }\n\n    public void makePizza() {\n        if (null != this.pizza) {\n            pizza.perpare();\n            pizza.bake();\n            pizza.cut();\n            pizza.box();\n        }\n    }\n\n    protected abstract Pizza createPizza(String type);\n}\n\nclass NYStylePizzaStore extends PizzaStore {\n\n    @Override\n    protected Pizza createPizza(String type) {\n        if ("clam".equalsIgnoreCase(type)) {\n            pizza = new ClamPizza();\n        } else if ("veggie".equalsIgnoreCase(type)) {\n            pizza = new VeggiePizza();\n        } else if ("cheese".equalsIgnoreCase(type)) {\n            pizza = new NYStyleCheesePizza();\n        }\n        makePizza();\n        return pizza;\n    }\n}\n\nclass ChicagoStylePizzaStore extends PizzaStore {\n\n    @Override\n    protected Pizza createPizza(String type) {\n        if ("clam".equalsIgnoreCase(type)) {\n            pizza = new ClamPizza();\n        } else if ("veggie".equalsIgnoreCase(type)) {\n            pizza = new VeggiePizza();\n        } else if ("cheese".equalsIgnoreCase(type)) {\n            pizza = new ChicagoStyleCheesePizza();\n        }\n        makePizza();\n        return pizza;\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        PizzaStore nyStylePizzaStore = new NYStylePizzaStore();\n        PizzaStore chicagoStylePizzaStore = new ChicagoStylePizzaStore();\n\n        Pizza nyCheese = nyStylePizzaStore.orderPizza("CHEESE");\n        System.out.println(nyCheese.getName());\n\n        Pizza chCheese = chicagoStylePizzaStore.orderPizza("CHEESE");\n        System.out.println(chCheese.getName());\n    }\n}\n\n\n# ä¾èµåç½®åå\n\n# æè¿°\n\nä¸è½è®©é«å±ç»ä»¶ä¾èµä½å±ç»ä»¶ãèä¸ï¼ä¸ç®¡é«å±ç»ä»¶è¿æ¯ä½å±ç»ä»¶ï¼é½åºè¯¥ä¾èµäºæ½è±¡ã\n\nå¨åºç¨å·¥åæ¹æ³ä¹åï¼ä½ å°æ³¨æå°ï¼é«å±ç»ä»¶ï¼ä¹å°±æ¯PizzaStoreï¼åä½å±ç»ä»¶ï¼ä¹å°±æ¯è¿äºæ¯è¨ï¼é½ä¾èµäºPizzæ½è±¡ãæ³è¦éµå¾ªä¾èµåç½®ååï¼å·¥åæ¹æ³å¹¶éæ¯å¯ä¸çæå·§ï¼ä½å´æ¯ææå¨åçæå·§ä¹ä¸ã\n\næè°åç½®ä½ç°å¨ï¼\n\n# å¦ä½éµå¾ªæ­¤åå\n\n 1. åéä¸å¯ä»¥ææå·ä½ç±»çå¼ç¨ã\n 2. ä¸è¦è®©ç±»æ´¾çèªå·ä½ç±»ã\n 3. ä¸è¦è¦çåºç±»ä¸­å·²å®ç°çæ¹æ³\n\n# æ½è±¡å·¥åæ¨¡å¼\n\næ½è±¡å·¥åæ¨¡å¼ æä¾ä¸ä¸ªæ¥å£ï¼ç¨äºåå»ºç¸å³æä¾èµå¯¹è±¡çå®¶æï¼èä¸éè¦æç¡®æå®å·ä½ç±»ã\n\n# åæå·¥å\n\n# é®é¢æåº\n\nå¦ä½ç¡®ä¿åæçä¸è´ï¼ç±äºå°åå·®å«ï¼æ¯å®¶åºçæ«è¨æä½¿ç¨çåææå¹¶ä¸å®å¨ä¸è´ãæä»¬éè¦å»ºé ä¸ä¸ªå·¥åçäº§åæï¼å¹¶å¤çåä¸ªåºåçå·®å¼ã\n\n# ç±»å¾\n\næ½è±¡å·¥ååè®¸å®¢æ·ä½¿ç¨æ½è±¡çæ¥å£æ¥åå»ºä¸ç»ç¸å³çäº§åï¼èä¸éè¦ç¥éï¼æå³å¿ï¼å®éäº§åºçå·ä½äº§åæ¯ä»ä¹ãè¿æ ·ä¸æ¥ï¼å®¢æ·å°±ä»å·ä½çäº§åä¸­è¢«è§£è¦ãè®©æä»¬ççç±»å¾æ¥äºè§£å¶ä¸­çå³ç³»ï¼\n\n# ä»£ç å®ç°\n\n\npublic interface Ingredient {}\n\nclass Dough implements Ingredient {\n    String name = "Dough";\n    public Dough() {\n        System.out.println("éæ: " + name);\n    }\n}\nclass Sauce implements Ingredient {\n    String name = "Sauce";\n    public Sauce() {\n    }\n}\nclass Cheese implements Ingredient {\n    String name = "Cheese";\n    public Cheese() {\n        System.out.println("éæ: " + name);\n    }\n}\nclass Veggies implements Ingredient {\n    String name = "Veggies";\n}\nclass Carrot extends Veggies {\n    public Carrot() {\n        name = "è¡èå";\n        System.out.println("éæ: " + name);\n    }\n}\nclass Lettuce extends Veggies {\n    public Lettuce() {\n        name = "çè";\n        System.out.println("éæ: " + name);\n    }\n}\nclass Pepperoni implements Ingredient {\n    String name = "Pepperoni";\n    public Pepperoni() {\n        System.out.println("éæ: " + name);\n    }\n}\n\ninterface Clams extends Ingredient {}\n\nclass FreshClams implements Clams {\n    String name = "æ°é²è¤è";\n    public FreshClams() {\n        System.out.println("éæ: " + name);\n    }\n}\nclass FrozenClams implements Clams {\n    String name = "å°å»è¤è";\n    public FrozenClams() {\n        System.out.println("éæ: " + name);\n    }\n}\n\n\npublic interface PizzaIngredientFactory {\n    Dough createDough();\n    Sauce createSauce();\n    Cheese createCheese();\n    Veggies[] createVeggies();\n    Pepperoni createPepperoni();\n    Clams createClam();\n}\n\n\nclass ChicagoPizzaIngredientFactory implements PizzaIngredientFactory {\n\n    @Override\n    public Dough createDough() {\n        return new Dough();\n    }\n\n    @Override\n    public Sauce createSauce() {\n        return new Sauce();\n    }\n\n    @Override\n    public Cheese createCheese() {\n        return new Cheese();\n    }\n\n    @Override\n    public Veggies[] createVeggies() {\n        return new Veggies[]{new Carrot(), new Lettuce()};\n    }\n\n    @Override\n    public Pepperoni createPepperoni() {\n        return new Pepperoni();\n    }\n\n    @Override\n    public Clams createClam() {\n        return new FreshClams();\n    }\n}\n\nclass NYPizzaIngredientFactory implements PizzaIngredientFactory {\n\n    @Override\n    public Dough createDough() {\n        return new Dough();\n    }\n\n    @Override\n    public Sauce createSauce() {\n        return new Sauce();\n    }\n\n    @Override\n    public Cheese createCheese() {\n        return new Cheese();\n    }\n\n    @Override\n    public Veggies[] createVeggies() {\n        return new Veggies[]{new Lettuce()};\n    }\n\n    @Override\n    public Pepperoni createPepperoni() {\n        return new Pepperoni();\n    }\n\n    @Override\n    public Clams createClam() {\n        return new FrozenClams();\n    }\n}\n\n\npublic abstract class Pizza {\n    protected String name;            // æ«è¨åå­\n    protected Dough dough;           // é¢å¢ç±»å\n    protected Sauce sauce;           // é±æç±»å\n    protected List<Ingredient> topping= new ArrayList();     // ä¸å¥ä½æ\n    protected Clams clams;\n\n    public String getName() {\n        return name;\n    }\n\n    public void perpare(){\n        System.out.println("åå¤åæ");\n    }\n    public void bake(){\n        System.out.println("çç¤æ«è¨");\n    }\n    public void cut(){\n        System.out.println("æ«è¨åç");\n    }\n    public void box(){\n        System.out.println("æ«è¨è£ç");\n    }\n}\n\n\nclass ClamPizza extends Pizza {\n    PizzaIngredientFactory pizzaIngredientFactory;   // æ°å¢åæå·¥å\n\n    public ClamPizza(PizzaIngredientFactory pizzaIngredientFactory) {\n        name = "ClamPizza";\n        this.pizzaIngredientFactory = pizzaIngredientFactory;\n    }\n\n    @Override\n    public void perpare() {\n        super.perpare();\n        dough = pizzaIngredientFactory.createDough();\n        sauce = pizzaIngredientFactory.createSauce();\n        topping = Arrays.asList(pizzaIngredientFactory.createVeggies());\n        clams = pizzaIngredientFactory.createClam();\n    }\n}\nclass VeggiePizza extends Pizza {\n    public VeggiePizza() {\n        name = "VeggiePizza";\n        System.out.println("åå§å" + name);\n    }\n}\nclass NYStyleCheesePizza extends Pizza {\n    public NYStyleCheesePizza() {\n        name = "NYStyleCheesePizza";\n        System.out.println("åå§å" + name);\n    }\n}\nclass ChicagoStyleCheesePizza extends Pizza {\n    public ChicagoStyleCheesePizza() {\n        name = "ChicagoStyleCheesePizza";\n        System.out.println("åå§å" + name);\n    }\n\n    @Override\n    public void cut() {\n        System.out.println("æ«è¨åä¸ºæ¹å");\n    }\n}\n\n\npublic abstract class PizzaStore {\n    Pizza pizza = null;\n    PizzaIngredientFactory pizzaIngredientFactory;   // æ°å¢åæå·¥å\n\n    public Pizza orderPizza(String type) {\n        return createPizza(type);\n    }\n\n    public void makePizza() {\n        if (null != this.pizza) {\n            pizza.perpare();\n            pizza.bake();\n            pizza.cut();\n            pizza.box();\n        }\n    }\n\n    protected abstract Pizza createPizza(String type);\n}\n\nclass NYStylePizzaStore extends PizzaStore {\n    public NYStylePizzaStore(PizzaIngredientFactory pizzaIngredientFactory) {\n        super.pizzaIngredientFactory = pizzaIngredientFactory;\n    }\n\n    @Override\n    protected Pizza createPizza(String type) {\n        if ("clam".equalsIgnoreCase(type)) {\n            pizza = new ClamPizza(pizzaIngredientFactory);\n        } else if ("veggie".equalsIgnoreCase(type)) {\n            pizza = new VeggiePizza();\n        } else if ("cheese".equalsIgnoreCase(type)) {\n            pizza = new NYStyleCheesePizza();\n        }\n        makePizza();\n        return pizza;\n    }\n}\n\nclass ChicagoStylePizzaStore extends PizzaStore {\n    public ChicagoStylePizzaStore(PizzaIngredientFactory pizzaIngredientFactory) {\n        super.pizzaIngredientFactory = pizzaIngredientFactory;\n    }\n\n    @Override\n    protected Pizza createPizza(String type) {\n        if ("clam".equalsIgnoreCase(type)) {\n            pizza = new ClamPizza(pizzaIngredientFactory);\n        } else if ("veggie".equalsIgnoreCase(type)) {\n            pizza = new VeggiePizza();\n        } else if ("cheese".equalsIgnoreCase(type)) {\n            pizza = new ChicagoStyleCheesePizza();\n        }\n        makePizza();\n        return pizza;\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        PizzaStore nyStylePizzaStore = new NYStylePizzaStore(new NYPizzaIngredientFactory());\n        PizzaStore chicagoStylePizzaStore = new ChicagoStylePizzaStore(new ChicagoPizzaIngredientFactory());\n\n        Pizza nyCheese = nyStylePizzaStore.orderPizza("Clam");\n        System.out.println(nyCheese.getName());\n\n        Pizza chCheese = chicagoStylePizzaStore.orderPizza("Clam");\n        System.out.println(chCheese.getName());\n    }\n}\n\n\n# è¦ç¹\n\n> æ½è±¡å·¥åçä»»å¡æ¯å®ä¹åå»ºä¸ç»äº§åçæ¥å£ï¼è¿ä¸ªæ¥å£éçæ¯ä¸ªæ¹æ³é½è´è´£åå»ºä¸ä¸ªå·ä½äº§åï¼åæ¶æä»¬éè¿å®ç°æ½è±¡å·¥åå­ç±»æ¥å·ä½å®ç°è¿äºæ¹æ³ï¼å·¥åæ¹æ³ï¼ãå³ï¼æ½è±¡å·¥åçæ¹æ³éå¸¸æ¯ä»¥å·¥åæ¹æ³çæ¹å¼å®ç°çã\n\n * ææçå·¥åé½æ¯ç¨æ¥å°è£å¯¹è±¡çåå»º\n * ç®åå·¥åï¼è½ç¶ä¸æ¯çæ­£çè®¾è®¡æ¨¡å¼ï¼ä½ä»ä¸å¤±ä¸ºä¸ä¸ªç®åçæ¹æ³ï¼å¯ä»¥å°å®¢æ·ç¨åºä»å·ä½ç±»è§£ç¨ ã\n * å·¥åæ¹æ³ä½¿ç¨ç»§æ¿ï¼æå¯¹è±¡çåå»ºå§æç»å­ç±»ï¼å­ç±»å®ç°å·¥åæ¹æ³æ¥åå»ºå¯¹è±¡ã\n * æ½è±¡å·¥åä½¿ç¨å¯¹è±¡ç»åï¼å¯¹è±¡çåå»ºè¢«å®ç°å¨å·¥åæ¥å£ææ´é²åºæ¥çæ¹æ³ä¸­ã\n * ææå·¥åæ¨¡å¼é½éè¿åå°åºç¨ç¨åºåå·ä½ç±»ä¹é´çä¾èµä¿è¿æ¾è¦åã\n * å·¥åæ¹æ³åè®¸ç±»å°å®ä¾åå»¶è¿å°å­ç±»è¿è¡ã\n * æ½è±¡å·¥ååå»ºç¸å³çå¯¹è±¡å®¶æï¼èä¸éè¦ä¾èµå®ä»¬çå·ä½ç±»ã\n * ä¾èµåç½®ååï¼æå¯¼æä»¬é¿åä¾èµå·ä½ç±»åï¼èè¦å°½éä¾èµæ½è±¡ã\n * å·¥åæ¯å¾æå¨åçæå·§ï¼å¸®å©æä»¬éå¯¹æ½è±¡ç¼ç¨ï¼èä¸è¦éå¯¹å·ä½ç±»ç¼ç¨ã',normalizedContent:'# ä¸ãå·¥åæ¨¡å¼ï¼factory patternï¼\n\n# é®é¢æåº\n\nå½æä»¬ä½¿ç¨ "new" æ¥å®ä¾åå¯¹è±¡æ¶ï¼ä¹æ¯å¨å¯¹å·ä½å®ç°ç¼ç¨ã æ¯å¦æä»¬æ ¹æ®æ¡ä»¶çä¸åæ¥å®ä¾åé¸­å­ï¼éè¦ç¼åä»¥ä¸ä»£ç \n\npizza orderpizza(string type) {\n  pizza pizza;\n\n  if (type.equals("cheese")) {\n    pizza = new cheesepizza();\n  } else if (type.equals("clam")) {\n    pizza = new clampizza();\n  } else if (type.equals("veggie")) {\n    pizza = new veggiepizza();\n  }\n\n  pizza.perpare();\n  pizza.bake();\n  pizza.cut();\n  pizza.box();\n  return pizza;\n}\n\n\nä¸æ¦åçä¿®æ¹ææ©å±ï¼æä»¬å°±å¿é¡»å»ç»´æ¤è¿æ®µä»£ç ï¼å®¹æåºç°é®é¢ï¼è¿åå¼é­ååï¼\n\n# ç®åå·¥å\n\nç®åå·¥åå¶å®ä¸æ¯ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼åèæ¯è¾åæ¯ä¸ç§ç¼ç¨ä¹ æ¯ã\n\n# æ½åååçå°æ¹\n\næåå»ºä¸åå¯¹è±¡è¿ä¸ª âåâ çå°æ¹æ½ååºæ¥ï¼ä¸åçå°æ¹ï¼å¶ä»æ¹æ³ï¼ä¸ååå¨ã\n\npublic class simplepizzafactory {\n  public pizza createpizza(string type) {\n    pizza pizza;\n\n    if (type.equals("cheese")) {\n      pizza = new cheesepizza();\n    } else if (type.equals("clam")) {\n      pizza = new clampizza();\n    } else if (type.equals("veggie")) {\n      pizza = new veggiepizza();\n    }\n\n    return pizza;\n  }\n}\n\n\néï¼\n\n> éæå·¥åï¼ä½¿ç¨éææ¹æ³æ¥å®ä¹ç®åå·¥åï¼å¯ä»¥ä¸ä½¿ç¨åå»ºå¯¹è±¡çæ¹æ³æ¥å®ä¾åå¯¹è±¡ãç¼ºç¹æ¯ä¸è½éè¿ç»§æ¿æ¥ä¿®æ¹åå»ºæ¹æ³åçè¡ä¸ºã\n\n# ç±»å¾\n\n# å·¥åæ¹æ³æ¨¡å¼\n\nå·¥åæ¹æ³æ¨¡å¼ å®ä¹äºä¸ä¸ªåå»ºå¯¹è±¡çæ¥å£ï¼ä½ç±å­ç±»å³å®è¦å®ä¾åçç±»æ¯åªä¸ä¸ªãå·¥åæ¹æ³è®©ç±»æå®ä¾åæ¨è¿å°å­ç±»ã\n\n# å¼å çåº\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\nimport java.util.arraylist;\n\npublic abstract class pizza {\n    protected string name;            // æ«è¨åå­\n    protected string dough;           // é¢å¢ç±»å\n    protected string sauce;           // é±æç±»å\n    protected arraylist topping= new arraylist();     // ä¸å¥ä½æ\n\n    public string getname() {\n        return name;\n    }\n\n    public void perpare(){\n        system.out.println("åå¤åæ");\n    }\n    public void bake(){\n        system.out.println("çç¤æ«è¨");\n    }\n    public void cut(){\n        system.out.println("æ«è¨åç");\n    }\n    public void box(){\n        system.out.println("æ«è¨è£ç");\n    }\n}\n\n\nclass clampizza extends pizza {\n    public clampizza() {\n        name = "clampizza";\n        system.out.println("åå§å" + name);\n    }\n}\nclass veggiepizza extends pizza {\n    public veggiepizza() {\n        name = "veggiepizza";\n        system.out.println("åå§å" + name);\n    }\n}\nclass nystylecheesepizza extends pizza {\n    public nystylecheesepizza() {\n        name = "nystylecheesepizza";\n        system.out.println("åå§å" + name);\n    }\n}\nclass chicagostylecheesepizza extends pizza {\n    public chicagostylecheesepizza() {\n        name = "chicagostylecheesepizza";\n        system.out.println("åå§å" + name);\n    }\n\n    @override\n    public void cut() {\n        system.out.println("æ«è¨åä¸ºæ¹å");\n    }\n}\n\n\npublic abstract class pizzastore {\n    pizza pizza = null;\n\n    public pizza orderpizza(string type) {\n        return createpizza(type);\n    }\n\n    public void makepizza() {\n        if (null != this.pizza) {\n            pizza.perpare();\n            pizza.bake();\n            pizza.cut();\n            pizza.box();\n        }\n    }\n\n    protected abstract pizza createpizza(string type);\n}\n\nclass nystylepizzastore extends pizzastore {\n\n    @override\n    protected pizza createpizza(string type) {\n        if ("clam".equalsignorecase(type)) {\n            pizza = new clampizza();\n        } else if ("veggie".equalsignorecase(type)) {\n            pizza = new veggiepizza();\n        } else if ("cheese".equalsignorecase(type)) {\n            pizza = new nystylecheesepizza();\n        }\n        makepizza();\n        return pizza;\n    }\n}\n\nclass chicagostylepizzastore extends pizzastore {\n\n    @override\n    protected pizza createpizza(string type) {\n        if ("clam".equalsignorecase(type)) {\n            pizza = new clampizza();\n        } else if ("veggie".equalsignorecase(type)) {\n            pizza = new veggiepizza();\n        } else if ("cheese".equalsignorecase(type)) {\n            pizza = new chicagostylecheesepizza();\n        }\n        makepizza();\n        return pizza;\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        pizzastore nystylepizzastore = new nystylepizzastore();\n        pizzastore chicagostylepizzastore = new chicagostylepizzastore();\n\n        pizza nycheese = nystylepizzastore.orderpizza("cheese");\n        system.out.println(nycheese.getname());\n\n        pizza chcheese = chicagostylepizzastore.orderpizza("cheese");\n        system.out.println(chcheese.getname());\n    }\n}\n\n\n# ä¾èµåç½®åå\n\n# æè¿°\n\nä¸è½è®©é«å±ç»ä»¶ä¾èµä½å±ç»ä»¶ãèä¸ï¼ä¸ç®¡é«å±ç»ä»¶è¿æ¯ä½å±ç»ä»¶ï¼é½åºè¯¥ä¾èµäºæ½è±¡ã\n\nå¨åºç¨å·¥åæ¹æ³ä¹åï¼ä½ å°æ³¨æå°ï¼é«å±ç»ä»¶ï¼ä¹å°±æ¯pizzastoreï¼åä½å±ç»ä»¶ï¼ä¹å°±æ¯è¿äºæ¯è¨ï¼é½ä¾èµäºpizzæ½è±¡ãæ³è¦éµå¾ªä¾èµåç½®ååï¼å·¥åæ¹æ³å¹¶éæ¯å¯ä¸çæå·§ï¼ä½å´æ¯ææå¨åçæå·§ä¹ä¸ã\n\næè°åç½®ä½ç°å¨ï¼\n\n# å¦ä½éµå¾ªæ­¤åå\n\n 1. åéä¸å¯ä»¥ææå·ä½ç±»çå¼ç¨ã\n 2. ä¸è¦è®©ç±»æ´¾çèªå·ä½ç±»ã\n 3. ä¸è¦è¦çåºç±»ä¸­å·²å®ç°çæ¹æ³\n\n# æ½è±¡å·¥åæ¨¡å¼\n\næ½è±¡å·¥åæ¨¡å¼ æä¾ä¸ä¸ªæ¥å£ï¼ç¨äºåå»ºç¸å³æä¾èµå¯¹è±¡çå®¶æï¼èä¸éè¦æç¡®æå®å·ä½ç±»ã\n\n# åæå·¥å\n\n# é®é¢æåº\n\nå¦ä½ç¡®ä¿åæçä¸è´ï¼ç±äºå°åå·®å«ï¼æ¯å®¶åºçæ«è¨æä½¿ç¨çåææå¹¶ä¸å®å¨ä¸è´ãæä»¬éè¦å»ºé ä¸ä¸ªå·¥åçäº§åæï¼å¹¶å¤çåä¸ªåºåçå·®å¼ã\n\n# ç±»å¾\n\næ½è±¡å·¥ååè®¸å®¢æ·ä½¿ç¨æ½è±¡çæ¥å£æ¥åå»ºä¸ç»ç¸å³çäº§åï¼èä¸éè¦ç¥éï¼æå³å¿ï¼å®éäº§åºçå·ä½äº§åæ¯ä»ä¹ãè¿æ ·ä¸æ¥ï¼å®¢æ·å°±ä»å·ä½çäº§åä¸­è¢«è§£è¦ãè®©æä»¬ççç±»å¾æ¥äºè§£å¶ä¸­çå³ç³»ï¼\n\n# ä»£ç å®ç°\n\n\npublic interface ingredient {}\n\nclass dough implements ingredient {\n    string name = "dough";\n    public dough() {\n        system.out.println("éæ: " + name);\n    }\n}\nclass sauce implements ingredient {\n    string name = "sauce";\n    public sauce() {\n    }\n}\nclass cheese implements ingredient {\n    string name = "cheese";\n    public cheese() {\n        system.out.println("éæ: " + name);\n    }\n}\nclass veggies implements ingredient {\n    string name = "veggies";\n}\nclass carrot extends veggies {\n    public carrot() {\n        name = "è¡èå";\n        system.out.println("éæ: " + name);\n    }\n}\nclass lettuce extends veggies {\n    public lettuce() {\n        name = "çè";\n        system.out.println("éæ: " + name);\n    }\n}\nclass pepperoni implements ingredient {\n    string name = "pepperoni";\n    public pepperoni() {\n        system.out.println("éæ: " + name);\n    }\n}\n\ninterface clams extends ingredient {}\n\nclass freshclams implements clams {\n    string name = "æ°é²è¤è";\n    public freshclams() {\n        system.out.println("éæ: " + name);\n    }\n}\nclass frozenclams implements clams {\n    string name = "å°å»è¤è";\n    public frozenclams() {\n        system.out.println("éæ: " + name);\n    }\n}\n\n\npublic interface pizzaingredientfactory {\n    dough createdough();\n    sauce createsauce();\n    cheese createcheese();\n    veggies[] createveggies();\n    pepperoni createpepperoni();\n    clams createclam();\n}\n\n\nclass chicagopizzaingredientfactory implements pizzaingredientfactory {\n\n    @override\n    public dough createdough() {\n        return new dough();\n    }\n\n    @override\n    public sauce createsauce() {\n        return new sauce();\n    }\n\n    @override\n    public cheese createcheese() {\n        return new cheese();\n    }\n\n    @override\n    public veggies[] createveggies() {\n        return new veggies[]{new carrot(), new lettuce()};\n    }\n\n    @override\n    public pepperoni createpepperoni() {\n        return new pepperoni();\n    }\n\n    @override\n    public clams createclam() {\n        return new freshclams();\n    }\n}\n\nclass nypizzaingredientfactory implements pizzaingredientfactory {\n\n    @override\n    public dough createdough() {\n        return new dough();\n    }\n\n    @override\n    public sauce createsauce() {\n        return new sauce();\n    }\n\n    @override\n    public cheese createcheese() {\n        return new cheese();\n    }\n\n    @override\n    public veggies[] createveggies() {\n        return new veggies[]{new lettuce()};\n    }\n\n    @override\n    public pepperoni createpepperoni() {\n        return new pepperoni();\n    }\n\n    @override\n    public clams createclam() {\n        return new frozenclams();\n    }\n}\n\n\npublic abstract class pizza {\n    protected string name;            // æ«è¨åå­\n    protected dough dough;           // é¢å¢ç±»å\n    protected sauce sauce;           // é±æç±»å\n    protected list<ingredient> topping= new arraylist();     // ä¸å¥ä½æ\n    protected clams clams;\n\n    public string getname() {\n        return name;\n    }\n\n    public void perpare(){\n        system.out.println("åå¤åæ");\n    }\n    public void bake(){\n        system.out.println("çç¤æ«è¨");\n    }\n    public void cut(){\n        system.out.println("æ«è¨åç");\n    }\n    public void box(){\n        system.out.println("æ«è¨è£ç");\n    }\n}\n\n\nclass clampizza extends pizza {\n    pizzaingredientfactory pizzaingredientfactory;   // æ°å¢åæå·¥å\n\n    public clampizza(pizzaingredientfactory pizzaingredientfactory) {\n        name = "clampizza";\n        this.pizzaingredientfactory = pizzaingredientfactory;\n    }\n\n    @override\n    public void perpare() {\n        super.perpare();\n        dough = pizzaingredientfactory.createdough();\n        sauce = pizzaingredientfactory.createsauce();\n        topping = arrays.aslist(pizzaingredientfactory.createveggies());\n        clams = pizzaingredientfactory.createclam();\n    }\n}\nclass veggiepizza extends pizza {\n    public veggiepizza() {\n        name = "veggiepizza";\n        system.out.println("åå§å" + name);\n    }\n}\nclass nystylecheesepizza extends pizza {\n    public nystylecheesepizza() {\n        name = "nystylecheesepizza";\n        system.out.println("åå§å" + name);\n    }\n}\nclass chicagostylecheesepizza extends pizza {\n    public chicagostylecheesepizza() {\n        name = "chicagostylecheesepizza";\n        system.out.println("åå§å" + name);\n    }\n\n    @override\n    public void cut() {\n        system.out.println("æ«è¨åä¸ºæ¹å");\n    }\n}\n\n\npublic abstract class pizzastore {\n    pizza pizza = null;\n    pizzaingredientfactory pizzaingredientfactory;   // æ°å¢åæå·¥å\n\n    public pizza orderpizza(string type) {\n        return createpizza(type);\n    }\n\n    public void makepizza() {\n        if (null != this.pizza) {\n            pizza.perpare();\n            pizza.bake();\n            pizza.cut();\n            pizza.box();\n        }\n    }\n\n    protected abstract pizza createpizza(string type);\n}\n\nclass nystylepizzastore extends pizzastore {\n    public nystylepizzastore(pizzaingredientfactory pizzaingredientfactory) {\n        super.pizzaingredientfactory = pizzaingredientfactory;\n    }\n\n    @override\n    protected pizza createpizza(string type) {\n        if ("clam".equalsignorecase(type)) {\n            pizza = new clampizza(pizzaingredientfactory);\n        } else if ("veggie".equalsignorecase(type)) {\n            pizza = new veggiepizza();\n        } else if ("cheese".equalsignorecase(type)) {\n            pizza = new nystylecheesepizza();\n        }\n        makepizza();\n        return pizza;\n    }\n}\n\nclass chicagostylepizzastore extends pizzastore {\n    public chicagostylepizzastore(pizzaingredientfactory pizzaingredientfactory) {\n        super.pizzaingredientfactory = pizzaingredientfactory;\n    }\n\n    @override\n    protected pizza createpizza(string type) {\n        if ("clam".equalsignorecase(type)) {\n            pizza = new clampizza(pizzaingredientfactory);\n        } else if ("veggie".equalsignorecase(type)) {\n            pizza = new veggiepizza();\n        } else if ("cheese".equalsignorecase(type)) {\n            pizza = new chicagostylecheesepizza();\n        }\n        makepizza();\n        return pizza;\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        pizzastore nystylepizzastore = new nystylepizzastore(new nypizzaingredientfactory());\n        pizzastore chicagostylepizzastore = new chicagostylepizzastore(new chicagopizzaingredientfactory());\n\n        pizza nycheese = nystylepizzastore.orderpizza("clam");\n        system.out.println(nycheese.getname());\n\n        pizza chcheese = chicagostylepizzastore.orderpizza("clam");\n        system.out.println(chcheese.getname());\n    }\n}\n\n\n# è¦ç¹\n\n> æ½è±¡å·¥åçä»»å¡æ¯å®ä¹åå»ºä¸ç»äº§åçæ¥å£ï¼è¿ä¸ªæ¥å£éçæ¯ä¸ªæ¹æ³é½è´è´£åå»ºä¸ä¸ªå·ä½äº§åï¼åæ¶æä»¬éè¿å®ç°æ½è±¡å·¥åå­ç±»æ¥å·ä½å®ç°è¿äºæ¹æ³ï¼å·¥åæ¹æ³ï¼ãå³ï¼æ½è±¡å·¥åçæ¹æ³éå¸¸æ¯ä»¥å·¥åæ¹æ³çæ¹å¼å®ç°çã\n\n * ææçå·¥åé½æ¯ç¨æ¥å°è£å¯¹è±¡çåå»º\n * ç®åå·¥åï¼è½ç¶ä¸æ¯çæ­£çè®¾è®¡æ¨¡å¼ï¼ä½ä»ä¸å¤±ä¸ºä¸ä¸ªç®åçæ¹æ³ï¼å¯ä»¥å°å®¢æ·ç¨åºä»å·ä½ç±»è§£ç¨ ã\n * å·¥åæ¹æ³ä½¿ç¨ç»§æ¿ï¼æå¯¹è±¡çåå»ºå§æç»å­ç±»ï¼å­ç±»å®ç°å·¥åæ¹æ³æ¥åå»ºå¯¹è±¡ã\n * æ½è±¡å·¥åä½¿ç¨å¯¹è±¡ç»åï¼å¯¹è±¡çåå»ºè¢«å®ç°å¨å·¥åæ¥å£ææ´é²åºæ¥çæ¹æ³ä¸­ã\n * ææå·¥åæ¨¡å¼é½éè¿åå°åºç¨ç¨åºåå·ä½ç±»ä¹é´çä¾èµä¿è¿æ¾è¦åã\n * å·¥åæ¹æ³åè®¸ç±»å°å®ä¾åå»¶è¿å°å­ç±»è¿è¡ã\n * æ½è±¡å·¥ååå»ºç¸å³çå¯¹è±¡å®¶æï¼èä¸éè¦ä¾èµå®ä»¬çå·ä½ç±»ã\n * ä¾èµåç½®ååï¼æå¯¼æä»¬é¿åä¾èµå·ä½ç±»åï¼èè¦å°½éä¾èµæ½è±¡ã\n * å·¥åæ¯å¾æå¨åçæå·§ï¼å¸®å©æä»¬éå¯¹æ½è±¡ç¼ç¨ï¼èä¸è¦éå¯¹å·ä½ç±»ç¼ç¨ã',charsets:{cjk:!0},lastUpdated:"2022/07/17, 00:24:40",lastUpdatedTimestamp:165798868e4},{title:"å½ä»¤æ¨¡å¼",frontmatter:{title:"å½ä»¤æ¨¡å¼",date:"2022-07-18T00:13:17.000Z",permalink:"/pages/5d365c/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/060.%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/060.å½ä»¤æ¨¡å¼.md",key:"v-11fe809f",path:"/pages/5d365c/",headers:[{level:2,title:"å½ä»¤æ¨¡å¼ï¼Command Patternï¼",slug:"å½ä»¤æ¨¡å¼-command-pattern",normalizedTitle:"å½ä»¤æ¨¡å¼ï¼command patternï¼",charIndex:2},{level:4,title:"é®é¢æåº",slug:"é®é¢æåº",normalizedTitle:"é®é¢æåº",charIndex:84},{level:4,title:"æèå¦ä½å®ç°",slug:"æèå¦ä½å®ç°",normalizedTitle:"æèå¦ä½å®ç°",charIndex:155},{level:4,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:279},{level:4,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:285},{level:4,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:61},{level:5,title:"å®ç°å½ä»¤æ¤éï¼å¾å®åï¼",slug:"å®ç°å½ä»¤æ¤é-å¾å®å",normalizedTitle:"å®ç°å½ä»¤æ¤éï¼å¾å®åï¼",charIndex:4824},{level:5,title:"ä½¿ç¨å®å½ä»¤åå®æ¤éï¼å¾å®åï¼",slug:"ä½¿ç¨å®å½ä»¤åå®æ¤é-å¾å®å",normalizedTitle:"ä½¿ç¨å®å½ä»¤åå®æ¤éï¼å¾å®åï¼",charIndex:4839},{level:5,title:"å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼éåè¯·æ±ï¼å¾å®åï¼",slug:"å½ä»¤æ¨¡å¼æ´å¤ç¨é-éåè¯·æ±-å¾å®å",normalizedTitle:"å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼éåè¯·æ±ï¼å¾å®åï¼",charIndex:4857},{level:5,title:"å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼æ¥å¿è¯·æ±ï¼å¾å®åï¼",slug:"å½ä»¤æ¨¡å¼æ´å¤ç¨é-æ¥å¿è¯·æ±-å¾å®å",normalizedTitle:"å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼æ¥å¿è¯·æ±ï¼å¾å®åï¼",charIndex:4879},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:4901}],headersStr:"å½ä»¤æ¨¡å¼ï¼Command Patternï¼ é®é¢æåº æèå¦ä½å®ç° ç±»å¾ ä»£ç å®ç° å¶ä» å®ç°å½ä»¤æ¤éï¼å¾å®åï¼ ä½¿ç¨å®å½ä»¤åå®æ¤éï¼å¾å®åï¼ å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼éåè¯·æ±ï¼å¾å®åï¼ å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼æ¥å¿è¯·æ±ï¼å¾å®åï¼ è¦ç¹",content:'# å½ä»¤æ¨¡å¼ï¼Command Patternï¼\n\nå½ä»¤æ¨¡å¼ å°âè¯·æ±âå°è£æå¯¹è±¡ï¼ä»¥ä¾¿ä½¿ç¨ä¸åçè¯·æ±ãéåæèæ¥å¿æ¥åæ°åå¶ä»å¯¹è±¡ãå½ä»¤æ¨¡å¼ä¹æ¯æå¯æ¤éçæä½ã\n\n# é®é¢æåº\n\nåå»ºä¸ç»æ§å¶é¥æ§å¨çAPIï¼è®©é¥æ§å¨æ¯ä¸ªææ§½é½è½æ§å¶ä¸ä¸ªæä¸ç»è£ç½®ãæ³¨æï¼è¦æ±è½å¤æ§å¶ç®åçè£ç½®åä»»ä½æªæ¥å¯è½åºç°çè£ç½®ã\n\n# æèå¦ä½å®ç°\n\n 1. å®¢æ·åå»ºä¸ä¸ªå½ä»¤å¯¹è±¡\n 2. å®¢æ·å©ç¨ setCommand() å°å½ä»¤å¯¹è±¡å­å¨å¨è°ç¨èä¸­\n 3. å®¢æ·è¦æ±è°ç¨èæ§è¡å½ä»¤\n\n> æ³¨æï¼ä¸æ¦å½ä»¤è¢«å è½½å°è°ç¨èï¼è¯¥å½ä»¤å¯ä»¥è¢«ä½¿ç¨æä¸¢å¼ï¼æèå¯ä»¥è¢«ä¿çä¸æ¥å¹¶ä½¿ç¨è®¸å¤æ¬¡ã\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\n// çµç¯ç±»\nclass Light {\n    String name;\n    public Light(String name) {\n        this.name = name;\n    }\n\n    public void on() {\n        System.out.println(name + "è¢«æå¼");\n    }\n    public void off() {\n        System.out.println(name + "è¢«å³é­");\n    }\n}\n\n/**\n * é³åç±»\n */\nclass Stereo {\n    public void on() {\n        System.out.println("æå¼é³å");\n    }\n\n    public void setCD() {\n        System.out.println("æ­æ¾CD");\n    }\n\n    public void setVolume(int val) {\n        System.out.println("è®¾ç½®é³é" + val);\n    }\n\n    public void off() {\n        System.out.println("å³é­é³å");\n    }\n}\n\n\npublic interface Command {\n    public void execute();\n}\n\nclass NoCommand implements Command {\n\n    @Override\n    public void execute() {\n        // System.out.println("ä»ä¹ä¹ä¸å");\n    }\n}\n\n// æå¼çµç¯\nclass LightOnCommand implements Command {\n    Light light;\n\n    public LightOnCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.on();\n    }\n}\n\n// å³é­çµç¯\nclass LightOffCommand implements Command {\n    Light light;\n\n    public LightOffCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.off();\n    }\n}\n\n/**\n * æå¼é³åå½ä»¤\n */\nclass StereoOnWithCDCommand implements Command {\n    Stereo stereo;\n\n    public StereoOnWithCDCommand(Stereo stereo) {\n        this.stereo = stereo;\n    }\n\n    @Override\n    public void execute() {\n        stereo.on();\n        stereo.setCD();\n        stereo.setVolume(11);\n    }\n}\n\n/**\n * å³é­é³åå½ä»¤\n */\nclass StereoOffCommand implements Command {\n    Stereo stereo;\n\n    public StereoOffCommand(Stereo stereo) {\n        this.stereo = stereo;\n    }\n\n    @Override\n    public void execute() {\n        stereo.off();\n    }\n}\n\n\n/**\n * é¥æ§å¨ç±»\n */\npublic class SimpleRemoteController {\n    // ææ§½ææå½ä»¤ï¼æ§å¶çä¸ä¸ªè£ç½®\n    // ç¨æ¥è®°å½ 7 ä¸ªæ¥å£çå½ä»¤\n    Command[] onCommands;\n    Command[] offCommands;\n\n    public SimpleRemoteController() {\n        // å®ä¾åå¹¶åå§åä¸¤ä¸ªå¼å³æ°ç»\n        this.onCommands = new Command[7];\n        this.offCommands = new Command[7];\n\n        NoCommand noCommand = new NoCommand();\n        for (int i = 0; i < 7; i++) {\n            onCommands[i] = noCommand;\n            offCommands[i] = noCommand;\n        }\n    }\n\n    /**\n     * @param slot   ææ§½ä½ç½®\n     * @param onCommand   å¼å½ä»¤\n     * @param offCommand  å³å½ä»¤\n     * ç¨æ¥è®¾ç½®ææ§½æ§å¶å½ä»¤ï¼å¯ä»¥éè¿å¤æ¬¡è°ç¨æ¹åè¡ä¸º\n     */\n    public void setCommand(int slot, Command onCommand, Command offCommand) {\n        onCommands[slot] = onCommand;\n        offCommands[slot] = offCommand;\n    }\n\n    /**\n     * æä¸å¼å¯æé®ï¼å½ä»¤è¡æ¥ææ§½ï¼è°ç¨ execute() æ¹æ³\n     */\n    public void onButtonWasPressed(int slot) {\n        onCommands[slot].execute();\n    }\n\n    public void offButtonWasPressed(int slot) {\n        offCommands[slot].execute();\n    }\n\n    @Override\n    public String toString() {\n        StringBuffer stringBuffer = new StringBuffer();\n\n        for (int i = 0; i < 7; i++) {\n            stringBuffer.append("è£ç½®ï¼")\n                    .append(i)\n                    .append("\\tå¼å¯ç±»ï¼")\n                    .append(onCommands[i].getClass().getName())\n                    .append("\\tå³é­ç±»ï¼")\n                    .append(offCommands.getClass().getName())\n                    .append("\\n");\n        }\n\n        return stringBuffer.toString();\n    }\n}\n\n\n/**\n * å½ä»¤æ¨¡å¼çå®¢æ·\n */\npublic class Main {\n    public static void main(String[] args) {\n        Light light1 = new Light("å¨æ¿ç¯");\n        Light light2 = new Light("å§å®¤ç¯");\n        Stereo stereo = new Stereo();\n        LightOnCommand light1OnCommand = new LightOnCommand(light1);\n        LightOnCommand light2OnCommand = new LightOnCommand(light2);\n        LightOffCommand light1OffCommand = new LightOffCommand(light1);\n        LightOffCommand light2OffCommand = new LightOffCommand(light2);\n        StereoOnWithCDCommand stereoOnWithCDCommand = new StereoOnWithCDCommand(stereo);\n        StereoOffCommand stereoOffCommand = new StereoOffCommand(stereo);\n\n        SimpleRemoteController simpleRemoteController = new SimpleRemoteController();\n        simpleRemoteController.setCommand(1, light1OnCommand, light1OffCommand);\n        simpleRemoteController.setCommand(2, light2OnCommand, light2OffCommand);\n        simpleRemoteController.setCommand(3, stereoOnWithCDCommand, stereoOffCommand);\n\n        System.out.println(simpleRemoteController.toString());\n\n        simpleRemoteController.onButtonWasPressed(1);\n        simpleRemoteController.onButtonWasPressed(2);\n        simpleRemoteController.onButtonWasPressed(3);\n        simpleRemoteController.offButtonWasPressed(3);\n    }\n}\n\n\n# å¶ä»\n\n# å®ç°å½ä»¤æ¤éï¼å¾å®åï¼\n\n# ä½¿ç¨å®å½ä»¤åå®æ¤éï¼å¾å®åï¼\n\n# å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼éåè¯·æ±ï¼å¾å®åï¼\n\n# å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼æ¥å¿è¯·æ±ï¼å¾å®åï¼\n\n# è¦ç¹\n\n * å½ä»¤æ¨¡å¼å°ååºè¯·æ±çå¯¹è±¡åæ§è¡è¯·æ±çå¯¹è±¡è§£è¦ã\n * å¨è¢«è§£è¦çä¸¤èä¹é´æ¯éè¿å½ä»¤å¯¹è±¡è¿è¡æ²éçãå½ä»¤å¯¹è±¡å°è£äºæ¥æ¶èåä¸ä¸ªæä¸ç»å¨ä½ã\n * è°ç¨èéè¿è°ç¨å½ä»¤å¯¹è±¡çexecute()ååºè¯·æ±ï¼è¿ä¼ä½¿å¾æ¥æ¶èçå¨ä½è¢«è°ç¨ã\n * è°ç¨èå¯ä»¥æ¥åå½ä»¤å½ååæ°ï¼çè³å¨è¿è¡æ¶å¨æå°è¿è¡ã\n * å½ä»¤å¯ä»¥æ¯ç¹æéï¼åæ³æ¯å®ç°ä¸ä¸ªundo()æ¹æ³æ¥åå°execute()è¢«æ§è¡åçç¶æã\n * å®å½ä»¤æ¯å½ä»¤çä¸ç§ç®åçå»¶ä¼¸ï¼åè®¸è°ç¨å¤ä¸ªå½ä»¤ãå®æ¹æ³ä¹å¯ä»¥æ¯ææ¤éã\n * å®éæä½æ¶ï¼å¾å¸¸è§ä½¿ç¨âèªæâå½ä»¤å¯¹è±¡ï¼ä¹å°±æ¯ç´æ¥å®ç°äºè¯·æ±ï¼èä¸æ¯å°å·¥ä½å§æç»æ¥æ¶èã\n * å½ä»¤ä¹å¯ä»¥ç¨æ¥å®ç°æ¥å¿åäºå¡ç³»ç»ã',normalizedContent:'# å½ä»¤æ¨¡å¼ï¼command patternï¼\n\nå½ä»¤æ¨¡å¼ å°âè¯·æ±âå°è£æå¯¹è±¡ï¼ä»¥ä¾¿ä½¿ç¨ä¸åçè¯·æ±ãéåæèæ¥å¿æ¥åæ°åå¶ä»å¯¹è±¡ãå½ä»¤æ¨¡å¼ä¹æ¯æå¯æ¤éçæä½ã\n\n# é®é¢æåº\n\nåå»ºä¸ç»æ§å¶é¥æ§å¨çapiï¼è®©é¥æ§å¨æ¯ä¸ªææ§½é½è½æ§å¶ä¸ä¸ªæä¸ç»è£ç½®ãæ³¨æï¼è¦æ±è½å¤æ§å¶ç®åçè£ç½®åä»»ä½æªæ¥å¯è½åºç°çè£ç½®ã\n\n# æèå¦ä½å®ç°\n\n 1. å®¢æ·åå»ºä¸ä¸ªå½ä»¤å¯¹è±¡\n 2. å®¢æ·å©ç¨ setcommand() å°å½ä»¤å¯¹è±¡å­å¨å¨è°ç¨èä¸­\n 3. å®¢æ·è¦æ±è°ç¨èæ§è¡å½ä»¤\n\n> æ³¨æï¼ä¸æ¦å½ä»¤è¢«å è½½å°è°ç¨èï¼è¯¥å½ä»¤å¯ä»¥è¢«ä½¿ç¨æä¸¢å¼ï¼æèå¯ä»¥è¢«ä¿çä¸æ¥å¹¶ä½¿ç¨è®¸å¤æ¬¡ã\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\n// çµç¯ç±»\nclass light {\n    string name;\n    public light(string name) {\n        this.name = name;\n    }\n\n    public void on() {\n        system.out.println(name + "è¢«æå¼");\n    }\n    public void off() {\n        system.out.println(name + "è¢«å³é­");\n    }\n}\n\n/**\n * é³åç±»\n */\nclass stereo {\n    public void on() {\n        system.out.println("æå¼é³å");\n    }\n\n    public void setcd() {\n        system.out.println("æ­æ¾cd");\n    }\n\n    public void setvolume(int val) {\n        system.out.println("è®¾ç½®é³é" + val);\n    }\n\n    public void off() {\n        system.out.println("å³é­é³å");\n    }\n}\n\n\npublic interface command {\n    public void execute();\n}\n\nclass nocommand implements command {\n\n    @override\n    public void execute() {\n        // system.out.println("ä»ä¹ä¹ä¸å");\n    }\n}\n\n// æå¼çµç¯\nclass lightoncommand implements command {\n    light light;\n\n    public lightoncommand(light light) {\n        this.light = light;\n    }\n\n    @override\n    public void execute() {\n        light.on();\n    }\n}\n\n// å³é­çµç¯\nclass lightoffcommand implements command {\n    light light;\n\n    public lightoffcommand(light light) {\n        this.light = light;\n    }\n\n    @override\n    public void execute() {\n        light.off();\n    }\n}\n\n/**\n * æå¼é³åå½ä»¤\n */\nclass stereoonwithcdcommand implements command {\n    stereo stereo;\n\n    public stereoonwithcdcommand(stereo stereo) {\n        this.stereo = stereo;\n    }\n\n    @override\n    public void execute() {\n        stereo.on();\n        stereo.setcd();\n        stereo.setvolume(11);\n    }\n}\n\n/**\n * å³é­é³åå½ä»¤\n */\nclass stereooffcommand implements command {\n    stereo stereo;\n\n    public stereooffcommand(stereo stereo) {\n        this.stereo = stereo;\n    }\n\n    @override\n    public void execute() {\n        stereo.off();\n    }\n}\n\n\n/**\n * é¥æ§å¨ç±»\n */\npublic class simpleremotecontroller {\n    // ææ§½ææå½ä»¤ï¼æ§å¶çä¸ä¸ªè£ç½®\n    // ç¨æ¥è®°å½ 7 ä¸ªæ¥å£çå½ä»¤\n    command[] oncommands;\n    command[] offcommands;\n\n    public simpleremotecontroller() {\n        // å®ä¾åå¹¶åå§åä¸¤ä¸ªå¼å³æ°ç»\n        this.oncommands = new command[7];\n        this.offcommands = new command[7];\n\n        nocommand nocommand = new nocommand();\n        for (int i = 0; i < 7; i++) {\n            oncommands[i] = nocommand;\n            offcommands[i] = nocommand;\n        }\n    }\n\n    /**\n     * @param slot   ææ§½ä½ç½®\n     * @param oncommand   å¼å½ä»¤\n     * @param offcommand  å³å½ä»¤\n     * ç¨æ¥è®¾ç½®ææ§½æ§å¶å½ä»¤ï¼å¯ä»¥éè¿å¤æ¬¡è°ç¨æ¹åè¡ä¸º\n     */\n    public void setcommand(int slot, command oncommand, command offcommand) {\n        oncommands[slot] = oncommand;\n        offcommands[slot] = offcommand;\n    }\n\n    /**\n     * æä¸å¼å¯æé®ï¼å½ä»¤è¡æ¥ææ§½ï¼è°ç¨ execute() æ¹æ³\n     */\n    public void onbuttonwaspressed(int slot) {\n        oncommands[slot].execute();\n    }\n\n    public void offbuttonwaspressed(int slot) {\n        offcommands[slot].execute();\n    }\n\n    @override\n    public string tostring() {\n        stringbuffer stringbuffer = new stringbuffer();\n\n        for (int i = 0; i < 7; i++) {\n            stringbuffer.append("è£ç½®ï¼")\n                    .append(i)\n                    .append("\\tå¼å¯ç±»ï¼")\n                    .append(oncommands[i].getclass().getname())\n                    .append("\\tå³é­ç±»ï¼")\n                    .append(offcommands.getclass().getname())\n                    .append("\\n");\n        }\n\n        return stringbuffer.tostring();\n    }\n}\n\n\n/**\n * å½ä»¤æ¨¡å¼çå®¢æ·\n */\npublic class main {\n    public static void main(string[] args) {\n        light light1 = new light("å¨æ¿ç¯");\n        light light2 = new light("å§å®¤ç¯");\n        stereo stereo = new stereo();\n        lightoncommand light1oncommand = new lightoncommand(light1);\n        lightoncommand light2oncommand = new lightoncommand(light2);\n        lightoffcommand light1offcommand = new lightoffcommand(light1);\n        lightoffcommand light2offcommand = new lightoffcommand(light2);\n        stereoonwithcdcommand stereoonwithcdcommand = new stereoonwithcdcommand(stereo);\n        stereooffcommand stereooffcommand = new stereooffcommand(stereo);\n\n        simpleremotecontroller simpleremotecontroller = new simpleremotecontroller();\n        simpleremotecontroller.setcommand(1, light1oncommand, light1offcommand);\n        simpleremotecontroller.setcommand(2, light2oncommand, light2offcommand);\n        simpleremotecontroller.setcommand(3, stereoonwithcdcommand, stereooffcommand);\n\n        system.out.println(simpleremotecontroller.tostring());\n\n        simpleremotecontroller.onbuttonwaspressed(1);\n        simpleremotecontroller.onbuttonwaspressed(2);\n        simpleremotecontroller.onbuttonwaspressed(3);\n        simpleremotecontroller.offbuttonwaspressed(3);\n    }\n}\n\n\n# å¶ä»\n\n# å®ç°å½ä»¤æ¤éï¼å¾å®åï¼\n\n# ä½¿ç¨å®å½ä»¤åå®æ¤éï¼å¾å®åï¼\n\n# å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼éåè¯·æ±ï¼å¾å®åï¼\n\n# å½ä»¤æ¨¡å¼æ´å¤ç¨éï¼æ¥å¿è¯·æ±ï¼å¾å®åï¼\n\n# è¦ç¹\n\n * å½ä»¤æ¨¡å¼å°ååºè¯·æ±çå¯¹è±¡åæ§è¡è¯·æ±çå¯¹è±¡è§£è¦ã\n * å¨è¢«è§£è¦çä¸¤èä¹é´æ¯éè¿å½ä»¤å¯¹è±¡è¿è¡æ²éçãå½ä»¤å¯¹è±¡å°è£äºæ¥æ¶èåä¸ä¸ªæä¸ç»å¨ä½ã\n * è°ç¨èéè¿è°ç¨å½ä»¤å¯¹è±¡çexecute()ååºè¯·æ±ï¼è¿ä¼ä½¿å¾æ¥æ¶èçå¨ä½è¢«è°ç¨ã\n * è°ç¨èå¯ä»¥æ¥åå½ä»¤å½ååæ°ï¼çè³å¨è¿è¡æ¶å¨æå°è¿è¡ã\n * å½ä»¤å¯ä»¥æ¯ç¹æéï¼åæ³æ¯å®ç°ä¸ä¸ªundo()æ¹æ³æ¥åå°execute()è¢«æ§è¡åçç¶æã\n * å®å½ä»¤æ¯å½ä»¤çä¸ç§ç®åçå»¶ä¼¸ï¼åè®¸è°ç¨å¤ä¸ªå½ä»¤ãå®æ¹æ³ä¹å¯ä»¥æ¯ææ¤éã\n * å®éæä½æ¶ï¼å¾å¸¸è§ä½¿ç¨âèªæâå½ä»¤å¯¹è±¡ï¼ä¹å°±æ¯ç´æ¥å®ç°äºè¯·æ±ï¼èä¸æ¯å°å·¥ä½å§æç»æ¥æ¶èã\n * å½ä»¤ä¹å¯ä»¥ç¨æ¥å®ç°æ¥å¿åäºå¡ç³»ç»ã',charsets:{cjk:!0},lastUpdated:"2022/07/19, 00:02:31",lastUpdatedTimestamp:1658160151e3},{title:"ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼",frontmatter:{title:"ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼",date:"2022-07-18T23:40:41.000Z",permalink:"/pages/c7cf8b/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/070.%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/070.ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼.md",key:"v-74435332",path:"/pages/c7cf8b/",headers:[{level:2,title:"ééå¨æ¨¡å¼ï¼Adaptor Patternï¼",slug:"ééå¨æ¨¡å¼-adaptor-pattern",normalizedTitle:"ééå¨æ¨¡å¼ï¼adaptor patternï¼",charIndex:2},{level:4,title:"é®é¢æåºï¼ç«é¸¡è½¬æ¢å¨",slug:"é®é¢æåº-ç«é¸¡è½¬æ¢å¨",normalizedTitle:"é®é¢æåºï¼ç«é¸¡è½¬æ¢å¨",charIndex:78},{level:4,title:"ç±»å¾ï¼å¯¹è±¡ééå¨ï¼",slug:"ç±»å¾-å¯¹è±¡ééå¨",normalizedTitle:"ç±»å¾ï¼å¯¹è±¡ééå¨ï¼",charIndex:160},{level:4,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:183},{level:4,title:"å¤ç»§æ¿æ¶ç±»ééå¨ï¼Javaæ æ³å®ç°ï¼",slug:"å¤ç»§æ¿æ¶ç±»ééå¨-javaæ æ³å®ç°",normalizedTitle:"å¤ç»§æ¿æ¶ç±»ééå¨ï¼javaæ æ³å®ç°ï¼",charIndex:1626},{level:4,title:"çå®ä¸çï¼Javaï¼çééå¨",slug:"çå®ä¸ç-java-çééå¨",normalizedTitle:"çå®ä¸çï¼javaï¼çééå¨",charIndex:1658},{level:5,title:"é®é¢æåº",slug:"é®é¢æåº",normalizedTitle:"é®é¢æåº",charIndex:78},{level:5,title:"å°æä¸¾ééå°è¿­ä»£å¨",slug:"å°æä¸¾ééå°è¿­ä»£å¨",normalizedTitle:"å°æä¸¾ééå°è¿­ä»£å¨",charIndex:2030},{level:2,title:"å¤è§æ¨¡å¼ï¼Facade Patternï¼",slug:"å¤è§æ¨¡å¼-facade-pattern",normalizedTitle:"å¤è§æ¨¡å¼ï¼facade patternï¼",charIndex:2119},{level:4,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:160},{level:4,title:"æå°ç¥éåå",slug:"æå°ç¥éåå",normalizedTitle:"æå°ç¥éåå",charIndex:2203},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:2510}],headersStr:"ééå¨æ¨¡å¼ï¼Adaptor Patternï¼ é®é¢æåºï¼ç«é¸¡è½¬æ¢å¨ ç±»å¾ï¼å¯¹è±¡ééå¨ï¼ ä»£ç å®ç° å¤ç»§æ¿æ¶ç±»ééå¨ï¼Javaæ æ³å®ç°ï¼ çå®ä¸çï¼Javaï¼çééå¨ é®é¢æåº å°æä¸¾ééå°è¿­ä»£å¨ å¤è§æ¨¡å¼ï¼Facade Patternï¼ ç±»å¾ æå°ç¥éåå è¦ç¹",content:'# ééå¨æ¨¡å¼ï¼Adaptor Patternï¼\n\nééå¨æ¨¡å¼ å°ä¸ä¸ªç±»çæ¥å£ï¼è½¬æ¢æå®¢æ·ææçå¦ä¸ä¸ªæ¥å£ãééå¨è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥åä½æ é´ã\n\n# é®é¢æåºï¼ç«é¸¡è½¬æ¢å¨\n\nåå¦æä»¬å¨è·¯ä¸éè§ä¸ä¸ªNPCï¼å¿é¡»ç»ä»ä¸åªé¸­å­æè½å®æä»»å¡ãä½æ¯æä»¬åªæä¸åªç«é¸¡ï¼è¿æ¶ï¼æä»¬å°±éè¦ééå¨æ¨¡å¼æ¥ééä»çéæ±ãðð¤£\n\n# ç±»å¾ï¼å¯¹è±¡ééå¨ï¼\n\n\néç¨ç»åçæ¹å¼\n\n# ä»£ç å®ç°\n\n/ é¸­å­æ¥å£\npublic interface Duck {\n    public void quack();\n    public void fly();\n}\n\nclass MallardDuck implements Duck{\n\n    @Override\n    public void quack() {\n        System.out.println("ç»¿å¤´é¸­å«");\n    }\n\n    @Override\n    public void fly() {\n        System.out.println("ç»¿å¤´é¸­é£");\n    }\n}\n\n\n/**\n * ç«é¸¡æ¥å£\n */\npublic interface Turkey {\n    public void gobble();   // ç«é¸¡å¯å¯å«\n    public void fly();      // ç«é¸¡é£\n}\n\n/**\n * ç«é¸¡å®ç°\n */\nclass WildTurkey implements Turkey {\n\n    @Override\n    public void gobble() {\n        System.out.println("ç«é¸¡å¯å¯å«");\n    }\n\n    @Override\n    public void fly() {\n        System.out.println("ç«é¸¡é£è¡");\n    }\n}\n\n\npublic class TurkeyAdaptor implements Duck {\n    Turkey turkey;\n\n    public TurkeyAdaptor(Turkey turkey) {\n        this.turkey = turkey;\n    }\n\n    @Override\n    public void quack() {\n        turkey.gobble();\n    }\n\n    @Override\n    public void fly() {\n        turkey.fly();\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        MallardDuck duck = new MallardDuck();   // åå»ºä¸åªé¸­å­\n        WildTurkey turkey = new WildTurkey();   // åå»ºä¸åªç«é¸¡\n\n        Main main = new Main();\n        main.testDuck(duck);\n//        main.testDuck(turkey);\n        TurkeyAdaptor turkeyAdaptor = new TurkeyAdaptor(turkey);\n        main.testDuck(turkeyAdaptor);\n    }\n\n    /**\n     * é¸­å­æµè¯ç±»\n     * @param duck\n     */\n    public void testDuck(Duck duck) {\n        duck.quack();\n        duck.fly();\n    }\n}\n\n\n# å¤ç»§æ¿æ¶ç±»ééå¨ï¼Javaæ æ³å®ç°ï¼\n\néç¨ç»§æ¿çå½¢å¼\n\n\n# çå®ä¸çï¼Javaï¼çééå¨\n\n# é®é¢æåº\n\n 1. æ§ä¸ççæä¸¾å¨\n    \n    > å¦æä½ å·²ç»ä½¿ç¨è¿Javaï¼å¯è½è®°å¾æ©æçéå(collection)ç±»åï¼ä¾å¦ï¼VectorãStackãHashtable)é½å®ç°äºä¸ä¸ªåä¸ºelementsï¼ï¼çæ¹æ³ãè¯¥æ¹æ³ä¼è¿åä¸ä¸ªEnumerationï¼ä¸¾ï¼ãè¿ä¸ªEnumerationæ¥å£å¯ä»¥éä¸èµ°è¿æ­¤éååçæ¯ä¸ªåç´ ï¼èæ éç¥éå®ä»¬å¨éååæ¯å¦ä½è¢«ç®¡ççã\n\n 2. æ°ä¸ççè¿­ä»£å¨\n    \n    > å½Sunæ¨åºæ´æ°åçéåç±»æ¶ï¼å¼å§ä½¿ç¨äºIteratorï¼è¿­ä»£å¨ï¼æ¥å£ï¼è¿ä¸ªæ¥å£åæä¸¾æ¥å£å¾åï¼é½å¯ä»¥è®©ä½ éåæ­¤éåç±»ååçæ¯ä¸ªåç´ ï¼ä½ä¸åçæ¯ï¼è¿­ä»£å¨è¿æä¾äºå é¤åç´ çè½åã\n\n 3. éçä»£ç æ´é²äºæä¸¾å¨æ¥å£ï¼ä½æ¯æ°ä»£ç åªå¸æç¨è¿­ä»£å¨ãæ³è§£å³è¿ä¸ªé®é¢ï¼éè¦æé ä¸ä¸ªééå¨ã\n\n# å°æä¸¾ééå°è¿­ä»£å¨\n\nç±äº Enumeration ä¸ºâåªè¯»âæ¥å£ï¼æ æ³å®ç° remove() çææï¼åªè½åå¨ remove ä¸­æåºå¼å¸¸ãï¼å¯ä»¥ä½¿ç¨è£é¥°èæ¨¡å¼å®ç°ï¼ï¼\n\n\n# å¤è§æ¨¡å¼ï¼Facade Patternï¼\n\nå¤è§æ¨¡å¼ æä¾äºä¸ä¸ªç»ä¸çæ¥å£ï¼ç¨æ¥è®¿é®å­ç³»ç»ä¸­çä¸ç¾¤æ¥å£ãå¤è§å®ä¹äºä¸ä¸ªé«å±æ¥å£ï¼è®©å­ç³»ç»æ´å®¹æä½¿ç¨ã\n\n# ç±»å¾\n\n# æå°ç¥éåå\n\næå°ç¥è¯ååï¼åªåä½ çå¯åè°è¯ã\n\n> æå°ç¥è¯ï¼Least Knowledgeï¼åååè¯æä»¬è¦åå°å¯¹è±¡ä¹é´çäº¤äºï¼åªçä¸å ä¸ªâå¯åâã\n> è¿ä¸ªååå¸ææä»¬å¨è®¾è®¡ä¸­ï¼ä¸è¦è®©å¤ªå¤çç±»è¦åå¨ä¸èµ·ï¼åå¾ä¿®æ¹ç³»ç»ä¸­ä¸é¨åï¼ä¼å½±åå°å¶ä»é¨åãå¦æè®¸å¤ç±»ä¹é´ç¸äºä¾èµï¼é£ä¹è¿ä¸ªç³»ç»å°±ä¼åæä¸ä¸ªæç¢çç³»ç»ï¼å®éè¦è±è®¸å¤ææ¬ç»´æ¤ï¼ä¹ä¼å ä¸ºå¤ªå¤æèä¸å®¹æè¢«å¶ä»äººäºè§£ã\n\nè¯¥ååæä¾ä¸äºæ¹éï¼å°±ä»»ä½å¯¹è±¡èè¨ï¼å¨è¯¥å¯¹çº¿çæ¹æ³åï¼æä»¬åªåºè¯¥è°ç¨å±äºä»¥ä¸èå´çæ¹æ³ï¼\n\n 1. è¯¥å¯¹è±¡æ¬èº«\n 2. è¢«å½ä½æ¹æ³çåæ°èä¼ éè¿æ¥çå¯¹è±¡\n 3. æ­¤æ¹æ³æåå»ºæå®ä¾åçä»»ä½å¯¹è±¡\n 4. å¯¹è±¡çä»»ä½ç»ä»¶ï¼HAS-Aå³ç³»ï¼\n\n# è¦ç¹\n\n * å½éè¦ä½¿ç¨ä¸ä¸ªç°æçç±»èå¶æ¥å£å¹¶ä¸ç¬¦åä½ çéè¦æ¶ï¼å°±ä½¿ç¨ééå¨ã\n * å½éè¦ç®åå¹¶ç»ä¸ä¸ä¸ªå¾å¤§çæ¥å£æèä¸ç¾¤å¤æçæ¥å£æ¶ï¼ä½¿ç¨å¤è§ã\n * ééå¨æ¹åæ¥å£ä»¥ç¬¦åå®¢æ·çææã\n * å¤è§å°å®¢æ·ä»ä¸ä¸ªå¤æçå­ç³»ç»ä¸­è§£è¦ã\n * å®ç°ä¸ä¸ªééå¨å¯è½éè¦ä¸çªåå¤«ï¼ä¹å¯è½ä¸è´¹åå¤«ï¼è§ç®æ æ¥å£çå¤§å°ä¸å¤æåº¦èå®ã\n * å®ç°ä¸ä¸ªå¤è§ï¼éè¦å°å­ç³»ç»ç»åè¿å¤è§ä¸­ï¼ç¶åå°å·¥ä½å§æç»å­ç³»ç»æ§è¡ã\n * ééå¨æ¨¡å¼æä¸¤ç§å½¢å¼ï¼å¯¹è±¡ééå¨åç±»ééå¨ãç±»ééå¨éè¦ç¨å°å¤éç»§æ¿ã\n * ä½ å¯ä»¥ä¸ºä¸ä¸ªå­ç³»ç»å®ç°ä¸ä¸ªä»¥ä¸çå¤è§ã\n * ééå¨å°ä¸ä¸ªå¯¹è±¡åè£èµ·æ¥ä»¥æ¹åå¶æ¥å£ï¼è£é¥°èå°ä¸ä¸ªå¯¹è±¡åè£èµ·æ¥ä»¥å¢å æ°çè¡ä¸ºåè´£ä»»ï¼èå¤è§å°ä¸ç¾¤å¯¹è±¡âåè£âèµ·æ¥ä»¥ç®åå¶æ¥å£ã',normalizedContent:'# ééå¨æ¨¡å¼ï¼adaptor patternï¼\n\nééå¨æ¨¡å¼ å°ä¸ä¸ªç±»çæ¥å£ï¼è½¬æ¢æå®¢æ·ææçå¦ä¸ä¸ªæ¥å£ãééå¨è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥åä½æ é´ã\n\n# é®é¢æåºï¼ç«é¸¡è½¬æ¢å¨\n\nåå¦æä»¬å¨è·¯ä¸éè§ä¸ä¸ªnpcï¼å¿é¡»ç»ä»ä¸åªé¸­å­æè½å®æä»»å¡ãä½æ¯æä»¬åªæä¸åªç«é¸¡ï¼è¿æ¶ï¼æä»¬å°±éè¦ééå¨æ¨¡å¼æ¥ééä»çéæ±ãðð¤£\n\n# ç±»å¾ï¼å¯¹è±¡ééå¨ï¼\n\n\néç¨ç»åçæ¹å¼\n\n# ä»£ç å®ç°\n\n/ é¸­å­æ¥å£\npublic interface duck {\n    public void quack();\n    public void fly();\n}\n\nclass mallardduck implements duck{\n\n    @override\n    public void quack() {\n        system.out.println("ç»¿å¤´é¸­å«");\n    }\n\n    @override\n    public void fly() {\n        system.out.println("ç»¿å¤´é¸­é£");\n    }\n}\n\n\n/**\n * ç«é¸¡æ¥å£\n */\npublic interface turkey {\n    public void gobble();   // ç«é¸¡å¯å¯å«\n    public void fly();      // ç«é¸¡é£\n}\n\n/**\n * ç«é¸¡å®ç°\n */\nclass wildturkey implements turkey {\n\n    @override\n    public void gobble() {\n        system.out.println("ç«é¸¡å¯å¯å«");\n    }\n\n    @override\n    public void fly() {\n        system.out.println("ç«é¸¡é£è¡");\n    }\n}\n\n\npublic class turkeyadaptor implements duck {\n    turkey turkey;\n\n    public turkeyadaptor(turkey turkey) {\n        this.turkey = turkey;\n    }\n\n    @override\n    public void quack() {\n        turkey.gobble();\n    }\n\n    @override\n    public void fly() {\n        turkey.fly();\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        mallardduck duck = new mallardduck();   // åå»ºä¸åªé¸­å­\n        wildturkey turkey = new wildturkey();   // åå»ºä¸åªç«é¸¡\n\n        main main = new main();\n        main.testduck(duck);\n//        main.testduck(turkey);\n        turkeyadaptor turkeyadaptor = new turkeyadaptor(turkey);\n        main.testduck(turkeyadaptor);\n    }\n\n    /**\n     * é¸­å­æµè¯ç±»\n     * @param duck\n     */\n    public void testduck(duck duck) {\n        duck.quack();\n        duck.fly();\n    }\n}\n\n\n# å¤ç»§æ¿æ¶ç±»ééå¨ï¼javaæ æ³å®ç°ï¼\n\néç¨ç»§æ¿çå½¢å¼\n\n\n# çå®ä¸çï¼javaï¼çééå¨\n\n# é®é¢æåº\n\n 1. æ§ä¸ççæä¸¾å¨\n    \n    > å¦æä½ å·²ç»ä½¿ç¨è¿javaï¼å¯è½è®°å¾æ©æçéå(collection)ç±»åï¼ä¾å¦ï¼vectorãstackãhashtable)é½å®ç°äºä¸ä¸ªåä¸ºelementsï¼ï¼çæ¹æ³ãè¯¥æ¹æ³ä¼è¿åä¸ä¸ªenumerationï¼ä¸¾ï¼ãè¿ä¸ªenumerationæ¥å£å¯ä»¥éä¸èµ°è¿æ­¤éååçæ¯ä¸ªåç´ ï¼èæ éç¥éå®ä»¬å¨éååæ¯å¦ä½è¢«ç®¡ççã\n\n 2. æ°ä¸ççè¿­ä»£å¨\n    \n    > å½sunæ¨åºæ´æ°åçéåç±»æ¶ï¼å¼å§ä½¿ç¨äºiteratorï¼è¿­ä»£å¨ï¼æ¥å£ï¼è¿ä¸ªæ¥å£åæä¸¾æ¥å£å¾åï¼é½å¯ä»¥è®©ä½ éåæ­¤éåç±»ååçæ¯ä¸ªåç´ ï¼ä½ä¸åçæ¯ï¼è¿­ä»£å¨è¿æä¾äºå é¤åç´ çè½åã\n\n 3. éçä»£ç æ´é²äºæä¸¾å¨æ¥å£ï¼ä½æ¯æ°ä»£ç åªå¸æç¨è¿­ä»£å¨ãæ³è§£å³è¿ä¸ªé®é¢ï¼éè¦æé ä¸ä¸ªééå¨ã\n\n# å°æä¸¾ééå°è¿­ä»£å¨\n\nç±äº enumeration ä¸ºâåªè¯»âæ¥å£ï¼æ æ³å®ç° remove() çææï¼åªè½åå¨ remove ä¸­æåºå¼å¸¸ãï¼å¯ä»¥ä½¿ç¨è£é¥°èæ¨¡å¼å®ç°ï¼ï¼\n\n\n# å¤è§æ¨¡å¼ï¼facade patternï¼\n\nå¤è§æ¨¡å¼ æä¾äºä¸ä¸ªç»ä¸çæ¥å£ï¼ç¨æ¥è®¿é®å­ç³»ç»ä¸­çä¸ç¾¤æ¥å£ãå¤è§å®ä¹äºä¸ä¸ªé«å±æ¥å£ï¼è®©å­ç³»ç»æ´å®¹æä½¿ç¨ã\n\n# ç±»å¾\n\n# æå°ç¥éåå\n\næå°ç¥è¯ååï¼åªåä½ çå¯åè°è¯ã\n\n> æå°ç¥è¯ï¼least knowledgeï¼åååè¯æä»¬è¦åå°å¯¹è±¡ä¹é´çäº¤äºï¼åªçä¸å ä¸ªâå¯åâã\n> è¿ä¸ªååå¸ææä»¬å¨è®¾è®¡ä¸­ï¼ä¸è¦è®©å¤ªå¤çç±»è¦åå¨ä¸èµ·ï¼åå¾ä¿®æ¹ç³»ç»ä¸­ä¸é¨åï¼ä¼å½±åå°å¶ä»é¨åãå¦æè®¸å¤ç±»ä¹é´ç¸äºä¾èµï¼é£ä¹è¿ä¸ªç³»ç»å°±ä¼åæä¸ä¸ªæç¢çç³»ç»ï¼å®éè¦è±è®¸å¤ææ¬ç»´æ¤ï¼ä¹ä¼å ä¸ºå¤ªå¤æèä¸å®¹æè¢«å¶ä»äººäºè§£ã\n\nè¯¥ååæä¾ä¸äºæ¹éï¼å°±ä»»ä½å¯¹è±¡èè¨ï¼å¨è¯¥å¯¹çº¿çæ¹æ³åï¼æä»¬åªåºè¯¥è°ç¨å±äºä»¥ä¸èå´çæ¹æ³ï¼\n\n 1. è¯¥å¯¹è±¡æ¬èº«\n 2. è¢«å½ä½æ¹æ³çåæ°èä¼ éè¿æ¥çå¯¹è±¡\n 3. æ­¤æ¹æ³æåå»ºæå®ä¾åçä»»ä½å¯¹è±¡\n 4. å¯¹è±¡çä»»ä½ç»ä»¶ï¼has-aå³ç³»ï¼\n\n# è¦ç¹\n\n * å½éè¦ä½¿ç¨ä¸ä¸ªç°æçç±»èå¶æ¥å£å¹¶ä¸ç¬¦åä½ çéè¦æ¶ï¼å°±ä½¿ç¨ééå¨ã\n * å½éè¦ç®åå¹¶ç»ä¸ä¸ä¸ªå¾å¤§çæ¥å£æèä¸ç¾¤å¤æçæ¥å£æ¶ï¼ä½¿ç¨å¤è§ã\n * ééå¨æ¹åæ¥å£ä»¥ç¬¦åå®¢æ·çææã\n * å¤è§å°å®¢æ·ä»ä¸ä¸ªå¤æçå­ç³»ç»ä¸­è§£è¦ã\n * å®ç°ä¸ä¸ªééå¨å¯è½éè¦ä¸çªåå¤«ï¼ä¹å¯è½ä¸è´¹åå¤«ï¼è§ç®æ æ¥å£çå¤§å°ä¸å¤æåº¦èå®ã\n * å®ç°ä¸ä¸ªå¤è§ï¼éè¦å°å­ç³»ç»ç»åè¿å¤è§ä¸­ï¼ç¶åå°å·¥ä½å§æç»å­ç³»ç»æ§è¡ã\n * ééå¨æ¨¡å¼æä¸¤ç§å½¢å¼ï¼å¯¹è±¡ééå¨åç±»ééå¨ãç±»ééå¨éè¦ç¨å°å¤éç»§æ¿ã\n * ä½ å¯ä»¥ä¸ºä¸ä¸ªå­ç³»ç»å®ç°ä¸ä¸ªä»¥ä¸çå¤è§ã\n * ééå¨å°ä¸ä¸ªå¯¹è±¡åè£èµ·æ¥ä»¥æ¹åå¶æ¥å£ï¼è£é¥°èå°ä¸ä¸ªå¯¹è±¡åè£èµ·æ¥ä»¥å¢å æ°çè¡ä¸ºåè´£ä»»ï¼èå¤è§å°ä¸ç¾¤å¯¹è±¡âåè£âèµ·æ¥ä»¥ç®åå¶æ¥å£ã',charsets:{cjk:!0},lastUpdated:"2022/08/11, 00:48:36",lastUpdatedTimestamp:1660150116e3},{title:"æ¨¡æ¿æ¹æ³æ¨¡å¼",frontmatter:{title:"æ¨¡æ¿æ¹æ³æ¨¡å¼",date:"2022-07-25T21:52:47.000Z",permalink:"/pages/93ef90/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/080.%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/080.æ¨¡æ¿æ¹æ³æ¨¡å¼.md",key:"v-0469e89f",path:"/pages/93ef90/",headers:[{level:2,title:"æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼Template Method Patternï¼",slug:"æ¨¡æ¿æ¹æ³æ¨¡å¼-template-method-pattern",normalizedTitle:"æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼template method patternï¼",charIndex:2},{level:4,title:"å¿«éååºåå¡åè¶çç±»",slug:"å¿«éååºåå¡åè¶çç±»",normalizedTitle:"å¿«éååºåå¡åè¶çç±»",charIndex:224},{level:4,title:"ç¬¬ä¸çè®¾è®¡",slug:"ç¬¬ä¸çè®¾è®¡",normalizedTitle:"ç¬¬ä¸çè®¾è®¡",charIndex:1132},{level:4,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:1277},{level:4,title:"ä»£ç å®ç°ï¼æé©ï¼",slug:"ä»£ç å®ç°-æé©",normalizedTitle:"ä»£ç å®ç°ï¼æé©ï¼",charIndex:1477},{level:4,title:"å¥½è±ååå",slug:"å¥½è±ååå",normalizedTitle:"å¥½è±ååå",charIndex:3976},{level:4,title:"Java Api ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼",slug:"java-api-ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼",normalizedTitle:"java api ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼",charIndex:4128},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:4571}],headersStr:"æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼Template Method Patternï¼ å¿«éååºåå¡åè¶çç±» ç¬¬ä¸çè®¾è®¡ ç±»å¾ ä»£ç å®ç°ï¼æé©ï¼ å¥½è±ååå Java Api ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼ è¦ç¹",content:'# æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼Template Method Patternï¼\n\næ¨¡æ¿æ¹æ³æ¨¡å¼ å¨ä¸ä¸ªæ¹æ³ä¸­å®ä¹ä¸ä¸ªç®æ³çéª¨æ¶ï¼èå°ä¸äºæ­¥éª¤å»¶è¿å°å­ç±»ä¸­ãæ¨¡æ¿æ¹æ³ä½¿å¾å­ç±»å¯ä»¥å¨ä¸æ¹åç®æ³ç»æçæåµä¸ï¼éæ°å®ä¹ç®æ³ä¸­çæäºæ­¥éª¤ã\n\n> è¿ä¸ªæ¨¡å¼æ¯ç¨æ¥åå»ºä¸ä¸ªç®æ³çæ¨¡æ¿ãä»ä¹æ¯æ¨¡æ¿ï¼å¦ä½ æè§çï¼æ¨¡æ¿å°±æ¯ä¸ä¸ªæ¹æ³ãæ´å·ä½å°è¯´ï¼è¿ä¸ªæ¹æ³å°ç®æ³å®ä¹æä¸ç»æ­¥éª¤ï¼å¶ä¸­çä»»ä½æ­¥éª¤é½å¯ä»¥æ¯æ½è±¡çï¼ç±å­ç±»è´è´£å®ç°ãè¿å¯ä»¥ç¡®ä¿ç®æ³çç»æä¿æä¸åï¼åæ¶ç±å­ç±»æä¾é¨åå®ç°ã\n\n# å¿«éååºåå¡åè¶çç±»\n\n\nclass Coffee {\n    void prepareRecipe() {\n        boilWater();\n        brewCoffeeGrinds();\n        pourInCup();\n        addSugerAndMilk();\n    }\n\n    public void boilWater() {\n        System.out.println("ææ°´ç®æ²¸");\n    }\n    public void brewCoffeeGrinds() {\n        System.out.println("ç¨æ²¸æ°´å²æ³¡åå¡");\n    }\n    public void pourInCup() {\n        System.out.println("å§åå¡åè¿æ¯å­");\n    }\n    public void addSugerAndMilk() {\n        System.out.println("å ç³åçå¥¶");\n    }\n}\n\n\npublic class Tea {\n    void prepareRecipe() {\n        boilWater();\n        steepTeaBag();\n        pourInCup();\n        addLemon();\n    }\n\n    public void boilWater() {\n        System.out.println("ææ°´ç®æ²¸");\n    }\n    public void steepTeaBag() {\n        System.out.println("ç¨æ²¸æ°´æµ¸æ³¡è¶å¶");\n    }\n    public void pourInCup() {\n        System.out.println("æè¶åè¿æ¯å­");\n    }\n    public void addLemon() {\n        System.out.println("å æ æª¬");\n    }\n}\n\n\n# ç¬¬ä¸çè®¾è®¡\n\n>  1. prepareRecipe() æ¹æ³å¨æ¯ä¸ªç±»ä¸­é½ä¸ä¸æ ·ï¼æä»¥å®ä¹ä¸ºæ½è±¡æ¹æ³ï¼æ¯ä¸ªå­ç±»é½è¦ç prepareRecipe()ï¼å®ç°èªå·±çå²æ³¡æ³\n>  2. boilWater() å pourInCup() ä¸ºç¸åçæ¹æ³ï¼æä»¥å®ä¹å¨è¶ç±»ä¸­ï¼ç¹ææ¹æ³æ¾å°å­ç±»ä¸­\n\n# ç±»å¾\n\n>  1. CaffeineBeverage æ¯é«å±ç»ä»¶ï¼ä»è½æ§å¶å²æ³¡æ³çç®æ³ï¼åªæå¨éè¦å­ç±»å®ç°æä¸ªæ¹æ³æ¶ï¼æè°ç¨å­ç±»\n>  2. é¥®æçå®¢æ·ä»£ç åªä¾èµ CaffeineBeverage æ½è±¡ï¼èä¸ä¾èµå·ä½ç Tea æè Coffee è¿å¯ä»¥åå°æ´ä¸ªç³»ç»çä¾èµ\n>  3. å­ç±»åªç®åç¨æ¥æä¾ä¸äºå®ç°ç»è\n>  4. Tea å Coffee å¦ææ²¡æåè¢«è°ç¨ï¼ç»å¯¹ä¸ä¼è°ç¨æ½è±¡ç±»\n\n# ä»£ç å®ç°ï¼æé©ï¼\n\n\n/**\n * æ½è±¡ç±»ï¼ç¨æ¥ä½ä¸ºåºç±»ï¼å¶å­ç±»å¿é¡»å®ç°å¶æä½\n */\nabstract class CaffeineBeverageWithHook {\n    /**\n     * æ¨¡æ¿æ¹æ³è¢«å£°æä¸º finalï¼ä»¥åç®æ³é¡ºåºè¢«æ¹åï¼ä¸è½è¢«å­ç±»è¦çï¼\n     * æ­¤æ¹æ³å®ä¹äºä¸è¿ä¸²æ­¥éª¤ï¼æ¯ä¸ªæ­¥éª¤ä¸ºä¸ä¸ªæ¹æ³\n     */\n    final void prepareRecipe() {\n        boilWater();\n        brew();\n        pourInCup();\n        // å ä¸æ¡ä»¶è¯­å¥ï¼æ¡ä»¶æç«ï¼customerWantsCondiments() ä¸º trueï¼å³é¡¾å®¢æ³è¦è°æ ï¼æ¶ï¼æè°ç¨ addCondiments() æ¹æ³\n        if (customerWantsCondiments()) {\n            addCondiments();\n        }\n    }\n\n    /**\n     * åè¯­æä½ï¼å­ç±»å¿é¡»å®ç°ä»ä»¬\n     */\n    abstract void brew();\n    abstract void addCondiments();\n\n    void boilWater() {\n        System.out.println("ææ°´ç®æ²¸");\n    }\n    void pourInCup() {\n        System.out.println("åè¿æ¯å­ä¸­");\n    }\n\n    /**\n     * è¿å°±æ¯ä¸ä¸ªé©å­ï¼å­ç±»æå¯è½è¦çæ­¤æ¹æ³\n     * @return\n     */\n    boolean customerWantsCondiments () {\n        return true;\n    }\n\n}\n\n\nclass CoffeeWithHook extends CaffeineBeverageWithHook {\n\n    @Override\n    public void brew() {\n        System.out.println("ç¨æ²¸æ°´å²æ³¡åå¡");\n    }\n\n    @Override\n    public void addCondiments() {\n        System.out.println("å ç³åçå¥¶");\n    }\n\n    /**\n     * ä½¿ç¨é©å­ï¼è¦çé©å­ï¼æä¾èªå·±çåè½\n     * @return\n     */\n    @Override\n    public boolean customerWantsCondiments() {\n        String answer = getUserInput();\n        return "y".equalsIgnoreCase(answer);\n    }\n\n    private String getUserInput () {\n        String answer = null;\n\n        System.out.println("åå¡éè¦å ç³åçå¥¶åï¼ï¼y/nï¼");\n\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n        try {\n            answer = bufferedReader.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (null != bufferedReader) {\n                try {\n                    bufferedReader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        if (null == answer) answer = "n";\n        return answer;\n    }\n}\n\npublic class TeaWithHook extends CaffeineBeverageWithHook {\n\n    @Override\n    public void brew() {\n        System.out.println("ç¨æ²¸æ°´æµ¸æ³¡è¶å¶");\n    }\n\n    @Override\n    public void addCondiments() {\n        System.out.println("å æ æª¬");\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        TeaWithHook teaWithHook = new TeaWithHook();\n        CoffeeWithHook coffeeWithHook = new CoffeeWithHook();\n\n        System.out.println("å¶ä½è¶...");\n        teaWithHook.prepareRecipe();\n\n        System.out.println("å¶ä½åå¡...");\n        coffeeWithHook.prepareRecipe();\n    }\n}\n\n\n# å¥½è±ååå\n\nå«è°ç¨ï¼CALLï¼æä»¬ï¼æä»¬ä¼è°ç¨ï¼CALLï¼ä½ \n\n> å¥½èåååå¯ä»¥ç»æä»¬ä¸ç§é²æ­¢âä¾èµèè´¥âçæ¹æ³ãå½é«å±ç»ä»¶ä¾èµä½å±ç»ä»¶ï¼èä½å±ç»ä»¶åä¾èµé«å±ç»ä»¶ï¼èé«å±ç»ä»¶åä¾èµè¾¹ä¾§ç»ä»¶ï¼èè¾¹ä¾§ç»ä»¶åä¾èµä½å±ç»ä»¶æ¶ï¼ä¾èµèè´¥å°±åçäºãå¨è¿ç§æåµä¸ï¼æ²¡æäººå¯ä»¥è½»æå°ææç³»ç»æ¯å¦ä½è®¾è®¡çã\n\n\n\n# Java Api ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼\n\n 1. æ¨¡æ¿æ¹æ³æåºï¼java.util.Arrays ç sort æ¹æ³ï¼\n\n> æ¯è¾ç±»å®ç° Comparable æ¥å£å¹¶å®ç° compareTo æ¹æ³ï¼å°±å¯ä»¥ä½¿ç¨ Arrays.sort() è¿è¡æåº\n\n 2. Swing ç JFrameï¼å¶ä¸­ paint() æ¹æ³æ¯ä¸ä¸ªé©å­ï¼\n 3. Appletï¼å·ä½çappletå¤§éä½¿ç¨é©å­æ¥æä¾è¡ä¸ºãå ä¸ºè¿äºè¡ä¸ºæ¯ä½ä¸ºé©å­å®ç°çï¼æä»¥Appletç±»å°±ä¸ç¨å»å®ç°å®ä»¬ãï¼\n    * init é©å­ç¨æ¥è¿è¡ applet çåå§åå¨ä½ï¼ä¼å¨ applet ä¸å¼å§çæ¶åè°ç¨ä¸æ¬¡\n    * repaint() æ¯ä¸ä¸ªå·ä½æ¹æ³ï¼å¯è®©ä¸å±ç»ä»¶ç¥éè¿ä¸ª applet è¦éç»\n    * start é©å­å¯ä»¥å¨ applet æ­£è¦æ¾ç¤ºå¨ç½é¡µä¸æ¶ï¼è®© applet åä¸äºäºæ\n    * è¥è·³å°å«çç½é¡µ stop() é©å­ä¼è¢«è°ç¨\n    * applet å³å°è¢«éæ¯ï¼destroy é©å­ä¼è¢«è°ç¨\n\n# è¦ç¹\n\n * âæ¨¡æ¿æ¹æ³âå®ä¹äºç®æ³çæ­¥éª¤ï¼æè¿äºæ­¥éª¤çå®ç°å»¶è¿å°å­ç±»ã\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ä¸ºæä»¬æä¾äºä¸ç§ä»£ç å¤ç¨çéè¦æå·§ã\n * æ¨¡æ¿æ¹æ³çæ½è±¡ç±»å¯ä»¥å®ä¹å·ä½æ¹æ³ãæ½è±¡æ¹æ³åé©å­ã\n * æ½è±¡æ¹æ³ç±å­ç±»å®ç°ã\n * é©å­æ¯ä¸ç§æ¹æ³ï¼å®å¨æ½è±¡ç±»ä¸­ä¸åäºï¼æçåªåé»è®¤çäºæï¼å­ç±»å¯ä»¥éæ©è¦ä¸è¦å»è¦çå®ã\n * ä¸ºäºé²æ­¢å­ç±»æ¹åæ¨¡æ¿æ¹æ³ä¸­çç®æ³ï¼å¯ä»¥å°æ¨¡æ¿æ¹æ³å£°æä¸º finalã\n * å¥½è±ååååè¯æä»¬ï¼å°å³ç­ææ¾å¨é«å±æ¨¡åä¸­ï¼ä»¥ä¾¿å³å®å¦ä½ä»¥åä½æ¶è°ç¨ä½å±æ¨¡åã\n * ä½ å°å¨çå®ä¸çä»£ç ä¸­çå°æ¨¡æ¿æ¹æ³æ¨¡å¼çè®¸å¤åä½ï¼ä¸è¦ææä¸ç¼å°±å¯ä»¥è®¤åºå®ä»¬ã\n * ç­ç¥æ¨¡å¼åæ¨¡æ¿æ¹æ³æ¨¡å¼é½å°è£ç®æ³ï¼ä¸ä¸ªç¨ç»åï¼ä¸ä¸ªç¨ç»§æ¿ã\n * å·¥åæ¹æ³æ¯æ¨¡æ¿æ¹æ³çä¸ç§ç¹æ®é¥­æ¬ã',normalizedContent:'# æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼template method patternï¼\n\næ¨¡æ¿æ¹æ³æ¨¡å¼ å¨ä¸ä¸ªæ¹æ³ä¸­å®ä¹ä¸ä¸ªç®æ³çéª¨æ¶ï¼èå°ä¸äºæ­¥éª¤å»¶è¿å°å­ç±»ä¸­ãæ¨¡æ¿æ¹æ³ä½¿å¾å­ç±»å¯ä»¥å¨ä¸æ¹åç®æ³ç»æçæåµä¸ï¼éæ°å®ä¹ç®æ³ä¸­çæäºæ­¥éª¤ã\n\n> è¿ä¸ªæ¨¡å¼æ¯ç¨æ¥åå»ºä¸ä¸ªç®æ³çæ¨¡æ¿ãä»ä¹æ¯æ¨¡æ¿ï¼å¦ä½ æè§çï¼æ¨¡æ¿å°±æ¯ä¸ä¸ªæ¹æ³ãæ´å·ä½å°è¯´ï¼è¿ä¸ªæ¹æ³å°ç®æ³å®ä¹æä¸ç»æ­¥éª¤ï¼å¶ä¸­çä»»ä½æ­¥éª¤é½å¯ä»¥æ¯æ½è±¡çï¼ç±å­ç±»è´è´£å®ç°ãè¿å¯ä»¥ç¡®ä¿ç®æ³çç»æä¿æä¸åï¼åæ¶ç±å­ç±»æä¾é¨åå®ç°ã\n\n# å¿«éååºåå¡åè¶çç±»\n\n\nclass coffee {\n    void preparerecipe() {\n        boilwater();\n        brewcoffeegrinds();\n        pourincup();\n        addsugerandmilk();\n    }\n\n    public void boilwater() {\n        system.out.println("ææ°´ç®æ²¸");\n    }\n    public void brewcoffeegrinds() {\n        system.out.println("ç¨æ²¸æ°´å²æ³¡åå¡");\n    }\n    public void pourincup() {\n        system.out.println("å§åå¡åè¿æ¯å­");\n    }\n    public void addsugerandmilk() {\n        system.out.println("å ç³åçå¥¶");\n    }\n}\n\n\npublic class tea {\n    void preparerecipe() {\n        boilwater();\n        steepteabag();\n        pourincup();\n        addlemon();\n    }\n\n    public void boilwater() {\n        system.out.println("ææ°´ç®æ²¸");\n    }\n    public void steepteabag() {\n        system.out.println("ç¨æ²¸æ°´æµ¸æ³¡è¶å¶");\n    }\n    public void pourincup() {\n        system.out.println("æè¶åè¿æ¯å­");\n    }\n    public void addlemon() {\n        system.out.println("å æ æª¬");\n    }\n}\n\n\n# ç¬¬ä¸çè®¾è®¡\n\n>  1. preparerecipe() æ¹æ³å¨æ¯ä¸ªç±»ä¸­é½ä¸ä¸æ ·ï¼æä»¥å®ä¹ä¸ºæ½è±¡æ¹æ³ï¼æ¯ä¸ªå­ç±»é½è¦ç preparerecipe()ï¼å®ç°èªå·±çå²æ³¡æ³\n>  2. boilwater() å pourincup() ä¸ºç¸åçæ¹æ³ï¼æä»¥å®ä¹å¨è¶ç±»ä¸­ï¼ç¹ææ¹æ³æ¾å°å­ç±»ä¸­\n\n# ç±»å¾\n\n>  1. caffeinebeverage æ¯é«å±ç»ä»¶ï¼ä»è½æ§å¶å²æ³¡æ³çç®æ³ï¼åªæå¨éè¦å­ç±»å®ç°æä¸ªæ¹æ³æ¶ï¼æè°ç¨å­ç±»\n>  2. é¥®æçå®¢æ·ä»£ç åªä¾èµ caffeinebeverage æ½è±¡ï¼èä¸ä¾èµå·ä½ç tea æè coffee è¿å¯ä»¥åå°æ´ä¸ªç³»ç»çä¾èµ\n>  3. å­ç±»åªç®åç¨æ¥æä¾ä¸äºå®ç°ç»è\n>  4. tea å coffee å¦ææ²¡æåè¢«è°ç¨ï¼ç»å¯¹ä¸ä¼è°ç¨æ½è±¡ç±»\n\n# ä»£ç å®ç°ï¼æé©ï¼\n\n\n/**\n * æ½è±¡ç±»ï¼ç¨æ¥ä½ä¸ºåºç±»ï¼å¶å­ç±»å¿é¡»å®ç°å¶æä½\n */\nabstract class caffeinebeveragewithhook {\n    /**\n     * æ¨¡æ¿æ¹æ³è¢«å£°æä¸º finalï¼ä»¥åç®æ³é¡ºåºè¢«æ¹åï¼ä¸è½è¢«å­ç±»è¦çï¼\n     * æ­¤æ¹æ³å®ä¹äºä¸è¿ä¸²æ­¥éª¤ï¼æ¯ä¸ªæ­¥éª¤ä¸ºä¸ä¸ªæ¹æ³\n     */\n    final void preparerecipe() {\n        boilwater();\n        brew();\n        pourincup();\n        // å ä¸æ¡ä»¶è¯­å¥ï¼æ¡ä»¶æç«ï¼customerwantscondiments() ä¸º trueï¼å³é¡¾å®¢æ³è¦è°æ ï¼æ¶ï¼æè°ç¨ addcondiments() æ¹æ³\n        if (customerwantscondiments()) {\n            addcondiments();\n        }\n    }\n\n    /**\n     * åè¯­æä½ï¼å­ç±»å¿é¡»å®ç°ä»ä»¬\n     */\n    abstract void brew();\n    abstract void addcondiments();\n\n    void boilwater() {\n        system.out.println("ææ°´ç®æ²¸");\n    }\n    void pourincup() {\n        system.out.println("åè¿æ¯å­ä¸­");\n    }\n\n    /**\n     * è¿å°±æ¯ä¸ä¸ªé©å­ï¼å­ç±»æå¯è½è¦çæ­¤æ¹æ³\n     * @return\n     */\n    boolean customerwantscondiments () {\n        return true;\n    }\n\n}\n\n\nclass coffeewithhook extends caffeinebeveragewithhook {\n\n    @override\n    public void brew() {\n        system.out.println("ç¨æ²¸æ°´å²æ³¡åå¡");\n    }\n\n    @override\n    public void addcondiments() {\n        system.out.println("å ç³åçå¥¶");\n    }\n\n    /**\n     * ä½¿ç¨é©å­ï¼è¦çé©å­ï¼æä¾èªå·±çåè½\n     * @return\n     */\n    @override\n    public boolean customerwantscondiments() {\n        string answer = getuserinput();\n        return "y".equalsignorecase(answer);\n    }\n\n    private string getuserinput () {\n        string answer = null;\n\n        system.out.println("åå¡éè¦å ç³åçå¥¶åï¼ï¼y/nï¼");\n\n        bufferedreader bufferedreader = new bufferedreader(new inputstreamreader(system.in));\n        try {\n            answer = bufferedreader.readline();\n        } catch (ioexception e) {\n            e.printstacktrace();\n        } finally {\n            if (null != bufferedreader) {\n                try {\n                    bufferedreader.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n\n        if (null == answer) answer = "n";\n        return answer;\n    }\n}\n\npublic class teawithhook extends caffeinebeveragewithhook {\n\n    @override\n    public void brew() {\n        system.out.println("ç¨æ²¸æ°´æµ¸æ³¡è¶å¶");\n    }\n\n    @override\n    public void addcondiments() {\n        system.out.println("å æ æª¬");\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        teawithhook teawithhook = new teawithhook();\n        coffeewithhook coffeewithhook = new coffeewithhook();\n\n        system.out.println("å¶ä½è¶...");\n        teawithhook.preparerecipe();\n\n        system.out.println("å¶ä½åå¡...");\n        coffeewithhook.preparerecipe();\n    }\n}\n\n\n# å¥½è±ååå\n\nå«è°ç¨ï¼callï¼æä»¬ï¼æä»¬ä¼è°ç¨ï¼callï¼ä½ \n\n> å¥½èåååå¯ä»¥ç»æä»¬ä¸ç§é²æ­¢âä¾èµèè´¥âçæ¹æ³ãå½é«å±ç»ä»¶ä¾èµä½å±ç»ä»¶ï¼èä½å±ç»ä»¶åä¾èµé«å±ç»ä»¶ï¼èé«å±ç»ä»¶åä¾èµè¾¹ä¾§ç»ä»¶ï¼èè¾¹ä¾§ç»ä»¶åä¾èµä½å±ç»ä»¶æ¶ï¼ä¾èµèè´¥å°±åçäºãå¨è¿ç§æåµä¸ï¼æ²¡æäººå¯ä»¥è½»æå°ææç³»ç»æ¯å¦ä½è®¾è®¡çã\n\n\n\n# java api ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼\n\n 1. æ¨¡æ¿æ¹æ³æåºï¼java.util.arrays ç sort æ¹æ³ï¼\n\n> æ¯è¾ç±»å®ç° comparable æ¥å£å¹¶å®ç° compareto æ¹æ³ï¼å°±å¯ä»¥ä½¿ç¨ arrays.sort() è¿è¡æåº\n\n 2. swing ç jframeï¼å¶ä¸­ paint() æ¹æ³æ¯ä¸ä¸ªé©å­ï¼\n 3. appletï¼å·ä½çappletå¤§éä½¿ç¨é©å­æ¥æä¾è¡ä¸ºãå ä¸ºè¿äºè¡ä¸ºæ¯ä½ä¸ºé©å­å®ç°çï¼æä»¥appletç±»å°±ä¸ç¨å»å®ç°å®ä»¬ãï¼\n    * init é©å­ç¨æ¥è¿è¡ applet çåå§åå¨ä½ï¼ä¼å¨ applet ä¸å¼å§çæ¶åè°ç¨ä¸æ¬¡\n    * repaint() æ¯ä¸ä¸ªå·ä½æ¹æ³ï¼å¯è®©ä¸å±ç»ä»¶ç¥éè¿ä¸ª applet è¦éç»\n    * start é©å­å¯ä»¥å¨ applet æ­£è¦æ¾ç¤ºå¨ç½é¡µä¸æ¶ï¼è®© applet åä¸äºäºæ\n    * è¥è·³å°å«çç½é¡µ stop() é©å­ä¼è¢«è°ç¨\n    * applet å³å°è¢«éæ¯ï¼destroy é©å­ä¼è¢«è°ç¨\n\n# è¦ç¹\n\n * âæ¨¡æ¿æ¹æ³âå®ä¹äºç®æ³çæ­¥éª¤ï¼æè¿äºæ­¥éª¤çå®ç°å»¶è¿å°å­ç±»ã\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ä¸ºæä»¬æä¾äºä¸ç§ä»£ç å¤ç¨çéè¦æå·§ã\n * æ¨¡æ¿æ¹æ³çæ½è±¡ç±»å¯ä»¥å®ä¹å·ä½æ¹æ³ãæ½è±¡æ¹æ³åé©å­ã\n * æ½è±¡æ¹æ³ç±å­ç±»å®ç°ã\n * é©å­æ¯ä¸ç§æ¹æ³ï¼å®å¨æ½è±¡ç±»ä¸­ä¸åäºï¼æçåªåé»è®¤çäºæï¼å­ç±»å¯ä»¥éæ©è¦ä¸è¦å»è¦çå®ã\n * ä¸ºäºé²æ­¢å­ç±»æ¹åæ¨¡æ¿æ¹æ³ä¸­çç®æ³ï¼å¯ä»¥å°æ¨¡æ¿æ¹æ³å£°æä¸º finalã\n * å¥½è±ååååè¯æä»¬ï¼å°å³ç­ææ¾å¨é«å±æ¨¡åä¸­ï¼ä»¥ä¾¿å³å®å¦ä½ä»¥åä½æ¶è°ç¨ä½å±æ¨¡åã\n * ä½ å°å¨çå®ä¸çä»£ç ä¸­çå°æ¨¡æ¿æ¹æ³æ¨¡å¼çè®¸å¤åä½ï¼ä¸è¦ææä¸ç¼å°±å¯ä»¥è®¤åºå®ä»¬ã\n * ç­ç¥æ¨¡å¼åæ¨¡æ¿æ¹æ³æ¨¡å¼é½å°è£ç®æ³ï¼ä¸ä¸ªç¨ç»åï¼ä¸ä¸ªç¨ç»§æ¿ã\n * å·¥åæ¹æ³æ¯æ¨¡æ¿æ¹æ³çä¸ç§ç¹æ®é¥­æ¬ã',charsets:{cjk:!0},lastUpdated:"2022/07/26, 00:03:35",lastUpdatedTimestamp:1658765015e3},{title:"è¿­ä»£å¨ä¸ç»åæ¨¡å¼",frontmatter:{title:"è¿­ä»£å¨ä¸ç»åæ¨¡å¼",date:"2022-08-09T22:20:38.000Z",permalink:"/pages/4372f2/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/090.%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/090.è¿­ä»£å¨ä¸ç»åæ¨¡å¼.md",key:"v-3ed5a0cf",path:"/pages/4372f2/",headers:[{level:2,title:"è¿­ä»£å¨æ¨¡å¼ï¼Iterator Patternï¼",slug:"è¿­ä»£å¨æ¨¡å¼-iterator-pattern",normalizedTitle:"è¿­ä»£å¨æ¨¡å¼ï¼iterator patternï¼",charIndex:2},{level:4,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:29},{level:4,title:"é®é¢æåº",slug:"é®é¢æåº",normalizedTitle:"é®é¢æåº",charIndex:78},{level:4,title:"è¿­ä»£å¨",slug:"è¿­ä»£å¨",normalizedTitle:"è¿­ä»£å¨",charIndex:2},{level:4,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:506},{level:4,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:512},{level:4,title:"æ¹è¿",slug:"æ¹è¿",normalizedTitle:"æ¹è¿",charIndex:5242},{level:4,title:"åä¸èè´£åå",slug:"åä¸èè´£åå",normalizedTitle:"åä¸èè´£åå",charIndex:5305},{level:2,title:"ç»åæ¨¡å¼ï¼Composite Patternï¼",slug:"ç»åæ¨¡å¼-composite-pattern",normalizedTitle:"ç»åæ¨¡å¼ï¼composite patternï¼",charIndex:5432},{level:4,title:"å®ä¹",slug:"å®ä¹-2",normalizedTitle:"å®ä¹",charIndex:29},{level:4,title:"é®é¢æåº",slug:"é®é¢æåº-2",normalizedTitle:"é®é¢æåº",charIndex:78},{level:4,title:"ç±»å¾",slug:"ç±»å¾-2",normalizedTitle:"ç±»å¾",charIndex:506},{level:4,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°-2",normalizedTitle:"ä»£ç å®ç°",charIndex:512},{level:4,title:"ç»åè¿­ä»£å¨ï¼å¾å®åï¼",slug:"ç»åè¿­ä»£å¨-å¾å®å",normalizedTitle:"ç»åè¿­ä»£å¨ï¼å¾å®åï¼",charIndex:9412},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:9426}],headersStr:"è¿­ä»£å¨æ¨¡å¼ï¼Iterator Patternï¼ å®ä¹ é®é¢æåº è¿­ä»£å¨ ç±»å¾ ä»£ç å®ç° æ¹è¿ åä¸èè´£åå ç»åæ¨¡å¼ï¼Composite Patternï¼ å®ä¹ é®é¢æåº ç±»å¾ ä»£ç å®ç° ç»åè¿­ä»£å¨ï¼å¾å®åï¼ è¦ç¹",content:'# è¿­ä»£å¨æ¨¡å¼ï¼Iterator Patternï¼\n\n# å®ä¹\n\nè¿­ä»£å¨æ¨¡å¼ æä¾ä¸ç§æ¹æ³é¡ºåºè®¿åä¸ä¸ªèåå¯¹è±¡ä¸­çåä¸ªåç´ ï¼èåä¸æ´é²å¶åé¨çè¡¨ç¤ºã\n\n# é®é¢æåº\n\nç°å¨æä¸ä¸ªçé¥¼å±åé¤åéè¦åå¹¶ï¼æ©ä¸èåç±çé¥¼å±æä¾ï¼åé¥­èåç±é¤åæä¾ãä½æ¯ä¸¤å®¶èåçå®ç°æ¹å¼ä¸ä¸æ ·ï¼ä¸ä¸ªæ¯éè¿ ArrayList å®ç°ï¼å¦ä¸ä¸ªéè¿æ°ç»å®ç°ãå æ­¤ï¼éåèåçæ¹å¼ä¸ä¸æ ·ï¼ä»£ç ä¸è½éç¨ã\n\n// éåæ¹å¼éå\nfor (int i = 0; i < breakfastItems.size(); i++) {\n    MenuItem menuItem = (MenuItem)breakfastItems.get(i);\n    System.out.println(menuItem.toString());\n}\n\n// æ°ç»æ¹å¼éå\nfor (int i = 0; i < lunchItems.length; i++) {\n    MenuItem menuItem = lunchItems[i];\n    System.out.println(menuItem.toString());\n}\n\n\n# è¿­ä»£å¨\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\npublic class MenuItem {\n    String name;\n    String description;\n    boolean vegetaian;\n    double price;\n\n    public MenuItem(String name, String description, boolean vegetaian, double price) {\n        this.name = name;\n        this.description = description;\n        this.vegetaian = vegetaian;\n        this.price = price;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public boolean isVegetaian() {\n        return vegetaian;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    @Override\n    public String toString() {\n        return "MenuItem{" +\n                "name=\'" + name + \'\\\'\' +\n                ", description=\'" + description + \'\\\'\' +\n                ", vegetaian=" + vegetaian +\n                ", price=" + price +\n                \'}\';\n    }\n}\n\n\npublic class DinerMenu {\n    static final int MAX_ITEM = 6;\n    int numOfItems = 0;\n    MenuItem[] menuItems;\n\n    public DinerMenu() {\n        menuItems = new MenuItem[MAX_ITEM];\n        addItem("11", "11", true, 1.1);\n        addItem("22", "22", true, 2.2);\n        addItem("33", "33", true, 3.3);\n        addItem("44", "44", true, 4.4);\n        addItem("55", "55", true, 5.5);\n    }\n\n    public void addItem(String name, String description, boolean vegetaian, double price) {\n        MenuItem menuItem = new MenuItem(name, description, vegetaian, price);\n\n        if (numOfItems >= MAX_ITEM) {\n            System.out.println("è¶è¿æå¤§ä¿å­èåæ°");\n        } else {\n            menuItems[numOfItems++] = new MenuItem(name, description, vegetaian, price);\n        }\n    }\n\n    /*public MenuItem[] getMenuItems() {\n        return menuItems;\n    }*/\n\n    public Iterator createIterator() {\n        return new DinerMenuIterator(menuItems);\n    }\n}\n\n\n// è¿­ä»£å¨æ¥å£\ninterface Iterator {\n    boolean hasNext();\n    Object next();\n}\npublic class DinerMenuIterator implements Iterator{\n    MenuItem[] items;\n    int position; // è®°å½å½åä½ç½®\n\n    public DinerMenuIterator(MenuItem[] items) {\n        this.items = items;\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (position >= items.length || null == items[position]) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public Object next() {\n        return items[position++];\n    }\n}\n\n\npublic class PancakeHoseMenu {\n    ArrayList menuItems;\n\n    public PancakeHoseMenu() {\n        menuItems = new ArrayList<>();\n        addItem("111", "111", true, 1.11);\n        addItem("222", "222", true, 2.22);\n        addItem("333", "333", true, 3.33);\n        addItem("444", "444", true, 4.44);\n        addItem("555", "555", true, 5.55);\n    }\n\n    public void addItem(String name, String description, boolean vegetaian, double price) {\n        MenuItem menuItem = new MenuItem(name, description, vegetaian, price);\n        menuItems.add(menuItem);\n    }\n\n    /*public ArrayList getMenuItem() {\n        return menuItems;\n    }*/\n    public Iterator createIterator() {\n        return new PancakeHoseMenuIterator(menuItems);\n    }\n}\n\n\npublic class PancakeHoseMenuIterator implements Iterator {\n    ArrayList menuItems;\n    int position; // è®°å½å½åä½ç½®\n\n    public PancakeHoseMenuIterator(ArrayList menuItems) {\n        this.menuItems = menuItems;\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (position >= menuItems.size()) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public Object next() {\n        return menuItems.get(position++);\n    }\n}\n\n\npublic class Waitress {\n    PancakeHoseMenu pancakeHoseMenu;\n    DinerMenu dinerMenu;\n\n    public Waitress(PancakeHoseMenu pancakeHoseMenu, DinerMenu dinerMenu) {\n        this.pancakeHoseMenu = pancakeHoseMenu;\n        this.dinerMenu = dinerMenu;\n    }\n\n    private void printMenu(Iterator iterator) {\n        while (iterator.hasNext()) {\n            MenuItem menuItem = (MenuItem)iterator.next();\n            System.out.println(menuItem.toString());\n        }\n    }\n\n    public void printMenu() {\n        Iterator pancakeHoseMenuIterator = pancakeHoseMenu.createIterator();\n        Iterator dinerMenuIterator = dinerMenu.createIterator();\n        System.out.println("----- pancakeHoseMenuIterator ----");\n        printMenu(pancakeHoseMenuIterator);\n        System.out.println("----- dinerMenuIterator ----");\n        printMenu(dinerMenuIterator);\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        PancakeHoseMenu pancakeHoseMenu = new PancakeHoseMenu();\n        DinerMenu dinerMenu = new DinerMenu();\n\n        Waitress waitress = new Waitress(pancakeHoseMenu, dinerMenu);\n        waitress.printMenu();\n    }\n}\n\n\n# æ¹è¿\n\nå©ç¨æ¥å£ï¼èä¸æ¯å·ä½ç±»ï¼å¼ç¨èååç°ï¼éè¿âéå¯¹æ¥å£ç¼ç¨ï¼èä¸éå¯¹å®ç°ç¼ç¨âï¼åå°æå¡ååå·ä½ç±»ä¹é´çä¾èµã\n\n\n# åä¸èè´£åå\n\nä¸ä¸ªç±»åºè¯¥åªæä¸ä¸ªå¼èµ·ååçåå \n\n> æä»¬ç¥éè¦é¿åç±»åçæ¹åï¼å ä¸ºä¿®æ¹ä»£ç å¾å®¹æé æè®¸å¤æ½å¨çéè¯¯ãå¦ææä¸ä¸ªç±»å·æä¸¤ä¸ªæ¹åçåå ï¼é£ä¹è¿ä¼ä½¿å¾å°æ¥è¯¥ç±»çååæºçä¸åï¼èå½å®ççæ¹åæ¶ï¼ä½ çè®¾è®¡ä¸­åæ¶æä¸¤ä¸ªæ¹é¢å°ä¼åå°å½±åã\n\n\n# ç»åæ¨¡å¼ï¼Composite Patternï¼\n\n# å®ä¹\n\nç»åæ¨¡å¼ åè®¸ä½ å°å¯¹è±¡ç»åææ å½¢ç»ææ¥è¡¨ç°âæ´ä½/é¨åâå±æ¬¡ç»æãç»åè½è®©å®¢æ·ä»¥ä¸è´çæ¹å¼å¤çä¸ªå«å¯¹è±¡ä»¥åå¯¹è±¡ç»åã\n\n# é®é¢æåº\n\nå½æä»¬ä½¿ç¨äºè¿­ä»£å¨æ¨¡å¼ï¼æä»¬å¯ä»¥å¾è½»æçå å¥ä¸ä»½èåãä½æ¯ï¼å¦ææä»¬æ³è¦å ä¸ä¸ä»½é¤åçç¹çèåï¼èåä¸­çèåï¼ï¼è¿­ä»£å¨æ¨¡å¼å°±æäºæ è½ä¸ºåäºã\n\nå æ­¤ï¼éè¦éæ°è®¾è®¡ï¼\n\n 1. æä»¬éè¦æ å½¢ç»æï¼æ¥å®¹çº³èåãå­èååèåé¡¹ã\n 2. æä»¬å¿é¡»è½å¤è½»æéåèåé¡¹ï¼è³å°éè¦åè¿­ä»£å¨ä¸æ ·æ¹ä¾¿ã\n 3. ä¹éè¦æ´æå¼¹æ§çéåèåé¡¹ï¼æ¯å¦ï¼å¯è½åªéè¦éåçç¹èåï¼æèå¯ä»¥éåå¨é¨èåã\n\n# ç±»å¾\n\nè®¾è®¡èå\n\n# ä»£ç å®ç°\n\n\npublic abstract class MenuComponent {\n  public String getName(){\n      throw new UnsupportedOperationException();\n  }\n  public String getDescription(){\n      throw new UnsupportedOperationException();\n  }\n  public double getPrice(){\n      throw new UnsupportedOperationException();\n  }\n  public boolean isVegetarian(){\n      throw new UnsupportedOperationException();\n  }\n  public void print()  {\n      throw new UnsupportedOperationException();\n  }\n  public void add(MenuComponent menuComponent){\n      throw new UnsupportedOperationException();\n  }\n  public void remove(MenuComponent menuComponent){\n      throw new UnsupportedOperationException();\n  }\n  public MenuComponent getChild(int num) {\n      throw new UnsupportedOperationException();\n  }\n}\n\n\npublic class MenuItem extends MenuComponent {\n  String name;\n  String description;\n  boolean vegetaian;\n  double price;\n\n  public MenuItem(String name, String description, boolean vegetaian, double price) {\n      this.name = name;\n      this.description = description;\n      this.vegetaian = vegetaian;\n      this.price = price;\n  }\n\n  @Override\n  public String getName() {\n      return name;\n  }\n\n  @Override\n  public String getDescription() {\n      return description;\n  }\n\n  @Override\n  public boolean isVegetarian() {\n      return vegetaian;\n  }\n\n  @Override\n  public double getPrice() {\n      return price;\n  }\n\n  @Override\n  public void print() {\n      String isV = isVegetarian() ? "(v)" : "";\n      System.out.println(" " + getName() + isV);\n      System.out.println(" " + getDescription());\n      System.out.println(" " + getPrice());\n  }\n}\n\n\npublic class Menu extends MenuComponent {\n  ArrayList menuComponents = new ArrayList<>();\n  String name;\n  String description;\n\n  public Menu(String name, String description) {\n      this.name = name;\n      this.description = description;\n  }\n\n  @Override\n  public String getName() {\n      return name;\n  }\n\n  @Override\n  public String getDescription() {\n      return description;\n  }\n\n  @Override\n  public void print() {\n      System.out.println("èååç§°ï¼" + getName());\n      System.out.println("èåæè¿°ï¼" + getDescription());\n      System.out.println("--------------------------------");\n\n      Iterator iterator = menuComponents.iterator();\n      while (iterator.hasNext()) {\n          MenuComponent menuComponent = (MenuComponent)iterator.next();\n          menuComponent.print();\n      }\n  }\n\n  @Override\n  public void add(MenuComponent menuComponent) {\n      menuComponents.add(menuComponent);\n  }\n\n  @Override\n  public void remove(MenuComponent menuComponent) {\n      menuComponents.remove(menuComponent);\n  }\n\n  @Override\n  public MenuComponent getChild(int num) {\n      return (MenuComponent)menuComponents.get(num);\n  }\n}\n\n\npublic class Waitress {\n  MenuComponent allMenus;\n\n  public Waitress(MenuComponent allMenus) {\n      this.allMenus = allMenus;\n  }\n\n  public void printMenu() {\n      allMenus.print();\n  }\n}\n\n\npublic class Main {\n  public static void main(String[] args) {\n      MenuComponent pancakeHouseMenu = new Menu("çé¥¼", "æ©é¤");\n      MenuComponent dinerMenu = new Menu("é¤å", "åé¤");\n      MenuComponent cafeMenu = new Menu("åå¡", "æé¤");\n      MenuComponent dessertMenu = new Menu("çç¹", "");\n      dessertMenu.add(new MenuItem("èç³", "èç³", true, 0));\n      dinerMenu.add(dessertMenu);\n      dinerMenu.add(new MenuItem("çè¡èå", "çè¡èå", true, 22));\n      dinerMenu.add(new MenuItem("çé¸¡è", "çé¸¡è", false, 23));\n\n      MenuComponent menuRoot = new Menu("ææèå", "æ ¹èç¹");\n      menuRoot.add(pancakeHouseMenu);\n      menuRoot.add(dinerMenu);\n      menuRoot.add(cafeMenu);\n\n      Waitress waitress = new Waitress(menuRoot);\n      waitress.printMenu();\n  }\n}\n\n\n# ç»åè¿­ä»£å¨ï¼å¾å®åï¼\n\n# è¦ç¹\n\n * è¿­ä»£å¨åè®¸è®¿é®èåçåç´ ï¼èä¸éè¦æ´é²å®çåé¨ç»æã\n * è¿­ä»£å¨å°éåèåçå·¥ä½å°è£è¿ä¸ä¸ªå¯¹è±¡ä¸­ã\n * å½ä½¿ç¨è¿­ä»£å¨çæ¶åï¼æä»¬ä¾èµèåæä¾éåã\n * è¿­ä»£å¨æä¾äºä¸ä¸ªéç¨çæ¥å£ï¼è®©æä»¬éåèåçé¡¹ï¼å½æä»¬ç¼ç ä½¿ç¨èåçé¡¹æ¶ï¼å°±å¯ä»¥ä½¿ç¨å¤ææºå¶ã\n * æä»¬åºè¯¥åªåè®©ä¸ä¸ªç±»åªåéä¸ä¸ªè´£ä»»ã\n * ç»åæ¨¡å¼æä¾ä¸ä¸ªç»æï¼å¯åæ¶åå®¹ä¸ªå«å¯¹è±¡åç»åå¯¹è±¡ã\n * ç»åæ¨¡å¼åè®¸å®¢æ·å¯¹ä¸ªå«å¯¹è±¡ä»¥åç»åå¯¹è±¡ä¸è§åä»ã\n * ç»åç»æåçä»»æå¯¹è±¡ç§°ä¸ºç»ä»¶ï¼ç»ä»¶å¯ä»¥æ¯ç»åï¼ä¹å¯ä»¥æ¯å¶èç¹ã\n * å¨å®ç°ç»åæ¨¡å¼æ¶ï¼æè®¸å¤è®¾è®¡ä¸çæä¸­ãä½ è¦æ ¹æ®éè¦å¹³è¡¡éææ§åå®å¨æ§',normalizedContent:'# è¿­ä»£å¨æ¨¡å¼ï¼iterator patternï¼\n\n# å®ä¹\n\nè¿­ä»£å¨æ¨¡å¼ æä¾ä¸ç§æ¹æ³é¡ºåºè®¿åä¸ä¸ªèåå¯¹è±¡ä¸­çåä¸ªåç´ ï¼èåä¸æ´é²å¶åé¨çè¡¨ç¤ºã\n\n# é®é¢æåº\n\nç°å¨æä¸ä¸ªçé¥¼å±åé¤åéè¦åå¹¶ï¼æ©ä¸èåç±çé¥¼å±æä¾ï¼åé¥­èåç±é¤åæä¾ãä½æ¯ä¸¤å®¶èåçå®ç°æ¹å¼ä¸ä¸æ ·ï¼ä¸ä¸ªæ¯éè¿ arraylist å®ç°ï¼å¦ä¸ä¸ªéè¿æ°ç»å®ç°ãå æ­¤ï¼éåèåçæ¹å¼ä¸ä¸æ ·ï¼ä»£ç ä¸è½éç¨ã\n\n// éåæ¹å¼éå\nfor (int i = 0; i < breakfastitems.size(); i++) {\n    menuitem menuitem = (menuitem)breakfastitems.get(i);\n    system.out.println(menuitem.tostring());\n}\n\n// æ°ç»æ¹å¼éå\nfor (int i = 0; i < lunchitems.length; i++) {\n    menuitem menuitem = lunchitems[i];\n    system.out.println(menuitem.tostring());\n}\n\n\n# è¿­ä»£å¨\n\n# ç±»å¾\n\n# ä»£ç å®ç°\n\n\npublic class menuitem {\n    string name;\n    string description;\n    boolean vegetaian;\n    double price;\n\n    public menuitem(string name, string description, boolean vegetaian, double price) {\n        this.name = name;\n        this.description = description;\n        this.vegetaian = vegetaian;\n        this.price = price;\n    }\n\n    public string getname() {\n        return name;\n    }\n\n    public string getdescription() {\n        return description;\n    }\n\n    public boolean isvegetaian() {\n        return vegetaian;\n    }\n\n    public double getprice() {\n        return price;\n    }\n\n    @override\n    public string tostring() {\n        return "menuitem{" +\n                "name=\'" + name + \'\\\'\' +\n                ", description=\'" + description + \'\\\'\' +\n                ", vegetaian=" + vegetaian +\n                ", price=" + price +\n                \'}\';\n    }\n}\n\n\npublic class dinermenu {\n    static final int max_item = 6;\n    int numofitems = 0;\n    menuitem[] menuitems;\n\n    public dinermenu() {\n        menuitems = new menuitem[max_item];\n        additem("11", "11", true, 1.1);\n        additem("22", "22", true, 2.2);\n        additem("33", "33", true, 3.3);\n        additem("44", "44", true, 4.4);\n        additem("55", "55", true, 5.5);\n    }\n\n    public void additem(string name, string description, boolean vegetaian, double price) {\n        menuitem menuitem = new menuitem(name, description, vegetaian, price);\n\n        if (numofitems >= max_item) {\n            system.out.println("è¶è¿æå¤§ä¿å­èåæ°");\n        } else {\n            menuitems[numofitems++] = new menuitem(name, description, vegetaian, price);\n        }\n    }\n\n    /*public menuitem[] getmenuitems() {\n        return menuitems;\n    }*/\n\n    public iterator createiterator() {\n        return new dinermenuiterator(menuitems);\n    }\n}\n\n\n// è¿­ä»£å¨æ¥å£\ninterface iterator {\n    boolean hasnext();\n    object next();\n}\npublic class dinermenuiterator implements iterator{\n    menuitem[] items;\n    int position; // è®°å½å½åä½ç½®\n\n    public dinermenuiterator(menuitem[] items) {\n        this.items = items;\n    }\n\n    @override\n    public boolean hasnext() {\n        if (position >= items.length || null == items[position]) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @override\n    public object next() {\n        return items[position++];\n    }\n}\n\n\npublic class pancakehosemenu {\n    arraylist menuitems;\n\n    public pancakehosemenu() {\n        menuitems = new arraylist<>();\n        additem("111", "111", true, 1.11);\n        additem("222", "222", true, 2.22);\n        additem("333", "333", true, 3.33);\n        additem("444", "444", true, 4.44);\n        additem("555", "555", true, 5.55);\n    }\n\n    public void additem(string name, string description, boolean vegetaian, double price) {\n        menuitem menuitem = new menuitem(name, description, vegetaian, price);\n        menuitems.add(menuitem);\n    }\n\n    /*public arraylist getmenuitem() {\n        return menuitems;\n    }*/\n    public iterator createiterator() {\n        return new pancakehosemenuiterator(menuitems);\n    }\n}\n\n\npublic class pancakehosemenuiterator implements iterator {\n    arraylist menuitems;\n    int position; // è®°å½å½åä½ç½®\n\n    public pancakehosemenuiterator(arraylist menuitems) {\n        this.menuitems = menuitems;\n    }\n\n    @override\n    public boolean hasnext() {\n        if (position >= menuitems.size()) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @override\n    public object next() {\n        return menuitems.get(position++);\n    }\n}\n\n\npublic class waitress {\n    pancakehosemenu pancakehosemenu;\n    dinermenu dinermenu;\n\n    public waitress(pancakehosemenu pancakehosemenu, dinermenu dinermenu) {\n        this.pancakehosemenu = pancakehosemenu;\n        this.dinermenu = dinermenu;\n    }\n\n    private void printmenu(iterator iterator) {\n        while (iterator.hasnext()) {\n            menuitem menuitem = (menuitem)iterator.next();\n            system.out.println(menuitem.tostring());\n        }\n    }\n\n    public void printmenu() {\n        iterator pancakehosemenuiterator = pancakehosemenu.createiterator();\n        iterator dinermenuiterator = dinermenu.createiterator();\n        system.out.println("----- pancakehosemenuiterator ----");\n        printmenu(pancakehosemenuiterator);\n        system.out.println("----- dinermenuiterator ----");\n        printmenu(dinermenuiterator);\n    }\n}\n\n\npublic class main {\n    public static void main(string[] args) {\n        pancakehosemenu pancakehosemenu = new pancakehosemenu();\n        dinermenu dinermenu = new dinermenu();\n\n        waitress waitress = new waitress(pancakehosemenu, dinermenu);\n        waitress.printmenu();\n    }\n}\n\n\n# æ¹è¿\n\nå©ç¨æ¥å£ï¼èä¸æ¯å·ä½ç±»ï¼å¼ç¨èååç°ï¼éè¿âéå¯¹æ¥å£ç¼ç¨ï¼èä¸éå¯¹å®ç°ç¼ç¨âï¼åå°æå¡ååå·ä½ç±»ä¹é´çä¾èµã\n\n\n# åä¸èè´£åå\n\nä¸ä¸ªç±»åºè¯¥åªæä¸ä¸ªå¼èµ·ååçåå \n\n> æä»¬ç¥éè¦é¿åç±»åçæ¹åï¼å ä¸ºä¿®æ¹ä»£ç å¾å®¹æé æè®¸å¤æ½å¨çéè¯¯ãå¦ææä¸ä¸ªç±»å·æä¸¤ä¸ªæ¹åçåå ï¼é£ä¹è¿ä¼ä½¿å¾å°æ¥è¯¥ç±»çååæºçä¸åï¼èå½å®ççæ¹åæ¶ï¼ä½ çè®¾è®¡ä¸­åæ¶æä¸¤ä¸ªæ¹é¢å°ä¼åå°å½±åã\n\n\n# ç»åæ¨¡å¼ï¼composite patternï¼\n\n# å®ä¹\n\nç»åæ¨¡å¼ åè®¸ä½ å°å¯¹è±¡ç»åææ å½¢ç»ææ¥è¡¨ç°âæ´ä½/é¨åâå±æ¬¡ç»æãç»åè½è®©å®¢æ·ä»¥ä¸è´çæ¹å¼å¤çä¸ªå«å¯¹è±¡ä»¥åå¯¹è±¡ç»åã\n\n# é®é¢æåº\n\nå½æä»¬ä½¿ç¨äºè¿­ä»£å¨æ¨¡å¼ï¼æä»¬å¯ä»¥å¾è½»æçå å¥ä¸ä»½èåãä½æ¯ï¼å¦ææä»¬æ³è¦å ä¸ä¸ä»½é¤åçç¹çèåï¼èåä¸­çèåï¼ï¼è¿­ä»£å¨æ¨¡å¼å°±æäºæ è½ä¸ºåäºã\n\nå æ­¤ï¼éè¦éæ°è®¾è®¡ï¼\n\n 1. æä»¬éè¦æ å½¢ç»æï¼æ¥å®¹çº³èåãå­èååèåé¡¹ã\n 2. æä»¬å¿é¡»è½å¤è½»æéåèåé¡¹ï¼è³å°éè¦åè¿­ä»£å¨ä¸æ ·æ¹ä¾¿ã\n 3. ä¹éè¦æ´æå¼¹æ§çéåèåé¡¹ï¼æ¯å¦ï¼å¯è½åªéè¦éåçç¹èåï¼æèå¯ä»¥éåå¨é¨èåã\n\n# ç±»å¾\n\nè®¾è®¡èå\n\n# ä»£ç å®ç°\n\n\npublic abstract class menucomponent {\n  public string getname(){\n      throw new unsupportedoperationexception();\n  }\n  public string getdescription(){\n      throw new unsupportedoperationexception();\n  }\n  public double getprice(){\n      throw new unsupportedoperationexception();\n  }\n  public boolean isvegetarian(){\n      throw new unsupportedoperationexception();\n  }\n  public void print()  {\n      throw new unsupportedoperationexception();\n  }\n  public void add(menucomponent menucomponent){\n      throw new unsupportedoperationexception();\n  }\n  public void remove(menucomponent menucomponent){\n      throw new unsupportedoperationexception();\n  }\n  public menucomponent getchild(int num) {\n      throw new unsupportedoperationexception();\n  }\n}\n\n\npublic class menuitem extends menucomponent {\n  string name;\n  string description;\n  boolean vegetaian;\n  double price;\n\n  public menuitem(string name, string description, boolean vegetaian, double price) {\n      this.name = name;\n      this.description = description;\n      this.vegetaian = vegetaian;\n      this.price = price;\n  }\n\n  @override\n  public string getname() {\n      return name;\n  }\n\n  @override\n  public string getdescription() {\n      return description;\n  }\n\n  @override\n  public boolean isvegetarian() {\n      return vegetaian;\n  }\n\n  @override\n  public double getprice() {\n      return price;\n  }\n\n  @override\n  public void print() {\n      string isv = isvegetarian() ? "(v)" : "";\n      system.out.println(" " + getname() + isv);\n      system.out.println(" " + getdescription());\n      system.out.println(" " + getprice());\n  }\n}\n\n\npublic class menu extends menucomponent {\n  arraylist menucomponents = new arraylist<>();\n  string name;\n  string description;\n\n  public menu(string name, string description) {\n      this.name = name;\n      this.description = description;\n  }\n\n  @override\n  public string getname() {\n      return name;\n  }\n\n  @override\n  public string getdescription() {\n      return description;\n  }\n\n  @override\n  public void print() {\n      system.out.println("èååç§°ï¼" + getname());\n      system.out.println("èåæè¿°ï¼" + getdescription());\n      system.out.println("--------------------------------");\n\n      iterator iterator = menucomponents.iterator();\n      while (iterator.hasnext()) {\n          menucomponent menucomponent = (menucomponent)iterator.next();\n          menucomponent.print();\n      }\n  }\n\n  @override\n  public void add(menucomponent menucomponent) {\n      menucomponents.add(menucomponent);\n  }\n\n  @override\n  public void remove(menucomponent menucomponent) {\n      menucomponents.remove(menucomponent);\n  }\n\n  @override\n  public menucomponent getchild(int num) {\n      return (menucomponent)menucomponents.get(num);\n  }\n}\n\n\npublic class waitress {\n  menucomponent allmenus;\n\n  public waitress(menucomponent allmenus) {\n      this.allmenus = allmenus;\n  }\n\n  public void printmenu() {\n      allmenus.print();\n  }\n}\n\n\npublic class main {\n  public static void main(string[] args) {\n      menucomponent pancakehousemenu = new menu("çé¥¼", "æ©é¤");\n      menucomponent dinermenu = new menu("é¤å", "åé¤");\n      menucomponent cafemenu = new menu("åå¡", "æé¤");\n      menucomponent dessertmenu = new menu("çç¹", "");\n      dessertmenu.add(new menuitem("èç³", "èç³", true, 0));\n      dinermenu.add(dessertmenu);\n      dinermenu.add(new menuitem("çè¡èå", "çè¡èå", true, 22));\n      dinermenu.add(new menuitem("çé¸¡è", "çé¸¡è", false, 23));\n\n      menucomponent menuroot = new menu("ææèå", "æ ¹èç¹");\n      menuroot.add(pancakehousemenu);\n      menuroot.add(dinermenu);\n      menuroot.add(cafemenu);\n\n      waitress waitress = new waitress(menuroot);\n      waitress.printmenu();\n  }\n}\n\n\n# ç»åè¿­ä»£å¨ï¼å¾å®åï¼\n\n# è¦ç¹\n\n * è¿­ä»£å¨åè®¸è®¿é®èåçåç´ ï¼èä¸éè¦æ´é²å®çåé¨ç»æã\n * è¿­ä»£å¨å°éåèåçå·¥ä½å°è£è¿ä¸ä¸ªå¯¹è±¡ä¸­ã\n * å½ä½¿ç¨è¿­ä»£å¨çæ¶åï¼æä»¬ä¾èµèåæä¾éåã\n * è¿­ä»£å¨æä¾äºä¸ä¸ªéç¨çæ¥å£ï¼è®©æä»¬éåèåçé¡¹ï¼å½æä»¬ç¼ç ä½¿ç¨èåçé¡¹æ¶ï¼å°±å¯ä»¥ä½¿ç¨å¤ææºå¶ã\n * æä»¬åºè¯¥åªåè®©ä¸ä¸ªç±»åªåéä¸ä¸ªè´£ä»»ã\n * ç»åæ¨¡å¼æä¾ä¸ä¸ªç»æï¼å¯åæ¶åå®¹ä¸ªå«å¯¹è±¡åç»åå¯¹è±¡ã\n * ç»åæ¨¡å¼åè®¸å®¢æ·å¯¹ä¸ªå«å¯¹è±¡ä»¥åç»åå¯¹è±¡ä¸è§åä»ã\n * ç»åç»æåçä»»æå¯¹è±¡ç§°ä¸ºç»ä»¶ï¼ç»ä»¶å¯ä»¥æ¯ç»åï¼ä¹å¯ä»¥æ¯å¶èç¹ã\n * å¨å®ç°ç»åæ¨¡å¼æ¶ï¼æè®¸å¤è®¾è®¡ä¸çæä¸­ãä½ è¦æ ¹æ®éè¦å¹³è¡¡éææ§åå®å¨æ§',charsets:{cjk:!0},lastUpdated:"2022/08/11, 00:48:36",lastUpdatedTimestamp:1660150116e3},{title:"State æ¨¡å¼",frontmatter:{title:"State æ¨¡å¼",date:"2022-08-14T11:11:27.000Z",permalink:"/pages/463f44/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/110.%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/110.ç¶ææ¨¡å¼.md",key:"v-7487d51a",path:"/pages/463f44/",headers:[{level:2,title:"ç¶ææ¨¡å¼ï¼State Patternï¼",slug:"ç¶ææ¨¡å¼-state-pattern",normalizedTitle:"ç¶ææ¨¡å¼ï¼state patternï¼",charIndex:2},{level:4,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:25},{level:4,title:"æåºé®é¢",slug:"æåºé®é¢",normalizedTitle:"æåºé®é¢",charIndex:164},{level:5,title:"ä¸è½ç³ææº",slug:"ä¸è½ç³ææº",normalizedTitle:"ä¸è½ç³ææº",charIndex:172},{level:5,title:"ä»£ç å®ç°",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°",charIndex:181},{level:5,title:"æ°çè®¾è®¡",slug:"æ°çè®¾è®¡",normalizedTitle:"æ°çè®¾è®¡",charIndex:4263},{level:5,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:4433},{level:5,title:"ä¼ååä»£ç ",slug:"ä¼ååä»£ç ",normalizedTitle:"ä¼ååä»£ç ",charIndex:4449},{level:4,title:"è¦ç¹",slug:"è¦ç¹",normalizedTitle:"è¦ç¹",charIndex:10390}],headersStr:"ç¶ææ¨¡å¼ï¼State Patternï¼ å®ä¹ æåºé®é¢ ä¸è½ç³ææº ä»£ç å®ç° æ°çè®¾è®¡ ç±»å¾ ä¼ååä»£ç  è¦ç¹",content:'# ç¶ææ¨¡å¼ï¼State Patternï¼\n\n# å®ä¹\n\nç¶ææ¨¡å¼ åè®¸å¯¹è±¡å¨åé¨ç¶ææ¹åæ¶æ¹åå®çè¡ä¸ºï¼å¯¹è±¡çèµ·æ¥å¥½åä¿®æ¹äºå®çç±»ã\n\n> åºæ¬å¸¸è¯ï¼ç­ç¥æ¨¡å¼åç¶ææ¨¡å¼æ¯åèèï¼å¨åºçæ¶æåå¼ãç­ç¥æ¨¡å¼æ¯å´ç»å¯ä»¥äºæ¢çç®æ³æ¥åå»ºä¸å¡çãç¶èï¼ç¶ææ¨¡å¼èµ°çæ¯æ´å´é«çè·¯ï¼å®éè¿æ¹åå¯¹è±¡åé¨çç¶ææ¥å¸®å©å¯¹è±¡æ§å¶èªå·±çè¡ä¸ºã\n\n# æåºé®é¢\n\n# ä¸è½ç³ææº\n\n# ä»£ç å®ç°\n\nä»¥ä¸ä¸ºä»£ç çåæ­¥å®ç°å­å¨ï¼ä½å­å¨è¯¸å¤é®é¢\n\n 1. è¿ä»½ä»£ç æ²¡æéµå¾ªå¼é­åå\n 2. è¿ä¸ªè®¾è®¡å¶å®ä¸ç¬¦åé¢åå¯¹è±¡\n 3. ç¶æè½¬æ¢è¢«éèå¨è¯­å¥ä¸­ï¼æä»¥å¹¶ä¸ææ¾\n 4. æ²¡ææä¼æ¹åçé£é¨ååè£èµ·æ¥\n 5. æªæ¥å å¥çä»£ç å¯è½ä¼å¯¼è´ bug\n\n\npublic class GumballMachine {\n  final static int SOLD_OUT = 0;      // ç³æå®ç½\n  final static int NO_QUARTER = 1;    // æ²¡æ25åé±\n  final static int HAS_QUARTER = 2;   // æ25åé±\n  final static int SOLD = 3;          // å®åºç³æ\n  \n  // å®ä¾åéï¼ææå½åçç¶æãåå§åä¸ºâç³æå®ç½âç¶æã\n  int state = SOLD_OUT;\n  int count = 0;  // ç³ææ°é\n  \n  public GumballMachine(int count) {\n      this.count = count;\n      if (count > 0) state = NO_QUARTER;\n  }\n\n  // æå¥é±\n  public void insertQuarter() {\n      switch (state) {\n          case HAS_QUARTER:       // å¦ææ25åé±ï¼æç¤ºå·²ç»æè¿é±\n              System.out.println("æ¨å·²ç»æè¿é±");\n              break;\n          case NO_QUARTER:\n              state = HAS_QUARTER;\n              System.out.println("æ¨æå¥äº25åé±");\n              break;\n          case SOLD_OUT:\n              System.out.println("æ¨ä¸è½æå¥é±ï¼ç³æå·²ç»å®ç½");\n              break;\n          case SOLD:\n              System.out.println("è¯·ç¨ç­ï¼æä»¬å·²ç»ç»åºäºç³æ");\n              break;\n      }\n  }\n\n  // éåé±\n  public void ejectQuarter() {\n      switch (state) {\n          case HAS_QUARTER:\n              state = NO_QUARTER;\n              System.out.println("éåé±");\n              break;\n          case NO_QUARTER:\n              System.out.println("æ¨æªæå¥é±ï¼ä¸è½éå");\n              break;\n          case SOLD_OUT:\n              System.out.println("æªæ¶å°é±ï¼ä¸è½éå");  // ç³æå®ç½ï¼ä¸è½æå¥é±ï¼èªç¶ä¸è½éå\n              break;\n          case SOLD:\n              System.out.println("è½¬å¨æ²æï¼å·²ç»æ¿å°ç³æï¼ä¸è½éé±");\n              break;\n      }\n  }\n\n  // è½¬å¨æ²æ\n  public void turnCrank() {\n      switch (state) {\n          case HAS_QUARTER:\n              System.out.println("è½¬å¨æåï¼æ­£å¨åæ¾ç³æ");\n              state = SOLD;\n              dispense();\n              break;\n          case NO_QUARTER:\n              System.out.println("éè¦åæå¥é±");\n              break;\n          case SOLD_OUT:\n              System.out.println("sorryï¼ç³æå·²å®ç½");\n              break;\n          case SOLD:\n              System.out.println("å·²ç»æ¿å°ç³æï¼ä¸è½æ¿ä¸¤æ¬¡ç³æ");\n              break;\n      }\n  }\n\n  // åæ¾ç³æ\n  public void dispense() {\n      switch (state) {\n          case SOLD:\n              System.out.println("ä¸ä¸ªç³æä»æ§½éæ»åºæ¥");\n              count--;\n              if (count == 0) {\n                  state = SOLD_OUT;\n                  System.out.println("ç³æå®ç½");\n              } else {\n                  state = NO_QUARTER;\n              }\n              break;\n          // ä»¥ä¸æåµä¸åºè¯¥åç\n          case HAS_QUARTER:\n              System.out.println("ERRORãHAS_QUARTERã");\n              break;\n          case NO_QUARTER:\n              System.out.println("ERRORãNO_QUARTERã");\n              break;\n          case SOLD_OUT:\n              System.out.println("ERRORãSOLD_OUTã");\n              break;\n      }\n  }\n\n  @Override\n  public String toString() {\n      return "GumballMachine{" +\n              "state=" + state +\n              ", count=" + count +\n              \'}\';\n  }\n}\n\n\npublic class Main {\n  public static void main(String[] args) {\n      GumballMachine gumballMachine = new GumballMachine(5);\n\n      System.out.println(gumballMachine);\n\n      gumballMachine.insertQuarter();  // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n\n      System.out.println(gumballMachine);\n\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.ejectQuarter();  // éåç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n\n      System.out.println(gumballMachine);\n\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n      gumballMachine.ejectQuarter();  // éåç¡¬å¸\n\n      System.out.println(gumballMachine);\n\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n      gumballMachine.insertQuarter(); // æå¥ç¡¬å¸\n      gumballMachine.turnCrank();     // è½¬å¨æ²æ\n\n      System.out.println(gumballMachine);\n  }\n}\n\n\n# æ°çè®¾è®¡\n\nå ä¸ºä»¥ä¸ä»£ç çç¼ºé·ï¼æä»¬éè¦éæ°è®¾è®¡ä»£ç ï¼ä½¿å¶ä¾¿äºç»´æ¤ä¸æ©å±\n\n 1. é¦åï¼æä»¬å®ä¹ä¸ä¸ªStateæ¥å£ãå¨è¿ä¸ªæ¥å£åï¼ç³ææºçæ¯ä¸ªå¨ä½é½æä¸ä¸ªå¯¹åºçæ¹æ³ã\n 2. ç¶åä¸ºæºå¨ä¸­çæ¯ä¸ªç¶æå®ç°ç¶æç±»ãè¿äºç±»å°è´è´£å¨å¯¹åºçç¶æä¸è¿è¡æºå¨çè¡ä¸ºã\n 3. æåï¼æä»¬è¦æè±æ§çæ¡ä»¶ä»£ç ï¼åèä»£ä¹çæ¹å¼æ¯ï¼å°å¨ä½å§æå°ç¶æç±»ã\n\n# ç±»å¾\n\n\nç¶ææ¨¡å¼ç±»å¾\n\n\n# ä¼ååä»£ç \n\npublic class GumballMachine {\n  private State soldOutState;     // ç³æå®ç½\n  private State noQuarterState;       // æ²¡æ25åé±\n  private State hasQuarterState;      // æ25åé±\n  private State soldState;        // å®åºç³æ\n  private State WinnerState;\n\n  // å®ä¾åéï¼ææå½åçç¶æãåå§åä¸ºâç³æå®ç½âç¶æã\n  private State state = soldOutState;\n  private int count = 0;  // ç³ææ°é\n\n  public GumballMachine(int numerGumballs) {\n      soldOutState = new SoldOutState(this);\n      noQuarterState = new NoQuarterState(this);\n      hasQuarterState = new HasQuarterState(this);\n      soldState = new SoldState(this);\n      WinnerState = new WinnerState(this);\n      this.count = numerGumballs;\n      if (numerGumballs > 0) state = noQuarterState;\n  }\n\n  public void insertQuarter() {\n      state.insertQuarter();\n  }\n\n  public void ejectQuarter() {\n      state.ejectQuarter();\n  }\n\n  public void turnCrank() {\n      state.turnCrank();\n      state.dispense();\n  }\n\n  // åæ¾ç³æ\n  void releaseBall() {\n      System.out.println("ä¸ä¸ªç³æä»æ§½éæ»åºæ¥");\n      if (count != 0) count--;\n  }\n\n  public State getSoldOutState() {\n      return soldOutState;\n  }\n\n  public State getNoQuarterState() {\n      return noQuarterState;\n  }\n\n  public State getHasQuarterState() {\n      return hasQuarterState;\n  }\n\n  public State getSoldState() {\n      return soldState;\n  }\n\n  public State getState() {\n      return state;\n  }\n\n  public State getWinnerState() {\n      return WinnerState;\n  }\n\n  public void setState(State state) {\n      this.state = state;\n  }\n\n  public int getCount() {\n      return count;\n  }\n\n  @Override\n  public String toString() {\n      return "GumballMachine{" +\n              "state=" + state +\n              ", count=" + count +\n              \'}\';\n  }\n}\n\n\npublic interface State {\n  void insertQuarter();\n  void ejectQuarter();\n  void turnCrank();\n  void dispense();\n}\n\n\npublic class NoQuarterState implements State {\n  GumballMachine gumballMachine;\n\n  public NoQuarterState(GumballMachine gumballMachine) {\n      this.gumballMachine = gumballMachine;\n  }\n\n  @Override\n  public void insertQuarter() {\n      System.out.println("æ¨æå¥äº25åé±");\n      gumballMachine.setState(gumballMachine.getHasQuarterState());\n  }\n\n  @Override\n  public void ejectQuarter() {\n      System.out.println("æ¨æªæå¥é±ï¼ä¸è½éå");\n  }\n\n  @Override\n  public void turnCrank() {\n      System.out.println("éè¦åæå¥é±");\n  }\n\n  @Override\n  public void dispense() {\n      // System.out.println("ERRORãNO_QUARTERã");\n  }\n}\n\n\npublic class HasQuarterState implements State {\n  Random random = new Random(System.currentTimeMillis());\n  GumballMachine gumballMachine;\n\n  public HasQuarterState(GumballMachine gumballMachine) {\n      this.gumballMachine = gumballMachine;\n  }\n\n  @Override\n  public void insertQuarter() {\n      System.out.println("æ¨å·²ç»æè¿é±");   // å¦ææ25åé±ï¼æç¤ºå·²ç»æè¿é±\n  }\n\n  @Override\n  public void ejectQuarter() {\n      gumballMachine.setState(gumballMachine.getNoQuarterState());\n      System.out.println("éåé±");\n  }\n\n  @Override\n  public void turnCrank() {\n      System.out.println("è½¬å¨æåï¼æ­£å¨åæ¾ç³æ");\n      int winner = random.nextInt(10);\n      if (winner == 0 && gumballMachine.getCount() > 1) {\n          // å¦æèµ¢äºå¹¶ä¸æ 2 é¢ä»¥ä¸ç³æçè¯ï¼å°±è¿å¥ WinnerState ç¶æ\n          gumballMachine.setState(gumballMachine.getWinnerState());\n      } else {\n          gumballMachine.setState(gumballMachine.getSoldState());\n      }\n  }\n\n  @Override\n  public void dispense() {\n      // System.out.println("ERRORãHAS_QUARTERã");\n  }\n}\n\n\npublic class SoldOutState implements State {\n  GumballMachine gumballMachine;\n\n  public SoldOutState(GumballMachine gumballMachine) {\n      this.gumballMachine = gumballMachine;\n  }\n\n  @Override\n  public void insertQuarter() {\n      System.out.println("æ¨ä¸è½æå¥é±ï¼ç³æå·²ç»å®ç½");\n  }\n\n  @Override\n  public void ejectQuarter() {\n      System.out.println("æªæ¶å°é±ï¼ä¸è½éå");  // ç³æå®ç½ï¼ä¸è½æå¥é±ï¼èªç¶ä¸è½éå\n  }\n\n  @Override\n  public void turnCrank() {\n      System.out.println("sorryï¼ç³æå·²å®ç½");\n  }\n\n  @Override\n  public void dispense() {\n      // System.out.println("ERRORãSOLD_OUTã");\n  }\n}\n\n\npublic class SoldState implements State {\n  GumballMachine gumballMachine;\n\n  public SoldState(GumballMachine gumballMachine) {\n      this.gumballMachine = gumballMachine;\n  }\n\n  @Override\n  public void insertQuarter() {\n      System.out.println("è¯·ç¨ç­ï¼æä»¬å·²ç»ç»åºäºç³æ");\n  }\n\n  @Override\n  public void ejectQuarter() {\n      System.out.println("è½¬å¨æ²æï¼å·²ç»æ¿å°ç³æï¼ä¸è½éé±");\n  }\n\n  @Override\n  public void turnCrank() {\n      System.out.println("å·²ç»æ¿å°ç³æï¼ä¸è½æ¿ä¸¤æ¬¡ç³æ");\n  }\n\n  @Override\n  public void dispense() {\n      gumballMachine.releaseBall();\n      if (gumballMachine.getCount() > 0) {\n          gumballMachine.setState(gumballMachine.getNoQuarterState());\n      } else {\n          System.out.println("ç³æå®ç½");\n          gumballMachine.setState(gumballMachine.getSoldOutState());\n      }\n  }\n}\n\n\n// å®ç°åä¸ªä¸­ä¸ä¸ª\npublic class WinnerState implements State {\n  GumballMachine gumballMachine;\n\n  public WinnerState(GumballMachine gumballMachine) {\n      this.gumballMachine = gumballMachine;\n  }\n\n  @Override\n  public void insertQuarter() {\n\n  }\n\n  @Override\n  public void ejectQuarter() {\n\n  }\n\n  @Override\n  public void turnCrank() {\n\n  }\n\n  @Override\n  public void dispense() {\n      System.out.println("ä½ èµ¢äºï¼å°è·å¾ä¸¤ä¸ªç³æ");\n      gumballMachine.releaseBall();\n      if (gumballMachine.getCount() == 0) {\n          gumballMachine.setState(gumballMachine.getSoldOutState());\n      } else {\n          gumballMachine.releaseBall();\n          if (gumballMachine.getCount() > 0) {\n              gumballMachine.setState(gumballMachine.getNoQuarterState());\n          } else {\n              gumballMachine.setState(gumballMachine.getSoldOutState());\n          }\n      }\n  }\n}\n\n\npublic class Main {\n  public static void main(String[] args) {\n      GumballMachine gumballMachine = new GumballMachine(100);\n      for (int i = 0; i < 50; i++) {\n          gumballMachine.insertQuarter();\n          gumballMachine.turnCrank();\n          System.out.println(gumballMachine);\n      }\n  }\n}\n\n\n# è¦ç¹\n\n * ç¶ææ¨¡å¼åè®¸ä¸ä¸ªå¯¹è±¡åºäºåé¨ç¶æèæ¥æä¸åçè¡ä¸ºã\n * åç¨åºç¶ææºï¼PSMï¼ä¸åï¼ç¶ææ¨¡å¼ç¨ç±»ä»£è¡¨ç¶æã\n * Context ä¼å°è¡ä¸ºå§æç»å½åç¶æå¯¹è±¡ã\n * éè¿å°æ¯ä¸ªç¶æå°è£è¿ä¸ä¸ªç±»ï¼æä»¬æä»¥åéè¦åçä»»ä½æ¹åå±é¨åäºã\n * ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼æç¸åçç±»å¾ï¼ä½æ¯å®ä»¬çæå¾ä¸åã\n * ç­ç¥æ¨¡å¼éå¸¸ä¼ç¨è¡ä¸ºæç®æ³æ¥éç½® Context ç±»ã\n * ç¶ææ¨¡å¼åè®¸ Context éçç¶æçæ¹åèæ¹åè¡ä¸ºã\n * ç¶æè½¬æ¢å¯ä»¥ç± State ç±»æ Context ç±»æ§å¶ã\n * ä½¿ç¨ç¶ææ¨¡å¼éå¸¸ä¼å¯¼è´è®¾è®¡ä¸­ç±»çæ°ç®å¤§éå¢å ã\n * ç¶æç±»å¯ä»¥è¢«å¤ä¸ª Context å®ä¾å±äº«ã',normalizedContent:'# ç¶ææ¨¡å¼ï¼state patternï¼\n\n# å®ä¹\n\nç¶ææ¨¡å¼ åè®¸å¯¹è±¡å¨åé¨ç¶ææ¹åæ¶æ¹åå®çè¡ä¸ºï¼å¯¹è±¡çèµ·æ¥å¥½åä¿®æ¹äºå®çç±»ã\n\n> åºæ¬å¸¸è¯ï¼ç­ç¥æ¨¡å¼åç¶ææ¨¡å¼æ¯åèèï¼å¨åºçæ¶æåå¼ãç­ç¥æ¨¡å¼æ¯å´ç»å¯ä»¥äºæ¢çç®æ³æ¥åå»ºä¸å¡çãç¶èï¼ç¶ææ¨¡å¼èµ°çæ¯æ´å´é«çè·¯ï¼å®éè¿æ¹åå¯¹è±¡åé¨çç¶ææ¥å¸®å©å¯¹è±¡æ§å¶èªå·±çè¡ä¸ºã\n\n# æåºé®é¢\n\n# ä¸è½ç³ææº\n\n# ä»£ç å®ç°\n\nä»¥ä¸ä¸ºä»£ç çåæ­¥å®ç°å­å¨ï¼ä½å­å¨è¯¸å¤é®é¢\n\n 1. è¿ä»½ä»£ç æ²¡æéµå¾ªå¼é­åå\n 2. è¿ä¸ªè®¾è®¡å¶å®ä¸ç¬¦åé¢åå¯¹è±¡\n 3. ç¶æè½¬æ¢è¢«éèå¨è¯­å¥ä¸­ï¼æä»¥å¹¶ä¸ææ¾\n 4. æ²¡ææä¼æ¹åçé£é¨ååè£èµ·æ¥\n 5. æªæ¥å å¥çä»£ç å¯è½ä¼å¯¼è´ bug\n\n\npublic class gumballmachine {\n  final static int sold_out = 0;      // ç³æå®ç½\n  final static int no_quarter = 1;    // æ²¡æ25åé±\n  final static int has_quarter = 2;   // æ25åé±\n  final static int sold = 3;          // å®åºç³æ\n  \n  // å®ä¾åéï¼ææå½åçç¶æãåå§åä¸ºâç³æå®ç½âç¶æã\n  int state = sold_out;\n  int count = 0;  // ç³ææ°é\n  \n  public gumballmachine(int count) {\n      this.count = count;\n      if (count > 0) state = no_quarter;\n  }\n\n  // æå¥é±\n  public void insertquarter() {\n      switch (state) {\n          case has_quarter:       // å¦ææ25åé±ï¼æç¤ºå·²ç»æè¿é±\n              system.out.println("æ¨å·²ç»æè¿é±");\n              break;\n          case no_quarter:\n              state = has_quarter;\n              system.out.println("æ¨æå¥äº25åé±");\n              break;\n          case sold_out:\n              system.out.println("æ¨ä¸è½æå¥é±ï¼ç³æå·²ç»å®ç½");\n              break;\n          case sold:\n              system.out.println("è¯·ç¨ç­ï¼æä»¬å·²ç»ç»åºäºç³æ");\n              break;\n      }\n  }\n\n  // éåé±\n  public void ejectquarter() {\n      switch (state) {\n          case has_quarter:\n              state = no_quarter;\n              system.out.println("éåé±");\n              break;\n          case no_quarter:\n              system.out.println("æ¨æªæå¥é±ï¼ä¸è½éå");\n              break;\n          case sold_out:\n              system.out.println("æªæ¶å°é±ï¼ä¸è½éå");  // ç³æå®ç½ï¼ä¸è½æå¥é±ï¼èªç¶ä¸è½éå\n              break;\n          case sold:\n              system.out.println("è½¬å¨æ²æï¼å·²ç»æ¿å°ç³æï¼ä¸è½éé±");\n              break;\n      }\n  }\n\n  // è½¬å¨æ²æ\n  public void turncrank() {\n      switch (state) {\n          case has_quarter:\n              system.out.println("è½¬å¨æåï¼æ­£å¨åæ¾ç³æ");\n              state = sold;\n              dispense();\n              break;\n          case no_quarter:\n              system.out.println("éè¦åæå¥é±");\n              break;\n          case sold_out:\n              system.out.println("sorryï¼ç³æå·²å®ç½");\n              break;\n          case sold:\n              system.out.println("å·²ç»æ¿å°ç³æï¼ä¸è½æ¿ä¸¤æ¬¡ç³æ");\n              break;\n      }\n  }\n\n  // åæ¾ç³æ\n  public void dispense() {\n      switch (state) {\n          case sold:\n              system.out.println("ä¸ä¸ªç³æä»æ§½éæ»åºæ¥");\n              count--;\n              if (count == 0) {\n                  state = sold_out;\n                  system.out.println("ç³æå®ç½");\n              } else {\n                  state = no_quarter;\n              }\n              break;\n          // ä»¥ä¸æåµä¸åºè¯¥åç\n          case has_quarter:\n              system.out.println("errorãhas_quarterã");\n              break;\n          case no_quarter:\n              system.out.println("errorãno_quarterã");\n              break;\n          case sold_out:\n              system.out.println("errorãsold_outã");\n              break;\n      }\n  }\n\n  @override\n  public string tostring() {\n      return "gumballmachine{" +\n              "state=" + state +\n              ", count=" + count +\n              \'}\';\n  }\n}\n\n\npublic class main {\n  public static void main(string[] args) {\n      gumballmachine gumballmachine = new gumballmachine(5);\n\n      system.out.println(gumballmachine);\n\n      gumballmachine.insertquarter();  // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n\n      system.out.println(gumballmachine);\n\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.ejectquarter();  // éåç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n\n      system.out.println(gumballmachine);\n\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n      gumballmachine.ejectquarter();  // éåç¡¬å¸\n\n      system.out.println(gumballmachine);\n\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n      gumballmachine.insertquarter(); // æå¥ç¡¬å¸\n      gumballmachine.turncrank();     // è½¬å¨æ²æ\n\n      system.out.println(gumballmachine);\n  }\n}\n\n\n# æ°çè®¾è®¡\n\nå ä¸ºä»¥ä¸ä»£ç çç¼ºé·ï¼æä»¬éè¦éæ°è®¾è®¡ä»£ç ï¼ä½¿å¶ä¾¿äºç»´æ¤ä¸æ©å±\n\n 1. é¦åï¼æä»¬å®ä¹ä¸ä¸ªstateæ¥å£ãå¨è¿ä¸ªæ¥å£åï¼ç³ææºçæ¯ä¸ªå¨ä½é½æä¸ä¸ªå¯¹åºçæ¹æ³ã\n 2. ç¶åä¸ºæºå¨ä¸­çæ¯ä¸ªç¶æå®ç°ç¶æç±»ãè¿äºç±»å°è´è´£å¨å¯¹åºçç¶æä¸è¿è¡æºå¨çè¡ä¸ºã\n 3. æåï¼æä»¬è¦æè±æ§çæ¡ä»¶ä»£ç ï¼åèä»£ä¹çæ¹å¼æ¯ï¼å°å¨ä½å§æå°ç¶æç±»ã\n\n# ç±»å¾\n\n\nç¶ææ¨¡å¼ç±»å¾\n\n\n# ä¼ååä»£ç \n\npublic class gumballmachine {\n  private state soldoutstate;     // ç³æå®ç½\n  private state noquarterstate;       // æ²¡æ25åé±\n  private state hasquarterstate;      // æ25åé±\n  private state soldstate;        // å®åºç³æ\n  private state winnerstate;\n\n  // å®ä¾åéï¼ææå½åçç¶æãåå§åä¸ºâç³æå®ç½âç¶æã\n  private state state = soldoutstate;\n  private int count = 0;  // ç³ææ°é\n\n  public gumballmachine(int numergumballs) {\n      soldoutstate = new soldoutstate(this);\n      noquarterstate = new noquarterstate(this);\n      hasquarterstate = new hasquarterstate(this);\n      soldstate = new soldstate(this);\n      winnerstate = new winnerstate(this);\n      this.count = numergumballs;\n      if (numergumballs > 0) state = noquarterstate;\n  }\n\n  public void insertquarter() {\n      state.insertquarter();\n  }\n\n  public void ejectquarter() {\n      state.ejectquarter();\n  }\n\n  public void turncrank() {\n      state.turncrank();\n      state.dispense();\n  }\n\n  // åæ¾ç³æ\n  void releaseball() {\n      system.out.println("ä¸ä¸ªç³æä»æ§½éæ»åºæ¥");\n      if (count != 0) count--;\n  }\n\n  public state getsoldoutstate() {\n      return soldoutstate;\n  }\n\n  public state getnoquarterstate() {\n      return noquarterstate;\n  }\n\n  public state gethasquarterstate() {\n      return hasquarterstate;\n  }\n\n  public state getsoldstate() {\n      return soldstate;\n  }\n\n  public state getstate() {\n      return state;\n  }\n\n  public state getwinnerstate() {\n      return winnerstate;\n  }\n\n  public void setstate(state state) {\n      this.state = state;\n  }\n\n  public int getcount() {\n      return count;\n  }\n\n  @override\n  public string tostring() {\n      return "gumballmachine{" +\n              "state=" + state +\n              ", count=" + count +\n              \'}\';\n  }\n}\n\n\npublic interface state {\n  void insertquarter();\n  void ejectquarter();\n  void turncrank();\n  void dispense();\n}\n\n\npublic class noquarterstate implements state {\n  gumballmachine gumballmachine;\n\n  public noquarterstate(gumballmachine gumballmachine) {\n      this.gumballmachine = gumballmachine;\n  }\n\n  @override\n  public void insertquarter() {\n      system.out.println("æ¨æå¥äº25åé±");\n      gumballmachine.setstate(gumballmachine.gethasquarterstate());\n  }\n\n  @override\n  public void ejectquarter() {\n      system.out.println("æ¨æªæå¥é±ï¼ä¸è½éå");\n  }\n\n  @override\n  public void turncrank() {\n      system.out.println("éè¦åæå¥é±");\n  }\n\n  @override\n  public void dispense() {\n      // system.out.println("errorãno_quarterã");\n  }\n}\n\n\npublic class hasquarterstate implements state {\n  random random = new random(system.currenttimemillis());\n  gumballmachine gumballmachine;\n\n  public hasquarterstate(gumballmachine gumballmachine) {\n      this.gumballmachine = gumballmachine;\n  }\n\n  @override\n  public void insertquarter() {\n      system.out.println("æ¨å·²ç»æè¿é±");   // å¦ææ25åé±ï¼æç¤ºå·²ç»æè¿é±\n  }\n\n  @override\n  public void ejectquarter() {\n      gumballmachine.setstate(gumballmachine.getnoquarterstate());\n      system.out.println("éåé±");\n  }\n\n  @override\n  public void turncrank() {\n      system.out.println("è½¬å¨æåï¼æ­£å¨åæ¾ç³æ");\n      int winner = random.nextint(10);\n      if (winner == 0 && gumballmachine.getcount() > 1) {\n          // å¦æèµ¢äºå¹¶ä¸æ 2 é¢ä»¥ä¸ç³æçè¯ï¼å°±è¿å¥ winnerstate ç¶æ\n          gumballmachine.setstate(gumballmachine.getwinnerstate());\n      } else {\n          gumballmachine.setstate(gumballmachine.getsoldstate());\n      }\n  }\n\n  @override\n  public void dispense() {\n      // system.out.println("errorãhas_quarterã");\n  }\n}\n\n\npublic class soldoutstate implements state {\n  gumballmachine gumballmachine;\n\n  public soldoutstate(gumballmachine gumballmachine) {\n      this.gumballmachine = gumballmachine;\n  }\n\n  @override\n  public void insertquarter() {\n      system.out.println("æ¨ä¸è½æå¥é±ï¼ç³æå·²ç»å®ç½");\n  }\n\n  @override\n  public void ejectquarter() {\n      system.out.println("æªæ¶å°é±ï¼ä¸è½éå");  // ç³æå®ç½ï¼ä¸è½æå¥é±ï¼èªç¶ä¸è½éå\n  }\n\n  @override\n  public void turncrank() {\n      system.out.println("sorryï¼ç³æå·²å®ç½");\n  }\n\n  @override\n  public void dispense() {\n      // system.out.println("errorãsold_outã");\n  }\n}\n\n\npublic class soldstate implements state {\n  gumballmachine gumballmachine;\n\n  public soldstate(gumballmachine gumballmachine) {\n      this.gumballmachine = gumballmachine;\n  }\n\n  @override\n  public void insertquarter() {\n      system.out.println("è¯·ç¨ç­ï¼æä»¬å·²ç»ç»åºäºç³æ");\n  }\n\n  @override\n  public void ejectquarter() {\n      system.out.println("è½¬å¨æ²æï¼å·²ç»æ¿å°ç³æï¼ä¸è½éé±");\n  }\n\n  @override\n  public void turncrank() {\n      system.out.println("å·²ç»æ¿å°ç³æï¼ä¸è½æ¿ä¸¤æ¬¡ç³æ");\n  }\n\n  @override\n  public void dispense() {\n      gumballmachine.releaseball();\n      if (gumballmachine.getcount() > 0) {\n          gumballmachine.setstate(gumballmachine.getnoquarterstate());\n      } else {\n          system.out.println("ç³æå®ç½");\n          gumballmachine.setstate(gumballmachine.getsoldoutstate());\n      }\n  }\n}\n\n\n// å®ç°åä¸ªä¸­ä¸ä¸ª\npublic class winnerstate implements state {\n  gumballmachine gumballmachine;\n\n  public winnerstate(gumballmachine gumballmachine) {\n      this.gumballmachine = gumballmachine;\n  }\n\n  @override\n  public void insertquarter() {\n\n  }\n\n  @override\n  public void ejectquarter() {\n\n  }\n\n  @override\n  public void turncrank() {\n\n  }\n\n  @override\n  public void dispense() {\n      system.out.println("ä½ èµ¢äºï¼å°è·å¾ä¸¤ä¸ªç³æ");\n      gumballmachine.releaseball();\n      if (gumballmachine.getcount() == 0) {\n          gumballmachine.setstate(gumballmachine.getsoldoutstate());\n      } else {\n          gumballmachine.releaseball();\n          if (gumballmachine.getcount() > 0) {\n              gumballmachine.setstate(gumballmachine.getnoquarterstate());\n          } else {\n              gumballmachine.setstate(gumballmachine.getsoldoutstate());\n          }\n      }\n  }\n}\n\n\npublic class main {\n  public static void main(string[] args) {\n      gumballmachine gumballmachine = new gumballmachine(100);\n      for (int i = 0; i < 50; i++) {\n          gumballmachine.insertquarter();\n          gumballmachine.turncrank();\n          system.out.println(gumballmachine);\n      }\n  }\n}\n\n\n# è¦ç¹\n\n * ç¶ææ¨¡å¼åè®¸ä¸ä¸ªå¯¹è±¡åºäºåé¨ç¶æèæ¥æä¸åçè¡ä¸ºã\n * åç¨åºç¶ææºï¼psmï¼ä¸åï¼ç¶ææ¨¡å¼ç¨ç±»ä»£è¡¨ç¶æã\n * context ä¼å°è¡ä¸ºå§æç»å½åç¶æå¯¹è±¡ã\n * éè¿å°æ¯ä¸ªç¶æå°è£è¿ä¸ä¸ªç±»ï¼æä»¬æä»¥åéè¦åçä»»ä½æ¹åå±é¨åäºã\n * ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼æç¸åçç±»å¾ï¼ä½æ¯å®ä»¬çæå¾ä¸åã\n * ç­ç¥æ¨¡å¼éå¸¸ä¼ç¨è¡ä¸ºæç®æ³æ¥éç½® context ç±»ã\n * ç¶ææ¨¡å¼åè®¸ context éçç¶æçæ¹åèæ¹åè¡ä¸ºã\n * ç¶æè½¬æ¢å¯ä»¥ç± state ç±»æ context ç±»æ§å¶ã\n * ä½¿ç¨ç¶ææ¨¡å¼éå¸¸ä¼å¯¼è´è®¾è®¡ä¸­ç±»çæ°ç®å¤§éå¢å ã\n * ç¶æç±»å¯ä»¥è¢«å¤ä¸ª context å®ä¾å±äº«ã',charsets:{cjk:!0},lastUpdated:"2022/08/14, 14:15:48",lastUpdatedTimestamp:1660457748e3},{title:"ä»£çæ¨¡å¼",frontmatter:{title:"ä»£çæ¨¡å¼",date:"2022-08-16T22:19:06.000Z",permalink:"/pages/cb203f/"},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/04.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/120.%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/04.è®¾è®¡æ¨¡å¼/120.ä»£çæ¨¡å¼.md",key:"v-bed51406",path:"/pages/cb203f/",headers:[{level:2,title:"ä»£çæ¨¡å¼ï¼Proxy Patternï¼",slug:"ä»£çæ¨¡å¼-proxy-pattern",normalizedTitle:"ä»£çæ¨¡å¼ï¼proxy patternï¼",charIndex:2},{level:4,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:25},{level:4,title:"æåºé®é¢",slug:"æåºé®é¢",normalizedTitle:"æåºé®é¢",charIndex:66},{level:4,title:"æµè¯ RMI",slug:"æµè¯-rmi",normalizedTitle:"æµè¯ rmi",charIndex:129},{level:4,title:"GumballMachine è¿ç¨ä»£ç",slug:"gumballmachine-è¿ç¨ä»£ç",normalizedTitle:"gumballmachine è¿ç¨ä»£ç",charIndex:1662}],headersStr:"ä»£çæ¨¡å¼ï¼Proxy Patternï¼ å®ä¹ æåºé®é¢ æµè¯ RMI GumballMachine è¿ç¨ä»£ç",content:'# ä»£çæ¨¡å¼ï¼Proxy Patternï¼\n\n# å®ä¹\n\nä»£çæ¨¡å¼ ä¸ºå¦ä¸ä¸ªå¯¹è±¡æä¾ä¸ä¸ªæ¿èº«æå ä½ç¬¦ä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ã\n\n# æåºé®é¢\n\nä¹¦æ¥ä¸åï¼æä»¬å®ç°çç³ææºå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½äºãç°å¨æä»¬æ³ä½¿ç³ææºè·å¾æ´å¥½ççæ§ï¼åå»ºä¸ä»½è½æå°åºæ¥çæ¥åã\n\n# æµè¯ RMI\n\n----------------------------------------\n\n\n\n\n/** æ­¥éª¤ä¸ãå¶ä½è¿ç¨æ¥å£\n * 1. ç»§æ¿ Remote\n * 2. æææ¹æ³é½ä¼æåº RemoteException å¼å¸¸\n * 3. åéåè¿åå¼æ¯åè¯­ï¼primitiveï¼æèåºååï¼Serializableï¼çï¼å ä¸ºéè¦è¿è¡ç½ç» IO\n */\npublic interface MyRemote extends Remote {\n    public String sayHello() throws RemoteException;\n}\n\n\n/**\n * æ­¥éª¤äºãå¶ä½è¿ç¨å®ç°\n * 1. å®ç°è¿ç¨æ¥å£ xxxRemote\n * 2. ç»§æ¿ UnicastRemoteObjectï¼ä½¿å¯¹è±¡ç»§æ¿è¶ç±»çè¿ç¨åè½ï¼\n * 3. åå»ºæ åæé å¨ï¼å¹¶æåºå¼å¸¸\n * 4. ç¨ RMI Registry æ³¨åæ­¤æå¡\n *\n *\n * æ­¥éª¤ä¸ãäº§ç Stub å Skeletonï¼`rmic åå.MyRemoteImpl`ï¼\n * æ­¥éª¤åãæ§è¡ remiregistryï¼ä¿è¯å¯å¨ç®å½å¯ä»¥è®¿é®ç±»ï¼æç®ååæ³ classes ä¸å¯å¨ï¼ï¼`rmiregistry`ï¼\n * æ­¥éª¤äºãå¯å¨æå¡ï¼`java åå.MyRemoteImpl`ï¼\n */\npublic class MyRemoteImpl extends UnicastRemoteObject implements MyRemote {\n    protected MyRemoteImpl() throws RemoteException {}\n\n    @Override\n    public String sayHello() throws RemoteException {\n        return "Hello World!!!!!!!!!!!!!!";\n    }\n\n    public static void main(String[] args) {\n        try {\n            MyRemoteImpl service = new MyRemoteImpl();\n            // åä¿è¯ RMI Registry æ­£å¨è¿è¡ï¼ç¶åæ³¨åæå¡ï¼stubï¼\n            Naming.bind("RemoteHello", service);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npublic class MyRemoteClient {\n    public void go() {\n        try {\n            MyRemote serivce = (MyRemote) Naming.lookup("rmi://127.0.0.1/RemoteHello");\n            String s = serivce.sayHello();\n            System.out.println(s);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        new MyRemoteClient().go();\n    }\n}\n\n\n# GumballMachine è¿ç¨ä»£ç',normalizedContent:'# ä»£çæ¨¡å¼ï¼proxy patternï¼\n\n# å®ä¹\n\nä»£çæ¨¡å¼ ä¸ºå¦ä¸ä¸ªå¯¹è±¡æä¾ä¸ä¸ªæ¿èº«æå ä½ç¬¦ä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ã\n\n# æåºé®é¢\n\nä¹¦æ¥ä¸åï¼æä»¬å®ç°çç³ææºå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½äºãç°å¨æä»¬æ³ä½¿ç³ææºè·å¾æ´å¥½ççæ§ï¼åå»ºä¸ä»½è½æå°åºæ¥çæ¥åã\n\n# æµè¯ rmi\n\n----------------------------------------\n\n\n\n\n/** æ­¥éª¤ä¸ãå¶ä½è¿ç¨æ¥å£\n * 1. ç»§æ¿ remote\n * 2. æææ¹æ³é½ä¼æåº remoteexception å¼å¸¸\n * 3. åéåè¿åå¼æ¯åè¯­ï¼primitiveï¼æèåºååï¼serializableï¼çï¼å ä¸ºéè¦è¿è¡ç½ç» io\n */\npublic interface myremote extends remote {\n    public string sayhello() throws remoteexception;\n}\n\n\n/**\n * æ­¥éª¤äºãå¶ä½è¿ç¨å®ç°\n * 1. å®ç°è¿ç¨æ¥å£ xxxremote\n * 2. ç»§æ¿ unicastremoteobjectï¼ä½¿å¯¹è±¡ç»§æ¿è¶ç±»çè¿ç¨åè½ï¼\n * 3. åå»ºæ åæé å¨ï¼å¹¶æåºå¼å¸¸\n * 4. ç¨ rmi registry æ³¨åæ­¤æå¡\n *\n *\n * æ­¥éª¤ä¸ãäº§ç stub å skeletonï¼`rmic åå.myremoteimpl`ï¼\n * æ­¥éª¤åãæ§è¡ remiregistryï¼ä¿è¯å¯å¨ç®å½å¯ä»¥è®¿é®ç±»ï¼æç®ååæ³ classes ä¸å¯å¨ï¼ï¼`rmiregistry`ï¼\n * æ­¥éª¤äºãå¯å¨æå¡ï¼`java åå.myremoteimpl`ï¼\n */\npublic class myremoteimpl extends unicastremoteobject implements myremote {\n    protected myremoteimpl() throws remoteexception {}\n\n    @override\n    public string sayhello() throws remoteexception {\n        return "hello world!!!!!!!!!!!!!!";\n    }\n\n    public static void main(string[] args) {\n        try {\n            myremoteimpl service = new myremoteimpl();\n            // åä¿è¯ rmi registry æ­£å¨è¿è¡ï¼ç¶åæ³¨åæå¡ï¼stubï¼\n            naming.bind("remotehello", service);\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n}\n\n\npublic class myremoteclient {\n    public void go() {\n        try {\n            myremote serivce = (myremote) naming.lookup("rmi://127.0.0.1/remotehello");\n            string s = serivce.sayhello();\n            system.out.println(s);\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n\n    public static void main(string[] args) {\n        new myremoteclient().go();\n    }\n}\n\n\n# gumballmachine è¿ç¨ä»£ç',charsets:{cjk:!0},lastUpdated:"2022/09/27, 16:57:46",lastUpdatedTimestamp:1664269066e3},{title:"Hadoopåå¸å¼æ­å»º",frontmatter:{title:"Hadoopåå¸å¼æ­å»º",date:"2022-02-23T12:55:03.000Z",permalink:"/pages/5d76a5/",categories:["å¤§æ°æ®","Hadoop"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/01.Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/01.Hadoop/01.Hadoopåå¸å¼æ­å»º.md",key:"v-42c6f9fa",path:"/pages/5d76a5/",headers:[{level:2,title:"ä¸ãèææºç¯å¢åå¤",slug:"ä¸ãèææºç¯å¢åå¤",normalizedTitle:"ä¸ãèææºç¯å¢åå¤",charIndex:2},{level:3,title:"1.åéèææº",slug:"_1-åéèææº",normalizedTitle:"1.åéèææº",charIndex:16},{level:3,title:"2.ä¿®æ¹åéèææºçéæIP",slug:"_2-ä¿®æ¹åéèææºçéæip",normalizedTitle:"2.ä¿®æ¹åéèææºçéæip",charIndex:28},{level:3,title:"3.ä¿®æ¹ä¸»æºå",slug:"_3-ä¿®æ¹ä¸»æºå",normalizedTitle:"3.ä¿®æ¹ä¸»æºå",charIndex:95},{level:3,title:"4.å³é­é²ç«å¢(centos 7)",slug:"_4-å³é­é²ç«å¢-centos-7",normalizedTitle:"4.å³é­é²ç«å¢(centos 7)",charIndex:369},{level:3,title:"5.åå»ºbananaç¨æ·",slug:"_5-åå»ºbananaç¨æ·",normalizedTitle:"5.åå»ºbananaç¨æ·",charIndex:535},{level:3,title:"6.sudoéç½®bananaç¨æ·å·ærootæé",slug:"_6-sudoéç½®bananaç¨æ·å·ærootæé",normalizedTitle:"6.sudoéç½®bananaç¨æ·å·ærootæé",charIndex:719},{level:2,title:"äºãç¼åéç¾¤ååèæ¬xsync",slug:"äºãç¼åéç¾¤ååèæ¬xsync",normalizedTitle:"äºãç¼åéç¾¤ååèæ¬xsync",charIndex:1102},{level:3,title:"1.scpï¼secure copyï¼å®å¨æ·è´    [æ¨ãæãç¬¬ä¸æ¹]",slug:"_1-scp-secure-copy-å®å¨æ·è´-æ¨ãæãç¬¬ä¸æ¹",normalizedTitle:"1.scpï¼secure copyï¼å®å¨æ·è´    [æ¨ãæãç¬¬ä¸æ¹]",charIndex:null},{level:3,title:"2.rsync è¿ç¨åæ­¥å·¥å·",slug:"_2-rsync-è¿ç¨åæ­¥å·¥å·",normalizedTitle:"2.rsync è¿ç¨åæ­¥å·¥å·",charIndex:1478},{level:3,title:"3.xsyncéç¾¤ååèæ¬",slug:"_3-xsyncéç¾¤ååèæ¬",normalizedTitle:"3.xsyncéç¾¤ååèæ¬",charIndex:1608},{level:2,title:"ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼",slug:"ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼",normalizedTitle:"ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼",charIndex:2262},{level:3,title:"1ï¼åå¤3å°å®¢æ·æºï¼å³é­é²ç«å¢ãéæipãä¸»æºåç§°ï¼",slug:"_1-åå¤3å°å®¢æ·æº-å³é­é²ç«å¢ãéæipãä¸»æºåç§°",normalizedTitle:"1ï¼åå¤3å°å®¢æ·æºï¼å³é­é²ç«å¢ãéæipãä¸»æºåç§°ï¼",charIndex:2278},{level:3,title:"2ï¼å®è£JDKå¹¶éç½®ç¯å¢åé",slug:"_2-å®è£jdkå¹¶éç½®ç¯å¢åé",normalizedTitle:"2ï¼å®è£jdkå¹¶éç½®ç¯å¢åé",charIndex:2309},{level:3,title:"3ï¼å®è£Hadoopå¹¶éç½®ç¯å¢åé",slug:"_3-å®è£hadoopå¹¶éç½®ç¯å¢åé",normalizedTitle:"3ï¼å®è£hadoopå¹¶éç½®ç¯å¢åé",charIndex:2626},{level:3,title:"4ï¼éç½®éç¾¤",slug:"_4-éç½®éç¾¤",normalizedTitle:"4ï¼éç½®éç¾¤",charIndex:2888},{level:3,title:"5ï¼åç¹å¯å¨",slug:"_5-åç¹å¯å¨",normalizedTitle:"5ï¼åç¹å¯å¨",charIndex:4567},{level:3,title:"6ï¼éç½®sshãç¾¤èµ·éç¾¤",slug:"_6-éç½®sshãç¾¤èµ·éç¾¤",normalizedTitle:"6ï¼éç½®sshãç¾¤èµ·éç¾¤",charIndex:4776},{level:3,title:"7ï¼æµè¯éç¾¤",slug:"_7-æµè¯éç¾¤",normalizedTitle:"7ï¼æµè¯éç¾¤",charIndex:5898},{level:2,title:"å. éç¾¤æ¶é´åæ­¥",slug:"å-éç¾¤æ¶é´åæ­¥",normalizedTitle:"å. éç¾¤æ¶é´åæ­¥",charIndex:5980},{level:3,title:"1. æ¶é´æå¡å¨éç½®",slug:"_1-æ¶é´æå¡å¨éç½®-å¿é¡»rootç¨æ·",normalizedTitle:"1. æ¶é´æå¡å¨éç½®",charIndex:6035},{level:3,title:"2. å¶ä»èç¹éç½®",slug:"_2-å¶ä»èç¹éç½®-å¿é¡»rootç¨æ·",normalizedTitle:"2. å¶ä»èç¹éç½®",charIndex:7038}],headersStr:"ä¸ãèææºç¯å¢åå¤ 1.åéèææº 2.ä¿®æ¹åéèææºçéæIP 3.ä¿®æ¹ä¸»æºå 4.å³é­é²ç«å¢(centos 7) 5.åå»ºbananaç¨æ· 6.sudoéç½®bananaç¨æ·å·ærootæé äºãç¼åéç¾¤ååèæ¬xsync 1.scpï¼secure copyï¼å®å¨æ·è´    [æ¨ãæãç¬¬ä¸æ¹] 2.rsync è¿ç¨åæ­¥å·¥å· 3.xsyncéç¾¤ååèæ¬ ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼ 1ï¼åå¤3å°å®¢æ·æºï¼å³é­é²ç«å¢ãéæipãä¸»æºåç§°ï¼ 2ï¼å®è£JDKå¹¶éç½®ç¯å¢åé 3ï¼å®è£Hadoopå¹¶éç½®ç¯å¢åé 4ï¼éç½®éç¾¤ 5ï¼åç¹å¯å¨ 6ï¼éç½®sshãç¾¤èµ·éç¾¤ 7ï¼æµè¯éç¾¤ å. éç¾¤æ¶é´åæ­¥ 1. æ¶é´æå¡å¨éç½® 2. å¶ä»èç¹éç½®",content:'# ä¸ãèææºç¯å¢åå¤\n\n\n# 1.åéèææº\n\n\n# 2.ä¿®æ¹åéèææºçéæIP\n\nvim /etc/sysconfig/network-scripts/ifcfg-ens33\n\n\n# 3.ä¿®æ¹ä¸»æºå\n\næ¥çä¸»æºåhostname ä¿®æ¹ä¸»æºåvi /etc/sysconfig/network (hostnamectl set-hostname hadoop102)\n\nNETWORKING=yes\nNETWORKING_IPV6=no\nHOSTNAME= hadoop101\n\n\nä¿®æ¹linuxçä¸»æºæ å°æä»¶ï¼hostsæä»¶ï¼vim /etc/hosts æ·»å \n\n8.8.8.101 hadoop101\n8.8.8.102 hadoop102\n8.8.8.103 hadoop103\n\n\nä¿®æ¹å®æå éå¯è®¾å¤ reboot\n\n\n# 4.å³é­é²ç«å¢(centos 7)\n\næ¥çé²ç«å¢ç¶æ firewall-cmd --state systemctl status firewalld\nåæ­¢firewall systemctl stop firewalld.service\nç¦æ­¢firewallå¼æºå¯å¨ systemctl disable firewalld\n\n\n# 5.åå»ºbananaç¨æ·\n\næ·»å ä¸ä¸ªç¨æ· useradd banana\nè®¾ç½®ç¨æ·å¯ç  passwd banana\næ¥çç¨æ·æ¯å¦å­å¨ id banana\næ¥çåå»ºäºåªäºç¨æ· cat /etc/passwd\nå é¤ç¨æ· å é¤ç¨æ·ä½ä¿å­ç¨æ·ä¸»ç®å½ userdel banana å é¤ç¨æ·åç¨æ·ä¸»ç®å½ userdel -r banana\næ¾ç¤ºèªèº«ç¨æ·åç§° whoami\n\n\n# 6.sudoéç½®bananaç¨æ·å·ærootæé\n\nä¿®æ¹éç½®æä»¶ vi /etc/sudoers\n\næ¾å°ä¸é¢ä¸è¡(91è¡)ï¼å¨rootä¸é¢æ·»å ä¸è¡\n\n##  Allow root to run any commands anywhere\nroot    ALL=(ALL)     ALL\nbanana   ALL=(ALL)     ALL\n\n\næèéç½®æéç¨sudoå½ä»¤æ¶ï¼ä¸éè¦è¾å¥å¯ç \n\n##  Allow root to run any commands anywhere\nroot      ALL=(ALL)     ALL\nbanana   ALL=(ALL)     NOPASSWD:ALL\n\n\nä¿®æ¹å®æ¯ï¼ç°å¨å¯ä»¥ç¨bananaå¸å·ç»å½ï¼ç¶åç¨å½ä»¤ sudo ï¼å³å¯è·å¾rootæéè¿è¡æä½(sudo useradd zhangsan)\n\n\n# äºãç¼åéç¾¤ååèæ¬xsync\n\n\n# 1.scpï¼secure copyï¼å®å¨æ·è´ [æ¨ãæãç¬¬ä¸æ¹]\n\nå®ä¹ï¼scpå¯ä»¥å®ç°æå¡å¨ä¸æå¡å¨ä¹é´çæ°æ®æ·è´\n\nè¯­æ³ï¼scp -r $pdir/$fname $user@hadoop$host:$pdir/$fname\n\nå³ scp -r banana@hadoop101:/soft/module root@hadoop103:/soft/module (å¨102ä¸æ101çæä»¶æ·è´å°103ä¸)\n\n\n\n\n\næ³¨æï¼æ·è´è¿æ¥çéç½®æä»¶å«å¿äºsourceä¸ä¸/etc/profile\næ³¨æï¼æ·è´è¿æ¥ç/soft/moduleç®å½ï¼å«å¿äºå¨hadoop102ãhadoop103ä¸ä¿®æ¹æææä»¶çï¼ææèåææèç»ã`sudo chown banana:banana -R /soft/module`\n\n\n# 2.rsync è¿ç¨åæ­¥å·¥å·\n\nç¨rsyncåæä»¶çå¤å¶è¦æ¯scpçéåº¦å¿«ï¼rsyncåªå¯¹å·®å¼æä»¶åæ´æ°ãscpæ¯ææææä»¶é½å¤å¶è¿å» è¯­æ³:rsync -rvl $pdir/$fname $user@hadoop$host:$pdir/$fname\n\n\n# 3.xsyncéç¾¤ååèæ¬\n\nå®ä¹ï¼å¾ªç¯å¤å¶æä»¶å°ææèç¹çç¸åç®å½ä¸ èæ¬å®ç°\n\n1.å¨/home/bananaç®å½ä¸åå»ºbinç®å½ï¼å¹¶å¨binç®å½ä¸xsyncåå»ºæä»¶\n\n2.æä»¶åå®¹\n\n# !/bin/bash\n# 1 è·åè¾å¥åæ°ä¸ªæ°ï¼å¦ææ²¡æåæ°ï¼ç´æ¥éåº\npcount=$\nif((pcount==0)); then\necho no args;\nexit;\nfi\n\n# 2 è·åæä»¶åç§°\np1=$1\nfname=`basename $p1`\necho fname=$fname\n\n# 3 è·åä¸çº§ç®å½å°ç»å¯¹è·¯å¾\npdir=`cd -P $(dirname $p1); pwd`\necho pdir=$pdir\n\n# 4 è·åå½åç¨æ·åç§°\nuser=`whoami`\n\n# 5 å¾ªç¯\nfor((host=103; host<105; host++)); do\n        echo ------------------- hadoop$host --------------\n        rsync -rvl $pdir/$fname $user@hadoop$host:$pdir\ndone\n\n\n3.ä¿®æ¹èæ¬ xsync å·ææ§è¡æé chmod 777 xsync\n\n4.è°ç¨èæ¬å½¢å¼ xsync /home/banana/bin\n\næ³¨æï¼å¦æå°xsyncæ¾å°/home/banana/binç®å½ä¸ä»ç¶ä¸è½å®ç°å¨å±ä½¿ç¨ï¼å¯ä»¥å°xsyncç§»å¨å°/usr/local/binç®å½ä¸ã\n\n\n# ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼\n\n\n# 1ï¼åå¤3å°å®¢æ·æºï¼å³é­é²ç«å¢ãéæipãä¸»æºåç§°ï¼\n\n\n# 2ï¼å®è£JDKå¹¶éç½®ç¯å¢åé\n\nè§£å tar -zxvf jdk-8u161-linux-x64.tar.gz -C /soft/module (/soft/moduleæ¯èªå·±æ°å»ºçç®å½)\n\néç½®ç¯å¢åé vim /etc/profile\n\næä»¶å°¾é¨å å¥ï¼\nexport JAVA_HOME=/soft/module/jdk1.8.0_161/    #å®è£jdkçè·¯å¾\nexport PATH=$PATH:$JAVA_HOME/bin\nexport CLASSPATH=.:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar\n\n\nä½¿éç½®çæ source /etc/profile\n\n\n# 3ï¼å®è£Hadoopå¹¶éç½®ç¯å¢åé\n\nè§£å tar -zxvf hadoop-2.9.2.tar.gz -C /soft/module\n\néç½®ç¯å¢åé vim /etc/profile\n\næä»¶å°¾é¨å å¥ï¼\nexport HADOOP_HOME=/soft/module/hadoop-2.9.2                #èªå·±å®è£çHadoopè·¯å¾\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n\n\nä½¿éç½®çæ source /etc/profile\n\n\n# 4ï¼éç½®éç¾¤\n\n       HADOOP101     HADOOP102         HADOOP103\nHDFS   NameNode      DataNode          SecondaryNameNode\n       DataNode                        DataNode\nYARN   NodeManager   ResourceManager   NodeManager\n                     NodeManager\n\n * æ ¸å¿éç½®æä»¶ vi core-site.xml\n\n\x3c!-- æå®HDFSä¸­NameNodeçå°å --\x3e\n<property>\n\t\t<name>fs.defaultFS</name>\n      <value>hdfs://hadoop101:9000</value>\n</property>\n\n\x3c!-- æå®Hadoopè¿è¡æ¶äº§çæä»¶çå­å¨ç®å½ --\x3e\n<property>\n\t\t<name>hadoop.tmp.dir</name>\n\t\t<value>/soft/module/hadoop-2.9.2/data/tmp</value>\n</property>\n\n\n * HDFSéç½®æä»¶\n\néç½®hadoop-env.sh vi hadoop-env.sh\n\nexport JAVA_HOME=/soft/module/jdk1.8.0_161\n\n\néç½®hdfs-site.xml vi hdfs-site.xml\n\n<property>\n\t\t<name>dfs.replication</name>\n\t\t<value>3</value>\n</property>\n\n\x3c!-- æå®Hadoopè¾å©åç§°èç¹ä¸»æºéç½® --\x3e\n<property>\n      <name>dfs.namenode.secondary.http-address</name>\n      <value>hadoop103:50090</value>\n</property>\n\n\n * YARNéç½®æä»¶\n\nvi yarn-env.sh\n\nexport JAVA_HOME=/soft/module/jdk1.8.0_161\n\n\nvi yarn-site.xml\n\n\x3c!-- Reducerè·åæ°æ®çæ¹å¼ --\x3e\n<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n</property>\n\n\x3c!-- æå®YARNçResourceManagerçå°å --\x3e\n<property>\n\t\t<name>yarn.resourcemanager.hostname</name>\n\t\t<value>hadoop102</value>\n</property>\n\n\n * MapReduceéç½®æä»¶\n\n**éç½®mapred-env.sh vi mapred-env.sh **\n\nexport JAVA_HOME=/soft/module/jdk1.8.0_161\n\n\néç½®mapred-site.xml cp mapred-site.xml.template mapred-site.xml vi mapred-site.xml\n\nå¨è¯¥æä»¶ä¸­å¢å å¦ä¸éç½®\n\n\x3c!-- æå®MRè¿è¡å¨Yarnä¸ --\x3e\n<property>\n\t\t<name>mapreduce.framework.name</name>\n\t\t<value>yarn</value>\n</property>\n\n\n * ååéç½®å¥½çhadoopéç½®æä»¶ xsync /soft/module/hadoop-2.9.2/etc/hadoop\n * å¨å¦å¤çèç¹ä¸æ¥çæä»¶ååæåµ cat /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml\n\n\n# 5ï¼åç¹å¯å¨\n\n * å¦æéç¾¤æ¯ç¬¬ä¸æ¬¡å¯å¨ï¼éè¦æ ¼å¼åNameNode hadoop namenode -format\n * å¨hadoop101ä¸å¯å¨NameNode hadoop-daemon.sh start namenode\n * å¨hadoop101ãhadoop102ä»¥åhadoop103ä¸åå«å¯å¨DataNode hadoop-daemon.sh start datanode jpsæ¥çè¿ç¨\n\n\n# 6ï¼éç½®sshãç¾¤èµ·éç¾¤\n\n * åèç¹é´æ å¯ç»å½()\n\nçæå¬é¥åç§é¥ (bananaç¨æ·) (ç¶åæ²ï¼ä¸ä¸ªåè½¦ï¼ï¼å°±ä¼çæä¸¤ä¸ªæä»¶id_rsaï¼ç§é¥ï¼ãid_rsa.pubï¼å¬é¥ï¼)\nssh-keygen -t rsa\n\nå°å¬é¥æ·è´å°è¦åå¯ç»å½çç®æ æºå¨ä¸\nssh-copy-id hadoop101\nssh-copy-id hadoop102\nssh-copy-id hadoop103\n\n\nssh-copy-idçä½¿ç¨æ¹æ³: https://blog.csdn.net/qianggezhishen/article/details/71249699\n\nè¿éè¦å¨hadoop101ä¸éç¨rootè´¦å·ï¼éç½®ä¸ä¸æ å¯ç»å½å°hadoop101ãhadoop102ãhadoop103ï¼ è¿éè¦å¨hadoop102ä¸éç¨bananaè´¦å·éç½®ä¸ä¸æ å¯ç»å½å°hadoop101ãhadoop102ãhadoop103æå¡å¨ä¸\n\nåå : NameNodeåResourceManagerè¦è¿ç¨å¯å¨å¶ä»èç¹, æèåèé¾æ¥: https://www.cnblogs.com/limaosheng/p/10444515.html#_label0\n\n\n\n\n * éç½®ä»æºDataNode å NodeManager(éç½®slaves) vim /soft/module/hadoop-2.9.2/etc/hadoop/slaves\n\nå ä¸\nhadoop101\nhadoop102\nhadoop103\n\nååæä»¶\nxsync.sh /soft/module/hadoop-2.9.2/etc/hadoop/slaves\n\n\n * å¯å¨éç¾¤\n   * å¦æéç¾¤æ¯ç¬¬ä¸æ¬¡å¯å¨ï¼éè¦æ ¼å¼åNameNodeï¼æ³¨ææ ¼å¼åä¹åï¼ä¸å®è¦ååæ­¢ä¸æ¬¡å¯å¨çæænamenodeådatanodeè¿ç¨ï¼ç¶ååå é¤dataålogæ°æ®ï¼ hdfs namenode -format hdfsæ ¼å¼åæ³¨æäºé¡¹:https://blog.csdn.net/gis_101/article/details/52821946?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task\n   * å¯å¨HDFS å¨namenode(hadoop101)èç¹ä¸æ§è¡ sbin/start-dfs.sh\n   * å¯å¨YARN å¨ResouceManager(hadoop102)èç¹ä¸æ§è¡ sbin/start-yarn.sh\n * å¨ç½é¡µä¸æ¥çéç¾¤ä¿¡æ¯\n\n\n# 7ï¼æµè¯éç¾¤\n\n * ä¸ä¼ æä»¶å°éç¾¤\n * æ¥çæä»¶å­æ¾å¨ä»ä¹ä½ç½® (HDFSæä»¶å­å¨è·¯å¾)(HDFSå¨ç£çå­å¨æä»¶åå®¹)\n * æ¼æ¥æä»¶\n * ä¸è½½æä»¶\n\n\n# å. éç¾¤æ¶é´åæ­¥\n\nhadoop101ä½ä¸ºæ¶é´æå¡å¨,å¶å®èç¹å®æ¶è·åhadoop101çæ¶é´\n\n\n\n\n# 1. æ¶é´æå¡å¨éç½® (å¿é¡»rootç¨æ·)\n\n * æ£æ¥ntpæ¯å¦å®è£ rpm -qa|grep ntp æ²¡æntp-4.2.6p5-28.el7.centos.x86_64çè¯ å®è£ntp yum install -y ntp\n\n * ä¿®æ¹ntpéç½®æä»¶ vim /etc/ntp.conf\n   \n   ä¿®æ¹åå®¹:\n\nä¸ãä¿®æ¹1ï¼ææ192.168.1.0-192.168.1.255ç½æ®µä¸çæææºå¨å¯ä»¥ä»è¿å°æºå¨ä¸æ¥è¯¢ååæ­¥æ¶é´ï¼**\n# restrict 192.168.1.0 mask 255.255.255.0 nomodify notrapä¸º\nrestrict 8.8.8.0 mask 255.255.255.0 nomodify notrap\n\näºãä¿®æ¹2ï¼éç¾¤å¨å±åç½ä¸­ï¼ä¸ä½¿ç¨å¶ä»äºèç½ä¸çæ¶é´ï¼**\nserver 0.centos.pool.ntp.org iburst\nserver 1.centos.pool.ntp.org iburst\nserver 2.centos.pool.ntp.org iburst\nserver 3.centos.pool.ntp.org iburstä¸º\n# server 0.centos.pool.ntp.org iburst\n# server 1.centos.pool.ntp.org iburst\n# server 2.centos.pool.ntp.org iburst\n# server 3.centos.pool.ntp.org iburst\n\nä¸ãæ·»å 3ï¼å½è¯¥èç¹ä¸¢å¤±ç½ç»è¿æ¥ï¼ä¾ç¶å¯ä»¥éç¨æ¬å°æ¶é´ä½ä¸ºæ¶é´æå¡å¨ä¸ºéç¾¤ä¸­çå¶ä»èç¹æä¾æ¶é´åæ­¥ï¼**\nserver 127.127.1.0\nfudge 127.127.1.0 stratum 10\n\n\n * ä¿®æ¹/etc/sysconfig/ntpd æä»¶ vim /etc/sysconfig/ntpd\n\nå¢å åå®¹å¦ä¸ï¼è®©ç¡¬ä»¶æ¶é´ä¸ç³»ç»æ¶é´ä¸èµ·åæ­¥ï¼\nSYNC_HWCLOCK=yes\n\n\n * éæ°å¯å¨ntpdæå¡ service ntpd status å¯å¨:service ntpd start systemctl start ntpd\n * è®¾ç½®ntpdæå¡å¼æºå¯å¨ chkconfig ntpd on systemctl enable ntpd (å¼æ¾ç«¯å£)\n\n\n# 2. å¶ä»èç¹éç½® (å¿é¡»rootç¨æ·)\n\n * å¶ä»æºå¨éç½®10åéä¸æ¶é´æå¡å¨åæ­¥ä¸æ¬¡ crontab -e ç¼åå®æ¶ä»»å¡\n\n*/10 * * * * /usr/sbin/ntpdate hadoop101\n\n\n * ä¿®æ¹ä»»ææºå¨æ¶é´ date -s "2017-9-11 11:11:11"\n * ååéåæ¥çæºå¨æ¯å¦ä¸æ¶é´æå¡å¨åæ­¥ date(æµè¯æ¶æ¶é´å¯è®¾ç½®ç­äº)',normalizedContent:'# ä¸ãèææºç¯å¢åå¤\n\n\n# 1.åéèææº\n\n\n# 2.ä¿®æ¹åéèææºçéæip\n\nvim /etc/sysconfig/network-scripts/ifcfg-ens33\n\n\n# 3.ä¿®æ¹ä¸»æºå\n\næ¥çä¸»æºåhostname ä¿®æ¹ä¸»æºåvi /etc/sysconfig/network (hostnamectl set-hostname hadoop102)\n\nnetworking=yes\nnetworking_ipv6=no\nhostname= hadoop101\n\n\nä¿®æ¹linuxçä¸»æºæ å°æä»¶ï¼hostsæä»¶ï¼vim /etc/hosts æ·»å \n\n8.8.8.101 hadoop101\n8.8.8.102 hadoop102\n8.8.8.103 hadoop103\n\n\nä¿®æ¹å®æå éå¯è®¾å¤ reboot\n\n\n# 4.å³é­é²ç«å¢(centos 7)\n\næ¥çé²ç«å¢ç¶æ firewall-cmd --state systemctl status firewalld\nåæ­¢firewall systemctl stop firewalld.service\nç¦æ­¢firewallå¼æºå¯å¨ systemctl disable firewalld\n\n\n# 5.åå»ºbananaç¨æ·\n\næ·»å ä¸ä¸ªç¨æ· useradd banana\nè®¾ç½®ç¨æ·å¯ç  passwd banana\næ¥çç¨æ·æ¯å¦å­å¨ id banana\næ¥çåå»ºäºåªäºç¨æ· cat /etc/passwd\nå é¤ç¨æ· å é¤ç¨æ·ä½ä¿å­ç¨æ·ä¸»ç®å½ userdel banana å é¤ç¨æ·åç¨æ·ä¸»ç®å½ userdel -r banana\næ¾ç¤ºèªèº«ç¨æ·åç§° whoami\n\n\n# 6.sudoéç½®bananaç¨æ·å·ærootæé\n\nä¿®æ¹éç½®æä»¶ vi /etc/sudoers\n\næ¾å°ä¸é¢ä¸è¡(91è¡)ï¼å¨rootä¸é¢æ·»å ä¸è¡\n\n##  allow root to run any commands anywhere\nroot    all=(all)     all\nbanana   all=(all)     all\n\n\næèéç½®æéç¨sudoå½ä»¤æ¶ï¼ä¸éè¦è¾å¥å¯ç \n\n##  allow root to run any commands anywhere\nroot      all=(all)     all\nbanana   all=(all)     nopasswd:all\n\n\nä¿®æ¹å®æ¯ï¼ç°å¨å¯ä»¥ç¨bananaå¸å·ç»å½ï¼ç¶åç¨å½ä»¤ sudo ï¼å³å¯è·å¾rootæéè¿è¡æä½(sudo useradd zhangsan)\n\n\n# äºãç¼åéç¾¤ååèæ¬xsync\n\n\n# 1.scpï¼secure copyï¼å®å¨æ·è´ [æ¨ãæãç¬¬ä¸æ¹]\n\nå®ä¹ï¼scpå¯ä»¥å®ç°æå¡å¨ä¸æå¡å¨ä¹é´çæ°æ®æ·è´\n\nè¯­æ³ï¼scp -r $pdir/$fname $user@hadoop$host:$pdir/$fname\n\nå³ scp -r banana@hadoop101:/soft/module root@hadoop103:/soft/module (å¨102ä¸æ101çæä»¶æ·è´å°103ä¸)\n\n\n\n\n\næ³¨æï¼æ·è´è¿æ¥çéç½®æä»¶å«å¿äºsourceä¸ä¸/etc/profile\næ³¨æï¼æ·è´è¿æ¥ç/soft/moduleç®å½ï¼å«å¿äºå¨hadoop102ãhadoop103ä¸ä¿®æ¹æææä»¶çï¼ææèåææèç»ã`sudo chown banana:banana -r /soft/module`\n\n\n# 2.rsync è¿ç¨åæ­¥å·¥å·\n\nç¨rsyncåæä»¶çå¤å¶è¦æ¯scpçéåº¦å¿«ï¼rsyncåªå¯¹å·®å¼æä»¶åæ´æ°ãscpæ¯ææææä»¶é½å¤å¶è¿å» è¯­æ³:rsync -rvl $pdir/$fname $user@hadoop$host:$pdir/$fname\n\n\n# 3.xsyncéç¾¤ååèæ¬\n\nå®ä¹ï¼å¾ªç¯å¤å¶æä»¶å°ææèç¹çç¸åç®å½ä¸ èæ¬å®ç°\n\n1.å¨/home/bananaç®å½ä¸åå»ºbinç®å½ï¼å¹¶å¨binç®å½ä¸xsyncåå»ºæä»¶\n\n2.æä»¶åå®¹\n\n# !/bin/bash\n# 1 è·åè¾å¥åæ°ä¸ªæ°ï¼å¦ææ²¡æåæ°ï¼ç´æ¥éåº\npcount=$\nif((pcount==0)); then\necho no args;\nexit;\nfi\n\n# 2 è·åæä»¶åç§°\np1=$1\nfname=`basename $p1`\necho fname=$fname\n\n# 3 è·åä¸çº§ç®å½å°ç»å¯¹è·¯å¾\npdir=`cd -p $(dirname $p1); pwd`\necho pdir=$pdir\n\n# 4 è·åå½åç¨æ·åç§°\nuser=`whoami`\n\n# 5 å¾ªç¯\nfor((host=103; host<105; host++)); do\n        echo ------------------- hadoop$host --------------\n        rsync -rvl $pdir/$fname $user@hadoop$host:$pdir\ndone\n\n\n3.ä¿®æ¹èæ¬ xsync å·ææ§è¡æé chmod 777 xsync\n\n4.è°ç¨èæ¬å½¢å¼ xsync /home/banana/bin\n\næ³¨æï¼å¦æå°xsyncæ¾å°/home/banana/binç®å½ä¸ä»ç¶ä¸è½å®ç°å¨å±ä½¿ç¨ï¼å¯ä»¥å°xsyncç§»å¨å°/usr/local/binç®å½ä¸ã\n\n\n# ä¸ãå®å¨åå¸å¼è¿è¡æ¨¡å¼\n\n\n# 1ï¼åå¤3å°å®¢æ·æºï¼å³é­é²ç«å¢ãéæipãä¸»æºåç§°ï¼\n\n\n# 2ï¼å®è£jdkå¹¶éç½®ç¯å¢åé\n\nè§£å tar -zxvf jdk-8u161-linux-x64.tar.gz -c /soft/module (/soft/moduleæ¯èªå·±æ°å»ºçç®å½)\n\néç½®ç¯å¢åé vim /etc/profile\n\næä»¶å°¾é¨å å¥ï¼\nexport java_home=/soft/module/jdk1.8.0_161/    #å®è£jdkçè·¯å¾\nexport path=$path:$java_home/bin\nexport classpath=.:$java_home/lib/tools.jar:$java_home/lib/dt.jar\n\n\nä½¿éç½®çæ source /etc/profile\n\n\n# 3ï¼å®è£hadoopå¹¶éç½®ç¯å¢åé\n\nè§£å tar -zxvf hadoop-2.9.2.tar.gz -c /soft/module\n\néç½®ç¯å¢åé vim /etc/profile\n\næä»¶å°¾é¨å å¥ï¼\nexport hadoop_home=/soft/module/hadoop-2.9.2                #èªå·±å®è£çhadoopè·¯å¾\nexport path=$path:$hadoop_home/bin:$hadoop_home/sbin\n\n\nä½¿éç½®çæ source /etc/profile\n\n\n# 4ï¼éç½®éç¾¤\n\n       hadoop101     hadoop102         hadoop103\nhdfs   namenode      datanode          secondarynamenode\n       datanode                        datanode\nyarn   nodemanager   resourcemanager   nodemanager\n                     nodemanager\n\n * æ ¸å¿éç½®æä»¶ vi core-site.xml\n\n\x3c!-- æå®hdfsä¸­namenodeçå°å --\x3e\n<property>\n\t\t<name>fs.defaultfs</name>\n      <value>hdfs://hadoop101:9000</value>\n</property>\n\n\x3c!-- æå®hadoopè¿è¡æ¶äº§çæä»¶çå­å¨ç®å½ --\x3e\n<property>\n\t\t<name>hadoop.tmp.dir</name>\n\t\t<value>/soft/module/hadoop-2.9.2/data/tmp</value>\n</property>\n\n\n * hdfséç½®æä»¶\n\néç½®hadoop-env.sh vi hadoop-env.sh\n\nexport java_home=/soft/module/jdk1.8.0_161\n\n\néç½®hdfs-site.xml vi hdfs-site.xml\n\n<property>\n\t\t<name>dfs.replication</name>\n\t\t<value>3</value>\n</property>\n\n\x3c!-- æå®hadoopè¾å©åç§°èç¹ä¸»æºéç½® --\x3e\n<property>\n      <name>dfs.namenode.secondary.http-address</name>\n      <value>hadoop103:50090</value>\n</property>\n\n\n * yarnéç½®æä»¶\n\nvi yarn-env.sh\n\nexport java_home=/soft/module/jdk1.8.0_161\n\n\nvi yarn-site.xml\n\n\x3c!-- reducerè·åæ°æ®çæ¹å¼ --\x3e\n<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n</property>\n\n\x3c!-- æå®yarnçresourcemanagerçå°å --\x3e\n<property>\n\t\t<name>yarn.resourcemanager.hostname</name>\n\t\t<value>hadoop102</value>\n</property>\n\n\n * mapreduceéç½®æä»¶\n\n**éç½®mapred-env.sh vi mapred-env.sh **\n\nexport java_home=/soft/module/jdk1.8.0_161\n\n\néç½®mapred-site.xml cp mapred-site.xml.template mapred-site.xml vi mapred-site.xml\n\nå¨è¯¥æä»¶ä¸­å¢å å¦ä¸éç½®\n\n\x3c!-- æå®mrè¿è¡å¨yarnä¸ --\x3e\n<property>\n\t\t<name>mapreduce.framework.name</name>\n\t\t<value>yarn</value>\n</property>\n\n\n * ååéç½®å¥½çhadoopéç½®æä»¶ xsync /soft/module/hadoop-2.9.2/etc/hadoop\n * å¨å¦å¤çèç¹ä¸æ¥çæä»¶ååæåµ cat /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml\n\n\n# 5ï¼åç¹å¯å¨\n\n * å¦æéç¾¤æ¯ç¬¬ä¸æ¬¡å¯å¨ï¼éè¦æ ¼å¼ånamenode hadoop namenode -format\n * å¨hadoop101ä¸å¯å¨namenode hadoop-daemon.sh start namenode\n * å¨hadoop101ãhadoop102ä»¥åhadoop103ä¸åå«å¯å¨datanode hadoop-daemon.sh start datanode jpsæ¥çè¿ç¨\n\n\n# 6ï¼éç½®sshãç¾¤èµ·éç¾¤\n\n * åèç¹é´æ å¯ç»å½()\n\nçæå¬é¥åç§é¥ (bananaç¨æ·) (ç¶åæ²ï¼ä¸ä¸ªåè½¦ï¼ï¼å°±ä¼çæä¸¤ä¸ªæä»¶id_rsaï¼ç§é¥ï¼ãid_rsa.pubï¼å¬é¥ï¼)\nssh-keygen -t rsa\n\nå°å¬é¥æ·è´å°è¦åå¯ç»å½çç®æ æºå¨ä¸\nssh-copy-id hadoop101\nssh-copy-id hadoop102\nssh-copy-id hadoop103\n\n\nssh-copy-idçä½¿ç¨æ¹æ³: https://blog.csdn.net/qianggezhishen/article/details/71249699\n\nè¿éè¦å¨hadoop101ä¸éç¨rootè´¦å·ï¼éç½®ä¸ä¸æ å¯ç»å½å°hadoop101ãhadoop102ãhadoop103ï¼ è¿éè¦å¨hadoop102ä¸éç¨bananaè´¦å·éç½®ä¸ä¸æ å¯ç»å½å°hadoop101ãhadoop102ãhadoop103æå¡å¨ä¸\n\nåå : namenodeåresourcemanagerè¦è¿ç¨å¯å¨å¶ä»èç¹, æèåèé¾æ¥: https://www.cnblogs.com/limaosheng/p/10444515.html#_label0\n\n\n\n\n * éç½®ä»æºdatanode å nodemanager(éç½®slaves) vim /soft/module/hadoop-2.9.2/etc/hadoop/slaves\n\nå ä¸\nhadoop101\nhadoop102\nhadoop103\n\nååæä»¶\nxsync.sh /soft/module/hadoop-2.9.2/etc/hadoop/slaves\n\n\n * å¯å¨éç¾¤\n   * å¦æéç¾¤æ¯ç¬¬ä¸æ¬¡å¯å¨ï¼éè¦æ ¼å¼ånamenodeï¼æ³¨ææ ¼å¼åä¹åï¼ä¸å®è¦ååæ­¢ä¸æ¬¡å¯å¨çæænamenodeådatanodeè¿ç¨ï¼ç¶ååå é¤dataålogæ°æ®ï¼ hdfs namenode -format hdfsæ ¼å¼åæ³¨æäºé¡¹:https://blog.csdn.net/gis_101/article/details/52821946?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task\n   * å¯å¨hdfs å¨namenode(hadoop101)èç¹ä¸æ§è¡ sbin/start-dfs.sh\n   * å¯å¨yarn å¨resoucemanager(hadoop102)èç¹ä¸æ§è¡ sbin/start-yarn.sh\n * å¨ç½é¡µä¸æ¥çéç¾¤ä¿¡æ¯\n\n\n# 7ï¼æµè¯éç¾¤\n\n * ä¸ä¼ æä»¶å°éç¾¤\n * æ¥çæä»¶å­æ¾å¨ä»ä¹ä½ç½® (hdfsæä»¶å­å¨è·¯å¾)(hdfså¨ç£çå­å¨æä»¶åå®¹)\n * æ¼æ¥æä»¶\n * ä¸è½½æä»¶\n\n\n# å. éç¾¤æ¶é´åæ­¥\n\nhadoop101ä½ä¸ºæ¶é´æå¡å¨,å¶å®èç¹å®æ¶è·åhadoop101çæ¶é´\n\n\n\n\n# 1. æ¶é´æå¡å¨éç½® (å¿é¡»rootç¨æ·)\n\n * æ£æ¥ntpæ¯å¦å®è£ rpm -qa|grep ntp æ²¡æntp-4.2.6p5-28.el7.centos.x86_64çè¯ å®è£ntp yum install -y ntp\n\n * ä¿®æ¹ntpéç½®æä»¶ vim /etc/ntp.conf\n   \n   ä¿®æ¹åå®¹:\n\nä¸ãä¿®æ¹1ï¼ææ192.168.1.0-192.168.1.255ç½æ®µä¸çæææºå¨å¯ä»¥ä»è¿å°æºå¨ä¸æ¥è¯¢ååæ­¥æ¶é´ï¼**\n# restrict 192.168.1.0 mask 255.255.255.0 nomodify notrapä¸º\nrestrict 8.8.8.0 mask 255.255.255.0 nomodify notrap\n\näºãä¿®æ¹2ï¼éç¾¤å¨å±åç½ä¸­ï¼ä¸ä½¿ç¨å¶ä»äºèç½ä¸çæ¶é´ï¼**\nserver 0.centos.pool.ntp.org iburst\nserver 1.centos.pool.ntp.org iburst\nserver 2.centos.pool.ntp.org iburst\nserver 3.centos.pool.ntp.org iburstä¸º\n# server 0.centos.pool.ntp.org iburst\n# server 1.centos.pool.ntp.org iburst\n# server 2.centos.pool.ntp.org iburst\n# server 3.centos.pool.ntp.org iburst\n\nä¸ãæ·»å 3ï¼å½è¯¥èç¹ä¸¢å¤±ç½ç»è¿æ¥ï¼ä¾ç¶å¯ä»¥éç¨æ¬å°æ¶é´ä½ä¸ºæ¶é´æå¡å¨ä¸ºéç¾¤ä¸­çå¶ä»èç¹æä¾æ¶é´åæ­¥ï¼**\nserver 127.127.1.0\nfudge 127.127.1.0 stratum 10\n\n\n * ä¿®æ¹/etc/sysconfig/ntpd æä»¶ vim /etc/sysconfig/ntpd\n\nå¢å åå®¹å¦ä¸ï¼è®©ç¡¬ä»¶æ¶é´ä¸ç³»ç»æ¶é´ä¸èµ·åæ­¥ï¼\nsync_hwclock=yes\n\n\n * éæ°å¯å¨ntpdæå¡ service ntpd status å¯å¨:service ntpd start systemctl start ntpd\n * è®¾ç½®ntpdæå¡å¼æºå¯å¨ chkconfig ntpd on systemctl enable ntpd (å¼æ¾ç«¯å£)\n\n\n# 2. å¶ä»èç¹éç½® (å¿é¡»rootç¨æ·)\n\n * å¶ä»æºå¨éç½®10åéä¸æ¶é´æå¡å¨åæ­¥ä¸æ¬¡ crontab -e ç¼åå®æ¶ä»»å¡\n\n*/10 * * * * /usr/sbin/ntpdate hadoop101\n\n\n * ä¿®æ¹ä»»ææºå¨æ¶é´ date -s "2017-9-11 11:11:11"\n * ååéåæ¥çæºå¨æ¯å¦ä¸æ¶é´æå¡å¨åæ­¥ date(æµè¯æ¶æ¶é´å¯è®¾ç½®ç­äº)',charsets:{cjk:!0},lastUpdated:"2023/02/04, 18:03:37",lastUpdatedTimestamp:1675505017e3},{title:"Hadoopé«å¯ç¨æ­å»º",frontmatter:{title:"Hadoopé«å¯ç¨æ­å»º",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/f9f70f/",categories:["å¤§æ°æ®","Hadoop"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/02.Hadoop%E9%AB%98%E5%8F%AF%E7%94%A8%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/01.Hadoop/02.Hadoopé«å¯ç¨æ­å»º.md",key:"v-30099682",path:"/pages/f9f70f/",headers:[{level:2,title:"åæ",slug:"åæ",normalizedTitle:"åæ",charIndex:2},{level:2,title:"1. ç®ä»",slug:"_1-ç®ä»",normalizedTitle:"1. ç®ä»",charIndex:265},{level:2,title:"2. éç½®(å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸)",slug:"_2-éç½®-å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸",normalizedTitle:"2. éç½®(å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸)",charIndex:446},{level:3,title:"ä¿®æ¹éç½®æä»¶",slug:"ä¿®æ¹éç½®æä»¶",normalizedTitle:"ä¿®æ¹éç½®æä»¶",charIndex:472},{level:2,title:"3. å¯å¨éç¾¤",slug:"_3-å¯å¨éç¾¤",normalizedTitle:"3. å¯å¨éç¾¤",charIndex:3993},{level:2,title:"4. æ¿æ´»namenode",slug:"_4-æ¿æ´»namenode",normalizedTitle:"4. æ¿æ´»namenode",charIndex:4537},{level:2,title:"5. HAæå¨åæ¢",slug:"_5-haæå¨åæ¢",normalizedTitle:"5. haæå¨åæ¢",charIndex:4813},{level:3,title:"é:èªå·±åºçå°é®é¢",slug:"é-èªå·±åºçå°é®é¢",normalizedTitle:"é:èªå·±åºçå°é®é¢",charIndex:4988},{level:3,title:"é: ä¸ä¸ªçå­¦é®é¢(å·²è§£å³  æ¯ä¸­æç¬¦å·é®é¢)",slug:"é-ä¸ä¸ªçå­¦é®é¢-å·²è§£å³-æ¯ä¸­æç¬¦å·é®é¢",normalizedTitle:"é: ä¸ä¸ªçå­¦é®é¢(å·²è§£å³  æ¯ä¸­æç¬¦å·é®é¢)",charIndex:null},{level:3,title:"é:sshç¥è¯",slug:"é-sshç¥è¯",normalizedTitle:"é:sshç¥è¯",charIndex:5883}],headersStr:"åæ 1. ç®ä» 2. éç½®(å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸) ä¿®æ¹éç½®æä»¶ 3. å¯å¨éç¾¤ 4. æ¿æ´»namenode 5. HAæå¨åæ¢ é:èªå·±åºçå°é®é¢ é: ä¸ä¸ªçå­¦é®é¢(å·²è§£å³  æ¯ä¸­æç¬¦å·é®é¢) é:sshç¥è¯",content:"# åæ\n\nåå¸å¼æ­å»ºå¥å£:https://www.cnblogs.com/Hephaestus/p/12213719.html éç¾¤è§å:\n\n            NAMENODE   DATANODE   JOURNALNODE\nhadoop100   æ¯(nn2)                \nhadoop101   æ¯(nn1)     æ¯          æ¯\nhadoop102              æ¯          æ¯\nhadoop103              æ¯          æ¯\n\n\n# 1. ç®ä»\n\né«å¯ç¨ç¨åºçç±»å\nä¸»ä»æ¹å¼(å·å¤)ï¼ ä¸¤ä¸ªç¸åçåºç¨ç¨åº,ä¸ä¸ªå¯¹å¤æä¾æå¡,æä¸ºä¸»ç¨åº,å¦ä¸ä¸ªå¹³æ¶ä¸è¿è¡ä¸ºå¤ç¨åº,å°±æ¯ä¸ä¸ªä¸»ç¨åºçå¤ä»½,ä¸æ¦ä¸»ç¨åºåºç°é®é¢,å¤ä»½æä¾æ¢å¤æä½\nåä¸»äºå¤(ç­å¤)ï¼ ä¸¤ä¸ªç¸åçåºç¨ç¨åº,åæ¶å¯¹å¤æä¾æå¡(ä¸¤ä¸ªç¨åºç¸äºä¸ºå¯¹æ¹å¤ä»½çå­å¨,åä¸»ç­å¤),å½å¯å¨ä¸ä¸ªåºç°é®é¢æ¶,å¦ä¸ä¸ªå¯ä»¥å¯¹å¤æä¾æå¡,ä¸ä¼é ææå¡å¨å®æº\n\n\n# 2. éç½®(å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸)\n\n\n# ä¿®æ¹éç½®æä»¶\n\n * ä¿®æ¹æ ¸å¿éç½®æä»¶: vim etc/hadoop/core-site.xml å å¥\n\n<configuration>\n\n        \x3c!-- æå®HDFSä¸­NameNodeçå°å --\x3e\n        <property>\n                <name>fs.defaultFS</name>\n                \x3c!--hdfs://hadoop101:9000--\x3e\n                <value>hdfs://mycluster</value>\n        </property>\n\n        \x3c!-- æå®Hadoopè¿è¡æ¶äº§çæä»¶çå­å¨ç®å½ --\x3e\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/soft/module/hadoop-2.9.2/data/tmp</value>\n        </property>\n\n</configuration>\n\n\n * ä¿®æ¹hdfséç½®æä»¶: vim etc/hadoop/hdfs-site.xml å å¥\n\n<configuration>\n\n        \x3c!--HAé«å¯ç¨éç½®--\x3e\n        \x3c!--éç¾¤èµ·å--\x3e\n        <property>\n                <name>dfs.nameservices</name>\n                <value>mycluster</value>\n        </property>\n\n        \x3c!--æå®myclusterçæåªäºnamenodeï¼nn1,nn2 èªå·±å»çå--\x3e\n        <property>\n                <name>dfs.ha.namenodes.mycluster</name>\n                <value>nn1,nn2</value>\n        </property>\n\n        \x3c!--nn1 RPCç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n                <value>hadoop101:9000</value>\n        </property>\n\n        \x3c!--nn1 HTTPç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn1</name>\n                <value>hadoop101:50070</value>\n        </property>\n\n        \x3c!--nn2 RPCç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n                <value>hadoop100:9000</value>\n        </property>\n\n        \x3c!--nn2 HTTPç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn2</name>\n                <value>hadoop100:50070</value>\n        </property>\n\n        \x3c!--HAæéåæ¢ --\x3e\n        \x3c!-- å½namnodeæéï¼æ¯å¦èªå¨å¯å¨å¦ä¸ä¸ªnamenode(é»è®¤å¼ä¸ºfalse)--\x3e\n        <property>\n                <name>dfs.ha.automatic-failover.enabled </name>\n                <value>false</value>\n        </property>\n\n        \x3c!-- journalnode éç½® --\x3e\n        \x3c!-- myclusterçä¸¤ä¸ªnamenodeå±äº«editsaæä»¶ç®å½æ¶ï¼ä½¿ç¨journalnodeéç¾¤ä¿¡æ¯--\x3e\n        <property>\n                <name>dfs.namenode.shared.edits.dir</name>\n                <value>qjournal://hadoop101:8485;hadoop102:8485;hadoop103:8485/mycluster</value>\n        </property>\n\n        \x3c!--å½myclusteræéæ¶ï¼åªä¸ªå®ç°ç±»è´è´£æéåæ¢--\x3e\n        <property>\n                <name>dfs.client.failover.proxy.provider.mycluster</name>\n        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>\n        </property>\n\n        \x3c!--åçfailoveræ¶ï¼Standbyçèç¹è¦æ§è¡ä¸ç³»åæ¹æ³æåæ¥é£ä¸ªActiveèç¹ä¸­ä¸å¥åº·çNameNodeæå¡ç»ææï¼\n                è¿ä¸ªå«åfenceè¿ç¨ãsshfenceä¼éè¿sshè¿ç¨è°ç¨fuserå½ä»¤å»æ¾å°Activeèç¹çNameNodeæå¡å¹¶ææ­»å®--\x3e\n         \x3c!-- éç½®éç¦»æºå¶æ¹æ³ï¼å¤ä¸ªæºå¶ç¨æ¢è¡åå²ï¼å³æ¯ä¸ªæºå¶æç¨ä¸è¡ --\x3e\n        <property>\n                <name>dfs.ha.fencing.methods</name>\n                <value>sshfence</value>\n         </property>\n\n        \x3c!--SSHç§é¥ ä½¿ç¨sshfenceéç¦»æºå¶æ¶éè¦sshåç»é--\x3e\n        <property>\n                <name>dfs.ha.fencing.ssh.private-key-files</name>\x3c!--åå¯ç»å½å¯é¥ä½ç½®--\x3e\n                \x3c!--<value>/home/hadoop/.ssh/id_rsa</value>--\x3e\n                <value>/home/banana/.ssh/id_rsa</value>\n        </property>\n\n        \x3c!--SSHè¶æ¶æ¶é´ --\x3e\n        <property>\n                <name>dfs.ha.fencing.ssh.connect-timeout</name>\n                <value>30000</value>\n        </property>\n\n        \x3c!--Journal Nodeæä»¶å­å¨å°å --\x3e\n        <property>\n                 <name>dfs.journalnode.edits.dir</name>\n                <value>/soft/module/hadoop-2.9.2/data/tmp/journal</value>\n        </property>\n\n</configuration>\n\n\n * ä¿®æ¹ä»æºéç½®æä»¶: vim etc/hadoop/slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n * ååéç½®æä»¶ xsync.sh etc/hadoop/\n\n\n# 3. å¯å¨éç¾¤\n\n * å¯å¨journalnodeéç¾¤\n   å°journalnodeé¨ç½²å¨DataNodeèç¹ä¸ å¨DataNodeèç¹æ§è¡ ./sbin/hadoop-daemon.sh start journalnode\n * æ ¼å¼ånamenode(ä¸å®è¦å¨journalnodeéç¾¤å¯å¨ååè¿è¡æ ¼å¼å) (1) åå é¤ææèç¹ä¸ç tmp dfs/name dfs/data logs ç­ç®å½\n   (2) å¨nn1(namenode1)ä¸æ§è¡ ${HADOOP_HOME}/bin/hdfs namenode -format(æ³¨æä¸å®æ¯è±æç¬¦'-') hdfs namenode -format(ææä¸æ ·çå½ä»¤é®ä»ä¹ææ¶å¥½ä½¿ææ¶ä¸å¥½ä½¿????[ä¸­è±æç¬¦å·é®é¢])\n   (3) å¨hadoop101(nn1ä¸)å¯å¨namenode hadoop-daemon.sh start namenode\n * namenode2åæ­¥namenode1ä¸æ ¼å¼ååçä¿¡æ¯(åå¯å¨nn1çnamenode) å¨nn2(namenode2)ä¸æ§è¡ hdfs namenode -bootstrapStandby\n * å¨namenode1å¯å¨éç¾¤ sbin/start-dfs.sh\n\n\n# 4. æ¿æ´»namenode\n\n * æ§è¡å®åé¢çæ­¥éª¤å æ­¤æ¶namenode1ånamenode2é½æ¯standbyç¶æï¼éè¿webæå¡æ¥çï¼ï¼è¿ä¸è½æ­£å¸¸æä¾æå¡ï¼éè¦å°å°å¶ä¸­ä¸ä¸ªèç¹åæ¢å°activeç¶æã\n * å°namenode1åæ¢ä¸ºactiveç¶æ å¨namennode1æ§è¡ ./bin/hdfs haadmin -failover --forceactive nn2 nn1(è¿énn2, nn1è¡¨ç¤ºnamenodeçæå¡åï¼éè¦ä¸hdfs-sit.xmlä¸­çéç½®ä¿æä¸è´ã)ç¶åæ¥çnamenode1ånamenode2çç¶æ\n\n\n# 5. HAæå¨åæ¢\n\n * å¨activeç¶æçnamenodeæ§è¡ kill -9 xxx(è¿ç¨id)\n * åæ¢namenode å¨namenode2ä¸åæ¢ä¸ºactive ./bin/hdfs haadmin -failover --forceactive nn1 nn2(æ§è¡åæ¥å¿ä¼æ¥éï¼æ¯å ä¸ºjaråçæ¬çåå ï¼ä¸å½±ååæ¢ç¶æã)\n\n\n# é:èªå·±åºçå°é®é¢\n\n> (1) 8.8.8.101:8485: Call From hadoop101/8.8.8.101 to hadoop101:8485 failed on connection exception: java.net.ConnectException: æç»è¿æ¥; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused é®é¢:æªå¯å¨journaléç¾¤(./sbin/hadoop-daemon.sh start journalnode)\n\n> (2) Unable to fetch namespace information from active NN at hadoop101/8.8.8.101:9000: Call From hadoop100/8.8.8.100 to hadoop101:9000 failed on connection exception: java.net.ConnectException: æç»è¿æ¥; For more details see: http://wiki.apache.org/hadoop/ConnectionRefused é®é¢:æªå¯å¯å¨ä¸»æºå¨çnamenode:(./hadoop-daemon.sh start namenode)\n\n> (3) å¯¹äºæç»è¿æ¥é®é¢:å¦æä½ çææéç½®é½æ¯æ­£ç¡®çï¼é£ä¹è¿ä¸ªé®é¢åªè½æ¯host,networkï¼firewall(å½ç¶è¿æä½ è¾å½ä»¤çé®é¢)\n\n\n# é: ä¸ä¸ªçå­¦é®é¢(å·²è§£å³ æ¯ä¸­æç¬¦å·é®é¢)\n\n * å¯å¨namenodeä¸å¥½ä½¿,jpsåç°æ²¡ænamenode\n * æ¥çæ¥å¿\n * æå¨æ°å»ºæä»¶å¤¹,åç°æ¥éno format,æä»¥æ¯hdfs namenode -formatä¸å¥½ä½¿ æ¹ä¸º${HADOOP_HOME}/bin/hdfs namenode -formatæ ¼å¼åå°±å¥½ä½¿äº, ä¹åéæ°æ ¼å¼åç¨hdfs namenode -formatå¥½ä½¿,ä¸ç¥éæ¯ä»ä¹åå \n\n\n# é:sshç¥è¯\n\nsshé»è®¤ä¼æä½ æ¯ä¸ªä½ è®¿é®è¿è®¡ç®æºçå¬é¥(public key)é½è®°å½å¨/root/.ssh/known_hostsãå½åæ¬¡è®¿é®è¯¥ä¸»æºæ¶ï¼OpenSSHä¼æ ¡å¯¹å¬é¥ãå¦æå¬é¥ä¸åï¼OpenSSHåååºè­¦åï¼é¿åä½ åå°ONS Hijackä¹ç±»çæ»å»ã\n\nè§£å³åæ³ï¼\n\n1ãæå¨å é¤/root/.ssh/known_hostsæä»¶ï¼æ¾å¿å¨ä½ åæ¬¡ä½¿ç¨sshæ¶å®ä¼åæ¬¡èªå¨çæãä½è¿æ ·ä¹ä¼æå¶ä»ä¸»æºçå¬é¥å  æï¼ä¸æ¬¡ç»å½éè¦éæ°è¾å¥å¯ç ï¼å¦æä½ æè¶³å¤çèå¿ï¼ä¹å¯ä»¥æå¼/root/.ssh/known_hostsæä»¶ï¼æ¾å°å¯¹åºä¸»æºé£ä¸è¡æ å¨ä¿®æ¹ä¸ºæ­£ç¡®çRSA keyã\n\n2ãæ ¹æ®ç½ä¸å¶ä»äººè¯´çï¼ä¿®æ¹éç½®æä»¶â~/.ssh/configâï¼å ä¸ä¸é¢ä¸¤è¡ï¼éå¯æå¡å¨ã\n\nStrictHostKeyChecking no\nUserKnownHostsFile /dev/null\n\n\nä½ä¸å»ºè®®è¿ä¹åï¼å ä¸ºSSHç»éæ¶ä¼å¿½ç¥known_hsotsæä»¶ï¼ä¸å®å¨ã",normalizedContent:"# åæ\n\nåå¸å¼æ­å»ºå¥å£:https://www.cnblogs.com/hephaestus/p/12213719.html éç¾¤è§å:\n\n            namenode   datanode   journalnode\nhadoop100   æ¯(nn2)                \nhadoop101   æ¯(nn1)     æ¯          æ¯\nhadoop102              æ¯          æ¯\nhadoop103              æ¯          æ¯\n\n\n# 1. ç®ä»\n\né«å¯ç¨ç¨åºçç±»å\nä¸»ä»æ¹å¼(å·å¤)ï¼ ä¸¤ä¸ªç¸åçåºç¨ç¨åº,ä¸ä¸ªå¯¹å¤æä¾æå¡,æä¸ºä¸»ç¨åº,å¦ä¸ä¸ªå¹³æ¶ä¸è¿è¡ä¸ºå¤ç¨åº,å°±æ¯ä¸ä¸ªä¸»ç¨åºçå¤ä»½,ä¸æ¦ä¸»ç¨åºåºç°é®é¢,å¤ä»½æä¾æ¢å¤æä½\nåä¸»äºå¤(ç­å¤)ï¼ ä¸¤ä¸ªç¸åçåºç¨ç¨åº,åæ¶å¯¹å¤æä¾æå¡(ä¸¤ä¸ªç¨åºç¸äºä¸ºå¯¹æ¹å¤ä»½çå­å¨,åä¸»ç­å¤),å½å¯å¨ä¸ä¸ªåºç°é®é¢æ¶,å¦ä¸ä¸ªå¯ä»¥å¯¹å¤æä¾æå¡,ä¸ä¼é ææå¡å¨å®æº\n\n\n# 2. éç½®(å¨ä¹åæ­å»ºåå¸å¼éç¾¤çåºç¡ä¸)\n\n\n# ä¿®æ¹éç½®æä»¶\n\n * ä¿®æ¹æ ¸å¿éç½®æä»¶: vim etc/hadoop/core-site.xml å å¥\n\n<configuration>\n\n        \x3c!-- æå®hdfsä¸­namenodeçå°å --\x3e\n        <property>\n                <name>fs.defaultfs</name>\n                \x3c!--hdfs://hadoop101:9000--\x3e\n                <value>hdfs://mycluster</value>\n        </property>\n\n        \x3c!-- æå®hadoopè¿è¡æ¶äº§çæä»¶çå­å¨ç®å½ --\x3e\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/soft/module/hadoop-2.9.2/data/tmp</value>\n        </property>\n\n</configuration>\n\n\n * ä¿®æ¹hdfséç½®æä»¶: vim etc/hadoop/hdfs-site.xml å å¥\n\n<configuration>\n\n        \x3c!--haé«å¯ç¨éç½®--\x3e\n        \x3c!--éç¾¤èµ·å--\x3e\n        <property>\n                <name>dfs.nameservices</name>\n                <value>mycluster</value>\n        </property>\n\n        \x3c!--æå®myclusterçæåªäºnamenodeï¼nn1,nn2 èªå·±å»çå--\x3e\n        <property>\n                <name>dfs.ha.namenodes.mycluster</name>\n                <value>nn1,nn2</value>\n        </property>\n\n        \x3c!--nn1 rpcç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n                <value>hadoop101:9000</value>\n        </property>\n\n        \x3c!--nn1 httpç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn1</name>\n                <value>hadoop101:50070</value>\n        </property>\n\n        \x3c!--nn2 rpcç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n                <value>hadoop100:9000</value>\n        </property>\n\n        \x3c!--nn2 httpç«¯å£ --\x3e\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn2</name>\n                <value>hadoop100:50070</value>\n        </property>\n\n        \x3c!--haæéåæ¢ --\x3e\n        \x3c!-- å½namnodeæéï¼æ¯å¦èªå¨å¯å¨å¦ä¸ä¸ªnamenode(é»è®¤å¼ä¸ºfalse)--\x3e\n        <property>\n                <name>dfs.ha.automatic-failover.enabled </name>\n                <value>false</value>\n        </property>\n\n        \x3c!-- journalnode éç½® --\x3e\n        \x3c!-- myclusterçä¸¤ä¸ªnamenodeå±äº«editsaæä»¶ç®å½æ¶ï¼ä½¿ç¨journalnodeéç¾¤ä¿¡æ¯--\x3e\n        <property>\n                <name>dfs.namenode.shared.edits.dir</name>\n                <value>qjournal://hadoop101:8485;hadoop102:8485;hadoop103:8485/mycluster</value>\n        </property>\n\n        \x3c!--å½myclusteræéæ¶ï¼åªä¸ªå®ç°ç±»è´è´£æéåæ¢--\x3e\n        <property>\n                <name>dfs.client.failover.proxy.provider.mycluster</name>\n        <value>org.apache.hadoop.hdfs.server.namenode.ha.configuredfailoverproxyprovider</value>\n        </property>\n\n        \x3c!--åçfailoveræ¶ï¼standbyçèç¹è¦æ§è¡ä¸ç³»åæ¹æ³æåæ¥é£ä¸ªactiveèç¹ä¸­ä¸å¥åº·çnamenodeæå¡ç»ææï¼\n                è¿ä¸ªå«åfenceè¿ç¨ãsshfenceä¼éè¿sshè¿ç¨è°ç¨fuserå½ä»¤å»æ¾å°activeèç¹çnamenodeæå¡å¹¶ææ­»å®--\x3e\n         \x3c!-- éç½®éç¦»æºå¶æ¹æ³ï¼å¤ä¸ªæºå¶ç¨æ¢è¡åå²ï¼å³æ¯ä¸ªæºå¶æç¨ä¸è¡ --\x3e\n        <property>\n                <name>dfs.ha.fencing.methods</name>\n                <value>sshfence</value>\n         </property>\n\n        \x3c!--sshç§é¥ ä½¿ç¨sshfenceéç¦»æºå¶æ¶éè¦sshåç»é--\x3e\n        <property>\n                <name>dfs.ha.fencing.ssh.private-key-files</name>\x3c!--åå¯ç»å½å¯é¥ä½ç½®--\x3e\n                \x3c!--<value>/home/hadoop/.ssh/id_rsa</value>--\x3e\n                <value>/home/banana/.ssh/id_rsa</value>\n        </property>\n\n        \x3c!--sshè¶æ¶æ¶é´ --\x3e\n        <property>\n                <name>dfs.ha.fencing.ssh.connect-timeout</name>\n                <value>30000</value>\n        </property>\n\n        \x3c!--journal nodeæä»¶å­å¨å°å --\x3e\n        <property>\n                 <name>dfs.journalnode.edits.dir</name>\n                <value>/soft/module/hadoop-2.9.2/data/tmp/journal</value>\n        </property>\n\n</configuration>\n\n\n * ä¿®æ¹ä»æºéç½®æä»¶: vim etc/hadoop/slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n * ååéç½®æä»¶ xsync.sh etc/hadoop/\n\n\n# 3. å¯å¨éç¾¤\n\n * å¯å¨journalnodeéç¾¤\n   å°journalnodeé¨ç½²å¨datanodeèç¹ä¸ å¨datanodeèç¹æ§è¡ ./sbin/hadoop-daemon.sh start journalnode\n * æ ¼å¼ånamenode(ä¸å®è¦å¨journalnodeéç¾¤å¯å¨ååè¿è¡æ ¼å¼å) (1) åå é¤ææèç¹ä¸ç tmp dfs/name dfs/data logs ç­ç®å½\n   (2) å¨nn1(namenode1)ä¸æ§è¡ ${hadoop_home}/bin/hdfs namenode -format(æ³¨æä¸å®æ¯è±æç¬¦'-') hdfs namenode -format(ææä¸æ ·çå½ä»¤é®ä»ä¹ææ¶å¥½ä½¿ææ¶ä¸å¥½ä½¿????[ä¸­è±æç¬¦å·é®é¢])\n   (3) å¨hadoop101(nn1ä¸)å¯å¨namenode hadoop-daemon.sh start namenode\n * namenode2åæ­¥namenode1ä¸æ ¼å¼ååçä¿¡æ¯(åå¯å¨nn1çnamenode) å¨nn2(namenode2)ä¸æ§è¡ hdfs namenode -bootstrapstandby\n * å¨namenode1å¯å¨éç¾¤ sbin/start-dfs.sh\n\n\n# 4. æ¿æ´»namenode\n\n * æ§è¡å®åé¢çæ­¥éª¤å æ­¤æ¶namenode1ånamenode2é½æ¯standbyç¶æï¼éè¿webæå¡æ¥çï¼ï¼è¿ä¸è½æ­£å¸¸æä¾æå¡ï¼éè¦å°å°å¶ä¸­ä¸ä¸ªèç¹åæ¢å°activeç¶æã\n * å°namenode1åæ¢ä¸ºactiveç¶æ å¨namennode1æ§è¡ ./bin/hdfs haadmin -failover --forceactive nn2 nn1(è¿énn2, nn1è¡¨ç¤ºnamenodeçæå¡åï¼éè¦ä¸hdfs-sit.xmlä¸­çéç½®ä¿æä¸è´ã)ç¶åæ¥çnamenode1ånamenode2çç¶æ\n\n\n# 5. haæå¨åæ¢\n\n * å¨activeç¶æçnamenodeæ§è¡ kill -9 xxx(è¿ç¨id)\n * åæ¢namenode å¨namenode2ä¸åæ¢ä¸ºactive ./bin/hdfs haadmin -failover --forceactive nn1 nn2(æ§è¡åæ¥å¿ä¼æ¥éï¼æ¯å ä¸ºjaråçæ¬çåå ï¼ä¸å½±ååæ¢ç¶æã)\n\n\n# é:èªå·±åºçå°é®é¢\n\n> (1) 8.8.8.101:8485: call from hadoop101/8.8.8.101 to hadoop101:8485 failed on connection exception: java.net.connectexception: æç»è¿æ¥; for more details see: http://wiki.apache.org/hadoop/connectionrefused é®é¢:æªå¯å¨journaléç¾¤(./sbin/hadoop-daemon.sh start journalnode)\n\n> (2) unable to fetch namespace information from active nn at hadoop101/8.8.8.101:9000: call from hadoop100/8.8.8.100 to hadoop101:9000 failed on connection exception: java.net.connectexception: æç»è¿æ¥; for more details see: http://wiki.apache.org/hadoop/connectionrefused é®é¢:æªå¯å¯å¨ä¸»æºå¨çnamenode:(./hadoop-daemon.sh start namenode)\n\n> (3) å¯¹äºæç»è¿æ¥é®é¢:å¦æä½ çææéç½®é½æ¯æ­£ç¡®çï¼é£ä¹è¿ä¸ªé®é¢åªè½æ¯host,networkï¼firewall(å½ç¶è¿æä½ è¾å½ä»¤çé®é¢)\n\n\n# é: ä¸ä¸ªçå­¦é®é¢(å·²è§£å³ æ¯ä¸­æç¬¦å·é®é¢)\n\n * å¯å¨namenodeä¸å¥½ä½¿,jpsåç°æ²¡ænamenode\n * æ¥çæ¥å¿\n * æå¨æ°å»ºæä»¶å¤¹,åç°æ¥éno format,æä»¥æ¯hdfs namenode -formatä¸å¥½ä½¿ æ¹ä¸º${hadoop_home}/bin/hdfs namenode -formatæ ¼å¼åå°±å¥½ä½¿äº, ä¹åéæ°æ ¼å¼åç¨hdfs namenode -formatå¥½ä½¿,ä¸ç¥éæ¯ä»ä¹åå \n\n\n# é:sshç¥è¯\n\nsshé»è®¤ä¼æä½ æ¯ä¸ªä½ è®¿é®è¿è®¡ç®æºçå¬é¥(public key)é½è®°å½å¨/root/.ssh/known_hostsãå½åæ¬¡è®¿é®è¯¥ä¸»æºæ¶ï¼opensshä¼æ ¡å¯¹å¬é¥ãå¦æå¬é¥ä¸åï¼opensshåååºè­¦åï¼é¿åä½ åå°ons hijackä¹ç±»çæ»å»ã\n\nè§£å³åæ³ï¼\n\n1ãæå¨å é¤/root/.ssh/known_hostsæä»¶ï¼æ¾å¿å¨ä½ åæ¬¡ä½¿ç¨sshæ¶å®ä¼åæ¬¡èªå¨çæãä½è¿æ ·ä¹ä¼æå¶ä»ä¸»æºçå¬é¥å  æï¼ä¸æ¬¡ç»å½éè¦éæ°è¾å¥å¯ç ï¼å¦æä½ æè¶³å¤çèå¿ï¼ä¹å¯ä»¥æå¼/root/.ssh/known_hostsæä»¶ï¼æ¾å°å¯¹åºä¸»æºé£ä¸è¡æ å¨ä¿®æ¹ä¸ºæ­£ç¡®çrsa keyã\n\n2ãæ ¹æ®ç½ä¸å¶ä»äººè¯´çï¼ä¿®æ¹éç½®æä»¶â~/.ssh/configâï¼å ä¸ä¸é¢ä¸¤è¡ï¼éå¯æå¡å¨ã\n\nstricthostkeychecking no\nuserknownhostsfile /dev/null\n\n\nä½ä¸å»ºè®®è¿ä¹åï¼å ä¸ºsshç»éæ¶ä¼å¿½ç¥known_hsotsæä»¶ï¼ä¸å®å¨ã",charsets:{cjk:!0},lastUpdated:"2022/11/22, 17:20:22",lastUpdatedTimestamp:1669108822e3},{title:"éç¾¤ç«¯å£",frontmatter:{title:"éç¾¤ç«¯å£",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/3e77b2/",categories:["å¤§æ°æ®","Hadoop"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/03.%E9%9B%86%E7%BE%A4%E7%AB%AF%E5%8F%A3.html",relativePath:"02.å¤§æ°æ®/01.Hadoop/03.éç¾¤ç«¯å£.md",key:"v-f9f8fc5c",path:"/pages/3e77b2/",headers:[{level:2,title:"ç«¯å£",slug:"ç«¯å£",normalizedTitle:"ç«¯å£",charIndex:2}],headersStr:"ç«¯å£",content:"# ç«¯å£\n\nç»ä»¶          èç¹                  é»è®¤ç«¯å£    éç½®                                                                   ç¨éè¯´æ\nHDFS        DataNode            50010   dfs.datanode.address                                                 datanodeæå¡ç«¯å£ï¼ç¨äºæ°æ®ä¼ è¾\nHDFS        DataNode            50075   dfs.datanode.http.address                                            httpæå¡çç«¯å£\nHDFS        DataNode            50475   dfs.datanode.https.address                                           httpsæå¡çç«¯å£\nHDFS        DataNode            50020   dfs.datanode.ipc.address                                             ipcæå¡çç«¯å£\nHDFS        NameNode            50070   dfs.namenode.http-address                                            httpæå¡çç«¯å£\nHDFS        NameNode            50470   dfs.namenode.https-address                                           httpsæå¡çç«¯å£\nHDFS        NameNode            8020    fs.defaultFS                                                         æ¥æ¶Clientè¿æ¥çRPCç«¯å£ï¼ç¨äºè·åæä»¶ç³»ç»metadataä¿¡æ¯ã\nHDFS        journalnode         8485    dfs.journalnode.rpc-address                                          RPCæå¡\nHDFS        journalnode         8480    dfs.journalnode.http-address                                         HTTPæå¡\nHDFS        ZKFC                8019    dfs.ha.zkfc.port                                                     ZooKeeper FailoverControllerï¼ç¨äºNN HA\nYARN        ResourceManager     8032    yarn.resourcemanager.address                                         RMçapplications manager(ASM)ç«¯å£\nYARN        ResourceManager     8030    yarn.resourcemanager.scheduler.address                               schedulerç»ä»¶çIPCç«¯å£\nYARN        ResourceManager     8031    yarn.resourcemanager.resource-tracker.address                        IPC\nYARN        ResourceManager     8033    yarn.resourcemanager.admin.address                                   IPC\nYARN        ResourceManager     8088    yarn.resourcemanager.webapp.address                                  httpæå¡ç«¯å£\nYARN        NodeManager         8040    yarn.nodemanager.localizer.address                                   localizer IPC\nYARN        NodeManager         8042    yarn.nodemanager.webapp.address                                      httpæå¡ç«¯å£\nYARN        NodeManager         8041    yarn.nodemanager.address                                             NMä¸­container managerçç«¯å£\nYARN        JobHistory Server   10020   mapreduce.jobhistory.address                                         IPC\nYARN        JobHistory Server   19888   mapreduce.jobhistory.webapp.address                                  httpæå¡ç«¯å£\nHBase       Master              60000   hbase.master.port                                                    IPC\nHBase       Master              60010   hbase.master.info.port                                               httpæå¡ç«¯å£\nHBase       RegionServer        60020   hbase.regionserver.port                                              IPC\nHBase       RegionServer        60030   hbase.regionserver.info.port                                         httpæå¡ç«¯å£\nHBase       HQuorumPeer         2181    hbase.zookeeper.property.clientPort                                  HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nHBase       HQuorumPeer         2888    hbase.zookeeper.peerport                                             HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nHBase       HQuorumPeer         3888    hbase.zookeeper.leaderport                                           HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nHive        Metastore           9083    /etc/default/hive-metastoreä¸­export PORT=[port]                       æ¥æ´æ°é»è®¤ç«¯å£\nHive        HiveServer          10000   /etc/hive/conf/hive-env.shä¸­export                                    æ¥æ´æ°é»è®¤ç«¯å£\n                                        HIVE_SERVER2_THRIFT_PORT=[port]\nZooKeeper   Server              2181    /etc/zookeeper/conf/zoo.cfgä¸­clientPort=[port]                        å¯¹å®¢æ·ç«¯æä¾æå¡çç«¯å£\nZooKeeper   Server              2888    /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   followerç¨æ¥è¿æ¥å°leaderï¼åªå¨leaderä¸çå¬è¯¥ç«¯å£ã\nZooKeeper   Server              3888    /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   ç¨äºleaderéä¸¾çãåªå¨electionAlgæ¯1,2æ3(é»è®¤)æ¶éè¦ã",normalizedContent:"# ç«¯å£\n\nç»ä»¶          èç¹                  é»è®¤ç«¯å£    éç½®                                                                   ç¨éè¯´æ\nhdfs        datanode            50010   dfs.datanode.address                                                 datanodeæå¡ç«¯å£ï¼ç¨äºæ°æ®ä¼ è¾\nhdfs        datanode            50075   dfs.datanode.http.address                                            httpæå¡çç«¯å£\nhdfs        datanode            50475   dfs.datanode.https.address                                           httpsæå¡çç«¯å£\nhdfs        datanode            50020   dfs.datanode.ipc.address                                             ipcæå¡çç«¯å£\nhdfs        namenode            50070   dfs.namenode.http-address                                            httpæå¡çç«¯å£\nhdfs        namenode            50470   dfs.namenode.https-address                                           httpsæå¡çç«¯å£\nhdfs        namenode            8020    fs.defaultfs                                                         æ¥æ¶clientè¿æ¥çrpcç«¯å£ï¼ç¨äºè·åæä»¶ç³»ç»metadataä¿¡æ¯ã\nhdfs        journalnode         8485    dfs.journalnode.rpc-address                                          rpcæå¡\nhdfs        journalnode         8480    dfs.journalnode.http-address                                         httpæå¡\nhdfs        zkfc                8019    dfs.ha.zkfc.port                                                     zookeeper failovercontrollerï¼ç¨äºnn ha\nyarn        resourcemanager     8032    yarn.resourcemanager.address                                         rmçapplications manager(asm)ç«¯å£\nyarn        resourcemanager     8030    yarn.resourcemanager.scheduler.address                               schedulerç»ä»¶çipcç«¯å£\nyarn        resourcemanager     8031    yarn.resourcemanager.resource-tracker.address                        ipc\nyarn        resourcemanager     8033    yarn.resourcemanager.admin.address                                   ipc\nyarn        resourcemanager     8088    yarn.resourcemanager.webapp.address                                  httpæå¡ç«¯å£\nyarn        nodemanager         8040    yarn.nodemanager.localizer.address                                   localizer ipc\nyarn        nodemanager         8042    yarn.nodemanager.webapp.address                                      httpæå¡ç«¯å£\nyarn        nodemanager         8041    yarn.nodemanager.address                                             nmä¸­container managerçç«¯å£\nyarn        jobhistory server   10020   mapreduce.jobhistory.address                                         ipc\nyarn        jobhistory server   19888   mapreduce.jobhistory.webapp.address                                  httpæå¡ç«¯å£\nhbase       master              60000   hbase.master.port                                                    ipc\nhbase       master              60010   hbase.master.info.port                                               httpæå¡ç«¯å£\nhbase       regionserver        60020   hbase.regionserver.port                                              ipc\nhbase       regionserver        60030   hbase.regionserver.info.port                                         httpæå¡ç«¯å£\nhbase       hquorumpeer         2181    hbase.zookeeper.property.clientport                                  hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nhbase       hquorumpeer         2888    hbase.zookeeper.peerport                                             hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nhbase       hquorumpeer         3888    hbase.zookeeper.leaderport                                           hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nhive        metastore           9083    /etc/default/hive-metastoreä¸­export port=[port]                       æ¥æ´æ°é»è®¤ç«¯å£\nhive        hiveserver          10000   /etc/hive/conf/hive-env.shä¸­export                                    æ¥æ´æ°é»è®¤ç«¯å£\n                                        hive_server2_thrift_port=[port]\nzookeeper   server              2181    /etc/zookeeper/conf/zoo.cfgä¸­clientport=[port]                        å¯¹å®¢æ·ç«¯æä¾æå¡çç«¯å£\nzookeeper   server              2888    /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   followerç¨æ¥è¿æ¥å°leaderï¼åªå¨leaderä¸çå¬è¯¥ç«¯å£ã\nzookeeper   server              3888    /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   ç¨äºleaderéä¸¾çãåªå¨electionalgæ¯1,2æ3(é»è®¤)æ¶éè¦ã",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"ä»£ç demoï¼mr hbase hive redisï¼",frontmatter:{title:"ä»£ç demoï¼mr hbase hive redisï¼",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/03a2bd/",categories:["å¤§æ°æ®","Hadoop"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/04.%E4%BB%A3%E7%A0%81demo%EF%BC%88mr%20hbase%20hive%20redis%EF%BC%89.html",relativePath:"02.å¤§æ°æ®/01.Hadoop/04.ä»£ç demoï¼mr hbase hive redisï¼.md",key:"v-2fa3e257",path:"/pages/03a2bd/",headers:[{level:2,title:"ç¯å¢",slug:"ç¯å¢",normalizedTitle:"ç¯å¢",charIndex:2},{level:2,title:"MapReduceä»£ç ",slug:"mapreduceä»£ç ",normalizedTitle:"mapreduceä»£ç ",charIndex:137},{level:2,title:"hbaseä»£ç ",slug:"hbaseä»£ç ",normalizedTitle:"hbaseä»£ç ",charIndex:4510},{level:2,title:"MySQLæ°æ®æå¥å°HBase",slug:"mysqlæ°æ®æå¥å°hbase",normalizedTitle:"mysqlæ°æ®æå¥å°hbase",charIndex:15689},{level:2,title:"hiveä»£ç ",slug:"hiveä»£ç ",normalizedTitle:"hiveä»£ç ",charIndex:25556},{level:2,title:"RedisApi",slug:"redisapi",normalizedTitle:"redisapi",charIndex:34702}],headersStr:"ç¯å¢ MapReduceä»£ç  hbaseä»£ç  MySQLæ°æ®æå¥å°HBase hiveä»£ç  RedisApi",content:'# ç¯å¢\n\n----------------------------------------\n\nåºäºWindowsä¸eclipseçMapReduceå¼åç¯å¢éç½® https://www.cnblogs.com/Hephaestus/p/12608456.html\n\n\n# MapReduceä»£ç \n\n----------------------------------------\n\nMyMapper\n\npackage mrproject;\n\nimport java.io.IOException;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\npublic class MyMapper extends Mapper<LongWritable, Text, Text, IntWritable> {\n\t /**\n     * mapé¶æ®µçä¸å¡é»è¾å¤çå°±åå¨map()æ¹æ³ä¸­\n     * maptaskä¼å¯¹æ¯ä¸è¡è¾å¥æ°æ®è°ç¨ä¸æ¬¡æä»¬èªå®ä¹çmap()æ¹æ³\n     * @throws InterruptedException\n     */\n\t private Text word = new Text();//Textæ¯Hadoopéå¯¹å­ç¬¦ä¸²çåºåååè£ç±»\n     private IntWritable one = new IntWritable(1);//IntWritableæ¯Hadoopéå¯¹æ´åçåºåååè£ç±»---æ´å¤å³äºHadoopçåºåååè£ç±»è¯·æ¥éç¸å³èµæ\n     \n\t@Override\n\tprotected void map(LongWritable key, Text value, Context context)\n\t\t\tthrows IOException, InterruptedException {\n\t\t//å°maptaskä¼ éç»æä»¬çææ¬åå®¹åè½¬æ¢æstring\n        String line=value.toString();\n        //æç§ç©ºæ ¼è¡åå²åè¯\n        String[] words=line.split(" ");\n        //å°åè¯è¾åºä¸º<åè¯ï¼1>\n        for(String w:words) {\n            word.set(w);\n           //å°åè¯ä½ä¸ºkeyï¼å°æ¬¡æ°1ä½ä¸ºValueï¼ä»¥ä¾¿äºåç»­çæ°æ®ååï¼å¯ä»¥æ ¹æ®åè¯ååï¼ä»¥ä¾¿äºç¸ååè¯ä¼å°ç¸åçreduce task\n            context.write(word,one);\n        }\n\t}\n\t\n}\n\n\nMyReducer\n\npackage mrproject;\n\nimport java.io.IOException;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\npublic class MyReducer extends Reducer<Text, IntWritable, Text, IntWritable> {\n\t /**\n\t  * reducerä¸­ä¸»è¦çæ¹å¼å°±æ¯reduce,ç¨æ·å¤çmapé¶æ®µäº§ççkey-valueæ°æ®ï¼å¦ä¸æ ·ä¾\n     * <angel,1> <angel,1> <angel,1> <angel,1> <angel,1>\n     * <hello,1> <hello,1> <hello,1> <hello,1> <hello,1> <hello,1>\n     * <banana,1> <banana,1> <banana,1> <banana,1> <banana,1> <banana,1>\n     * å¥åkeyï¼æ¯ä¸ç»åè¯çkvå¯¹åºçkey,å°ç¸ååè¯çä¸ç»ä¼ éï¼å¦æ­¤æ¶keyæ¯helloï¼é£ä¹åæ°äºæ¯ä¸ä¸ªè¿­ä»£å¨ï¼ä¸ç»æ°\n     * @throws InterruptedException\n     * @throws IOException\n     */\n\tprivate IntWritable sum= new IntWritable();\n\t@Override\n\tprotected void reduce(Text key, Iterable<IntWritable> values,Context context) throws IOException, InterruptedException {\n\t\tint count=0;\n\t     /**\n\t             Iterator<IntWritable> iterator=values.iterator();\n\t             while(iterator.hasNext()) {\n\t                 count+=iterator.next().get();\n\t             }\n\t     */\n\t\t//æ­¤å¤çvaluesæ¯æä¸ªkeyå¯¹åºçææçvalueï¼ä¾å¦ä¸é¢æ°æ®angelå¯¹åºäº5ä¸ª1\n\t             for(IntWritable value:values) {\n\t                 count+=value.get();\n\t             }\n\t             sum.set(count);\n\t             //ä¸ä¸æè¾åº\n\t             context.write(key, sum);\n\t }   \n}\n\n\nMRApp\n\npackage mrproject;\n\nimport java.io.IOException;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\n\n\npublic class MRApp {\n\tpublic static void main(String[] args) throws IllegalArgumentException, IOException, ClassNotFoundException, InterruptedException {\n        //æ­¤å¤ä¸»è¦ç¨äºæ¬å°è¿è¡ï¼å¦æçäº§ç¯å¢ä½¿ç¨shellå½ä»¤è¿è¡ï¼åå½ä»¤ä¸­ä¼æè¾å¥è¾åºç®å½\n        //æ¬å°è¿è¡æ¶ä¸ºäºæ¹ä¾¿æ²¡æç»å°argsï¼æ­¤å¤ä»£ç å¤çä¸ç»ä¸ªé»è®¤å¼\n        if(args.length <2)\n        {\n           args= new String[]{\n                     "hdfs://10.20.10.67:9000/input",\n                     "hdfs://10.20.10.67:9000/output4"\n           };   \n        }\n        Configuration conf=new Configuration();\n        /*\n         * éç¾¤ä¸­èç¹é½æéç½®æä»¶\n        conf.set("mapreduce.framework.name.", "yarn");\n        conf.set("yarn.resourcemanager.hostname", "mini1");\n        */\n        Job job=Job.getInstance(conf);\n        //jaråå¨åªé,ç°å¨å¨å®¢æ·ç«¯ï¼ä¼ éåæ°\n        //ä»»æè¿è¡ï¼ç±»å è½½å¨ç¥éè¿ä¸ªç±»çè·¯å¾ï¼å°±å¯ä»¥ç¥éjaråæå¨çæ¬å°è·¯å¾\n        job.setJarByClass(MRApp.class);\n        //æå®æ¬ä¸å¡jobè¦ä½¿ç¨çmapper/Reducerä¸å¡ç±»\n        job.setMapperClass(MyMapper.class);\n        job.setReducerClass(MyReducer.class);\n        //æå®mapperè¾åºæ°æ®çkvç±»å\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(IntWritable.class);\n        //æå®æç»è¾åºçæ°æ®kvç±»å\n        job.setOutputKeyClass(Text.class);\n        job.setOutputKeyClass(IntWritable.class);\n        //æå®jobçè¾å¥åå§æä»¶æå¨ç®å½\n        FileInputFormat.setInputPaths(job, new Path(args[0]));\n        //æå®jobçè¾åºç»ææå¨ç®å½\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        //å°jobä¸­éç½®çç¸å³åæ°åjobæç¨çjavaç±»å¨çjaråï¼æäº¤ç»yarnå»è¿è¡\n        //æäº¤ä¹åï¼æ­¤æ¶å®¢æ·ç«¯ä»£ç å°±æ§è¡å®æ¯ï¼éåº\n        //job.submit();\n        //ç­éç¾¤è¿åç»æå¨éåº\n        boolean res=job.waitForCompletion(true);\n        System.exit(res?0:1);\n    }\n}\n\n\n\n# hbaseä»£ç \n\n----------------------------------------\n\nè¡¨æä½(DDL DML)\n\npackage com.hrbu.hbase;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.Cell;\nimport org.apache.hadoop.hbase.CellUtil;\nimport org.apache.hadoop.hbase.CompareOperator;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.NamespaceDescriptor;\nimport org.apache.hadoop.hbase.NamespaceExistException;\nimport org.apache.hadoop.hbase.TableName;\nimport org.apache.hadoop.hbase.client.Admin;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptor;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptorBuilder;\nimport org.apache.hadoop.hbase.client.Connection;\nimport org.apache.hadoop.hbase.client.ConnectionFactory;\nimport org.apache.hadoop.hbase.client.Delete;\nimport org.apache.hadoop.hbase.client.Get;\nimport org.apache.hadoop.hbase.client.Put;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.ResultScanner;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.client.Table;\nimport org.apache.hadoop.hbase.client.TableDescriptor;\nimport org.apache.hadoop.hbase.client.TableDescriptorBuilder;\nimport org.apache.hadoop.hbase.filter.BinaryComparator;\nimport org.apache.hadoop.hbase.filter.CompareFilter;\nimport org.apache.hadoop.hbase.filter.Filter;\nimport org.apache.hadoop.hbase.filter.KeyOnlyFilter;\nimport org.apache.hadoop.hbase.filter.PrefixFilter;\nimport org.apache.hadoop.hbase.filter.RandomRowFilter;\nimport org.apache.hadoop.hbase.filter.RowFilter;\nimport org.apache.hadoop.hbase.filter.ValueFilter;\nimport org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException;\nimport org.apache.hadoop.hbase.util.Bytes;\n\n/**\n * DDL: 1.å¤æ­è¡¨æ¯å¦å­å¨ 2.åå»ºè¡¨ 3.åå»ºå½åç©ºé´ 4.å é¤è¡¨ \n * DML: 5.æå¥æ°æ® 6.æ¥æ°æ®(get) 7.æ¥æ°æ®(scan) 8.å é¤æ°æ®\n */\npublic class TestApi {\n\n\tpublic static Connection connect = null;\n\tpublic static Admin admin = null;\n\tstatic {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ HBaseConfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tConfiguration conf = HBaseConfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientPort", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = ConnectionFactory.createConnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getAdmin();\n\t\t} catch (IOException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\tSystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printStackTrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\tpublic static void is_Exists(String tableName) throws IOException {\n\t\tif (admin.tableExists(TableName.valueOf(tableName))) {\n\t\t\tSystem.out.println(tableName + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\tSystem.out.println(tableName + "è¡¨ä¸å­å¨");\n\t\t}\n\t}\n\n\t// 2.åå»ºè¡¨\n\tpublic static void create_Table(String tableName) throws IOException {\n\t\tTableName tableNameTemp = TableName.valueOf(tableName);\n\t\tif (admin.tableExists(tableNameTemp)) {\n\t\t\tSystem.out.println(tableName + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\tTableDescriptorBuilder tableBuilder = TableDescriptorBuilder.newBuilder(tableNameTemp);\n\t\t\t// åæ\n\t\t\tColumnFamilyDescriptor info1 = ColumnFamilyDescriptorBuilder.of("info1");\n\t\t\tColumnFamilyDescriptor info2 = ColumnFamilyDescriptorBuilder.of("info2");\n\t\t\tColumnFamilyDescriptor info3 = ColumnFamilyDescriptorBuilder.of("info3");\n\t\t\tList<ColumnFamilyDescriptor> cfList = new ArrayList<ColumnFamilyDescriptor>();\n\t\t\tcfList.add(info1);\n\t\t\tcfList.add(info2);\n\t\t\tcfList.add(info3);\n\t\t\ttableBuilder.setColumnFamilies(cfList);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\tTableDescriptor tableDesc = tableBuilder.build();\n\t\t\tadmin.createTable(tableDesc);\n\t\t\tSystem.out.println(tableName + "\\tè¡¨åå»ºæå");\n\t\t}\n\t}\n\n\t// 3.åå»ºå½åç©ºé´\n\tpublic static void create_NameSpace(String nameSpace) {\n\t\t// åå»ºå½åç©ºé´æè¿°å¨\n\t\tNamespaceDescriptor descriptor = NamespaceDescriptor.create(nameSpace).build();\n\t\t//åå»ºå½åç©ºé´\n\t\ttry {\n\t\t\tadmin.createNamespace(descriptor);\n\t\t} catch(NamespaceExistException e) {\n\t\t\tSystem.out.println(nameSpace + "å½åç©ºé´å·²å­å¨");\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tSystem.out.println("--æä¼è¢«æ§è¡å--");\n\t}\n\t// 4.å é¤è¡¨\n\tpublic static void drop_Table(String tableName) throws IOException {\n\t\tTableName tableNameTemp = TableName.valueOf(tableName);\n\t\tif (admin.tableExists(tableNameTemp)) {\n\t\t\tadmin.disableTable(tableNameTemp);\n\t\t\tadmin.deleteTable(tableNameTemp);\n\t\t\tSystem.out.println("è¡¨" + tableName + "å é¤æåï¼ ");\n\t\t} else {\n\t\t\tSystem.out.println("è¡¨" + tableName + "ä¸å­å¨ï¼ ");\n\t\t}\n\t}\n\t// 5.æå¥æ°æ®\n\tpublic static void put_Data(String tableName, String rowKey, String columnFamily, String column, String value) {\n\t\tTable table = null;\n\t\ttry {\n\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\tPut put = new Put(Bytes.toBytes(rowKey));\n\t\t\tput.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column), Bytes.toBytes(value));\n\t\t\ttable.put(put);\n\t\t} catch(NoSuchColumnFamilyException e){\n\t\t\tSystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tSystem.out.println("æ°æ®æå¥æå");\n\t\t\n\t}\n\t// 6.æ¥æ°æ®(get)\n\tpublic static void get_Data(String tableName, String rowKey, String columnFamily, String column) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\t//get.addFamily(Bytes.toBytes(columnFamily));\n\t\tget.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + "--" + columnFamily + "--" + column + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_Data(String tableName, String rowKey, String columnFamily) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\tget.addFamily(Bytes.toBytes(columnFamily));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + "--" + columnFamily + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_Data(String tableName, String rowKey) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_Cells(Cell[] cells) {\n\t\tfor (Cell tempCell : cells) {\n\t\t\tSystem.out.println(Bytes.toString(CellUtil.cloneRow(tempCell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + Bytes.toString(CellUtil.cloneFamily(tempCell)) + ":" +  Bytes.toString(CellUtil.cloneQualifier(tempCell))\n\t\t\t\t\t+ ",timestamp=" + tempCell.getTimestamp() \n\t\t\t\t\t+ ", value=" + Bytes.toString(CellUtil.cloneValue(tempCell)) );\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_Cells2(Cell[] cells) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor (Cell cell : cells) {\n\t\t\tString column = Bytes.toString(cell.getQualifierArray(), cell.getQualifierOffset(), cell.getQualifierLength());\n\t\t\tString value = Bytes.toString(cell.getValueArray(),cell.getValueOffset(),cell.getValueLength());\n\t\t\tsb.append(column).append(":").append(value).append(";\\t");\n\t\t}\n\t\tSystem.out.println(sb.toString());\n\t}\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_Data(String tableName) {\n\t\tTable table = null;\n\t\ttry {\n\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\tResultScanner results = table.getScanner(new Scan());\n\t\t\tSystem.out.println(tableName + "è¡¨\\nROW\\t\\tCOLUMN+CELL");\n\t\t\tfor (Result result : results) {\n\t\t\t\tCell[] cells = result.rawCells();\n\t\t\t\tprint_Cells(cells);\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\t// 7.2 æ¥æ°æ®(scan + filter)\n\tpublic static void filter_Data(String tableName, Filter filter, int limit) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\tScan scan = new Scan().setFilter(filter).setLimit(limit);\n\t\tResultScanner resultScan = table.getScanner(scan);\n\t\tSystem.out.println(tableName + "è¡¨(filter)\\nROW\\t\\tCOLUMN+CELL");\n\t\tfor (Result result : resultScan) {\n\t\t\tCell[] cells = result.rawCells();\n\t\t\tprint_Cells(cells);\n\t\t}\n\t\ttable.close();\n\t}\n\t// 8. å é¤å¤è¡æ°æ®\n\tpublic static void delete_Data(String tableName, String... rows) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t//Delete delete = new Delete(Bytes.toBytes(rowKey));\n\t\tList<Delete> deleteList = new ArrayList<Delete>();\n\t\tfor (String row:rows) {\n\t\t\tDelete delete = new Delete(Bytes.toBytes(row));\n\t\t\tdeleteList.add(delete);\n\t\t}\n\t\ttable.delete(deleteList);\n\t\ttable.close();\n\t\tSystem.out.println("å é¤æå");\n\t}\n\t// 8.1 å é¤ååæ ¼(Cell)æ°æ®\n\tpublic static void delete_Cell(String tableName,  String rowKey, String columnFamily, String column ) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\tDelete delete = new Delete(Bytes.toBytes(rowKey));\n\t\tdelete.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\t\t//å é¤æåä¸çæ¬\n\t\t//delete.addColumns(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\t\t//å é¤ææçæ¬\n\t\ttable.delete(delete);\n\t\ttable.close();\n\t}\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tSystem.out.println("============================start=========================");\n\t\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\t\t//is_Exists("student");\n\t\t\n\t\t// 3.åå»ºå½åç©ºé´\n\t\t//create_NameSpace("std");\n\t\t\n\t\t// 2.åå»ºè¡¨\n\t\t//create_Table("std:stu");\n\t\t\n\t\t// 4.å é¤è¡¨\n\t\t//drop_Table("std:stu");\n\t\t\n\t\t// 5.æå¥æ°æ®\n\t\t//put_Data("std:stu", "1003", "info1", "addr", "beijing");\n\t\t//put_Data("std:stu", "1004", "info1", "sex", "ç·");\n\t\t//put_Data("std:stu", "1005", "info1", "class", "2");\n\t\t\n\t\t// 6.æ¥æ°æ®(get)\n\t\tget_Data("std:stu", "1002");\n\t\tget_Data("std:stu", "1002", "info1");\n\t\t\n\t\t// 7.æ¥æ°æ®(scan)\n\t\tscan_Data("std:stu");\n\t\t\n\t\t// 7.1 æ¥æ°æ®(scan + filter)\n\t\t//filter_Data("std:stu", new PrefixFilter(Bytes.toBytes("100")), 10);\t//ç­éåºè¡é®ä»¥rowä¸ºåç¼çææçè¡\n\t\t//filter_Data("std:stu", new RandomRowFilter((float) 0.2), 10);\t//æç§ä¸å®çå çï¼<=0ä¼è¿æ»¤æææçè¡ï¼>=1ä¼åå«ææçè¡ï¼æ¥è¿åéæºçç»æé\n\t\t//filter_Data("std:stu", new KeyOnlyFilter(), 10); // è¿åææçè¡ï¼ä½å¼å¨æ¯ç©º \n\t\t//  ç­éåºå¹éçææçè¡  \n\t\tfilter_Data("std:stu", new RowFilter(CompareFilter.CompareOp.LESS, new BinaryComparator(Bytes.toBytes("1002"))), 10);\n\t\t\n\t\t// 8. å é¤å¤è¡æ°æ®æ°æ®\n\t\t//delete_Data("std:stu", "1003","1004");\n\t\t\n\t\t// 8.1å é¤ååæ ¼æ°æ®\n\t\t//delete_Cell("std:stu", "1005", "info1", "name");\n\t\t\n\t\tscan_Data("std:stu");\n\t\t\n\t\tSystem.out.println("============================end==========================");\n\t\t// end:å³é­èµæºåè¿æ¥\n\t\tclose();\n\t}\n\n}\n\n\n\n# MySQLæ°æ®æå¥å°HBase\n\n----------------------------------------\n\næå¥HBase\n\npackage com.hrbu.hbase;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.Cell;\nimport org.apache.hadoop.hbase.CellUtil;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.TableName;\nimport org.apache.hadoop.hbase.client.Admin;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptor;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptorBuilder;\nimport org.apache.hadoop.hbase.client.Connection;\nimport org.apache.hadoop.hbase.client.ConnectionFactory;\nimport org.apache.hadoop.hbase.client.Put;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.ResultScanner;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.client.Table;\nimport org.apache.hadoop.hbase.client.TableDescriptor;\nimport org.apache.hadoop.hbase.client.TableDescriptorBuilder;\nimport org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException;\nimport org.apache.hadoop.hbase.util.Bytes;\n\npublic class Sqoop_Hbase {\n\tpublic static Connection connect = null;\n\tpublic static Admin admin = null;\n\tpublic static void init() {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ HBaseConfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tConfiguration conf = HBaseConfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientPort", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = ConnectionFactory.createConnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getAdmin();\n\t\t} catch (IOException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\tSystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printStackTrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t}\n\t\n\t// æå¥æ°æ®\n\tpublic static void put_Data(String tableName, String columnFamily,List<Staff> list) throws IOException {\n\t\t\n\t\tif(admin.tableExists(TableName.valueOf(tableName))) {\n\t\t\tSystem.out.println(tableName + "è¡¨å·²ç»å­å¨");\n\t\t}else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\tTableDescriptorBuilder tableBuilder = TableDescriptorBuilder.newBuilder(TableName.valueOf(tableName));\n\t\t\t// åæ\n\t\t\tColumnFamilyDescriptor info1 = ColumnFamilyDescriptorBuilder.of(columnFamily);\n\t\t\ttableBuilder.setColumnFamily(info1);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\tTableDescriptor tableDesc = tableBuilder.build();\n\t\t\tadmin.createTable(tableDesc);\n\t\t\tSystem.out.println(tableName + "\\tè¡¨åå»ºæå");\n\t\t\t\n\t\t\tTable table = null;\n\t\t\ttry {\n\t\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\t\tfor (int i = 0; i < list.size(); i++) {\n\t\t\t\t\t//è§£å³æ°å­(int doubleä¹±ç ) åè½¬å­ç¬¦,åè½¬å­ç¬¦æ°ç»\n\t\t\t\t\tPut put = new Put(Bytes.toBytes(String.valueOf(list.get(i).getId())));\n\t\t\t\t\t//æ±å­ä¹±ç è¯¥æä¹è§£å³(å°utf-8çæ±å­è½¬æ¢æunicodeæ ¼å¼æ±å­ç   ä¸å¥½ä½¿)\n\t\t\t\t\tput.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes("name"), Bytes.toBytes(list.get(i).getName()));\n\t\t\t\t\tput.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes("sex"), Bytes.toBytes(list.get(i).getSex()));\n\t\t\t\t\ttable.put(put);\n\t\t\t\t}\n\t\t\t} catch(NoSuchColumnFamilyException e){\n\t\t\t\tSystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}finally {\n\t\t\t\ttry {\n\t\t\t\t\tif(table!=null) {\n\t\t\t\t\t\ttable.close();\n\t\t\t\t\t}\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//å¤é¨è°ç¨çæ¹æ³(ç®æ¯å°è£å¥½ç)\n\tpublic static void main_Use(String tableName, String columnFamily,List<Staff> list){\n\t\tinit();\n\t\ttry {\n\t\t\tput_Data(tableName, columnFamily, list);\n\t\t\tscan_Data(tableName);\n\t\t} catch (IOException e) {\n\t\t\t//e.printStackTrace();\n\t\t\tSystem.out.println("adminå¼å¸¸");\n\t\t}finally {\n\t\t\tclose();\n\t\t}\n\t\tSystem.out.println("æå¥æ°æ®æå");\n\t}\n\t\n\t\n\t/****************************ä»¥ä¸ä¸ºå¤ä½ä»£ç *****************************************/\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_Data(String tableName) {\n\t\tTable table = null;\n\t\ttry {\n\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\tResultScanner results = table.getScanner(new Scan());\n\t\t\tSystem.out.println(tableName + "è¡¨\\nROW\\t\\tCOLUMN+CELL");\n\t\t\tfor (Result result : results) {\n\t\t\t\tCell[] cells = result.rawCells();\n\t\t\t\tprint_Cells(cells);\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_Cells(Cell[] cells) {\n\t\tfor (Cell tempCell : cells) {\n\t\t\tSystem.out.println(Bytes.toString(CellUtil.cloneRow(tempCell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + Bytes.toString(CellUtil.cloneFamily(tempCell)) + ":" +  Bytes.toString(CellUtil.cloneQualifier(tempCell))\n\t\t\t\t\t+ ",timestamp=" + tempCell.getTimestamp() \n\t\t\t\t\t+ ", value=" + Bytes.toString(CellUtil.cloneValue(tempCell)) );\n\t\t}\n\t}\n\t /**\n     * 1å°utf-8çæ±å­è½¬æ¢æunicodeæ ¼å¼æ±å­ç \n     * @param string\n     * @return\n     */\n    public static String stringToUnicode(String string) {\n\n        StringBuffer unicode = new StringBuffer();\n        for (int i = 0; i < string.length(); i++) {\n            char c = string.charAt(i);\n            unicode.append("\\\\u" + Integer.toHexString(c));\n        }\n        String str = unicode.toString();\n\n        return str.replaceAll("\\\\\\\\", "0x");\n    }\n\n    /**\n     * 2å°unicodeçæ±å­ç è½¬æ¢æutf-8æ ¼å¼çæ±å­\n     * @param unicode\n     * @return\n     */\n    public static String unicodeToString(String unicode) {\n\n        String str = unicode.replace("0x", "\\\\");\n\n        StringBuffer string = new StringBuffer();\n        String[] hex = str.split("\\\\\\\\u");\n        for (int i = 1; i < hex.length; i++) {\n            int data = Integer.parseInt(hex[i], 16);\n            string.append((char) data);\n        }\n        return string.toString();\n    }\n\n}\n\n\nè¯»MySQL\n\npackage com.hrbu.hbase;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Sqoop_Mysql {\n\tpublic static Connection connect = null;\n\t\n\tpublic static void init() {\n\t\t//é©±å¨ç¨åºå\n\t\tString driver = "com.mysql.cj.jdbc.Driver";\n\t\t//urlæåè¦è®¿é®çæ°æ®åºå\n\t\tString url = "jdbc:mysql://hadoop1:3306/company?useUnicode=true&characterEncoding=utf-8&useSSL=false";\n\t\t//mysqléç½®æ¶çç¨æ·å\n\t\tString username = "root";\n\t\t//å¯ç \n\t\tString password = "123456789";\n\t\t\n\t\ttry {\n\t\t\t//å è½½é©±å¨ç¨åº\n\t\t\tClass.forName(driver);\n\t\t\tconnect = DriverManager.getConnection(url,username,password);\n\t\t\tif (!connect.isClosed()) {\n                System.out.println("æ°æ®åºè¿æ¥æå");\n            }\n\t\t} catch (ClassNotFoundException|SQLException e) {\n\t\t\te.printStackTrace();\n\t\t} \n\t}\n\t\n\tpublic static void close(){\n\t\tif(connect!=null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static List<Staff> selectAllFromStaff() {\n\t\t//å®ä¾åStatementå¯¹è±¡\n\t\tList<Staff> list = new ArrayList<Staff>();\n\t\tStatement stmt = null;\n\t\ttry {\n\t\t\tstmt = connect.createStatement();\n\t\t\tString sql = "select * from staff";\n\t\t\tResultSet resultSet = stmt.executeQuery(sql);\n\t\t\twhile(resultSet.next()) {\n\t\t\t\tStaff staff = new Staff();\n\t\t\t\tstaff.setId(resultSet.getInt("id"));\n\t\t\t\tstaff.setName(resultSet.getString("name"));\n\t\t\t\tstaff.setSex(resultSet.getString("sex"));\n\t\t\t\tlist.add(staff);\n\t\t\t}\n\t\t\t\n\t\t} catch (SQLException e) {\n\t\t\te.printStackTrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(stmt!=null) {\n\t\t\t\t\tstmt.close();\n\t\t\t\t}\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t}\n\t\n\tpublic static void print(List<Staff> list) {\n\t\tfor (int i = 0; i < list.size(); i++) {\n\t\t\tSystem.out.println(list.get(i).getId() + "\\t" +list.get(i).getName() + "\\t" + list.get(i).getSex());\n\t\t}\n\t}\n\t//å¤é¨è°ç¨çæ¹æ³(ç®æ¯å°è£å¥½ç)\n\tpublic static List<Staff> main_Use() {\n\t\tinit();\n\t\tList<Staff> list = selectAllFromStaff();\n\t\tclose();\n\t\treturn list;\n\t}\n}\n\nclass Staff {\n\tint id;\n\tString name;\n\tString sex;\n\tpublic int getId() {\n\t\treturn id;\n\t}\n\tpublic void setId(int id) {\n\t\tthis.id = id;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic String getSex() {\n\t\treturn sex;\n\t}\n\tpublic void setSex(String sex) {\n\t\tthis.sex = sex;\n\t}\n}\n\n\nimport java.util.List;\n\npublic class Sqoop_Test {\n\tpublic static void main(String[] args) {\n\t\tList<Staff> list = Sqoop_Mysql.main_Use();\n\t\tSqoop_Hbase.main_Use("staff", "info", list);\n\t}\n}\n\n\npackage com.hrbu.hbase;\n\nimport java.io.IOException;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.TableName;\nimport org.apache.hadoop.hbase.client.Admin;\nimport org.apache.hadoop.hbase.client.Connection;\nimport org.apache.hadoop.hbase.client.ConnectionFactory;\n\npublic class Test {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\t// TODO Auto-generated method stub\n\t\tConfiguration conf = null;\n\t\tconf = HBaseConfiguration.create();\n\t\tconf.set("hbase.zookeeper.quorum", "192.168.1.100");\n\t\tconf.set("hbase.zookeeper.property.clientPort", "2181");\n\t\tSystem.out.println("11111111111111111111");\n\t\t//2. åå»ºè¿æ¥å¯¹è±¡\n\t\tConnection connect = null;\n\t\tconnect = ConnectionFactory.createConnection(conf);\n\t\tSystem.out.println("22222222222222222222");\n\t\t//3. è·åç®¡çåå¯¹è±¡\n\t\tAdmin admin = connect.getAdmin();\n\t\tSystem.out.println("333333333333333333333" + admin + "333" + connect);\n\t\t//System.out.println(admin.tableExists(TableName.valueOf("student")));\n\t\tif(admin.tableExists(TableName.valueOf("student"))) {\n\t\t\tSystem.out.println("è¡¨å·²ç»å­å¨");\n\t\t}else {\n\t\t\tSystem.out.println("è¡¨ä¸å­å¨");\n\t\t}\n\t\tSystem.out.println("44444444444444444444");\n\t\tadmin.close();\n\t\tconnect.close();\n\t}\n\n}\n\n\n\n# hiveä»£ç \n\n----------------------------------------\n\nè¡¨æä½\n\npackage com.hrbu.hive;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class ClusterTestApi {\n\t\n\t//é©±å¨åç§°\n\tprivate static String driverName = "org.apache.hive.jdbc.HiveDriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static String url = "jdbc:hive2://8.8.8.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static String user = "banana";\n\tprivate static String password = "";\n\t\n\tprivate static Connection conn = null;\n\tprivate static Statement stmt = null;\n\tprivate static ResultSet rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@Before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tClass.forName(driverName);\n\t\t\tconn = DriverManager.getConnection(url,user,password);\n\t\t\tstmt = conn.createStatement();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@After //è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws SQLException {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@Test\n\tpublic void create_DataBase() throws SQLException {\n\t\tString sql = "create database IF NOT EXISTS hive_jdbc_test";\t//create database IF NOT EXISTS hive_jdbc_test\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@Test\n\tpublic void create_StudentTable() throws SQLException {\n\t\t//String sql0 = "use hive_jdbc_test";\n\t\tString sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tSystem.out.println("Running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@Test\n\tpublic void show_DataBases() throws SQLException {\n\t\tString sql = "show Databases";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@Test\n\tpublic void show_Tables() throws SQLException {\n\t\tString sql = "show tables";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@Test\n\tpublic void load_Data() throws SQLException {\n\t\t//linuxè·¯å¾\n\t\tString filePath = " \'/soft/module/datas/short-student-utf8.txt\' ";\n\t\tString sql = "load data local inpath" + filePath + "overwrite into table student";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@Test\n\tpublic void select_Data() throws SQLException {\n\t\tString sql = "select * from test_db.student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\tSystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString("code") + "\\t" + rs.getString("name") + "\\t" + rs.getString("gender") + "\\t" + rs.getString("school") + "\\t" + rs.getString("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@Test\n\tpublic void count_Data() throws SQLException {\n\t\tString sql = "select count(*) from test_db.student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\tSystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getInt(1));\n\t\t}\n\t}\n\t//å é¤è¡¨\n\t@Test\n\tpublic void drop_table() throws SQLException {\n\t\tString sql = "drop table student";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("drop table success");\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@Test\n\tpublic void drop_DataBase() throws SQLException {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//String sql = "DROP DATABASE IF EXISTS hive_jdbc_test CASCADE";\n\t\tString sql = "DROP DATABASE IF EXISTS hive_jdbc_test";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("DROP DATABASE success");\n\t}\n\t\n\tpublic static void main(String[] args) throws SQLException {\n\t\tClusterTestApi test = new ClusterTestApi();\n\t\ttest.drop_DataBase();\n\t}\n}\n\n\npackage com.hrbu.hive;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\n\n\npublic class TeatApi {\n\t\n\t//é©±å¨åç§°\n\tprivate static String driverName = "org.apache.hive.jdbc.HiveDriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static String url = "jdbc:hive2://192.168.1.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static String user = "root";\n\tprivate static String password = "";\n\t\n\tprivate static Connection conn = null;\n\tprivate static Statement stmt = null;\n\tprivate static ResultSet rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@Before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tClass.forName(driverName);\n\t\t\tconn = DriverManager.getConnection(url,user,password);\n\t\t\tstmt = conn.createStatement();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@After //è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws SQLException {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@Test\n\tpublic void create_DataBase() throws SQLException {\n\t\tString sql = "create database IF NOT EXISTS hive_jdbc_test";\t//create database IF NOT EXISTS hive_jdbc_test\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@Test\n\tpublic void create_StudentTable() throws SQLException {\n\t\t//String sql0 = "use hive_jdbc_test";\n\t\tString sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tSystem.out.println("Running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@Test\n\tpublic void show_DataBases() throws SQLException {\n\t\tString sql = "show Databases";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@Test\n\tpublic void show_Tables() throws SQLException {\n\t\tString sql = "show tables";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@Test\n\tpublic void load_Data() throws SQLException {\n\t\t//linuxè·¯å¾\n\t\tString filePath = "\'/soft/datas/short-student-utf8.txt\'";\n\t\tString sql = "load data local inpath" + filePath + "overwrite into table test_db.student";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@Test\n\tpublic void select_Data() throws SQLException {\n\t\tString sql = "select * from test_db.student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\tSystem.out.println("å­¦å·\\t\\t\\tå§å\\tæ§å«\\tå­¦æ ¡\\t\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString("code") + "\\t" + rs.getString("name") + "\\t" + rs.getString("gender") + "\\t" + rs.getString("school") + "\\t" + rs.getString("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@Test\n\tpublic void count_Data() throws SQLException {\n\t\tString sql = "select count(*) from test_db.student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getInt(1));\n\t\t}\n\t}\n\t//å é¤è¡¨\n\t@Test\n\tpublic void drop_table() throws SQLException {\n\t\tString sql = "drop table student";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("drop table success");\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@Test\n\tpublic void drop_DataBase() throws SQLException {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//String sql = "DROP DATABASE IF EXISTS flume_hive CASCADE";\n\t\tString sql = "DROP DATABASE IF EXISTS hive_jdbc_test";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("DROP DATABASE success");\n\t}\n\t\n\tpublic static void main(String[] args) throws SQLException {\n\t\tnew TeatApi().drop_DataBase();\n\t}\n}\n\n\nUDF\n\npackage com.hrbu.hive;\n\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.hadoop.hive.ql.exec.UDF;\nimport org.apache.hadoop.io.Text;\n\npublic class GenderUDF extends UDF {\n\t/**\n\t * æ¹æ³åå¿é¡»æ¯evaluate,hiveæ§è¡æ¶ä¼æ¾å®\n\t * ä¸å¡é»è¾ä¸º:å¤æ­è¾å¥å¼,"M"è¿åç·,"F"è¿åå¥³,å¦åè¿åæªç¥\n\t * \n\t */\n\tpublic Text evaluate(Text text) {\n\t\tString textStr = text.toString();\n\t\tif(StringUtils.isNotEmpty(textStr)) {\n\t\t\tif(textStr.equalsIgnoreCase("M")) {\n\t\t\t\treturn new Text("ç·");\n\t\t\t}else if(textStr.equalsIgnoreCase("F")){\n\t\t\t\treturn new Text("å¥³");\n\t\t\t}else {\n\t\t\t\treturn new Text("æªç¥");\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n\n\n# RedisApi\n\n----------------------------------------\n\npackage com.hrbu.RedisApi;\n\nimport java.util.HashMap;\n\nimport redis.clients.jedis.Jedis;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n    \tJedis jedis = new Jedis("8.8.8.8",6379);\n    \t//jedis.flushAll();\n        //System.out.println( "Hello World!" + jedis.ping());\n        /*****1.å­ç¬¦ä¸²(String)*****/\n//    \tjedis.set("name1", "aaa");\n//        System.out.println(jedis.get("name1"));\n//    \tjedis.del("name1");\n//    \t\n//    \tjedis.mset("name1","aaa","name2","bbb","name3","ccc");\n//    \tSystem.out.println(jedis.mget("name1","name2","name3"));\n//    \t\n//    \tSystem.out.println(jedis.exists("name1"));\n//    \tSystem.out.println(jedis.exists("name","name0","name1","name2","name3"));\n//    \tSystem.out.println(jedis.keys("*"));\n//    \tSystem.out.println(jedis.type("name1"));\n//    \tSystem.out.println(jedis.randomKey());\n//    \tSystem.out.println(jedis.flushDB());\n//    \tSystem.out.println(jedis.get("name1"));\n//    \tSystem.out.println(jedis.flushAll());\n//    \tSystem.out.println(jedis.randomKey());\n    \t\n    \t/****2.åå¸(Hash)******/\n    \t/*\n    \tHashMap<String,String> hmap = new HashMap<String,String>();\n    \thmap.put("name5", "eee");\n    \thmap.put("name4", "ddd");\n    \thmap.put("id", "666");\n    \t// è®¾ç½®å¼\n    \tjedis.hset("user", "name6", "fff");\n    \tjedis.hmset("user", hmap);\n    \t// åå¼\n    \tSystem.out.println("hget:\\t" + jedis.hget("user", "name4"));\n    \tSystem.out.println("hmget:\\t" + jedis.hmget("user", "name4","name5","name6"));\n    \tSystem.out.println("hgetAll:\\t" + jedis.hgetAll("user"));\n    \tSystem.out.println("keys:\\t" + jedis.keys("*"));\n    \tSystem.out.println("hkeys:\\t" + jedis.hkeys("user"));\n    \tSystem.out.println("hvals:\\t" + jedis.hvals("user"));\n    \tSystem.out.println("hlen:\\t" + jedis.hlen("user"));\n    \t// å é¤field\n    \tSystem.out.println("hdel\\t" + jedis.hdel("user","name4"));\n    \tSystem.out.println("hdel\\t" + jedis.hdel("user","name5","name6"));\n    \tSystem.out.println(jedis.hgetAll("user"));\n    \t// æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \tSystem.out.println(jedis.hgetAll("user"));\n    \t*/\n\n    \t\n    \t/*******3.åè¡¨List(ç±»ä¼¼äºæ ???)*********/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.lpushx("list", "999");\n    \tjedis.lpush("list", "hhh","ggg","iii");\t\t//1æå¤å°  å¼å§\n    \tjedis.rpush("list", "kkk","jjj");\t\t\t//1æå¤å°  æ«å°¾\n    \tjedis.lpushx("list", "666");\t\t\t\t// æå¥å·²å­å¨åè¡¨å¤´é¨\n    \t// åå¼\n    \tSystem.out.println(jedis.lrange("list", 0, 10));\t//è·åæå®èå´åç´ \n    \tSystem.out.println(jedis.blpop("list","5"));\t\t//ç§»åº ç¬¬ä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tSystem.out.println(jedis.brpop("list", "5"));\t\t//ç§»åº æåä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tSystem.out.println(jedis.lindex("list", 3));\t\t//ç´¢å¼è·ååç´ \n    \tSystem.out.println(jedis.llen("list"));\t\t\t\t//è·ååè¡¨é¿åº¦\n    \tSystem.out.println(jedis.lrange("list", 0, 10));\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t*/\n    \t\n    \t\n    \t/********4.éå(Set)****************/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.sadd("set", "lll", "nnn", "mmm" ,"ooo");\n    \t// åå¼\n    \tSystem.out.println(jedis.smembers("set"));\t\t// ææåç´ \n    \tSystem.out.println(jedis.sismember("set", "ooo"));\t\t\t// key(value)æ¯å¦å­å¨\n    \tSystem.out.println(jedis.sismember("sett", "ooo"));\n    \tSystem.out.println(jedis.srem("set","ooo","mmm"));\t\t// ç§»é¤\n    \tSystem.out.println(jedis.smembers("set"));\n    \t// è¿ç®\n    \tjedis.sadd("set", "set");\n    \tjedis.sadd("sett", "lll", "nnn", "mmm", "ooo", "sett");\n    \tSystem.out.println(jedis.sinter("set", "sett"));\t\t// äº¤é\n    \tSystem.out.println(jedis.sdiff("set", "sett"));\t\t\t// å·®é\n    \tSystem.out.println(jedis.sunion("set", "sett"));\t\t// å¹¶é\n    \t\n    \tSystem.out.println(jedis.scard("set"));\t\t// åç´ æ°ç®\n    \tSystem.out.println(jedis.scard("sett"));\t\t// åç´ æ°ç®\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t*/\n    \t\n    \t/********5.æåºéåsorted set(zset)*************/\n    \tHashMap<String,Double> scoremap = new HashMap<String, Double>(); \n    \tscoremap.put("vvv", 0.22);\n    \tscoremap.put("ppp", 0.16);\n    \tscoremap.put("sss", 0.19);\n    \tscoremap.put("qqq", 0.17);\n    \tscoremap.put("www", 0.23);\n    \tscoremap.put("rrr", 0.18);\n    \tscoremap.put("uuu", 0.21);\n    \tscoremap.put("ttt", 0.20);\n    \t// æ¾å¼\n    \tjedis.zadd("zset", scoremap);\t\t// æ·»å åç´ ææ´æ°åæ°\n    \tjedis.zadd("zset", 0.24, "xxx");\n    \t// åç´ æ¥æ¾ä¿®æ¹\n    \tSystem.out.println(jedis.zrange("zset", 0, 10));\t\t// æ ¹æ®ç´¢å¼è¿ååºé´\n    \tSystem.out.println(jedis.zcount("zset", 0.18, 0.21));\t\t// æ ¹æ®åæ°è¿ååç´ æ°\n    \tSystem.out.println(jedis.zrem("zset", "sss", "ppp"));\t\t// ç§»é¤åç´ \n    \tSystem.out.println(jedis.zcard("zset"));\t\t\t\t\t// åç´ æ°ç®\n    \tSystem.out.println(jedis.zincrby("zset", 1, "www"));\t\t// åæ°å¢é\n    \tSystem.out.println(jedis.zscore("zset", "www"));\t\t// è¿ååæ°å¼\n    \tSystem.out.println(jedis.zrank("zset", "www"));\t\t// è¿ååç´ ç´¢å¼\n    \tSystem.out.println(jedis.zrangeByScore("zset", 0, 2));\t\t// æ ¹æ®åæ°è¿ååç´ åºé´\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t\n    \t\n        jedis.close();\n    }\n}\n',normalizedContent:'# ç¯å¢\n\n----------------------------------------\n\nåºäºwindowsä¸eclipseçmapreduceå¼åç¯å¢éç½® https://www.cnblogs.com/hephaestus/p/12608456.html\n\n\n# mapreduceä»£ç \n\n----------------------------------------\n\nmymapper\n\npackage mrproject;\n\nimport java.io.ioexception;\n\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.longwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.mapper;\n\npublic class mymapper extends mapper<longwritable, text, text, intwritable> {\n\t /**\n     * mapé¶æ®µçä¸å¡é»è¾å¤çå°±åå¨map()æ¹æ³ä¸­\n     * maptaskä¼å¯¹æ¯ä¸è¡è¾å¥æ°æ®è°ç¨ä¸æ¬¡æä»¬èªå®ä¹çmap()æ¹æ³\n     * @throws interruptedexception\n     */\n\t private text word = new text();//textæ¯hadoopéå¯¹å­ç¬¦ä¸²çåºåååè£ç±»\n     private intwritable one = new intwritable(1);//intwritableæ¯hadoopéå¯¹æ´åçåºåååè£ç±»---æ´å¤å³äºhadoopçåºåååè£ç±»è¯·æ¥éç¸å³èµæ\n     \n\t@override\n\tprotected void map(longwritable key, text value, context context)\n\t\t\tthrows ioexception, interruptedexception {\n\t\t//å°maptaskä¼ éç»æä»¬çææ¬åå®¹åè½¬æ¢æstring\n        string line=value.tostring();\n        //æç§ç©ºæ ¼è¡åå²åè¯\n        string[] words=line.split(" ");\n        //å°åè¯è¾åºä¸º<åè¯ï¼1>\n        for(string w:words) {\n            word.set(w);\n           //å°åè¯ä½ä¸ºkeyï¼å°æ¬¡æ°1ä½ä¸ºvalueï¼ä»¥ä¾¿äºåç»­çæ°æ®ååï¼å¯ä»¥æ ¹æ®åè¯ååï¼ä»¥ä¾¿äºç¸ååè¯ä¼å°ç¸åçreduce task\n            context.write(word,one);\n        }\n\t}\n\t\n}\n\n\nmyreducer\n\npackage mrproject;\n\nimport java.io.ioexception;\n\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.reducer;\n\npublic class myreducer extends reducer<text, intwritable, text, intwritable> {\n\t /**\n\t  * reducerä¸­ä¸»è¦çæ¹å¼å°±æ¯reduce,ç¨æ·å¤çmapé¶æ®µäº§ççkey-valueæ°æ®ï¼å¦ä¸æ ·ä¾\n     * <angel,1> <angel,1> <angel,1> <angel,1> <angel,1>\n     * <hello,1> <hello,1> <hello,1> <hello,1> <hello,1> <hello,1>\n     * <banana,1> <banana,1> <banana,1> <banana,1> <banana,1> <banana,1>\n     * å¥åkeyï¼æ¯ä¸ç»åè¯çkvå¯¹åºçkey,å°ç¸ååè¯çä¸ç»ä¼ éï¼å¦æ­¤æ¶keyæ¯helloï¼é£ä¹åæ°äºæ¯ä¸ä¸ªè¿­ä»£å¨ï¼ä¸ç»æ°\n     * @throws interruptedexception\n     * @throws ioexception\n     */\n\tprivate intwritable sum= new intwritable();\n\t@override\n\tprotected void reduce(text key, iterable<intwritable> values,context context) throws ioexception, interruptedexception {\n\t\tint count=0;\n\t     /**\n\t             iterator<intwritable> iterator=values.iterator();\n\t             while(iterator.hasnext()) {\n\t                 count+=iterator.next().get();\n\t             }\n\t     */\n\t\t//æ­¤å¤çvaluesæ¯æä¸ªkeyå¯¹åºçææçvalueï¼ä¾å¦ä¸é¢æ°æ®angelå¯¹åºäº5ä¸ª1\n\t             for(intwritable value:values) {\n\t                 count+=value.get();\n\t             }\n\t             sum.set(count);\n\t             //ä¸ä¸æè¾åº\n\t             context.write(key, sum);\n\t }   \n}\n\n\nmrapp\n\npackage mrproject;\n\nimport java.io.ioexception;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\n\n\npublic class mrapp {\n\tpublic static void main(string[] args) throws illegalargumentexception, ioexception, classnotfoundexception, interruptedexception {\n        //æ­¤å¤ä¸»è¦ç¨äºæ¬å°è¿è¡ï¼å¦æçäº§ç¯å¢ä½¿ç¨shellå½ä»¤è¿è¡ï¼åå½ä»¤ä¸­ä¼æè¾å¥è¾åºç®å½\n        //æ¬å°è¿è¡æ¶ä¸ºäºæ¹ä¾¿æ²¡æç»å°argsï¼æ­¤å¤ä»£ç å¤çä¸ç»ä¸ªé»è®¤å¼\n        if(args.length <2)\n        {\n           args= new string[]{\n                     "hdfs://10.20.10.67:9000/input",\n                     "hdfs://10.20.10.67:9000/output4"\n           };   \n        }\n        configuration conf=new configuration();\n        /*\n         * éç¾¤ä¸­èç¹é½æéç½®æä»¶\n        conf.set("mapreduce.framework.name.", "yarn");\n        conf.set("yarn.resourcemanager.hostname", "mini1");\n        */\n        job job=job.getinstance(conf);\n        //jaråå¨åªé,ç°å¨å¨å®¢æ·ç«¯ï¼ä¼ éåæ°\n        //ä»»æè¿è¡ï¼ç±»å è½½å¨ç¥éè¿ä¸ªç±»çè·¯å¾ï¼å°±å¯ä»¥ç¥éjaråæå¨çæ¬å°è·¯å¾\n        job.setjarbyclass(mrapp.class);\n        //æå®æ¬ä¸å¡jobè¦ä½¿ç¨çmapper/reducerä¸å¡ç±»\n        job.setmapperclass(mymapper.class);\n        job.setreducerclass(myreducer.class);\n        //æå®mapperè¾åºæ°æ®çkvç±»å\n        job.setmapoutputkeyclass(text.class);\n        job.setmapoutputvalueclass(intwritable.class);\n        //æå®æç»è¾åºçæ°æ®kvç±»å\n        job.setoutputkeyclass(text.class);\n        job.setoutputkeyclass(intwritable.class);\n        //æå®jobçè¾å¥åå§æä»¶æå¨ç®å½\n        fileinputformat.setinputpaths(job, new path(args[0]));\n        //æå®jobçè¾åºç»ææå¨ç®å½\n        fileoutputformat.setoutputpath(job, new path(args[1]));\n        //å°jobä¸­éç½®çç¸å³åæ°åjobæç¨çjavaç±»å¨çjaråï¼æäº¤ç»yarnå»è¿è¡\n        //æäº¤ä¹åï¼æ­¤æ¶å®¢æ·ç«¯ä»£ç å°±æ§è¡å®æ¯ï¼éåº\n        //job.submit();\n        //ç­éç¾¤è¿åç»æå¨éåº\n        boolean res=job.waitforcompletion(true);\n        system.exit(res?0:1);\n    }\n}\n\n\n\n# hbaseä»£ç \n\n----------------------------------------\n\nè¡¨æä½(ddl dml)\n\npackage com.hrbu.hbase;\n\nimport java.io.ioexception;\nimport java.util.arraylist;\nimport java.util.list;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.hbase.cell;\nimport org.apache.hadoop.hbase.cellutil;\nimport org.apache.hadoop.hbase.compareoperator;\nimport org.apache.hadoop.hbase.hbaseconfiguration;\nimport org.apache.hadoop.hbase.namespacedescriptor;\nimport org.apache.hadoop.hbase.namespaceexistexception;\nimport org.apache.hadoop.hbase.tablename;\nimport org.apache.hadoop.hbase.client.admin;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptor;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptorbuilder;\nimport org.apache.hadoop.hbase.client.connection;\nimport org.apache.hadoop.hbase.client.connectionfactory;\nimport org.apache.hadoop.hbase.client.delete;\nimport org.apache.hadoop.hbase.client.get;\nimport org.apache.hadoop.hbase.client.put;\nimport org.apache.hadoop.hbase.client.result;\nimport org.apache.hadoop.hbase.client.resultscanner;\nimport org.apache.hadoop.hbase.client.scan;\nimport org.apache.hadoop.hbase.client.table;\nimport org.apache.hadoop.hbase.client.tabledescriptor;\nimport org.apache.hadoop.hbase.client.tabledescriptorbuilder;\nimport org.apache.hadoop.hbase.filter.binarycomparator;\nimport org.apache.hadoop.hbase.filter.comparefilter;\nimport org.apache.hadoop.hbase.filter.filter;\nimport org.apache.hadoop.hbase.filter.keyonlyfilter;\nimport org.apache.hadoop.hbase.filter.prefixfilter;\nimport org.apache.hadoop.hbase.filter.randomrowfilter;\nimport org.apache.hadoop.hbase.filter.rowfilter;\nimport org.apache.hadoop.hbase.filter.valuefilter;\nimport org.apache.hadoop.hbase.regionserver.nosuchcolumnfamilyexception;\nimport org.apache.hadoop.hbase.util.bytes;\n\n/**\n * ddl: 1.å¤æ­è¡¨æ¯å¦å­å¨ 2.åå»ºè¡¨ 3.åå»ºå½åç©ºé´ 4.å é¤è¡¨ \n * dml: 5.æå¥æ°æ® 6.æ¥æ°æ®(get) 7.æ¥æ°æ®(scan) 8.å é¤æ°æ®\n */\npublic class testapi {\n\n\tpublic static connection connect = null;\n\tpublic static admin admin = null;\n\tstatic {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ hbaseconfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tconfiguration conf = hbaseconfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientport", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = connectionfactory.createconnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getadmin();\n\t\t} catch (ioexception e) {\n\t\t\t// todo auto-generated catch block\n\t\t\tsystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printstacktrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\tpublic static void is_exists(string tablename) throws ioexception {\n\t\tif (admin.tableexists(tablename.valueof(tablename))) {\n\t\t\tsystem.out.println(tablename + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\tsystem.out.println(tablename + "è¡¨ä¸å­å¨");\n\t\t}\n\t}\n\n\t// 2.åå»ºè¡¨\n\tpublic static void create_table(string tablename) throws ioexception {\n\t\ttablename tablenametemp = tablename.valueof(tablename);\n\t\tif (admin.tableexists(tablenametemp)) {\n\t\t\tsystem.out.println(tablename + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\ttabledescriptorbuilder tablebuilder = tabledescriptorbuilder.newbuilder(tablenametemp);\n\t\t\t// åæ\n\t\t\tcolumnfamilydescriptor info1 = columnfamilydescriptorbuilder.of("info1");\n\t\t\tcolumnfamilydescriptor info2 = columnfamilydescriptorbuilder.of("info2");\n\t\t\tcolumnfamilydescriptor info3 = columnfamilydescriptorbuilder.of("info3");\n\t\t\tlist<columnfamilydescriptor> cflist = new arraylist<columnfamilydescriptor>();\n\t\t\tcflist.add(info1);\n\t\t\tcflist.add(info2);\n\t\t\tcflist.add(info3);\n\t\t\ttablebuilder.setcolumnfamilies(cflist);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\ttabledescriptor tabledesc = tablebuilder.build();\n\t\t\tadmin.createtable(tabledesc);\n\t\t\tsystem.out.println(tablename + "\\tè¡¨åå»ºæå");\n\t\t}\n\t}\n\n\t// 3.åå»ºå½åç©ºé´\n\tpublic static void create_namespace(string namespace) {\n\t\t// åå»ºå½åç©ºé´æè¿°å¨\n\t\tnamespacedescriptor descriptor = namespacedescriptor.create(namespace).build();\n\t\t//åå»ºå½åç©ºé´\n\t\ttry {\n\t\t\tadmin.createnamespace(descriptor);\n\t\t} catch(namespaceexistexception e) {\n\t\t\tsystem.out.println(namespace + "å½åç©ºé´å·²å­å¨");\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t\tsystem.out.println("--æä¼è¢«æ§è¡å--");\n\t}\n\t// 4.å é¤è¡¨\n\tpublic static void drop_table(string tablename) throws ioexception {\n\t\ttablename tablenametemp = tablename.valueof(tablename);\n\t\tif (admin.tableexists(tablenametemp)) {\n\t\t\tadmin.disabletable(tablenametemp);\n\t\t\tadmin.deletetable(tablenametemp);\n\t\t\tsystem.out.println("è¡¨" + tablename + "å é¤æåï¼ ");\n\t\t} else {\n\t\t\tsystem.out.println("è¡¨" + tablename + "ä¸å­å¨ï¼ ");\n\t\t}\n\t}\n\t// 5.æå¥æ°æ®\n\tpublic static void put_data(string tablename, string rowkey, string columnfamily, string column, string value) {\n\t\ttable table = null;\n\t\ttry {\n\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\tput put = new put(bytes.tobytes(rowkey));\n\t\t\tput.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column), bytes.tobytes(value));\n\t\t\ttable.put(put);\n\t\t} catch(nosuchcolumnfamilyexception e){\n\t\t\tsystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t}finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (ioexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t\tsystem.out.println("æ°æ®æå¥æå");\n\t\t\n\t}\n\t// 6.æ¥æ°æ®(get)\n\tpublic static void get_data(string tablename, string rowkey, string columnfamily, string column) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\t//get.addfamily(bytes.tobytes(columnfamily));\n\t\tget.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + "--" + columnfamily + "--" + column + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_data(string tablename, string rowkey, string columnfamily) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\tget.addfamily(bytes.tobytes(columnfamily));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + "--" + columnfamily + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_data(string tablename, string rowkey) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_cells(cell[] cells) {\n\t\tfor (cell tempcell : cells) {\n\t\t\tsystem.out.println(bytes.tostring(cellutil.clonerow(tempcell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + bytes.tostring(cellutil.clonefamily(tempcell)) + ":" +  bytes.tostring(cellutil.clonequalifier(tempcell))\n\t\t\t\t\t+ ",timestamp=" + tempcell.gettimestamp() \n\t\t\t\t\t+ ", value=" + bytes.tostring(cellutil.clonevalue(tempcell)) );\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_cells2(cell[] cells) {\n\t\tstringbuilder sb = new stringbuilder();\n\t\tfor (cell cell : cells) {\n\t\t\tstring column = bytes.tostring(cell.getqualifierarray(), cell.getqualifieroffset(), cell.getqualifierlength());\n\t\t\tstring value = bytes.tostring(cell.getvaluearray(),cell.getvalueoffset(),cell.getvaluelength());\n\t\t\tsb.append(column).append(":").append(value).append(";\\t");\n\t\t}\n\t\tsystem.out.println(sb.tostring());\n\t}\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_data(string tablename) {\n\t\ttable table = null;\n\t\ttry {\n\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\tresultscanner results = table.getscanner(new scan());\n\t\t\tsystem.out.println(tablename + "è¡¨\\nrow\\t\\tcolumn+cell");\n\t\t\tfor (result result : results) {\n\t\t\t\tcell[] cells = result.rawcells();\n\t\t\t\tprint_cells(cells);\n\t\t\t}\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (ioexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t}\n\t// 7.2 æ¥æ°æ®(scan + filter)\n\tpublic static void filter_data(string tablename, filter filter, int limit) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\tscan scan = new scan().setfilter(filter).setlimit(limit);\n\t\tresultscanner resultscan = table.getscanner(scan);\n\t\tsystem.out.println(tablename + "è¡¨(filter)\\nrow\\t\\tcolumn+cell");\n\t\tfor (result result : resultscan) {\n\t\t\tcell[] cells = result.rawcells();\n\t\t\tprint_cells(cells);\n\t\t}\n\t\ttable.close();\n\t}\n\t// 8. å é¤å¤è¡æ°æ®\n\tpublic static void delete_data(string tablename, string... rows) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t//delete delete = new delete(bytes.tobytes(rowkey));\n\t\tlist<delete> deletelist = new arraylist<delete>();\n\t\tfor (string row:rows) {\n\t\t\tdelete delete = new delete(bytes.tobytes(row));\n\t\t\tdeletelist.add(delete);\n\t\t}\n\t\ttable.delete(deletelist);\n\t\ttable.close();\n\t\tsystem.out.println("å é¤æå");\n\t}\n\t// 8.1 å é¤ååæ ¼(cell)æ°æ®\n\tpublic static void delete_cell(string tablename,  string rowkey, string columnfamily, string column ) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\tdelete delete = new delete(bytes.tobytes(rowkey));\n\t\tdelete.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column));\t\t//å é¤æåä¸çæ¬\n\t\t//delete.addcolumns(bytes.tobytes(columnfamily), bytes.tobytes(column));\t\t//å é¤ææçæ¬\n\t\ttable.delete(delete);\n\t\ttable.close();\n\t}\n\n\tpublic static void main(string[] args) throws ioexception {\n\t\tsystem.out.println("============================start=========================");\n\t\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\t\t//is_exists("student");\n\t\t\n\t\t// 3.åå»ºå½åç©ºé´\n\t\t//create_namespace("std");\n\t\t\n\t\t// 2.åå»ºè¡¨\n\t\t//create_table("std:stu");\n\t\t\n\t\t// 4.å é¤è¡¨\n\t\t//drop_table("std:stu");\n\t\t\n\t\t// 5.æå¥æ°æ®\n\t\t//put_data("std:stu", "1003", "info1", "addr", "beijing");\n\t\t//put_data("std:stu", "1004", "info1", "sex", "ç·");\n\t\t//put_data("std:stu", "1005", "info1", "class", "2");\n\t\t\n\t\t// 6.æ¥æ°æ®(get)\n\t\tget_data("std:stu", "1002");\n\t\tget_data("std:stu", "1002", "info1");\n\t\t\n\t\t// 7.æ¥æ°æ®(scan)\n\t\tscan_data("std:stu");\n\t\t\n\t\t// 7.1 æ¥æ°æ®(scan + filter)\n\t\t//filter_data("std:stu", new prefixfilter(bytes.tobytes("100")), 10);\t//ç­éåºè¡é®ä»¥rowä¸ºåç¼çææçè¡\n\t\t//filter_data("std:stu", new randomrowfilter((float) 0.2), 10);\t//æç§ä¸å®çå çï¼<=0ä¼è¿æ»¤æææçè¡ï¼>=1ä¼åå«ææçè¡ï¼æ¥è¿åéæºçç»æé\n\t\t//filter_data("std:stu", new keyonlyfilter(), 10); // è¿åææçè¡ï¼ä½å¼å¨æ¯ç©º \n\t\t//  ç­éåºå¹éçææçè¡  \n\t\tfilter_data("std:stu", new rowfilter(comparefilter.compareop.less, new binarycomparator(bytes.tobytes("1002"))), 10);\n\t\t\n\t\t// 8. å é¤å¤è¡æ°æ®æ°æ®\n\t\t//delete_data("std:stu", "1003","1004");\n\t\t\n\t\t// 8.1å é¤ååæ ¼æ°æ®\n\t\t//delete_cell("std:stu", "1005", "info1", "name");\n\t\t\n\t\tscan_data("std:stu");\n\t\t\n\t\tsystem.out.println("============================end==========================");\n\t\t// end:å³é­èµæºåè¿æ¥\n\t\tclose();\n\t}\n\n}\n\n\n\n# mysqlæ°æ®æå¥å°hbase\n\n----------------------------------------\n\næå¥hbase\n\npackage com.hrbu.hbase;\n\nimport java.io.ioexception;\nimport java.util.list;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.hbase.cell;\nimport org.apache.hadoop.hbase.cellutil;\nimport org.apache.hadoop.hbase.hbaseconfiguration;\nimport org.apache.hadoop.hbase.tablename;\nimport org.apache.hadoop.hbase.client.admin;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptor;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptorbuilder;\nimport org.apache.hadoop.hbase.client.connection;\nimport org.apache.hadoop.hbase.client.connectionfactory;\nimport org.apache.hadoop.hbase.client.put;\nimport org.apache.hadoop.hbase.client.result;\nimport org.apache.hadoop.hbase.client.resultscanner;\nimport org.apache.hadoop.hbase.client.scan;\nimport org.apache.hadoop.hbase.client.table;\nimport org.apache.hadoop.hbase.client.tabledescriptor;\nimport org.apache.hadoop.hbase.client.tabledescriptorbuilder;\nimport org.apache.hadoop.hbase.regionserver.nosuchcolumnfamilyexception;\nimport org.apache.hadoop.hbase.util.bytes;\n\npublic class sqoop_hbase {\n\tpublic static connection connect = null;\n\tpublic static admin admin = null;\n\tpublic static void init() {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ hbaseconfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tconfiguration conf = hbaseconfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientport", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = connectionfactory.createconnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getadmin();\n\t\t} catch (ioexception e) {\n\t\t\t// todo auto-generated catch block\n\t\t\tsystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printstacktrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t}\n\t\n\t// æå¥æ°æ®\n\tpublic static void put_data(string tablename, string columnfamily,list<staff> list) throws ioexception {\n\t\t\n\t\tif(admin.tableexists(tablename.valueof(tablename))) {\n\t\t\tsystem.out.println(tablename + "è¡¨å·²ç»å­å¨");\n\t\t}else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\ttabledescriptorbuilder tablebuilder = tabledescriptorbuilder.newbuilder(tablename.valueof(tablename));\n\t\t\t// åæ\n\t\t\tcolumnfamilydescriptor info1 = columnfamilydescriptorbuilder.of(columnfamily);\n\t\t\ttablebuilder.setcolumnfamily(info1);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\ttabledescriptor tabledesc = tablebuilder.build();\n\t\t\tadmin.createtable(tabledesc);\n\t\t\tsystem.out.println(tablename + "\\tè¡¨åå»ºæå");\n\t\t\t\n\t\t\ttable table = null;\n\t\t\ttry {\n\t\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\t\tfor (int i = 0; i < list.size(); i++) {\n\t\t\t\t\t//è§£å³æ°å­(int doubleä¹±ç ) åè½¬å­ç¬¦,åè½¬å­ç¬¦æ°ç»\n\t\t\t\t\tput put = new put(bytes.tobytes(string.valueof(list.get(i).getid())));\n\t\t\t\t\t//æ±å­ä¹±ç è¯¥æä¹è§£å³(å°utf-8çæ±å­è½¬æ¢æunicodeæ ¼å¼æ±å­ç   ä¸å¥½ä½¿)\n\t\t\t\t\tput.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes("name"), bytes.tobytes(list.get(i).getname()));\n\t\t\t\t\tput.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes("sex"), bytes.tobytes(list.get(i).getsex()));\n\t\t\t\t\ttable.put(put);\n\t\t\t\t}\n\t\t\t} catch(nosuchcolumnfamilyexception e){\n\t\t\t\tsystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t\t} catch (ioexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}finally {\n\t\t\t\ttry {\n\t\t\t\t\tif(table!=null) {\n\t\t\t\t\t\ttable.close();\n\t\t\t\t\t}\n\t\t\t\t} catch (ioexception e) {\n\t\t\t\t\te.printstacktrace();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//å¤é¨è°ç¨çæ¹æ³(ç®æ¯å°è£å¥½ç)\n\tpublic static void main_use(string tablename, string columnfamily,list<staff> list){\n\t\tinit();\n\t\ttry {\n\t\t\tput_data(tablename, columnfamily, list);\n\t\t\tscan_data(tablename);\n\t\t} catch (ioexception e) {\n\t\t\t//e.printstacktrace();\n\t\t\tsystem.out.println("adminå¼å¸¸");\n\t\t}finally {\n\t\t\tclose();\n\t\t}\n\t\tsystem.out.println("æå¥æ°æ®æå");\n\t}\n\t\n\t\n\t/****************************ä»¥ä¸ä¸ºå¤ä½ä»£ç *****************************************/\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_data(string tablename) {\n\t\ttable table = null;\n\t\ttry {\n\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\tresultscanner results = table.getscanner(new scan());\n\t\t\tsystem.out.println(tablename + "è¡¨\\nrow\\t\\tcolumn+cell");\n\t\t\tfor (result result : results) {\n\t\t\t\tcell[] cells = result.rawcells();\n\t\t\t\tprint_cells(cells);\n\t\t\t}\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (ioexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_cells(cell[] cells) {\n\t\tfor (cell tempcell : cells) {\n\t\t\tsystem.out.println(bytes.tostring(cellutil.clonerow(tempcell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + bytes.tostring(cellutil.clonefamily(tempcell)) + ":" +  bytes.tostring(cellutil.clonequalifier(tempcell))\n\t\t\t\t\t+ ",timestamp=" + tempcell.gettimestamp() \n\t\t\t\t\t+ ", value=" + bytes.tostring(cellutil.clonevalue(tempcell)) );\n\t\t}\n\t}\n\t /**\n     * 1å°utf-8çæ±å­è½¬æ¢æunicodeæ ¼å¼æ±å­ç \n     * @param string\n     * @return\n     */\n    public static string stringtounicode(string string) {\n\n        stringbuffer unicode = new stringbuffer();\n        for (int i = 0; i < string.length(); i++) {\n            char c = string.charat(i);\n            unicode.append("\\\\u" + integer.tohexstring(c));\n        }\n        string str = unicode.tostring();\n\n        return str.replaceall("\\\\\\\\", "0x");\n    }\n\n    /**\n     * 2å°unicodeçæ±å­ç è½¬æ¢æutf-8æ ¼å¼çæ±å­\n     * @param unicode\n     * @return\n     */\n    public static string unicodetostring(string unicode) {\n\n        string str = unicode.replace("0x", "\\\\");\n\n        stringbuffer string = new stringbuffer();\n        string[] hex = str.split("\\\\\\\\u");\n        for (int i = 1; i < hex.length; i++) {\n            int data = integer.parseint(hex[i], 16);\n            string.append((char) data);\n        }\n        return string.tostring();\n    }\n\n}\n\n\nè¯»mysql\n\npackage com.hrbu.hbase;\n\nimport java.sql.connection;\nimport java.sql.drivermanager;\nimport java.sql.resultset;\nimport java.sql.sqlexception;\nimport java.sql.statement;\nimport java.util.arraylist;\nimport java.util.list;\n\n\npublic class sqoop_mysql {\n\tpublic static connection connect = null;\n\t\n\tpublic static void init() {\n\t\t//é©±å¨ç¨åºå\n\t\tstring driver = "com.mysql.cj.jdbc.driver";\n\t\t//urlæåè¦è®¿é®çæ°æ®åºå\n\t\tstring url = "jdbc:mysql://hadoop1:3306/company?useunicode=true&characterencoding=utf-8&usessl=false";\n\t\t//mysqléç½®æ¶çç¨æ·å\n\t\tstring username = "root";\n\t\t//å¯ç \n\t\tstring password = "123456789";\n\t\t\n\t\ttry {\n\t\t\t//å è½½é©±å¨ç¨åº\n\t\t\tclass.forname(driver);\n\t\t\tconnect = drivermanager.getconnection(url,username,password);\n\t\t\tif (!connect.isclosed()) {\n                system.out.println("æ°æ®åºè¿æ¥æå");\n            }\n\t\t} catch (classnotfoundexception|sqlexception e) {\n\t\t\te.printstacktrace();\n\t\t} \n\t}\n\t\n\tpublic static void close(){\n\t\tif(connect!=null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (sqlexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static list<staff> selectallfromstaff() {\n\t\t//å®ä¾åstatementå¯¹è±¡\n\t\tlist<staff> list = new arraylist<staff>();\n\t\tstatement stmt = null;\n\t\ttry {\n\t\t\tstmt = connect.createstatement();\n\t\t\tstring sql = "select * from staff";\n\t\t\tresultset resultset = stmt.executequery(sql);\n\t\t\twhile(resultset.next()) {\n\t\t\t\tstaff staff = new staff();\n\t\t\t\tstaff.setid(resultset.getint("id"));\n\t\t\t\tstaff.setname(resultset.getstring("name"));\n\t\t\t\tstaff.setsex(resultset.getstring("sex"));\n\t\t\t\tlist.add(staff);\n\t\t\t}\n\t\t\t\n\t\t} catch (sqlexception e) {\n\t\t\te.printstacktrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(stmt!=null) {\n\t\t\t\t\tstmt.close();\n\t\t\t\t}\n\t\t\t} catch (sqlexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t}\n\t\n\tpublic static void print(list<staff> list) {\n\t\tfor (int i = 0; i < list.size(); i++) {\n\t\t\tsystem.out.println(list.get(i).getid() + "\\t" +list.get(i).getname() + "\\t" + list.get(i).getsex());\n\t\t}\n\t}\n\t//å¤é¨è°ç¨çæ¹æ³(ç®æ¯å°è£å¥½ç)\n\tpublic static list<staff> main_use() {\n\t\tinit();\n\t\tlist<staff> list = selectallfromstaff();\n\t\tclose();\n\t\treturn list;\n\t}\n}\n\nclass staff {\n\tint id;\n\tstring name;\n\tstring sex;\n\tpublic int getid() {\n\t\treturn id;\n\t}\n\tpublic void setid(int id) {\n\t\tthis.id = id;\n\t}\n\tpublic string getname() {\n\t\treturn name;\n\t}\n\tpublic void setname(string name) {\n\t\tthis.name = name;\n\t}\n\tpublic string getsex() {\n\t\treturn sex;\n\t}\n\tpublic void setsex(string sex) {\n\t\tthis.sex = sex;\n\t}\n}\n\n\nimport java.util.list;\n\npublic class sqoop_test {\n\tpublic static void main(string[] args) {\n\t\tlist<staff> list = sqoop_mysql.main_use();\n\t\tsqoop_hbase.main_use("staff", "info", list);\n\t}\n}\n\n\npackage com.hrbu.hbase;\n\nimport java.io.ioexception;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.hbase.hbaseconfiguration;\nimport org.apache.hadoop.hbase.tablename;\nimport org.apache.hadoop.hbase.client.admin;\nimport org.apache.hadoop.hbase.client.connection;\nimport org.apache.hadoop.hbase.client.connectionfactory;\n\npublic class test {\n\n\tpublic static void main(string[] args) throws ioexception {\n\t\t// todo auto-generated method stub\n\t\tconfiguration conf = null;\n\t\tconf = hbaseconfiguration.create();\n\t\tconf.set("hbase.zookeeper.quorum", "192.168.1.100");\n\t\tconf.set("hbase.zookeeper.property.clientport", "2181");\n\t\tsystem.out.println("11111111111111111111");\n\t\t//2. åå»ºè¿æ¥å¯¹è±¡\n\t\tconnection connect = null;\n\t\tconnect = connectionfactory.createconnection(conf);\n\t\tsystem.out.println("22222222222222222222");\n\t\t//3. è·åç®¡çåå¯¹è±¡\n\t\tadmin admin = connect.getadmin();\n\t\tsystem.out.println("333333333333333333333" + admin + "333" + connect);\n\t\t//system.out.println(admin.tableexists(tablename.valueof("student")));\n\t\tif(admin.tableexists(tablename.valueof("student"))) {\n\t\t\tsystem.out.println("è¡¨å·²ç»å­å¨");\n\t\t}else {\n\t\t\tsystem.out.println("è¡¨ä¸å­å¨");\n\t\t}\n\t\tsystem.out.println("44444444444444444444");\n\t\tadmin.close();\n\t\tconnect.close();\n\t}\n\n}\n\n\n\n# hiveä»£ç \n\n----------------------------------------\n\nè¡¨æä½\n\npackage com.hrbu.hive;\n\nimport java.sql.connection;\nimport java.sql.drivermanager;\nimport java.sql.resultset;\nimport java.sql.sqlexception;\nimport java.sql.statement;\n\nimport org.junit.after;\nimport org.junit.before;\nimport org.junit.test;\n\npublic class clustertestapi {\n\t\n\t//é©±å¨åç§°\n\tprivate static string drivername = "org.apache.hive.jdbc.hivedriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static string url = "jdbc:hive2://8.8.8.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static string user = "banana";\n\tprivate static string password = "";\n\t\n\tprivate static connection conn = null;\n\tprivate static statement stmt = null;\n\tprivate static resultset rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tclass.forname(drivername);\n\t\t\tconn = drivermanager.getconnection(url,user,password);\n\t\t\tstmt = conn.createstatement();\n\t\t} catch (exception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@after //è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws sqlexception {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@test\n\tpublic void create_database() throws sqlexception {\n\t\tstring sql = "create database if not exists hive_jdbc_test";\t//create database if not exists hive_jdbc_test\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@test\n\tpublic void create_studenttable() throws sqlexception {\n\t\t//string sql0 = "use hive_jdbc_test";\n\t\tstring sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tsystem.out.println("running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@test\n\tpublic void show_databases() throws sqlexception {\n\t\tstring sql = "show databases";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@test\n\tpublic void show_tables() throws sqlexception {\n\t\tstring sql = "show tables";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@test\n\tpublic void load_data() throws sqlexception {\n\t\t//linuxè·¯å¾\n\t\tstring filepath = " \'/soft/module/datas/short-student-utf8.txt\' ";\n\t\tstring sql = "load data local inpath" + filepath + "overwrite into table student";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@test\n\tpublic void select_data() throws sqlexception {\n\t\tstring sql = "select * from test_db.student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\tsystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring("code") + "\\t" + rs.getstring("name") + "\\t" + rs.getstring("gender") + "\\t" + rs.getstring("school") + "\\t" + rs.getstring("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@test\n\tpublic void count_data() throws sqlexception {\n\t\tstring sql = "select count(*) from test_db.student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\tsystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getint(1));\n\t\t}\n\t}\n\t//å é¤è¡¨\n\t@test\n\tpublic void drop_table() throws sqlexception {\n\t\tstring sql = "drop table student";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("drop table success");\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@test\n\tpublic void drop_database() throws sqlexception {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//string sql = "drop database if exists hive_jdbc_test cascade";\n\t\tstring sql = "drop database if exists hive_jdbc_test";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("drop database success");\n\t}\n\t\n\tpublic static void main(string[] args) throws sqlexception {\n\t\tclustertestapi test = new clustertestapi();\n\t\ttest.drop_database();\n\t}\n}\n\n\npackage com.hrbu.hive;\n\nimport java.sql.connection;\nimport java.sql.drivermanager;\nimport java.sql.resultset;\nimport java.sql.sqlexception;\nimport java.sql.statement;\n\nimport org.junit.after;\nimport org.junit.before;\nimport org.junit.test;\n\n\n\npublic class teatapi {\n\t\n\t//é©±å¨åç§°\n\tprivate static string drivername = "org.apache.hive.jdbc.hivedriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static string url = "jdbc:hive2://192.168.1.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static string user = "root";\n\tprivate static string password = "";\n\t\n\tprivate static connection conn = null;\n\tprivate static statement stmt = null;\n\tprivate static resultset rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tclass.forname(drivername);\n\t\t\tconn = drivermanager.getconnection(url,user,password);\n\t\t\tstmt = conn.createstatement();\n\t\t} catch (exception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@after //è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws sqlexception {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@test\n\tpublic void create_database() throws sqlexception {\n\t\tstring sql = "create database if not exists hive_jdbc_test";\t//create database if not exists hive_jdbc_test\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@test\n\tpublic void create_studenttable() throws sqlexception {\n\t\t//string sql0 = "use hive_jdbc_test";\n\t\tstring sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tsystem.out.println("running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@test\n\tpublic void show_databases() throws sqlexception {\n\t\tstring sql = "show databases";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@test\n\tpublic void show_tables() throws sqlexception {\n\t\tstring sql = "show tables";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@test\n\tpublic void load_data() throws sqlexception {\n\t\t//linuxè·¯å¾\n\t\tstring filepath = "\'/soft/datas/short-student-utf8.txt\'";\n\t\tstring sql = "load data local inpath" + filepath + "overwrite into table test_db.student";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@test\n\tpublic void select_data() throws sqlexception {\n\t\tstring sql = "select * from test_db.student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\tsystem.out.println("å­¦å·\\t\\t\\tå§å\\tæ§å«\\tå­¦æ ¡\\t\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring("code") + "\\t" + rs.getstring("name") + "\\t" + rs.getstring("gender") + "\\t" + rs.getstring("school") + "\\t" + rs.getstring("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@test\n\tpublic void count_data() throws sqlexception {\n\t\tstring sql = "select count(*) from test_db.student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getint(1));\n\t\t}\n\t}\n\t//å é¤è¡¨\n\t@test\n\tpublic void drop_table() throws sqlexception {\n\t\tstring sql = "drop table student";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("drop table success");\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@test\n\tpublic void drop_database() throws sqlexception {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//string sql = "drop database if exists flume_hive cascade";\n\t\tstring sql = "drop database if exists hive_jdbc_test";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("drop database success");\n\t}\n\t\n\tpublic static void main(string[] args) throws sqlexception {\n\t\tnew teatapi().drop_database();\n\t}\n}\n\n\nudf\n\npackage com.hrbu.hive;\n\n\nimport org.apache.commons.lang3.stringutils;\nimport org.apache.hadoop.hive.ql.exec.udf;\nimport org.apache.hadoop.io.text;\n\npublic class genderudf extends udf {\n\t/**\n\t * æ¹æ³åå¿é¡»æ¯evaluate,hiveæ§è¡æ¶ä¼æ¾å®\n\t * ä¸å¡é»è¾ä¸º:å¤æ­è¾å¥å¼,"m"è¿åç·,"f"è¿åå¥³,å¦åè¿åæªç¥\n\t * \n\t */\n\tpublic text evaluate(text text) {\n\t\tstring textstr = text.tostring();\n\t\tif(stringutils.isnotempty(textstr)) {\n\t\t\tif(textstr.equalsignorecase("m")) {\n\t\t\t\treturn new text("ç·");\n\t\t\t}else if(textstr.equalsignorecase("f")){\n\t\t\t\treturn new text("å¥³");\n\t\t\t}else {\n\t\t\t\treturn new text("æªç¥");\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n\n\n# redisapi\n\n----------------------------------------\n\npackage com.hrbu.redisapi;\n\nimport java.util.hashmap;\n\nimport redis.clients.jedis.jedis;\n\n/**\n * hello world!\n *\n */\npublic class app \n{\n    public static void main( string[] args )\n    {\n    \tjedis jedis = new jedis("8.8.8.8",6379);\n    \t//jedis.flushall();\n        //system.out.println( "hello world!" + jedis.ping());\n        /*****1.å­ç¬¦ä¸²(string)*****/\n//    \tjedis.set("name1", "aaa");\n//        system.out.println(jedis.get("name1"));\n//    \tjedis.del("name1");\n//    \t\n//    \tjedis.mset("name1","aaa","name2","bbb","name3","ccc");\n//    \tsystem.out.println(jedis.mget("name1","name2","name3"));\n//    \t\n//    \tsystem.out.println(jedis.exists("name1"));\n//    \tsystem.out.println(jedis.exists("name","name0","name1","name2","name3"));\n//    \tsystem.out.println(jedis.keys("*"));\n//    \tsystem.out.println(jedis.type("name1"));\n//    \tsystem.out.println(jedis.randomkey());\n//    \tsystem.out.println(jedis.flushdb());\n//    \tsystem.out.println(jedis.get("name1"));\n//    \tsystem.out.println(jedis.flushall());\n//    \tsystem.out.println(jedis.randomkey());\n    \t\n    \t/****2.åå¸(hash)******/\n    \t/*\n    \thashmap<string,string> hmap = new hashmap<string,string>();\n    \thmap.put("name5", "eee");\n    \thmap.put("name4", "ddd");\n    \thmap.put("id", "666");\n    \t// è®¾ç½®å¼\n    \tjedis.hset("user", "name6", "fff");\n    \tjedis.hmset("user", hmap);\n    \t// åå¼\n    \tsystem.out.println("hget:\\t" + jedis.hget("user", "name4"));\n    \tsystem.out.println("hmget:\\t" + jedis.hmget("user", "name4","name5","name6"));\n    \tsystem.out.println("hgetall:\\t" + jedis.hgetall("user"));\n    \tsystem.out.println("keys:\\t" + jedis.keys("*"));\n    \tsystem.out.println("hkeys:\\t" + jedis.hkeys("user"));\n    \tsystem.out.println("hvals:\\t" + jedis.hvals("user"));\n    \tsystem.out.println("hlen:\\t" + jedis.hlen("user"));\n    \t// å é¤field\n    \tsystem.out.println("hdel\\t" + jedis.hdel("user","name4"));\n    \tsystem.out.println("hdel\\t" + jedis.hdel("user","name5","name6"));\n    \tsystem.out.println(jedis.hgetall("user"));\n    \t// æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \tsystem.out.println(jedis.hgetall("user"));\n    \t*/\n\n    \t\n    \t/*******3.åè¡¨list(ç±»ä¼¼äºæ ???)*********/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.lpushx("list", "999");\n    \tjedis.lpush("list", "hhh","ggg","iii");\t\t//1æå¤å°  å¼å§\n    \tjedis.rpush("list", "kkk","jjj");\t\t\t//1æå¤å°  æ«å°¾\n    \tjedis.lpushx("list", "666");\t\t\t\t// æå¥å·²å­å¨åè¡¨å¤´é¨\n    \t// åå¼\n    \tsystem.out.println(jedis.lrange("list", 0, 10));\t//è·åæå®èå´åç´ \n    \tsystem.out.println(jedis.blpop("list","5"));\t\t//ç§»åº ç¬¬ä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tsystem.out.println(jedis.brpop("list", "5"));\t\t//ç§»åº æåä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tsystem.out.println(jedis.lindex("list", 3));\t\t//ç´¢å¼è·ååç´ \n    \tsystem.out.println(jedis.llen("list"));\t\t\t\t//è·ååè¡¨é¿åº¦\n    \tsystem.out.println(jedis.lrange("list", 0, 10));\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t*/\n    \t\n    \t\n    \t/********4.éå(set)****************/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.sadd("set", "lll", "nnn", "mmm" ,"ooo");\n    \t// åå¼\n    \tsystem.out.println(jedis.smembers("set"));\t\t// ææåç´ \n    \tsystem.out.println(jedis.sismember("set", "ooo"));\t\t\t// key(value)æ¯å¦å­å¨\n    \tsystem.out.println(jedis.sismember("sett", "ooo"));\n    \tsystem.out.println(jedis.srem("set","ooo","mmm"));\t\t// ç§»é¤\n    \tsystem.out.println(jedis.smembers("set"));\n    \t// è¿ç®\n    \tjedis.sadd("set", "set");\n    \tjedis.sadd("sett", "lll", "nnn", "mmm", "ooo", "sett");\n    \tsystem.out.println(jedis.sinter("set", "sett"));\t\t// äº¤é\n    \tsystem.out.println(jedis.sdiff("set", "sett"));\t\t\t// å·®é\n    \tsystem.out.println(jedis.sunion("set", "sett"));\t\t// å¹¶é\n    \t\n    \tsystem.out.println(jedis.scard("set"));\t\t// åç´ æ°ç®\n    \tsystem.out.println(jedis.scard("sett"));\t\t// åç´ æ°ç®\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t*/\n    \t\n    \t/********5.æåºéåsorted set(zset)*************/\n    \thashmap<string,double> scoremap = new hashmap<string, double>(); \n    \tscoremap.put("vvv", 0.22);\n    \tscoremap.put("ppp", 0.16);\n    \tscoremap.put("sss", 0.19);\n    \tscoremap.put("qqq", 0.17);\n    \tscoremap.put("www", 0.23);\n    \tscoremap.put("rrr", 0.18);\n    \tscoremap.put("uuu", 0.21);\n    \tscoremap.put("ttt", 0.20);\n    \t// æ¾å¼\n    \tjedis.zadd("zset", scoremap);\t\t// æ·»å åç´ ææ´æ°åæ°\n    \tjedis.zadd("zset", 0.24, "xxx");\n    \t// åç´ æ¥æ¾ä¿®æ¹\n    \tsystem.out.println(jedis.zrange("zset", 0, 10));\t\t// æ ¹æ®ç´¢å¼è¿ååºé´\n    \tsystem.out.println(jedis.zcount("zset", 0.18, 0.21));\t\t// æ ¹æ®åæ°è¿ååç´ æ°\n    \tsystem.out.println(jedis.zrem("zset", "sss", "ppp"));\t\t// ç§»é¤åç´ \n    \tsystem.out.println(jedis.zcard("zset"));\t\t\t\t\t// åç´ æ°ç®\n    \tsystem.out.println(jedis.zincrby("zset", 1, "www"));\t\t// åæ°å¢é\n    \tsystem.out.println(jedis.zscore("zset", "www"));\t\t// è¿ååæ°å¼\n    \tsystem.out.println(jedis.zrank("zset", "www"));\t\t// è¿ååç´ ç´¢å¼\n    \tsystem.out.println(jedis.zrangebyscore("zset", 0, 2));\t\t// æ ¹æ®åæ°è¿ååç´ åºé´\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t\n    \t\n        jedis.close();\n    }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/08/11, 00:48:36",lastUpdatedTimestamp:1660150116e3},{title:"Zookeeperéç¾¤æ­å»º",frontmatter:{title:"Zookeeperéç¾¤æ­å»º",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/e2226d/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/01.Zookeeper%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/02.Zookeeper/01.Zookeeperéç¾¤æ­å»º.md",key:"v-5063a9cb",path:"/pages/e2226d/",headers:[{level:2,title:"å³äºZookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ°",slug:"å³äºzookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ°",normalizedTitle:"å³äºzookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ°",charIndex:416},{level:2,title:"1. è§£åå®è£:",slug:"_1-è§£åå®è£",normalizedTitle:"1. è§£åå®è£:",charIndex:1183},{level:2,title:"2.\téç½®",slug:"_2-éç½®",normalizedTitle:"2.\téç½®",charIndex:null},{level:2,title:"3.\téç¾¤å¯å¨ æµè¯æå¡",slug:"_3-éç¾¤å¯å¨-æµè¯æå¡",normalizedTitle:"3.\téç¾¤å¯å¨ æµè¯æå¡",charIndex:null},{level:2,title:"4.\tHAæéèªå¨è½¬æ¢",slug:"_4-haæéèªå¨è½¬æ¢",normalizedTitle:"4.\thaæéèªå¨è½¬æ¢",charIndex:null},{level:3,title:"1)\tä¿®æ¹éç¾¤ææèç¹(NameNodeåDataNode)çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶:",slug:"_1-ä¿®æ¹éç¾¤ææèç¹-namenodeådatanode-çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶",normalizedTitle:"1)\tä¿®æ¹éç¾¤ææèç¹(namenodeådatanode)çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶:",charIndex:null},{level:3,title:"2)\tå¯å¨æµè¯",slug:"_2-å¯å¨æµè¯",normalizedTitle:"2)\tå¯å¨æµè¯",charIndex:null}],headersStr:"å³äºZookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ° 1. è§£åå®è£: 2.\téç½® 3.\téç¾¤å¯å¨ æµè¯æå¡ 4.\tHAæéèªå¨è½¬æ¢ 1)\tä¿®æ¹éç¾¤ææèç¹(NameNodeåDataNode)çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶: 2)\tå¯å¨æµè¯",content:'è¿ä¸ªæ¯å¨ä¹åçåºç¡ä¸æ­å»º hadoopå®å¨åå¸å¼æ­å»º:https://www.cnblogs.com/Hephaestus/p/12213719.html hadoopé«å¯ç¨æ­å»º:https://www.cnblogs.com/Hephaestus/p/12420370.html éç¾¤è§å:\n\n            NAMENODE   DATANODE   JOURNALNODE   ZOOKEEPER(å¿é¡»ä¸ºå¥æ°)\nhadoop100   æ¯(nn2)                              \nhadoop101   æ¯(nn1)     æ¯          æ¯             æ¯\nhadoop102              æ¯          æ¯             æ¯\nhadoop103              æ¯          æ¯             æ¯\n\n\n# å³äºZookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ°\n\n(åèé¾æ¥:https://www.cnblogs.com/ysocean/p/9860529.html#_label0)\n\n * å®¹éç éè¦ä¿è¯éç¾¤è½å¤æåæ°è¿è¡æç¥¨\n\n> 2å°æå¡å¨ï¼è³å°2å°æ­£å¸¸è¿è¡æè¡ï¼2çåæ°ä¸º1ï¼åæ°ä»¥ä¸æå°ä¸º2ï¼ï¼æ­£å¸¸è¿è¡1å°æå¡å¨é½ä¸åè®¸ææï¼ä½æ¯ç¸å¯¹äº åèç¹æå¡å¨ï¼2å°æå¡å¨è¿æä¸¤ä¸ªåç¹æéï¼æä»¥ç´æ¥æé¤äºã 3å°æå¡å¨ï¼è³å°2å°æ­£å¸¸è¿è¡æè¡ï¼3çåæ°ä¸º1.5ï¼åæ°ä»¥ä¸æå°ä¸º2ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸1å°æå¡å¨ææ 4å°æå¡å¨ï¼è³å°3å°æ­£å¸¸è¿è¡æè¡ï¼4çåæ°ä¸º2ï¼åæ°ä»¥ä¸æå°ä¸º3ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸1å°æå¡å¨ææ 5å°æå¡å¨ï¼è³å°3å°æ­£å¸¸è¿è¡æè¡ï¼5çåæ°ä¸º2.5ï¼åæ°ä»¥ä¸æå°ä¸º3ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸2å°æå¡å¨ææ\n\n * é²èè£ èè£éç¾¤çèè£éå¸¸æ¯åçå¨èç¹ä¹é´éä¿¡ä¸å¯è¾¾çæåµä¸ï¼éç¾¤ä¼åè£æä¸åçå°éç¾¤ï¼å°éç¾¤åèªéåºèªå·±çleaderèç¹ï¼å¯¼è´åæçéç¾¤åºç°å¤ä¸ªleaderèç¹çæåµï¼è¿å°±æ¯èè£ã\n\n> 3å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º1.5ï¼ä¸å°æå¡è£å¼ï¼åå¦å¤ä¸¤å°æå¡å¨æ æ³éè¡ï¼è¿æ¶å2å°æå¡å¨çéç¾¤ï¼2ç¥¨å¤§äºåæ°1.5ç¥¨ï¼ï¼æä»¥å¯ä»¥éä¸¾åºleaderï¼è 1 å°æå¡å¨çéç¾¤æ æ³éä¸¾ã 4å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º2ï¼å¯ä»¥åæ 1,3ä¸¤ä¸ªéç¾¤æè2,2ä¸¤ä¸ªéç¾¤ï¼å¯¹äº 1,3éç¾¤ï¼3éç¾¤å¯ä»¥éä¸¾ï¼å¯¹äº2,2éç¾¤ï¼åä¸è½éæ©ï¼é ææ²¡æleaderèç¹ã 5å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º2.5ï¼å¯ä»¥åæ1,4ä¸¤ä¸ªéç¾¤ï¼æè2,3ä¸¤éç¾¤ï¼è¿ä¸¤ä¸ªéç¾¤åå«é½åªè½éä¸¾ä¸ä¸ªéç¾¤ï¼æ»¡è¶³zookeeperéç¾¤æ­å»ºæ°ç®ã\n\nä»¥ä¸åæï¼æä»¬ä»å®¹éçä»¥åé²æ­¢èè£ä¸¤æ¹é¢è¯´æäº3å°æå¡å¨æ¯æ­å»ºéç¾¤çæå°æ°ç®ï¼4å°åçèè£æ¶ä¼é ææ²¡æleaderèç¹çéè¯¯\n\n\n# 1. è§£åå®è£:\n\nä¸è½½å°å: è§£å: tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /soft/module/ (èªå·±è¦å®è£çç®å½) æä»¶å¤¹éå½å: mv apache-zookeeper-3.5.7 zookeeper-3.5.7\n\n\n# 2. éç½®\n\n * 1) è¿å¥å°zookeeper-3.5.7/confç®å½ä¸ cp zoo_sample.cfg zoo.cfg ç¼è¾ vim zoo.cfg,å å¥\n\ndataDir=/soft/module/zookeeper-3.5.7/zkData\ndataLogDir=/soft/module/zookeeper-3.5.7/logs\nclientPort=2181\n\n########hadoop101ã102ã103ä¸º 3ä¸ªdatanodeèç¹########\n# æ³¨: æä»¶å¯ä»¥è¿æ ·å(ä¸ç¨0.0.0.0)(åææ¯æ/etc/hostsåä¸¤è¡æ³¨éæ,å¦åä¼äº§çå²çª)\nserver.1=hadoop101:2888:3888\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\n\n\nååæä»¶ xsync.sh zookeeper-3.5.7\n\n * è¿å¥å°zookeeper-3.5.7/confç®å½ä¸ ,mkdir zkData(ä¸é¢éç½®æä»¶zoo.cfgçè·¯å¾) echo "1" > myidåå¥åå®¹1(æ³¨æåéç½®æä»¶ä¸­çserver.1å¯¹åº) å¨å¶å®èç¹åå«æ§è¡æä½ echo "2" > myid echo "3" > myid(åzoo.cfgå¯¹åº!!! idå¿é¡»å¨éç¾¤ç¯å¢ä¸­æå¡å¨æ è¯ä¸­æ¯å¯ä¸çï¼ä¸å¤§å°å¨1ï½255ä¹é´)\n\n\n# 3. éç¾¤å¯å¨ æµè¯æå¡\n\n * å¯å¨ bin/zkServer.sh start\n * æ¥çç¶æ bin/zkServer.sh status è¿ç§æåµçä¸ç§å¯è½æ¯Zookeeperéç¾¤æèç¹æªå¯å¨\n * è¿æ¥zookeeperæå¡ bin/zkCli.sh -server 8.8.8.103:2181 (èªå·±çipãç«¯å£å·åzoo.cfgå¯¹åº)\n\n> æç»è¿æ¥ 1).é²ç«å¢æ²¡å³ 2).éç½®æä»¶é®é¢ 3).zkéç¾¤ä¸æ¯æ­£å¸¸çå³é­ (ä¾å¦æ§è¡kill å½ä»¤zkçè¿ç¨) è§£å³: ç´æ¥ä¿®æ¹clientPortç«¯å£å·ï¼ç¶ååå¯å¨ï¼åå³é­ï¼æclientPortä¿®æ¹åæ¥ æ³¨æï¼ä½¿ç¨zookeeperéæ­£å¸¸åæ­¢ï¼ï¼ï¼ä¸ç¶ï¼éå¯linuxé½ä¸ä¸å®è½è§£å³é®é¢ï¼ 4).ä¸»æºIPåç«¯å£å·ä¸å®è¦æ­£ç¡®!!! (æå°±æ¯ç«¯å£å·éäºâ¦)\n\n\n# 4. HAæéèªå¨è½¬æ¢\n\n\n * # 1) ä¿®æ¹éç¾¤ææèç¹(NameNodeåDataNode)çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶:\n   \n   vim /soft/module/hadoop-2.9.2/etc/hadoop/hdfs-site.xml\n\n\x3c!-- å½namnodeæéï¼æ¯å¦èªå¨å¯å¨å¦ä¸ä¸ªnamenode(é»è®¤å¼ä¸ºfalse)--\x3e\n<property>\n\t\t\x3c!--è¿ä¸ªä¹åå¥½åéäº --\x3e\n        <name>dfs.ha.automatic-failover.enabled </name>\n        <value>true</value>\n</property>\n\n\nvim /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml\n\n\x3c!-- æå®zookeeperå°å --\x3e\n<property>\n    <name>ha.zookeeper.quorum</name>\n    \x3c!-- ç«¯å£å·åéç½®æä»¶zoo.cfg å¯¹åº --\x3e\n    <value>hadoop101: 2181,hadoop102: 2181,hadoop103: 2181</value>\n</property>\n\n\næ¥ç mapred-site.xml yarn-site.xmlä¸»æºåå¥çä¸è¦åºé ååéç½®æä»¶: xsync /soft/module/hadoop-2.9.2/etc/hadoop\n\n\n# 2) å¯å¨æµè¯\n\n * jpsæ¥çæ¯å¦å³é­æææå¡, æ²¡æçè¯å³é­\n\n * å¨ææèç¹ä¸å é¤ dfs/data dfs/name tmp logsç®å½\n\n * æædatanodeèç¹å¯å¨zookeeperéç¾¤ ./bin/zkServer.sh start\n\n * æ ¼å¼åzkéç¾¤: nn1ä¸æ§è¡ bin/hdfs zkfc -formatZK\n\n * æædatanodeèç¹å¯å¨journalnodeéç¾¤ ./sbin/hadoop-daemon.sh start journalnode\n\n * æ ¼å¼ånamenode: nn1ä¸æ§è¡ ./bin/hdfs namenode -format\n\n * å¯å¨datanodeånamenode æædatanodeèç¹æ§è¡ ./sbin/hadoop-daemon.sh start datanode nn1 æ§è¡ ./sbin/hadoop-daemon.sh start namenode nn2 æ§è¡ ./bin/hdfs namenode -bootstrapStandby ./sbin/hadoop-daemon.sh start namenode æ­¤æ¶å¯ä»¥åUIçé¢çå°\n\n * å¯å¨zkfcæå¡ å¨nn1ånn2æ§è¡ ./sbin/hadoop-daemon.sh start zkfc è¿æ¶namenode1ånamenode2ä¼èªå¨éä¸¾åºactiveèç¹, å¯ä»¥çå°\n\n * éªè¯ å¤äºactiveç¶æçèç¹ æ§è¡ kill -9 xxxxx(jpsæ¥ççnamenodeè¿ç¨id), å¯ä»¥çå°',normalizedContent:'è¿ä¸ªæ¯å¨ä¹åçåºç¡ä¸æ­å»º hadoopå®å¨åå¸å¼æ­å»º:https://www.cnblogs.com/hephaestus/p/12213719.html hadoopé«å¯ç¨æ­å»º:https://www.cnblogs.com/hephaestus/p/12420370.html éç¾¤è§å:\n\n            namenode   datanode   journalnode   zookeeper(å¿é¡»ä¸ºå¥æ°)\nhadoop100   æ¯(nn2)                              \nhadoop101   æ¯(nn1)     æ¯          æ¯             æ¯\nhadoop102              æ¯          æ¯             æ¯\nhadoop103              æ¯          æ¯             æ¯\n\n\n# å³äºzookeeperçèç¹ä¸ºä»ä¹æ¯å¥æ°\n\n(åèé¾æ¥:https://www.cnblogs.com/ysocean/p/9860529.html#_label0)\n\n * å®¹éç éè¦ä¿è¯éç¾¤è½å¤æåæ°è¿è¡æç¥¨\n\n> 2å°æå¡å¨ï¼è³å°2å°æ­£å¸¸è¿è¡æè¡ï¼2çåæ°ä¸º1ï¼åæ°ä»¥ä¸æå°ä¸º2ï¼ï¼æ­£å¸¸è¿è¡1å°æå¡å¨é½ä¸åè®¸ææï¼ä½æ¯ç¸å¯¹äº åèç¹æå¡å¨ï¼2å°æå¡å¨è¿æä¸¤ä¸ªåç¹æéï¼æä»¥ç´æ¥æé¤äºã 3å°æå¡å¨ï¼è³å°2å°æ­£å¸¸è¿è¡æè¡ï¼3çåæ°ä¸º1.5ï¼åæ°ä»¥ä¸æå°ä¸º2ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸1å°æå¡å¨ææ 4å°æå¡å¨ï¼è³å°3å°æ­£å¸¸è¿è¡æè¡ï¼4çåæ°ä¸º2ï¼åæ°ä»¥ä¸æå°ä¸º3ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸1å°æå¡å¨ææ 5å°æå¡å¨ï¼è³å°3å°æ­£å¸¸è¿è¡æè¡ï¼5çåæ°ä¸º2.5ï¼åæ°ä»¥ä¸æå°ä¸º3ï¼ï¼æ­£å¸¸è¿è¡å¯ä»¥åè®¸2å°æå¡å¨ææ\n\n * é²èè£ èè£éç¾¤çèè£éå¸¸æ¯åçå¨èç¹ä¹é´éä¿¡ä¸å¯è¾¾çæåµä¸ï¼éç¾¤ä¼åè£æä¸åçå°éç¾¤ï¼å°éç¾¤åèªéåºèªå·±çleaderèç¹ï¼å¯¼è´åæçéç¾¤åºç°å¤ä¸ªleaderèç¹çæåµï¼è¿å°±æ¯èè£ã\n\n> 3å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º1.5ï¼ä¸å°æå¡è£å¼ï¼åå¦å¤ä¸¤å°æå¡å¨æ æ³éè¡ï¼è¿æ¶å2å°æå¡å¨çéç¾¤ï¼2ç¥¨å¤§äºåæ°1.5ç¥¨ï¼ï¼æä»¥å¯ä»¥éä¸¾åºleaderï¼è 1 å°æå¡å¨çéç¾¤æ æ³éä¸¾ã 4å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º2ï¼å¯ä»¥åæ 1,3ä¸¤ä¸ªéç¾¤æè2,2ä¸¤ä¸ªéç¾¤ï¼å¯¹äº 1,3éç¾¤ï¼3éç¾¤å¯ä»¥éä¸¾ï¼å¯¹äº2,2éç¾¤ï¼åä¸è½éæ©ï¼é ææ²¡æleaderèç¹ã 5å°æå¡å¨ï¼æç¥¨éä¸¾åæ°ä¸º2.5ï¼å¯ä»¥åæ1,4ä¸¤ä¸ªéç¾¤ï¼æè2,3ä¸¤éç¾¤ï¼è¿ä¸¤ä¸ªéç¾¤åå«é½åªè½éä¸¾ä¸ä¸ªéç¾¤ï¼æ»¡è¶³zookeeperéç¾¤æ­å»ºæ°ç®ã\n\nä»¥ä¸åæï¼æä»¬ä»å®¹éçä»¥åé²æ­¢èè£ä¸¤æ¹é¢è¯´æäº3å°æå¡å¨æ¯æ­å»ºéç¾¤çæå°æ°ç®ï¼4å°åçèè£æ¶ä¼é ææ²¡æleaderèç¹çéè¯¯\n\n\n# 1. è§£åå®è£:\n\nä¸è½½å°å: è§£å: tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -c /soft/module/ (èªå·±è¦å®è£çç®å½) æä»¶å¤¹éå½å: mv apache-zookeeper-3.5.7 zookeeper-3.5.7\n\n\n# 2. éç½®\n\n * 1) è¿å¥å°zookeeper-3.5.7/confç®å½ä¸ cp zoo_sample.cfg zoo.cfg ç¼è¾ vim zoo.cfg,å å¥\n\ndatadir=/soft/module/zookeeper-3.5.7/zkdata\ndatalogdir=/soft/module/zookeeper-3.5.7/logs\nclientport=2181\n\n########hadoop101ã102ã103ä¸º 3ä¸ªdatanodeèç¹########\n# æ³¨: æä»¶å¯ä»¥è¿æ ·å(ä¸ç¨0.0.0.0)(åææ¯æ/etc/hostsåä¸¤è¡æ³¨éæ,å¦åä¼äº§çå²çª)\nserver.1=hadoop101:2888:3888\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\n\n\nååæä»¶ xsync.sh zookeeper-3.5.7\n\n * è¿å¥å°zookeeper-3.5.7/confç®å½ä¸ ,mkdir zkdata(ä¸é¢éç½®æä»¶zoo.cfgçè·¯å¾) echo "1" > myidåå¥åå®¹1(æ³¨æåéç½®æä»¶ä¸­çserver.1å¯¹åº) å¨å¶å®èç¹åå«æ§è¡æä½ echo "2" > myid echo "3" > myid(åzoo.cfgå¯¹åº!!! idå¿é¡»å¨éç¾¤ç¯å¢ä¸­æå¡å¨æ è¯ä¸­æ¯å¯ä¸çï¼ä¸å¤§å°å¨1ï½255ä¹é´)\n\n\n# 3. éç¾¤å¯å¨ æµè¯æå¡\n\n * å¯å¨ bin/zkserver.sh start\n * æ¥çç¶æ bin/zkserver.sh status è¿ç§æåµçä¸ç§å¯è½æ¯zookeeperéç¾¤æèç¹æªå¯å¨\n * è¿æ¥zookeeperæå¡ bin/zkcli.sh -server 8.8.8.103:2181 (èªå·±çipãç«¯å£å·åzoo.cfgå¯¹åº)\n\n> æç»è¿æ¥ 1).é²ç«å¢æ²¡å³ 2).éç½®æä»¶é®é¢ 3).zkéç¾¤ä¸æ¯æ­£å¸¸çå³é­ (ä¾å¦æ§è¡kill å½ä»¤zkçè¿ç¨) è§£å³: ç´æ¥ä¿®æ¹clientportç«¯å£å·ï¼ç¶ååå¯å¨ï¼åå³é­ï¼æclientportä¿®æ¹åæ¥ æ³¨æï¼ä½¿ç¨zookeeperéæ­£å¸¸åæ­¢ï¼ï¼ï¼ä¸ç¶ï¼éå¯linuxé½ä¸ä¸å®è½è§£å³é®é¢ï¼ 4).ä¸»æºipåç«¯å£å·ä¸å®è¦æ­£ç¡®!!! (æå°±æ¯ç«¯å£å·éäºâ¦)\n\n\n# 4. haæéèªå¨è½¬æ¢\n\n\n * # 1) ä¿®æ¹éç¾¤ææèç¹(namenodeådatanode)çhdfséç½®æä»¶åæ ¸å¿éç½®æä»¶:\n   \n   vim /soft/module/hadoop-2.9.2/etc/hadoop/hdfs-site.xml\n\n\x3c!-- å½namnodeæéï¼æ¯å¦èªå¨å¯å¨å¦ä¸ä¸ªnamenode(é»è®¤å¼ä¸ºfalse)--\x3e\n<property>\n\t\t\x3c!--è¿ä¸ªä¹åå¥½åéäº --\x3e\n        <name>dfs.ha.automatic-failover.enabled </name>\n        <value>true</value>\n</property>\n\n\nvim /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml\n\n\x3c!-- æå®zookeeperå°å --\x3e\n<property>\n    <name>ha.zookeeper.quorum</name>\n    \x3c!-- ç«¯å£å·åéç½®æä»¶zoo.cfg å¯¹åº --\x3e\n    <value>hadoop101: 2181,hadoop102: 2181,hadoop103: 2181</value>\n</property>\n\n\næ¥ç mapred-site.xml yarn-site.xmlä¸»æºåå¥çä¸è¦åºé ååéç½®æä»¶: xsync /soft/module/hadoop-2.9.2/etc/hadoop\n\n\n# 2) å¯å¨æµè¯\n\n * jpsæ¥çæ¯å¦å³é­æææå¡, æ²¡æçè¯å³é­\n\n * å¨ææèç¹ä¸å é¤ dfs/data dfs/name tmp logsç®å½\n\n * æædatanodeèç¹å¯å¨zookeeperéç¾¤ ./bin/zkserver.sh start\n\n * æ ¼å¼åzkéç¾¤: nn1ä¸æ§è¡ bin/hdfs zkfc -formatzk\n\n * æædatanodeèç¹å¯å¨journalnodeéç¾¤ ./sbin/hadoop-daemon.sh start journalnode\n\n * æ ¼å¼ånamenode: nn1ä¸æ§è¡ ./bin/hdfs namenode -format\n\n * å¯å¨datanodeånamenode æædatanodeèç¹æ§è¡ ./sbin/hadoop-daemon.sh start datanode nn1 æ§è¡ ./sbin/hadoop-daemon.sh start namenode nn2 æ§è¡ ./bin/hdfs namenode -bootstrapstandby ./sbin/hadoop-daemon.sh start namenode æ­¤æ¶å¯ä»¥åuiçé¢çå°\n\n * å¯å¨zkfcæå¡ å¨nn1ånn2æ§è¡ ./sbin/hadoop-daemon.sh start zkfc è¿æ¶namenode1ånamenode2ä¼èªå¨éä¸¾åºactiveèç¹, å¯ä»¥çå°\n\n * éªè¯ å¤äºactiveç¶æçèç¹ æ§è¡ kill -9 xxxxx(jpsæ¥ççnamenodeè¿ç¨id), å¯ä»¥çå°',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Hiveéç¾¤æ­å»º",frontmatter:{title:"Hiveéç¾¤æ­å»º",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/edf4cb/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/01.Hive%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/03.Hive/01.Hiveéç¾¤æ­å»º.md",key:"v-7f6942cf",path:"/pages/edf4cb/",headers:[{level:2,title:"ä¸. åå®è£MySQL",slug:"ä¸-åå®è£mysql",normalizedTitle:"ä¸. åå®è£mysql",charIndex:104},{level:3,title:"1.æ£æ¥å¸è½½mariadb-lib(Centosèªå¸¦mariadbæ°æ®åº)",slug:"_1-æ£æ¥å¸è½½mariadb-lib-centosèªå¸¦mariadbæ°æ®åº",normalizedTitle:"1.æ£æ¥å¸è½½mariadb-lib(centosèªå¸¦mariadbæ°æ®åº)",charIndex:120},{level:3,title:"2.å®è£MySQL",slug:"_2-å®è£mysql",normalizedTitle:"2.å®è£mysql",charIndex:264},{level:3,title:"3.åå§åå¹¶å¯å¨",slug:"_3-åå§åå¹¶å¯å¨",normalizedTitle:"3.åå§åå¹¶å¯å¨",charIndex:691},{level:2,title:"äº.å®è£éç½®Hive",slug:"äº-å®è£éç½®hive",normalizedTitle:"äº.å®è£éç½®hive",charIndex:1413},{level:3,title:"1.è§£åå®è£",slug:"_1-è§£åå®è£",normalizedTitle:"1.è§£åå®è£",charIndex:1654},{level:3,title:"2.æä»¶éç½®",slug:"_2-æä»¶éç½®",normalizedTitle:"2.æä»¶éç½®",charIndex:1780},{level:3,title:"3.Hadoopéç¾¤éç½®",slug:"_3-hadoopéç¾¤éç½®",normalizedTitle:"3.hadoopéç¾¤éç½®",charIndex:2094},{level:3,title:"4.Hive åæ°æ®éç½®å° MySql",slug:"_4-hive-åæ°æ®éç½®å°-mysql",normalizedTitle:"4.hive åæ°æ®éç½®å° mysql",charIndex:2566},{level:3,title:"5.å¯å¨åæµè¯",slug:"_5-å¯å¨åæµè¯",normalizedTitle:"5.å¯å¨åæµè¯",charIndex:4604},{level:3,title:"6.Hiveåºæ¬æä½",slug:"_6-hiveåºæ¬æä½",normalizedTitle:"6.hiveåºæ¬æä½",charIndex:5634},{level:2,title:"ä¸. java APIç¯å¢åå¤",slug:"ä¸-java-apiç¯å¢åå¤",normalizedTitle:"ä¸. java apiç¯å¢åå¤",charIndex:6355},{level:3,title:"1. centos7å¯å¨æå¡",slug:"_1-centos7å¯å¨æå¡",normalizedTitle:"1. centos7å¯å¨æå¡",charIndex:6375},{level:3,title:"2. eclipseéç½®",slug:"_2-eclipseéç½®",normalizedTitle:"2. eclipseéç½®",charIndex:6941},{level:3,title:"é:ä¸ä¸ªéè¯¯",slug:"é-ä¸ä¸ªéè¯¯",normalizedTitle:"é:ä¸ä¸ªéè¯¯",charIndex:7660}],headersStr:"ä¸. åå®è£MySQL 1.æ£æ¥å¸è½½mariadb-lib(Centosèªå¸¦mariadbæ°æ®åº) 2.å®è£MySQL 3.åå§åå¹¶å¯å¨ äº.å®è£éç½®Hive 1.è§£åå®è£ 2.æä»¶éç½® 3.Hadoopéç¾¤éç½® 4.Hive åæ°æ®éç½®å° MySql 5.å¯å¨åæµè¯ 6.Hiveåºæ¬æä½ ä¸. java APIç¯å¢åå¤ 1. centos7å¯å¨æå¡ 2. eclipseéç½® é:ä¸ä¸ªéè¯¯",content:"å®è£hiveçåææ¯åå®è£hadoopéç¾¤ï¼å¹¶ä¸hiveåªéè¦å¨hadoopçnamenodeèç¹ä¸­å®è£å³å¯ï¼å¯ä»¥ä¸å¨datanodeèç¹çæºå¨ä¸å®è£ï¼å¯å¨hiveçåææ¯éè¦hadoopå¨æ­£å¸¸è·ç\n\n\n# ä¸. åå®è£MySQL\n\n\n# 1.æ£æ¥å¸è½½mariadb-lib(Centosèªå¸¦mariadbæ°æ®åº)\n\n * æ£æ¥CentOSçmariadbçæ¬ rpm -qa|grep mariadb\n * å¸è½½: rpm -e mariadb-libs-5.5.60-1.el7_5.x86_64 --nodeps\n\n\n# 2.å®è£MySQL\n\n * å®è£ä¾èµ: yum install -y libaio numactl perl net-tools\n * è§£åMySQL tar -xvf mysql-5.7.18-1.el7.x86_64.rpm-bundle.tar.tar -C /soft/modlue\n * å®è£(æ³¨æé¡ºåºä¸è½å):\n   * rpm -ivh mysql-community-common-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-libs-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-client-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-server-5.7.18-1.el7.x86_64.rpmï¼ä¾èµäºcommon, clientï¼\n\n\n# 3.åå§åå¹¶å¯å¨\n\n * åå§åMySQLï¼mysqld --initialize\n * mysqlé»è®¤å®è£å¨/var/libä¸ãæ´æ¹mysqlæ°æ®åºæå±äºç¨æ·åå¶æå±äºç»:chown mysql:mysql /var/lib/mysql -R\n * å¯å¨MySQLï¼systemctl start mysqld.service\n * è·å¾åå§å¯ç (å¨/var/logç®å½)ï¼grep 'password' mysqld.log\n * æ´æ¹å¯ç :\n   * è¿å¥MySQLå½ä»¤è¡: mysql -u root -p è¾å¥åæè·åçåå§å¯ç \n   * æ´æ¹å¯ç :set password=password('123456789'); flush privileges;\n   * æ³¨æ:è¿éå¯è½ä¼åºç°Your password does not satisfy the current policy requirements.\n     å¯ä»¥è®¾ç½®å¯ç å¼ºåº¦ä¸ºLOW:set global validate_password_policy=0;\n     è®¾ç½®å¯ç é¿åº¦:set global validate_password_length=4;(æå°4ä½)\n     åèé¾æ¥:https://blog.csdn.net/maxsky/article/details/51171474\n * ææ: grant all privileges on *.* to banana@'%' identified by â123456789' with grant option;(æå¥½ææå½ä»¤,æ·è´èåºé)\n * ç¨SQLyogç­å·¥å·è¿æ¥ æµè¯\n\n\n# äº.å®è£éç½®Hive\n\nä¸è½½hiveï¼https://downloads.apache.org/hive/\nhadoop2.9.2 + hive-2.3.6\n\n> Hiveçè¿è¡æ¨¡å¼ ä¾æ®Hiveçå®è£åmetastoreçè®¾ç½®æºå¨ï¼åä¸ºä¸é¢ä¸ä¸ªæ¨¡å¼ï¼ åµå¥æ¨¡å¼ï¼ä½¿ç¨èªå¸¦çderbyæ°æ®åº æ¬å°æ¨¡å¼ï¼å°metastoreæ¾å¨mysqlï¼å¹¶ä¸mysqlåhiveå®è£å¨åä¸å°æºå¨ä¸ è¿ç¨æ¨¡å¼ï¼å°metastoreæ¾å¨mysqlï¼å¹¶ä¸mysqlåhiveå®è£å¨ä¸åä¸å°æºå¨ä¸\n\n\n# 1.è§£åå®è£\n\n * è§£åå°/soft/module: tar -zxvf apache-hive-2.3.6-bin.tar.gz -C /soft/module/\n * éå½å: mv apache-hive-2.3.6-bin hive\n\n\n# 2.æä»¶éç½®\n\n 1. éç½®ç¯å¢åé(ç¥):sudo vim /etc/profile\n 2. hive-env.shæä»¶(confç®å½ä¸),æ·è´æ ·ä¾ cp hive-env.sh.template hive-env.sh vim hive-env.sh\n\n# éç½® HADOOP_HOME è·¯å¾\nexport HADOOP_HOME=/soft/module/hadoop-2.9.2\n# éç½® HIVE_CONF_DIR è·¯å¾\nexport HIVE_CONF_DIR=/soft/module/hive/conf\n\nexport HIVE_AUX_JARS_PATH=/soft/module/hive/lib\n\n\n\n# 3.Hadoopéç¾¤éç½®\n\n 1. å¿é¡»å¯å¨hdfsåyarn sbin/start-dfs.sh sbin/start-yarn.sh\n 2. åå»ºç®å½ å ä¸ºå¨hive-site.xmlä¸­æè¿æ ·çéç½®ï¼\n\n<name>hive.metastore.warehouse.dir</name>\n<value>/user/hive/warehouse</value>\n<name>hive.exec.scratchdir</name>\n<value>/tmp/hive</value>\n\n\næä»¥è¦å¨éç¾¤ä¸æ°å»ºç®å½\n\n * å¨ HDFS ä¸åå»º/tmp å/user/hive/warehouse ä¸¤ä¸ªç®å½(å¯ä¸æä½ï¼ç³»ç»ä¼èªå¨åå»º)\n   hadoop fs -mkdir /tmp hadoop fs -mkdir -p /user/hive/warehouse\n * å¹¶ä¿®æ¹ä»ä»¬çåç»æéå¯å\n   hadoop fs -chmod g+w /tmp hadoop fs -chmod g+w /user/hive/warehouse\n\n\n# 4.Hive åæ°æ®éç½®å° MySql\n\n 1. é©±å¨æ·è´ æ·è´ mysql-connector-java-5.1.48.jar å°/soft/module/hive/lib/ cp mysql-connector-java-5.1.48.jar /soft/module/hive/lib/\n 2. éç½® Metastore å° MySql\n\n * å¨/opt/module/hive/conf ç®å½ä¸ä¿®æ¹ hive-site.xml vim hive-site.xml\n * æ ¹æ®å®æ¹ææ¡£éç½®åæ°ï¼æ·è´æ°æ®å° hive-site.xml æä»¶ä¸­ https://cwiki.apache.org/confluence/display/Hive/AdminManual+MetastoreAdmin\n\n<?xml version=\"1.0\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?>\n<configuration>\n    \x3c!--å°è¯¥nameå¯¹åºçvalueä¿®æ¹ä¸ºMySQLçå°å--\x3e\n    <property>\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://hadoop100:3306/metastore?createDatabaseIfNotExist=true&amp;characterEncoding=UTF-8&amp;useSSL=false</value>\n        \x3c!-- æåå­¦æ¶åºæ¥é, éå ä¸ &amp;serverTimezone=GMT%2B8 --\x3e\n        <description>JDBC connect string for a JDBC metastore</description>\n    </property>\n    \x3c!--å°è¯¥nameå¯¹åºçvalueä¿®æ¹ä¸ºMySQLé©±å¨ç±»è·¯å¾ï¼--\x3e\n    <property>\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n        <description>Driver class name for a JDBC metastore</description>\n    </property>\n    \x3c!--å°å¯¹åºçvalueä¿®æ¹ä¸ºMySQLæ°æ®åºç»å½å--\x3e\n    <property>\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n        <description>username to use against metastore database</description>\n    </property>\n    \x3c!--å°å¯¹åºçvalueä¿®æ¹ä¸ºMySQLæ°æ®åºçç»å½å¯ç --\x3e\n    <property>\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>123456789</value>\n        <description>password to use against metastore database</description>\n    </property>\n</configuration>\n\n\n2.1 ç¬¬ä¸æ­¥åç¬¬åæ­¥ä¸åè¡å??? æèå ä¸???(æèªå·±æ²¡å3,4æ­¥)\n\n<property>\n   <name>system:java.io.tmpdir</name>\n   <value>/soft/module/hive/tmpdir</value>\n</property>\n \n<property>\n     <name>system:user.name</name>\n     <value>root</value>\n</property>\n\n\n 3. ä¿®æ¹hive-site.xmlä¸­çä¸´æ¶ç®å½ å°hive-site.xmlæä»¶ä¸­ç${system:java.io.tmpdir}æ¿æ¢ä¸ºhiveçä¸´æ¶ç®å½ï¼ä¾å¦ææ¿æ¢ä¸º/soft/module/hive/tmp/ï¼è¯¥ç®å½å¦æä¸å­å¨åè¦èªå·±æå·¥åå»ºï¼å¹¶ä¸èµäºè¯»åæéã\n 4. å°éç½®æä»¶ä¸­${system:user.name}é½æ¿æ¢ä¸ºroot\n 5. éç½®å®æ¯åï¼å¦æå¯å¨ hive å¼å¸¸ï¼å¯ä»¥éæ°å¯å¨èææºãï¼éå¯åï¼å«å¿äºå¯ å¨ hadoop éç¾¤ï¼\n\n\n# 5.å¯å¨åæµè¯\n\nhttps://www.jianshu.com/p/7b1b21bf05c2\n\n> 1ãå³é­é²ç«å¢ 2ãå¼å¯ mysqlå¤é¾æé 3ãjaråå²çªï¼å é¤hiveä¸ 4ãéç½®hive-site.xml\n\n * åå§åæ°æ®åºï¼cd $HIVE_HOME/bin schematool -initSchema -dbType mysql\n * å¯å¨Hive: cd $HIVE_HOME/bin è¿å¥Hiveçbinç®å½./hive æ§è¡hiveå¯å¨\n * æµè¯Hive\n   * ç®åæµè¯show functions; desc function sum;\n   * è¿æ¥æµè¯\n     å¨æåå»ºç«è¿æ¥åï¼è¿å¥mysqlæ°æ®åºï¼ä¼åç°å¤äºä¸ä¸ªmetastoreæ°æ®åºï¼è¿ä¸ªæ°æ®åºå°±æ¯ç¨æ¥å­å¨hiveçåæ°æ®ä¿¡æ¯ã\n   * æ§è¡æ°å»ºåº show databases; create database test_db; use test_db; show tables; create table student(id int,name string) row format delimited fields terminated by '\\t'; load data local inpath '/soft/module/hive/student.txt' into table student; insert into student values(1000,\"ss\");\n   * HadoopçHDFSé¡µé¢ä¸æ¥ç\n   * MySQLçhiveæ°æ®åºä¸­æ¥ç(å¯è§åå·¥å·)\n\n----------------------------------------\n\n 1. å³é­ å¯ä»¥éè¿ps -ef|grep hive æ¥çhive çç«¯å£å·ï¼ç¶åkill æç¸å³çè¿ç¨ã\n 2. å¯å¨ å½ä»¤ hive --service metastore & hive --service hiveserver2 & nohup hive --service metastore 2>&1 &\n    ç¨æ¥å¯å¨metastore nohup hive --service hiveserver2 2>&1 & ç¨æ¥å¯å¨hiveserver2 å¯ä»¥éè¿æ¥çæ¥å¿ï¼æ¥ç¡®è®¤æ¯å¦æ­£å¸¸å¯å¨ã æ³¨æï¼å¦æ hiveserver2 ä¸å¯å¨ï¼jdbcå°æ æ³æ­£å¸¸è¿æ¥\n\n\n# 6.Hiveåºæ¬æä½\n\n * å¯å¨ hive bin/hive\n * æ¥çæ°æ®åºhive> show databases;\n * æå¼é»è®¤æ°æ®åº hive> use default;\n * æ¾ç¤º default æ°æ®åºä¸­çè¡¨hive> show tables;\n * åå»ºä¸å¼ è¡¨hive> create table student(id int, name string);\n * æ¾ç¤ºæ°æ®åºä¸­æå å¼ è¡¨hive> show tables;\n * æ¥çè¡¨çç»æhive> desc student;\n * åè¡¨ä¸­æå¥æ°æ®hive> insert into student values(1000,\"ss\");\n * æ¥è¯¢è¡¨ä¸­æ°æ®hive> select * from student;\n * éåº hive hive> quit;\n * æ¸ç©ºè¡¨ truncate table student;\n * å¯¼å¥æ°æ®ä¸ç§æ¹å¼(æ°æ®é´ä»¥tabåé)\n   * hadoop -putæ¹å¼: hadoop fs -put student.txt /user/hive/warehouse/test_db.db/student\n   * hiveå½ä»¤è¡(æ¬å°): load data local inpath '/soft/module/hive/student.txt' into table student;\n   * hiveå½ä»¤è¡(hdfs): load data inpath 'hdfsè·¯å¾(user/...)' into table student;\n\n----------------------------------------\n\n\n# ä¸. java APIç¯å¢åå¤\n\n\n# 1. centos7å¯å¨æå¡\n\n * ä¿®æ¹hadoopéç½®vim core-site.xml\n\n<property>\n    <name>hadoop.proxyuser.root.groups</name>\n    <value>*</value>   \n</property>  \n<property>      \n    <name>hadoop.proxyuser.root.hosts</name>\n    <value>*</value>\n</property>\n\n\nååæä»¶\n\n * å¯å¨å½ä»¤ /soft/module/hive/bin/hive --service hiveserver2 &(å¨nativeçnamenodeå¯å¨)\n   å½ä»¤å¯å¨åæèµ·,ä¸¤ç§æ¹å¼è§£å³è¿ç§ä¸ä¾¿:\n   * éæ°æå¼ä¸ä¸ªxshellè¿æ¥ï¼åå¶ä»çLinuxå½ä»¤æä½ï¼æå¡å¯å¨çä¼è¯ä¿ç\n   * ä½¿ç¨Linux nohupå½ä»¤ï¼å¯ä»¥é²æ­¢æå¡å¯å¨æèµ·nohup:ignoring input and appending output to 'nohup.out' å®ä¼å°æå¡å¯å¨çæ¥å¿è¾åºå°å½åç®å½ä¸çnohup.outæä»¶åï¼æä»¬æ¥çä¸åå®¹cat nohup.out\n   * å¯å¨åç¨jpsRunJarè¿ç¨æå¨UIçé¢æ¥ç\n\n\n# 2. eclipseéç½®\n\n-jaråéç½® - æéå¿é¡»çjaråï¼ç¼è¾æèªå·±çlibéç½®å°å·¥ç¨ä¸­ï¼æ¨èï¼ å¶å®ææjaråé½å¨${HIVE_HOME}/libç®å½ä¸ï¼è¿éåç¤ºä¸éè¦çjarååï¼ ${HADOOP_HOME}/share/hadoop/common/hadoop-common-2.2.0.jar(mrå·¥ç¨ä¸­å·²å­å¨ï¼æ éåæ¬¡æ·»å ï¼å¦ææ°å»ºé¡¹ç®ééç½® $ { HIVE_HOME } /lib/hive-exec-0.11.0.jar $ { HIVE_HOME } /lib/hive-jdbc-0.11.0.jar $ { HIVE_HOME } /lib/hive-metastore-0.11.0.jar $ { HIVE_HOME } /lib/hive-service-0.11.0.jar $ { HIVE_HOME } /lib/libfb303-0.9.0.jar $ { HIVE_HOME } /lib/commons-logging-1.0.4.jar ï¼æ­¤jaråå·²ç»å­å¨å°±ä¸è¦åæ¬¡æ·»å ï¼ $ { HIVE_HOME } /lib/slf4j-api-1.6.1.jarï¼æ­¤jaråå·²ç»å­å¨å°±ä¸è¦åæ¬¡æ·»å ï¼ - å¯¼å¥jarå - ä¿®æ¹pom.xmléç½®æä»¶ï¼ä¸æ¨èï¼ä¼ä¸è½½é¢å¤å¾å¤æ ç¨åï¼èä¸æ¶é´å¾é¿å¨1å°æ¶å·¦å³ï¼\n\n<dependency>\n    <groupId>org.apache.hive</groupId>\n    <artifactId>hive-jdbc</artifactId>\n    <version>2.3.6</version>\n</dependency>\n\n\n\n# é:ä¸ä¸ªéè¯¯\n\n * User: banana is not allowed to impersonate root ä¿®æ¹éç½®æä»¶core-site.xml\n\n<property>\n    <name>hadoop.proxyuser.banana.groups</name>\n    <value>*</value>   \n</property>  \n<property>      \n    <name>hadoop.proxyuser.banana.hosts</name>\n    <value>*</value>\n</property>\n\n\n * User: banana is not allowed to impersonate banana\n   è¿ä¸ªåºè¯¥æ¯æ²¡å¨activeçnamenodeä¸å¯å¨çåå , ä½æèªå·±å°±æ¯å¨activeä¸å¯å¨çå,namenodeæ»ä¼è«åææ,æåç´æ¥æå¦ä¸ä¸ªnamenode killæ,å°±å¥½ä½¿äº\n   å¿è®°ååæä»¶core-site.xmlä¸¤å¤©äº!!!!!!!!!!",normalizedContent:"å®è£hiveçåææ¯åå®è£hadoopéç¾¤ï¼å¹¶ä¸hiveåªéè¦å¨hadoopçnamenodeèç¹ä¸­å®è£å³å¯ï¼å¯ä»¥ä¸å¨datanodeèç¹çæºå¨ä¸å®è£ï¼å¯å¨hiveçåææ¯éè¦hadoopå¨æ­£å¸¸è·ç\n\n\n# ä¸. åå®è£mysql\n\n\n# 1.æ£æ¥å¸è½½mariadb-lib(centosèªå¸¦mariadbæ°æ®åº)\n\n * æ£æ¥centosçmariadbçæ¬ rpm -qa|grep mariadb\n * å¸è½½: rpm -e mariadb-libs-5.5.60-1.el7_5.x86_64 --nodeps\n\n\n# 2.å®è£mysql\n\n * å®è£ä¾èµ: yum install -y libaio numactl perl net-tools\n * è§£åmysql tar -xvf mysql-5.7.18-1.el7.x86_64.rpm-bundle.tar.tar -c /soft/modlue\n * å®è£(æ³¨æé¡ºåºä¸è½å):\n   * rpm -ivh mysql-community-common-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-libs-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-client-5.7.18-1.el7.x86_64.rpm\n   * rpm -ivh mysql-community-server-5.7.18-1.el7.x86_64.rpmï¼ä¾èµäºcommon, clientï¼\n\n\n# 3.åå§åå¹¶å¯å¨\n\n * åå§åmysqlï¼mysqld --initialize\n * mysqlé»è®¤å®è£å¨/var/libä¸ãæ´æ¹mysqlæ°æ®åºæå±äºç¨æ·åå¶æå±äºç»:chown mysql:mysql /var/lib/mysql -r\n * å¯å¨mysqlï¼systemctl start mysqld.service\n * è·å¾åå§å¯ç (å¨/var/logç®å½)ï¼grep 'password' mysqld.log\n * æ´æ¹å¯ç :\n   * è¿å¥mysqlå½ä»¤è¡: mysql -u root -p è¾å¥åæè·åçåå§å¯ç \n   * æ´æ¹å¯ç :set password=password('123456789'); flush privileges;\n   * æ³¨æ:è¿éå¯è½ä¼åºç°your password does not satisfy the current policy requirements.\n     å¯ä»¥è®¾ç½®å¯ç å¼ºåº¦ä¸ºlow:set global validate_password_policy=0;\n     è®¾ç½®å¯ç é¿åº¦:set global validate_password_length=4;(æå°4ä½)\n     åèé¾æ¥:https://blog.csdn.net/maxsky/article/details/51171474\n * ææ: grant all privileges on *.* to banana@'%' identified by â123456789' with grant option;(æå¥½ææå½ä»¤,æ·è´èåºé)\n * ç¨sqlyogç­å·¥å·è¿æ¥ æµè¯\n\n\n# äº.å®è£éç½®hive\n\nä¸è½½hiveï¼https://downloads.apache.org/hive/\nhadoop2.9.2 + hive-2.3.6\n\n> hiveçè¿è¡æ¨¡å¼ ä¾æ®hiveçå®è£åmetastoreçè®¾ç½®æºå¨ï¼åä¸ºä¸é¢ä¸ä¸ªæ¨¡å¼ï¼ åµå¥æ¨¡å¼ï¼ä½¿ç¨èªå¸¦çderbyæ°æ®åº æ¬å°æ¨¡å¼ï¼å°metastoreæ¾å¨mysqlï¼å¹¶ä¸mysqlåhiveå®è£å¨åä¸å°æºå¨ä¸ è¿ç¨æ¨¡å¼ï¼å°metastoreæ¾å¨mysqlï¼å¹¶ä¸mysqlåhiveå®è£å¨ä¸åä¸å°æºå¨ä¸\n\n\n# 1.è§£åå®è£\n\n * è§£åå°/soft/module: tar -zxvf apache-hive-2.3.6-bin.tar.gz -c /soft/module/\n * éå½å: mv apache-hive-2.3.6-bin hive\n\n\n# 2.æä»¶éç½®\n\n 1. éç½®ç¯å¢åé(ç¥):sudo vim /etc/profile\n 2. hive-env.shæä»¶(confç®å½ä¸),æ·è´æ ·ä¾ cp hive-env.sh.template hive-env.sh vim hive-env.sh\n\n# éç½® hadoop_home è·¯å¾\nexport hadoop_home=/soft/module/hadoop-2.9.2\n# éç½® hive_conf_dir è·¯å¾\nexport hive_conf_dir=/soft/module/hive/conf\n\nexport hive_aux_jars_path=/soft/module/hive/lib\n\n\n\n# 3.hadoopéç¾¤éç½®\n\n 1. å¿é¡»å¯å¨hdfsåyarn sbin/start-dfs.sh sbin/start-yarn.sh\n 2. åå»ºç®å½ å ä¸ºå¨hive-site.xmlä¸­æè¿æ ·çéç½®ï¼\n\n<name>hive.metastore.warehouse.dir</name>\n<value>/user/hive/warehouse</value>\n<name>hive.exec.scratchdir</name>\n<value>/tmp/hive</value>\n\n\næä»¥è¦å¨éç¾¤ä¸æ°å»ºç®å½\n\n * å¨ hdfs ä¸åå»º/tmp å/user/hive/warehouse ä¸¤ä¸ªç®å½(å¯ä¸æä½ï¼ç³»ç»ä¼èªå¨åå»º)\n   hadoop fs -mkdir /tmp hadoop fs -mkdir -p /user/hive/warehouse\n * å¹¶ä¿®æ¹ä»ä»¬çåç»æéå¯å\n   hadoop fs -chmod g+w /tmp hadoop fs -chmod g+w /user/hive/warehouse\n\n\n# 4.hive åæ°æ®éç½®å° mysql\n\n 1. é©±å¨æ·è´ æ·è´ mysql-connector-java-5.1.48.jar å°/soft/module/hive/lib/ cp mysql-connector-java-5.1.48.jar /soft/module/hive/lib/\n 2. éç½® metastore å° mysql\n\n * å¨/opt/module/hive/conf ç®å½ä¸ä¿®æ¹ hive-site.xml vim hive-site.xml\n * æ ¹æ®å®æ¹ææ¡£éç½®åæ°ï¼æ·è´æ°æ®å° hive-site.xml æä»¶ä¸­ https://cwiki.apache.org/confluence/display/hive/adminmanual+metastoreadmin\n\n<?xml version=\"1.0\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?>\n<configuration>\n    \x3c!--å°è¯¥nameå¯¹åºçvalueä¿®æ¹ä¸ºmysqlçå°å--\x3e\n    <property>\n        <name>javax.jdo.option.connectionurl</name>\n        <value>jdbc:mysql://hadoop100:3306/metastore?createdatabaseifnotexist=true&amp;characterencoding=utf-8&amp;usessl=false</value>\n        \x3c!-- æåå­¦æ¶åºæ¥é, éå ä¸ &amp;servertimezone=gmt%2b8 --\x3e\n        <description>jdbc connect string for a jdbc metastore</description>\n    </property>\n    \x3c!--å°è¯¥nameå¯¹åºçvalueä¿®æ¹ä¸ºmysqlé©±å¨ç±»è·¯å¾ï¼--\x3e\n    <property>\n        <name>javax.jdo.option.connectiondrivername</name>\n        <value>com.mysql.jdbc.driver</value>\n        <description>driver class name for a jdbc metastore</description>\n    </property>\n    \x3c!--å°å¯¹åºçvalueä¿®æ¹ä¸ºmysqlæ°æ®åºç»å½å--\x3e\n    <property>\n        <name>javax.jdo.option.connectionusername</name>\n        <value>root</value>\n        <description>username to use against metastore database</description>\n    </property>\n    \x3c!--å°å¯¹åºçvalueä¿®æ¹ä¸ºmysqlæ°æ®åºçç»å½å¯ç --\x3e\n    <property>\n        <name>javax.jdo.option.connectionpassword</name>\n        <value>123456789</value>\n        <description>password to use against metastore database</description>\n    </property>\n</configuration>\n\n\n2.1 ç¬¬ä¸æ­¥åç¬¬åæ­¥ä¸åè¡å??? æèå ä¸???(æèªå·±æ²¡å3,4æ­¥)\n\n<property>\n   <name>system:java.io.tmpdir</name>\n   <value>/soft/module/hive/tmpdir</value>\n</property>\n \n<property>\n     <name>system:user.name</name>\n     <value>root</value>\n</property>\n\n\n 3. ä¿®æ¹hive-site.xmlä¸­çä¸´æ¶ç®å½ å°hive-site.xmlæä»¶ä¸­ç${system:java.io.tmpdir}æ¿æ¢ä¸ºhiveçä¸´æ¶ç®å½ï¼ä¾å¦ææ¿æ¢ä¸º/soft/module/hive/tmp/ï¼è¯¥ç®å½å¦æä¸å­å¨åè¦èªå·±æå·¥åå»ºï¼å¹¶ä¸èµäºè¯»åæéã\n 4. å°éç½®æä»¶ä¸­${system:user.name}é½æ¿æ¢ä¸ºroot\n 5. éç½®å®æ¯åï¼å¦æå¯å¨ hive å¼å¸¸ï¼å¯ä»¥éæ°å¯å¨èææºãï¼éå¯åï¼å«å¿äºå¯ å¨ hadoop éç¾¤ï¼\n\n\n# 5.å¯å¨åæµè¯\n\nhttps://www.jianshu.com/p/7b1b21bf05c2\n\n> 1ãå³é­é²ç«å¢ 2ãå¼å¯ mysqlå¤é¾æé 3ãjaråå²çªï¼å é¤hiveä¸ 4ãéç½®hive-site.xml\n\n * åå§åæ°æ®åºï¼cd $hive_home/bin schematool -initschema -dbtype mysql\n * å¯å¨hive: cd $hive_home/bin è¿å¥hiveçbinç®å½./hive æ§è¡hiveå¯å¨\n * æµè¯hive\n   * ç®åæµè¯show functions; desc function sum;\n   * è¿æ¥æµè¯\n     å¨æåå»ºç«è¿æ¥åï¼è¿å¥mysqlæ°æ®åºï¼ä¼åç°å¤äºä¸ä¸ªmetastoreæ°æ®åºï¼è¿ä¸ªæ°æ®åºå°±æ¯ç¨æ¥å­å¨hiveçåæ°æ®ä¿¡æ¯ã\n   * æ§è¡æ°å»ºåº show databases; create database test_db; use test_db; show tables; create table student(id int,name string) row format delimited fields terminated by '\\t'; load data local inpath '/soft/module/hive/student.txt' into table student; insert into student values(1000,\"ss\");\n   * hadoopçhdfsé¡µé¢ä¸æ¥ç\n   * mysqlçhiveæ°æ®åºä¸­æ¥ç(å¯è§åå·¥å·)\n\n----------------------------------------\n\n 1. å³é­ å¯ä»¥éè¿ps -ef|grep hive æ¥çhive çç«¯å£å·ï¼ç¶åkill æç¸å³çè¿ç¨ã\n 2. å¯å¨ å½ä»¤ hive --service metastore & hive --service hiveserver2 & nohup hive --service metastore 2>&1 &\n    ç¨æ¥å¯å¨metastore nohup hive --service hiveserver2 2>&1 & ç¨æ¥å¯å¨hiveserver2 å¯ä»¥éè¿æ¥çæ¥å¿ï¼æ¥ç¡®è®¤æ¯å¦æ­£å¸¸å¯å¨ã æ³¨æï¼å¦æ hiveserver2 ä¸å¯å¨ï¼jdbcå°æ æ³æ­£å¸¸è¿æ¥\n\n\n# 6.hiveåºæ¬æä½\n\n * å¯å¨ hive bin/hive\n * æ¥çæ°æ®åºhive> show databases;\n * æå¼é»è®¤æ°æ®åº hive> use default;\n * æ¾ç¤º default æ°æ®åºä¸­çè¡¨hive> show tables;\n * åå»ºä¸å¼ è¡¨hive> create table student(id int, name string);\n * æ¾ç¤ºæ°æ®åºä¸­æå å¼ è¡¨hive> show tables;\n * æ¥çè¡¨çç»æhive> desc student;\n * åè¡¨ä¸­æå¥æ°æ®hive> insert into student values(1000,\"ss\");\n * æ¥è¯¢è¡¨ä¸­æ°æ®hive> select * from student;\n * éåº hive hive> quit;\n * æ¸ç©ºè¡¨ truncate table student;\n * å¯¼å¥æ°æ®ä¸ç§æ¹å¼(æ°æ®é´ä»¥tabåé)\n   * hadoop -putæ¹å¼: hadoop fs -put student.txt /user/hive/warehouse/test_db.db/student\n   * hiveå½ä»¤è¡(æ¬å°): load data local inpath '/soft/module/hive/student.txt' into table student;\n   * hiveå½ä»¤è¡(hdfs): load data inpath 'hdfsè·¯å¾(user/...)' into table student;\n\n----------------------------------------\n\n\n# ä¸. java apiç¯å¢åå¤\n\n\n# 1. centos7å¯å¨æå¡\n\n * ä¿®æ¹hadoopéç½®vim core-site.xml\n\n<property>\n    <name>hadoop.proxyuser.root.groups</name>\n    <value>*</value>   \n</property>  \n<property>      \n    <name>hadoop.proxyuser.root.hosts</name>\n    <value>*</value>\n</property>\n\n\nååæä»¶\n\n * å¯å¨å½ä»¤ /soft/module/hive/bin/hive --service hiveserver2 &(å¨nativeçnamenodeå¯å¨)\n   å½ä»¤å¯å¨åæèµ·,ä¸¤ç§æ¹å¼è§£å³è¿ç§ä¸ä¾¿:\n   * éæ°æå¼ä¸ä¸ªxshellè¿æ¥ï¼åå¶ä»çlinuxå½ä»¤æä½ï¼æå¡å¯å¨çä¼è¯ä¿ç\n   * ä½¿ç¨linux nohupå½ä»¤ï¼å¯ä»¥é²æ­¢æå¡å¯å¨æèµ·nohup:ignoring input and appending output to 'nohup.out' å®ä¼å°æå¡å¯å¨çæ¥å¿è¾åºå°å½åç®å½ä¸çnohup.outæä»¶åï¼æä»¬æ¥çä¸åå®¹cat nohup.out\n   * å¯å¨åç¨jpsrunjarè¿ç¨æå¨uiçé¢æ¥ç\n\n\n# 2. eclipseéç½®\n\n-jaråéç½® - æéå¿é¡»çjaråï¼ç¼è¾æèªå·±çlibéç½®å°å·¥ç¨ä¸­ï¼æ¨èï¼ å¶å®ææjaråé½å¨${hive_home}/libç®å½ä¸ï¼è¿éåç¤ºä¸éè¦çjarååï¼ ${hadoop_home}/share/hadoop/common/hadoop-common-2.2.0.jar(mrå·¥ç¨ä¸­å·²å­å¨ï¼æ éåæ¬¡æ·»å ï¼å¦ææ°å»ºé¡¹ç®ééç½® $ { hive_home } /lib/hive-exec-0.11.0.jar $ { hive_home } /lib/hive-jdbc-0.11.0.jar $ { hive_home } /lib/hive-metastore-0.11.0.jar $ { hive_home } /lib/hive-service-0.11.0.jar $ { hive_home } /lib/libfb303-0.9.0.jar $ { hive_home } /lib/commons-logging-1.0.4.jar ï¼æ­¤jaråå·²ç»å­å¨å°±ä¸è¦åæ¬¡æ·»å ï¼ $ { hive_home } /lib/slf4j-api-1.6.1.jarï¼æ­¤jaråå·²ç»å­å¨å°±ä¸è¦åæ¬¡æ·»å ï¼ - å¯¼å¥jarå - ä¿®æ¹pom.xmléç½®æä»¶ï¼ä¸æ¨èï¼ä¼ä¸è½½é¢å¤å¾å¤æ ç¨åï¼èä¸æ¶é´å¾é¿å¨1å°æ¶å·¦å³ï¼\n\n<dependency>\n    <groupid>org.apache.hive</groupid>\n    <artifactid>hive-jdbc</artifactid>\n    <version>2.3.6</version>\n</dependency>\n\n\n\n# é:ä¸ä¸ªéè¯¯\n\n * user: banana is not allowed to impersonate root ä¿®æ¹éç½®æä»¶core-site.xml\n\n<property>\n    <name>hadoop.proxyuser.banana.groups</name>\n    <value>*</value>   \n</property>  \n<property>      \n    <name>hadoop.proxyuser.banana.hosts</name>\n    <value>*</value>\n</property>\n\n\n * user: banana is not allowed to impersonate banana\n   è¿ä¸ªåºè¯¥æ¯æ²¡å¨activeçnamenodeä¸å¯å¨çåå , ä½æèªå·±å°±æ¯å¨activeä¸å¯å¨çå,namenodeæ»ä¼è«åææ,æåç´æ¥æå¦ä¸ä¸ªnamenode killæ,å°±å¥½ä½¿äº\n   å¿è®°ååæä»¶core-site.xmlä¸¤å¤©äº!!!!!!!!!!",charsets:{cjk:!0},lastUpdated:"2022/09/09, 11:16:19",lastUpdatedTimestamp:1662693379e3},{title:"Hiveç¸å³",frontmatter:{title:"Hiveç¸å³",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/dd806a/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/02.Hive%E7%9B%B8%E5%85%B3.html",relativePath:"02.å¤§æ°æ®/03.Hive/02.Hiveç¸å³.md",key:"v-786d75c7",path:"/pages/dd806a/",headers:[{level:2,title:"æ°æ®ä»æ¬å°å¯¼å¥",slug:"æ°æ®ä»æ¬å°å¯¼å¥",normalizedTitle:"æ°æ®ä»æ¬å°å¯¼å¥",charIndex:2},{level:2,title:"æ°æ®ä»hdfså¯¼å¥",slug:"æ°æ®ä»hdfså¯¼å¥",normalizedTitle:"æ°æ®ä»hdfså¯¼å¥",charIndex:1085},{level:2,title:"è¡¨æ ¼æä½",slug:"è¡¨æ ¼æä½",normalizedTitle:"è¡¨æ ¼æä½",charIndex:1178},{level:2,title:"æ°æ®æä½",slug:"æ°æ®æä½",normalizedTitle:"æ°æ®æä½",charIndex:2037},{level:2,title:"hiveå¤å(éå)æ°æ®ç±»å",slug:"hiveå¤å-éå-æ°æ®ç±»å",normalizedTitle:"hiveå¤å(éå)æ°æ®ç±»å",charIndex:2171},{level:2,title:"ç®¡çè¡¨åå¤é¨è¡¨",slug:"ç®¡çè¡¨åå¤é¨è¡¨",normalizedTitle:"ç®¡çè¡¨åå¤é¨è¡¨",charIndex:3326},{level:2,title:"ååºè¡¨(åç®å½)",slug:"ååºè¡¨-åç®å½",normalizedTitle:"ååºè¡¨(åç®å½)",charIndex:3880},{level:2,title:"ååºè¡¨æ³¨æäºé¡¹",slug:"ååºè¡¨æ³¨æäºé¡¹",normalizedTitle:"ååºè¡¨æ³¨æäºé¡¹",charIndex:5472},{level:2,title:"åæ¡¶è¡¨",slug:"åæ¡¶è¡¨",normalizedTitle:"åæ¡¶è¡¨",charIndex:6705},{level:2,title:"ç´¢å¼(å¾æ·»å )",slug:"ç´¢å¼-å¾æ·»å ",normalizedTitle:"ç´¢å¼(å¾æ·»å )",charIndex:8449},{level:2,title:"ç³»ç»å½æ°",slug:"ç³»ç»å½æ°",normalizedTitle:"ç³»ç»å½æ°",charIndex:8461},{level:3,title:"æ°å­¦å½æ°",slug:"æ°å­¦å½æ°",normalizedTitle:"æ°å­¦å½æ°",charIndex:8575},{level:3,title:"æ¥æå½æ°",slug:"æ¥æå½æ°",normalizedTitle:"æ¥æå½æ°",charIndex:9483},{level:3,title:"å­ç¬¦ä¸²å½æ°",slug:"å­ç¬¦ä¸²å½æ°",normalizedTitle:"å­ç¬¦ä¸²å½æ°",charIndex:10229},{level:3,title:"èåå½æ°",slug:"èåå½æ°",normalizedTitle:"èåå½æ°",charIndex:13046},{level:3,title:"å¶ä»ï¼è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»åï¼",slug:"å¶ä»-è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»å",normalizedTitle:"å¶ä»ï¼è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»åï¼",charIndex:13328},{level:3,title:"lateral view ä¸ explode ä»¥å reflectï¼å¾å®åï¼",slug:"lateral-view-ä¸-explode-ä»¥å-reflect-å¾å®å",normalizedTitle:"lateral view ä¸ explode ä»¥å reflectï¼å¾å®åï¼",charIndex:14054},{level:3,title:"çªå£å½æ°",slug:"çªå£å½æ°",normalizedTitle:"çªå£å½æ°",charIndex:14097},{level:2,title:"èªå®ä¹å½æ°(UDFãUDAFãUDTF)",slug:"èªå®ä¹å½æ°-udfãudafãudtf",normalizedTitle:"èªå®ä¹å½æ°(udfãudafãudtf)",charIndex:14927},{level:2,title:"Java APIä»£ç ",slug:"java-apiä»£ç ",normalizedTitle:"java apiä»£ç ",charIndex:15481}],headersStr:"æ°æ®ä»æ¬å°å¯¼å¥ æ°æ®ä»hdfså¯¼å¥ è¡¨æ ¼æä½ æ°æ®æä½ hiveå¤å(éå)æ°æ®ç±»å ç®¡çè¡¨åå¤é¨è¡¨ ååºè¡¨(åç®å½) ååºè¡¨æ³¨æäºé¡¹ åæ¡¶è¡¨ ç´¢å¼(å¾æ·»å ) ç³»ç»å½æ° æ°å­¦å½æ° æ¥æå½æ° å­ç¬¦ä¸²å½æ° èåå½æ° å¶ä»ï¼è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»åï¼ lateral view ä¸ explode ä»¥å reflectï¼å¾å®åï¼ çªå£å½æ° èªå®ä¹å½æ°(UDFãUDAFãUDTF) Java APIä»£ç ",content:'# æ°æ®ä»æ¬å°å¯¼å¥\n\nè¡¨æ ¼ä¿¡æ¯:\n\nQD01012018070009        å¼ åç  M       å±±ä¸ç§æå¤§å­¦    è®¡ç®æº\nQD01012017050004        testå¼ é£        M       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nQD01012017030001        å­¦åç§¦å°å»º      M       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nQD01012017050003        å°å    M       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nQD01012017050006        thomas  M       åå¼    ç©ç\nQD01012017050007        hello kity      F       åå¼    ç©ç\nQD01012017050002        å°æ    M       æ·±å¤§    è®¡ç®æº\nQD010120180011 12345   M       12345   12345\nQD01012017050005        åµåµ    F       åäº¬åå·¥å¤§å­¦    ä¿¡æ¯å·¥ç¨\nQD01012018070008        æµè¯å­¦ç        M       qd      rg\nQD010120180010  123     F       123     123\n\n\nåå»ºè¡¨æ ¼:\n\ncreate table student_2(code string,name string,gender string,school string,profession string)\n comment \'this is a student table\'\n row format delimited fields terminated by \'\\t\'\n stored as textfile; \n\ncreate table stu_kongge(id int, name string)  \nrow format delimited fields terminated by \' \';\n\n\nä»æ¬å°å¯¼å¥æ°æ®:\n\nload data local inpath \'/soft/module/datas/short-student-utf8.txt\' into table student_2;\n\næ¥çï¼hadoop fs -cat /user/hive/warehouse/test_db.db/student_2/short-student-utf8.txt\n\n\n\n# æ°æ®ä»hdfså¯¼å¥\n\nload data inpath \'/ahb/datas/short-student-utf8_add.txt\' into table student;\n\n\n\n# è¡¨æ ¼æä½\n\næ¸é¤è¡¨åå®¹: truncate table student;\t\nå é¤è¡¨: drop table student;\néå½å:  alter table student_2 rename to student;\næ·»å å: alter table student add columns (grade string,class string); --å¯¼å¥æ°æ®: åæ¸ç©ºè¡¨,åå¯¼å¥æ´çå¥½çæ°æ®\næ´æ¹åé¡ºåº: ALTER TABLE è¡¨å CHANGE åå åå STRING COMMENT \'åæ³¨é\' AFTER åå;\nå é¤å: alter table student drop column class string;\n        alter table student replace columns (code string,name string,gender string,school string,profession string,grade string);\nä¿®æ¹ååä¸ç±»å: alter table student change class banji double;(Stringè½¬æ¢ä¸ºDouble) --æ æ³double to intè½¬æ¢ä¸ºString to intædouble to intè½¬æ¢ä¸ºdouble to int ã\næ¿æ¢åå±æ§: \n        æ´æ°å:\n        ALTER TABLE table_name CHANGE [COLUMN] col_old_name col_new_name column_type [COMMENT col_comment] [FIRST|AFTER column_name]\n        å¢å åæ¿æ¢å:\n        ALTER TABLE table_name ADD|REPLACE COLUMNS (col_name data_type [COMMENT col_comment], ...)\n\n\n\n# æ°æ®æä½\n\næ°æ®æ¥è¯¢  select school,count(*) from student_2 group by school;\næ°æ®æ´æ°  update student set grade=\'17\' where 1=1;  --éç½®æä»¶åå»ºè¡¨æ¶æè¦æ±\n\n\n\n# hiveå¤å(éå)æ°æ®ç±»å\n\n * å»ºè¡¨\n\ncreate table t5_struct(\nid int,\nname string,\ninfo struct<city: string ,subway:string > ) \nrow format delimited fields terminated by \'\\t\'\ncollection items terminated by \',\';\n\n\næ°æ®æ ¼å¼\n\n{\n    "name": "songsong",\n    "friends": ["bingbing" , "lili"],      //åè¡¨ Array\n    "children": {                     //é®å¼å¯¹Map\n        "xiao song": 18 , "xiaoxiao song": 19\n    }\n    "address":{           //ç»æä½Struct\n        "street": "hui long guan", \n        "city": "beijing"\n    }\n}\n\n\n * åå»ºè¡¨:[ terminate:ç»æ­¢,ç»æ ] [ street:è¡é ]\n\ncreate table people(\n    name string,\n    friends array<string>,\n    children map<string,int>,\n    address struct<street:string,city:string>)\nrow format delimited\nfields terminated by \',\'\ncollection items terminated by \'_\'\nmap keys terminated by \':\';\n\nå­æ®µè§£éï¼\nrow format delimited fields terminated by \',\'   -- ååéç¬¦\ncollection items terminated by \'_\'          --MAP STRUCT å ARRAY çåéç¬¦(æ°æ®åå²ç¬¦å·)\nmap keys terminated by \':\'                          -- MAP ä¸­çkey ä¸ value çåéç¬¦\nlines terminated by \'\\n\';                              -- è¡åéç¬¦\n\n\næ°æ®æ ¼å¼\n\nå¼ ä¼,é»è¾é¸¿_æ¾å°è´¤_è¡ä¸è²,å¼ å°ä¼:18_å¼ å¤§ä¼:24,å±ä¸è·¯_ä¸æµ·\nåå°å¸,éç¾å_åæ æ _å³è°·ç¥å¥,å°å°å¸:20_åå°å°:25,å¹¸ç¦é_ä¸æµ·\n\n\n\n# ç®¡çè¡¨åå¤é¨è¡¨\n\nçè®º\n\n> å ä¸ºè¡¨æ¯å¤é¨è¡¨ï¼æä»¥ Hive å¹¶éè®¤ä¸ºå¶å®å¨æ¥æè¿ä»½æ°æ®ãå é¤è¯¥è¡¨å¹¶ä¸ä¼å é¤æè¿ä»½æ°æ®ï¼ä¸è¿æè¿°è¡¨çåæ°æ®ä¿¡æ¯ä¼è¢«å é¤æã\n\nç®¡çè¡¨åå¤é¨è¡¨çä½¿ç¨åºæ¯\n\n> æ¯å¤©å°æ¶éå°çç½ç«æ¥å¿å®ææµå¥HDFS ææ¬æä»¶ãå¨å¤é¨è¡¨ï¼åå§æ¥å¿è¡¨ï¼çåºç¡ä¸åå¤§éçç»è®¡åæï¼ç¨å°çä¸­é´è¡¨ãç»æè¡¨ä½¿ç¨åé¨è¡¨å­å¨ï¼æ°æ®éè¿ SELECT+INSERT è¿å¥åé¨è¡¨ã\n\nå»ºå¤é¨è¡¨\n\ncreate external table if not exists default.emp( empno int,\nename string, \njob string, \nmgr int,\nhiredate string, \nsal  double, \ncomm double,\ndeptno int)\nrow format delimited fields terminated by \'\\t\';\n\n\nç®¡çè¡¨åå¤é¨è¡¨ç¸äºè½¬æ¢\n\nåé¨è¡¨è½¬ä¸ºå¤é¨è¡¨\nalter table student2 set tblproperties(\'EXTERNAL\'=\'TRUE\');\nå¤é¨è¡¨è½¬ä¸ºåé¨è¡¨\nalter table student2 set tblproperties(\'EXTERNAL\'=\'FALSE\');\n\n\n\n# ååºè¡¨(åç®å½)\n\nå»ºè¡¨\n\ncreate table student2(code string,name string,gender string,school string,profession string,grade string)\npartitioned by (class int)\nrow format delimited fields terminated by \'\\t\'\nstored as textfile;\n\n\nå è½½æ°æ®\n\nload data local inpath "/soft/datas/short-student-utf8_classNO1.txt" into table student2 partition(class=1)\n\n\næ©å±\n\nå¤ååºèåæ¥è¯¢\n\nå¢å ååº\nåå»ºåä¸ªååº\nalter table student2 add partition(class=3);\nåæ¶åå»ºå¤ä¸ªååº\nalter table studet2 add partition(class=4) partition(class=5)\n\nå é¤ååº\nå é¤åä¸ªååº\nalter table student2 drop partition(class=3);\nåæ¶å é¤å¤ä¸ªååº\nalter table student2 drop partition(class=4),partition(class=5);\n\næ¥çååºè¡¨æå¤å°ååº\nshow partitions student2;\n\næ¥çååºè¡¨ç»æ\ndesc formatted student2;\næ¹éå é¤ååº\nalter table schema.table_name drop partition (ds&lt;\'2018-08-01\');\n\næ¹éå é¤ååºèæ¬\n#!/bin/sh\nif [ $# == 3 ]; then\n    begin_date=`date -d "+0 day $2" +%Y-%m-%d`\n    end_date=`date -d "+0 day $3" +%Y-%m-%d`\n    date=${end_date}\n    sql=\'\'\n    while [[ "${date}" > "${begin_date}" || "${date}" = "${begin_date}" ]]\n          do\n              echo $date\n              sql=${sql}"ALTER TABLE $1 DROP IF EXISTS PARTITION(date = \'$date\');"\n              echo ${sql}\n              date=`date -d "$date -1 days" +"%Y-%m-%d"`\n          done \n    echo "hive -e \'${sql}\' "\n    hive -e "${sql}"\nelif [ $# == 1 ]; then\n    date=`date -d -1days \'+%Y-%m-%d\'`\n    echo "hive -e \'ALTER TABLE $1 DROP IF EXISTS PARTITION(date = \'$date\');\'"\n    hive -e "ALTER TABLE $1 DROP IF EXISTS PARTITION(date = \'$date\');"\nelse \n    echo \'Parameter error!\'\nfi\nââââââââââââââââ\nåæé¾æ¥ï¼https://blog.csdn.net/fanlying/article/details/78688003\n\n\n\n# ååºè¡¨æ³¨æäºé¡¹\n\n1.åå»ºäºçº§ååºè¡¨\ncreate table student2(code string,name string,gender string,school string,profession string)\npartitioned by (grade string,class int)\nrow format delimited fields terminated by \'\\t\';\n\n2.å è½½å°äºçº§ååºè¡¨\nload data local inpath "" into table student2 partition2 partition(grade="18",class=1);\nselect * from student2 where grade="" and class=""\n\n\nå¨æååºç¤ºä¾ï¼æºè¡¨å­æ®µåè¾åºååºå¼ä¹é´çå³ç³»æ¯æ ¹æ®ä½ç½®èä¸æ¯æ ¹æ®å½åæ¥å¹éçï¼ä¹å¯ä»¥éæååºåå¨æååºæ··ç¨\n\ninsert overwrite table ç®æ è¡¨ partition(bdp_day, bdp_year)\nselect\nrel.release_session,\nrel.release_status,\nrel.device_num,\nrel.device_type,\nrel.sources,\nrel.channels,\nfrom_unixtime(rel.ct,\'HH\'),\nfrom_unixtime(rel.ct,\'yyyy-MM-dd HH:mm:ss\'),\nfrom_unixtime(rel.ct,\'yyyy-MM-dd\') as bdp_day  -- ååºå­æ®µ\nfrom_unixtime(rel.ct,\'yyyy\') as x_year       -- äºçº§ååº\nfrom æºè¡¨\n\n\nä½¿ç¨å¨æååºè¡¨å¿é¡»éç½®çåæ° ï¼\n\nset hive.exec.dynamic.partition =true  --ï¼é»è®¤falseï¼,è¡¨ç¤ºå¼å¯å¨æååºåè½\nset hive.exec.dynamic.partition.mode = nonstrict   -- (é»è®¤strict),è¡¨ç¤ºåè®¸ææååºé½æ¯å¨æçï¼å¦åå¿é¡»æéæååºå­æ®µ\n\n\nå¨æååºç¸å³çè°ä¼åæ°ï¼\n\nset  hive.exec.max.dynamic.partitions.pernode=100 ï¼é»è®¤100ï¼ä¸è¬å¯ä»¥è®¾ç½®å¤§ä¸ç¹ï¼æ¯å¦1000ï¼\n       è¡¨ç¤ºæ¯ä¸ªmaperæreducerå¯ä»¥åè®¸åå»ºçæå¤§å¨æååºä¸ªæ°ï¼é»è®¤æ¯100ï¼è¶åºåä¼æ¥éã\nset hive.exec.max.dynamic.partitions =1000(é»è®¤å¼) \n       è¡¨ç¤ºä¸ä¸ªå¨æååºè¯­å¥å¯ä»¥åå»ºçæå¤§å¨æååºä¸ªæ°ï¼è¶åºæ¥é\nset hive.exec.max.created.files =10000(é»è®¤) å¨å±å¯ä»¥åå»ºçæå¤§æä»¶ä¸ªæ°ï¼è¶åºæ¥éã\n\n\n\n# åæ¡¶è¡¨\n\næ³¨ï¼ååºéå¯¹çæ¯æ°æ®çå­å¨è·¯å¾ï¼åæ¡¶éå¯¹çæ¯æ°æ®æä»¶ã åæ¡¶åï¼æ¡¶åæåºï¼æ´ä½ä¸ä¸å®æåºã\n\n> æ°æ®å è½½éè¿hdfs dfs -putæä»¶æèéè¿load dataåï¥§å¥½ä½¿ åå ï¼æ°æ®ä¸ä¼ å°hdfsä¸ï¼è¿ä¸ªè¿ç¨æä¹è¯å«åæ¡¶å­æ®µï¼ææä¹åhashå¼å¢ï¼å¿é¡»ç»è¿MapReduceï¼ loadæ¯putä¸å»ç\n\nç¼ºç¹: å¦æéè¿æ°æ®æä»¶LOAD å°åæ¡¶è¡¨ä¸­ï¼ä¼å­å¨é¢å¤çMRè´æã å®éçäº§ä¸­åæ¡¶ç­ç¥ä½¿ç¨é¢çè¾ä½ï¼æ´å¸¸è§çè¿æ¯ä½¿ç¨æ°æ®ååºã\n\n * ååºéå¯¹çæ¯æ°æ®çå­å¨è·¯å¾ï¼åæ¡¶éå¯¹çæ¯æ°æ®æä»¶ã\n * Hive Loadè¯­å¥ä¸ä¼å¨å è½½æ°æ®çæ¶ååä»»ä½è½¬æ¢å·¥ä½ï¼èæ¯çº¯ç²¹çææ°æ®æä»¶å¤å¶/ç§»å¨å°Hiveè¡¨å¯¹åºçå°åã\n * åæ¡¶è¡¨ å è½½æ°æ® From Select æ¯ç»è¿MR(æ å°åå½çº³)ç\n\n1.æ°æ®åå¤\n\n\n2.åå»ºåæ¡¶è¡¨\ncreate table stu_buck(id int, name string) \nclustered by(id) into 4 buckets\nrow format delimited fields terminated by \'\\t\';\n\n3.æ¥çè¡¨ç»æ\ndesc formatted stu_buck;\n\n4. å¯¼å¥æ°æ®å°åæ¡¶è¡¨\nload data local inpath "/soft/datas/student.txt" into table stu_buck;\n\n===================ä¸å¥½ä½¿====================\n\nåå»ºåæ¡¶è¡¨ï¼æ°æ®éè¿å­æ¥è¯¢æ¹å¼å¯¼å¥\n1.ååå»ºæ®éè¡¨\ncreate table stu(id int, name string)\nrow format delimited fields terminated by \'\\t\';\n\n2.å¯¼å¥æ°æ®å°æ®éè¡¨\nload data local inpath \'/soft/datas/student.txt\' into table stu;\n\n3.åå»ºåæ¡¶è¡¨(æ¸ç©ºåæ¡¶è¡¨)\ntruncate table stu_buck;\nselect * from stu_buck;\n\n4.éè¿å­æ¥è¯¢çæ¹å¼å¯¼å¥æ°æ®å°åæ¡¶è¡¨\ninsert into table stu_buck select id, name from stu;\n\n5.åç°è¿æ¯åªæä¸ä¸ªåæ¡¶\n\n6.è®¾ç½®å±æ§\n    1.set hive.enforce.bucketing=true; #è®¾ç½®è®©hiveå¼ºå¶åæ¡¶ï¼èªå¨æç§åæ¡¶è¡¨çbucket è¿è¡åæ¡¶ [ç¨åºèªå¨åéreduceçæ°éä»èééç¸åºçbucket;] \n    2.set mapreduce.job.reduces=-1;    #-1æ¯ä¸æå®reduceæ°é\ninsert into table stu_buck select id, name from stu;\n\n7.æ¥è¯¢åæ¡¶æ°æ®\n select * from stu_buck\n\n\nåæ¡¶æ½æ ·æ¥è¯¢\n\nselect * from stu_buck tablesample(bucket 1 out of 4 on id);\n\næ³¨ï¼tablesample æ¯æ½æ ·è¯­å¥ï¼è¯­æ³ï¼TABLESAMPLE(BUCKET x OUT OF y) ã\n\ny å¿é¡»æ¯ table æ» bucket æ°çåæ°æèå å­ãhive æ ¹æ® y çå¤§å°ï¼å³å®æ½æ ·çæ¯ä¾ãä¾å¦ï¼table æ»å±åäº 4 ä»½ï¼å½ y=2 æ¶ï¼æ½å(4/2=)2 ä¸ªbucket çæ°æ®ï¼å½ y=8 æ¶ï¼æ½å(4/8=)1/2 ä¸ª bucket çæ°æ®ã\nx è¡¨ç¤ºä»åªä¸ª bucket å¼å§æ½åï¼å¦æéè¦åå¤ä¸ªååºï¼ä»¥åçååºå·ä¸ºå½åååºå·å ä¸yãä¾å¦ï¼table æ» bucket æ°ä¸º 4ï¼tablesample(bucket 1 out of 2)ï¼è¡¨ç¤ºæ»å±æ½åï¼4/2=ï¼2 ä¸ª\n\nbucket çæ°æ®ï¼æ½åç¬¬ 1(x)ä¸ªåç¬¬ 3(x+y)ä¸ª bucket çæ°æ®ãæ³¨æï¼x çå¼å¿é¡»å°äºç­äº y çå¼ï¼å¦å\nFAILED: SemanticException [Error 10061]: \n\n\n\n# ç´¢å¼(å¾æ·»å )\n\n\n# ç³»ç»å½æ°\n\n1.æ¥çç³»ç»èªå¸¦å½æ° show functions;\n2.æ¾ç¤ºèªå¸¦å½æ°ç¨æ³ desc function upper;\n3.è¯¦ç»æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³ desc function extended upper\n\n\n\n# æ°å­¦å½æ°\n\nç¹å»æ¥ç\n\nselect round(-2.5);    #åèäºå¥\nselect round(0.131415926,3);    #ä¿çnä½å°æ°\nselect bround(2.5); select bround(3.5);    #2 4é¶è¡å®¶èå¥æ³(åèå­å¥äºåå¶)\né¶è¡å®¶èå¥æ³:åèå­å¥äºèèï¼äºåéç©ºå°±è¿ä¸ï¼äºåä¸ºç©ºçå¥å¶ï¼äºåä¸ºå¶åºèå»ï¼äºåä¸ºå¥è¦è¿ä¸\nselect bround(2.55554,3);  #2.556 é¶è¡å®¶èå¥æ³,ä¿çdä½å°æ°\nselect floor(-2.54); #åä¸åæ´(å³å¨æ°è½´ä¸å·¦è¾¹çæ´æ°)\nselect ceil(-2.54);  #åä¸åæ´\nselect rand(); select rand(2);    #è¿åä¸ä¸ªDOUBLEåéæºæ°\nselect exp(2.5); #eçaå¹æ¬¡æ¹\nselect ln(2.5);  #èªç¶æ°ä¸ºåºdçå¯¹æ°\nselect log10(10.0);  #ä»¥10ä¸ºåºdçå¯¹æ°\nselect log2(2.0);  #ä»¥2ä¸ºåºæ°dçå¯¹æ°\nselect log(3,9);  #select log(DOUBLE base, DOUBLE a)ä»¥baseä¸ºåºçå¯¹æ°\nselect pow(2,10);  #açpæ¬¡å¹\nselect sqrt(81);  #açå¹³æ¹æ ¹ \nselect bin(5); select bin(15); #äºè¿å¶açSTRINGç±»å bin(BIGINT a)\nselect hex(15); #åå­è¿å¶açSTRINGç±»å hexçéæ¹æ³ unhex(STRING a)\nselect conv(15,10,2); #æåè¿å¶ç15è½¬æ¢ä¸ºäºè¿å¶\nselect abs(-3);  #ç»å¯¹å¼\nselect pmod(13,4);  #åæ¨¡\nselect sin(60);  #æ­£å¼¦å¼  \nselect asin(1);  #åæ­£å¼¦å¼ å®ä¹å[-1,1]\nselect e(); # æ±e\nselect pi(); # æ±pi\nselect factorial(5);  #é¶ä¹\n\n\n\n# æ¥æå½æ°\n\nç¹å»æ¥ç\n\n#è·åå½åæ¶é´æ³\nselect unix_timestamp(); \n#UNIXæ¶é´æ³è½¬æ¥æå½æ°\nselect from_unixtime(1585294471,\'yyyy-MM-dd hh:mm:ss\'); \n#æ¥æè½¬UNIXæ¶é´æ³å½æ° æå®æ ¼å¼æ¥æè½¬UNIXæ¶é´æ³å½æ°\nselect unix_timestamp("2020-03-27 03:34:31"); \nselect unix_timestamp("2020-03-27 03:34:31","yyyy-MM-dd hh:mm:ss");\n#æ¥ææ¶é´è½¬æ¥æ\nselect to_date(\'2020-03-27 03:34:31\');\n#æ¥æåå¹´ select year(\'2020-03-27 03:34:31\');\n#æ¥æåæ select month(\'2020-03-27 03:34:31\');\n#æ¥æåæ¥ select day(\'2020-03-27 03:34:31\');\n#æ¥æåæ¶ select hour(\'2020-03-27 03:34:31\');\n#æ¥æåå select minute(\'2020-03-27 15:34:31\');\n#æ¥æåç§ select second(\'2020-03-27 15:34:31\');\n#æ¥æè½¬å¨ select weekofyear(\'2020-03-27 15:34:31\');\n#æ¥ææ¯è¾ select datediff("2020-3-27","2020-3-2");\n#æ¥æå¢å  select date_add("2020-3-27",25);\n#æ¥æåå° select date_sub("2020-3-27",25);\n\n\n\n# å­ç¬¦ä¸²å½æ°\n\nç¹å»æ¥ç\n\n--å­ç¬¦ä¸²æ¨¡ç³å¹é\n-- LIKEãRLIKEãREGEXPãregexp_replaceãregexp_extract\n\n-- å­ç¬¦ä¸²é¿åº¦                  select length("hello world");\n-- å­ç¬¦ä¸²åè½¬                  select reverse("æ´æ²³é£é¦è¶é¦é£æ²³æ´!");\n-- å­ç¬¦ä¸²è¿æ¥                  select concat("Hello","World");\n-- å¸¦åéç¬¦å­ç¬¦ä¸²è¿æ¥           select concat_ws("\\t","name","age","sex");\n-- å­ç¬¦ä¸²æªå                  substr(str,start),substring(str,start,len)\n                              select substring("æ´æ²³é£é¦è¶é¦é£æ²³æ´",4);\n                              select substring("æ´æ²³é£é¦è¶é¦é£æ²³æ´",4,3);\n-- å­ç¬¦ä¸²è½¬å¤§åå½æ°             upper,ucase\n                              select upper("Hello World");\n-- å­ç¬¦ä¸²è½¬å°åå½æ°ï¼           lower,lcase\n                              select lcase("Hello World");\n-- å»ç©ºæ ¼(ä¸¤è¾¹)                select trim(" Hello World ");\n-- å·¦å»ç©ºæ ¼                    select ltrim(" Hello World ");\n-- å³å»ç©ºæ ¼                    select rtrim(" Hello World ");\n-- æ­£åè¡¨è¾¾å¼æ¿æ¢ å°å­ç¬¦ä¸²Aä¸­çç¬¦åjavaæ­£åè¡¨è¾¾å¼Bçé¨åæ¿æ¢ä¸ºC   regexp_replace(string A, string B, string C)\n                              select regexp_replace(\'hello world\', \'or|ll\', \' \');\n-- æ­£åè¡¨è¾¾å¼è§£æ å°å­ç¬¦ä¸²subjectæç§patternæ­£åè¡¨è¾¾å¼çè§åæåï¼è¿åindexæå®çå­ç¬¦ regexp_extract(string subject, string pattern, int index)\n-- æ³¨æï¼å¨æäºæåµä¸è¦ä½¿ç¨è½¬ä¹å­ç¬¦ï¼ä¸é¢çç­å·è¦ç¨åç«çº¿è½¬ä¹ï¼è¿æ¯javaæ­£åè¡¨è¾¾å¼çè§å\n                              select regexp_extract(\'foothebar\', \'foo(.*?)(bar)\', 1);\n                              select regexp_extract(\'foothebar\', \'foo(.*?)(bar)\', 2);\n-- URLè§£æå½æ° parse_url(string urlString, string partToExtract [, string keyToExtract])\n-- è¿åURLä¸­æå®çé¨åãpartToExtractçææå¼ä¸ºï¼HOST, PATH, QUERY, REF, PROTOCOL, AUTHORITY, FILE, and USERINFO\n                              select parse_url("https://www.bilibili.com/video/BV1yE411v7Pq/?spm_id_from=333.788.videocard.1","HOST");\n-- jsonè§£æå½æ° è§£æjsonçå­ç¬¦ä¸²json_string,è¿åpathæå®çåå®¹ãå¦æè¾å¥çjsonå­ç¬¦ä¸²æ æï¼é£ä¹è¿åNULL\nselect get_json_object(\'{"store":\n{"fruit":\\[{"weight":8,"type":"apple"},{"weight":9,"type":"pear"}],\n"bicycle":{"price":19.95,"color":"red"}\n},\n"email":"amy@only_for_json_udf_test.net",\n"owner":"amy"\n}\',\'$.owner\');\n\n-- ç©ºæ ¼å­ç¬¦ä¸²å½æ° è¿åé¿åº¦ä¸ºnçå­ç¬¦ä¸²           select space(10); select length(space(10));\n-- éå¤å­ç¬¦ä¸²å½æ° è¿åéå¤næ¬¡åçstrå­ç¬¦ä¸²      select repeat(\'hello\',3);\n-- é¦å­ç¬¦asciiå½æ° è¿åå­ç¬¦ä¸²strç¬¬ä¸ä¸ªå­ç¬¦çasciiç       select ascii("hello");\n-- å·¦è¡¥è¶³å½æ° å°strè¿è¡ç¨padè¿è¡å·¦è¡¥è¶³å°lenä½ lpad(string str, int len, string pad) select lpad("string",10,"do"); #dodostring\n-- å³è¡¥è¶³å½æ°                                 select rpad("string",10,"do");\n-- åå²å­ç¬¦ä¸²å½æ° æç§patå­ç¬¦ä¸²åå²strï¼ä¼è¿ååå²åçå­ç¬¦ä¸²æ°ç» split(string str, string pat)\n                                             select split("pneumonoultramicroscopicsilicovolcanoconiosis","n");\n                                             ç»æ:["p","eumo","oultramicroscopicsilicovolca","oco","iosis"]\n-- éåæ¥æ¾å½æ° strå¨strlistç¬¬ä¸æ¬¡åºç°çä½ç½®ï¼strlistç¨éå·åå²,0æªæ¾å°   find_in_set(string str, string strList)\n                                             select find_in_set(\'ab\',\'ef,ab,de\');\n\n\n\n\n# èåå½æ°\n\nç¹å»æ¥ç\n\ncount(),max(),min(),sum(),avg() ç­å¸¸ç¨çèåå½æ°\n\n\n> æ³¨æï¼\n> èåæä½æ¶è¦æ³¨æ null å¼\n> count(*) åå« null å¼ï¼ç»è®¡ææè¡æ°\n> count(id) ä¸åå« null å¼\n> min æ±æå°å¼æ¯ä¸åå« nullï¼é¤éææå¼é½æ¯ null\n> avg æ±å¹³åå¼ä¹æ¯ä¸åå« null\n\n-- éç©ºéåæ»ä½åéå½æ°: var_pop\n-- éç©ºéåæ ·æ¬åéå½æ°: var_samp\n-- æ»ä½æ ååç¦»å½æ°: stddev_pop\n-- ä¸­ä½æ°å½æ°: percentile\n\n\n\n# å¶ä»ï¼è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»åï¼\n\nç¹å»æ¥ç\n\nå³ç³»è¿ç® =. <. >. IS NULL. LIKE. PLIKE. REGEXP\næ°å­¦è¿ç®+ - * / % &  | ~ ^\né»è¾è¿ç®AND OR NOT\næ¡ä»¶å½æ°\n-- if(boolean testCondition, T valueTrue, T valueFalseOrNull)\n-- æ¡ä»¶å¤æ­å½æ°ï¼case when \n-- éç©ºæ¥æ¾å½æ°:coalesce(T v1, T v2, â¦)\n\néåç»è®¡å½æ°ç­ç­...count ç´æ¹å¾: histogram_numeric ä¸­ä½æ°å½æ°: percentile æ»ä½æ ååç¦»å½æ°: stddev_pop\nå¤åç±»åæå»ºmap. struct. array\n-- Mapç±»åæå»º:map (key1, value1, key2, value2, â¦)\n-- Struct ç±»åæå»º:struct(val1, val2, val3, â¦)\n-- array ç±»åæå»º:array(val1, val2, â¦)\n\nå¤æç±»åè®¿é®æä½A[n]  M[key]  S.x\n-- array ç±»åè®¿é®:è¯­æ³: A[n]\n-- map ç±»åè®¿é®:è¯­æ³: M[key]\n-- struct ç±»åè®¿é®:è¯­æ³: S.x\n\nå¤æç±»åé¿åº¦ç»è®¡å½æ° size(Map<k .V>) size(Array<T>) ç±»åè½¬æ¢å½æ°\n-- Map ç±»åé¿åº¦å½æ°:è¯­æ³: size(Map<k .V>)\n-- array ç±»åé¿åº¦å½æ°:è¯­æ³: size(Array<T>)\n-- ç±»åè½¬æ¢å½æ°: cast  è¯­æ³: cast(expr as <type>)\n\n\n\n# lateral view ä¸ explode ä»¥å reflectï¼å¾å®åï¼\n\n\n# çªå£å½æ°\n\nç¹å»æ¥ç\n\n# SUMãAVGãMINãMAX\n\n# ROW_NUMBERãRANKãDENSE_RANKãNTILE\n-- ROW_NUMBER()ï¼ ROW_NUMBER()ä» 1 å¼å§ï¼æç§é¡ºåºï¼çæåç»åè®°å½çåºå\n-- RANK() çææ°æ®é¡¹å¨åç»ä¸­çæåï¼æåç¸ç­ä¼å¨åæ¬¡ä¸­çä¸ç©ºä½ã\n-- DENSE_RANK()çææ°æ®é¡¹å¨åç»ä¸­çæåï¼æåç¸ç­ä¼å¨åæ¬¡ä¸­ä¸ä¼çä¸ç©ºä½ã\n-- ntile å¯ä»¥çææ¯ï¼ææåºçæ°æ®éåå¹³ååéå°æå®çæ°éï¼numï¼ä¸ªæ¡¶ä¸­, å°æ¡¶å·åéç»æ¯ä¸è¡ãå¦æä¸è½å¹³ååéï¼åä¼ååéè¾å°ç¼å·çæ¡¶ï¼å¹¶ä¸åä¸ªæ¡¶ä¸­è½æ¾çè¡æ°æå¤ç¸å·® 1ã\n\n# LAGãLEADãFIRST_VALUEãLAST_VALUE\n-- LAG(col,n,DEFAULT) ç¨äºç»è®¡çªå£åå¾ä¸ç¬¬ n è¡å¼ã\n-- LEAD(col,n,DEFAULT) ç¨äºç»è®¡çªå£åå¾ä¸ç¬¬ n è¡å¼ã\n-- FIRST_VALUE ååç»åæåºåï¼æªæ­¢å°å½åè¡ï¼ç¬¬ä¸ä¸ªå¼ã\n-- LAST_VALUE ååç»åæåºåï¼æªæ­¢å°å½åè¡ï¼æåä¸ä¸ªå¼ã\n\n# CUME_DIST\næ­¤å½æ°çç»æå order by çæåºé¡ºåºæå³ç³»ãCUME_DISTï¼å°äºç­äºå½åå¼çè¡æ°/åç»åæ»è¡æ°ã order é»è®¤é¡ºåº ï¼æ­£åº\næ¯å¦ï¼ç»è®¡å°äºç­äºå½åèªæ°´çäººæ°ï¼æå æ»äººæ°çæ¯ä¾ã\n\n# GROUPING SETSãGROUPING__IDãCUBEãROLLUP\n-- grouping sets æ¯ä¸ç§å°å¤ä¸ª group by é»è¾åå¨ä¸ä¸ª sql è¯­å¥ä¸­çä¾¿å©åæ³ãç­ä»·äºå°ä¸åç»´åº¦ç GROUP BY ç»æéè¿è¡ UNION ALLã\n-- CUBE ï¼ æ ¹æ® GROUP BY çç»´åº¦çææç»åè¿è¡èåã  \n-- ROLLUP ï¼ æ¯ CUBE çå­éï¼ä»¥æå·¦ä¾§çç»´åº¦ä¸ºä¸»ï¼ä»è¯¥ç»´åº¦è¿è¡å±çº§èåãæ¯å¦ï¼ä»¥ month ç»´åº¦è¿è¡å±çº§èåï¼\n\n\n\n\n# èªå®ä¹å½æ°(UDFãUDAFãUDTF)\n\n * UDFï¼User-Defined-Functionï¼ ä¸è¿ä¸åº\n * UDAFï¼User-Defined Aggregation Functionï¼ èéå½æ°ï¼å¤è¿ä¸åº ç±»ä¼¼äºï¼count/max/min\n * UDTFï¼User-Defined Table-Generating Functionsï¼ ä¸è¿å¤åº\n\nUDF\n\nhttps://www.cnblogs.com/swordfall/p/11167486.html\n\n1.ç»§æ¿ org.apache.hadoop.hive.ql.exec.UDF\n   \n2.å®ç° evaluate()å½æ°,æ­¤å½æ°æ¯æéè½½\n\n3.å¨ hive å½ä»¤è¡åå»ºå½æ°\n   1.æ·»å jar\n   add jar /soft/module/datas/GenderUDF.jar\n   2.åå»ºfunction\n   create temporary function [dbname.]gender_udf as "com.hrbu.hive.GenderUDF"\n   \n4.å¨hiveå½ä»¤è¡å é¤å½æ°\ndrop temporary function if exists [dbname.]gender_udf\n\n\n\n# Java APIä»£ç \n\npackage com.hrbu.hive;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\n\n\npublic class TeatApi {\n\t\n\t//é©±å¨åç§°\n\tprivate static String driverName = "org.apache.hive.jdbc.HiveDriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static String url = "jdbc:hive2://192.168.1.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static String user = "";\n\tprivate static String password = "";\n\t\n\tprivate static Connection conn = null;\n\tprivate static Statement stmt = null;\n\tprivate static ResultSet rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@Before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tClass.forName(driverName);\n\t\t\tconn = DriverManager.getConnection(url,user,password);\n\t\t\tstmt = conn.createStatement();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@After //è¡¨ç¤ºå¨ä»»æä½¿ç¨@Testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws SQLException {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@Test\n\tpublic void create_DataBase() throws SQLException {\n\t\tString sql = "create database IF NOT EXISTS hive_jdbc_test";\t//create database IF NOT EXISTS hive_jdbc_test\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@Test\n\tpublic void create_StudentTable() throws SQLException {\n\t\t//String sql0 = "use hive_jdbc_test";\n\t\tString sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tSystem.out.println("Running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@Test\n\tpublic void show_DataBases() throws SQLException {\n\t\tString sql = "show Databases";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@Test\n\tpublic void show_Tables() throws SQLException {\n\t\tString sql = "show tables";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@Test\n\tpublic void load_Data() throws SQLException {\n\t\t//linuxè·¯å¾\n\t\tString filePath = "\'/soft/datas/short-student-utf8.txt\'";\n\t\tString sql = "load data local inpath" + filePath + "overwrite into table student";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@Test\n\tpublic void select_Data() throws SQLException {\n\t\tString sql = "select * from student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\tSystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getString("code") + "\\t" + rs.getString("name") + "\\t" + rs.getString("gender") + "\\t" + rs.getString("school") + "\\t" + rs.getString("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@Test\n\tpublic void count_Data() throws SQLException {\n\t\tString sql = "select count(*) from student";\n\t\tSystem.out.println("Running " + sql);\n\t\trs = stmt.executeQuery(sql);\n\t\tSystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tSystem.out.println(rs.getInt(1));\n\t\t}\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@Test\n\tpublic void drop_DataBase() throws SQLException {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//String sql = "DROP DATABASE IF EXISTS hive_jdbc_test CASCADE";\n\t\tString sql = "DROP DATABASE IF EXISTS hive_jdbc_test";\n\t\tSystem.out.println("Running " + sql);\n\t\tstmt.execute(sql);\n\t\tSystem.out.println("DROP DATABASE success");\n\t}\n}\n',normalizedContent:'# æ°æ®ä»æ¬å°å¯¼å¥\n\nè¡¨æ ¼ä¿¡æ¯:\n\nqd01012018070009        å¼ åç  m       å±±ä¸ç§æå¤§å­¦    è®¡ç®æº\nqd01012017050004        testå¼ é£        m       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nqd01012017030001        å­¦åç§¦å°å»º      m       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nqd01012017050003        å°å    m       åäº¬é®çµå¤§å­¦    è½¯ä»¶å·¥ç¨\nqd01012017050006        thomas  m       åå¼    ç©ç\nqd01012017050007        hello kity      f       åå¼    ç©ç\nqd01012017050002        å°æ    m       æ·±å¤§    è®¡ç®æº\nqd010120180011 12345   m       12345   12345\nqd01012017050005        åµåµ    f       åäº¬åå·¥å¤§å­¦    ä¿¡æ¯å·¥ç¨\nqd01012018070008        æµè¯å­¦ç        m       qd      rg\nqd010120180010  123     f       123     123\n\n\nåå»ºè¡¨æ ¼:\n\ncreate table student_2(code string,name string,gender string,school string,profession string)\n comment \'this is a student table\'\n row format delimited fields terminated by \'\\t\'\n stored as textfile; \n\ncreate table stu_kongge(id int, name string)  \nrow format delimited fields terminated by \' \';\n\n\nä»æ¬å°å¯¼å¥æ°æ®:\n\nload data local inpath \'/soft/module/datas/short-student-utf8.txt\' into table student_2;\n\næ¥çï¼hadoop fs -cat /user/hive/warehouse/test_db.db/student_2/short-student-utf8.txt\n\n\n\n# æ°æ®ä»hdfså¯¼å¥\n\nload data inpath \'/ahb/datas/short-student-utf8_add.txt\' into table student;\n\n\n\n# è¡¨æ ¼æä½\n\næ¸é¤è¡¨åå®¹: truncate table student;\t\nå é¤è¡¨: drop table student;\néå½å:  alter table student_2 rename to student;\næ·»å å: alter table student add columns (grade string,class string); --å¯¼å¥æ°æ®: åæ¸ç©ºè¡¨,åå¯¼å¥æ´çå¥½çæ°æ®\næ´æ¹åé¡ºåº: alter table è¡¨å change åå åå string comment \'åæ³¨é\' after åå;\nå é¤å: alter table student drop column class string;\n        alter table student replace columns (code string,name string,gender string,school string,profession string,grade string);\nä¿®æ¹ååä¸ç±»å: alter table student change class banji double;(stringè½¬æ¢ä¸ºdouble) --æ æ³double to intè½¬æ¢ä¸ºstring to intædouble to intè½¬æ¢ä¸ºdouble to int ã\næ¿æ¢åå±æ§: \n        æ´æ°å:\n        alter table table_name change [column] col_old_name col_new_name column_type [comment col_comment] [first|after column_name]\n        å¢å åæ¿æ¢å:\n        alter table table_name add|replace columns (col_name data_type [comment col_comment], ...)\n\n\n\n# æ°æ®æä½\n\næ°æ®æ¥è¯¢  select school,count(*) from student_2 group by school;\næ°æ®æ´æ°  update student set grade=\'17\' where 1=1;  --éç½®æä»¶åå»ºè¡¨æ¶æè¦æ±\n\n\n\n# hiveå¤å(éå)æ°æ®ç±»å\n\n * å»ºè¡¨\n\ncreate table t5_struct(\nid int,\nname string,\ninfo struct<city: string ,subway:string > ) \nrow format delimited fields terminated by \'\\t\'\ncollection items terminated by \',\';\n\n\næ°æ®æ ¼å¼\n\n{\n    "name": "songsong",\n    "friends": ["bingbing" , "lili"],      //åè¡¨ array\n    "children": {                     //é®å¼å¯¹map\n        "xiao song": 18 , "xiaoxiao song": 19\n    }\n    "address":{           //ç»æä½struct\n        "street": "hui long guan", \n        "city": "beijing"\n    }\n}\n\n\n * åå»ºè¡¨:[ terminate:ç»æ­¢,ç»æ ] [ street:è¡é ]\n\ncreate table people(\n    name string,\n    friends array<string>,\n    children map<string,int>,\n    address struct<street:string,city:string>)\nrow format delimited\nfields terminated by \',\'\ncollection items terminated by \'_\'\nmap keys terminated by \':\';\n\nå­æ®µè§£éï¼\nrow format delimited fields terminated by \',\'   -- ååéç¬¦\ncollection items terminated by \'_\'          --map struct å array çåéç¬¦(æ°æ®åå²ç¬¦å·)\nmap keys terminated by \':\'                          -- map ä¸­çkey ä¸ value çåéç¬¦\nlines terminated by \'\\n\';                              -- è¡åéç¬¦\n\n\næ°æ®æ ¼å¼\n\nå¼ ä¼,é»è¾é¸¿_æ¾å°è´¤_è¡ä¸è²,å¼ å°ä¼:18_å¼ å¤§ä¼:24,å±ä¸è·¯_ä¸æµ·\nåå°å¸,éç¾å_åæ æ _å³è°·ç¥å¥,å°å°å¸:20_åå°å°:25,å¹¸ç¦é_ä¸æµ·\n\n\n\n# ç®¡çè¡¨åå¤é¨è¡¨\n\nçè®º\n\n> å ä¸ºè¡¨æ¯å¤é¨è¡¨ï¼æä»¥ hive å¹¶éè®¤ä¸ºå¶å®å¨æ¥æè¿ä»½æ°æ®ãå é¤è¯¥è¡¨å¹¶ä¸ä¼å é¤æè¿ä»½æ°æ®ï¼ä¸è¿æè¿°è¡¨çåæ°æ®ä¿¡æ¯ä¼è¢«å é¤æã\n\nç®¡çè¡¨åå¤é¨è¡¨çä½¿ç¨åºæ¯\n\n> æ¯å¤©å°æ¶éå°çç½ç«æ¥å¿å®ææµå¥hdfs ææ¬æä»¶ãå¨å¤é¨è¡¨ï¼åå§æ¥å¿è¡¨ï¼çåºç¡ä¸åå¤§éçç»è®¡åæï¼ç¨å°çä¸­é´è¡¨ãç»æè¡¨ä½¿ç¨åé¨è¡¨å­å¨ï¼æ°æ®éè¿ select+insert è¿å¥åé¨è¡¨ã\n\nå»ºå¤é¨è¡¨\n\ncreate external table if not exists default.emp( empno int,\nename string, \njob string, \nmgr int,\nhiredate string, \nsal  double, \ncomm double,\ndeptno int)\nrow format delimited fields terminated by \'\\t\';\n\n\nç®¡çè¡¨åå¤é¨è¡¨ç¸äºè½¬æ¢\n\nåé¨è¡¨è½¬ä¸ºå¤é¨è¡¨\nalter table student2 set tblproperties(\'external\'=\'true\');\nå¤é¨è¡¨è½¬ä¸ºåé¨è¡¨\nalter table student2 set tblproperties(\'external\'=\'false\');\n\n\n\n# ååºè¡¨(åç®å½)\n\nå»ºè¡¨\n\ncreate table student2(code string,name string,gender string,school string,profession string,grade string)\npartitioned by (class int)\nrow format delimited fields terminated by \'\\t\'\nstored as textfile;\n\n\nå è½½æ°æ®\n\nload data local inpath "/soft/datas/short-student-utf8_classno1.txt" into table student2 partition(class=1)\n\n\næ©å±\n\nå¤ååºèåæ¥è¯¢\n\nå¢å ååº\nåå»ºåä¸ªååº\nalter table student2 add partition(class=3);\nåæ¶åå»ºå¤ä¸ªååº\nalter table studet2 add partition(class=4) partition(class=5)\n\nå é¤ååº\nå é¤åä¸ªååº\nalter table student2 drop partition(class=3);\nåæ¶å é¤å¤ä¸ªååº\nalter table student2 drop partition(class=4),partition(class=5);\n\næ¥çååºè¡¨æå¤å°ååº\nshow partitions student2;\n\næ¥çååºè¡¨ç»æ\ndesc formatted student2;\næ¹éå é¤ååº\nalter table schema.table_name drop partition (ds&lt;\'2018-08-01\');\n\næ¹éå é¤ååºèæ¬\n#!/bin/sh\nif [ $# == 3 ]; then\n    begin_date=`date -d "+0 day $2" +%y-%m-%d`\n    end_date=`date -d "+0 day $3" +%y-%m-%d`\n    date=${end_date}\n    sql=\'\'\n    while [[ "${date}" > "${begin_date}" || "${date}" = "${begin_date}" ]]\n          do\n              echo $date\n              sql=${sql}"alter table $1 drop if exists partition(date = \'$date\');"\n              echo ${sql}\n              date=`date -d "$date -1 days" +"%y-%m-%d"`\n          done \n    echo "hive -e \'${sql}\' "\n    hive -e "${sql}"\nelif [ $# == 1 ]; then\n    date=`date -d -1days \'+%y-%m-%d\'`\n    echo "hive -e \'alter table $1 drop if exists partition(date = \'$date\');\'"\n    hive -e "alter table $1 drop if exists partition(date = \'$date\');"\nelse \n    echo \'parameter error!\'\nfi\nââââââââââââââââ\nåæé¾æ¥ï¼https://blog.csdn.net/fanlying/article/details/78688003\n\n\n\n# ååºè¡¨æ³¨æäºé¡¹\n\n1.åå»ºäºçº§ååºè¡¨\ncreate table student2(code string,name string,gender string,school string,profession string)\npartitioned by (grade string,class int)\nrow format delimited fields terminated by \'\\t\';\n\n2.å è½½å°äºçº§ååºè¡¨\nload data local inpath "" into table student2 partition2 partition(grade="18",class=1);\nselect * from student2 where grade="" and class=""\n\n\nå¨æååºç¤ºä¾ï¼æºè¡¨å­æ®µåè¾åºååºå¼ä¹é´çå³ç³»æ¯æ ¹æ®ä½ç½®èä¸æ¯æ ¹æ®å½åæ¥å¹éçï¼ä¹å¯ä»¥éæååºåå¨æååºæ··ç¨\n\ninsert overwrite table ç®æ è¡¨ partition(bdp_day, bdp_year)\nselect\nrel.release_session,\nrel.release_status,\nrel.device_num,\nrel.device_type,\nrel.sources,\nrel.channels,\nfrom_unixtime(rel.ct,\'hh\'),\nfrom_unixtime(rel.ct,\'yyyy-mm-dd hh:mm:ss\'),\nfrom_unixtime(rel.ct,\'yyyy-mm-dd\') as bdp_day  -- ååºå­æ®µ\nfrom_unixtime(rel.ct,\'yyyy\') as x_year       -- äºçº§ååº\nfrom æºè¡¨\n\n\nä½¿ç¨å¨æååºè¡¨å¿é¡»éç½®çåæ° ï¼\n\nset hive.exec.dynamic.partition =true  --ï¼é»è®¤falseï¼,è¡¨ç¤ºå¼å¯å¨æååºåè½\nset hive.exec.dynamic.partition.mode = nonstrict   -- (é»è®¤strict),è¡¨ç¤ºåè®¸ææååºé½æ¯å¨æçï¼å¦åå¿é¡»æéæååºå­æ®µ\n\n\nå¨æååºç¸å³çè°ä¼åæ°ï¼\n\nset  hive.exec.max.dynamic.partitions.pernode=100 ï¼é»è®¤100ï¼ä¸è¬å¯ä»¥è®¾ç½®å¤§ä¸ç¹ï¼æ¯å¦1000ï¼\n       è¡¨ç¤ºæ¯ä¸ªmaperæreducerå¯ä»¥åè®¸åå»ºçæå¤§å¨æååºä¸ªæ°ï¼é»è®¤æ¯100ï¼è¶åºåä¼æ¥éã\nset hive.exec.max.dynamic.partitions =1000(é»è®¤å¼) \n       è¡¨ç¤ºä¸ä¸ªå¨æååºè¯­å¥å¯ä»¥åå»ºçæå¤§å¨æååºä¸ªæ°ï¼è¶åºæ¥é\nset hive.exec.max.created.files =10000(é»è®¤) å¨å±å¯ä»¥åå»ºçæå¤§æä»¶ä¸ªæ°ï¼è¶åºæ¥éã\n\n\n\n# åæ¡¶è¡¨\n\næ³¨ï¼ååºéå¯¹çæ¯æ°æ®çå­å¨è·¯å¾ï¼åæ¡¶éå¯¹çæ¯æ°æ®æä»¶ã åæ¡¶åï¼æ¡¶åæåºï¼æ´ä½ä¸ä¸å®æåºã\n\n> æ°æ®å è½½éè¿hdfs dfs -putæä»¶æèéè¿load dataåä¸å¥½ä½¿ åå ï¼æ°æ®ä¸ä¼ å°hdfsä¸ï¼è¿ä¸ªè¿ç¨æä¹è¯å«åæ¡¶å­æ®µï¼ææä¹åhashå¼å¢ï¼å¿é¡»ç»è¿mapreduceï¼ loadæ¯putä¸å»ç\n\nç¼ºç¹: å¦æéè¿æ°æ®æä»¶load å°åæ¡¶è¡¨ä¸­ï¼ä¼å­å¨é¢å¤çmrè´æã å®éçäº§ä¸­åæ¡¶ç­ç¥ä½¿ç¨é¢çè¾ä½ï¼æ´å¸¸è§çè¿æ¯ä½¿ç¨æ°æ®ååºã\n\n * ååºéå¯¹çæ¯æ°æ®çå­å¨è·¯å¾ï¼åæ¡¶éå¯¹çæ¯æ°æ®æä»¶ã\n * hive loadè¯­å¥ä¸ä¼å¨å è½½æ°æ®çæ¶ååä»»ä½è½¬æ¢å·¥ä½ï¼èæ¯çº¯ç²¹çææ°æ®æä»¶å¤å¶/ç§»å¨å°hiveè¡¨å¯¹åºçå°åã\n * åæ¡¶è¡¨ å è½½æ°æ® from select æ¯ç»è¿mr(æ å°åå½çº³)ç\n\n1.æ°æ®åå¤\n\n\n2.åå»ºåæ¡¶è¡¨\ncreate table stu_buck(id int, name string) \nclustered by(id) into 4 buckets\nrow format delimited fields terminated by \'\\t\';\n\n3.æ¥çè¡¨ç»æ\ndesc formatted stu_buck;\n\n4. å¯¼å¥æ°æ®å°åæ¡¶è¡¨\nload data local inpath "/soft/datas/student.txt" into table stu_buck;\n\n===================ä¸å¥½ä½¿====================\n\nåå»ºåæ¡¶è¡¨ï¼æ°æ®éè¿å­æ¥è¯¢æ¹å¼å¯¼å¥\n1.ååå»ºæ®éè¡¨\ncreate table stu(id int, name string)\nrow format delimited fields terminated by \'\\t\';\n\n2.å¯¼å¥æ°æ®å°æ®éè¡¨\nload data local inpath \'/soft/datas/student.txt\' into table stu;\n\n3.åå»ºåæ¡¶è¡¨(æ¸ç©ºåæ¡¶è¡¨)\ntruncate table stu_buck;\nselect * from stu_buck;\n\n4.éè¿å­æ¥è¯¢çæ¹å¼å¯¼å¥æ°æ®å°åæ¡¶è¡¨\ninsert into table stu_buck select id, name from stu;\n\n5.åç°è¿æ¯åªæä¸ä¸ªåæ¡¶\n\n6.è®¾ç½®å±æ§\n    1.set hive.enforce.bucketing=true; #è®¾ç½®è®©hiveå¼ºå¶åæ¡¶ï¼èªå¨æç§åæ¡¶è¡¨çbucket è¿è¡åæ¡¶ [ç¨åºèªå¨åéreduceçæ°éä»èééç¸åºçbucket;] \n    2.set mapreduce.job.reduces=-1;    #-1æ¯ä¸æå®reduceæ°é\ninsert into table stu_buck select id, name from stu;\n\n7.æ¥è¯¢åæ¡¶æ°æ®\n select * from stu_buck\n\n\nåæ¡¶æ½æ ·æ¥è¯¢\n\nselect * from stu_buck tablesample(bucket 1 out of 4 on id);\n\næ³¨ï¼tablesample æ¯æ½æ ·è¯­å¥ï¼è¯­æ³ï¼tablesample(bucket x out of y) ã\n\ny å¿é¡»æ¯ table æ» bucket æ°çåæ°æèå å­ãhive æ ¹æ® y çå¤§å°ï¼å³å®æ½æ ·çæ¯ä¾ãä¾å¦ï¼table æ»å±åäº 4 ä»½ï¼å½ y=2 æ¶ï¼æ½å(4/2=)2 ä¸ªbucket çæ°æ®ï¼å½ y=8 æ¶ï¼æ½å(4/8=)1/2 ä¸ª bucket çæ°æ®ã\nx è¡¨ç¤ºä»åªä¸ª bucket å¼å§æ½åï¼å¦æéè¦åå¤ä¸ªååºï¼ä»¥åçååºå·ä¸ºå½åååºå·å ä¸yãä¾å¦ï¼table æ» bucket æ°ä¸º 4ï¼tablesample(bucket 1 out of 2)ï¼è¡¨ç¤ºæ»å±æ½åï¼4/2=ï¼2 ä¸ª\n\nbucket çæ°æ®ï¼æ½åç¬¬ 1(x)ä¸ªåç¬¬ 3(x+y)ä¸ª bucket çæ°æ®ãæ³¨æï¼x çå¼å¿é¡»å°äºç­äº y çå¼ï¼å¦å\nfailed: semanticexception [error 10061]: \n\n\n\n# ç´¢å¼(å¾æ·»å )\n\n\n# ç³»ç»å½æ°\n\n1.æ¥çç³»ç»èªå¸¦å½æ° show functions;\n2.æ¾ç¤ºèªå¸¦å½æ°ç¨æ³ desc function upper;\n3.è¯¦ç»æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³ desc function extended upper\n\n\n\n# æ°å­¦å½æ°\n\nç¹å»æ¥ç\n\nselect round(-2.5);    #åèäºå¥\nselect round(0.131415926,3);    #ä¿çnä½å°æ°\nselect bround(2.5); select bround(3.5);    #2 4é¶è¡å®¶èå¥æ³(åèå­å¥äºåå¶)\né¶è¡å®¶èå¥æ³:åèå­å¥äºèèï¼äºåéç©ºå°±è¿ä¸ï¼äºåä¸ºç©ºçå¥å¶ï¼äºåä¸ºå¶åºèå»ï¼äºåä¸ºå¥è¦è¿ä¸\nselect bround(2.55554,3);  #2.556 é¶è¡å®¶èå¥æ³,ä¿çdä½å°æ°\nselect floor(-2.54); #åä¸åæ´(å³å¨æ°è½´ä¸å·¦è¾¹çæ´æ°)\nselect ceil(-2.54);  #åä¸åæ´\nselect rand(); select rand(2);    #è¿åä¸ä¸ªdoubleåéæºæ°\nselect exp(2.5); #eçaå¹æ¬¡æ¹\nselect ln(2.5);  #èªç¶æ°ä¸ºåºdçå¯¹æ°\nselect log10(10.0);  #ä»¥10ä¸ºåºdçå¯¹æ°\nselect log2(2.0);  #ä»¥2ä¸ºåºæ°dçå¯¹æ°\nselect log(3,9);  #select log(double base, double a)ä»¥baseä¸ºåºçå¯¹æ°\nselect pow(2,10);  #açpæ¬¡å¹\nselect sqrt(81);  #açå¹³æ¹æ ¹ \nselect bin(5); select bin(15); #äºè¿å¶açstringç±»å bin(bigint a)\nselect hex(15); #åå­è¿å¶açstringç±»å hexçéæ¹æ³ unhex(string a)\nselect conv(15,10,2); #æåè¿å¶ç15è½¬æ¢ä¸ºäºè¿å¶\nselect abs(-3);  #ç»å¯¹å¼\nselect pmod(13,4);  #åæ¨¡\nselect sin(60);  #æ­£å¼¦å¼  \nselect asin(1);  #åæ­£å¼¦å¼ å®ä¹å[-1,1]\nselect e(); # æ±e\nselect pi(); # æ±pi\nselect factorial(5);  #é¶ä¹\n\n\n\n# æ¥æå½æ°\n\nç¹å»æ¥ç\n\n#è·åå½åæ¶é´æ³\nselect unix_timestamp(); \n#unixæ¶é´æ³è½¬æ¥æå½æ°\nselect from_unixtime(1585294471,\'yyyy-mm-dd hh:mm:ss\'); \n#æ¥æè½¬unixæ¶é´æ³å½æ° æå®æ ¼å¼æ¥æè½¬unixæ¶é´æ³å½æ°\nselect unix_timestamp("2020-03-27 03:34:31"); \nselect unix_timestamp("2020-03-27 03:34:31","yyyy-mm-dd hh:mm:ss");\n#æ¥ææ¶é´è½¬æ¥æ\nselect to_date(\'2020-03-27 03:34:31\');\n#æ¥æåå¹´ select year(\'2020-03-27 03:34:31\');\n#æ¥æåæ select month(\'2020-03-27 03:34:31\');\n#æ¥æåæ¥ select day(\'2020-03-27 03:34:31\');\n#æ¥æåæ¶ select hour(\'2020-03-27 03:34:31\');\n#æ¥æåå select minute(\'2020-03-27 15:34:31\');\n#æ¥æåç§ select second(\'2020-03-27 15:34:31\');\n#æ¥æè½¬å¨ select weekofyear(\'2020-03-27 15:34:31\');\n#æ¥ææ¯è¾ select datediff("2020-3-27","2020-3-2");\n#æ¥æå¢å  select date_add("2020-3-27",25);\n#æ¥æåå° select date_sub("2020-3-27",25);\n\n\n\n# å­ç¬¦ä¸²å½æ°\n\nç¹å»æ¥ç\n\n--å­ç¬¦ä¸²æ¨¡ç³å¹é\n-- likeãrlikeãregexpãregexp_replaceãregexp_extract\n\n-- å­ç¬¦ä¸²é¿åº¦                  select length("hello world");\n-- å­ç¬¦ä¸²åè½¬                  select reverse("æ´æ²³é£é¦è¶é¦é£æ²³æ´!");\n-- å­ç¬¦ä¸²è¿æ¥                  select concat("hello","world");\n-- å¸¦åéç¬¦å­ç¬¦ä¸²è¿æ¥           select concat_ws("\\t","name","age","sex");\n-- å­ç¬¦ä¸²æªå                  substr(str,start),substring(str,start,len)\n                              select substring("æ´æ²³é£é¦è¶é¦é£æ²³æ´",4);\n                              select substring("æ´æ²³é£é¦è¶é¦é£æ²³æ´",4,3);\n-- å­ç¬¦ä¸²è½¬å¤§åå½æ°             upper,ucase\n                              select upper("hello world");\n-- å­ç¬¦ä¸²è½¬å°åå½æ°ï¼           lower,lcase\n                              select lcase("hello world");\n-- å»ç©ºæ ¼(ä¸¤è¾¹)                select trim(" hello world ");\n-- å·¦å»ç©ºæ ¼                    select ltrim(" hello world ");\n-- å³å»ç©ºæ ¼                    select rtrim(" hello world ");\n-- æ­£åè¡¨è¾¾å¼æ¿æ¢ å°å­ç¬¦ä¸²aä¸­çç¬¦åjavaæ­£åè¡¨è¾¾å¼bçé¨åæ¿æ¢ä¸ºc   regexp_replace(string a, string b, string c)\n                              select regexp_replace(\'hello world\', \'or|ll\', \' \');\n-- æ­£åè¡¨è¾¾å¼è§£æ å°å­ç¬¦ä¸²subjectæç§patternæ­£åè¡¨è¾¾å¼çè§åæåï¼è¿åindexæå®çå­ç¬¦ regexp_extract(string subject, string pattern, int index)\n-- æ³¨æï¼å¨æäºæåµä¸è¦ä½¿ç¨è½¬ä¹å­ç¬¦ï¼ä¸é¢çç­å·è¦ç¨åç«çº¿è½¬ä¹ï¼è¿æ¯javaæ­£åè¡¨è¾¾å¼çè§å\n                              select regexp_extract(\'foothebar\', \'foo(.*?)(bar)\', 1);\n                              select regexp_extract(\'foothebar\', \'foo(.*?)(bar)\', 2);\n-- urlè§£æå½æ° parse_url(string urlstring, string parttoextract [, string keytoextract])\n-- è¿åurlä¸­æå®çé¨åãparttoextractçææå¼ä¸ºï¼host, path, query, ref, protocol, authority, file, and userinfo\n                              select parse_url("https://www.bilibili.com/video/bv1ye411v7pq/?spm_id_from=333.788.videocard.1","host");\n-- jsonè§£æå½æ° è§£æjsonçå­ç¬¦ä¸²json_string,è¿åpathæå®çåå®¹ãå¦æè¾å¥çjsonå­ç¬¦ä¸²æ æï¼é£ä¹è¿ånull\nselect get_json_object(\'{"store":\n{"fruit":\\[{"weight":8,"type":"apple"},{"weight":9,"type":"pear"}],\n"bicycle":{"price":19.95,"color":"red"}\n},\n"email":"amy@only_for_json_udf_test.net",\n"owner":"amy"\n}\',\'$.owner\');\n\n-- ç©ºæ ¼å­ç¬¦ä¸²å½æ° è¿åé¿åº¦ä¸ºnçå­ç¬¦ä¸²           select space(10); select length(space(10));\n-- éå¤å­ç¬¦ä¸²å½æ° è¿åéå¤næ¬¡åçstrå­ç¬¦ä¸²      select repeat(\'hello\',3);\n-- é¦å­ç¬¦asciiå½æ° è¿åå­ç¬¦ä¸²strç¬¬ä¸ä¸ªå­ç¬¦çasciiç       select ascii("hello");\n-- å·¦è¡¥è¶³å½æ° å°strè¿è¡ç¨padè¿è¡å·¦è¡¥è¶³å°lenä½ lpad(string str, int len, string pad) select lpad("string",10,"do"); #dodostring\n-- å³è¡¥è¶³å½æ°                                 select rpad("string",10,"do");\n-- åå²å­ç¬¦ä¸²å½æ° æç§patå­ç¬¦ä¸²åå²strï¼ä¼è¿ååå²åçå­ç¬¦ä¸²æ°ç» split(string str, string pat)\n                                             select split("pneumonoultramicroscopicsilicovolcanoconiosis","n");\n                                             ç»æ:["p","eumo","oultramicroscopicsilicovolca","oco","iosis"]\n-- éåæ¥æ¾å½æ° strå¨strlistç¬¬ä¸æ¬¡åºç°çä½ç½®ï¼strlistç¨éå·åå²,0æªæ¾å°   find_in_set(string str, string strlist)\n                                             select find_in_set(\'ab\',\'ef,ab,de\');\n\n\n\n\n# èåå½æ°\n\nç¹å»æ¥ç\n\ncount(),max(),min(),sum(),avg() ç­å¸¸ç¨çèåå½æ°\n\n\n> æ³¨æï¼\n> èåæä½æ¶è¦æ³¨æ null å¼\n> count(*) åå« null å¼ï¼ç»è®¡ææè¡æ°\n> count(id) ä¸åå« null å¼\n> min æ±æå°å¼æ¯ä¸åå« nullï¼é¤éææå¼é½æ¯ null\n> avg æ±å¹³åå¼ä¹æ¯ä¸åå« null\n\n-- éç©ºéåæ»ä½åéå½æ°: var_pop\n-- éç©ºéåæ ·æ¬åéå½æ°: var_samp\n-- æ»ä½æ ååç¦»å½æ°: stddev_pop\n-- ä¸­ä½æ°å½æ°: percentile\n\n\n\n# å¶ä»ï¼è¿ç®ç¬¦ãå­ç¬¦å¹éãæ¡ä»¶ãç»è®¡ãå¤æç±»åï¼\n\nç¹å»æ¥ç\n\nå³ç³»è¿ç® =. <. >. is null. like. plike. regexp\næ°å­¦è¿ç®+ - * / % &  | ~ ^\né»è¾è¿ç®and or not\næ¡ä»¶å½æ°\n-- if(boolean testcondition, t valuetrue, t valuefalseornull)\n-- æ¡ä»¶å¤æ­å½æ°ï¼case when \n-- éç©ºæ¥æ¾å½æ°:coalesce(t v1, t v2, â¦)\n\néåç»è®¡å½æ°ç­ç­...count ç´æ¹å¾: histogram_numeric ä¸­ä½æ°å½æ°: percentile æ»ä½æ ååç¦»å½æ°: stddev_pop\nå¤åç±»åæå»ºmap. struct. array\n-- mapç±»åæå»º:map (key1, value1, key2, value2, â¦)\n-- struct ç±»åæå»º:struct(val1, val2, val3, â¦)\n-- array ç±»åæå»º:array(val1, val2, â¦)\n\nå¤æç±»åè®¿é®æä½a[n]  m[key]  s.x\n-- array ç±»åè®¿é®:è¯­æ³: a[n]\n-- map ç±»åè®¿é®:è¯­æ³: m[key]\n-- struct ç±»åè®¿é®:è¯­æ³: s.x\n\nå¤æç±»åé¿åº¦ç»è®¡å½æ° size(map<k .v>) size(array<t>) ç±»åè½¬æ¢å½æ°\n-- map ç±»åé¿åº¦å½æ°:è¯­æ³: size(map<k .v>)\n-- array ç±»åé¿åº¦å½æ°:è¯­æ³: size(array<t>)\n-- ç±»åè½¬æ¢å½æ°: cast  è¯­æ³: cast(expr as <type>)\n\n\n\n# lateral view ä¸ explode ä»¥å reflectï¼å¾å®åï¼\n\n\n# çªå£å½æ°\n\nç¹å»æ¥ç\n\n# sumãavgãminãmax\n\n# row_numberãrankãdense_rankãntile\n-- row_number()ï¼ row_number()ä» 1 å¼å§ï¼æç§é¡ºåºï¼çæåç»åè®°å½çåºå\n-- rank() çææ°æ®é¡¹å¨åç»ä¸­çæåï¼æåç¸ç­ä¼å¨åæ¬¡ä¸­çä¸ç©ºä½ã\n-- dense_rank()çææ°æ®é¡¹å¨åç»ä¸­çæåï¼æåç¸ç­ä¼å¨åæ¬¡ä¸­ä¸ä¼çä¸ç©ºä½ã\n-- ntile å¯ä»¥çææ¯ï¼ææåºçæ°æ®éåå¹³ååéå°æå®çæ°éï¼numï¼ä¸ªæ¡¶ä¸­, å°æ¡¶å·åéç»æ¯ä¸è¡ãå¦æä¸è½å¹³ååéï¼åä¼ååéè¾å°ç¼å·çæ¡¶ï¼å¹¶ä¸åä¸ªæ¡¶ä¸­è½æ¾çè¡æ°æå¤ç¸å·® 1ã\n\n# lagãleadãfirst_valueãlast_value\n-- lag(col,n,default) ç¨äºç»è®¡çªå£åå¾ä¸ç¬¬ n è¡å¼ã\n-- lead(col,n,default) ç¨äºç»è®¡çªå£åå¾ä¸ç¬¬ n è¡å¼ã\n-- first_value ååç»åæåºåï¼æªæ­¢å°å½åè¡ï¼ç¬¬ä¸ä¸ªå¼ã\n-- last_value ååç»åæåºåï¼æªæ­¢å°å½åè¡ï¼æåä¸ä¸ªå¼ã\n\n# cume_dist\næ­¤å½æ°çç»æå order by çæåºé¡ºåºæå³ç³»ãcume_distï¼å°äºç­äºå½åå¼çè¡æ°/åç»åæ»è¡æ°ã order é»è®¤é¡ºåº ï¼æ­£åº\næ¯å¦ï¼ç»è®¡å°äºç­äºå½åèªæ°´çäººæ°ï¼æå æ»äººæ°çæ¯ä¾ã\n\n# grouping setsãgrouping__idãcubeãrollup\n-- grouping sets æ¯ä¸ç§å°å¤ä¸ª group by é»è¾åå¨ä¸ä¸ª sql è¯­å¥ä¸­çä¾¿å©åæ³ãç­ä»·äºå°ä¸åç»´åº¦ç group by ç»æéè¿è¡ union allã\n-- cube ï¼ æ ¹æ® group by çç»´åº¦çææç»åè¿è¡èåã  \n-- rollup ï¼ æ¯ cube çå­éï¼ä»¥æå·¦ä¾§çç»´åº¦ä¸ºä¸»ï¼ä»è¯¥ç»´åº¦è¿è¡å±çº§èåãæ¯å¦ï¼ä»¥ month ç»´åº¦è¿è¡å±çº§èåï¼\n\n\n\n\n# èªå®ä¹å½æ°(udfãudafãudtf)\n\n * udfï¼user-defined-functionï¼ ä¸è¿ä¸åº\n * udafï¼user-defined aggregation functionï¼ èéå½æ°ï¼å¤è¿ä¸åº ç±»ä¼¼äºï¼count/max/min\n * udtfï¼user-defined table-generating functionsï¼ ä¸è¿å¤åº\n\nudf\n\nhttps://www.cnblogs.com/swordfall/p/11167486.html\n\n1.ç»§æ¿ org.apache.hadoop.hive.ql.exec.udf\n   \n2.å®ç° evaluate()å½æ°,æ­¤å½æ°æ¯æéè½½\n\n3.å¨ hive å½ä»¤è¡åå»ºå½æ°\n   1.æ·»å jar\n   add jar /soft/module/datas/genderudf.jar\n   2.åå»ºfunction\n   create temporary function [dbname.]gender_udf as "com.hrbu.hive.genderudf"\n   \n4.å¨hiveå½ä»¤è¡å é¤å½æ°\ndrop temporary function if exists [dbname.]gender_udf\n\n\n\n# java apiä»£ç \n\npackage com.hrbu.hive;\n\nimport java.sql.connection;\nimport java.sql.drivermanager;\nimport java.sql.resultset;\nimport java.sql.sqlexception;\nimport java.sql.statement;\n\nimport org.junit.after;\nimport org.junit.before;\nimport org.junit.test;\n\n\n\npublic class teatapi {\n\t\n\t//é©±å¨åç§°\n\tprivate static string drivername = "org.apache.hive.jdbc.hivedriver";\n\t//è¿æ¥ç¨çurl\n\tprivate static string url = "jdbc:hive2://192.168.1.100:10000/default";\n\t//ç¨æ·åä¸å¯ç æ éæä¾\n\tprivate static string user = "";\n\tprivate static string password = "";\n\t\n\tprivate static connection conn = null;\n\tprivate static statement stmt = null;\n\tprivate static resultset rs = null;\n\t\n\t/**\n\t * junitååæµè¯æ¹æ³,å³é®ææ¯æ¯æ³¨è§£\n\t * 1å¯ä»¥éæ¶æµè¯æä¸ªæ¹æ³,ä¸ç¨ååmainå½æ°ä¸å¤ä½çä»£ç \n\t * 2é¢ååé¢çbeforeåafterä½¿æä»¬çä»£ç ç»ææ´å åç\n\t */\n\t//å è½½é©±å¨,åå»ºè¿æ¥\n\t@before\t//è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void init() {\n\t\ttry {\n\t\t\tclass.forname(drivername);\n\t\t\tconn = drivermanager.getconnection(url,user,password);\n\t\t\tstmt = conn.createstatement();\n\t\t} catch (exception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t}\n\t//éæ¾èµæº\n\t@after //è¡¨ç¤ºå¨ä»»æä½¿ç¨@testæ³¨è§£æ æ³¨çpublic voidæ¹æ³ä¹åæ§è¡\n\tpublic void destory() throws sqlexception {\n\t\tif(rs != null) {\n\t\t\trs.close();\n\t\t}\n\t\tif(stmt != null) {\n\t\t\tstmt.close();\n\t\t}\n\t\tif(conn != null) {\n\t\t\tconn.close();\n\t\t}\n\t}\n\t//åå»ºæ°æ®åº\n\t@test\n\tpublic void create_database() throws sqlexception {\n\t\tstring sql = "create database if not exists hive_jdbc_test";\t//create database if not exists hive_jdbc_test\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create database success");\n\t}\n\t//åå»ºè¡¨æ ¼\n\t@test\n\tpublic void create_studenttable() throws sqlexception {\n\t\t//string sql0 = "use hive_jdbc_test";\n\t\tstring sql = "create table student(code string,name string,gender string,school string,profession string)\\r\\n" + \n\t\t\t\t" comment \'this is a student table\'\\r\\n" + \n\t\t\t\t" row format delimited fields terminated by \'\\\\t\'\\r\\n" + \n\t\t\t\t" stored as textfile";\n\t\tsystem.out.println("running create table student");\n\t\t//stmt.execute(sql0);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("create table student success");\n\t}\n\t\n\t// æ¥è¯¢æææ°æ®åº\n\t@test\n\tpublic void show_databases() throws sqlexception {\n\t\tstring sql = "show databases";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t// æ¥è¯¢å½åæ°æ®åºä¸­ææè¡¨\n\t@test\n\tpublic void show_tables() throws sqlexception {\n\t\tstring sql = "show tables";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring(1));\n\t\t}\n\t}\n\t//å è½½æ°æ®\n\t@test\n\tpublic void load_data() throws sqlexception {\n\t\t//linuxè·¯å¾\n\t\tstring filepath = "\'/soft/datas/short-student-utf8.txt\'";\n\t\tstring sql = "load data local inpath" + filepath + "overwrite into table student";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("load data local success");\n\t}\n\t//æ¥è¯¢æ°æ®\n\t@test\n\tpublic void select_data() throws sqlexception {\n\t\tstring sql = "select * from student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\tsystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getstring("code") + "\\t" + rs.getstring("name") + "\\t" + rs.getstring("gender") + "\\t" + rs.getstring("school") + "\\t" + rs.getstring("profession"));\n\t\t}\n\t}\n\t//ç»è®¡æ¥è¯¢(è¿è¡mapreduceä½ä¸)\n\t@test\n\tpublic void count_data() throws sqlexception {\n\t\tstring sql = "select count(*) from student";\n\t\tsystem.out.println("running " + sql);\n\t\trs = stmt.executequery(sql);\n\t\tsystem.out.println("å­¦å·\\tå§å\\tæ§å«\\tå­¦æ ¡\\tä¸ä¸");\n\t\twhile(rs.next()) {\n\t\t\tsystem.out.println(rs.getint(1));\n\t\t}\n\t}\n\t\n\t//å é¤æ°æ®åº\n\t@test\n\tpublic void drop_database() throws sqlexception {\n\t\t//å¼ºå¶å é¤æ°æ®åº\n\t\t//string sql = "drop database if exists hive_jdbc_test cascade";\n\t\tstring sql = "drop database if exists hive_jdbc_test";\n\t\tsystem.out.println("running " + sql);\n\t\tstmt.execute(sql);\n\t\tsystem.out.println("drop database success");\n\t}\n}\n',charsets:{cjk:!0},lastUpdated:"2022/07/07, 11:20:39",lastUpdatedTimestamp:1657164039e3},{title:"HSQL",frontmatter:{title:"HSQL",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/dd807a/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/03.HSQL.html",relativePath:"02.å¤§æ°æ®/03.Hive/03.HSQL.md",key:"v-bb3e9386",path:"/pages/dd807a/",headers:[{level:2,title:"å½æ°",slug:"å½æ°",normalizedTitle:"å½æ°",charIndex:2},{level:3,title:"collect_list",slug:"collect-list",normalizedTitle:"collect_list",charIndex:9},{level:2,title:"SQLå®ä¾",slug:"sqlå®ä¾",normalizedTitle:"sqlå®ä¾",charIndex:658},{level:3,title:"ç¸è£å½æ°ï¼ä¸è¡åå¤è¡ï¼",slug:"ç¸è£å½æ°-ä¸è¡åå¤è¡",normalizedTitle:"ç¸è£å½æ°ï¼ä¸è¡åå¤è¡ï¼",charIndex:668},{level:2,title:"HSQLæ§è¡è®¡å",slug:"hsqlæ§è¡è®¡å",normalizedTitle:"hsqlæ§è¡è®¡å",charIndex:845}],headersStr:"å½æ° collect_list SQLå®ä¾ ç¸è£å½æ°ï¼ä¸è¡åå¤è¡ï¼ HSQLæ§è¡è®¡å",content:"# å½æ°\n\n\n# collect_list\n\nDROP TABLE IF EXISTS tmp_prgdb.tmp_dwa_user_attribute_day_007;\nCREATE TABLE tmp_prgdb.tmp_dwa_user_attribute_day_007 STORED AS ORC AS\nselect\n          user_id\n         ,collect_list(visit_time) as visit_page_top5       --è¿30å¤©æµè§é¡µé¢åç§°\n    from (\n            select\n                     user_id\n                    ,visit_time\n                    ,row_number() over(PARTITION BY user_id ORDER BY visit_time desc) rn_desc\n               from dwm_db.dwm_cp_ubh_visit_day\n              where day_id >= DATE_SUB('${DAY_ID}',30)\n                and day_id <= DATE_ADD('${DAY_ID}',1)\n         ) B4\n   where B4.rn_desc <= 5\ngroup by user_id\n\n\n\n# SQLå®ä¾\n\n\n# ç¸è£å½æ°ï¼ä¸è¡åå¤è¡ï¼\n\nææä¸ç±»ä¼¼äºç¬å¡å°ç§¯ï¼joinä¸å æ¡ä»¶ï¼\n\nselect user_id,kv \nfrom dws_md_event_info_day \nlateral view explode(split(`event_property`,',')) tmp as kv \nwhere etl_date='2020-11-04';\n\n\n\n# HSQLæ§è¡è®¡å\n\nåå®¢",normalizedContent:"# å½æ°\n\n\n# collect_list\n\ndrop table if exists tmp_prgdb.tmp_dwa_user_attribute_day_007;\ncreate table tmp_prgdb.tmp_dwa_user_attribute_day_007 stored as orc as\nselect\n          user_id\n         ,collect_list(visit_time) as visit_page_top5       --è¿30å¤©æµè§é¡µé¢åç§°\n    from (\n            select\n                     user_id\n                    ,visit_time\n                    ,row_number() over(partition by user_id order by visit_time desc) rn_desc\n               from dwm_db.dwm_cp_ubh_visit_day\n              where day_id >= date_sub('${day_id}',30)\n                and day_id <= date_add('${day_id}',1)\n         ) b4\n   where b4.rn_desc <= 5\ngroup by user_id\n\n\n\n# sqlå®ä¾\n\n\n# ç¸è£å½æ°ï¼ä¸è¡åå¤è¡ï¼\n\nææä¸ç±»ä¼¼äºç¬å¡å°ç§¯ï¼joinä¸å æ¡ä»¶ï¼\n\nselect user_id,kv \nfrom dws_md_event_info_day \nlateral view explode(split(`event_property`,',')) tmp as kv \nwhere etl_date='2020-11-04';\n\n\n\n# hsqlæ§è¡è®¡å\n\nåå®¢",charsets:{cjk:!0},lastUpdated:"2025/01/02, 13:03:48",lastUpdatedTimestamp:1735794228e3},{title:"Kafkaéç¾¤æ­å»º",frontmatter:{title:"Kafkaéç¾¤æ­å»º",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/bfa383/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Kafka/01.Kafka%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/04.Kafka/01.Kafkaéç¾¤æ­å»º.md",key:"v-555e21cf",path:"/pages/bfa383/",headers:[{level:3,title:"1.ä¸è½½å®è£",slug:"_1-ä¸è½½å®è£",normalizedTitle:"1.ä¸è½½å®è£",charIndex:156},{level:3,title:"2.ä¿®æ¹éç½®æä»¶",slug:"_2-ä¿®æ¹éç½®æä»¶",normalizedTitle:"2.ä¿®æ¹éç½®æä»¶",charIndex:336},{level:3,title:"3.å¯å¨éç¾¤",slug:"_3-å¯å¨éç¾¤",normalizedTitle:"3.å¯å¨éç¾¤",charIndex:1303},{level:3,title:"4.kafkaå½ä»¤è¡æä½",slug:"_4-kafkaå½ä»¤è¡æä½",normalizedTitle:"4.kafkaå½ä»¤è¡æä½",charIndex:1634}],headersStr:"1.ä¸è½½å®è£ 2.ä¿®æ¹éç½®æä»¶ 3.å¯å¨éç¾¤ 4.kafkaå½ä»¤è¡æä½",content:"çè®º\n\n * æ¶æ¯éå\n   * å¼æ­¥(ä¸¤ä¸ªä¸ç¨åæ¶å¨çº¿)\n   * åå³°\n\nç¹å¯¹ç¹æ¨¡å¼\n\nåå¸è®¢éæ¨¡å¼\n\n> æ¶è´¹èæå(kafka)(ç¼ºç¹ï¼é¿è½®è¯¢)(ä¼ç¹ï¼æ¶è´¹èå³å®éç) æ¶æ¯éåæ¨é\n\n==å¨æ­¤ä¹å,è¦å®è£å¥½jdkåZookeeperéç¾¤== å®è£ä½ç½®:æçæ¯åZookeeperå®è£çæºå¨ä¸æ ·\n\n\n# 1.ä¸è½½å®è£\n\n * å¨å®ç½ä¸è½½(ææ°çæ¬?)(ä¸è¬ä¸ä¼åºç°çæ¬å¼å®¹é®é¢): kafka_2.12-2.4.1.tgz\n * ä¸ä¼ å°èææº\n * è§£åå®è£: tar -zxvf /soft/software/kafka_2.12-2.4.1.tgz -C /soft/module/\n * éå½å: mv kafka_2.12-2.4.1 kafka\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n 1. å¨kafkaç®å½ä¸æ°å»ºæä»¶å¤¹: mkdir logs\n 2. ä¿®æ¹éç½®æä»¶: cd config/ vim server.properties\n\n#broker çå¨å±å¯ä¸ç¼å·ï¼ä¸è½éå¤\nbroker.id=0\n#å é¤ topic åè½ä½¿è½å½»åºå é¤\ndelete.topic.enable=true\n#kafka è¿è¡æ¥å¿å­æ¾çè·¯å¾\nlog.dirs=/soft/module/kafka/logs\n#éç½®è¿æ¥Zookeeper éç¾¤å°å\nzookeeper.connect=hadoop101:2181,hadoop102:2181,hadoop103:2181\n\n#åé¢ä¸æ¯å¿é¡»éç½®çåå®¹\n#å¤çç½ç»è¯·æ±ççº¿ç¨æ°é\nnum.network.threads=3\n#ç¨æ¥å¤çç£ç IO ççº¿ç¨æ°é\nnum.io.threads=8\n#åéå¥æ¥å­çç¼å²åºå¤§å°\nsocket.send.buffer.bytes=102400 \n#æ¥æ¶å¥æ¥å­çç¼å²åºå¤§å°\nsocket.receive.buffer.bytes=102400 \n#è¯·æ±å¥æ¥å­çç¼å²åºå¤§å°\nsocket.request.max.bytes=104857600\n#topic å¨å½å broker ä¸çååºä¸ªæ°\nnum.partitions=1\n#ç¨æ¥æ¢å¤åæ¸ç data ä¸æ°æ®ççº¿ç¨æ°é\nnum.recovery.threads.per.data.dir=1 \n#segment æä»¶ä¿ççæé¿æ¶é´ï¼è¶æ¶å°è¢«å é¤\nlog.retention.hours=168\n\n\n 3. éç½®ç¯å¢åé sudo vim /etc/profile\n\n#KAFKA_HOME ç¯å¢åééç½®\nexport KAFKA_HOME=/soft/module/kafka export PATH=$PATH:$KAFKA_HOME/bin\n\n\nsource /etc/profile 4. ååæä»¶ 5. ä¿®æ¹éç¾¤å¶å®æºå¨kafkaéç½® åå«å¨hadoop103åhadoop104ä¸ä¿®æ¹éç½®æä»¶/opt/module/kafka/config/server.propertiesä¸­çbroker.id=1ãbroker.id=2 æ³¨ï¼broker.idä¸å¾éå¤\n\n\n# 3.å¯å¨éç¾¤\n\nåå¯å¨Zookeeper\n\n 1. åæºå¯å¨ å¯å¨: bin/kafka-server-start.sh -daemon config/server.properties å³é­: bin/kafka-server-stop.sh stop\n 2. éç¾¤å¯å¨ å¯å¨èæ¬\n\nfor i in hadoop101 hadoop102 hadoop103 do\necho \"========== $i ==========\"\nssh\t$i\t'/soft/module/kafka/bin/kafka-server-start.sh\n/soft/module/kafka/config/server.properties' done\n\n\n 3. \n\n\n# 4.kafkaå½ä»¤è¡æä½\n\n 1. æ¥çå½åæå¡å¨ä¸­çææ topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --list\n\n 2. åå»º topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --create --replication-factor 3 --partitions 1 --topic first --topic å®ä¹ topic å --replication-factor å®ä¹å¯æ¬æ° --partitions å®ä¹ååºæ°\n\n 3. å é¤ topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --delete --topic first éè¦ server.properties ä¸­è®¾ç½® delete.topic.enable=true å¦ååªæ¯æ è®°å é¤ã\n\n 4. åéæ¶æ¯\n\nbin/kafka-console-producer.sh --broker-list hadoop1:9092 --topic first\n>hello world\n>atguigu\tatguigu\n\n\n 5. æ¶è´¹æ¶æ¯\n\nbin/kafka-console-consumer.sh \\\n--bootstrap-server hadoop1:9092 --topic first\n\nbin/kafka-console-consumer.sh \\\n--bootstrap-server hadoop1:9092 --from-beginning --topic first\n\n\n\n 6. æ¥çæä¸ªTopic çè¯¦æ bin/kafka-topics.sh --zookeeper hadoop1:2181 --describe --topic first\n 7. ä¿®æ¹ååºæ° bin/kafka-topics.sh --zookeeper hadoop1:2181 --alter --topic first --partitions 6",normalizedContent:"çè®º\n\n * æ¶æ¯éå\n   * å¼æ­¥(ä¸¤ä¸ªä¸ç¨åæ¶å¨çº¿)\n   * åå³°\n\nç¹å¯¹ç¹æ¨¡å¼\n\nåå¸è®¢éæ¨¡å¼\n\n> æ¶è´¹èæå(kafka)(ç¼ºç¹ï¼é¿è½®è¯¢)(ä¼ç¹ï¼æ¶è´¹èå³å®éç) æ¶æ¯éåæ¨é\n\n==å¨æ­¤ä¹å,è¦å®è£å¥½jdkåzookeeperéç¾¤== å®è£ä½ç½®:æçæ¯åzookeeperå®è£çæºå¨ä¸æ ·\n\n\n# 1.ä¸è½½å®è£\n\n * å¨å®ç½ä¸è½½(ææ°çæ¬?)(ä¸è¬ä¸ä¼åºç°çæ¬å¼å®¹é®é¢): kafka_2.12-2.4.1.tgz\n * ä¸ä¼ å°èææº\n * è§£åå®è£: tar -zxvf /soft/software/kafka_2.12-2.4.1.tgz -c /soft/module/\n * éå½å: mv kafka_2.12-2.4.1 kafka\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n 1. å¨kafkaç®å½ä¸æ°å»ºæä»¶å¤¹: mkdir logs\n 2. ä¿®æ¹éç½®æä»¶: cd config/ vim server.properties\n\n#broker çå¨å±å¯ä¸ç¼å·ï¼ä¸è½éå¤\nbroker.id=0\n#å é¤ topic åè½ä½¿è½å½»åºå é¤\ndelete.topic.enable=true\n#kafka è¿è¡æ¥å¿å­æ¾çè·¯å¾\nlog.dirs=/soft/module/kafka/logs\n#éç½®è¿æ¥zookeeper éç¾¤å°å\nzookeeper.connect=hadoop101:2181,hadoop102:2181,hadoop103:2181\n\n#åé¢ä¸æ¯å¿é¡»éç½®çåå®¹\n#å¤çç½ç»è¯·æ±ççº¿ç¨æ°é\nnum.network.threads=3\n#ç¨æ¥å¤çç£ç io ççº¿ç¨æ°é\nnum.io.threads=8\n#åéå¥æ¥å­çç¼å²åºå¤§å°\nsocket.send.buffer.bytes=102400 \n#æ¥æ¶å¥æ¥å­çç¼å²åºå¤§å°\nsocket.receive.buffer.bytes=102400 \n#è¯·æ±å¥æ¥å­çç¼å²åºå¤§å°\nsocket.request.max.bytes=104857600\n#topic å¨å½å broker ä¸çååºä¸ªæ°\nnum.partitions=1\n#ç¨æ¥æ¢å¤åæ¸ç data ä¸æ°æ®ççº¿ç¨æ°é\nnum.recovery.threads.per.data.dir=1 \n#segment æä»¶ä¿ççæé¿æ¶é´ï¼è¶æ¶å°è¢«å é¤\nlog.retention.hours=168\n\n\n 3. éç½®ç¯å¢åé sudo vim /etc/profile\n\n#kafka_home ç¯å¢åééç½®\nexport kafka_home=/soft/module/kafka export path=$path:$kafka_home/bin\n\n\nsource /etc/profile 4. ååæä»¶ 5. ä¿®æ¹éç¾¤å¶å®æºå¨kafkaéç½® åå«å¨hadoop103åhadoop104ä¸ä¿®æ¹éç½®æä»¶/opt/module/kafka/config/server.propertiesä¸­çbroker.id=1ãbroker.id=2 æ³¨ï¼broker.idä¸å¾éå¤\n\n\n# 3.å¯å¨éç¾¤\n\nåå¯å¨zookeeper\n\n 1. åæºå¯å¨ å¯å¨: bin/kafka-server-start.sh -daemon config/server.properties å³é­: bin/kafka-server-stop.sh stop\n 2. éç¾¤å¯å¨ å¯å¨èæ¬\n\nfor i in hadoop101 hadoop102 hadoop103 do\necho \"========== $i ==========\"\nssh\t$i\t'/soft/module/kafka/bin/kafka-server-start.sh\n/soft/module/kafka/config/server.properties' done\n\n\n 3. \n\n\n# 4.kafkaå½ä»¤è¡æä½\n\n 1. æ¥çå½åæå¡å¨ä¸­çææ topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --list\n\n 2. åå»º topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --create --replication-factor 3 --partitions 1 --topic first --topic å®ä¹ topic å --replication-factor å®ä¹å¯æ¬æ° --partitions å®ä¹ååºæ°\n\n 3. å é¤ topic bin/kafka-topics.sh --zookeeper hadoop1:2181 --delete --topic first éè¦ server.properties ä¸­è®¾ç½® delete.topic.enable=true å¦ååªæ¯æ è®°å é¤ã\n\n 4. åéæ¶æ¯\n\nbin/kafka-console-producer.sh --broker-list hadoop1:9092 --topic first\n>hello world\n>atguigu\tatguigu\n\n\n 5. æ¶è´¹æ¶æ¯\n\nbin/kafka-console-consumer.sh \\\n--bootstrap-server hadoop1:9092 --topic first\n\nbin/kafka-console-consumer.sh \\\n--bootstrap-server hadoop1:9092 --from-beginning --topic first\n\n\n\n 6. æ¥çæä¸ªtopic çè¯¦æ bin/kafka-topics.sh --zookeeper hadoop1:2181 --describe --topic first\n 7. ä¿®æ¹ååºæ° bin/kafka-topics.sh --zookeeper hadoop1:2181 --alter --topic first --partitions 6",charsets:{cjk:!0},lastUpdated:"2025/06/27, 12:02:59",lastUpdatedTimestamp:1750996979e3},{title:"HBaseéç¾¤æ­å»º",frontmatter:{title:"HBaseéç¾¤æ­å»º",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/b22228/",categories:["å¤§æ°æ®","HBase"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/05.HBase/01.HBase%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/05.HBase/01.HBaseéç¾¤æ­å»º.md",key:"v-92803bde",path:"/pages/b22228/",headers:[{level:2,title:"1. åå¨åé¢",slug:"_1-åå¨åé¢",normalizedTitle:"1. åå¨åé¢",charIndex:218},{level:3,title:"1)çæ¬å¼å®¹",slug:"_1-çæ¬å¼å®¹",normalizedTitle:"1)çæ¬å¼å®¹",charIndex:230},{level:3,title:"2) éç¾¤è§å",slug:"_2-éç¾¤è§å",normalizedTitle:"2) éç¾¤è§å",charIndex:389},{level:2,title:"2. è§£åå®è£",slug:"_2-è§£åå®è£",normalizedTitle:"2. è§£åå®è£",charIndex:828},{level:2,title:"3. ä¿®æ¹éç½®æä»¶",slug:"_3-ä¿®æ¹éç½®æä»¶",normalizedTitle:"3. ä¿®æ¹éç½®æä»¶",charIndex:1109},{level:2,title:"4. å¯å¨æå¡",slug:"_4-å¯å¨æå¡",normalizedTitle:"4. å¯å¨æå¡",charIndex:3139},{level:2,title:"éä¸ªéè¯¯:",slug:"éä¸ªéè¯¯",normalizedTitle:"éä¸ªéè¯¯:",charIndex:3482}],headersStr:"1. åå¨åé¢ 1)çæ¬å¼å®¹ 2) éç¾¤è§å 2. è§£åå®è£ 3. ä¿®æ¹éç½®æä»¶ 4. å¯å¨æå¡ éä¸ªéè¯¯:",content:"HA+Zookeeperæ­å»º\n\nhadoopå®å¨åå¸å¼æ­å»º: https://www.cnblogs.com/Hephaestus/p/12213719.html\n\nhadoopé«å¯ç¨æ­å»º: https://www.cnblogs.com/Hephaestus/p/12420370.html\n\nZookeeperéç¾¤æ­å»º: https://www.cnblogs.com/Hephaestus/p/12421265.html\n\n\n# 1. åå¨åé¢\n\n\n# 1)çæ¬å¼å®¹\n\nhadoop2.9.2 + Zookeeper3.5.7 + HBase2.2.3 çæ¬å¼å®¹å®æ¹ææ¡£: http://hbase.apache.org/book.html#configuration\n\nä¸è½½å°å: https://hbase.apache.org/downloads.html\n\n\n# 2) éç¾¤è§å\n\n            NAMENODE   DATANODE   JOURNALNODE   ZOOKEEPER   HBASE\nhadoop100   æ¯(nn2)                                          HMaster\nhadoop101   æ¯(nn1)     æ¯          æ¯             æ¯           å¤ä»½HMaster\n                                                            HRegionServer\nhadoop102              æ¯          æ¯             æ¯           HRegionServer\nhadoop103              æ¯          æ¯             æ¯           HRegionServer\n\n\n# 2. è§£åå®è£\n\n * è§£åå®è£: tar -zxvf hbase-2.2.3-bin.tar.gz -C /soft/module\n * ä¸ºæ¹ä¾¿èµ·è§ éå½å: mv hbase-2.2.3 hbase\n * éç½®ç¯å¢åé(å¯ä¸éç½®)\n   * ä¿®æ¹ç³»ç»ç¯å¢åé sudo vim /etc/profile\n\n# HBase ç¯å¢åééç½®\nexport HBASE_HOME=/soft/module/hbase  \nexport PATH=$PATH:$HBASE_HOME/bin\n\n\nä½¿éç½®çæ: sudo source /etc/profile\n\n\n# 3. ä¿®æ¹éç½®æä»¶\n\n * 1)ä¿®æ¹hbaseèæ¬æä»¶: vim conf/hbase-env.sh\n\nexport JAVA_HOME=/soft/module/jdk1.8.0_161\nexport HBASE_MANAGES_ZK=false        # line126\n\n\n * 2)ä¿®æ¹hbaseéç½®æä»¶: vim conf/hbase-site.xml\n\n        \x3c!-- æ¯ä¸ªregionServerçå±äº«ç®å½,ç¨æ¥æä¹åHbase,é»è®¤æåµä¸å¨/tmp/hbaseä¸é¢ --\x3e\n        <property>\n                <name>hbase.rootdir</name>\n                <value>hdfs://mycluster/HBase</value>\n                <description>\n                        ä¸å®è¦æhadoopä¸­çcore-site.xmlåhdf-site.xmlå¤å¶å°hbaseçconfç®å½ä¸ï¼æè½æåè§£æè¯¥éç¾¤åç§°ï¼å¦ææ¯hadoopånamenodeéç¾¤ï¼éç½®åæhdfs://master:9000/hbase (masteræ¯namenodeä¸»æºå)\n                </description>\n        </property>\n\n        \x3c!-- hbaseéç¾¤æ¨¡å¼,falseè¡¨ç¤ºhbaseçåæºï¼trueè¡¨ç¤ºæ¯åå¸å¼æ¨¡å¼ --\x3e\n        <property>\n                <name>hbase.cluster.distributed</name>\n                <value>true</value>\n        </property>\n\n        \x3c!-- 0.98 åçæ°åå¨ï¼ä¹åçæ¬æ²¡æ.port,é»è®¤ç«¯å£ä¸º 60000 --\x3e\n        \x3c!-- hbase masterèç¹çç«¯å£ --\x3e\n        <property>\n                <name>hbase.master.port</name>\n                <value>16000</value>\n        </property>\n\n        \x3c!-- hbaseä¾èµçzkå°å --\x3e\n        <property>\n                <name>hbase.zookeeper.quorum</name>\n                <value>hadoop101,hadoop102,hadoop103</value>\n        </property>\n\n        <property>\n                <name>hbase.zookeeper.property.dataDir</name>\n                <value>/soft/module/zookeeper-3.5.7/zkData</value>\n        </property>\n\n        \x3c!--åºéåå çè¿ç©æ,ä¸ææ¯å¥ | å¨åå¸å¼æåµä¸, ä¸å®è®¾ç½®ä¸ºfalse--\x3e\n        <property>\n                <name>hbase.unsafe.stream.capability.enforce</name>\n                <value>false</value>\n        </property>\n\n\n * 3) ä¿®æ¹ regionservers: vim regionservers\n\n> RegionServeræ¯HBaseéç¾¤è¿è¡å¨æ¯ä¸ªå·¥ä½èç¹ä¸çæå¡ãå®æ¯æ´ä¸ªHBaseç³»ç»çå³é®æå¨ï¼ä¸æ¹é¢å®ç»´æ¤äºRegionçç¶æï¼æä¾äºå¯¹äºRegionçç®¡çåæå¡ï¼å¦ä¸æ¹é¢ï¼å®ä¸Masteräº¤äºï¼ä¸ä¼ Regionçè´è½½ä¿¡æ¯ä¸ä¼ ï¼åä¸Masterçåå¸å¼åè°ç®¡ç\n\nhadoop101\nhadoop102\nhadoop103\n\n\n * 4) è½¯è¿æ¥ hadoop éç½®æä»¶å° HBaseï¼ ln -s /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml /soft/module/hbase/conf/core-site.xml ln -s /soft/module/hadoop-2.9.2/etc/hadoop/hdfs-site.xml /soft/module/hbase/conf/hdfs-site.xml\n\n * 5) ååhbaseæä»¶ xsync.sh hbase\n\n\n# 4. å¯å¨æå¡\n\n * 1) åä¿è¯ Zookeeper éç¾¤çæ­£å¸¸é¨ç½²ï¼å¹¶å¯å¨ å¨æ¯ä¸ªèç¹ä¸æ§è¡: bin/zkServer.sh start\n * 2) Hadoop éç¾¤çæ­£å¸¸é¨ç½²å¹¶å¯å¨ å¯¹åºèç¹å¯å¨:start-dfs.sh /soft/module/hadoop-2.9.2/sbin/start-yarn.sh\n * 3) hbaseå¯å¨\n   * åèç¹å¯å¨: å¨hadoop101: bin/hbase-daemon.sh start master å¨hadoop101: bin/hbase-daemon.sh start regionserver\n   * éç¾¤å¯å¨ å¯å¨: bin/start-hbase.sh åæ­¢: bin/stop-hbase.sh\n\n\n# éä¸ªéè¯¯:\n\n 1. \n\n> java.lang.IllegalStateException: The procedure WAL relies on the ability to hsync for proper operation during component failures, but the underlying filesystem does not support doing so. Please check the config value of 'hbase.procedure.store.wal.use.hsync' to set the desired level of robustness and ensure the config value of 'hbase.wal.dir' points to a FileSystem mount that can provide it.\n\nhbase-site.xmlå¢å éç½®\n\n<property>\n    <name>hbase.unsafe.stream.capability.enforce</name>\n    <value>false</value>\n</property>\n\n\n2)å¯å¨æ¶æ¥é\n\n> java.lang.NoClassDefFoundError: org/apache/htrace/SamplerBuilder java.lang.RuntimeException: Failed construction of Master: class org.apache.hadoop.hbase.master.HMasterCommandLine$LocalHMasterorg.apache.htrace.SamplerBuilder åå ï¼jaråç¼ºå¤± è§£å³æ¹æ³ï¼ælib\\client-facing-thirdpartyåä¸­çhtrace-core-3.1.0-incubating.jarå¤å¶ä¸ä¸ªå°libåä¸å³å¯\n\n----------------------------------------\n\nåèé¾æ¥: https://blog.csdn.net/qq_35488412/article/details/78623518",normalizedContent:"ha+zookeeperæ­å»º\n\nhadoopå®å¨åå¸å¼æ­å»º: https://www.cnblogs.com/hephaestus/p/12213719.html\n\nhadoopé«å¯ç¨æ­å»º: https://www.cnblogs.com/hephaestus/p/12420370.html\n\nzookeeperéç¾¤æ­å»º: https://www.cnblogs.com/hephaestus/p/12421265.html\n\n\n# 1. åå¨åé¢\n\n\n# 1)çæ¬å¼å®¹\n\nhadoop2.9.2 + zookeeper3.5.7 + hbase2.2.3 çæ¬å¼å®¹å®æ¹ææ¡£: http://hbase.apache.org/book.html#configuration\n\nä¸è½½å°å: https://hbase.apache.org/downloads.html\n\n\n# 2) éç¾¤è§å\n\n            namenode   datanode   journalnode   zookeeper   hbase\nhadoop100   æ¯(nn2)                                          hmaster\nhadoop101   æ¯(nn1)     æ¯          æ¯             æ¯           å¤ä»½hmaster\n                                                            hregionserver\nhadoop102              æ¯          æ¯             æ¯           hregionserver\nhadoop103              æ¯          æ¯             æ¯           hregionserver\n\n\n# 2. è§£åå®è£\n\n * è§£åå®è£: tar -zxvf hbase-2.2.3-bin.tar.gz -c /soft/module\n * ä¸ºæ¹ä¾¿èµ·è§ éå½å: mv hbase-2.2.3 hbase\n * éç½®ç¯å¢åé(å¯ä¸éç½®)\n   * ä¿®æ¹ç³»ç»ç¯å¢åé sudo vim /etc/profile\n\n# hbase ç¯å¢åééç½®\nexport hbase_home=/soft/module/hbase  \nexport path=$path:$hbase_home/bin\n\n\nä½¿éç½®çæ: sudo source /etc/profile\n\n\n# 3. ä¿®æ¹éç½®æä»¶\n\n * 1)ä¿®æ¹hbaseèæ¬æä»¶: vim conf/hbase-env.sh\n\nexport java_home=/soft/module/jdk1.8.0_161\nexport hbase_manages_zk=false        # line126\n\n\n * 2)ä¿®æ¹hbaseéç½®æä»¶: vim conf/hbase-site.xml\n\n        \x3c!-- æ¯ä¸ªregionserverçå±äº«ç®å½,ç¨æ¥æä¹åhbase,é»è®¤æåµä¸å¨/tmp/hbaseä¸é¢ --\x3e\n        <property>\n                <name>hbase.rootdir</name>\n                <value>hdfs://mycluster/hbase</value>\n                <description>\n                        ä¸å®è¦æhadoopä¸­çcore-site.xmlåhdf-site.xmlå¤å¶å°hbaseçconfç®å½ä¸ï¼æè½æåè§£æè¯¥éç¾¤åç§°ï¼å¦ææ¯hadoopånamenodeéç¾¤ï¼éç½®åæhdfs://master:9000/hbase (masteræ¯namenodeä¸»æºå)\n                </description>\n        </property>\n\n        \x3c!-- hbaseéç¾¤æ¨¡å¼,falseè¡¨ç¤ºhbaseçåæºï¼trueè¡¨ç¤ºæ¯åå¸å¼æ¨¡å¼ --\x3e\n        <property>\n                <name>hbase.cluster.distributed</name>\n                <value>true</value>\n        </property>\n\n        \x3c!-- 0.98 åçæ°åå¨ï¼ä¹åçæ¬æ²¡æ.port,é»è®¤ç«¯å£ä¸º 60000 --\x3e\n        \x3c!-- hbase masterèç¹çç«¯å£ --\x3e\n        <property>\n                <name>hbase.master.port</name>\n                <value>16000</value>\n        </property>\n\n        \x3c!-- hbaseä¾èµçzkå°å --\x3e\n        <property>\n                <name>hbase.zookeeper.quorum</name>\n                <value>hadoop101,hadoop102,hadoop103</value>\n        </property>\n\n        <property>\n                <name>hbase.zookeeper.property.datadir</name>\n                <value>/soft/module/zookeeper-3.5.7/zkdata</value>\n        </property>\n\n        \x3c!--åºéåå çè¿ç©æ,ä¸ææ¯å¥ | å¨åå¸å¼æåµä¸, ä¸å®è®¾ç½®ä¸ºfalse--\x3e\n        <property>\n                <name>hbase.unsafe.stream.capability.enforce</name>\n                <value>false</value>\n        </property>\n\n\n * 3) ä¿®æ¹ regionservers: vim regionservers\n\n> regionserveræ¯hbaseéç¾¤è¿è¡å¨æ¯ä¸ªå·¥ä½èç¹ä¸çæå¡ãå®æ¯æ´ä¸ªhbaseç³»ç»çå³é®æå¨ï¼ä¸æ¹é¢å®ç»´æ¤äºregionçç¶æï¼æä¾äºå¯¹äºregionçç®¡çåæå¡ï¼å¦ä¸æ¹é¢ï¼å®ä¸masteräº¤äºï¼ä¸ä¼ regionçè´è½½ä¿¡æ¯ä¸ä¼ ï¼åä¸masterçåå¸å¼åè°ç®¡ç\n\nhadoop101\nhadoop102\nhadoop103\n\n\n * 4) è½¯è¿æ¥ hadoop éç½®æä»¶å° hbaseï¼ ln -s /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml /soft/module/hbase/conf/core-site.xml ln -s /soft/module/hadoop-2.9.2/etc/hadoop/hdfs-site.xml /soft/module/hbase/conf/hdfs-site.xml\n\n * 5) ååhbaseæä»¶ xsync.sh hbase\n\n\n# 4. å¯å¨æå¡\n\n * 1) åä¿è¯ zookeeper éç¾¤çæ­£å¸¸é¨ç½²ï¼å¹¶å¯å¨ å¨æ¯ä¸ªèç¹ä¸æ§è¡: bin/zkserver.sh start\n * 2) hadoop éç¾¤çæ­£å¸¸é¨ç½²å¹¶å¯å¨ å¯¹åºèç¹å¯å¨:start-dfs.sh /soft/module/hadoop-2.9.2/sbin/start-yarn.sh\n * 3) hbaseå¯å¨\n   * åèç¹å¯å¨: å¨hadoop101: bin/hbase-daemon.sh start master å¨hadoop101: bin/hbase-daemon.sh start regionserver\n   * éç¾¤å¯å¨ å¯å¨: bin/start-hbase.sh åæ­¢: bin/stop-hbase.sh\n\n\n# éä¸ªéè¯¯:\n\n 1. \n\n> java.lang.illegalstateexception: the procedure wal relies on the ability to hsync for proper operation during component failures, but the underlying filesystem does not support doing so. please check the config value of 'hbase.procedure.store.wal.use.hsync' to set the desired level of robustness and ensure the config value of 'hbase.wal.dir' points to a filesystem mount that can provide it.\n\nhbase-site.xmlå¢å éç½®\n\n<property>\n    <name>hbase.unsafe.stream.capability.enforce</name>\n    <value>false</value>\n</property>\n\n\n2)å¯å¨æ¶æ¥é\n\n> java.lang.noclassdeffounderror: org/apache/htrace/samplerbuilder java.lang.runtimeexception: failed construction of master: class org.apache.hadoop.hbase.master.hmastercommandline$localhmasterorg.apache.htrace.samplerbuilder åå ï¼jaråç¼ºå¤± è§£å³æ¹æ³ï¼ælib\\client-facing-thirdpartyåä¸­çhtrace-core-3.1.0-incubating.jarå¤å¶ä¸ä¸ªå°libåä¸å³å¯\n\n----------------------------------------\n\nåèé¾æ¥: https://blog.csdn.net/qq_35488412/article/details/78623518",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"HBaseåºç¡å­¦ä¹ ",frontmatter:{title:"HBaseåºç¡å­¦ä¹ ",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/e15afa/",categories:["å¤§æ°æ®","HBase"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/05.HBase/02.HBase%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0.html",relativePath:"02.å¤§æ°æ®/05.HBase/02.HBaseåºç¡å­¦ä¹ .md",key:"v-9b1324b0",path:"/pages/e15afa/",headers:[{level:2,title:"hbase shell",slug:"hbase-shell",normalizedTitle:"hbase shell",charIndex:2},{level:2,title:"hbaseæ¶æåç",slug:"hbaseæ¶æåç",normalizedTitle:"hbaseæ¶æåç",charIndex:936},{level:2,title:"hbaseåæµç¨",slug:"hbaseåæµç¨",normalizedTitle:"hbaseåæµç¨",charIndex:1326},{level:2,title:"hbase MemStore Flush",slug:"hbase-memstore-flush",normalizedTitle:"hbase memstore flush",charIndex:1709},{level:2,title:"hbaseè¯»æµç¨",slug:"hbaseè¯»æµç¨",normalizedTitle:"hbaseè¯»æµç¨",charIndex:2609},{level:2,title:"StoreFile Compaction",slug:"storefile-compaction",normalizedTitle:"storefile compaction",charIndex:3092},{level:2,title:"Region Split",slug:"region-split",normalizedTitle:"region split",charIndex:3474},{level:2,title:"ä»£ç Api",slug:"ä»£ç api",normalizedTitle:"ä»£ç api",charIndex:4266}],headersStr:"hbase shell hbaseæ¶æåç hbaseåæµç¨ hbase MemStore Flush hbaseè¯»æµç¨ StoreFile Compaction Region Split ä»£ç Api",content:'# hbase shell\n\n> æ­¤æ¶ä¸ä¸ªå¼å¸¸ï¼ org.apache.hadoop.hbase.PleaseHoldException: Master is initializing åå ï¼éç½®ä¿®æ¹åï¼zkéçhbaseè¡¨æªå é¤ è§£å³:https://blog.csdn.net/RONE321/article/details/99940862\n\næ«æææçæ¬ä¿¡æ¯\n\nscan \'student\',{RAW=>TRUE,VERSIONS=>5}\n\n\nåå»ºè¡¨\n\ncreate \'student\',\'info\'\n\n\nå·²æè¡¨æ°å»º/å é¤åæ\n\nalter \'student\',\'columnfamily2\'\nalter \'student\',{NAME=>\'info2\',METHOD=>\'delete\'}\nalter \'student\',{NAME=>\'info1\',VERSIONS=>\'3\'}\n\n\næ¥çè¡¨æ¯å¦å­å¨ exists \'student\'\n\nè¡¨æ¯å¦ä¸å¯ç¨/å¯ç¨\n\nis_disabled \'student\'\nis_enabled \'student\'\n\n\nååºææè¡¨ list\n\næ¥çåä¸ªè¡¨ describe/desc \'student\'\n\nå å¥æ°æ® put \'student\',1,\'info:id\',100\n\nä¿®æ¹è¡¨è®°å½ put \'student\',1,\'info:name\',\'abc\'\n\næ¥çè¡¨æ°æ®\n\nscan \'student\'\nget \'student\',1\nget \'student\',1,\'info:id\'\n\n\nå é¤è¡¨è®°å½ delete \'student\',1,\'info:name\'\n\nå é¤rowkey deleteall \'student\',1\n\næ¸ç©ºè¡¨ truncate \'student\'\n\nå é¤è¡¨\n\n1.disable \'student\'\n2.drop \'student\'\n\n\nåç¨è¡¨ disable \'student\'\n\nè¡¨å¯ç¨ enable \'student\'\n\nå½åç©ºé´æä½\n\nlist_namespace\ncreate_namespace \'bigdata\'\ncreate \'bigdata:student\',\'info\'\n\n\n\n# hbaseæ¶æåç\n\n\n\n1ï¼ StoreFile\nä¿å­å®éæ°æ®çç©çæä»¶ï¼ StoreFile ä»¥ HFile çå½¢å¼å­å¨å¨ HDFS ä¸ãæ¯ä¸ª Store ä¼æä¸ä¸ªæå¤ä¸ªStoreFileï¼HFileï¼ï¼æ°æ®å¨æ¯ä¸ª StoreFile ä¸­é½æ¯æåºçã\n2ï¼ MemStore\nåç¼å­ï¼ ç±äº HFile ä¸­çæ°æ®è¦æ±æ¯æåºçï¼ æä»¥æ°æ®æ¯åå­å¨å¨ MemStore ä¸­ï¼æå¥½åºåï¼ç­å°è¾¾å·åæ¶æºæä¼å·åå° HFileï¼æ¯æ¬¡å·åé½ä¼å½¢æä¸ä¸ªæ°ç HFileã\n3ï¼ WAL\nç±äºæ°æ®è¦ç» MemStore æåºåæè½å·åå° HFileï¼ ä½ææ°æ®ä¿å­å¨åå­ä¸­ä¼æå¾é«ç\næ¦çå¯¼è´æ°æ®ä¸¢å¤±ï¼ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æ°æ®ä¼ååå¨ä¸ä¸ªå«å Write-Ahead logfile çæä»¶ä¸­ï¼ç¶åååå¥ MemStore ä¸­ãæä»¥å¨ç³»ç»åºç°æéçæ¶åï¼æ°æ®å¯ä»¥éè¿è¿ä¸ªæ¥å¿æä»¶éå»º\n\n\n\n# hbaseåæµç¨\n\n\n\n1ï¼ Client åè®¿é® zookeeperï¼è·å hbase:meta è¡¨ä½äºåªä¸ª Region Serverã\n2ï¼è®¿é®å¯¹åºç Region Serverï¼è·å hbase:meta è¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼\næ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ª Region Server ä¸­çåªä¸ª Region ä¸­ãå¹¶å°è¯¥ table ç region ä¿¡æ¯ä»¥å meta è¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯ç meta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n3ï¼ä¸ç®æ  Region Server è¿è¡éè®¯ï¼\n4ï¼å°æ°æ®é¡ºåºåå¥ï¼è¿½å ï¼å° WALï¼\n5ï¼å°æ°æ®åå¥å¯¹åºç MemStoreï¼æ°æ®ä¼å¨ MemStore è¿è¡æåºï¼\n6ï¼åå®¢æ·ç«¯åé ackï¼\n7ï¼ ç­è¾¾å° MemStore çå·åæ¶æºåï¼å°æ°æ®å·åå° HFileã\n\n\n\n# hbase MemStore Flush\n\n\n\nMemStore å·åæ¶æºï¼\n1.å½æä¸ª memstroe çå¤§å°è¾¾å°äº hbase.hregion.memstore.flush.sizeï¼é»è®¤å¼ 128Mï¼ ï¼\nå¶æå¨ region çææ memstore é½ä¼å·åã\nå½ memstore çå¤§å°è¾¾å°äº\nhbase.hregion.memstore.flush.sizeï¼é»è®¤å¼ 128Mï¼\n* hbase.hregion.memstore.block.multiplierï¼é»è®¤å¼ 4ï¼\næ¶ï¼ä¼é»æ­¢ç»§ç»­å¾è¯¥ memstore åæ°æ®ã\n2.å½ region server ä¸­ memstore çæ»å¤§å°è¾¾å°\njava_heapsize\n*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼ 0.4ï¼\n*hbase.regionserver.global.memstore.size.lower.limitï¼é»è®¤å¼ 0.95ï¼ ï¼\nregion ä¼æç§å¶ææ memstore çå¤§å°é¡ºåºï¼ç±å¤§å°å°ï¼ä¾æ¬¡è¿è¡å·åãç´å° region server\nä¸­ææ memstore çæ»å¤§å°åå°å°ä¸è¿°å¼ä»¥ä¸ã\nå½ region server ä¸­ memstore çæ»å¤§å°è¾¾å°\njava_heapsize*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼ 0.4ï¼\næ¶ï¼ä¼é»æ­¢ç»§ç»­å¾ææç memstore åæ°æ®ã\n3. å°è¾¾èªå¨å·åçæ¶é´ï¼ä¹ä¼è§¦å memstore flushãèªå¨å·æ°çæ¶é´é´éç±è¯¥å±æ§è¿è¡\néç½® hbase.regionserver.optionalcacheflushintervalï¼é»è®¤ 1 å°æ¶ï¼ ã\n4.å½ WAL æä»¶çæ°éè¶è¿ hbase.regionserver.max.logsï¼ region ä¼æç§æ¶é´é¡ºåºä¾æ¬¡è¿\nè¡å·åï¼ç´å° WAL æä»¶æ°éåå°å° hbase.regionserver.max.log ä»¥ä¸ï¼è¯¥å±æ§åå·²ç»åºå¼ï¼\nç°æ éæå¨è®¾ç½®ï¼ æå¤§å¼ä¸º 32ï¼ã\n\n\n\n# hbaseè¯»æµç¨\n\n\n\n1ï¼ Client åè®¿é® zookeeperï¼è·å hbase:meta è¡¨ä½äºåªä¸ª Region Serverã\n2ï¼è®¿é®å¯¹åºç Region Serverï¼è·å hbase:meta è¡¨ï¼æ ¹æ®è¯»è¯·æ±ç namespace:table/rowkeyï¼\næ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ª Region Server ä¸­çåªä¸ª Region ä¸­ãå¹¶å°è¯¥ table ç region ä¿¡æ¯ä»¥å meta è¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯ç meta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n3ï¼ä¸ç®æ  Region Server è¿è¡éè®¯ï¼\n4ï¼ åå«å¨ Block Cacheï¼è¯»ç¼å­ï¼ï¼ MemStore å Store Fileï¼HFileï¼ä¸­æ¥è¯¢ç®æ æ°æ®ï¼å¹¶å°æ¥å°çæææ°æ®è¿è¡åå¹¶ãæ­¤å¤æææ°æ®æ¯æåä¸æ¡æ°æ®çä¸åçæ¬ï¼time stampï¼æèä¸åçç±»åï¼Put/Deleteï¼ã\n5ï¼ å°ä»æä»¶ä¸­æ¥è¯¢å°çæ°æ®åï¼Blockï¼ HFile æ°æ®å­å¨ååï¼é»è®¤å¤§å°ä¸º 64KBï¼ç¼å­å°\nBlock Cacheã\n6ï¼ å°åå¹¶åçæç»ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n\n# StoreFile Compaction\n\n\n\nç±äº memstoreæ¯æ¬¡å·åé½ä¼çæä¸ä¸ªæ°ç HFileï¼ä¸åä¸ä¸ªå­æ®µçä¸åçæ¬ï¼timestampï¼\nåä¸åç±»åï¼Put/Deleteï¼æå¯è½ä¼åå¸å¨ä¸åç HFile ä¸­ï¼å æ­¤æ¥è¯¢æ¶éè¦éåææç HFileãä¸ºäºåå° HFile çä¸ªæ°ï¼ä»¥åæ¸çæè¿æåå é¤çæ°æ®ï¼ä¼è¿è¡ StoreFile Compactionã\nCompaction åä¸ºä¸¤ç§ï¼åå«æ¯ Minor Compaction å Major CompactionãMinor Compaction\nä¼å°ä¸´è¿çè¥å¹²ä¸ªè¾å°ç HFile åå¹¶æä¸ä¸ªè¾å¤§ç HFileï¼ä½ä¸ä¼æ¸çè¿æåå é¤çæ°æ®ã\nMajor Compaction ä¼å°ä¸ä¸ª Store ä¸çææç HFile åå¹¶æä¸ä¸ªå¤§ HFileï¼å¹¶ä¸ä¼æ¸çæè¿æåå é¤çæ°æ®ã\n\n\n\n# Region Split\n\n\n\né»è®¤æåµä¸ï¼æ¯ä¸ª Table èµ·ååªæä¸ä¸ª Regionï¼éçæ°æ®çä¸æ­åå¥ï¼ Region ä¼èªå¨è¿\nè¡æåãåæåæ¶ï¼ä¸¤ä¸ªå­ Region é½ä½äºå½åç Region Serverï¼ä½å¤äºè´è½½åè¡¡çèèï¼\nHMaster æå¯è½ä¼å°æä¸ª Region è½¬ç§»ç»å¶ä»ç Region Serverã\nRegion Split æ¶æºï¼\n1.å½ 1ä¸ª regionä¸­çæä¸ª Storeä¸ææ StoreFileçæ»å¤§å°è¶è¿ hbase.hregion.max.filesizeï¼è¯¥ Region å°±ä¼è¿è¡æåï¼0.94 çæ¬ä¹åï¼ã\n2. å½ 1 ä¸ª region ä¸­ ç æ ä¸ª Store ä¸ æ æ StoreFile ç æ» å¤§ å° è¶ è¿ Min(R^2 *\n"hbase.hregion.memstore.flush.size",hbase.hregion.max.filesize")ï¼ è¯¥ Region å°±ä¼è¿è¡æåï¼å¶ä¸­ R ä¸ºå½å Region Server ä¸­å±äºè¯¥ Table çä¸ªæ°ï¼0.94 çæ¬ä¹åï¼ã\n\nè¡¨é¢ååº\nHBaseé¢ååº\næ¦å¿µï¼\nHBaseè¡¨è¢«åå»ºæ¶ï¼åªæ1ä¸ªRegionï¼å½ä¸ä¸ªRegionè¿å¤§è¾¾å°é»è®¤çéå¼æ¶ï¼é»è®¤10GBå¤§å°ï¼,HBaseä¸­è¯¥Regionå°ä¼è¿è¡splitï¼åè£ä¸º2ä¸ªRegionï¼ä»¥æ­¤ç±»æ¨ã\nè¡¨å¨è¿è¡splitçæ¶åï¼ä¼èè´¹å¤§éçèµæºï¼é¢ç¹çååºå¯¹HBaseçæ§è½æå·¨å¤§çå½±åã\næä»¥ï¼HBaseæä¾äºé¢ååºåè½ï¼å³ç¨æ·å¯ä»¥å¨åå»ºè¡¨çæ¶åå¯¹è¡¨æç§ä¸å®çè§åååºã\nä½ç¨ï¼\né¿åHBaseç»å¸¸splitï¼äº§çä¸å¿è¦çèµæºæ¶èï¼æé«HBaseçæ§è½ã\né¢ååºçæ¹æ³ï¼\n1.HBase Shell\n2.HBase Shellï¼éè¿è¯»åsplitæä»¶ï¼\n3.HBase Java API\n\n\n\n# ä»£ç Api\n\npackage com.hrbu.test;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.Cell;\nimport org.apache.hadoop.hbase.CellUtil;\nimport org.apache.hadoop.hbase.CompareOperator;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.NamespaceDescriptor;\nimport org.apache.hadoop.hbase.NamespaceExistException;\nimport org.apache.hadoop.hbase.TableName;\nimport org.apache.hadoop.hbase.client.Admin;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptor;\nimport org.apache.hadoop.hbase.client.ColumnFamilyDescriptorBuilder;\nimport org.apache.hadoop.hbase.client.Connection;\nimport org.apache.hadoop.hbase.client.ConnectionFactory;\nimport org.apache.hadoop.hbase.client.Delete;\nimport org.apache.hadoop.hbase.client.Get;\nimport org.apache.hadoop.hbase.client.Put;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.ResultScanner;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.client.Table;\nimport org.apache.hadoop.hbase.client.TableDescriptor;\nimport org.apache.hadoop.hbase.client.TableDescriptorBuilder;\nimport org.apache.hadoop.hbase.filter.BinaryComparator;\nimport org.apache.hadoop.hbase.filter.CompareFilter;\nimport org.apache.hadoop.hbase.filter.Filter;\nimport org.apache.hadoop.hbase.filter.KeyOnlyFilter;\nimport org.apache.hadoop.hbase.filter.PrefixFilter;\nimport org.apache.hadoop.hbase.filter.RandomRowFilter;\nimport org.apache.hadoop.hbase.filter.RowFilter;\nimport org.apache.hadoop.hbase.filter.ValueFilter;\nimport org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException;\nimport org.apache.hadoop.hbase.util.Bytes;\n\n/**\n * DDL: 1.å¤æ­è¡¨æ¯å¦å­å¨ 2.åå»ºè¡¨ 3.åå»ºå½åç©ºé´ 4.å é¤è¡¨ \n * DML: 5.æå¥æ°æ® 6.æ¥æ°æ®(get) 7.æ¥æ°æ®(scan) 8.å é¤æ°æ®\n */\npublic class TestApi {\n\n\tpublic static Connection connect = null;\n\tpublic static Admin admin = null;\n\tstatic {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ HBaseConfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tConfiguration conf = HBaseConfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientPort", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = ConnectionFactory.createConnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getAdmin();\n\t\t} catch (IOException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\tSystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printStackTrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\tSystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\tpublic static void is_Exists(String tableName) throws IOException {\n\t\tif (admin.tableExists(TableName.valueOf(tableName))) {\n\t\t\tSystem.out.println(tableName + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\tSystem.out.println(tableName + "è¡¨ä¸å­å¨");\n\t\t}\n\t}\n\n\t// 2.åå»ºè¡¨\n\tpublic static void create_Table(String tableName) throws IOException {\n\t\tTableName tableNameTemp = TableName.valueOf(tableName);\n\t\tif (admin.tableExists(tableNameTemp)) {\n\t\t\tSystem.out.println(tableName + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\tTableDescriptorBuilder tableBuilder = TableDescriptorBuilder.newBuilder(tableNameTemp);\n\t\t\t// åæ\n\t\t\tColumnFamilyDescriptor info1 = ColumnFamilyDescriptorBuilder.of("info1");\n\t\t\tColumnFamilyDescriptor info2 = ColumnFamilyDescriptorBuilder.of("info2");\n\t\t\tColumnFamilyDescriptor info3 = ColumnFamilyDescriptorBuilder.of("info3");\n\t\t\tList<ColumnFamilyDescriptor> cfList = new ArrayList<ColumnFamilyDescriptor>();\n\t\t\tcfList.add(info1);\n\t\t\tcfList.add(info2);\n\t\t\tcfList.add(info3);\n\t\t\ttableBuilder.setColumnFamilies(cfList);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\tTableDescriptor tableDesc = tableBuilder.build();\n\t\t\tadmin.createTable(tableDesc);\n\t\t\tSystem.out.println(tableName + "\\tè¡¨åå»ºæå");\n\t\t}\n\t}\n\n\t// 3.åå»ºå½åç©ºé´\n\tpublic static void create_NameSpace(String nameSpace) {\n\t\t// åå»ºå½åç©ºé´æè¿°å¨\n\t\tNamespaceDescriptor descriptor = NamespaceDescriptor.create(nameSpace).build();\n\t\t//åå»ºå½åç©ºé´\n\t\ttry {\n\t\t\tadmin.createNamespace(descriptor);\n\t\t} catch(NamespaceExistException e) {\n\t\t\tSystem.out.println(nameSpace + "å½åç©ºé´å·²å­å¨");\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tSystem.out.println("--æä¼è¢«æ§è¡å--");\n\t}\n\t// 4.å é¤è¡¨\n\tpublic static void drop_Table(String tableName) throws IOException {\n\t\tTableName tableNameTemp = TableName.valueOf(tableName);\n\t\tif (admin.tableExists(tableNameTemp)) {\n\t\t\tadmin.disableTable(tableNameTemp);\n\t\t\tadmin.deleteTable(tableNameTemp);\n\t\t\tSystem.out.println("è¡¨" + tableName + "å é¤æåï¼ ");\n\t\t} else {\n\t\t\tSystem.out.println("è¡¨" + tableName + "ä¸å­å¨ï¼ ");\n\t\t}\n\t}\n\t// 5.æå¥æ°æ®\n\tpublic static void put_Data(String tableName, String rowKey, String columnFamily, String column, String value) {\n\t\tTable table = null;\n\t\ttry {\n\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\tPut put = new Put(Bytes.toBytes(rowKey));\n\t\t\tput.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column), Bytes.toBytes(value));\n\t\t\ttable.put(put);\n\t\t} catch(NoSuchColumnFamilyException e){\n\t\t\tSystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tSystem.out.println("æ°æ®æå¥æå");\n\t\t\n\t}\n\t// 6.æ¥æ°æ®(get)\n\tpublic static void get_Data(String tableName, String rowKey, String columnFamily, String column) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\t//get.addFamily(Bytes.toBytes(columnFamily));\n\t\tget.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + "--" + columnFamily + "--" + column + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_Data(String tableName, String rowKey, String columnFamily) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\tget.addFamily(Bytes.toBytes(columnFamily));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + "--" + columnFamily + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_Data(String tableName, String rowKey) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t\n\t\tGet get = new Get(Bytes.toBytes(rowKey));\n\t\tResult result = table.get(get);\n\t\tCell[] cells = result.rawCells();\n\t\tSystem.out.println(tableName + "--" + rowKey + ":");\n\t\tprint_Cells2(cells);\n\t\ttable.close();\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_Cells(Cell[] cells) {\n\t\tfor (Cell tempCell : cells) {\n\t\t\tSystem.out.println(Bytes.toString(CellUtil.cloneRow(tempCell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + Bytes.toString(CellUtil.cloneFamily(tempCell)) + ":" +  Bytes.toString(CellUtil.cloneQualifier(tempCell))\n\t\t\t\t\t+ ",timestamp=" + tempCell.getTimestamp() \n\t\t\t\t\t+ ", value=" + Bytes.toString(CellUtil.cloneValue(tempCell)) );\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_Cells2(Cell[] cells) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor (Cell cell : cells) {\n\t\t\tString column = Bytes.toString(cell.getQualifierArray(), cell.getQualifierOffset(), cell.getQualifierLength());\n\t\t\tString value = Bytes.toString(cell.getValueArray(),cell.getValueOffset(),cell.getValueLength());\n\t\t\tsb.append(column).append(":").append(value).append(";\\t");\n\t\t}\n\t\tSystem.out.println(sb.toString());\n\t}\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_Data(String tableName) {\n\t\tTable table = null;\n\t\ttry {\n\t\t\ttable = connect.getTable(TableName.valueOf(tableName));\n\t\t\tResultScanner results = table.getScanner(new Scan());\n\t\t\tSystem.out.println(tableName + "è¡¨\\nROW\\t\\tCOLUMN+CELL");\n\t\t\tfor (Result result : results) {\n\t\t\t\tCell[] cells = result.rawCells();\n\t\t\t\tprint_Cells(cells);\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\t// 7.2 æ¥æ°æ®(scan + filter)\n\tpublic static void filter_Data(String tableName, Filter filter, int limit) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\tScan scan = new Scan().setFilter(filter).setLimit(limit);\n\t\tResultScanner resultScan = table.getScanner(scan);\n\t\tSystem.out.println(tableName + "è¡¨(filter)\\nROW\\t\\tCOLUMN+CELL");\n\t\tfor (Result result : resultScan) {\n\t\t\tCell[] cells = result.rawCells();\n\t\t\tprint_Cells(cells);\n\t\t}\n\t\ttable.close();\n\t}\n\t// 8. å é¤å¤è¡æ°æ®\n\tpublic static void delete_Data(String tableName, String... rows) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\t//Delete delete = new Delete(Bytes.toBytes(rowKey));\n\t\tList<Delete> deleteList = new ArrayList<Delete>();\n\t\tfor (String row:rows) {\n\t\t\tDelete delete = new Delete(Bytes.toBytes(row));\n\t\t\tdeleteList.add(delete);\n\t\t}\n\t\ttable.delete(deleteList);\n\t\ttable.close();\n\t\tSystem.out.println("å é¤æå");\n\t}\n\t// 8.1 å é¤ååæ ¼(Cell)æ°æ®\n\tpublic static void delete_Cell(String tableName,  String rowKey, String columnFamily, String column ) throws IOException {\n\t\tTable table = connect.getTable(TableName.valueOf(tableName));\n\t\tDelete delete = new Delete(Bytes.toBytes(rowKey));\n\t\tdelete.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\t\t//å é¤æåä¸çæ¬\n\t\t//delete.addColumns(Bytes.toBytes(columnFamily), Bytes.toBytes(column));\t\t//å é¤ææçæ¬\n\t\ttable.delete(delete);\n\t\ttable.close();\n\t}\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tSystem.out.println("============================start=========================");\n\t\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\t\t//is_Exists("student");\n\t\t\n\t\t// 3.åå»ºå½åç©ºé´\n\t\t//create_NameSpace("std");\n\t\t\n\t\t// 2.åå»ºè¡¨\n\t\t//create_Table("std:stu");\n\t\t\n\t\t// 4.å é¤è¡¨\n\t\t//drop_Table("std:stu");\n\t\t\n\t\t// 5.æå¥æ°æ®\n\t\t//put_Data("std:stu", "1003", "info1", "addr", "beijing");\n\t\t//put_Data("std:stu", "1004", "info1", "sex", "ç·");\n\t\t//put_Data("std:stu", "1005", "info1", "class", "2");\n\t\t\n\t\t// 6.æ¥æ°æ®(get)\n\t\tget_Data("std:stu", "1002");\n\t\tget_Data("std:stu", "1002", "info1");\n\t\t\n\t\t// 7.æ¥æ°æ®(scan)\n\t\tscan_Data("std:stu");\n\t\t\n\t\t// 7.1 æ¥æ°æ®(scan + filter)\n\t\t//filter_Data("std:stu", new PrefixFilter(Bytes.toBytes("100")), 10);\t//ç­éåºè¡é®ä»¥rowä¸ºåç¼çææçè¡\n\t\t//filter_Data("std:stu", new RandomRowFilter((float) 0.2), 10);\t//æç§ä¸å®çå çï¼<=0ä¼è¿æ»¤æææçè¡ï¼>=1ä¼åå«ææçè¡ï¼æ¥è¿åéæºçç»æé\n\t\t//filter_Data("std:stu", new KeyOnlyFilter(), 10); // è¿åææçè¡ï¼ä½å¼å¨æ¯ç©º \n\t\t//  ç­éåºå¹éçææçè¡  \n\t\tfilter_Data("std:stu", new RowFilter(CompareFilter.CompareOp.LESS, new BinaryComparator(Bytes.toBytes("1002"))), 10);\n\t\t\n\t\t// 8. å é¤å¤è¡æ°æ®æ°æ®\n\t\t//delete_Data("std:stu", "1003","1004");\n\t\t\n\t\t// 8.1å é¤ååæ ¼æ°æ®\n\t\t//delete_Cell("std:stu", "1005", "info1", "name");\n\t\t\n\t\tscan_Data("std:stu");\n\t\t\n\t\tSystem.out.println("============================end==========================");\n\t\t// end:å³é­èµæºåè¿æ¥\n\t\tclose();\n\t}\n\n}\n\n',normalizedContent:'# hbase shell\n\n> æ­¤æ¶ä¸ä¸ªå¼å¸¸ï¼ org.apache.hadoop.hbase.pleaseholdexception: master is initializing åå ï¼éç½®ä¿®æ¹åï¼zkéçhbaseè¡¨æªå é¤ è§£å³:https://blog.csdn.net/rone321/article/details/99940862\n\næ«æææçæ¬ä¿¡æ¯\n\nscan \'student\',{raw=>true,versions=>5}\n\n\nåå»ºè¡¨\n\ncreate \'student\',\'info\'\n\n\nå·²æè¡¨æ°å»º/å é¤åæ\n\nalter \'student\',\'columnfamily2\'\nalter \'student\',{name=>\'info2\',method=>\'delete\'}\nalter \'student\',{name=>\'info1\',versions=>\'3\'}\n\n\næ¥çè¡¨æ¯å¦å­å¨ exists \'student\'\n\nè¡¨æ¯å¦ä¸å¯ç¨/å¯ç¨\n\nis_disabled \'student\'\nis_enabled \'student\'\n\n\nååºææè¡¨ list\n\næ¥çåä¸ªè¡¨ describe/desc \'student\'\n\nå å¥æ°æ® put \'student\',1,\'info:id\',100\n\nä¿®æ¹è¡¨è®°å½ put \'student\',1,\'info:name\',\'abc\'\n\næ¥çè¡¨æ°æ®\n\nscan \'student\'\nget \'student\',1\nget \'student\',1,\'info:id\'\n\n\nå é¤è¡¨è®°å½ delete \'student\',1,\'info:name\'\n\nå é¤rowkey deleteall \'student\',1\n\næ¸ç©ºè¡¨ truncate \'student\'\n\nå é¤è¡¨\n\n1.disable \'student\'\n2.drop \'student\'\n\n\nåç¨è¡¨ disable \'student\'\n\nè¡¨å¯ç¨ enable \'student\'\n\nå½åç©ºé´æä½\n\nlist_namespace\ncreate_namespace \'bigdata\'\ncreate \'bigdata:student\',\'info\'\n\n\n\n# hbaseæ¶æåç\n\n\n\n1ï¼ storefile\nä¿å­å®éæ°æ®çç©çæä»¶ï¼ storefile ä»¥ hfile çå½¢å¼å­å¨å¨ hdfs ä¸ãæ¯ä¸ª store ä¼æä¸ä¸ªæå¤ä¸ªstorefileï¼hfileï¼ï¼æ°æ®å¨æ¯ä¸ª storefile ä¸­é½æ¯æåºçã\n2ï¼ memstore\nåç¼å­ï¼ ç±äº hfile ä¸­çæ°æ®è¦æ±æ¯æåºçï¼ æä»¥æ°æ®æ¯åå­å¨å¨ memstore ä¸­ï¼æå¥½åºåï¼ç­å°è¾¾å·åæ¶æºæä¼å·åå° hfileï¼æ¯æ¬¡å·åé½ä¼å½¢æä¸ä¸ªæ°ç hfileã\n3ï¼ wal\nç±äºæ°æ®è¦ç» memstore æåºåæè½å·åå° hfileï¼ ä½ææ°æ®ä¿å­å¨åå­ä¸­ä¼æå¾é«ç\næ¦çå¯¼è´æ°æ®ä¸¢å¤±ï¼ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æ°æ®ä¼ååå¨ä¸ä¸ªå«å write-ahead logfile çæä»¶ä¸­ï¼ç¶åååå¥ memstore ä¸­ãæä»¥å¨ç³»ç»åºç°æéçæ¶åï¼æ°æ®å¯ä»¥éè¿è¿ä¸ªæ¥å¿æä»¶éå»º\n\n\n\n# hbaseåæµç¨\n\n\n\n1ï¼ client åè®¿é® zookeeperï¼è·å hbase:meta è¡¨ä½äºåªä¸ª region serverã\n2ï¼è®¿é®å¯¹åºç region serverï¼è·å hbase:meta è¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼\næ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ª region server ä¸­çåªä¸ª region ä¸­ãå¹¶å°è¯¥ table ç region ä¿¡æ¯ä»¥å meta è¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯ç meta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n3ï¼ä¸ç®æ  region server è¿è¡éè®¯ï¼\n4ï¼å°æ°æ®é¡ºåºåå¥ï¼è¿½å ï¼å° walï¼\n5ï¼å°æ°æ®åå¥å¯¹åºç memstoreï¼æ°æ®ä¼å¨ memstore è¿è¡æåºï¼\n6ï¼åå®¢æ·ç«¯åé ackï¼\n7ï¼ ç­è¾¾å° memstore çå·åæ¶æºåï¼å°æ°æ®å·åå° hfileã\n\n\n\n# hbase memstore flush\n\n\n\nmemstore å·åæ¶æºï¼\n1.å½æä¸ª memstroe çå¤§å°è¾¾å°äº hbase.hregion.memstore.flush.sizeï¼é»è®¤å¼ 128mï¼ ï¼\nå¶æå¨ region çææ memstore é½ä¼å·åã\nå½ memstore çå¤§å°è¾¾å°äº\nhbase.hregion.memstore.flush.sizeï¼é»è®¤å¼ 128mï¼\n* hbase.hregion.memstore.block.multiplierï¼é»è®¤å¼ 4ï¼\næ¶ï¼ä¼é»æ­¢ç»§ç»­å¾è¯¥ memstore åæ°æ®ã\n2.å½ region server ä¸­ memstore çæ»å¤§å°è¾¾å°\njava_heapsize\n*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼ 0.4ï¼\n*hbase.regionserver.global.memstore.size.lower.limitï¼é»è®¤å¼ 0.95ï¼ ï¼\nregion ä¼æç§å¶ææ memstore çå¤§å°é¡ºåºï¼ç±å¤§å°å°ï¼ä¾æ¬¡è¿è¡å·åãç´å° region server\nä¸­ææ memstore çæ»å¤§å°åå°å°ä¸è¿°å¼ä»¥ä¸ã\nå½ region server ä¸­ memstore çæ»å¤§å°è¾¾å°\njava_heapsize*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼ 0.4ï¼\næ¶ï¼ä¼é»æ­¢ç»§ç»­å¾ææç memstore åæ°æ®ã\n3. å°è¾¾èªå¨å·åçæ¶é´ï¼ä¹ä¼è§¦å memstore flushãèªå¨å·æ°çæ¶é´é´éç±è¯¥å±æ§è¿è¡\néç½® hbase.regionserver.optionalcacheflushintervalï¼é»è®¤ 1 å°æ¶ï¼ ã\n4.å½ wal æä»¶çæ°éè¶è¿ hbase.regionserver.max.logsï¼ region ä¼æç§æ¶é´é¡ºåºä¾æ¬¡è¿\nè¡å·åï¼ç´å° wal æä»¶æ°éåå°å° hbase.regionserver.max.log ä»¥ä¸ï¼è¯¥å±æ§åå·²ç»åºå¼ï¼\nç°æ éæå¨è®¾ç½®ï¼ æå¤§å¼ä¸º 32ï¼ã\n\n\n\n# hbaseè¯»æµç¨\n\n\n\n1ï¼ client åè®¿é® zookeeperï¼è·å hbase:meta è¡¨ä½äºåªä¸ª region serverã\n2ï¼è®¿é®å¯¹åºç region serverï¼è·å hbase:meta è¡¨ï¼æ ¹æ®è¯»è¯·æ±ç namespace:table/rowkeyï¼\næ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ª region server ä¸­çåªä¸ª region ä¸­ãå¹¶å°è¯¥ table ç region ä¿¡æ¯ä»¥å meta è¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯ç meta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n3ï¼ä¸ç®æ  region server è¿è¡éè®¯ï¼\n4ï¼ åå«å¨ block cacheï¼è¯»ç¼å­ï¼ï¼ memstore å store fileï¼hfileï¼ä¸­æ¥è¯¢ç®æ æ°æ®ï¼å¹¶å°æ¥å°çæææ°æ®è¿è¡åå¹¶ãæ­¤å¤æææ°æ®æ¯æåä¸æ¡æ°æ®çä¸åçæ¬ï¼time stampï¼æèä¸åçç±»åï¼put/deleteï¼ã\n5ï¼ å°ä»æä»¶ä¸­æ¥è¯¢å°çæ°æ®åï¼blockï¼ hfile æ°æ®å­å¨ååï¼é»è®¤å¤§å°ä¸º 64kbï¼ç¼å­å°\nblock cacheã\n6ï¼ å°åå¹¶åçæç»ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n\n# storefile compaction\n\n\n\nç±äº memstoreæ¯æ¬¡å·åé½ä¼çæä¸ä¸ªæ°ç hfileï¼ä¸åä¸ä¸ªå­æ®µçä¸åçæ¬ï¼timestampï¼\nåä¸åç±»åï¼put/deleteï¼æå¯è½ä¼åå¸å¨ä¸åç hfile ä¸­ï¼å æ­¤æ¥è¯¢æ¶éè¦éåææç hfileãä¸ºäºåå° hfile çä¸ªæ°ï¼ä»¥åæ¸çæè¿æåå é¤çæ°æ®ï¼ä¼è¿è¡ storefile compactionã\ncompaction åä¸ºä¸¤ç§ï¼åå«æ¯ minor compaction å major compactionãminor compaction\nä¼å°ä¸´è¿çè¥å¹²ä¸ªè¾å°ç hfile åå¹¶æä¸ä¸ªè¾å¤§ç hfileï¼ä½ä¸ä¼æ¸çè¿æåå é¤çæ°æ®ã\nmajor compaction ä¼å°ä¸ä¸ª store ä¸çææç hfile åå¹¶æä¸ä¸ªå¤§ hfileï¼å¹¶ä¸ä¼æ¸çæè¿æåå é¤çæ°æ®ã\n\n\n\n# region split\n\n\n\né»è®¤æåµä¸ï¼æ¯ä¸ª table èµ·ååªæä¸ä¸ª regionï¼éçæ°æ®çä¸æ­åå¥ï¼ region ä¼èªå¨è¿\nè¡æåãåæåæ¶ï¼ä¸¤ä¸ªå­ region é½ä½äºå½åç region serverï¼ä½å¤äºè´è½½åè¡¡çèèï¼\nhmaster æå¯è½ä¼å°æä¸ª region è½¬ç§»ç»å¶ä»ç region serverã\nregion split æ¶æºï¼\n1.å½ 1ä¸ª regionä¸­çæä¸ª storeä¸ææ storefileçæ»å¤§å°è¶è¿ hbase.hregion.max.filesizeï¼è¯¥ region å°±ä¼è¿è¡æåï¼0.94 çæ¬ä¹åï¼ã\n2. å½ 1 ä¸ª region ä¸­ ç æ ä¸ª store ä¸ æ æ storefile ç æ» å¤§ å° è¶ è¿ min(r^2 *\n"hbase.hregion.memstore.flush.size",hbase.hregion.max.filesize")ï¼ è¯¥ region å°±ä¼è¿è¡æåï¼å¶ä¸­ r ä¸ºå½å region server ä¸­å±äºè¯¥ table çä¸ªæ°ï¼0.94 çæ¬ä¹åï¼ã\n\nè¡¨é¢ååº\nhbaseé¢ååº\næ¦å¿µï¼\nhbaseè¡¨è¢«åå»ºæ¶ï¼åªæ1ä¸ªregionï¼å½ä¸ä¸ªregionè¿å¤§è¾¾å°é»è®¤çéå¼æ¶ï¼é»è®¤10gbå¤§å°ï¼,hbaseä¸­è¯¥regionå°ä¼è¿è¡splitï¼åè£ä¸º2ä¸ªregionï¼ä»¥æ­¤ç±»æ¨ã\nè¡¨å¨è¿è¡splitçæ¶åï¼ä¼èè´¹å¤§éçèµæºï¼é¢ç¹çååºå¯¹hbaseçæ§è½æå·¨å¤§çå½±åã\næä»¥ï¼hbaseæä¾äºé¢ååºåè½ï¼å³ç¨æ·å¯ä»¥å¨åå»ºè¡¨çæ¶åå¯¹è¡¨æç§ä¸å®çè§åååºã\nä½ç¨ï¼\né¿åhbaseç»å¸¸splitï¼äº§çä¸å¿è¦çèµæºæ¶èï¼æé«hbaseçæ§è½ã\né¢ååºçæ¹æ³ï¼\n1.hbase shell\n2.hbase shellï¼éè¿è¯»åsplitæä»¶ï¼\n3.hbase java api\n\n\n\n# ä»£ç api\n\npackage com.hrbu.test;\n\nimport java.io.ioexception;\nimport java.util.arraylist;\nimport java.util.list;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.hbase.cell;\nimport org.apache.hadoop.hbase.cellutil;\nimport org.apache.hadoop.hbase.compareoperator;\nimport org.apache.hadoop.hbase.hbaseconfiguration;\nimport org.apache.hadoop.hbase.namespacedescriptor;\nimport org.apache.hadoop.hbase.namespaceexistexception;\nimport org.apache.hadoop.hbase.tablename;\nimport org.apache.hadoop.hbase.client.admin;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptor;\nimport org.apache.hadoop.hbase.client.columnfamilydescriptorbuilder;\nimport org.apache.hadoop.hbase.client.connection;\nimport org.apache.hadoop.hbase.client.connectionfactory;\nimport org.apache.hadoop.hbase.client.delete;\nimport org.apache.hadoop.hbase.client.get;\nimport org.apache.hadoop.hbase.client.put;\nimport org.apache.hadoop.hbase.client.result;\nimport org.apache.hadoop.hbase.client.resultscanner;\nimport org.apache.hadoop.hbase.client.scan;\nimport org.apache.hadoop.hbase.client.table;\nimport org.apache.hadoop.hbase.client.tabledescriptor;\nimport org.apache.hadoop.hbase.client.tabledescriptorbuilder;\nimport org.apache.hadoop.hbase.filter.binarycomparator;\nimport org.apache.hadoop.hbase.filter.comparefilter;\nimport org.apache.hadoop.hbase.filter.filter;\nimport org.apache.hadoop.hbase.filter.keyonlyfilter;\nimport org.apache.hadoop.hbase.filter.prefixfilter;\nimport org.apache.hadoop.hbase.filter.randomrowfilter;\nimport org.apache.hadoop.hbase.filter.rowfilter;\nimport org.apache.hadoop.hbase.filter.valuefilter;\nimport org.apache.hadoop.hbase.regionserver.nosuchcolumnfamilyexception;\nimport org.apache.hadoop.hbase.util.bytes;\n\n/**\n * ddl: 1.å¤æ­è¡¨æ¯å¦å­å¨ 2.åå»ºè¡¨ 3.åå»ºå½åç©ºé´ 4.å é¤è¡¨ \n * dml: 5.æå¥æ°æ® 6.æ¥æ°æ®(get) 7.æ¥æ°æ®(scan) 8.å é¤æ°æ®\n */\npublic class testapi {\n\n\tpublic static connection connect = null;\n\tpublic static admin admin = null;\n\tstatic {\n\t\ttry {\n\t\t\t// 1. è·åéç½®æä»¶ä¿¡æ¯(ä½¿ç¨ hbaseconfiguration çåä¾æ¹æ³å®ä¾å)\n\t\t\tconfiguration conf = hbaseconfiguration.create();\n\t\t\t//conf.set("hbase.zookeeper.quorum", "hadoop101,hadoop102,hadoop103");\n\n\t\t\tconf.set("hbase.zookeeper.quorum", "hadoop1");\n\t\t\tconf.set("hbase.zookeeper.property.clientport", "2181");\n\n\t\t\t// 2. åå»ºè¿æ¥å¯¹è±¡\n\t\t\tconnect = connectionfactory.createconnection(conf);\n\n\t\t\t// 3. è·åç®¡çåå¯¹è±¡\n\t\t\tadmin = connect.getadmin();\n\t\t} catch (ioexception e) {\n\t\t\t// todo auto-generated catch block\n\t\t\tsystem.out.println("åå»ºhbaseè¿æ¥å¯¹è±¡å¼å¸¸");\n\t\t\te.printstacktrace();\n\t\t}\n\n\t}\n\n\t// å³é­èµæºåè¿æ¥\n\tpublic static void close() {\n\n\t\tif (admin != null) {\n\t\t\ttry {\n\t\t\t\tadmin.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("adminå³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t\tif (connect != null) {\n\t\t\ttry {\n\t\t\t\tconnect.close();\n\t\t\t} catch (ioexception e) {\n\t\t\t\tsystem.out.println("hbaseè¿æ¥å¯¹è±¡å³é­å¼å¸¸");\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\tpublic static void is_exists(string tablename) throws ioexception {\n\t\tif (admin.tableexists(tablename.valueof(tablename))) {\n\t\t\tsystem.out.println(tablename + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\tsystem.out.println(tablename + "è¡¨ä¸å­å¨");\n\t\t}\n\t}\n\n\t// 2.åå»ºè¡¨\n\tpublic static void create_table(string tablename) throws ioexception {\n\t\ttablename tablenametemp = tablename.valueof(tablename);\n\t\tif (admin.tableexists(tablenametemp)) {\n\t\t\tsystem.out.println(tablename + "è¡¨å·²ç»å­å¨");\n\t\t} else {\n\t\t\t// 4.éè¿è¡¨å®ä¾æ¥æ§è¡è¡¨ç»æä¿¡æ¯\n\t\t\ttabledescriptorbuilder tablebuilder = tabledescriptorbuilder.newbuilder(tablenametemp);\n\t\t\t// åæ\n\t\t\tcolumnfamilydescriptor info1 = columnfamilydescriptorbuilder.of("info1");\n\t\t\tcolumnfamilydescriptor info2 = columnfamilydescriptorbuilder.of("info2");\n\t\t\tcolumnfamilydescriptor info3 = columnfamilydescriptorbuilder.of("info3");\n\t\t\tlist<columnfamilydescriptor> cflist = new arraylist<columnfamilydescriptor>();\n\t\t\tcflist.add(info1);\n\t\t\tcflist.add(info2);\n\t\t\tcflist.add(info3);\n\t\t\ttablebuilder.setcolumnfamilies(cflist);\n\t\t\t// 5.æå»ºè¡¨æè¿°\n\t\t\ttabledescriptor tabledesc = tablebuilder.build();\n\t\t\tadmin.createtable(tabledesc);\n\t\t\tsystem.out.println(tablename + "\\tè¡¨åå»ºæå");\n\t\t}\n\t}\n\n\t// 3.åå»ºå½åç©ºé´\n\tpublic static void create_namespace(string namespace) {\n\t\t// åå»ºå½åç©ºé´æè¿°å¨\n\t\tnamespacedescriptor descriptor = namespacedescriptor.create(namespace).build();\n\t\t//åå»ºå½åç©ºé´\n\t\ttry {\n\t\t\tadmin.createnamespace(descriptor);\n\t\t} catch(namespaceexistexception e) {\n\t\t\tsystem.out.println(namespace + "å½åç©ºé´å·²å­å¨");\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\t\tsystem.out.println("--æä¼è¢«æ§è¡å--");\n\t}\n\t// 4.å é¤è¡¨\n\tpublic static void drop_table(string tablename) throws ioexception {\n\t\ttablename tablenametemp = tablename.valueof(tablename);\n\t\tif (admin.tableexists(tablenametemp)) {\n\t\t\tadmin.disabletable(tablenametemp);\n\t\t\tadmin.deletetable(tablenametemp);\n\t\t\tsystem.out.println("è¡¨" + tablename + "å é¤æåï¼ ");\n\t\t} else {\n\t\t\tsystem.out.println("è¡¨" + tablename + "ä¸å­å¨ï¼ ");\n\t\t}\n\t}\n\t// 5.æå¥æ°æ®\n\tpublic static void put_data(string tablename, string rowkey, string columnfamily, string column, string value) {\n\t\ttable table = null;\n\t\ttry {\n\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\tput put = new put(bytes.tobytes(rowkey));\n\t\t\tput.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column), bytes.tobytes(value));\n\t\t\ttable.put(put);\n\t\t} catch(nosuchcolumnfamilyexception e){\n\t\t\tsystem.out.println("å¼å¸¸:æ²¡ææ­¤åæ");\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t}finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (ioexception e) {\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t\tsystem.out.println("æ°æ®æå¥æå");\n\t\t\n\t}\n\t// 6.æ¥æ°æ®(get)\n\tpublic static void get_data(string tablename, string rowkey, string columnfamily, string column) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\t//get.addfamily(bytes.tobytes(columnfamily));\n\t\tget.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + "--" + columnfamily + "--" + column + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_data(string tablename, string rowkey, string columnfamily) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\tget.addfamily(bytes.tobytes(columnfamily));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + "--" + columnfamily + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\tpublic static void get_data(string tablename, string rowkey) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t\n\t\tget get = new get(bytes.tobytes(rowkey));\n\t\tresult result = table.get(get);\n\t\tcell[] cells = result.rawcells();\n\t\tsystem.out.println(tablename + "--" + rowkey + ":");\n\t\tprint_cells2(cells);\n\t\ttable.close();\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_cells(cell[] cells) {\n\t\tfor (cell tempcell : cells) {\n\t\t\tsystem.out.println(bytes.tostring(cellutil.clonerow(tempcell)) \n\t\t\t\t\t+ "\\t\\tcolumn=" + bytes.tostring(cellutil.clonefamily(tempcell)) + ":" +  bytes.tostring(cellutil.clonequalifier(tempcell))\n\t\t\t\t\t+ ",timestamp=" + tempcell.gettimestamp() \n\t\t\t\t\t+ ", value=" + bytes.tostring(cellutil.clonevalue(tempcell)) );\n\t\t}\n\t}\n\t// æå°ååæ ¼ä¿¡æ¯\n\tprivate static void print_cells2(cell[] cells) {\n\t\tstringbuilder sb = new stringbuilder();\n\t\tfor (cell cell : cells) {\n\t\t\tstring column = bytes.tostring(cell.getqualifierarray(), cell.getqualifieroffset(), cell.getqualifierlength());\n\t\t\tstring value = bytes.tostring(cell.getvaluearray(),cell.getvalueoffset(),cell.getvaluelength());\n\t\t\tsb.append(column).append(":").append(value).append(";\\t");\n\t\t}\n\t\tsystem.out.println(sb.tostring());\n\t}\n\t// 7.æ¥æ°æ®(scan)\n\tpublic static void scan_data(string tablename) {\n\t\ttable table = null;\n\t\ttry {\n\t\t\ttable = connect.gettable(tablename.valueof(tablename));\n\t\t\tresultscanner results = table.getscanner(new scan());\n\t\t\tsystem.out.println(tablename + "è¡¨\\nrow\\t\\tcolumn+cell");\n\t\t\tfor (result result : results) {\n\t\t\t\tcell[] cells = result.rawcells();\n\t\t\t\tprint_cells(cells);\n\t\t\t}\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif(table!=null) {\n\t\t\t\t\ttable.close();\n\t\t\t\t}\n\t\t\t} catch (ioexception e) {\n\t\t\t\t// todo auto-generated catch block\n\t\t\t\te.printstacktrace();\n\t\t\t}\n\t\t}\n\t}\n\t// 7.2 æ¥æ°æ®(scan + filter)\n\tpublic static void filter_data(string tablename, filter filter, int limit) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\tscan scan = new scan().setfilter(filter).setlimit(limit);\n\t\tresultscanner resultscan = table.getscanner(scan);\n\t\tsystem.out.println(tablename + "è¡¨(filter)\\nrow\\t\\tcolumn+cell");\n\t\tfor (result result : resultscan) {\n\t\t\tcell[] cells = result.rawcells();\n\t\t\tprint_cells(cells);\n\t\t}\n\t\ttable.close();\n\t}\n\t// 8. å é¤å¤è¡æ°æ®\n\tpublic static void delete_data(string tablename, string... rows) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\t//delete delete = new delete(bytes.tobytes(rowkey));\n\t\tlist<delete> deletelist = new arraylist<delete>();\n\t\tfor (string row:rows) {\n\t\t\tdelete delete = new delete(bytes.tobytes(row));\n\t\t\tdeletelist.add(delete);\n\t\t}\n\t\ttable.delete(deletelist);\n\t\ttable.close();\n\t\tsystem.out.println("å é¤æå");\n\t}\n\t// 8.1 å é¤ååæ ¼(cell)æ°æ®\n\tpublic static void delete_cell(string tablename,  string rowkey, string columnfamily, string column ) throws ioexception {\n\t\ttable table = connect.gettable(tablename.valueof(tablename));\n\t\tdelete delete = new delete(bytes.tobytes(rowkey));\n\t\tdelete.addcolumn(bytes.tobytes(columnfamily), bytes.tobytes(column));\t\t//å é¤æåä¸çæ¬\n\t\t//delete.addcolumns(bytes.tobytes(columnfamily), bytes.tobytes(column));\t\t//å é¤ææçæ¬\n\t\ttable.delete(delete);\n\t\ttable.close();\n\t}\n\n\tpublic static void main(string[] args) throws ioexception {\n\t\tsystem.out.println("============================start=========================");\n\t\t// 1.å¤æ­è¡¨æ¯å¦å­å¨\n\t\t//is_exists("student");\n\t\t\n\t\t// 3.åå»ºå½åç©ºé´\n\t\t//create_namespace("std");\n\t\t\n\t\t// 2.åå»ºè¡¨\n\t\t//create_table("std:stu");\n\t\t\n\t\t// 4.å é¤è¡¨\n\t\t//drop_table("std:stu");\n\t\t\n\t\t// 5.æå¥æ°æ®\n\t\t//put_data("std:stu", "1003", "info1", "addr", "beijing");\n\t\t//put_data("std:stu", "1004", "info1", "sex", "ç·");\n\t\t//put_data("std:stu", "1005", "info1", "class", "2");\n\t\t\n\t\t// 6.æ¥æ°æ®(get)\n\t\tget_data("std:stu", "1002");\n\t\tget_data("std:stu", "1002", "info1");\n\t\t\n\t\t// 7.æ¥æ°æ®(scan)\n\t\tscan_data("std:stu");\n\t\t\n\t\t// 7.1 æ¥æ°æ®(scan + filter)\n\t\t//filter_data("std:stu", new prefixfilter(bytes.tobytes("100")), 10);\t//ç­éåºè¡é®ä»¥rowä¸ºåç¼çææçè¡\n\t\t//filter_data("std:stu", new randomrowfilter((float) 0.2), 10);\t//æç§ä¸å®çå çï¼<=0ä¼è¿æ»¤æææçè¡ï¼>=1ä¼åå«ææçè¡ï¼æ¥è¿åéæºçç»æé\n\t\t//filter_data("std:stu", new keyonlyfilter(), 10); // è¿åææçè¡ï¼ä½å¼å¨æ¯ç©º \n\t\t//  ç­éåºå¹éçææçè¡  \n\t\tfilter_data("std:stu", new rowfilter(comparefilter.compareop.less, new binarycomparator(bytes.tobytes("1002"))), 10);\n\t\t\n\t\t// 8. å é¤å¤è¡æ°æ®æ°æ®\n\t\t//delete_data("std:stu", "1003","1004");\n\t\t\n\t\t// 8.1å é¤ååæ ¼æ°æ®\n\t\t//delete_cell("std:stu", "1005", "info1", "name");\n\t\t\n\t\tscan_data("std:stu");\n\t\t\n\t\tsystem.out.println("============================end==========================");\n\t\t// end:å³é­èµæºåè¿æ¥\n\t\tclose();\n\t}\n\n}\n\n',charsets:{cjk:!0},lastUpdated:"2025/03/28, 16:47:15",lastUpdatedTimestamp:1743151635e3},{title:"Sparkç¯å¢æ­å»º",frontmatter:{title:"Sparkç¯å¢æ­å»º",date:"2022-02-27T17:35:00.000Z",permalink:"/pages/7d157d/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Spark/01.Spark%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/06.Spark/01.Sparkç¯å¢æ­å»º.md",key:"v-a16758b4",path:"/pages/7d157d/",headers:[{level:2,title:"1.å®è£ä½¿ç¨",slug:"_1-å®è£ä½¿ç¨",normalizedTitle:"1.å®è£ä½¿ç¨",charIndex:128},{level:3,title:"1ï¼è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹",slug:"_1-è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹",normalizedTitle:"1ï¼è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹",charIndex:139},{level:3,title:"2ï¼ä¿®æ¹éç½®æä»¶åç§°",slug:"_2-ä¿®æ¹éç½®æä»¶åç§°",normalizedTitle:"2ï¼ä¿®æ¹éç½®æä»¶åç§°",charIndex:182},{level:3,title:"3ï¼ä¿®æ¹slaveæä»¶ï¼æ·»å workèç¹ï¼",slug:"_3-ä¿®æ¹slaveæä»¶-æ·»å workèç¹",normalizedTitle:"3ï¼ä¿®æ¹slaveæä»¶ï¼æ·»å workèç¹ï¼",charIndex:262},{level:3,title:"4ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼",slug:"_4-ä¿®æ¹spark-env-shæä»¶-æ·»å å¦ä¸éç½®",normalizedTitle:"4ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼",charIndex:332},{level:3,title:"5ï¼ååsparkå",slug:"_5-ååsparkå",normalizedTitle:"5ï¼ååsparkå",charIndex:491},{level:3,title:"6ï¼å¯å¨(å¨Master)",slug:"_6-å¯å¨-å¨master",normalizedTitle:"6ï¼å¯å¨(å¨master)",charIndex:520},{level:3,title:"7ï¼å®æ¹æ±PIæ¡ä¾",slug:"_7-å®æ¹æ±piæ¡ä¾",normalizedTitle:"7ï¼å®æ¹æ±piæ¡ä¾",charIndex:945},{level:3,title:"8ï¼å¯å¨spark shell",slug:"_8-å¯å¨spark-shell",normalizedTitle:"8ï¼å¯å¨spark shell",charIndex:1135},{level:2,title:"2.JobHistoryServeréç½®",slug:"_2-jobhistoryserveréç½®",normalizedTitle:"2.jobhistoryserveréç½®",charIndex:1540},{level:3,title:"1ï¼ä¿®æ¹spark-default.conf.templateåç§°",slug:"_1-ä¿®æ¹spark-default-conf-templateåç§°",normalizedTitle:"1ï¼ä¿®æ¹spark-default.conf.templateåç§°",charIndex:1565},{level:3,title:"2ï¼ä¿®æ¹spark-default.confæä»¶ï¼å¼å¯Logï¼",slug:"_2-ä¿®æ¹spark-default-confæä»¶-å¼å¯log",normalizedTitle:"2ï¼ä¿®æ¹spark-default.confæä»¶ï¼å¼å¯logï¼",charIndex:1656},{level:3,title:"3ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼",slug:"_3-ä¿®æ¹spark-env-shæä»¶-æ·»å å¦ä¸éç½®",normalizedTitle:"3ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼",charIndex:1870},{level:3,title:"4ï¼ååéç½®æä»¶",slug:"_4-ååéç½®æä»¶",normalizedTitle:"4ï¼ååéç½®æä»¶",charIndex:2446},{level:3,title:"5ï¼å¯å¨åå²æå¡",slug:"_5-å¯å¨åå²æå¡",normalizedTitle:"5ï¼å¯å¨åå²æå¡",charIndex:2505},{level:3,title:"6ï¼åæ¬¡æ§è¡ä»»å¡",slug:"_6-åæ¬¡æ§è¡ä»»å¡",normalizedTitle:"6ï¼åæ¬¡æ§è¡ä»»å¡",charIndex:2547},{level:3,title:"7ï¼æ¥çåå²æå¡",slug:"_7-æ¥çåå²æå¡",normalizedTitle:"7ï¼æ¥çåå²æå¡",charIndex:2736},{level:2,title:"3.HAéç½®",slug:"_3-haéç½®",normalizedTitle:"3.haéç½®",charIndex:2766},{level:3,title:"1ï¼zookeeperæ­£å¸¸å®è£å¹¶å¯å¨",slug:"_1-zookeeperæ­£å¸¸å®è£å¹¶å¯å¨",normalizedTitle:"1ï¼zookeeperæ­£å¸¸å®è£å¹¶å¯å¨",charIndex:2777},{level:3,title:"2ï¼ä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®ï¼",slug:"_2-ä¿®æ¹spark-env-shæä»¶æ·»å å¦ä¸éç½®",normalizedTitle:"2ï¼ä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®ï¼",charIndex:2800},{level:3,title:"3ï¼ååéç½®æä»¶",slug:"_3-ååéç½®æä»¶",normalizedTitle:"3ï¼ååéç½®æä»¶",charIndex:3093},{level:3,title:"4ï¼å¨hadoop100ä¸(Master)å¯å¨å¨é¨èç¹",slug:"_4-å¨hadoop100ä¸-master-å¯å¨å¨é¨èç¹",normalizedTitle:"4ï¼å¨hadoop100ä¸(master)å¯å¨å¨é¨èç¹",charIndex:3126},{level:3,title:"5ï¼å¨hadoop101ä¸åç¬å¯å¨masterèç¹",slug:"_5-å¨hadoop101ä¸åç¬å¯å¨masterèç¹",normalizedTitle:"5ï¼å¨hadoop101ä¸åç¬å¯å¨masterèç¹",charIndex:3177},{level:3,title:"6ï¼spark HAéç¾¤è®¿é®",slug:"_6-spark-haéç¾¤è®¿é®",normalizedTitle:"6ï¼spark haéç¾¤è®¿é®",charIndex:3229},{level:3,title:"7) æ§è¡ç¨åº",slug:"_7-æ§è¡ç¨åº",normalizedTitle:"7) æ§è¡ç¨åº",charIndex:3384},{level:3,title:"é:ä¿®æ¹SparkUIçé¢é»è®¤ç«¯å£å·",slug:"é-ä¿®æ¹sparkuiçé¢é»è®¤ç«¯å£å·",normalizedTitle:"é:ä¿®æ¹sparkuiçé¢é»è®¤ç«¯å£å·",charIndex:3958},{level:2,title:"1.å®è£ä½¿ç¨",slug:"_1-å®è£ä½¿ç¨-2",normalizedTitle:"1.å®è£ä½¿ç¨",charIndex:128},{level:3,title:"1ï¼ä¿®æ¹hadoopéç½®æä»¶yarn-site.xml",slug:"_1-ä¿®æ¹hadoopéç½®æä»¶yarn-site-xml",normalizedTitle:"1ï¼ä¿®æ¹hadoopéç½®æä»¶yarn-site.xml",charIndex:4251},{level:3,title:"2ï¼ä¿®æ¹spark-env.sh",slug:"_2-ä¿®æ¹spark-env-sh",normalizedTitle:"2ï¼ä¿®æ¹spark-env.sh",charIndex:2800},{level:3,title:"3ï¼ååéç½®æä»¶",slug:"_3-ååéç½®æä»¶-2",normalizedTitle:"3ï¼ååéç½®æä»¶",charIndex:3093},{level:3,title:"4ï¼æ§è¡ä¸ä¸ªç¨åº",slug:"_4-æ§è¡ä¸ä¸ªç¨åº",normalizedTitle:"4ï¼æ§è¡ä¸ä¸ªç¨åº",charIndex:4914},{level:2,title:"2. æ¥å¿æ¥ç",slug:"_2-æ¥å¿æ¥ç",normalizedTitle:"2. æ¥å¿æ¥ç",charIndex:5111},{level:3,title:"1ï¼ä¿®æ¹éç½®æä»¶spark-defaults.conf",slug:"_1-ä¿®æ¹éç½®æä»¶spark-defaults-conf",normalizedTitle:"1ï¼ä¿®æ¹éç½®æä»¶spark-defaults.conf",charIndex:5123},{level:3,title:"2ï¼éå¯sparkåå²æå¡",slug:"_2-éå¯sparkåå²æå¡",normalizedTitle:"2ï¼éå¯sparkåå²æå¡",charIndex:5243},{level:3,title:"3ï¼æäº¤ä»»å¡å°Yarnæ§è¡",slug:"_3-æäº¤ä»»å¡å°yarnæ§è¡",normalizedTitle:"3ï¼æäº¤ä»»å¡å°yarnæ§è¡",charIndex:5545},{level:3,title:"4ï¼Webé¡µé¢æ¥çæ¥å¿",slug:"_4-webé¡µé¢æ¥çæ¥å¿",normalizedTitle:"4ï¼webé¡µé¢æ¥çæ¥å¿",charIndex:5719}],headersStr:"1.å®è£ä½¿ç¨ 1ï¼è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹ 2ï¼ä¿®æ¹éç½®æä»¶åç§° 3ï¼ä¿®æ¹slaveæä»¶ï¼æ·»å workèç¹ï¼ 4ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼ 5ï¼ååsparkå 6ï¼å¯å¨(å¨Master) 7ï¼å®æ¹æ±PIæ¡ä¾ 8ï¼å¯å¨spark shell 2.JobHistoryServeréç½® 1ï¼ä¿®æ¹spark-default.conf.templateåç§° 2ï¼ä¿®æ¹spark-default.confæä»¶ï¼å¼å¯Logï¼ 3ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼ 4ï¼ååéç½®æä»¶ 5ï¼å¯å¨åå²æå¡ 6ï¼åæ¬¡æ§è¡ä»»å¡ 7ï¼æ¥çåå²æå¡ 3.HAéç½® 1ï¼zookeeperæ­£å¸¸å®è£å¹¶å¯å¨ 2ï¼ä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®ï¼ 3ï¼ååéç½®æä»¶ 4ï¼å¨hadoop100ä¸(Master)å¯å¨å¨é¨èç¹ 5ï¼å¨hadoop101ä¸åç¬å¯å¨masterèç¹ 6ï¼spark HAéç¾¤è®¿é® 7) æ§è¡ç¨åº é:ä¿®æ¹SparkUIçé¢é»è®¤ç«¯å£å· 1.å®è£ä½¿ç¨ 1ï¼ä¿®æ¹hadoopéç½®æä»¶yarn-site.xml 2ï¼ä¿®æ¹spark-env.sh 3ï¼ååéç½®æä»¶ 4ï¼æ§è¡ä¸ä¸ªç¨åº 2. æ¥å¿æ¥ç 1ï¼ä¿®æ¹éç½®æä»¶spark-defaults.conf 2ï¼éå¯sparkåå²æå¡ 3ï¼æäº¤ä»»å¡å°Yarnæ§è¡ 4ï¼Webé¡µé¢æ¥çæ¥å¿",content:'# éç¾¤è§å\n\né¦åæä»¬è¦ç¡®è®¤æä»¬çLinuxä¸»æºæ¯å¦å®è£äºscalaï¼å¦ææ²¡æå®è£åéè¦å®è£ï¼5å°æºå¨é½éè¦å®è£\n\nå­¦ä¹ scalaæ¶ä½¿ç¨çæ¯2.12çæ¬ï¼æä»¥æä»¬éæ©spark2.4.2åä»¥ä¸ççæ¬\n\n\n# Spark Standaloneæ¨¡å¼\n\n\n# 1.å®è£ä½¿ç¨\n\n\n# 1ï¼è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹\n\ncd spark/conf/\n\n\n# 2ï¼ä¿®æ¹éç½®æä»¶åç§°\n\nmv slaves.template slaves mv spark-env.sh.template spark-env.sh\n\n\n# 3ï¼ä¿®æ¹slaveæä»¶ï¼æ·»å workèç¹ï¼\n\nvim slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n\n# 4ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\nexport JAVA_HOME=/soft/module/jdk1.8.0_161\nexport SPARK_MASTER_HOST=hadoop100\nexport SPARK_MASTER_PORT=7077\n\n\n\n# 5ï¼ååsparkå\n\nxsync spark/\n\n\n# 6ï¼å¯å¨(å¨Master)\n\nsbin/start-all.sh xcall.sh\n\n------------------- hadoop100 --------------\n10021 Jps\n9944 Master\n------------------- hadoop101 --------------\n9159 Jps\n9096 Worker\n------------------- hadoop102 --------------\n8740 Worker\n8804 Jps\n------------------- hadoop103 --------------\n8749 Worker\n8813 Jps\n\n\nç½é¡µæ¥çï¼hadoop100:8080 æ³¨æï¼å¦æéå° âJAVA_HOME not setâ å¼å¸¸ï¼å¯ä»¥å¨sbinç®å½ä¸çspark-config.sh æä»¶ä¸­å å¥å¦ä¸éç½®ï¼ export JAVA_HOME=XXXX\n\n\n# 7ï¼å®æ¹æ±PIæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--executor-memory 1G \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n\n# 8ï¼å¯å¨spark shell\n\n/soft/module/spark/bin/spark-shell \\\n--master spark://hadoop100:7077 \\\n--executor-memory 1g \\\n--total-executor-cores 2\n\n\nåæ°ï¼--master spark://hadoop100:7077æå®è¦è¿æ¥çéç¾¤çmaster æ§è¡WordCountç¨åº\n\nscala>sc.textFile("input").flatMap(_.split(" ")).map((_,1)).reduceByKey(_+_).collect\n\nres0: Array[(String, Int)] = Array((hadoop,6), (oozie,3), (spark,3), (hive,3), (atguigu,3), (hbase,6))\n\nscala>\n\n\n\n# 2.JobHistoryServeréç½®\n\n\n# 1ï¼ä¿®æ¹spark-default.conf.templateåç§°\n\nmv spark-defaults.conf.template spark-defaults.conf\n\n\n# 2ï¼ä¿®æ¹spark-default.confæä»¶ï¼å¼å¯Logï¼\n\nvim spark-defaults.conf\n\nspark.eventLog.enabled           true\nspark.eventLog.dir               hdfs://hadoop100:9000/directory\n\n\næ³¨æï¼HDFSä¸çç®å½éè¦æåå­å¨ã hadoop fs -mkdir /directory\n\n\n# 3ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\nexport SPARK_HISTORY_OPTS="\n-Dspark.history.ui.port=18080 \n-Dspark.history.retainedApplications=30 \n-Dspark.history.fs.logDirectory=hdfs://hadoop100:9000/directory"\n\n\nåæ°æè¿°ï¼ spark.eventLog.dirï¼Applicationå¨è¿è¡è¿ç¨ä¸­ææçä¿¡æ¯åè®°å½å¨è¯¥å±æ§æå®çè·¯å¾ä¸ï¼\n\nspark.history.ui.port=18080 WEBUIè®¿é®çç«¯å£å·ä¸º18080\n\nspark.history.fs.logDirectory=hdfs://hadoop102:9000/directory éç½®äºè¯¥å±æ§åï¼å¨start-history-server.shæ¶å°±æ éåæ¾å¼çæå®è·¯å¾ï¼Spark History Serveré¡µé¢åªå±ç¤ºè¯¥æå®è·¯å¾ä¸çä¿¡æ¯\n\nspark.history.retainedApplications=30æå®ä¿å­Applicationåå²è®°å½çä¸ªæ°ï¼å¦æè¶è¿è¿ä¸ªå¼ï¼æ§çåºç¨ç¨åºä¿¡æ¯å°è¢«å é¤ï¼è¿ä¸ªæ¯åå­ä¸­çåºç¨æ°ï¼èä¸æ¯é¡µé¢ä¸æ¾ç¤ºçåºç¨æ°ã\n\n\n# 4ï¼ååéç½®æä»¶\n\nxsync spark-defaults.conf xsync spark-env.sh\n\n\n# 5ï¼å¯å¨åå²æå¡\n\nsbin/stop-history-server.sh\n\n\n# 6ï¼åæ¬¡æ§è¡ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--executor-memory 1G \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n\n# 7ï¼æ¥çåå²æå¡\n\nhadoop100:18080\n\n\n# 3.HAéç½®\n\n\n# 1ï¼zookeeperæ­£å¸¸å®è£å¹¶å¯å¨\n\n\n# 2ï¼ä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\næ³¨éæå¦ä¸åå®¹ï¼\n\n#SPARK_MASTER_HOST=hadoop100\n#SPARK_MASTER_PORT=7077\n\n\næ·»å ä¸å¦ä¸åå®¹ï¼\n\nexport SPARK_DAEMON_JAVA_OPTS="\n-Dspark.deploy.recoveryMode=ZOOKEEPER \n-Dspark.deploy.zookeeper.url=hadoop101,hadoop102,hadoop103 \n-Dspark.deploy.zookeeper.dir=/spark"\n\n\n\n# 3ï¼ååéç½®æä»¶\n\nxsync spark-env.sh\n\n\n# 4ï¼å¨hadoop100ä¸(Master)å¯å¨å¨é¨èç¹\n\nsbin/start-all.sh\n\n\n# 5ï¼å¨hadoop101ä¸åç¬å¯å¨masterèç¹\n\nsbin/start-master.sh\n\n\n# 6ï¼spark HAéç¾¤è®¿é®\n\n/soft/module/spark/bin/spark-shell \\\n--master spark://hadoop100:7077,hadoop102:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2\n\n\n\n# 7) æ§è¡ç¨åº\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop100:7077,hadoop101:7077 \\\n--executor-memory 1G \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n./spark-shell --master spark://hadoop100:7077,hadoop101:7077\n\nhadoop fs -mkdir -p /spark/input\nhadoop fs -put RELEASE /spark/input\n\nsc.textFile("/spark/input").flatMap(_.split(" ")).map(word=>(word,1)).reduceByKey(_+_).map(entry=>(entry._2,entry._1)).sortByKey(false,1).map(entry=>(entry._2,entry._1)).saveAsTextFile("/spark/output/")\n\n\n\n# é:ä¿®æ¹SparkUIçé¢é»è®¤ç«¯å£å·\n\nSparkUIçé¢é»è®¤ç«¯å£å·ä¸º8080(å¯è½ä¼è¢«å ç¨,è¢«å ç¨åé»è®¤+1HTTP ERROR 404 Not Found),ä¸¤ç§æ¹æ³ä¿®æ¹\n\n 1. ä¿®æ¹conf/spark-env.sh, å ä¸export SPARK_MASTER_WEBUI_PORT=8082\n 2. ä¿®æ¹ sbin/start-master.sh\n\nif [ "$SPARK_MASTER_WEBUI_PORT" = "" ]; then\n  SPARK_MASTER_WEBUI_PORT=8082\nfi\n\n\n\n# Spark Yarnæ¨¡å¼\n\n\n# 1.å®è£ä½¿ç¨\n\n\n# 1ï¼ä¿®æ¹hadoopéç½®æä»¶yarn-site.xml\n\næ·»å å¦ä¸åå®¹ï¼vim yarn-site.xml\n\n        \x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çç©çåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n        <property>\n                <name>yarn.nodemanager.pmem-check-enabled</name>\n                <value>false</value>\n        </property>\n        \x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çèæåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n        <property>\n                <name>yarn.nodemanager.vmem-check-enabled</name>\n                <value>false</value>\n        </property>\n\n\n\n# 2ï¼ä¿®æ¹spark-env.sh\n\næ·»å å¦ä¸éç½®ï¼vim spark-env.sh\n\nYARN_CONF_DIR=/soft/module/hadoop-2.9.2/etc/hadoop\n\n\n\n# 3ï¼ååéç½®æä»¶\n\nxsync /soft/module/hadoop-2.9.2/etc/hadoop/yarn-site.xml xsync spark-env.sh\n\n\n# 4ï¼æ§è¡ä¸ä¸ªç¨åº\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n100\n\n\næ³¨æï¼å¨æäº¤ä»»å¡ä¹åéå¯å¨HDFSä»¥åYARNéç¾¤ã\n\n\n# 2. æ¥å¿æ¥ç\n\n\n# 1ï¼ä¿®æ¹éç½®æä»¶spark-defaults.conf\n\næ·»å å¦ä¸åå®¹ï¼\n\nspark.yarn.historyServer.address=hadoop102:18080\nspark.history.ui.port=18080\n\n\n\n# 2ï¼éå¯sparkåå²æå¡\n\nsbin/stop-history-server.sh\n\nstopping org.apache.spark.deploy.history.HistoryServer\n\n\nsbin/start-history-server.sh\n\nstarting org.apache.spark.deploy.history.HistoryServer, logging to /opt/module/spark/logs/spark-atguigu-org.apache.spark.deploy.history.HistoryServer-1-hadoop102.out\n\n\n\n# 3ï¼æäº¤ä»»å¡å°Yarnæ§è¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n100\n\n\n\n# 4ï¼Webé¡µé¢æ¥çæ¥å¿\n\nhadoop100:8088 ``\n\n\n# éï¼spark ä¸ç§é¨ç½²æ¨¡å¼çåºå«å¯¹æ¯\n\næºç½é¡µ:https://www.cnblogs.com/eric666666/p/11228825.html\n\nå¨è¿ä¸ç§é¨ç½²æ¨¡å¼ä¸­ï¼standaloneä½ä¸ºsparkèªå¸¦çåå¸å¼é¨ç½²æ¨¡å¼ï¼æ¯æç®åä¹æ¯æåºæ¬çsparkåºç¨ç¨åºé¨ç½²æ¨¡å¼ï¼è¿éå°±ä¸åèµè¿°ã\n\nè¿éå°±è®²ä¸ä¸yarnåmesosçåºå«ï¼\n\n(1) å°±ä¸¤ç§æ¡æ¶æ¬èº«èè¨ï¼mesosä¸å¯é¨ç½²yarnæ¡æ¶ãèyarnæ¯æ´éç¨çä¸ç§é¨ç½²æ¡æ¶ï¼èä¸ææ¯è¾æçã\n\n(2) mesosåå±è°åº¦æºå¶ï¼è½æ¯æå¤ç§è°åº¦æ¨¡å¼ï¼èYarnéè¿ResourceãManangerç®¡çéç¾¤èµæºï¼åªè½ä½¿ç¨ä¸ç§è°åº¦æ¨¡å¼ãMesos çåå±è°åº¦æºå¶ä¸ºï¼mesoså¯æ¥å¥å¦yarnä¸è¬çåå¸å¼é¨ç½²æ¡æ¶ï¼ä½Mesosè¦æ±å¯æ¥å¥çæ¡æ¶å¿é¡»æä¸ä¸ªè°åº¦å¨æ¨¡åï¼è¯¥è°åº¦å¨è´è´£æ¡æ¶åé¨çä»»å¡è°åº¦ãå½ä¸ä¸ªframeworkæ³è¦æ¥å¥mesosæ¶ï¼éè¦ä¿®æ¹èªå·±çè°åº¦å¨ï¼ä»¥ä¾¿åmesosæ³¨åï¼å¹¶è·åmesosåéç»èªå·±çèµæºï¼ è¿æ ·åç±èªå·±çè°åº¦å¨å°è¿äºèµæºåéç»æ¡æ¶ä¸­çä»»å¡ï¼ä¹å°±æ¯è¯´ï¼æ´ä¸ªmesosç³»ç»éç¨äºåå±è°åº¦æ¡æ¶ï¼ç¬¬ä¸å±ï¼ç±mesoså°èµæºåéç»æ¡æ¶ï¼ç¬¬äºå±ï¼æ¡æ¶èªå·±çè°åº¦å¨å°èµæºåéç»èªå·±åé¨çä»»å¡ã\n\n(3) mesoså¯å®ç°ç²ãç»ç²åº¦èµæºè°åº¦ï¼å¯å¨æåéèµæºï¼èYarnåªè½å®ç°éæèµæºåéãå¶ä¸­ç²ç²åº¦åç»ç²åº¦è°åº¦å®ä¹å¦ä¸ï¼\n\nç²ç²åº¦æ¨¡å¼ï¼Coarse-grained Modeï¼ï¼ç¨åºè¿è¡ä¹åå°±è¦ææéè¦çåç§èµæºï¼æ¯ä¸ªexecutorå ç¨å¤å°èµæºï¼åé¨å¯è¿è¡å¤å°ä¸ªexecutorï¼ç³è¯·å¥½ï¼è¿è¡è¿ç¨ä¸­ä¸è½æ¹åã ãã ããç»ç²åº¦æ¨¡å¼ï¼Fine-grained Modeï¼ï¼ä¸ºäºé²æ­¢èµæºæµªè´¹ï¼å¯¹èµæºè¿è¡æéåéãä¸ç²ç²åº¦æ¨¡å¼ä¸æ ·ï¼åºç¨ç¨åºå¯å¨æ¶ï¼åä¼å¯å¨executorï¼ä½æ¯ä¸ªexecutorå ç¨èµæºä»ä»æ¯èªå·±è¿è¡æéçèµæºï¼ä¸éè¦èèå°æ¥è¦è¿è¡çä»»å¡ï¼ä¹åï¼mesosä¼ä¸ºæ¯ä¸ªexecutorå¨æåéèµæºï¼æ¯åéä¸äºï¼ä¾¿å¯ä»¥è¿è¡ä¸ä¸ªæ°ä»»å¡ï¼åä¸ªTaskè¿è¡å®ä¹åå¯ä»¥é©¬ä¸éæ¾å¯¹åºçèµæºãæ¯ä¸ªTaskä¼æ±æ¥ç¶æç»Mesos slaveåMesos Masterï¼ä¾¿äºæ´å ç»ç²åº¦ç®¡çåå®¹éï¼è¿ç§è°åº¦æ¨¡å¼ç±»ä¼¼äºMapReduceè°åº¦æ¨¡å¼ï¼æ¯ä¸ªTaskå®å¨ç¬ç«ï¼ä¼ç¹æ¯ä¾¿äºèµæºæ§å¶åéç¦»ï¼ä½ç¼ºç¹ä¹å¾ææ¾ï¼ç­ä½ä¸è¿è¡å»¶è¿å¤§ã ãã ããä»yarnåmesosçåºå«å¯çåºï¼å®ä»¬åèªæä¼ç¼ºç¹ãå æ­¤å®éä½¿ç¨ä¸­ï¼éæ©åªç§æ¡æ¶ï¼è¦æ ¹æ®æ¬å¬å¸çå®ééè¦èå®ï¼å¯èèç°æçå¤§æ°æ®çæç¯å¢ãå¦æå¸éç¨yarné¨ç½²sparkï¼åå æ¯ï¼æå¸æ©å·²æè¾æççhadoopçæ¡æ¶ï¼èèå°ä½¿ç¨çæ¹ä¾¿æ§ï¼éç¨äºyarnæ¨¡å¼çé¨ç½²ã',normalizedContent:'# éç¾¤è§å\n\né¦åæä»¬è¦ç¡®è®¤æä»¬çlinuxä¸»æºæ¯å¦å®è£äºscalaï¼å¦ææ²¡æå®è£åéè¦å®è£ï¼5å°æºå¨é½éè¦å®è£\n\nå­¦ä¹ scalaæ¶ä½¿ç¨çæ¯2.12çæ¬ï¼æä»¥æä»¬éæ©spark2.4.2åä»¥ä¸ççæ¬\n\n\n# spark standaloneæ¨¡å¼\n\n\n# 1.å®è£ä½¿ç¨\n\n\n# 1ï¼è¿å¥sparkå®è£ç®å½ä¸çconfæä»¶å¤¹\n\ncd spark/conf/\n\n\n# 2ï¼ä¿®æ¹éç½®æä»¶åç§°\n\nmv slaves.template slaves mv spark-env.sh.template spark-env.sh\n\n\n# 3ï¼ä¿®æ¹slaveæä»¶ï¼æ·»å workèç¹ï¼\n\nvim slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n\n# 4ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\nexport java_home=/soft/module/jdk1.8.0_161\nexport spark_master_host=hadoop100\nexport spark_master_port=7077\n\n\n\n# 5ï¼ååsparkå\n\nxsync spark/\n\n\n# 6ï¼å¯å¨(å¨master)\n\nsbin/start-all.sh xcall.sh\n\n------------------- hadoop100 --------------\n10021 jps\n9944 master\n------------------- hadoop101 --------------\n9159 jps\n9096 worker\n------------------- hadoop102 --------------\n8740 worker\n8804 jps\n------------------- hadoop103 --------------\n8749 worker\n8813 jps\n\n\nç½é¡µæ¥çï¼hadoop100:8080 æ³¨æï¼å¦æéå° âjava_home not setâ å¼å¸¸ï¼å¯ä»¥å¨sbinç®å½ä¸çspark-config.sh æä»¶ä¸­å å¥å¦ä¸éç½®ï¼ export java_home=xxxx\n\n\n# 7ï¼å®æ¹æ±piæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--executor-memory 1g \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n\n# 8ï¼å¯å¨spark shell\n\n/soft/module/spark/bin/spark-shell \\\n--master spark://hadoop100:7077 \\\n--executor-memory 1g \\\n--total-executor-cores 2\n\n\nåæ°ï¼--master spark://hadoop100:7077æå®è¦è¿æ¥çéç¾¤çmaster æ§è¡wordcountç¨åº\n\nscala>sc.textfile("input").flatmap(_.split(" ")).map((_,1)).reducebykey(_+_).collect\n\nres0: array[(string, int)] = array((hadoop,6), (oozie,3), (spark,3), (hive,3), (atguigu,3), (hbase,6))\n\nscala>\n\n\n\n# 2.jobhistoryserveréç½®\n\n\n# 1ï¼ä¿®æ¹spark-default.conf.templateåç§°\n\nmv spark-defaults.conf.template spark-defaults.conf\n\n\n# 2ï¼ä¿®æ¹spark-default.confæä»¶ï¼å¼å¯logï¼\n\nvim spark-defaults.conf\n\nspark.eventlog.enabled           true\nspark.eventlog.dir               hdfs://hadoop100:9000/directory\n\n\næ³¨æï¼hdfsä¸çç®å½éè¦æåå­å¨ã hadoop fs -mkdir /directory\n\n\n# 3ï¼ä¿®æ¹spark-env.shæä»¶ï¼æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\nexport spark_history_opts="\n-dspark.history.ui.port=18080 \n-dspark.history.retainedapplications=30 \n-dspark.history.fs.logdirectory=hdfs://hadoop100:9000/directory"\n\n\nåæ°æè¿°ï¼ spark.eventlog.dirï¼applicationå¨è¿è¡è¿ç¨ä¸­ææçä¿¡æ¯åè®°å½å¨è¯¥å±æ§æå®çè·¯å¾ä¸ï¼\n\nspark.history.ui.port=18080 webuiè®¿é®çç«¯å£å·ä¸º18080\n\nspark.history.fs.logdirectory=hdfs://hadoop102:9000/directory éç½®äºè¯¥å±æ§åï¼å¨start-history-server.shæ¶å°±æ éåæ¾å¼çæå®è·¯å¾ï¼spark history serveré¡µé¢åªå±ç¤ºè¯¥æå®è·¯å¾ä¸çä¿¡æ¯\n\nspark.history.retainedapplications=30æå®ä¿å­applicationåå²è®°å½çä¸ªæ°ï¼å¦æè¶è¿è¿ä¸ªå¼ï¼æ§çåºç¨ç¨åºä¿¡æ¯å°è¢«å é¤ï¼è¿ä¸ªæ¯åå­ä¸­çåºç¨æ°ï¼èä¸æ¯é¡µé¢ä¸æ¾ç¤ºçåºç¨æ°ã\n\n\n# 4ï¼ååéç½®æä»¶\n\nxsync spark-defaults.conf xsync spark-env.sh\n\n\n# 5ï¼å¯å¨åå²æå¡\n\nsbin/stop-history-server.sh\n\n\n# 6ï¼åæ¬¡æ§è¡ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--executor-memory 1g \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n\n# 7ï¼æ¥çåå²æå¡\n\nhadoop100:18080\n\n\n# 3.haéç½®\n\n\n# 1ï¼zookeeperæ­£å¸¸å®è£å¹¶å¯å¨\n\n\n# 2ï¼ä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®ï¼\n\nvim spark-env.sh\n\næ³¨éæå¦ä¸åå®¹ï¼\n\n#spark_master_host=hadoop100\n#spark_master_port=7077\n\n\næ·»å ä¸å¦ä¸åå®¹ï¼\n\nexport spark_daemon_java_opts="\n-dspark.deploy.recoverymode=zookeeper \n-dspark.deploy.zookeeper.url=hadoop101,hadoop102,hadoop103 \n-dspark.deploy.zookeeper.dir=/spark"\n\n\n\n# 3ï¼ååéç½®æä»¶\n\nxsync spark-env.sh\n\n\n# 4ï¼å¨hadoop100ä¸(master)å¯å¨å¨é¨èç¹\n\nsbin/start-all.sh\n\n\n# 5ï¼å¨hadoop101ä¸åç¬å¯å¨masterèç¹\n\nsbin/start-master.sh\n\n\n# 6ï¼spark haéç¾¤è®¿é®\n\n/soft/module/spark/bin/spark-shell \\\n--master spark://hadoop100:7077,hadoop102:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2\n\n\n\n# 7) æ§è¡ç¨åº\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop100:7077,hadoop101:7077 \\\n--executor-memory 1g \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.12-3.0.0-preview2.jar \\\n100\n\n\n./spark-shell --master spark://hadoop100:7077,hadoop101:7077\n\nhadoop fs -mkdir -p /spark/input\nhadoop fs -put release /spark/input\n\nsc.textfile("/spark/input").flatmap(_.split(" ")).map(word=>(word,1)).reducebykey(_+_).map(entry=>(entry._2,entry._1)).sortbykey(false,1).map(entry=>(entry._2,entry._1)).saveastextfile("/spark/output/")\n\n\n\n# é:ä¿®æ¹sparkuiçé¢é»è®¤ç«¯å£å·\n\nsparkuiçé¢é»è®¤ç«¯å£å·ä¸º8080(å¯è½ä¼è¢«å ç¨,è¢«å ç¨åé»è®¤+1http error 404 not found),ä¸¤ç§æ¹æ³ä¿®æ¹\n\n 1. ä¿®æ¹conf/spark-env.sh, å ä¸export spark_master_webui_port=8082\n 2. ä¿®æ¹ sbin/start-master.sh\n\nif [ "$spark_master_webui_port" = "" ]; then\n  spark_master_webui_port=8082\nfi\n\n\n\n# spark yarnæ¨¡å¼\n\n\n# 1.å®è£ä½¿ç¨\n\n\n# 1ï¼ä¿®æ¹hadoopéç½®æä»¶yarn-site.xml\n\næ·»å å¦ä¸åå®¹ï¼vim yarn-site.xml\n\n        \x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çç©çåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n        <property>\n                <name>yarn.nodemanager.pmem-check-enabled</name>\n                <value>false</value>\n        </property>\n        \x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çèæåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n        <property>\n                <name>yarn.nodemanager.vmem-check-enabled</name>\n                <value>false</value>\n        </property>\n\n\n\n# 2ï¼ä¿®æ¹spark-env.sh\n\næ·»å å¦ä¸éç½®ï¼vim spark-env.sh\n\nyarn_conf_dir=/soft/module/hadoop-2.9.2/etc/hadoop\n\n\n\n# 3ï¼ååéç½®æä»¶\n\nxsync /soft/module/hadoop-2.9.2/etc/hadoop/yarn-site.xml xsync spark-env.sh\n\n\n# 4ï¼æ§è¡ä¸ä¸ªç¨åº\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n100\n\n\næ³¨æï¼å¨æäº¤ä»»å¡ä¹åéå¯å¨hdfsä»¥åyarnéç¾¤ã\n\n\n# 2. æ¥å¿æ¥ç\n\n\n# 1ï¼ä¿®æ¹éç½®æä»¶spark-defaults.conf\n\næ·»å å¦ä¸åå®¹ï¼\n\nspark.yarn.historyserver.address=hadoop102:18080\nspark.history.ui.port=18080\n\n\n\n# 2ï¼éå¯sparkåå²æå¡\n\nsbin/stop-history-server.sh\n\nstopping org.apache.spark.deploy.history.historyserver\n\n\nsbin/start-history-server.sh\n\nstarting org.apache.spark.deploy.history.historyserver, logging to /opt/module/spark/logs/spark-atguigu-org.apache.spark.deploy.history.historyserver-1-hadoop102.out\n\n\n\n# 3ï¼æäº¤ä»»å¡å°yarnæ§è¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n100\n\n\n\n# 4ï¼webé¡µé¢æ¥çæ¥å¿\n\nhadoop100:8088 ``\n\n\n# éï¼spark ä¸ç§é¨ç½²æ¨¡å¼çåºå«å¯¹æ¯\n\næºç½é¡µ:https://www.cnblogs.com/eric666666/p/11228825.html\n\nå¨è¿ä¸ç§é¨ç½²æ¨¡å¼ä¸­ï¼standaloneä½ä¸ºsparkèªå¸¦çåå¸å¼é¨ç½²æ¨¡å¼ï¼æ¯æç®åä¹æ¯æåºæ¬çsparkåºç¨ç¨åºé¨ç½²æ¨¡å¼ï¼è¿éå°±ä¸åèµè¿°ã\n\nè¿éå°±è®²ä¸ä¸yarnåmesosçåºå«ï¼\n\n(1) å°±ä¸¤ç§æ¡æ¶æ¬èº«èè¨ï¼mesosä¸å¯é¨ç½²yarnæ¡æ¶ãèyarnæ¯æ´éç¨çä¸ç§é¨ç½²æ¡æ¶ï¼èä¸ææ¯è¾æçã\n\n(2) mesosåå±è°åº¦æºå¶ï¼è½æ¯æå¤ç§è°åº¦æ¨¡å¼ï¼èyarnéè¿resourceãmanangerç®¡çéç¾¤èµæºï¼åªè½ä½¿ç¨ä¸ç§è°åº¦æ¨¡å¼ãmesos çåå±è°åº¦æºå¶ä¸ºï¼mesoså¯æ¥å¥å¦yarnä¸è¬çåå¸å¼é¨ç½²æ¡æ¶ï¼ä½mesosè¦æ±å¯æ¥å¥çæ¡æ¶å¿é¡»æä¸ä¸ªè°åº¦å¨æ¨¡åï¼è¯¥è°åº¦å¨è´è´£æ¡æ¶åé¨çä»»å¡è°åº¦ãå½ä¸ä¸ªframeworkæ³è¦æ¥å¥mesosæ¶ï¼éè¦ä¿®æ¹èªå·±çè°åº¦å¨ï¼ä»¥ä¾¿åmesosæ³¨åï¼å¹¶è·åmesosåéç»èªå·±çèµæºï¼ è¿æ ·åç±èªå·±çè°åº¦å¨å°è¿äºèµæºåéç»æ¡æ¶ä¸­çä»»å¡ï¼ä¹å°±æ¯è¯´ï¼æ´ä¸ªmesosç³»ç»éç¨äºåå±è°åº¦æ¡æ¶ï¼ç¬¬ä¸å±ï¼ç±mesoså°èµæºåéç»æ¡æ¶ï¼ç¬¬äºå±ï¼æ¡æ¶èªå·±çè°åº¦å¨å°èµæºåéç»èªå·±åé¨çä»»å¡ã\n\n(3) mesoså¯å®ç°ç²ãç»ç²åº¦èµæºè°åº¦ï¼å¯å¨æåéèµæºï¼èyarnåªè½å®ç°éæèµæºåéãå¶ä¸­ç²ç²åº¦åç»ç²åº¦è°åº¦å®ä¹å¦ä¸ï¼\n\nç²ç²åº¦æ¨¡å¼ï¼coarse-grained modeï¼ï¼ç¨åºè¿è¡ä¹åå°±è¦ææéè¦çåç§èµæºï¼æ¯ä¸ªexecutorå ç¨å¤å°èµæºï¼åé¨å¯è¿è¡å¤å°ä¸ªexecutorï¼ç³è¯·å¥½ï¼è¿è¡è¿ç¨ä¸­ä¸è½æ¹åã ãã ããç»ç²åº¦æ¨¡å¼ï¼fine-grained modeï¼ï¼ä¸ºäºé²æ­¢èµæºæµªè´¹ï¼å¯¹èµæºè¿è¡æéåéãä¸ç²ç²åº¦æ¨¡å¼ä¸æ ·ï¼åºç¨ç¨åºå¯å¨æ¶ï¼åä¼å¯å¨executorï¼ä½æ¯ä¸ªexecutorå ç¨èµæºä»ä»æ¯èªå·±è¿è¡æéçèµæºï¼ä¸éè¦èèå°æ¥è¦è¿è¡çä»»å¡ï¼ä¹åï¼mesosä¼ä¸ºæ¯ä¸ªexecutorå¨æåéèµæºï¼æ¯åéä¸äºï¼ä¾¿å¯ä»¥è¿è¡ä¸ä¸ªæ°ä»»å¡ï¼åä¸ªtaskè¿è¡å®ä¹åå¯ä»¥é©¬ä¸éæ¾å¯¹åºçèµæºãæ¯ä¸ªtaskä¼æ±æ¥ç¶æç»mesos slaveåmesos masterï¼ä¾¿äºæ´å ç»ç²åº¦ç®¡çåå®¹éï¼è¿ç§è°åº¦æ¨¡å¼ç±»ä¼¼äºmapreduceè°åº¦æ¨¡å¼ï¼æ¯ä¸ªtaskå®å¨ç¬ç«ï¼ä¼ç¹æ¯ä¾¿äºèµæºæ§å¶åéç¦»ï¼ä½ç¼ºç¹ä¹å¾ææ¾ï¼ç­ä½ä¸è¿è¡å»¶è¿å¤§ã ãã ããä»yarnåmesosçåºå«å¯çåºï¼å®ä»¬åèªæä¼ç¼ºç¹ãå æ­¤å®éä½¿ç¨ä¸­ï¼éæ©åªç§æ¡æ¶ï¼è¦æ ¹æ®æ¬å¬å¸çå®ééè¦èå®ï¼å¯èèç°æçå¤§æ°æ®çæç¯å¢ãå¦æå¸éç¨yarné¨ç½²sparkï¼åå æ¯ï¼æå¸æ©å·²æè¾æççhadoopçæ¡æ¶ï¼èèå°ä½¿ç¨çæ¹ä¾¿æ§ï¼éç¨äºyarnæ¨¡å¼çé¨ç½²ã',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Sparkç¸å³ç¥è¯",frontmatter:{title:"Sparkç¸å³ç¥è¯",date:"2022-02-27T17:37:46.000Z",permalink:"/pages/b3ba00/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Spark/02.Spark%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86.html",relativePath:"02.å¤§æ°æ®/06.Spark/02.Sparkç¸å³ç¥è¯.md",key:"v-6c2b8593",path:"/pages/b3ba00/",headers:[{level:2,title:"spark-sqlå¯è°åæ°",slug:"spark-sqlå¯è°åæ°",normalizedTitle:"spark-sqlå¯è°åæ°",charIndex:2},{level:2,title:"Sparkæ°æ®ç±»å",slug:"sparkæ°æ®ç±»å",normalizedTitle:"sparkæ°æ®ç±»å",charIndex:3306},{level:3,title:"RDDãDataFrameãDataSetåå»º,åç¸äºè½¬æ¢",slug:"rddãdataframeãdatasetåå»º-åç¸äºè½¬æ¢",normalizedTitle:"rddãdataframeãdatasetåå»º,åç¸äºè½¬æ¢",charIndex:3320},{level:2,title:"Sparkä»£ç å­¦ä¹ ",slug:"sparkä»£ç å­¦ä¹ ",normalizedTitle:"sparkä»£ç å­¦ä¹ ",charIndex:4156},{level:3,title:"ç¬¬ä¸ä¸ªsparkç¨åº",slug:"ç¬¬ä¸ä¸ªsparkç¨åº",normalizedTitle:"ç¬¬ä¸ä¸ªsparkç¨åº",charIndex:4212},{level:3,title:"WordCount",slug:"wordcount",normalizedTitle:"wordcount",charIndex:4977},{level:2,title:"Spark SQLï¼sqlContextï¼",slug:"spark-sql-sqlcontext",normalizedTitle:"spark sqlï¼sqlcontextï¼",charIndex:6951},{level:3,title:"ç¬¬ä¸ä¸ªä¾å­",slug:"ç¬¬ä¸ä¸ªä¾å­",normalizedTitle:"ç¬¬ä¸ä¸ªä¾å­",charIndex:6977},{level:3,title:"SparkSQL CLI(hiveContext)",slug:"sparksql-cli-hivecontext",normalizedTitle:"sparksql cli(hivecontext)",charIndex:9639},{level:2,title:"Spark Streamingç¥è¯ç¹",slug:"spark-streamingç¥è¯ç¹",normalizedTitle:"spark streamingç¥è¯ç¹",charIndex:10321},{level:3,title:"Dstreamåºç¡",slug:"dstreamåºç¡",normalizedTitle:"dstreamåºç¡",charIndex:10386},{level:3,title:"é«çº§æ¥æº",slug:"é«çº§æ¥æº",normalizedTitle:"é«çº§æ¥æº",charIndex:10730},{level:3,title:"æä»¶æ°æ®æº(æä»¶ç³»ç»)",slug:"æä»¶æ°æ®æº-æä»¶ç³»ç»",normalizedTitle:"æä»¶æ°æ®æº(æä»¶ç³»ç»)",charIndex:12013},{level:3,title:"mysql(éå)æ°æ®æº",slug:"mysql-éå-æ°æ®æº",normalizedTitle:"mysql(éå)æ°æ®æº",charIndex:13114},{level:3,title:"èªå®ä¹æ°æ®æº",slug:"èªå®ä¹æ°æ®æº",normalizedTitle:"èªå®ä¹æ°æ®æº",charIndex:16534},{level:3,title:"æç¶ææ°æ®ç»è®¡UpdateStateByKey",slug:"æç¶ææ°æ®ç»è®¡updatestatebykey",normalizedTitle:"æç¶ææ°æ®ç»è®¡updatestatebykey",charIndex:18650},{level:3,title:"Windowæ»å¨",slug:"windowæ»å¨",normalizedTitle:"windowæ»å¨",charIndex:20926},{level:3,title:"è½¬æ¢ transfrom",slug:"è½¬æ¢-transfrom",normalizedTitle:"è½¬æ¢ transfrom",charIndex:23320},{level:3,title:"DStream.foreachRDD(DStreamè¾åº)",slug:"dstream-foreachrdd-dstreamè¾åº",normalizedTitle:"dstream.foreachrdd(dstreamè¾åº)",charIndex:23339}],headersStr:"spark-sqlå¯è°åæ° Sparkæ°æ®ç±»å RDDãDataFrameãDataSetåå»º,åç¸äºè½¬æ¢ Sparkä»£ç å­¦ä¹  ç¬¬ä¸ä¸ªsparkç¨åº WordCount Spark SQLï¼sqlContextï¼ ç¬¬ä¸ä¸ªä¾å­ SparkSQL CLI(hiveContext) Spark Streamingç¥è¯ç¹ Dstreamåºç¡ é«çº§æ¥æº æä»¶æ°æ®æº(æä»¶ç³»ç») mysql(éå)æ°æ®æº èªå®ä¹æ°æ®æº æç¶ææ°æ®ç»è®¡UpdateStateByKey Windowæ»å¨ è½¬æ¢ transfrom DStream.foreachRDD(DStreamè¾åº)",content:'# spark-sqlå¯è°åæ°\n\n----------------------------------------\n\n#Job ID /Name\nspark.app.name=clsfd_ad_attr_map_w_mvca_ins\n\n#yarn è¿è¡è°åº¦ï¼ä¹å¯ä»¥æ¯mesosï¼yarnï¼ä»¥åstandalone\n\n#ä¸ä¸ªspark applicationï¼æ¯ä¸ä¸ªsparkåºç¨ãä¸ä¸ªåºç¨å¯¹åºä¸ä»å¯¹åºä¸ä¸ªsparkContextãæ¯ä¸ä¸ªåºç¨ï¼è¿è¡ä¸ç»ç¬ç«çexecutor processesãä¸ä¸ªåºç¨ï¼å¯ä»¥ä»¥å¤çº¿ç¨çæ¹å¼æäº¤å¤ä¸ªä½ä¸jobãsparkå¯ä»¥è¿è¡å¨å¤ç§éç¾¤ç®¡çå¨ä¸å¦ï¼mesosï¼yarnï¼ä»¥åstandaloneï¼æ¯ç§éç¾¤ç®¡çå¨é½ä¼æä¾è·¨åºç¨çèµæºè°åº¦ç­ç¥ã\nspark.master=yarn\n\n#æ¿æ´»å¤é¨shuffleæå¡ãæå¡ç»´æ¤executoråçæä»¶ï¼å èexecutorå¯ä»¥è¢«å®å¨ç§»é¤ã\n#éè¦è®¾ç½®spark.dynamicAllocation.enabled ä¸ºtrueï¼åäºæå®å¤é¨shuffleæå¡ã\n#å¯¹shuffleæ¥è¯´ï¼executorç°å°èªå·±çmapè¾åºåå¥å°ç£çï¼ç¶åï¼èªå·±ä½ä¸ºä¸ä¸ªserverï¼åå¶ä»executoræä¾è¿äºmapè¾åºæä»¶çæ°æ®ãèå¨æèµæºè°åº¦å°executorè¿è¿ç»éç¾¤åï¼è¿ä¸ªshuffleæ°æ®æå¡å°±æ²¡æäºãå æ­¤ï¼å¦æè¦ä½¿ç¨å¨æèµæºç­ç¥ï¼è§£å³è¿ä¸ªé®é¢çåæ³å°±æ¯ï¼å°ä¿æshuffleæä»¶ä½ä¸ºä¸ä¸ªå¤é¨æå¡ï¼å§ç»è¿è¡å¨sparkéç¾¤çæ¯ä¸ªèç¹ä¸ï¼ç¬ç«äºåºç¨åexecutor\nspark.shuffle.service.enabled=true\n\n#å¨é»è®¤æåµä¸ï¼ä¸ç§éç¾¤ç®¡çå¨åä¸ä½¿ç¨å¨æèµæºè°åº¦æ¨¡å¼ãæä»¥è¦ä½¿ç¨å¨æèµæºè°åº¦éè¦æåéç½®ã\nspark.dynamicAllocation.enabled=true\n\n# å¦æææçexecutoré½ç§»é¤äºï¼éæ°è¯·æ±æ¶å¯å¨çåå§executoræ°\nspark.dynamicAllocation.initialExecutors=20\n\n# æå°ä¿ççexecutoræ°\nspark.dynamicAllocation.minExecutors=10\n\n# æå¤ä½¿ç¨çexecutoræ°ï¼é»è®¤ä¸ºä½ ç³è¯·çæå¤§executoræ°\nspark.dynamicAllocation.maxExecutors=100\n\n# å¯ä»¥æ¯clusterä¹å¯ä»¥æ¯Client\nspark.submit.deployMode=cluster\n\n# æå®æäº¤å°Yarnçèµæºæ± \nspark.yarn.queue=hdlq-data-batch-low\n\n# å¨yarn-clusteræ¨¡å¼ä¸ï¼ç³è¯·Yarn App Masterï¼åæ¬Driverï¼æç¨çåå­ã\nspark.driver.memory=8g\n# excutorçæ ¸å¿æ°\nspark.executor.cores=16\n# ä¸ä¸ªExecutorå¯¹åºä¸ä¸ªJVMè¿ç¨ãExecutorå ç¨çåå­åä¸ºä¸¤é¨åï¼ExecutorMemoryåMemoryOverhead\nspark.executor.memory=32g\nspark.yarn.executor.memoryOverhead=2g\n\n# shuffleååºæ°100ï¼æ ¹æ®æ°æ®éè¿è¡è°æ§ï¼è¿å¿éç½®äºJoinæ¶shuffleçååºæ°åèåæ°æ®æ¶çååºæ°ã\nspark.sql.shuffle.partitions=100\n\n# å¦æç¨æ·æ²¡ææå®å¹¶è¡åº¦ï¼ä¸é¢è¿ä¸ªåæ°å°æ¯RDDä¸­çååºæ°ï¼å®æ¯ç±join,reducebykeyåparallelize \n# è¿ä¸ªåæ°åªéç¨äºæªå å·¥çRDDä¸éç¨äºdataframe\n# æ²¡æjoinåèåè®¡ç®æä½ï¼è¿ä¸ªåæ°å°æ¯æ æè®¾ç½®\nspark.default.parallelism\n\n# æåä¼ å¥ä¸ä¸ªååºçæå¤§å­èï¼å¨è¯»åæä»¶çæ¶åã\nspark.sql.files.maxPartitionBytes=128MB\n\n# ç¨ç¸åæ¶é´åå¯ä»¥æ«æçæ°æ®çå¤§å°æ¥è¡¡éæå¼ä¸ä¸ªæä»¶çå¼éãå½å°å¤ä¸ªæä»¶åå¥åä¸ä¸ªååºçæ¶åè¯¥åæ°æç¨ã\n# è¯¥å¼è®¾ç½®å¤§ä¸ç¹æå¥½å¤ï¼æå°æä»¶çååºä¼æ¯å¤§æä»¶ååºå¤çéåº¦æ´å¿«ï¼ä¼åè°åº¦ï¼ã\nspark.sql.files.openCostInBytes=4MB\n\n# Spark äºä»¶æ»çº¿æ¯SparkListenerEventäºä»¶çé»å¡éåå¤§å°\nspark.scheduler.listenerbus.eventqueue.size=100000\n\n# æ¯å¦å¯å¨æ¨æµæºå¶\nspark.speculation=false\n\n# å¼å¯sparkçæ¨æµæºå¶ï¼å¼å¯æ¨æµæºå¶åå¦ææä¸å°æºå¨çå ä¸ªtaskç¹å«æ¢ï¼æ¨æµæºå¶ä¼å°ä»»å¡åéå°å¶ä»æºå¨æ§è¡ï¼æåSparkä¼éåæå¿«çä½ä¸ºæç»ç»æã\n# 2è¡¨ç¤ºæ¯å¶ä»taskæ¢ä¸¤åæ¶ï¼å¯å¨æ¨æµæºå¶\nspark.speculation.multiplier=2\n\n# æ¨æµæºå¶çæ£æµå¨æ\nspark.speculation.interval=5000ms\n\n# å®ætaskçç¾åæ¯æ¶å¯å¨æ¨æµ\nspark.speculation.quantile=0.6\n\n# æå¤åè®¸å¤±è´¥çExecutoræ°éã\nspark.task.maxFailures=10\n\n# sparkåºåå å¯¹äºä¼å<ç½ç»æ§è½>æä¸ºéè¦ï¼å°RDDä»¥åºååæ ¼å¼æ¥ä¿å­åå°åå­å ç¨.\nspark.serializer=org.apache.spark.serializer.KryoSerializer\n\n# å ä¸ºsparkæ¯åºäºåå­çæºå¶ï¼æä»¥é»è®¤æ¯å¼å¯RDDçåç¼©\nspark.rdd.compress=true\n\n# Sparkçå®å¨ç®¡ç\n#https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/SecurityManager.scala\nspark.ui.view.acls=*\nspark.ui.view.acls.groups=*\n\n# è¡¨ç¤ºéç½®GCçº¿ç¨æ°ä¸º3\nspark.executor.extraJavaOptions="-XX:ParallelGCThreads=3"\n\n# æå¤§å¹¿æ­è¡¨çå¤§å°ãè®¾ç½®ä¸º-1å¯ä»¥ç¦æ­¢è¯¥åè½ãå½åç»è®¡ä¿¡æ¯ä»æ¯æHive Metastoreè¡¨ãè¿éè®¾ç½®çæ¯10MB\nspark.sql.autoBroadcastJoinThreshold=104857600\n\n# å¹¿æ­ç­å¾è¶æ¶ï¼è¿éåä½æ¯ç§\nspark.sql.broadcastTimeout=300\n\n# å¿è·³æ£æµé´é\nspark.yarn.scheduler.heartbeat.interval-ms=10000\n\nspark.sql.broadcastTimeout\n\n#ç¼å­è¡¨é®é¢\n#spark2.+éç¨ï¼\n#spark.catalog.cacheTable("tableName")ç¼å­è¡¨ï¼spark.catalog.uncacheTable("tableName")è§£é¤ç¼å­ã\n#spark 1.+éç¨ï¼\n#sqlContext.cacheTable("tableName")ç¼å­ï¼sqlContext.uncacheTable("tableName") è§£é¤ç¼å­\n#Sparksqlä»ä»ä¼ç¼å­å¿è¦çåï¼å¹¶ä¸èªå¨è°æ´åç¼©ç®æ³æ¥åå°åå­åGCååã\n\n#åå¦è®¾ç½®ä¸ºtrueï¼SparkSqlä¼æ ¹æ®ç»è®¡ä¿¡æ¯èªå¨çä¸ºæ¯ä¸ªåéæ©åç¼©æ¹å¼è¿è¡åç¼©ã\nspark.sql.inMemoryColumnarStorage.compressed=true\n\n#æ§å¶åç¼å­çæ¹éå¤§å°ãæ¹æ¬¡å¤§æå©äºæ¹ååå­ä½¿ç¨ååç¼©ï¼ä½æ¯ç¼å­æ°æ®ä¼æOOMçé£é©\nspark.sql.inMemoryColumnarStorage.batchSize=10000\n\n\n\n# Sparkæ°æ®ç±»å\n\n\n# RDDãDataFrameãDataSetåå»º,åç¸äºè½¬æ¢\n\nRDDåå»º(RDDæ´ä½ä¸åä¸ºValueç±»ååKey-Valueç±»å)\n\n * ä»åå­(éå)åå»º\n\nval rdd = sc.parallelize(Array(1,2,3,4,5,6,7,8))\nval rdd1 = sc.makeRDD(Array(1,2,3,4,5,6,7,8))\n\n\n * ä»ç£çåå»º\n\nval rdd2= sc.textFile("hdfs://hadoop102:9000/RELEASE")\n\n\n * ä»å¶ä»RDDè½¬å\n\nDataFrameåå»º(SparkSessionæ¯åå»ºDataFrameåæ§è¡SQLçå¥å£)\n\n * éè¿Sparkçæ°æ®æºè¿è¡åå»ºï¼\n\nval df = spark.read.json("/opt/module/spark/examples/src/main/resources/people.json")\n\n\n * ä»ä¸ä¸ªå­å¨çRDDè¿è¡è½¬æ¢ï¼\n * è¿å¯ä»¥ä»Hive Tableè¿è¡æ¥è¯¢è¿å\n\nDataSetåå»º(Datasetæ¯å·æå¼ºç±»åçæ°æ®éåï¼éè¦æä¾å¯¹åºçç±»åä¿¡æ¯)\n\n * åå­åå»º 1ï¼åå»ºä¸ä¸ªæ ·ä¾ç±»\n\n  scala> case class Person(name: String, age: Long)\n  defined class Person\n\n\n2ï¼åå»ºDataSet\n\n  scala> val caseClassDS = Seq(Person("Andy", 32)).toDS()\n  caseClassDS: org.apache.spark.sql.Dataset[Person] = [name: string, age: bigint]\n\n\n * éè¿DataFrameæRDDè½¬å\n\nç¸äºè½¬å ![](rdd df dsç¸äºè½¬æ¢.jpg)\n\nå¾æ©å± ä¸èå±æ§ååºå« ç¨æ·èªå®ä¹å½æ° Sparkæ°æ®æº\n\n\n# Sparkä»£ç å­¦ä¹ \n\n----------------------------------------\n\n\n# ç¬¬ä¸ä¸ªsparkç¨åº\n\n import org.apache.spark.{SparkConf, SparkContext}\n \n object FirstSpark {\n   def main(args: Array[String]): Unit = {\n //        println("hello spark!")\n     val conf = new SparkConf().setAppName("mySpark")\n     .setMaster("local") //æ¬æºçparkå°±ç¨local.è¿ç«¯çå°±åipï¼å ä¸ºæçparkç¯å¢æ¯å¨äºç«¯è¿æ¥ä¸æ¹ä¾¿è¿éæåç¨local\n     //å¦ææ¯ææjaråè¿è¡åéè¦å»æsetMaster("local")å ä¸ºå¨åæ°ä¸­ä¼æå®ã\n \n     //scå¯¹è±¡ä¸ºsparkè¿è¡æ¶çä¸ä¸æ\n     val sc = new SparkContext(conf)\n     //ä½¿ç¨liståå§å1ä¸ªRDDå¹¶ä½¿ç¨mapå½æ°*3\n     val rdd = sc.parallelize(List(1, 2, 3, 4, 5, 6)).map(_ * 3)\n     //ååºå¤§äº10çåç´ \n     val mappedRDD = rdd.filter(_ > 10).collect()\n     //å¯¹éåæ±å\n     println(rdd.reduce(_ + _))\n     //è¾åºå¤§äº10çåç´ \n     for (arg <- mappedRDD)\n       print(arg + " ")\n     println()\n     println("run success")\n \n     sc.stop()\n   }\n }\n\n\n\n# WordCount\n\n import org.apache.spark.{SparkConf, SparkContext}\n \n object WordCount {\n   def main(args: Array[String]): Unit = {\n     /**\n     ç¬¬ä¸æ­¥ï¼åå»ºsparkçéç½®å¯¹è±¡sparkconf,è®¾ç½®sparkç¨åºçè¿è¡æ¶çéç½®ä¿¡æ¯ï¼ä¾å¦è¯´éè¿setMasteræ¥è®¾ç½®ç¨åº\n       é¾æ¥sparkéç¾¤çmasterçURLï¼å¦æè®¾ç½®ä¸ºlocalï¼åä»£è¡¨sparkç¨åºå¨æ¬å°è¿è¡ï¼\n      */\n     val conf = new SparkConf()   //åå»ºSparkConfå¯¹è±¡\n     .setAppName("WordCount")    //è®¾ç½®åºç¨ç¨åºçåç§°,å¨ç¨åºè¿è¡ççæ§çé¢å¯ä»¥çå°è¿ä¸ªåå­\n     //conf.setMaster("local")//æ­¤æ¶ï¼ç¨åºå¨æ¬å°æ§è¡ï¼ä¸éè¦å®è£sparkéç¾¤\n     //"spark://192.168.1.100:7077"\n     //conf.setMaster(args(0))//æå®sparkè¿è¡æ¯éç¾¤æ¨¡å¼ ä¸è¬æä»¬ä¸å¨ä»£ç ä¸­æå®ï¼æä»¬å¨æäº¤çæ¶åæå®\n     /**\n     ç¬¬äºæ­¥ï¼åå»ºSparkContextå¯¹è±¡ï¼\n     SparkContextæ¯sparkç¨åºææåè½çå¯ä¸å¥å£ï¼æ è®ºæ¯éç¨Scalaï¼Javaï¼Pythonï¼Rç­é½å¿é¡»æä¸ä¸ªSparkContext\n     SparkContextæ ¸å¿ä½ç¨ï¼åå§åsparkåºç¨ç¨åºè¿è¡æ¶åæéè¦çæ ¸å¿ç»ä»¶ï¼åæ¬DAGSchedulerï¼TaskScheduler,SchedulerBackend\n     åæ¶è¿ä¼è´è´£Sparkç¨åºå¾Masteræ³¨åç¨åºç­\n     SparkContextæ¯æ´ä¸ªsparkåºç¨ç¨åºä¸­æä¸ºè³å³éè¦çä¸ä¸ªå¯¹è±¡\n      */\n     val sc=new SparkContext(conf)   //åå»ºSparkContextå¯¹è±¡ï¼éè¿ä¼ å¥SparkContextå®ä¾æ¥å®å¶Sparkè¿è¡çå·ä½åæ°åéç½®ä¿¡æ¯\n     /**\n     ç¬¬3æ­¥ï¼æ ¹æ®å·ä½çæ°æ®æ¥æº (HDFS,HBase,Localç­)éè¿SparkContextæ¥åå»ºRDD\n     RDDçåå»ºæ3ç§æ¹å¼ï¼å¤é¨çæ°æ®æ¥æºï¼æ ¹æ®scalaéåï¼ç±å¶ä»çRDDæä½\n     æ°æ®ä¼è¢«RDDååæä¸ºä¸ç³»åçPartitions,åéå°æ¯ä¸ªPartitionçæ°æ®å±äºä¸ä¸ªTaskçå¤çèç´\n      */\n     val line=sc.textFile(args(0),1)  //è¯»åæ¬å°çä¸ä¸ªæä»¶å¹¶ä¸è®¾ç½®ä¸º1ä¸ªpartition\n     //val line =sc.textFile("hdfs://192.168.18.140:9000/input/LICENSE.txt")   //æå®HDFSçè·¯å¾ï¼è¿ä¸ªä¹å¯ä»¥å°æ¶åå¨åæ°ä¼ å¥\n     /**\n     ç¬¬4æ­¥ï¼å¯¹åå§çRDDè¿è¡Transformationçº§å«çå¤çï¼ä¾å¦Mapãfilterç­é«é¶å½æ°ç­çç¼ç¨æ¥è¿è¡å·ä½çæ°æ®è®¡ç®\n      å¨å¯¹æ¯ä¸è¡çå­ç¬¦ä¸²æåæåä¸ªåè¯\n      å¨åè¯çæåçåºç¡ä¸å¯¹æ¯ä¸ªåè¯å®ä¾è®¡ç®ä¸º1ï¼ä¹å°±æ¯word=>(word,1)\n      å¨å¯¹æ¯ä¸ªåè¯å®ä¾è®¡æ°ä¸º1åºç¡ä¸ç»è®¡æ¯ä¸ªåè¯å¨æä»¶ä¸­åºç°çæ»æ¬¡æ°\n      */\n     val words=line.flatMap(_.split(" "))\n     val pairs=words.map(word=>(word,1))\n     val wordcounts=pairs.reduceByKey(_+_)\n \n     //key valueåè½¬ï¼ækeyæåºï¼ååè½¬åæ¥\n     val sortWords = wordcounts.map(x => (x._2,x._1)).sortByKey(false).map(x => (x._2,x._1))\n     sortWords.saveAsTextFile(args(1)) //å­å¨å°æä»¶ç³»ç»\n \n     //sortWords.foreach(wordNum=>println(wordNum._1+":"+wordNum._2)) //æ¬å°æ¨¡å¼ç¨è¿ä¸ªæå°\n     sortWords.collect().foreach(wordNum=>println(wordNum._1+":"+wordNum._2))\n     sc.stop()\n   }\n }\n\n\n\n# Spark SQLï¼sqlContextï¼\n\n\n# ç¬¬ä¸ä¸ªä¾å­\n\npackage sparkSQL\n\nimport org.apache.spark.sql.{DataFrame, SparkSession}\n\nobject SparkSqlJson {\n  def main(args: Array[String]): Unit = {\n    //å¨ä»£ç ä¸­ä½¿ç¨sparkSql,æä»¬åªéè¦ä¸ä¸ªSparkSessionå³å¯æå®\n    //åå»ºä¸ä¸ªSparkSessionå®ä¾\n    val sparkSession: SparkSession = SparkSession.builder() //åå»º SparkSession.Builderï¼åå§åSparkSession.\n      .appName("spark SQL basic example")\n      .master("local[*]") //å¨ideaéè®¾ç½®masterä¸ºlocal\n      .getOrCreate() //å½SparkSession.GetOrCreate()è¢«è°ç¨ï¼SparkSessionåçååï¼å°ä¼è¿åä¸ä¸ªçº¿ç¨åå®çå­çº¿ç¨ãè¿å°ä¼ç¡®å®ç»å®ççº¿ç¨æ¥åå¸¦æéç¦»ä¼è¯çSparkSessionï¼èä¸æ¯å¨å±çcontextã\n\n    //è¯»å¥æ°æ®æä»¶,è¯¥æä»¶æ¯ä»spark exampleä¸­æ·è´ç,å·ä½è·¯å¾spark/examples/src/main/resources/ä¸\n    val dataFrame: DataFrame = sparkSession.read.json(args(0)) //"data\\\\people.json"\n\n    //æ¾ç¤ºæ°æ®é\n    println("----------------1.æ¾ç¤ºæ°æ®é--------------------------")\n    dataFrame.show()\n    //æ¾ç¤ºæ°æ®éçæ¨¡å¼\n    println("----------------2.æ¾ç¤ºæ°æ®éçæ¨¡å¼--------------------------")\n    dataFrame.printSchema()\n    //æ¥è¯¢nameåå¹¶æ¾ç¤º\n    println("----------------3.æ¥è¯¢nameåå¹¶æ¾ç¤º--------------------------")\n    dataFrame.select("name").show()\n\n\n    //å¼å¥sparkçéå¼è½¬æ¢åè½,æä»¬å¯ä»¥ä½¿ç¨$ç¬¦å·+ååçå½¢å¼å¯¹åè¿è¡è®¡ç®\n    //è¿éçsparkSessionä¸æ¯æä¸ªåä¸é¢çä¸è¥¿ï¼èæ¯æä»¬SparkSession.builder()å¯¹åºçåéå¼\n    import sparkSession.implicits._\n    //æ¥è¯¢å§å,å¹¶age+1åæ¾ç¤º\n    println("----------------4.æ¥è¯¢å§å,å¹¶age+1åæ¾ç¤º--------------------------")\n    dataFrame.select($"name", $"age" + 1).show()\n    //è¿æ»¤å¹´é¾å¤§äº21çå¹¶æ¾ç¤º\n    println("----------------5.è¿æ»¤å¹´é¾å¤§äº21çå¹¶æ¾ç¤º--------------------------")\n    dataFrame.filter($"age" > 21).show()\n    //ä»¥å¹´é¾åç»å¹¶è®¡ç®æ¯ç»çäººæ°\n    println("----------------6.ä»¥å¹´é¾åç»å¹¶è®¡ç®æ¯ç»çäººæ°--------------------------")\n    dataFrame.groupBy("age").count().show()\n\n    //å°dataframeæ³¨åä¸ºä¸´æ¶è¡¨people\n    dataFrame.createOrReplaceTempView("people")\n    //ç´æ¥ä½¿ç¨sqlè¯­å¥æ¥è¯¢peopleè¡¨\n    val sqlDF: DataFrame = sparkSession.sql("SELECT * FROM people")\n    //æ¾ç¤ºç»æé\n    println("----------------7.æ¥è¯¢ä¸´æ¶è¡¨,æ¾ç¤ºç»æé--------------------------")\n    sqlDF.show()\n\n    //åå»ºå¨å±è¡¨\n    dataFrame.createGlobalTempView("people")\n    //æ¥è¯¢å¨å±peopleè¡¨\n    println("----------------8.æ¥è¯¢å¨å±peopleè¡¨--------------------------")\n    sparkSession.sql("SELECT * FROM global_temp.people").show()\n    //å¨å±è¡¨æ¯å¯ä»¥è·¨sessionç\n    println("----------------9.å¨å±è¡¨è·¨sessionæ¥è¯¢--------------------------")\n    sparkSession.newSession().sql("SELECT * FROM global_temp.people").show()\n  }\n}\n\n\næ·»å ä¾èµ\n\n\x3c!--SparkSQLæ·»å ä¾èµ--\x3e\n<dependency>\n    <groupId>org.apache.parquet</groupId>\n    <artifactId>parquet-jackson</artifactId>\n    <version>1.10.1</version>\n</dependency>\n\n\næjaråæµè¯\n\nbin/spark-submit \\\n--class sparkSQL.SparkSqlJson \\\n--master spark://hadoop1:7077 \\\n--executor-memory 1G \\\n--total-executor-cores 1 \\\n./myjar/SparkSQLJson.jar \\\nfile:///soft/spark/examples/src/main/resources/people.json\n\n\n\n# SparkSQL CLI(hiveContext)\n\nå¨sparkä¸é¾æ¥hadoopçcore-site.xml ä»¥åéç½®hive-site.xmlçhive.metastore.uriså¹¶é¾æ¥\n\n<configuration>\n  <property>\n    <name>hive.metastore.uris</name>\n    <value>thrift://hadoop100:9083</value>\n    <description>Thrift URI for the remote metastore. Used by metastore client to connect to remote metastore.</description>\n  </property>\n</configuration>\n\nln -s /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml /soft/module/spark/conf/core-site.xml\nln -s /soft/module/hive/conf/hive-site.xml /soft/module/spark/conf/hive-site.xml\n\nç¶åå¯å¨hiveçmetastoreæå¡ï¼ä½¿ç¨nohupå½ä»¤åå°å¯å¨\nnohup hive --service metastore > metastore.log 2>&1 &\n\nå¯å¨spark-sql\n/soft/module/spark/bin/spark-sql\n\n\n\n# Spark Streamingç¥è¯ç¹\n\n----------------------------------------\n\n\n# Dstreamåºç¡\n\n * ssc.socketTextStream()æ¹æ³ TCPå¥æ¥å­è¿æ¥ (æªå¾å¨å½ä»¤è¡ç»ä¹ )\n * streamingContext.fileStream(dataDirectory)æ¹æ³, å¯ä»¥ä»ä»»ä½æä»¶ç³»ç»(å¦ï¼HDFSãS3ãNFSç­ï¼çæä»¶ä¸­è¯»åæ°æ®ï¼ç¶ååå»ºä¸ä¸ªDStreamã\n\n> éè¦æ³¨æçæ¯ï¼è¯»åçå¿é¡»æ¯å·æç¸åçæ°æ®æ ¼å¼çæä»¶ï¼åå»ºçæä»¶å¿é¡»å¨dataDirectoryç®å½ä¸ï¼å¹¶éè¿èªå¨ç§»å¨æéå½åææ°æ®ç®å½ï¼æä»¶ä¸æ¦ç§»å¨å°±ä¸è½è¢«æ¹åï¼å¦ææä»¶è¢«ä¸æ­è¿½å ,æ°çæ°æ®å°ä¸ä¼è¢«éè¯»ã\n\n * å¯¹äºç®åçææ¬æä»¶ï¼å¯ä»¥ä½¿ç¨ä¸ä¸ªç®åçæ¹æ³streamingContext.textFileStream(dataDirectory)æ¥è¯»åæ°æ®\n\n\n# é«çº§æ¥æº\n\nSpark Streamingåçæ¯æä¸äºä¸åçæ°æ®æºãä¸äºâæ ¸å¿âæ°æ®æºå·²ç»è¢«æåå°Spark Streaming ç Maven å·¥ä»¶ä¸­ï¼èå¶ä»çä¸äºåå¯ä»¥éè¿ spark-streaming-kafka ç­éå å·¥ä»¶è·åã\n\næ¯ä¸ªæ¥æ¶å¨é½ä»¥ Spark æ§è¡å¨ç¨åºä¸­ä¸ä¸ªé¿æè¿è¡çä»»å¡çå½¢å¼è¿è¡ï¼å æ­¤ä¼å æ®åéç»åºç¨ç CPU æ ¸å¿ãè¿æå³çå¦æè¦è¿è¡å¤ä¸ªæ¥æ¶å¨ï¼å°±å¿é¡»è³å°æåæ¥æ¶å¨æ°ç®ç¸åçæ ¸å¿æ°ï¼è¿è¦å ä¸ç¨æ¥å®æè®¡ç®æéè¦çæ ¸å¿æ°ã(æææ¯æ ¸å¿æ° >= æ¥æ¶å¨æ°n + 1)\n\nå®æ¹ç¤ºä¾WordCount\n\npackage sparkstreaming\n\nimport org.apache.spark.SparkConf\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\n//import org.apache.spark.streaming.StreamingContext._\n\n/**\n * å®æ¹ç¤ºä¾WordCount\n */\nobject SparkStreaming {\n  def main(args: Array[String]): Unit = {\n\n    //1.åå§åSparkéç½®ä¿¡æ¯\n    val conf = new SparkConf().setMaster("local[2]").setAppName("NetworkWordCount")\n\n    //2.åå§åSparkStreamingContext\n    val ssc = new StreamingContext(conf, Seconds(5)) //ä»¥5sä¸ºæ¶é´çªå£è¿è¡æ°æ®å¤ç\n\n    //3.éè¿çæ§ç«¯å£åå»ºDStreamï¼è¯»è¿æ¥çæ°æ®ä¸ºä¸è¡è¡\n    val lines = ssc.socketTextStream("hadoop1", 9999)\n\n    //å°æ¯ä¸è¡æ°æ®åååï¼å½¢æä¸ä¸ªä¸ªåè¯\n    val words = lines.flatMap(_.split(" "))\n\n\n    //å°åè¯æ å°æåç»ï¼word,1ï¼\n    val pairs = words.map(word => (word, 1))\n    //å°ç¸åçåè¯æ¬¡æ°åç»è®¡\n    val wordCounts = pairs.reduceByKey(_ + _)\n\n    // Print the first ten elements of each RDD generated in this DStream to the console\n    //æå°\n    wordCounts.print()\n    ssc.start()     // Start the computation\n    ssc.awaitTermination()  // Wait for the computation to terminate\n\n  }\n}\n\n\n\n# æä»¶æ°æ®æº(æä»¶ç³»ç»)\n\npackage sparkstreaming\n\nimport org.apache.spark.SparkConf\nimport org.apache.spark.streaming.dstream.DStream\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\n\n/**\n * æä»¶æ°æ®æº(æä»¶ç³»ç»)\n */\nobject FileSource {\n  def main(args: Array[String]): Unit = {\n    //1.åå§åSparkéç½®ä¿¡æ¯\n\n    val sparkConf: SparkConf = new SparkConf().setMaster("local[*]")\n      .setAppName("Stream WordCount")\n\n    //2.åå§åSpark StreamingContext\n    val ssc: StreamingContext = new StreamingContext(sparkConf, Seconds(5))\n\n    //3.çæ§æä»¶å¤¹åå»ºDStream\n    val dirStream: DStream[String] = ssc.textFileStream("hdfs://hadoop1:9000/fileStream")\n\n    //4.å°æ¯ä¸è¡æ°æ®ååå, å½¢æä¸ä¸ªä¸ªåè¯\n    val wordStream: DStream[String] = dirStream.flatMap(_.split(" "))\n\n    //5.å°åè¯æ å°ä¸ºåç»\n    val wordAndOneStream: DStream[(String, Int)] = wordStream.map((_, 1))\n\n    //6.å°ç¸åçåè¯åæ¬¡æ°ç»è®¡\n    val wordAndCountStream: DStream[(String, Int)] = wordAndOneStream.reduceByKey(_ + _)\n\n    //7.æå°\n    wordAndCountStream.print()\n\n    //8.å¯å¨StreamContext\n    ssc.start()\n    ssc.awaitTermination() // è°ç¨StreamingContextçawaitTermination()æ¹æ³ï¼ æ¥ç­å¾åºç¨ç¨åºçç»æ­¢ã\n  }\n}\n\n\n\n# mysql(éå)æ°æ®æº\n\næ·»å ä¾èµ\n\n\x3c!--è¿æ¥mysqlæ·»å ä¾èµ--\x3e\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>8.0.17</version>\n</dependency>\n\n\npackage sparkstreaming.mysqlandqueue\n\nimport java.sql.{Connection, DriverManager, ResultSet, Statement}\n\nobject DB {\n\n  //åå§åæ°æ®è¿æ¥\n  var connection: Connection = _\n  var statement : Statement = _\n\n  def conn {\n    // è®¿é®æ¬å°MySQLæå¡å¨ï¼éè¿3306ç«¯å£è®¿é®mysqlæ°æ®åº\n    val url = "jdbc:mysql://localhost:3306/demo-3?useUnicode=true&characterEncoding=utf-8&serverTimezone=GMT%2B8&useSSL=false"\n    //é©±å¨åç§°\n    val driver = "com.mysql.cj.jdbc.Driver"\n\n    val username = "root"\n    val password = "123456789"\n\n\n    Class.forName(driver) //.newInstance()\n    connection = DriverManager.getConnection(url, username, password)\n    statement = connection.createStatement //(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY)\n  }\n\n  //ä»æ°æ®åºä¸­ååºæ¯ä¸ªç¨æ·çåå­ï¼æ¯ä¸ªStringæåºéå\n  def getMessage : Seq[String] = {\n    conn\n    var setName = Seq("")\n    try {\n      // Execute Queryï¼æ¥è¯¢ç¨æ·è¡¨ sec_user æ¯æçç¨æ·è¡¨ï¼ænameå±æ§ã\n      val rs = statement.executeQuery("select ci_id, ci_name from city")\n      // Iterate Over ResultSet\n      while (rs.next) {\n        // è¿åè¡å·\n        // println(rs.getRow)\n        val ci_name = rs.getString("ci_name")\n        setName = setName :+ ci_name\n      }\n    } finally {\n      close\n    }\n    return setName\n  }\n\n  def close: Unit ={\n    connection.close\n  }\n//  def main(args: Array[String]): Unit = {\n//    println(getMessage)\n//  }\n}\n\n\npackage sparkstreaming.mysqlandqueue\n\nimport org.apache.spark.SparkConf\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.streaming.dstream.{DStream, InputDStream}\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\n\nimport scala.collection.mutable\n\n/**\n * RDDéåæ°æ®æº + mysql\n */\nobject MySparkStreaming {\n  def main(args: Array[String]) {\n\n    // 1.åå»ºsparkå®ä¾\n    val sparkConf = new SparkConf().setAppName("QueueStream").setMaster("local")\n\n    // 2.åå§åsparkStreamingContext ï¼Secondsæ¯å¤ä¹å»Rddä¸­åä¸æ¬¡æ°æ®ã\n    val ssc = new StreamingContext(sparkConf, Seconds(3))\n\n    // 3.åå»ºRDDéå\n    val rddQueue = new mutable.Queue[RDD[String]]()\n\n    // 4.åå»ºQueueInputStream, ä»rddéåä¸­è¯»åè¾å¥æµ\n    val inputStream: InputDStream[String] = ssc.queueStream(rddQueue)\n\n    // 5.å¤çéåä¸­çRDDæ°æ®\n    //å°è¾å¥æµä¸­çæ¯ä¸ªåç´ ï¼æ¯ä¸ªåç´ é½æ¯ä¸ä¸ªStringï¼åé¢æ·»å ä¸ä¸ªâaâå­ç¬¦ï¼å¹¶è¿åä¸ä¸ªæ°çrddã\n    val mappedStream: DStream[(String, Int)] = inputStream.map(x => (x + "*", 1))\n    // reduceByKey(_ + _)å¯¹æ¯ä¸ªåç´ ç»è®¡æ¬¡æ°ãmap(x => (x._2,x._1))æ¯å°mapçkeyåvalue äº¤æ¢ä½ç½®ã\n    // åè¾¹æ¯è¿æ»¤æ¬¡æ°è¶è¿1æ¬¡çä¸String ç¸ç­äºâtestaâ\n    val reducedStream: DStream[(String, Int)] = mappedStream.reduceByKey(_ + _)\n        .filter(x => x._1.length>4)\n      //.map(x => (x._2, x._1)).filter((x) => x._1 > 1).filter((x) => x._2.equals("testa"))\n\n    // 6.æå°ç»æ\n    reducedStream.print()\n    //å°æ¯æ¬¡è®¡ç®çç»æå­å¨å¨./out/resultedå¤ã\n    //reducedStream.saveAsTextFiles("data/resulted")\n\n    // 7.å¯å¨ä»»å¡\n    ssc.start()\n\n    //ä»æ°æ®åºä¸­æ¥åºæ¯ä¸ªç¨æ·çå§åï¼è¿åçæ¯ä¸ä¸ªStringæåºéåseqï¼å ä¸ºçæRDDçå¯¹è±¡å¿é¡»æ¯seqã\n    val seq = DB.getMessage\n    //println(seq)\n\n    // 8.åå»ºå¾ªç¯å¹¶åRDDéåä¸­æ¾å¥RDD\n    // å°seqçæRDDç¶åæ¾å¥SparkçStreamingçRDDéåï¼ä½ä¸ºè¾å¥æµã\n    for (i <- 1 to 3) {\n      rddQueue.synchronized {\n        rddQueue += ssc.sparkContext.makeRDD(seq, 10)\n        // æå°å°æ§å¶å°\n        //rddQueue.foreach(rdd => rdd.foreach(println(_)))\n      }\n      Thread.sleep(3000)\n    }\n    ssc.stop()\n    //ssc.awaitTermination() // è°ç¨StreamingContextçawaitTermination()æ¹æ³ï¼ æ¥ç­å¾åºç¨ç¨åºçç»æ­¢ã\n  }\n}\n\n\n\n# èªå®ä¹æ°æ®æº\n\npackage sparkstreaming.udsource\n\nimport java.io.{BufferedReader, InputStreamReader}\nimport java.net.Socket\nimport java.nio.charset.StandardCharsets\n\nimport org.apache.spark.storage.StorageLevel\nimport org.apache.spark.streaming.receiver.Receiver\n\n/**\n * èªå®ä¹æ°æ®æº\n * éè¦ç»§æ¿Receiver å¹¶å®ç°onStart onStopæ¹æ³\n */\nclass CustomerReceiver(host:String, port:Int) extends Receiver[String](StorageLevel.MEMORY_ONLY){\n  //æåå¯å¨çæ¶åï¼è°ç¨è¯¥æ¹æ³ï¼ä½ç¨ä¸ºï¼è¯»æ°æ®å¹¶å°æ°æ®åéç»Spark\n  override def onStart(): Unit ={\n    new Thread("Socket Receiver") {\n      override def run() {\n        receive()\n      }\n    }.start()\n  }\n\n  //è¯»æ°æ®å¹¶å°æ°æ®åéç»Spark\n  def receive(): Unit = {\n\n    //åå»ºä¸ä¸ªSocket\n    var socket: Socket = new Socket(host, port)\n\n    //å®ä¹ä¸ä¸ªåéï¼ç¨æ¥æ¥æ¶ç«¯å£ä¼ è¿æ¥çæ°æ®\n    var input: String = null\n\n    //åå»ºä¸ä¸ªBufferedReaderç¨äºè¯»åç«¯å£ä¼ æ¥çæ°æ®\n    val reader = new BufferedReader(new InputStreamReader(socket.getInputStream, StandardCharsets.UTF_8))\n\n    //è¯»åæ°æ®\n    input = reader.readLine()\n\n    //å½receiveræ²¡æå³é­å¹¶ä¸è¾å¥æ°æ®ä¸ä¸ºç©ºï¼åå¾ªç¯åéæ°æ®ç»Spark\n    while (!isStopped() && input != null) {\n      store(input)\n      input = reader.readLine()\n    }\n\n    //è·³åºå¾ªç¯åå³é­èµæº\n    reader.close()\n    socket.close()\n\n    //éå¯ä»»å¡\n    restart("restart")\n  }\n\n\n  override def onStop(): Unit ={\n\n  }\n}\n\n\npackage sparkstreaming.udsource\n\nimport org.apache.spark.SparkConf\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\n\nobject UDSource {\n  def main(args: Array[String]): Unit = {\n\n    //1.åå§åSparkéç½®ä¿¡æ¯\n    val sparkConf = new SparkConf().setMaster("local[*]")\n      .setAppName("StreamWordCount")\n\n    //2.åå§åSparkStreamingContext\n    val ssc = new StreamingContext(sparkConf, Seconds(5))\n\n    //3.åå»ºèªå®ä¹receiverçStreaming\n    val lineStream = ssc.receiverStream(new CustomerReceiver("hadoop102", 9999))\n\n    //4.å°æ¯ä¸è¡æ°æ®åååï¼å½¢æä¸ä¸ªä¸ªåè¯\n    val wordStreams = lineStream.flatMap(_.split("\\t"))\n\n    //5.å°åè¯æ å°æåç»ï¼word,1ï¼\n    val wordAndOneStreams = wordStreams.map((_, 1))\n\n    //6.å°ç¸åçåè¯æ¬¡æ°åç»è®¡\n    val wordAndCountStreams = wordAndOneStreams.reduceByKey(_ + _)\n\n    //7.æå°\n    wordAndCountStreams.print()\n\n    //8.å¯å¨SparkStreamingContext\n    ssc.start()\n    ssc.awaitTermination()\n  }\n}\n\n\n\n# æç¶ææ°æ®ç»è®¡UpdateStateByKey\n\npackage com.hrbu\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord\nimport org.apache.kafka.common.serialization.StringDeserializer\nimport org.apache.spark.sql.SparkSession\nimport org.apache.spark.streaming.dstream.{DStream, InputDStream}\nimport org.apache.spark.streaming.kafka010.{ConsumerStrategies, KafkaUtils, LocationStrategies}\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\nimport org.apache.spark.{SparkConf, SparkContext}\n\n/**\n * @title æç¶ææ°æ®ç»è®¡\n * æç¶æè½¬åæä½  (UpdateStateByKey)  ç±»ä¼¼UDAFçBuffer???\n * å¯¹ä¹åçæ°æ®ä¹ææ´æ°\n * ä¿å­å°æä»¶(æ°æ®å¤§  é²æ­¢å®æº)\n */\nobject DataStreaming_02 {\n  def main(args: Array[String]): Unit = {\n    val config = Map(\n      "spark.cores" -> "local[*]",\n      "kafka.topic" -> "datastreaming"\n    )\n\n    // åå»ºéç½®å¯¹è±¡\n    val sparkConf: SparkConf = new SparkConf().setAppName("DataStreaming").setMaster(config("spark.cores"))\n    // åå»ºSparkSession\n    val spark: SparkSession = SparkSession.builder().config(sparkConf).getOrCreate()\n    // åå»ºsparkContext\n    val sc: SparkContext = spark.sparkContext\n    // åå»ºspark StreamingContext\n    val ssc = new StreamingContext(sc, Seconds(5))\n\n    // ä¿å­æ°æ®ç¶æ éè¦è®¾ç½®æ£æ¥ç¹è·¯å¾\n    sc.setCheckpointDir("checkpoint")\n\n    // åå»ºå°Kafkaçè¿æ¥\n    val kafkaPara = Map(\n      "bootstrap.servers" -> "hadoop1:9092",\n      "key.deserializer" -> classOf[StringDeserializer],\n      "value.deserializer" -> classOf[StringDeserializer],\n      "group.id" -> "data",\n      "auto.offset.reset" -> "latest"\n    )\n\n    val kafkaStream: InputDStream[ConsumerRecord[String, String]] = KafkaUtils.createDirectStream[String, String](\n      ssc,\n      LocationStrategies.PreferConsistent,\n      ConsumerStrategies.Subscribe[String, String](Array(config("kafka.topic")), kafkaPara)\n    )\n\n    // åå°æ¶æ¯éåéçå¼\n    val valueDStream: DStream[String] = kafkaStream.flatMap(t => t.value().split(" "))\n\n    val mapDStream: DStream[(String, Int)] = valueDStream.map((_, 1))\n\n    // å°è½¬æ¢ç»æåçæ°æ®è¿è¡èåå¤ç\n    val stateDStream: DStream[(String, Int)] = mapDStream.updateStateByKey {\n      case (seq, buffer) => {\n        val sum: Int = buffer.getOrElse(0) + seq.sum\n        Option(sum)\n      }\n    }\n\n    stateDStream.print()\n\n    // å¯¹è¯»å¥çDStreamè¿è¡åæ\n\n\n    // å¯å¨ééå¨\n    ssc.start()\n    // ç­å¾ééå¨åæ­¢\n    ssc.awaitTermination()\n  }\n}\n\n\n\n# Windowæ»å¨\n\npackage com.hrbu\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord\nimport org.apache.kafka.common.serialization.StringDeserializer\nimport org.apache.spark.sql.SparkSession\nimport org.apache.spark.streaming.dstream.{DStream, InputDStream}\nimport org.apache.spark.streaming.kafka010.{ConsumerStrategies, KafkaUtils, LocationStrategies}\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\nimport org.apache.spark.{SparkConf, SparkContext}\n\n\nobject DataStreaming03_Window {\n  def main(args: Array[String]): Unit = {\n    TestScala\n  }\n\n  def TestScala(): Unit ={\n    // Scalaè¯­æ³\n    val ints = List(1, 2, 3, 4, 5, 6)\n    // æ»å¨çªå£å½æ°(çªå£å¤§å° æ­¥é¿)\n    val iter: Iterator[List[Int]] = ints.sliding(3, 3)\n\n    for( list <- iter){\n      println(list.mkString(","))\n    }\n  }\n\n  // éæ¶é´æ¹å(éæ¶é´æ¨ç§»  å°ä¸é¨å  å¤ä¸é¨å)\n  def sparkMain(){\n    val config = Map(\n      "spark.cores" -> "local[*]",\n      "kafka.topic" -> "datastreaming"\n    )\n\n    // åå»ºéç½®å¯¹è±¡\n    val sparkConf: SparkConf = new SparkConf().setAppName("DataStreaming").setMaster(config("spark.cores"))\n    // åå»ºSparkSession\n    val spark: SparkSession = SparkSession.builder().config(sparkConf).getOrCreate()\n    // åå»ºsparkContext\n    val sc: SparkContext = spark.sparkContext\n    // åå»ºspark StreamingContext\n    val ssc = new StreamingContext(sc, Seconds(3))\n\n    // åå»ºå°Kafkaçè¿æ¥\n    val kafkaPara = Map(\n      "bootstrap.servers" -> "hadoop1:9092",\n      "key.deserializer" -> classOf[StringDeserializer],\n      "value.deserializer" -> classOf[StringDeserializer],\n      "group.id" -> "data",\n      "auto.offset.reset" -> "latest"\n    )\n\n    val kafkaStream: InputDStream[ConsumerRecord[String, String]] = KafkaUtils.createDirectStream[String, String](\n      ssc,\n      LocationStrategies.PreferConsistent,\n      ConsumerStrategies.Subscribe[String, String](Array(config("kafka.topic")), kafkaPara)\n    )\n\n    // çªå£å¤§å°ä¸ºééå¨æçæ´æ°å çªå£æ»å¨æ­¥é¿ä¹åºè¯¥ä¸ºééå¨æçæ´æ°å\n    val windowDStream: DStream[ConsumerRecord[String, String]] = kafkaStream.window(Seconds(9), Seconds(3))\n\n    // åå°æ¶æ¯éåéçå¼\n    val valueDStream: DStream[String] = windowDStream.flatMap(t => t.value().split(" "))\n\n    val mapDStream: DStream[(String, Int)] = valueDStream.map((_, 1))\n\n    // æ°æ®èåå¤ç\n    val reduceDStream: DStream[(String, Int)] = mapDStream.reduceByKey(_ + _)\n\n    reduceDStream.print()\n\n    // å¯å¨ééå¨\n    ssc.start()\n    // ç­å¾ééå¨åæ­¢\n    ssc.awaitTermination()\n  }\n}\n\n\n\n# è½¬æ¢ transfrom\n\n\n\n\n# DStream.foreachRDD(DStreamè¾åº)\n\nä¸ä¸ªDStreamåå«ä¸ä¸ªæå¤ä¸ªRDD\n\néç¨çè¾åºæä½foreachRDD()ï¼å®ç¨æ¥å¯¹DStreamä¸­çRDDè¿è¡ä»»æè®¡ç®ãè¿åtransform() æäºç±»ä¼¼ï¼é½å¯ä»¥è®©æä»¬è®¿é®ä»»æRDDãå¨foreachRDD()ä¸­ï¼å¯ä»¥éç¨æä»¬å¨Sparkä¸­å®ç°çææè¡å¨æä½ã æ¯å¦ï¼å¸¸è§çç¨ä¾ä¹ä¸æ¯ææ°æ®åå°è¯¸å¦MySQLçå¤é¨æ°æ®åºä¸­ã æ³¨æï¼ ï¼1ï¼è¿æ¥ä¸è½åå¨driverå±é¢ï¼ ï¼2ï¼å¦æåå¨foreachåæ¯ä¸ªRDDé½åå»ºï¼å¾ä¸å¿å¤±ï¼ ï¼3ï¼å¢å foreachPartitionï¼å¨ååºåå»ºã',normalizedContent:'# spark-sqlå¯è°åæ°\n\n----------------------------------------\n\n#job id /name\nspark.app.name=clsfd_ad_attr_map_w_mvca_ins\n\n#yarn è¿è¡è°åº¦ï¼ä¹å¯ä»¥æ¯mesosï¼yarnï¼ä»¥åstandalone\n\n#ä¸ä¸ªspark applicationï¼æ¯ä¸ä¸ªsparkåºç¨ãä¸ä¸ªåºç¨å¯¹åºä¸ä»å¯¹åºä¸ä¸ªsparkcontextãæ¯ä¸ä¸ªåºç¨ï¼è¿è¡ä¸ç»ç¬ç«çexecutor processesãä¸ä¸ªåºç¨ï¼å¯ä»¥ä»¥å¤çº¿ç¨çæ¹å¼æäº¤å¤ä¸ªä½ä¸jobãsparkå¯ä»¥è¿è¡å¨å¤ç§éç¾¤ç®¡çå¨ä¸å¦ï¼mesosï¼yarnï¼ä»¥åstandaloneï¼æ¯ç§éç¾¤ç®¡çå¨é½ä¼æä¾è·¨åºç¨çèµæºè°åº¦ç­ç¥ã\nspark.master=yarn\n\n#æ¿æ´»å¤é¨shuffleæå¡ãæå¡ç»´æ¤executoråçæä»¶ï¼å èexecutorå¯ä»¥è¢«å®å¨ç§»é¤ã\n#éè¦è®¾ç½®spark.dynamicallocation.enabled ä¸ºtrueï¼åäºæå®å¤é¨shuffleæå¡ã\n#å¯¹shuffleæ¥è¯´ï¼executorç°å°èªå·±çmapè¾åºåå¥å°ç£çï¼ç¶åï¼èªå·±ä½ä¸ºä¸ä¸ªserverï¼åå¶ä»executoræä¾è¿äºmapè¾åºæä»¶çæ°æ®ãèå¨æèµæºè°åº¦å°executorè¿è¿ç»éç¾¤åï¼è¿ä¸ªshuffleæ°æ®æå¡å°±æ²¡æäºãå æ­¤ï¼å¦æè¦ä½¿ç¨å¨æèµæºç­ç¥ï¼è§£å³è¿ä¸ªé®é¢çåæ³å°±æ¯ï¼å°ä¿æshuffleæä»¶ä½ä¸ºä¸ä¸ªå¤é¨æå¡ï¼å§ç»è¿è¡å¨sparkéç¾¤çæ¯ä¸ªèç¹ä¸ï¼ç¬ç«äºåºç¨åexecutor\nspark.shuffle.service.enabled=true\n\n#å¨é»è®¤æåµä¸ï¼ä¸ç§éç¾¤ç®¡çå¨åä¸ä½¿ç¨å¨æèµæºè°åº¦æ¨¡å¼ãæä»¥è¦ä½¿ç¨å¨æèµæºè°åº¦éè¦æåéç½®ã\nspark.dynamicallocation.enabled=true\n\n# å¦æææçexecutoré½ç§»é¤äºï¼éæ°è¯·æ±æ¶å¯å¨çåå§executoræ°\nspark.dynamicallocation.initialexecutors=20\n\n# æå°ä¿ççexecutoræ°\nspark.dynamicallocation.minexecutors=10\n\n# æå¤ä½¿ç¨çexecutoræ°ï¼é»è®¤ä¸ºä½ ç³è¯·çæå¤§executoræ°\nspark.dynamicallocation.maxexecutors=100\n\n# å¯ä»¥æ¯clusterä¹å¯ä»¥æ¯client\nspark.submit.deploymode=cluster\n\n# æå®æäº¤å°yarnçèµæºæ± \nspark.yarn.queue=hdlq-data-batch-low\n\n# å¨yarn-clusteræ¨¡å¼ä¸ï¼ç³è¯·yarn app masterï¼åæ¬driverï¼æç¨çåå­ã\nspark.driver.memory=8g\n# excutorçæ ¸å¿æ°\nspark.executor.cores=16\n# ä¸ä¸ªexecutorå¯¹åºä¸ä¸ªjvmè¿ç¨ãexecutorå ç¨çåå­åä¸ºä¸¤é¨åï¼executormemoryåmemoryoverhead\nspark.executor.memory=32g\nspark.yarn.executor.memoryoverhead=2g\n\n# shuffleååºæ°100ï¼æ ¹æ®æ°æ®éè¿è¡è°æ§ï¼è¿å¿éç½®äºjoinæ¶shuffleçååºæ°åèåæ°æ®æ¶çååºæ°ã\nspark.sql.shuffle.partitions=100\n\n# å¦æç¨æ·æ²¡ææå®å¹¶è¡åº¦ï¼ä¸é¢è¿ä¸ªåæ°å°æ¯rddä¸­çååºæ°ï¼å®æ¯ç±join,reducebykeyåparallelize \n# è¿ä¸ªåæ°åªéç¨äºæªå å·¥çrddä¸éç¨äºdataframe\n# æ²¡æjoinåèåè®¡ç®æä½ï¼è¿ä¸ªåæ°å°æ¯æ æè®¾ç½®\nspark.default.parallelism\n\n# æåä¼ å¥ä¸ä¸ªååºçæå¤§å­èï¼å¨è¯»åæä»¶çæ¶åã\nspark.sql.files.maxpartitionbytes=128mb\n\n# ç¨ç¸åæ¶é´åå¯ä»¥æ«æçæ°æ®çå¤§å°æ¥è¡¡éæå¼ä¸ä¸ªæä»¶çå¼éãå½å°å¤ä¸ªæä»¶åå¥åä¸ä¸ªååºçæ¶åè¯¥åæ°æç¨ã\n# è¯¥å¼è®¾ç½®å¤§ä¸ç¹æå¥½å¤ï¼æå°æä»¶çååºä¼æ¯å¤§æä»¶ååºå¤çéåº¦æ´å¿«ï¼ä¼åè°åº¦ï¼ã\nspark.sql.files.opencostinbytes=4mb\n\n# spark äºä»¶æ»çº¿æ¯sparklistenereventäºä»¶çé»å¡éåå¤§å°\nspark.scheduler.listenerbus.eventqueue.size=100000\n\n# æ¯å¦å¯å¨æ¨æµæºå¶\nspark.speculation=false\n\n# å¼å¯sparkçæ¨æµæºå¶ï¼å¼å¯æ¨æµæºå¶åå¦ææä¸å°æºå¨çå ä¸ªtaskç¹å«æ¢ï¼æ¨æµæºå¶ä¼å°ä»»å¡åéå°å¶ä»æºå¨æ§è¡ï¼æåsparkä¼éåæå¿«çä½ä¸ºæç»ç»æã\n# 2è¡¨ç¤ºæ¯å¶ä»taskæ¢ä¸¤åæ¶ï¼å¯å¨æ¨æµæºå¶\nspark.speculation.multiplier=2\n\n# æ¨æµæºå¶çæ£æµå¨æ\nspark.speculation.interval=5000ms\n\n# å®ætaskçç¾åæ¯æ¶å¯å¨æ¨æµ\nspark.speculation.quantile=0.6\n\n# æå¤åè®¸å¤±è´¥çexecutoræ°éã\nspark.task.maxfailures=10\n\n# sparkåºåå å¯¹äºä¼å<ç½ç»æ§è½>æä¸ºéè¦ï¼å°rddä»¥åºååæ ¼å¼æ¥ä¿å­åå°åå­å ç¨.\nspark.serializer=org.apache.spark.serializer.kryoserializer\n\n# å ä¸ºsparkæ¯åºäºåå­çæºå¶ï¼æä»¥é»è®¤æ¯å¼å¯rddçåç¼©\nspark.rdd.compress=true\n\n# sparkçå®å¨ç®¡ç\n#https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/securitymanager.scala\nspark.ui.view.acls=*\nspark.ui.view.acls.groups=*\n\n# è¡¨ç¤ºéç½®gcçº¿ç¨æ°ä¸º3\nspark.executor.extrajavaoptions="-xx:parallelgcthreads=3"\n\n# æå¤§å¹¿æ­è¡¨çå¤§å°ãè®¾ç½®ä¸º-1å¯ä»¥ç¦æ­¢è¯¥åè½ãå½åç»è®¡ä¿¡æ¯ä»æ¯æhive metastoreè¡¨ãè¿éè®¾ç½®çæ¯10mb\nspark.sql.autobroadcastjointhreshold=104857600\n\n# å¹¿æ­ç­å¾è¶æ¶ï¼è¿éåä½æ¯ç§\nspark.sql.broadcasttimeout=300\n\n# å¿è·³æ£æµé´é\nspark.yarn.scheduler.heartbeat.interval-ms=10000\n\nspark.sql.broadcasttimeout\n\n#ç¼å­è¡¨é®é¢\n#spark2.+éç¨ï¼\n#spark.catalog.cachetable("tablename")ç¼å­è¡¨ï¼spark.catalog.uncachetable("tablename")è§£é¤ç¼å­ã\n#spark 1.+éç¨ï¼\n#sqlcontext.cachetable("tablename")ç¼å­ï¼sqlcontext.uncachetable("tablename") è§£é¤ç¼å­\n#sparksqlä»ä»ä¼ç¼å­å¿è¦çåï¼å¹¶ä¸èªå¨è°æ´åç¼©ç®æ³æ¥åå°åå­ågcååã\n\n#åå¦è®¾ç½®ä¸ºtrueï¼sparksqlä¼æ ¹æ®ç»è®¡ä¿¡æ¯èªå¨çä¸ºæ¯ä¸ªåéæ©åç¼©æ¹å¼è¿è¡åç¼©ã\nspark.sql.inmemorycolumnarstorage.compressed=true\n\n#æ§å¶åç¼å­çæ¹éå¤§å°ãæ¹æ¬¡å¤§æå©äºæ¹ååå­ä½¿ç¨ååç¼©ï¼ä½æ¯ç¼å­æ°æ®ä¼æoomçé£é©\nspark.sql.inmemorycolumnarstorage.batchsize=10000\n\n\n\n# sparkæ°æ®ç±»å\n\n\n# rddãdataframeãdatasetåå»º,åç¸äºè½¬æ¢\n\nrddåå»º(rddæ´ä½ä¸åä¸ºvalueç±»ååkey-valueç±»å)\n\n * ä»åå­(éå)åå»º\n\nval rdd = sc.parallelize(array(1,2,3,4,5,6,7,8))\nval rdd1 = sc.makerdd(array(1,2,3,4,5,6,7,8))\n\n\n * ä»ç£çåå»º\n\nval rdd2= sc.textfile("hdfs://hadoop102:9000/release")\n\n\n * ä»å¶ä»rddè½¬å\n\ndataframeåå»º(sparksessionæ¯åå»ºdataframeåæ§è¡sqlçå¥å£)\n\n * éè¿sparkçæ°æ®æºè¿è¡åå»ºï¼\n\nval df = spark.read.json("/opt/module/spark/examples/src/main/resources/people.json")\n\n\n * ä»ä¸ä¸ªå­å¨çrddè¿è¡è½¬æ¢ï¼\n * è¿å¯ä»¥ä»hive tableè¿è¡æ¥è¯¢è¿å\n\ndatasetåå»º(datasetæ¯å·æå¼ºç±»åçæ°æ®éåï¼éè¦æä¾å¯¹åºçç±»åä¿¡æ¯)\n\n * åå­åå»º 1ï¼åå»ºä¸ä¸ªæ ·ä¾ç±»\n\n  scala> case class person(name: string, age: long)\n  defined class person\n\n\n2ï¼åå»ºdataset\n\n  scala> val caseclassds = seq(person("andy", 32)).tods()\n  caseclassds: org.apache.spark.sql.dataset[person] = [name: string, age: bigint]\n\n\n * éè¿dataframeærddè½¬å\n\nç¸äºè½¬å ![](rdd df dsç¸äºè½¬æ¢.jpg)\n\nå¾æ©å± ä¸èå±æ§ååºå« ç¨æ·èªå®ä¹å½æ° sparkæ°æ®æº\n\n\n# sparkä»£ç å­¦ä¹ \n\n----------------------------------------\n\n\n# ç¬¬ä¸ä¸ªsparkç¨åº\n\n import org.apache.spark.{sparkconf, sparkcontext}\n \n object firstspark {\n   def main(args: array[string]): unit = {\n //        println("hello spark!")\n     val conf = new sparkconf().setappname("myspark")\n     .setmaster("local") //æ¬æºçparkå°±ç¨local.è¿ç«¯çå°±åipï¼å ä¸ºæçparkç¯å¢æ¯å¨äºç«¯è¿æ¥ä¸æ¹ä¾¿è¿éæåç¨local\n     //å¦ææ¯ææjaråè¿è¡åéè¦å»æsetmaster("local")å ä¸ºå¨åæ°ä¸­ä¼æå®ã\n \n     //scå¯¹è±¡ä¸ºsparkè¿è¡æ¶çä¸ä¸æ\n     val sc = new sparkcontext(conf)\n     //ä½¿ç¨liståå§å1ä¸ªrddå¹¶ä½¿ç¨mapå½æ°*3\n     val rdd = sc.parallelize(list(1, 2, 3, 4, 5, 6)).map(_ * 3)\n     //ååºå¤§äº10çåç´ \n     val mappedrdd = rdd.filter(_ > 10).collect()\n     //å¯¹éåæ±å\n     println(rdd.reduce(_ + _))\n     //è¾åºå¤§äº10çåç´ \n     for (arg <- mappedrdd)\n       print(arg + " ")\n     println()\n     println("run success")\n \n     sc.stop()\n   }\n }\n\n\n\n# wordcount\n\n import org.apache.spark.{sparkconf, sparkcontext}\n \n object wordcount {\n   def main(args: array[string]): unit = {\n     /**\n     ç¬¬ä¸æ­¥ï¼åå»ºsparkçéç½®å¯¹è±¡sparkconf,è®¾ç½®sparkç¨åºçè¿è¡æ¶çéç½®ä¿¡æ¯ï¼ä¾å¦è¯´éè¿setmasteræ¥è®¾ç½®ç¨åº\n       é¾æ¥sparkéç¾¤çmasterçurlï¼å¦æè®¾ç½®ä¸ºlocalï¼åä»£è¡¨sparkç¨åºå¨æ¬å°è¿è¡ï¼\n      */\n     val conf = new sparkconf()   //åå»ºsparkconfå¯¹è±¡\n     .setappname("wordcount")    //è®¾ç½®åºç¨ç¨åºçåç§°,å¨ç¨åºè¿è¡ççæ§çé¢å¯ä»¥çå°è¿ä¸ªåå­\n     //conf.setmaster("local")//æ­¤æ¶ï¼ç¨åºå¨æ¬å°æ§è¡ï¼ä¸éè¦å®è£sparkéç¾¤\n     //"spark://192.168.1.100:7077"\n     //conf.setmaster(args(0))//æå®sparkè¿è¡æ¯éç¾¤æ¨¡å¼ ä¸è¬æä»¬ä¸å¨ä»£ç ä¸­æå®ï¼æä»¬å¨æäº¤çæ¶åæå®\n     /**\n     ç¬¬äºæ­¥ï¼åå»ºsparkcontextå¯¹è±¡ï¼\n     sparkcontextæ¯sparkç¨åºææåè½çå¯ä¸å¥å£ï¼æ è®ºæ¯éç¨scalaï¼javaï¼pythonï¼rç­é½å¿é¡»æä¸ä¸ªsparkcontext\n     sparkcontextæ ¸å¿ä½ç¨ï¼åå§åsparkåºç¨ç¨åºè¿è¡æ¶åæéè¦çæ ¸å¿ç»ä»¶ï¼åæ¬dagschedulerï¼taskscheduler,schedulerbackend\n     åæ¶è¿ä¼è´è´£sparkç¨åºå¾masteræ³¨åç¨åºç­\n     sparkcontextæ¯æ´ä¸ªsparkåºç¨ç¨åºä¸­æä¸ºè³å³éè¦çä¸ä¸ªå¯¹è±¡\n      */\n     val sc=new sparkcontext(conf)   //åå»ºsparkcontextå¯¹è±¡ï¼éè¿ä¼ å¥sparkcontextå®ä¾æ¥å®å¶sparkè¿è¡çå·ä½åæ°åéç½®ä¿¡æ¯\n     /**\n     ç¬¬3æ­¥ï¼æ ¹æ®å·ä½çæ°æ®æ¥æº (hdfs,hbase,localç­)éè¿sparkcontextæ¥åå»ºrdd\n     rddçåå»ºæ3ç§æ¹å¼ï¼å¤é¨çæ°æ®æ¥æºï¼æ ¹æ®scalaéåï¼ç±å¶ä»çrddæä½\n     æ°æ®ä¼è¢«rddååæä¸ºä¸ç³»åçpartitions,åéå°æ¯ä¸ªpartitionçæ°æ®å±äºä¸ä¸ªtaskçå¤çèç´\n      */\n     val line=sc.textfile(args(0),1)  //è¯»åæ¬å°çä¸ä¸ªæä»¶å¹¶ä¸è®¾ç½®ä¸º1ä¸ªpartition\n     //val line =sc.textfile("hdfs://192.168.18.140:9000/input/license.txt")   //æå®hdfsçè·¯å¾ï¼è¿ä¸ªä¹å¯ä»¥å°æ¶åå¨åæ°ä¼ å¥\n     /**\n     ç¬¬4æ­¥ï¼å¯¹åå§çrddè¿è¡transformationçº§å«çå¤çï¼ä¾å¦mapãfilterç­é«é¶å½æ°ç­çç¼ç¨æ¥è¿è¡å·ä½çæ°æ®è®¡ç®\n      å¨å¯¹æ¯ä¸è¡çå­ç¬¦ä¸²æåæåä¸ªåè¯\n      å¨åè¯çæåçåºç¡ä¸å¯¹æ¯ä¸ªåè¯å®ä¾è®¡ç®ä¸º1ï¼ä¹å°±æ¯word=>(word,1)\n      å¨å¯¹æ¯ä¸ªåè¯å®ä¾è®¡æ°ä¸º1åºç¡ä¸ç»è®¡æ¯ä¸ªåè¯å¨æä»¶ä¸­åºç°çæ»æ¬¡æ°\n      */\n     val words=line.flatmap(_.split(" "))\n     val pairs=words.map(word=>(word,1))\n     val wordcounts=pairs.reducebykey(_+_)\n \n     //key valueåè½¬ï¼ækeyæåºï¼ååè½¬åæ¥\n     val sortwords = wordcounts.map(x => (x._2,x._1)).sortbykey(false).map(x => (x._2,x._1))\n     sortwords.saveastextfile(args(1)) //å­å¨å°æä»¶ç³»ç»\n \n     //sortwords.foreach(wordnum=>println(wordnum._1+":"+wordnum._2)) //æ¬å°æ¨¡å¼ç¨è¿ä¸ªæå°\n     sortwords.collect().foreach(wordnum=>println(wordnum._1+":"+wordnum._2))\n     sc.stop()\n   }\n }\n\n\n\n# spark sqlï¼sqlcontextï¼\n\n\n# ç¬¬ä¸ä¸ªä¾å­\n\npackage sparksql\n\nimport org.apache.spark.sql.{dataframe, sparksession}\n\nobject sparksqljson {\n  def main(args: array[string]): unit = {\n    //å¨ä»£ç ä¸­ä½¿ç¨sparksql,æä»¬åªéè¦ä¸ä¸ªsparksessionå³å¯æå®\n    //åå»ºä¸ä¸ªsparksessionå®ä¾\n    val sparksession: sparksession = sparksession.builder() //åå»º sparksession.builderï¼åå§åsparksession.\n      .appname("spark sql basic example")\n      .master("local[*]") //å¨ideaéè®¾ç½®masterä¸ºlocal\n      .getorcreate() //å½sparksession.getorcreate()è¢«è°ç¨ï¼sparksessionåçååï¼å°ä¼è¿åä¸ä¸ªçº¿ç¨åå®çå­çº¿ç¨ãè¿å°ä¼ç¡®å®ç»å®ççº¿ç¨æ¥åå¸¦æéç¦»ä¼è¯çsparksessionï¼èä¸æ¯å¨å±çcontextã\n\n    //è¯»å¥æ°æ®æä»¶,è¯¥æä»¶æ¯ä»spark exampleä¸­æ·è´ç,å·ä½è·¯å¾spark/examples/src/main/resources/ä¸\n    val dataframe: dataframe = sparksession.read.json(args(0)) //"data\\\\people.json"\n\n    //æ¾ç¤ºæ°æ®é\n    println("----------------1.æ¾ç¤ºæ°æ®é--------------------------")\n    dataframe.show()\n    //æ¾ç¤ºæ°æ®éçæ¨¡å¼\n    println("----------------2.æ¾ç¤ºæ°æ®éçæ¨¡å¼--------------------------")\n    dataframe.printschema()\n    //æ¥è¯¢nameåå¹¶æ¾ç¤º\n    println("----------------3.æ¥è¯¢nameåå¹¶æ¾ç¤º--------------------------")\n    dataframe.select("name").show()\n\n\n    //å¼å¥sparkçéå¼è½¬æ¢åè½,æä»¬å¯ä»¥ä½¿ç¨$ç¬¦å·+ååçå½¢å¼å¯¹åè¿è¡è®¡ç®\n    //è¿éçsparksessionä¸æ¯æä¸ªåä¸é¢çä¸è¥¿ï¼èæ¯æä»¬sparksession.builder()å¯¹åºçåéå¼\n    import sparksession.implicits._\n    //æ¥è¯¢å§å,å¹¶age+1åæ¾ç¤º\n    println("----------------4.æ¥è¯¢å§å,å¹¶age+1åæ¾ç¤º--------------------------")\n    dataframe.select($"name", $"age" + 1).show()\n    //è¿æ»¤å¹´é¾å¤§äº21çå¹¶æ¾ç¤º\n    println("----------------5.è¿æ»¤å¹´é¾å¤§äº21çå¹¶æ¾ç¤º--------------------------")\n    dataframe.filter($"age" > 21).show()\n    //ä»¥å¹´é¾åç»å¹¶è®¡ç®æ¯ç»çäººæ°\n    println("----------------6.ä»¥å¹´é¾åç»å¹¶è®¡ç®æ¯ç»çäººæ°--------------------------")\n    dataframe.groupby("age").count().show()\n\n    //å°dataframeæ³¨åä¸ºä¸´æ¶è¡¨people\n    dataframe.createorreplacetempview("people")\n    //ç´æ¥ä½¿ç¨sqlè¯­å¥æ¥è¯¢peopleè¡¨\n    val sqldf: dataframe = sparksession.sql("select * from people")\n    //æ¾ç¤ºç»æé\n    println("----------------7.æ¥è¯¢ä¸´æ¶è¡¨,æ¾ç¤ºç»æé--------------------------")\n    sqldf.show()\n\n    //åå»ºå¨å±è¡¨\n    dataframe.createglobaltempview("people")\n    //æ¥è¯¢å¨å±peopleè¡¨\n    println("----------------8.æ¥è¯¢å¨å±peopleè¡¨--------------------------")\n    sparksession.sql("select * from global_temp.people").show()\n    //å¨å±è¡¨æ¯å¯ä»¥è·¨sessionç\n    println("----------------9.å¨å±è¡¨è·¨sessionæ¥è¯¢--------------------------")\n    sparksession.newsession().sql("select * from global_temp.people").show()\n  }\n}\n\n\næ·»å ä¾èµ\n\n\x3c!--sparksqlæ·»å ä¾èµ--\x3e\n<dependency>\n    <groupid>org.apache.parquet</groupid>\n    <artifactid>parquet-jackson</artifactid>\n    <version>1.10.1</version>\n</dependency>\n\n\næjaråæµè¯\n\nbin/spark-submit \\\n--class sparksql.sparksqljson \\\n--master spark://hadoop1:7077 \\\n--executor-memory 1g \\\n--total-executor-cores 1 \\\n./myjar/sparksqljson.jar \\\nfile:///soft/spark/examples/src/main/resources/people.json\n\n\n\n# sparksql cli(hivecontext)\n\nå¨sparkä¸é¾æ¥hadoopçcore-site.xml ä»¥åéç½®hive-site.xmlçhive.metastore.uriså¹¶é¾æ¥\n\n<configuration>\n  <property>\n    <name>hive.metastore.uris</name>\n    <value>thrift://hadoop100:9083</value>\n    <description>thrift uri for the remote metastore. used by metastore client to connect to remote metastore.</description>\n  </property>\n</configuration>\n\nln -s /soft/module/hadoop-2.9.2/etc/hadoop/core-site.xml /soft/module/spark/conf/core-site.xml\nln -s /soft/module/hive/conf/hive-site.xml /soft/module/spark/conf/hive-site.xml\n\nç¶åå¯å¨hiveçmetastoreæå¡ï¼ä½¿ç¨nohupå½ä»¤åå°å¯å¨\nnohup hive --service metastore > metastore.log 2>&1 &\n\nå¯å¨spark-sql\n/soft/module/spark/bin/spark-sql\n\n\n\n# spark streamingç¥è¯ç¹\n\n----------------------------------------\n\n\n# dstreamåºç¡\n\n * ssc.sockettextstream()æ¹æ³ tcpå¥æ¥å­è¿æ¥ (æªå¾å¨å½ä»¤è¡ç»ä¹ )\n * streamingcontext.filestream(datadirectory)æ¹æ³, å¯ä»¥ä»ä»»ä½æä»¶ç³»ç»(å¦ï¼hdfsãs3ãnfsç­ï¼çæä»¶ä¸­è¯»åæ°æ®ï¼ç¶ååå»ºä¸ä¸ªdstreamã\n\n> éè¦æ³¨æçæ¯ï¼è¯»åçå¿é¡»æ¯å·æç¸åçæ°æ®æ ¼å¼çæä»¶ï¼åå»ºçæä»¶å¿é¡»å¨datadirectoryç®å½ä¸ï¼å¹¶éè¿èªå¨ç§»å¨æéå½åææ°æ®ç®å½ï¼æä»¶ä¸æ¦ç§»å¨å°±ä¸è½è¢«æ¹åï¼å¦ææä»¶è¢«ä¸æ­è¿½å ,æ°çæ°æ®å°ä¸ä¼è¢«éè¯»ã\n\n * å¯¹äºç®åçææ¬æä»¶ï¼å¯ä»¥ä½¿ç¨ä¸ä¸ªç®åçæ¹æ³streamingcontext.textfilestream(datadirectory)æ¥è¯»åæ°æ®\n\n\n# é«çº§æ¥æº\n\nspark streamingåçæ¯æä¸äºä¸åçæ°æ®æºãä¸äºâæ ¸å¿âæ°æ®æºå·²ç»è¢«æåå°spark streaming ç maven å·¥ä»¶ä¸­ï¼èå¶ä»çä¸äºåå¯ä»¥éè¿ spark-streaming-kafka ç­éå å·¥ä»¶è·åã\n\næ¯ä¸ªæ¥æ¶å¨é½ä»¥ spark æ§è¡å¨ç¨åºä¸­ä¸ä¸ªé¿æè¿è¡çä»»å¡çå½¢å¼è¿è¡ï¼å æ­¤ä¼å æ®åéç»åºç¨ç cpu æ ¸å¿ãè¿æå³çå¦æè¦è¿è¡å¤ä¸ªæ¥æ¶å¨ï¼å°±å¿é¡»è³å°æåæ¥æ¶å¨æ°ç®ç¸åçæ ¸å¿æ°ï¼è¿è¦å ä¸ç¨æ¥å®æè®¡ç®æéè¦çæ ¸å¿æ°ã(æææ¯æ ¸å¿æ° >= æ¥æ¶å¨æ°n + 1)\n\nå®æ¹ç¤ºä¾wordcount\n\npackage sparkstreaming\n\nimport org.apache.spark.sparkconf\nimport org.apache.spark.streaming.{seconds, streamingcontext}\n//import org.apache.spark.streaming.streamingcontext._\n\n/**\n * å®æ¹ç¤ºä¾wordcount\n */\nobject sparkstreaming {\n  def main(args: array[string]): unit = {\n\n    //1.åå§åsparkéç½®ä¿¡æ¯\n    val conf = new sparkconf().setmaster("local[2]").setappname("networkwordcount")\n\n    //2.åå§åsparkstreamingcontext\n    val ssc = new streamingcontext(conf, seconds(5)) //ä»¥5sä¸ºæ¶é´çªå£è¿è¡æ°æ®å¤ç\n\n    //3.éè¿çæ§ç«¯å£åå»ºdstreamï¼è¯»è¿æ¥çæ°æ®ä¸ºä¸è¡è¡\n    val lines = ssc.sockettextstream("hadoop1", 9999)\n\n    //å°æ¯ä¸è¡æ°æ®åååï¼å½¢æä¸ä¸ªä¸ªåè¯\n    val words = lines.flatmap(_.split(" "))\n\n\n    //å°åè¯æ å°æåç»ï¼word,1ï¼\n    val pairs = words.map(word => (word, 1))\n    //å°ç¸åçåè¯æ¬¡æ°åç»è®¡\n    val wordcounts = pairs.reducebykey(_ + _)\n\n    // print the first ten elements of each rdd generated in this dstream to the console\n    //æå°\n    wordcounts.print()\n    ssc.start()     // start the computation\n    ssc.awaittermination()  // wait for the computation to terminate\n\n  }\n}\n\n\n\n# æä»¶æ°æ®æº(æä»¶ç³»ç»)\n\npackage sparkstreaming\n\nimport org.apache.spark.sparkconf\nimport org.apache.spark.streaming.dstream.dstream\nimport org.apache.spark.streaming.{seconds, streamingcontext}\n\n/**\n * æä»¶æ°æ®æº(æä»¶ç³»ç»)\n */\nobject filesource {\n  def main(args: array[string]): unit = {\n    //1.åå§åsparkéç½®ä¿¡æ¯\n\n    val sparkconf: sparkconf = new sparkconf().setmaster("local[*]")\n      .setappname("stream wordcount")\n\n    //2.åå§åspark streamingcontext\n    val ssc: streamingcontext = new streamingcontext(sparkconf, seconds(5))\n\n    //3.çæ§æä»¶å¤¹åå»ºdstream\n    val dirstream: dstream[string] = ssc.textfilestream("hdfs://hadoop1:9000/filestream")\n\n    //4.å°æ¯ä¸è¡æ°æ®ååå, å½¢æä¸ä¸ªä¸ªåè¯\n    val wordstream: dstream[string] = dirstream.flatmap(_.split(" "))\n\n    //5.å°åè¯æ å°ä¸ºåç»\n    val wordandonestream: dstream[(string, int)] = wordstream.map((_, 1))\n\n    //6.å°ç¸åçåè¯åæ¬¡æ°ç»è®¡\n    val wordandcountstream: dstream[(string, int)] = wordandonestream.reducebykey(_ + _)\n\n    //7.æå°\n    wordandcountstream.print()\n\n    //8.å¯å¨streamcontext\n    ssc.start()\n    ssc.awaittermination() // è°ç¨streamingcontextçawaittermination()æ¹æ³ï¼ æ¥ç­å¾åºç¨ç¨åºçç»æ­¢ã\n  }\n}\n\n\n\n# mysql(éå)æ°æ®æº\n\næ·»å ä¾èµ\n\n\x3c!--è¿æ¥mysqlæ·»å ä¾èµ--\x3e\n<dependency>\n    <groupid>mysql</groupid>\n    <artifactid>mysql-connector-java</artifactid>\n    <version>8.0.17</version>\n</dependency>\n\n\npackage sparkstreaming.mysqlandqueue\n\nimport java.sql.{connection, drivermanager, resultset, statement}\n\nobject db {\n\n  //åå§åæ°æ®è¿æ¥\n  var connection: connection = _\n  var statement : statement = _\n\n  def conn {\n    // è®¿é®æ¬å°mysqlæå¡å¨ï¼éè¿3306ç«¯å£è®¿é®mysqlæ°æ®åº\n    val url = "jdbc:mysql://localhost:3306/demo-3?useunicode=true&characterencoding=utf-8&servertimezone=gmt%2b8&usessl=false"\n    //é©±å¨åç§°\n    val driver = "com.mysql.cj.jdbc.driver"\n\n    val username = "root"\n    val password = "123456789"\n\n\n    class.forname(driver) //.newinstance()\n    connection = drivermanager.getconnection(url, username, password)\n    statement = connection.createstatement //(resultset.type_forward_only, resultset.concur_read_only)\n  }\n\n  //ä»æ°æ®åºä¸­ååºæ¯ä¸ªç¨æ·çåå­ï¼æ¯ä¸ªstringæåºéå\n  def getmessage : seq[string] = {\n    conn\n    var setname = seq("")\n    try {\n      // execute queryï¼æ¥è¯¢ç¨æ·è¡¨ sec_user æ¯æçç¨æ·è¡¨ï¼ænameå±æ§ã\n      val rs = statement.executequery("select ci_id, ci_name from city")\n      // iterate over resultset\n      while (rs.next) {\n        // è¿åè¡å·\n        // println(rs.getrow)\n        val ci_name = rs.getstring("ci_name")\n        setname = setname :+ ci_name\n      }\n    } finally {\n      close\n    }\n    return setname\n  }\n\n  def close: unit ={\n    connection.close\n  }\n//  def main(args: array[string]): unit = {\n//    println(getmessage)\n//  }\n}\n\n\npackage sparkstreaming.mysqlandqueue\n\nimport org.apache.spark.sparkconf\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.streaming.dstream.{dstream, inputdstream}\nimport org.apache.spark.streaming.{seconds, streamingcontext}\n\nimport scala.collection.mutable\n\n/**\n * rddéåæ°æ®æº + mysql\n */\nobject mysparkstreaming {\n  def main(args: array[string]) {\n\n    // 1.åå»ºsparkå®ä¾\n    val sparkconf = new sparkconf().setappname("queuestream").setmaster("local")\n\n    // 2.åå§åsparkstreamingcontext ï¼secondsæ¯å¤ä¹å»rddä¸­åä¸æ¬¡æ°æ®ã\n    val ssc = new streamingcontext(sparkconf, seconds(3))\n\n    // 3.åå»ºrddéå\n    val rddqueue = new mutable.queue[rdd[string]]()\n\n    // 4.åå»ºqueueinputstream, ä»rddéåä¸­è¯»åè¾å¥æµ\n    val inputstream: inputdstream[string] = ssc.queuestream(rddqueue)\n\n    // 5.å¤çéåä¸­çrddæ°æ®\n    //å°è¾å¥æµä¸­çæ¯ä¸ªåç´ ï¼æ¯ä¸ªåç´ é½æ¯ä¸ä¸ªstringï¼åé¢æ·»å ä¸ä¸ªâaâå­ç¬¦ï¼å¹¶è¿åä¸ä¸ªæ°çrddã\n    val mappedstream: dstream[(string, int)] = inputstream.map(x => (x + "*", 1))\n    // reducebykey(_ + _)å¯¹æ¯ä¸ªåç´ ç»è®¡æ¬¡æ°ãmap(x => (x._2,x._1))æ¯å°mapçkeyåvalue äº¤æ¢ä½ç½®ã\n    // åè¾¹æ¯è¿æ»¤æ¬¡æ°è¶è¿1æ¬¡çä¸string ç¸ç­äºâtestaâ\n    val reducedstream: dstream[(string, int)] = mappedstream.reducebykey(_ + _)\n        .filter(x => x._1.length>4)\n      //.map(x => (x._2, x._1)).filter((x) => x._1 > 1).filter((x) => x._2.equals("testa"))\n\n    // 6.æå°ç»æ\n    reducedstream.print()\n    //å°æ¯æ¬¡è®¡ç®çç»æå­å¨å¨./out/resultedå¤ã\n    //reducedstream.saveastextfiles("data/resulted")\n\n    // 7.å¯å¨ä»»å¡\n    ssc.start()\n\n    //ä»æ°æ®åºä¸­æ¥åºæ¯ä¸ªç¨æ·çå§åï¼è¿åçæ¯ä¸ä¸ªstringæåºéåseqï¼å ä¸ºçærddçå¯¹è±¡å¿é¡»æ¯seqã\n    val seq = db.getmessage\n    //println(seq)\n\n    // 8.åå»ºå¾ªç¯å¹¶årddéåä¸­æ¾å¥rdd\n    // å°seqçærddç¶åæ¾å¥sparkçstreamingçrddéåï¼ä½ä¸ºè¾å¥æµã\n    for (i <- 1 to 3) {\n      rddqueue.synchronized {\n        rddqueue += ssc.sparkcontext.makerdd(seq, 10)\n        // æå°å°æ§å¶å°\n        //rddqueue.foreach(rdd => rdd.foreach(println(_)))\n      }\n      thread.sleep(3000)\n    }\n    ssc.stop()\n    //ssc.awaittermination() // è°ç¨streamingcontextçawaittermination()æ¹æ³ï¼ æ¥ç­å¾åºç¨ç¨åºçç»æ­¢ã\n  }\n}\n\n\n\n# èªå®ä¹æ°æ®æº\n\npackage sparkstreaming.udsource\n\nimport java.io.{bufferedreader, inputstreamreader}\nimport java.net.socket\nimport java.nio.charset.standardcharsets\n\nimport org.apache.spark.storage.storagelevel\nimport org.apache.spark.streaming.receiver.receiver\n\n/**\n * èªå®ä¹æ°æ®æº\n * éè¦ç»§æ¿receiver å¹¶å®ç°onstart onstopæ¹æ³\n */\nclass customerreceiver(host:string, port:int) extends receiver[string](storagelevel.memory_only){\n  //æåå¯å¨çæ¶åï¼è°ç¨è¯¥æ¹æ³ï¼ä½ç¨ä¸ºï¼è¯»æ°æ®å¹¶å°æ°æ®åéç»spark\n  override def onstart(): unit ={\n    new thread("socket receiver") {\n      override def run() {\n        receive()\n      }\n    }.start()\n  }\n\n  //è¯»æ°æ®å¹¶å°æ°æ®åéç»spark\n  def receive(): unit = {\n\n    //åå»ºä¸ä¸ªsocket\n    var socket: socket = new socket(host, port)\n\n    //å®ä¹ä¸ä¸ªåéï¼ç¨æ¥æ¥æ¶ç«¯å£ä¼ è¿æ¥çæ°æ®\n    var input: string = null\n\n    //åå»ºä¸ä¸ªbufferedreaderç¨äºè¯»åç«¯å£ä¼ æ¥çæ°æ®\n    val reader = new bufferedreader(new inputstreamreader(socket.getinputstream, standardcharsets.utf_8))\n\n    //è¯»åæ°æ®\n    input = reader.readline()\n\n    //å½receiveræ²¡æå³é­å¹¶ä¸è¾å¥æ°æ®ä¸ä¸ºç©ºï¼åå¾ªç¯åéæ°æ®ç»spark\n    while (!isstopped() && input != null) {\n      store(input)\n      input = reader.readline()\n    }\n\n    //è·³åºå¾ªç¯åå³é­èµæº\n    reader.close()\n    socket.close()\n\n    //éå¯ä»»å¡\n    restart("restart")\n  }\n\n\n  override def onstop(): unit ={\n\n  }\n}\n\n\npackage sparkstreaming.udsource\n\nimport org.apache.spark.sparkconf\nimport org.apache.spark.streaming.{seconds, streamingcontext}\n\nobject udsource {\n  def main(args: array[string]): unit = {\n\n    //1.åå§åsparkéç½®ä¿¡æ¯\n    val sparkconf = new sparkconf().setmaster("local[*]")\n      .setappname("streamwordcount")\n\n    //2.åå§åsparkstreamingcontext\n    val ssc = new streamingcontext(sparkconf, seconds(5))\n\n    //3.åå»ºèªå®ä¹receiverçstreaming\n    val linestream = ssc.receiverstream(new customerreceiver("hadoop102", 9999))\n\n    //4.å°æ¯ä¸è¡æ°æ®åååï¼å½¢æä¸ä¸ªä¸ªåè¯\n    val wordstreams = linestream.flatmap(_.split("\\t"))\n\n    //5.å°åè¯æ å°æåç»ï¼word,1ï¼\n    val wordandonestreams = wordstreams.map((_, 1))\n\n    //6.å°ç¸åçåè¯æ¬¡æ°åç»è®¡\n    val wordandcountstreams = wordandonestreams.reducebykey(_ + _)\n\n    //7.æå°\n    wordandcountstreams.print()\n\n    //8.å¯å¨sparkstreamingcontext\n    ssc.start()\n    ssc.awaittermination()\n  }\n}\n\n\n\n# æç¶ææ°æ®ç»è®¡updatestatebykey\n\npackage com.hrbu\n\nimport org.apache.kafka.clients.consumer.consumerrecord\nimport org.apache.kafka.common.serialization.stringdeserializer\nimport org.apache.spark.sql.sparksession\nimport org.apache.spark.streaming.dstream.{dstream, inputdstream}\nimport org.apache.spark.streaming.kafka010.{consumerstrategies, kafkautils, locationstrategies}\nimport org.apache.spark.streaming.{seconds, streamingcontext}\nimport org.apache.spark.{sparkconf, sparkcontext}\n\n/**\n * @title æç¶ææ°æ®ç»è®¡\n * æç¶æè½¬åæä½  (updatestatebykey)  ç±»ä¼¼udafçbuffer???\n * å¯¹ä¹åçæ°æ®ä¹ææ´æ°\n * ä¿å­å°æä»¶(æ°æ®å¤§  é²æ­¢å®æº)\n */\nobject datastreaming_02 {\n  def main(args: array[string]): unit = {\n    val config = map(\n      "spark.cores" -> "local[*]",\n      "kafka.topic" -> "datastreaming"\n    )\n\n    // åå»ºéç½®å¯¹è±¡\n    val sparkconf: sparkconf = new sparkconf().setappname("datastreaming").setmaster(config("spark.cores"))\n    // åå»ºsparksession\n    val spark: sparksession = sparksession.builder().config(sparkconf).getorcreate()\n    // åå»ºsparkcontext\n    val sc: sparkcontext = spark.sparkcontext\n    // åå»ºspark streamingcontext\n    val ssc = new streamingcontext(sc, seconds(5))\n\n    // ä¿å­æ°æ®ç¶æ éè¦è®¾ç½®æ£æ¥ç¹è·¯å¾\n    sc.setcheckpointdir("checkpoint")\n\n    // åå»ºå°kafkaçè¿æ¥\n    val kafkapara = map(\n      "bootstrap.servers" -> "hadoop1:9092",\n      "key.deserializer" -> classof[stringdeserializer],\n      "value.deserializer" -> classof[stringdeserializer],\n      "group.id" -> "data",\n      "auto.offset.reset" -> "latest"\n    )\n\n    val kafkastream: inputdstream[consumerrecord[string, string]] = kafkautils.createdirectstream[string, string](\n      ssc,\n      locationstrategies.preferconsistent,\n      consumerstrategies.subscribe[string, string](array(config("kafka.topic")), kafkapara)\n    )\n\n    // åå°æ¶æ¯éåéçå¼\n    val valuedstream: dstream[string] = kafkastream.flatmap(t => t.value().split(" "))\n\n    val mapdstream: dstream[(string, int)] = valuedstream.map((_, 1))\n\n    // å°è½¬æ¢ç»æåçæ°æ®è¿è¡èåå¤ç\n    val statedstream: dstream[(string, int)] = mapdstream.updatestatebykey {\n      case (seq, buffer) => {\n        val sum: int = buffer.getorelse(0) + seq.sum\n        option(sum)\n      }\n    }\n\n    statedstream.print()\n\n    // å¯¹è¯»å¥çdstreamè¿è¡åæ\n\n\n    // å¯å¨ééå¨\n    ssc.start()\n    // ç­å¾ééå¨åæ­¢\n    ssc.awaittermination()\n  }\n}\n\n\n\n# windowæ»å¨\n\npackage com.hrbu\n\nimport org.apache.kafka.clients.consumer.consumerrecord\nimport org.apache.kafka.common.serialization.stringdeserializer\nimport org.apache.spark.sql.sparksession\nimport org.apache.spark.streaming.dstream.{dstream, inputdstream}\nimport org.apache.spark.streaming.kafka010.{consumerstrategies, kafkautils, locationstrategies}\nimport org.apache.spark.streaming.{seconds, streamingcontext}\nimport org.apache.spark.{sparkconf, sparkcontext}\n\n\nobject datastreaming03_window {\n  def main(args: array[string]): unit = {\n    testscala\n  }\n\n  def testscala(): unit ={\n    // scalaè¯­æ³\n    val ints = list(1, 2, 3, 4, 5, 6)\n    // æ»å¨çªå£å½æ°(çªå£å¤§å° æ­¥é¿)\n    val iter: iterator[list[int]] = ints.sliding(3, 3)\n\n    for( list <- iter){\n      println(list.mkstring(","))\n    }\n  }\n\n  // éæ¶é´æ¹å(éæ¶é´æ¨ç§»  å°ä¸é¨å  å¤ä¸é¨å)\n  def sparkmain(){\n    val config = map(\n      "spark.cores" -> "local[*]",\n      "kafka.topic" -> "datastreaming"\n    )\n\n    // åå»ºéç½®å¯¹è±¡\n    val sparkconf: sparkconf = new sparkconf().setappname("datastreaming").setmaster(config("spark.cores"))\n    // åå»ºsparksession\n    val spark: sparksession = sparksession.builder().config(sparkconf).getorcreate()\n    // åå»ºsparkcontext\n    val sc: sparkcontext = spark.sparkcontext\n    // åå»ºspark streamingcontext\n    val ssc = new streamingcontext(sc, seconds(3))\n\n    // åå»ºå°kafkaçè¿æ¥\n    val kafkapara = map(\n      "bootstrap.servers" -> "hadoop1:9092",\n      "key.deserializer" -> classof[stringdeserializer],\n      "value.deserializer" -> classof[stringdeserializer],\n      "group.id" -> "data",\n      "auto.offset.reset" -> "latest"\n    )\n\n    val kafkastream: inputdstream[consumerrecord[string, string]] = kafkautils.createdirectstream[string, string](\n      ssc,\n      locationstrategies.preferconsistent,\n      consumerstrategies.subscribe[string, string](array(config("kafka.topic")), kafkapara)\n    )\n\n    // çªå£å¤§å°ä¸ºééå¨æçæ´æ°å çªå£æ»å¨æ­¥é¿ä¹åºè¯¥ä¸ºééå¨æçæ´æ°å\n    val windowdstream: dstream[consumerrecord[string, string]] = kafkastream.window(seconds(9), seconds(3))\n\n    // åå°æ¶æ¯éåéçå¼\n    val valuedstream: dstream[string] = windowdstream.flatmap(t => t.value().split(" "))\n\n    val mapdstream: dstream[(string, int)] = valuedstream.map((_, 1))\n\n    // æ°æ®èåå¤ç\n    val reducedstream: dstream[(string, int)] = mapdstream.reducebykey(_ + _)\n\n    reducedstream.print()\n\n    // å¯å¨ééå¨\n    ssc.start()\n    // ç­å¾ééå¨åæ­¢\n    ssc.awaittermination()\n  }\n}\n\n\n\n# è½¬æ¢ transfrom\n\n\n\n\n# dstream.foreachrdd(dstreamè¾åº)\n\nä¸ä¸ªdstreamåå«ä¸ä¸ªæå¤ä¸ªrdd\n\néç¨çè¾åºæä½foreachrdd()ï¼å®ç¨æ¥å¯¹dstreamä¸­çrddè¿è¡ä»»æè®¡ç®ãè¿åtransform() æäºç±»ä¼¼ï¼é½å¯ä»¥è®©æä»¬è®¿é®ä»»ærddãå¨foreachrdd()ä¸­ï¼å¯ä»¥éç¨æä»¬å¨sparkä¸­å®ç°çææè¡å¨æä½ã æ¯å¦ï¼å¸¸è§çç¨ä¾ä¹ä¸æ¯ææ°æ®åå°è¯¸å¦mysqlçå¤é¨æ°æ®åºä¸­ã æ³¨æï¼ ï¼1ï¼è¿æ¥ä¸è½åå¨driverå±é¢ï¼ ï¼2ï¼å¦æåå¨foreachåæ¯ä¸ªrddé½åå»ºï¼å¾ä¸å¿å¤±ï¼ ï¼3ï¼å¢å foreachpartitionï¼å¨ååºåå»ºã',charsets:{cjk:!0},lastUpdated:"2025/03/28, 17:04:32",lastUpdatedTimestamp:1743152672e3},{title:"Flinkç¯å¢æ­å»º",frontmatter:{title:"Flinkç¯å¢æ­å»º",date:"2022-02-28T08:55:04.000Z",permalink:"/pages/415096/",categories:["å¤§æ°æ®","Flink"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Flink/01.Flink%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html",relativePath:"02.å¤§æ°æ®/07.Flink/01.Flinkç¯å¢æ­å»º.md",key:"v-e35d4030",path:"/pages/415096/",headers:[{level:2,title:"éç¾¤è§å",slug:"éç¾¤è§å",normalizedTitle:"éç¾¤è§å",charIndex:2},{level:2,title:"ä¸. standalone cluster HA",slug:"ä¸-standalone-cluster-ha",normalizedTitle:"ä¸. standalone cluster ha",charIndex:216},{level:3,title:"1. å®è£",slug:"_1-å®è£",normalizedTitle:"1. å®è£",charIndex:245},{level:3,title:"2.ä¿®æ¹éç½®æä»¶",slug:"_2-ä¿®æ¹éç½®æä»¶",normalizedTitle:"2.ä¿®æ¹éç½®æä»¶",charIndex:529},{level:3,title:"3. å¯å¨æå¡",slug:"_3-å¯å¨æå¡",normalizedTitle:"3. å¯å¨æå¡",charIndex:2509},{level:2,title:"äº. flink on yarn(Yarn cluster HA )",slug:"äº-flink-on-yarn-yarn-cluster-ha",normalizedTitle:"äº. flink on yarn(yarn cluster ha )",charIndex:3052},{level:3,title:"0. yarné«å¯ç¨ï¼",slug:"_0-yarné«å¯ç¨",normalizedTitle:"0. yarné«å¯ç¨ï¼",charIndex:3145},{level:3,title:"1. ä¿®æ¹éç½®æä»¶",slug:"_1-ä¿®æ¹éç½®æä»¶",normalizedTitle:"1. ä¿®æ¹éç½®æä»¶",charIndex:3161},{level:3,title:"2. å¯å¨",slug:"_2-å¯å¨",normalizedTitle:"2. å¯å¨",charIndex:3835},{level:3,title:"éè¯¯",slug:"éè¯¯",normalizedTitle:"éè¯¯",charIndex:4092}],headersStr:"éç¾¤è§å ä¸. standalone cluster HA 1. å®è£ 2.ä¿®æ¹éç½®æä»¶ 3. å¯å¨æå¡ äº. flink on yarn(Yarn cluster HA ) 0. yarné«å¯ç¨ï¼ 1. ä¿®æ¹éç½®æä»¶ 2. å¯å¨ éè¯¯",content:"# éç¾¤è§å\n\nä¸»æº          ZOOKEEPER   JOBMANAGER   TASKMANAGER\nhadoop100               æ¯            \nhadoop101   æ¯           æ¯            æ¯\nhadoop102   æ¯                        æ¯\nhadoop103   æ¯                        æ¯\n\n\n# ä¸. standalone cluster HA\n\n\n# 1. å®è£\n\n 1. ä¸è½½å®è£å flink-1.9.2-bin-scala_2.12.tgz\n 2. ä¸ä¼ è§£å tar -zxvf flink-1.9.2-bin-scala_2.12.tgz -C /soft/module/ éå½å mv flink-1.9.2/ flink\n 3. éç½®ç¯å¢åé sudo vim /etc/profile\n\n# flinkç¯å¢åé\nexport FLINK_HOME=/soft/module/flink\nexport PATH=$PATH:$FLINK_HOME/bin\n\n\nsource /etc/profile\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n 1. ä¿®æ¹zoo.cfgæä»¶ vim conf/zoo.cfg åZookeeperéç½®ç¸å\n\n# The port at which the clients will connect\nclientPort=2181\n#######################cluster##########################\nserver.1=hadoop101:2888:3888\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\n\n\n 2. ä¿®æ¹flink-conf.yamlæä»¶(éè¦æ³¨æçæ¯ éç½®:åè¦æç©ºæ ¼) vim conf/flink-conf.yaml\n\n# jobmanageræå¡ä¸»æºå,è¿æ¡éç½®åªå¨åæºæ¨¡å¼ä¸æç¨ ç¨äºtaskmanagerå¯»æ¾jobmanager ååç»­éä¿¡\n# éç¾¤æ¨¡å¼ä¸è¿æ¡ä¼è¢«å¿½ç¥,éç¾¤æ¨¡å¼ä¸flinkä¼å¯»æ¾conf/masterä¸­çä¸»æºéç½®\njobmanager.rpc.address: hadoop100\n#jobmanager rpc ç«¯å£å·\njobmanager.rpc.port: 6123\n#jobmanageråå­\njobmanager.heap.size: 1024m\n#jobmanageråå­\ntaskmanager.heap.size: 1024m\n# taskmanageræå¡ä¸­ææ§½ä¸ªæ°,å¶å®å°±æ¯å­ä»»å¡taskçä¸ªæ°\ntaskmanager.numberOfTaskSlots: 1\n# The parallelism used for programs that did not specify and other parallelism.\n# ç¨åºé»è®¤å¹¶è¡åº¦\nparallelism.default: 1\n\n# å¼å¯éç¾¤æ¨¡å¼\nhigh-availability: zookeeper\n# å¼å¯hdfså­å¨ç®å½\nhigh-availability.storageDir: hdfs:///flink/ha/\n# æå®Zookeeperéç¾¤å°å\nhigh-availability.zookeeper.quorum: hadoop101:2181,hadoop102:2181,hadoop103:2181\n\n# <class-name-of-factory>.\n# å¯ç¨æ£æ¥ç¹,å­å¨äºæä»¶ç³»ç»\nstate.backend: filesystem\n\n# Directory for checkpoints filesystem, when using any of the default bundled\n# state backends.\n# æ£æ¥ç¹çæä»¶å­å¨ä½ç½®,è¿éæä»¬æå®çäºhdfséç¾¤å°å\n# è¿éçæ£æ¥ç¹æ¯æç¨åºè¿è¡è¿ç¨ä¸­çæ£æ¥ç¹,ä»¥ä¾¿å¿«éæ¢å¤ç¨åºè¿è¡ææ¢å¤å°æä¸ªæ­£ç¡®è¿è¡çæ¶å»\nstate.checkpoints.dir: hdfs://mycluster:9000/flink-checkpoints\n# Default target directory for savepoints, optional.\n# å¯¹åºå¤é¨åºç¨ç¨åºçæ£æ¥ç¹æä»¶å­å¨ä½ç½®  è®°å½æ°æ®çå¤çè¿åº¦\n# ä¾å¦flinkå¤çå°30% éå¯äº å¯å¨ä¹åå¨30%çä½ç½®ç»§ç»­å¤ç\nstate.savepoints.dir: hdfs://mycluster:9000/flink-checkpoints\n\n# fullæ¨¡å¼æ¯ä¸ä¸ªä»»å¡å¤±è´¥äº,ç»æææä»»å¡,ç¶åéå¯ææä»»å¡  ç®åç²æ´ä½æ¯é¾ä¸ç´é æåå­æº¢åº\n# regionæ¨¡å¼æ¯æ¥åºå·ä½åºéçä»»å¡,ç¶ååç¬éå¯è¿ä¸ä»»å¡\njobmanager.execution.failover-strategy: region\n\n\n 3. ä¿®æ¹mastersåslavesæä»¶ vim conf/masters\n\nhadoop100:8081\nhadoop101:8081\n\n\nvim conf/slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n 4. æåï¼å½åçflinkçæ¬æ¯ä¸ä¸ªçº¯åççæ¬ï¼å¦æéè¦ä¾èµå¶ä»ç³»ç»ï¼ä¾å¦å±ä»¬å½åflinkçç¸å³æ°æ®é½å­å¨å°äºhdfsï¼ï¼åéè¦æ·»å ç¸åºçjarå å®ç½ææä¾ï¼https://flink.apache.org/downloads.html#additional-components mv /soft/software/flink-shaded-hadoop-2-uber-2.8.3-10.0.jar /soft/module/flink/lib/\n 5. ååæä»¶å¹¶ä¿®æ¹ç¯å¢åé\n\n\n# 3. å¯å¨æå¡\n\nå¯å¨ä¹åæä»¬è¦ç¡®ä¿æä»¬çzookeeperéç¾¤å·²å¯å¨ï¼å¹¶ä¸hdfséç¾¤æ¯å¯å¨ç¶æ\n\n * ç´æ¥ä½¿ç¨start-cluster.shèæ¬å¯å¨\n * jpsæ¥çè¿ç¨\n * è®¿é®flinkçweb UI hadoop100:8081\n\n----------------------------------------\n\nå½åflinkè½ç¶ä½¿ç¨äºhdfsç³»ç»ï¼ä½æ¯å¶è¿è¡æ¨¡å¼è¿æ¯Stand aloneï¼å°±æ¯ç¬ç«éç¾¤ ç¬ç«éç¾¤å¨æ§è¡ä»»å¡æ¶ææçèµæºåéç®¡çé½æ¯flinkèªå·±å®æç æä»¬å°è¯ä½¿ç¨ç¬ç«éç¾¤è¿è¡ä¸ä¸ªæµè¯è®¡ç® Flinkå¯ä»¥è¯»åç³»ç»æä»¶ï¼ä¹å¯ä»¥è¯»åhdfsæä»¶ æä»¬ä»¥æ¬å°ç³»ç»æä»¶ä¸ºä¾ æä»¬ä½¿ç¨ç°æçWordCount.jarå»ç»è®¡README.txtæä»¶çåå®¹å¹¶è¾åº è¿ä¸ªè¾åºç»æè¢«è¾åºå°taskmanageræºå¨ï¼æ¯éæºç æä»¥æä»¬æå¥½è¿æ¯ä½¿ç¨hdfsç³»ç»\n\n * æµè¯ flink run ./examples/batch/WordCount.jar --input hdfs://mycluster/datas/wordcounttest.txt --output hdfs://mycluster/datas/wordcountresult.txt\n\n\n# äº. flink on yarn(Yarn cluster HA )\n\nå¨ä¸é¢çåºç¡ä¸ åèé¾æ¥: https://www.jianshu.com/p/8f1e650ebcad\n\n\n# 0. yarné«å¯ç¨ï¼\n\n\n# 1. ä¿®æ¹éç½®æä»¶\n\n 1. éç½®yarn-site.xml\n\n * ä¿®æ¹ç¯å¢åé vim /etc/profile å ä¸(ç¨äºflinkå¯»æ¾yarnçéç½®ä¿¡æ¯ ): export HADOOP_CONF_DIR=/soft/module/hadoop-2.9.2/etc/hadoop/ source /etc/profile\n * ä¿®æ¹æä»¶: vim yarn-site.xml\n\n<property>\n    \x3c!--éç½®yarnæå¤§éè¯æ¬¡æ°--\x3e\n  <name>yarn.resourcemanager.am.max-attempts</name>\n  <value>4</value>\n</property>\n\n\n 2. éç½®flink-conf.yaml\n\n# éç½®Yarnéè¯æ¬¡æ°\nyarn.application-attempts: 10\n\n## éç½®Zookeeper\n high-availability: zookeeper\n high-availability.storageDir: hdfs:///flink/ha/\n high-availability.zookeeper.quorum: 10.108.4.203:2181,10.108.4.204:2181,10.108.4.205:2181\n high-availability.zookeeper.path.root: /flink\n high-availability.cluster-id: /cluster_yarn\n\n\n 3. åæ­¥éç½®æä»¶\n\n\n# 2. å¯å¨\n\n 1. å¯å¨Flink Yarn Sessionæ2ç§æ¨¡å¼ï¼åç¦»æ¨¡å¼ãå®¢æ·ç«¯æ¨¡å¼\n 2. åç¦»æ¨¡å¼ éè¿-dæå®åç¦»æ¨¡å¼ï¼å³å®¢æ·ç«¯å¨å¯å¨Flink Yarn Sessionåï¼å°±ä¸åå±äºYarn Clusterçä¸é¨åãå¦ææ³è¦åæ­¢Flink Yarn Applicationï¼éè¦éè¿yarn application -kill å½ä»¤æ¥åæ­¢ yarn-session.sh -n 3 -jm 1024 -tm 1024 -s 3 -nm FlinkOnYarnSession -d -st\n\n\n# éè¯¯\n\n2020-04-15 16:19:28,433 ERROR org.apache.flink.yarn.cli.FlinkYarnSessionCli                 - Error while running the Flink Yarn session.\norg.apache.flink.client.deployment.ClusterDeploymentException: Couldn't deploy Yarn session cluster\n        at org.apache.flink.yarn.AbstractYarnClusterDescriptor.deploySessionCluster(AbstractYarnClusterDescriptor.java:387)\n        at org.apache.flink.yarn.cli.FlinkYarnSessionCli.run(FlinkYarnSessionCli.java:616)\n        at org.apache.flink.yarn.cli.FlinkYarnSessionCli.lambda$main$3(FlinkYarnSessionCli.java:844)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1836)\n        at org.apache.flink.runtime.security.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)\n        at org.apache.flink.yarn.cli.FlinkYarnSessionCli.main(FlinkYarnSessionCli.java:844)\nCaused by: org.apache.flink.yarn.AbstractYarnClusterDescriptor$YarnDeploymentException: The YARN application unexpectedly switched to state FAILED during deployment. \n\n\nå¨yarn-site.xmlå ä¸\n\n    <property> \n        <name>yarn.nodemanager.vmem-check-enabled</name> \n        <value>false</value> \n    </property> \n",normalizedContent:"# éç¾¤è§å\n\nä¸»æº          zookeeper   jobmanager   taskmanager\nhadoop100               æ¯            \nhadoop101   æ¯           æ¯            æ¯\nhadoop102   æ¯                        æ¯\nhadoop103   æ¯                        æ¯\n\n\n# ä¸. standalone cluster ha\n\n\n# 1. å®è£\n\n 1. ä¸è½½å®è£å flink-1.9.2-bin-scala_2.12.tgz\n 2. ä¸ä¼ è§£å tar -zxvf flink-1.9.2-bin-scala_2.12.tgz -c /soft/module/ éå½å mv flink-1.9.2/ flink\n 3. éç½®ç¯å¢åé sudo vim /etc/profile\n\n# flinkç¯å¢åé\nexport flink_home=/soft/module/flink\nexport path=$path:$flink_home/bin\n\n\nsource /etc/profile\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n 1. ä¿®æ¹zoo.cfgæä»¶ vim conf/zoo.cfg åzookeeperéç½®ç¸å\n\n# the port at which the clients will connect\nclientport=2181\n#######################cluster##########################\nserver.1=hadoop101:2888:3888\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\n\n\n 2. ä¿®æ¹flink-conf.yamlæä»¶(éè¦æ³¨æçæ¯ éç½®:åè¦æç©ºæ ¼) vim conf/flink-conf.yaml\n\n# jobmanageræå¡ä¸»æºå,è¿æ¡éç½®åªå¨åæºæ¨¡å¼ä¸æç¨ ç¨äºtaskmanagerå¯»æ¾jobmanager ååç»­éä¿¡\n# éç¾¤æ¨¡å¼ä¸è¿æ¡ä¼è¢«å¿½ç¥,éç¾¤æ¨¡å¼ä¸flinkä¼å¯»æ¾conf/masterä¸­çä¸»æºéç½®\njobmanager.rpc.address: hadoop100\n#jobmanager rpc ç«¯å£å·\njobmanager.rpc.port: 6123\n#jobmanageråå­\njobmanager.heap.size: 1024m\n#jobmanageråå­\ntaskmanager.heap.size: 1024m\n# taskmanageræå¡ä¸­ææ§½ä¸ªæ°,å¶å®å°±æ¯å­ä»»å¡taskçä¸ªæ°\ntaskmanager.numberoftaskslots: 1\n# the parallelism used for programs that did not specify and other parallelism.\n# ç¨åºé»è®¤å¹¶è¡åº¦\nparallelism.default: 1\n\n# å¼å¯éç¾¤æ¨¡å¼\nhigh-availability: zookeeper\n# å¼å¯hdfså­å¨ç®å½\nhigh-availability.storagedir: hdfs:///flink/ha/\n# æå®zookeeperéç¾¤å°å\nhigh-availability.zookeeper.quorum: hadoop101:2181,hadoop102:2181,hadoop103:2181\n\n# <class-name-of-factory>.\n# å¯ç¨æ£æ¥ç¹,å­å¨äºæä»¶ç³»ç»\nstate.backend: filesystem\n\n# directory for checkpoints filesystem, when using any of the default bundled\n# state backends.\n# æ£æ¥ç¹çæä»¶å­å¨ä½ç½®,è¿éæä»¬æå®çäºhdfséç¾¤å°å\n# è¿éçæ£æ¥ç¹æ¯æç¨åºè¿è¡è¿ç¨ä¸­çæ£æ¥ç¹,ä»¥ä¾¿å¿«éæ¢å¤ç¨åºè¿è¡ææ¢å¤å°æä¸ªæ­£ç¡®è¿è¡çæ¶å»\nstate.checkpoints.dir: hdfs://mycluster:9000/flink-checkpoints\n# default target directory for savepoints, optional.\n# å¯¹åºå¤é¨åºç¨ç¨åºçæ£æ¥ç¹æä»¶å­å¨ä½ç½®  è®°å½æ°æ®çå¤çè¿åº¦\n# ä¾å¦flinkå¤çå°30% éå¯äº å¯å¨ä¹åå¨30%çä½ç½®ç»§ç»­å¤ç\nstate.savepoints.dir: hdfs://mycluster:9000/flink-checkpoints\n\n# fullæ¨¡å¼æ¯ä¸ä¸ªä»»å¡å¤±è´¥äº,ç»æææä»»å¡,ç¶åéå¯ææä»»å¡  ç®åç²æ´ä½æ¯é¾ä¸ç´é æåå­æº¢åº\n# regionæ¨¡å¼æ¯æ¥åºå·ä½åºéçä»»å¡,ç¶ååç¬éå¯è¿ä¸ä»»å¡\njobmanager.execution.failover-strategy: region\n\n\n 3. ä¿®æ¹mastersåslavesæä»¶ vim conf/masters\n\nhadoop100:8081\nhadoop101:8081\n\n\nvim conf/slaves\n\nhadoop101\nhadoop102\nhadoop103\n\n\n 4. æåï¼å½åçflinkçæ¬æ¯ä¸ä¸ªçº¯åççæ¬ï¼å¦æéè¦ä¾èµå¶ä»ç³»ç»ï¼ä¾å¦å±ä»¬å½åflinkçç¸å³æ°æ®é½å­å¨å°äºhdfsï¼ï¼åéè¦æ·»å ç¸åºçjarå å®ç½ææä¾ï¼https://flink.apache.org/downloads.html#additional-components mv /soft/software/flink-shaded-hadoop-2-uber-2.8.3-10.0.jar /soft/module/flink/lib/\n 5. ååæä»¶å¹¶ä¿®æ¹ç¯å¢åé\n\n\n# 3. å¯å¨æå¡\n\nå¯å¨ä¹åæä»¬è¦ç¡®ä¿æä»¬çzookeeperéç¾¤å·²å¯å¨ï¼å¹¶ä¸hdfséç¾¤æ¯å¯å¨ç¶æ\n\n * ç´æ¥ä½¿ç¨start-cluster.shèæ¬å¯å¨\n * jpsæ¥çè¿ç¨\n * è®¿é®flinkçweb ui hadoop100:8081\n\n----------------------------------------\n\nå½åflinkè½ç¶ä½¿ç¨äºhdfsç³»ç»ï¼ä½æ¯å¶è¿è¡æ¨¡å¼è¿æ¯stand aloneï¼å°±æ¯ç¬ç«éç¾¤ ç¬ç«éç¾¤å¨æ§è¡ä»»å¡æ¶ææçèµæºåéç®¡çé½æ¯flinkèªå·±å®æç æä»¬å°è¯ä½¿ç¨ç¬ç«éç¾¤è¿è¡ä¸ä¸ªæµè¯è®¡ç® flinkå¯ä»¥è¯»åç³»ç»æä»¶ï¼ä¹å¯ä»¥è¯»åhdfsæä»¶ æä»¬ä»¥æ¬å°ç³»ç»æä»¶ä¸ºä¾ æä»¬ä½¿ç¨ç°æçwordcount.jarå»ç»è®¡readme.txtæä»¶çåå®¹å¹¶è¾åº è¿ä¸ªè¾åºç»æè¢«è¾åºå°taskmanageræºå¨ï¼æ¯éæºç æä»¥æä»¬æå¥½è¿æ¯ä½¿ç¨hdfsç³»ç»\n\n * æµè¯ flink run ./examples/batch/wordcount.jar --input hdfs://mycluster/datas/wordcounttest.txt --output hdfs://mycluster/datas/wordcountresult.txt\n\n\n# äº. flink on yarn(yarn cluster ha )\n\nå¨ä¸é¢çåºç¡ä¸ åèé¾æ¥: https://www.jianshu.com/p/8f1e650ebcad\n\n\n# 0. yarné«å¯ç¨ï¼\n\n\n# 1. ä¿®æ¹éç½®æä»¶\n\n 1. éç½®yarn-site.xml\n\n * ä¿®æ¹ç¯å¢åé vim /etc/profile å ä¸(ç¨äºflinkå¯»æ¾yarnçéç½®ä¿¡æ¯ ): export hadoop_conf_dir=/soft/module/hadoop-2.9.2/etc/hadoop/ source /etc/profile\n * ä¿®æ¹æä»¶: vim yarn-site.xml\n\n<property>\n    \x3c!--éç½®yarnæå¤§éè¯æ¬¡æ°--\x3e\n  <name>yarn.resourcemanager.am.max-attempts</name>\n  <value>4</value>\n</property>\n\n\n 2. éç½®flink-conf.yaml\n\n# éç½®yarnéè¯æ¬¡æ°\nyarn.application-attempts: 10\n\n## éç½®zookeeper\n high-availability: zookeeper\n high-availability.storagedir: hdfs:///flink/ha/\n high-availability.zookeeper.quorum: 10.108.4.203:2181,10.108.4.204:2181,10.108.4.205:2181\n high-availability.zookeeper.path.root: /flink\n high-availability.cluster-id: /cluster_yarn\n\n\n 3. åæ­¥éç½®æä»¶\n\n\n# 2. å¯å¨\n\n 1. å¯å¨flink yarn sessionæ2ç§æ¨¡å¼ï¼åç¦»æ¨¡å¼ãå®¢æ·ç«¯æ¨¡å¼\n 2. åç¦»æ¨¡å¼ éè¿-dæå®åç¦»æ¨¡å¼ï¼å³å®¢æ·ç«¯å¨å¯å¨flink yarn sessionåï¼å°±ä¸åå±äºyarn clusterçä¸é¨åãå¦ææ³è¦åæ­¢flink yarn applicationï¼éè¦éè¿yarn application -kill å½ä»¤æ¥åæ­¢ yarn-session.sh -n 3 -jm 1024 -tm 1024 -s 3 -nm flinkonyarnsession -d -st\n\n\n# éè¯¯\n\n2020-04-15 16:19:28,433 error org.apache.flink.yarn.cli.flinkyarnsessioncli                 - error while running the flink yarn session.\norg.apache.flink.client.deployment.clusterdeploymentexception: couldn't deploy yarn session cluster\n        at org.apache.flink.yarn.abstractyarnclusterdescriptor.deploysessioncluster(abstractyarnclusterdescriptor.java:387)\n        at org.apache.flink.yarn.cli.flinkyarnsessioncli.run(flinkyarnsessioncli.java:616)\n        at org.apache.flink.yarn.cli.flinkyarnsessioncli.lambda$main$3(flinkyarnsessioncli.java:844)\n        at java.security.accesscontroller.doprivileged(native method)\n        at javax.security.auth.subject.doas(subject.java:422)\n        at org.apache.hadoop.security.usergroupinformation.doas(usergroupinformation.java:1836)\n        at org.apache.flink.runtime.security.hadoopsecuritycontext.runsecured(hadoopsecuritycontext.java:41)\n        at org.apache.flink.yarn.cli.flinkyarnsessioncli.main(flinkyarnsessioncli.java:844)\ncaused by: org.apache.flink.yarn.abstractyarnclusterdescriptor$yarndeploymentexception: the yarn application unexpectedly switched to state failed during deployment. \n\n\nå¨yarn-site.xmlå ä¸\n\n    <property> \n        <name>yarn.nodemanager.vmem-check-enabled</name> \n        <value>false</value> \n    </property> \n",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Sparkåæ ¸å­¦ä¹ ",frontmatter:{title:"Sparkåæ ¸å­¦ä¹ ",date:"2022-03-10T20:22:35.000Z",permalink:"/pages/70f03f/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Spark/10.Spark%E5%86%85%E6%A0%B8%E5%AD%A6%E4%B9%A0.html",relativePath:"02.å¤§æ°æ®/06.Spark/10.Sparkåæ ¸å­¦ä¹ .md",key:"v-0221b7b2",path:"/pages/70f03f/",headers:[{level:2,title:"1. Sparkåæ ¸æ¶æ(è¿è¡æµç¨) 20200525",slug:"_1-sparkåæ ¸æ¶æ-è¿è¡æµç¨-20200525",normalizedTitle:"1. sparkåæ ¸æ¶æ(è¿è¡æµç¨) 20200525",charIndex:2},{level:2,title:"2.å®½ä¾èµåçªä¾èµ 20200226",slug:"_2-å®½ä¾èµåçªä¾èµ-20200226",normalizedTitle:"2.å®½ä¾èµåçªä¾èµ 20200226",charIndex:36},{level:2,title:"3.åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ  20200527",slug:"_3-åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ-20200527",normalizedTitle:"3.åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ  20200527",charIndex:null},{level:2,title:"4.Spark Contextåç",slug:"_4-spark-contextåç",normalizedTitle:"4.spark contextåç",charIndex:95}],headersStr:"1. Sparkåæ ¸æ¶æ(è¿è¡æµç¨) 20200525 2.å®½ä¾èµåçªä¾èµ 20200226 3.åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ  20200527 4.Spark Contextåç",content:"# 1. Sparkåæ ¸æ¶æ(è¿è¡æµç¨) 20200525\n\n\n\n\n# 2.å®½ä¾èµåçªä¾èµ 20200226\n\n\n\n\n# 3.åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ 20200527\n\n\n\n\n# 4.Spark Contextåç\n\n\n\nè¯¾ç¨è·é åé£ç½è§é¢ å­¦ä¹ ",normalizedContent:"# 1. sparkåæ ¸æ¶æ(è¿è¡æµç¨) 20200525\n\n\n\n\n# 2.å®½ä¾èµåçªä¾èµ 20200226\n\n\n\n\n# 3.åºäºyarnä¸¤ç§æäº¤æ¨¡å¼æ·±åº¦åæ 20200527\n\n\n\n\n# 4.spark contextåç\n\n\n\nè¯¾ç¨è·é åé£ç½è§é¢ å­¦ä¹ ",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Flinkå­¦ä¹ ",frontmatter:{title:"Flinkå­¦ä¹ ",date:"2022-02-28T08:55:04.000Z",permalink:"/pages/415097/",categories:["å¤§æ°æ®","Flink"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Flink/02.Flink%E5%AD%A6%E4%B9%A0.html",relativePath:"02.å¤§æ°æ®/07.Flink/02.Flinkå­¦ä¹ .md",key:"v-356e286c",path:"/pages/415097/",headers:[{level:2,title:"å­¦ä¹ ",slug:"å­¦ä¹ ",normalizedTitle:"å­¦ä¹ ",charIndex:10},{level:3,title:"1. WordCountç¤ºä¾",slug:"_1-wordcountç¤ºä¾",normalizedTitle:"1. wordcountç¤ºä¾",charIndex:17},{level:3,title:"2. éªè¯Flinké«å¯ç¨",slug:"_2-éªè¯flinké«å¯ç¨",normalizedTitle:"2. éªè¯flinké«å¯ç¨",charIndex:180},{level:3,title:"3. é«å¯ç¨",slug:"_3-é«å¯ç¨",normalizedTitle:"3. é«å¯ç¨",charIndex:401},{level:3,title:"4. flink on yarn",slug:"_4-flink-on-yarn",normalizedTitle:"4. flink on yarn",charIndex:702},{level:3,title:"5. Flink ç Watermark(æ°´ä½çº¿  æ°´å°)(è¿å°æ°æ®çå¤ç)",slug:"_5-flink-ç-watermark-æ°´ä½çº¿-æ°´å°-è¿å°æ°æ®çå¤ç",normalizedTitle:"5. flink ç watermark(æ°´ä½çº¿  æ°´å°)(è¿å°æ°æ®çå¤ç)",charIndex:null},{level:3,title:"ä»£ç å­¦ä¹ ",slug:"ä»£ç å­¦ä¹ ",normalizedTitle:"ä»£ç å­¦ä¹ ",charIndex:2111},{level:3,title:"demoæ¡ä¾",slug:"demoæ¡ä¾",normalizedTitle:"demoæ¡ä¾",charIndex:4195}],headersStr:"å­¦ä¹  1. WordCountç¤ºä¾ 2. éªè¯Flinké«å¯ç¨ 3. é«å¯ç¨ 4. flink on yarn 5. Flink ç Watermark(æ°´ä½çº¿  æ°´å°)(è¿å°æ°æ®çå¤ç) ä»£ç å­¦ä¹  demoæ¡ä¾",content:'ä¸­æçå®ç½\n\n\n# å­¦ä¹ \n\n\n# 1. WordCountç¤ºä¾\n\nflink run ./examples/batch/WordCount.jar --input hdfs://mycluster/datas/wordcounttest.txt --output hdfs://mycluster/datas/wordcountresult.txt\n\n\n\n# 2. éªè¯Flinké«å¯ç¨\n\nåèé¾æ¥\n\n 1. æå¨å°JobManager / TaskManagerå®ä¾æ·»å å°ç¾¤é(åç¹å¯å¨)\n\njobmanager.sh start hadoop100\njobmanager.sh start cluster hadoop100\n\n\n 2. å¨hadoop101ä¸ kill -9 10155(StandaloneSessionClusterEntrypoint), æ¥çå¦ä¸ä¸ªèç¹æ¯å¦å¯ç¨ã\n\n\n# 3. é«å¯ç¨\n\nç¬ç«éç¾¤çJobManagerçæºå¶æ¯ï¼ä¸ä¸ªleader JobManageråå¤ä¸ªstandby JobManagerï¼å½leader JobManagerå´©æºåï¼å¤ä¸ªstandby JobManageréä¸¾åäº§çæ°çleader JobManagerã\n\nleader JobManageråstandby JobManagerä¹é´æ²¡æåºå«ï¼ä»»ä½JobManageré½å¯ä»¥æ¿æleaderæstandbyè§è²ã\n\nåå©ZKçä¸´æ¶èç¹æºå¶ï¼Flinkå®ç°äºJob Managerç¬ç«éç¾¤çé«å¯ç¨æ§ãä½æ¯ç±äºZKæ¯CPï¼å¹¶ä¸ä¿è¯æ¯æ¬¡å¯ç¨æ§ï¼å®éä½¿ç¨ä¸­åºå½äºä»¥èèã\n\nåæé¾æ¥\n\n\n# 4. flink on yarn\n\nä¿®æ¹etc/hadoop/yarn-site.xml\n<property> \n    <name>yarn.nodemanager.vmem-check-enabled</name> \n    <value>false</value> \n</property>\n\n\nstop-cluster.sh ååå¯å¨ flink on yarn (1. namenodeæ­»æ) yarn-session.sh -n 3 -jm 1024 -tm 1024 -s 3 -nm FlinkOnYarnSession -d -st\n\n\n# 5. Flink ç Watermark(æ°´ä½çº¿ æ°´å°)(è¿å°æ°æ®çå¤ç)\n\n\n æ¯é3ç§ç»è®¡å3ç§çåç´ ä¸ªæ°ï¼é£ä¹flinkç³»ç»ä¼äºåå¨ç³»ç»ä¸­ååå¥½20ï¼60/3ï¼ä¸ªwindow\nå¶å®watermarkçç­ç¥: å¨ææ§æåwatermarkï¼é»è®¤æ¶é´ä¸º200msï¼æä»¬å¯ä»¥è®¤ä¸ºå¨1å·æ°æ®è¢«åéå°windowä¹åç200msï¼flinkç³»ç»å°±å¼å§è®¡ç®æ°´ä½çº¿äº\nåè®¾åè®¸æ°æ®ä¹±åºçæå¤§æ¶é´ä¸º10ç§ æ°æ®å¼å§æµå¥flinkç³»ç»\n1å·æ°æ®  01:01:22---hello\n2å·æ°æ®  01:01:35---flink\nå¨æ­¤ä¹å åæ¥ä¸æ¡æ°æ®(è¿å°) 3å·æ°æ®  01:01:23---later\n\n\n    ç¬¬ä¸æ¡æ°æ®æµå¥ 01:01:22---hello\nè¿æ¡æ°æ®çevent timeæ¯01:01:22, é£ä¹å®å°ä¼è¢«æ¾ç½®å°[00:00:21-00:00:24)çªå£å\n(100mså)æ­¤æ¶æ°´ä½çº¿(Watermark)ä¸º 12 (22-10)\nWatermark(12) &lt; WindowEndTime(24)  æä»¥ ä¸ä¼è§¦åè¯¥windowçè®¡ç®\n\n\n    ç¬¬äºæ¡æ°æ®æµå¥ 01:01:35---flink\nè¿æ¡æ°æ®çevent timeæ¯01:01:35, é£ä¹å®ä¼è¢«æ¾ç½®å¨[00:00:33-00:00:36)çªå£å\n(100mså)æ­¤æ¶æ°´ä½çº¿(Watermark)ä¸º 25 (35-10)\nç±äºWatermark(25) >= WindowEndTime(24), æä»¥ ä¼è§¦åæ°´ä½çº¿(25)ä¹åwindowçè®¡ç®, ([21, 24))\nè®¡ç®åçªå£ç´æ¥éæ¯\n\n\n    ç¬¬ä¸æ¡æ°æ®æµå¥ 01:01:23---later\næ­£å¸¸æåµä¸æ°æ®åºæ¾å°[00:00:21-00:00:24)çªå£, ç±äºæ­¤çªå£è¢«éæ¯,æä»¥æ°æ®è¢«ä¸¢å¼\n\nä¸ºä¿è¯æ°æ®å®æ´æ§,ä¿®æ¹ AllowedLateness ä¸º2s  ä¹å°±æ¯çªå£è§¦åè®¡ç®å2såéæ¯\n(35-37æµå¥)è¿æ¡æ°æ®çevent timeæ¯01:01:23, \né£ä¹å®å°ä¼è¢«æ¾ç½®å°[00:00:21-00:00:24)çªå£(æ­¤çªå£å¨37æ¶ä¼è¢«éæ¯)å\n(100mså)æ­¤æ¶è®¡ç®æ°´ä½çº¿: 23-10=13 &lt; Watermark=25, æä»¥æ°´ä½çº¿ä¸åä»ä¸º25\nç±äº Watermark(25) &lt; WindowEndTime(24) + AllowedLateness(2),\næä»¥ [00:00:21-00:00:24)çªå£ä¼åæ¬¡(å¤æ¬¡)è§¦å\n\næ­¤æ¶, çªå£éæ¯æ¶æº Watermark >= WindowEndTime + AllowedLateness            \n\n\n\n\n# ä»£ç å­¦ä¹ \n\nword count\n\npackage hrbu\n\nimport org.apache.flink.api.java.utils.ParameterTool\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.streaming.api.windowing.time.Time\n\nobject StreamingJob {\n  def main(args: Array[String]) {\n\n    //åæ°--host localhost --port 7777\n    val params = ParameterTool.fromArgs(args)\n    val host:String = params.get("host")\n    val port:Int = params.getInt("port")\n\n    // set up the streaming execution environment\n    //åå»ºæµå¤ççæ§è¡ç¯å¢\n    val env = StreamExecutionEnvironment.getExecutionEnvironment\n\n    //æ¥æ¶socketæ°æ®æµ\n    val textDataSet = env.socketTextStream(host, port)\n\n    //éä¸è¯»åæ°æ®,æ­æ£ä¹åè¿è¡WordCount\n    val wordCountData = textDataSet\n      .flatMap(_.split("\\\\s"))\n      .filter(_.nonEmpty)\n      .map( (_,1) )\n      .keyBy(0)\n      //.timeWindow(Time.seconds(10))\n      .sum(1)\n\n    //æå°è¾åº\n    wordCountData.print()\n      .setParallelism(2)    //è®¾ç½®å¹¶è¡åº¦ 1\n    //wordCountData.writeAsText("datas\\\\flink_Stream_result").setParallelism(2)\n    //æ§è¡ä»»å¡\n    env.execute("stream word count job")\n  }\n}\n\n\næ¶è´¹kafka\n\npackage hrbu.StreamingJob\n\nimport java.util.Properties\n\nimport org.apache.flink.api.common.serialization.SimpleStringSchema\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\n\nobject StreamingJob_Kafka {\n  def main(args: Array[String]): Unit = {\n    val env = StreamExecutionEnvironment.getExecutionEnvironment\n    // kafkaè¯»åæ°æ®\n    val properties = new Properties()\n    properties.setProperty("bootstrap.servers", "192.168.1.100:9092")\n    properties.setProperty("group.id", "consumer-group")\n    properties.setProperty("key.deserializer", "org.apache.kafka.common.serialization.StringDeserializer")\n    properties.setProperty("value.deserializer", "org.apache.kafka.common.serialization.StringDeserializer")\n    properties.setProperty("auto.offset.reset", "latest")\n\n    val stream3 = env.addSource(new FlinkKafkaConsumer[String]("", new SimpleStringSchema(), properties))\n    stream3.print("stream3").setParallelism(1)\n\n    env.execute("source test")\n  }\n}\n\n\n\n# demoæ¡ä¾\n\n> éæ±ï¼å¨å½ä»æ°å­æ¶ä»£ï¼ä¿¡ç¨å¡æ¬ºè¯è¡ä¸ºè¶æ¥è¶è¢«éè§ã ç½ªç¯å¯ä»¥éè¿è¯éªæèå¥ä¾µå®å¨çº§å«è¾ä½ç³»ç»æ¥ççªä¿¡ç¨å¡å¡å·ã ç¨çå¾çä¿¡ç¨å¡è¿è¡å¾å°é¢åº¦çä¾å¦ä¸ç¾åæèæ´å°é¢åº¦çæ¶è´¹è¿è¡æµè¯ã å¦ææµè¯æ¶è´¹æåï¼é£ä¹ä»ä»¬å°±ä¼ç¨è¿ä¸ªä¿¡ç¨å¡è¿è¡å¤§ç¬æ¶è´¹ï¼æ¥è´­ä¹°ä¸äºä»ä»¬å¸æå¾å°çï¼æèå¯ä»¥ååçè´¢ç© ä¸ºäºæ¹ä¾¿ç¼ç ï¼æä»¬ç´æ¥ä¸è½½flinkå®ç½æä¾çé¡¹ç®æ¨¡æ¿ï¼å ä¸ºåç½®çwalkthroughååªæææ°çflink1.10çæ¬ææï¼æä»¥æä»¬ä¸è½½å®é¡¹ç®åå°±ä¸è¦åæ¹å¨ç¸å³çæ¬å·äº\n\nmvn archetype:generate \\\n    -DarchetypeGroupId=org.apache.flink \\\n    -DarchetypeArtifactId=flink-walkthrough-datastream-scala \\\n    -DarchetypeVersion=1.10.0 \\\n    -DgroupId=frauddetection \\\n    -DartifactId=frauddetection \\\n    -Dversion=0.1 \\\n    -Dpackage=spendreport \\\n    -DinteractiveMode=false\n\n\nä¸è½½å®æåï¼å°é¡¹ç®å¯¼å¥å°IDEA FraudDetectionJob\n\npackage spendreport\n\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.walkthrough.common.sink.AlertSink\nimport org.apache.flink.walkthrough.common.entity.Alert\nimport org.apache.flink.walkthrough.common.entity.Transaction\nimport org.apache.flink.walkthrough.common.source.TransactionSource\n\n/**\n  * Skeleton code for the DataStream code walkthrough\n  */\nobject FraudDetectionJob {\n\n  @throws[Exception]\n  def main(args: Array[String]): Unit = {\n    val env: StreamExecutionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment\n    /**\n     * TransactionSourceå°±æ¯walkthroughåçäº¤ææ°æ®çæç±»\n     * Transactionç±»ç»æéå¸¸ç®åï¼ç±»ä¼¼äº: Transaction {accountId=2, timestamp=154627760000. amount=412.91]\n     */\n    val transactions: DataStream[Transaction] = env\n      .addSource(new TransactionSource)\n      .name("transactions")\n    /**\n     * æ­¤å¤ä¸ºäºæ¹ä¾¿æ£æµç»æçè¾åºï¼æä»¬å¨æç»ç»æDataStreamä¸­å­æ¾çæ¯wa1kthroughçAlertç±»\n     * è¯¥ç±»å¾ç®åï¼ä¸»è¦ä¸ºäºè¾åºæ¬ºè¯è´¦æ·çid\n     */\n    /**\n     * DataStreançprocessæ¹æ³æ¯æä¼ å¥ä¸ä¸ªç»§æ¿KeyedProcessFunctionçèªå®ä¹ç±»\n     * KeyedProcessFunctionä¸»è¦æ¯è§£å³åä¸ä¸ªkeyå¯¹åºéåæ°æ®çå¤ç\n     * åé¨å®ç°çæ¹æ³ä¸ºprocessElement, è¯¥æ¹æ³è½å¤ä¿è¯å¨å¤çåç´ æ°æ®æ¶ï¼å±äºåä¸ä¸ªkeyçåç´ è¢«æ¾ç½®å°åä¸ä¸ªcontext (ä¸ä¸æ)ä¸­\n     */\n    val alerts: DataStream[Alert] = transactions\n      .keyBy(transaction => transaction.getAccountId)\n      .process(new FraudDetector)\n      .name("fraud-detector")\n\n    alerts\n      .addSink(new AlertSink)\n      .name("send-alerts")\n    //ä¸é¢çææè¿ç¨é½è®¾ç½®äºnneå±æ§ï¼æ²¡æå®éä¸å¡æä¹ï¼ä»ä»æ¯æ¹ä¾¿æä»¬æ¥çæ¥å¿ï¼å®ä½é®é¢\n    env.execute("Fraud Detection")\n  }\n}\n\n\nFraudDetector\n\npackage spendreport\n\nimport org.apache.flink.api.common.state.{ValueState, ValueStateDescriptor}\nimport org.apache.flink.api.common.typeinfo.Types\nimport org.apache.flink.configuration.Configuration\nimport org.apache.flink.streaming.api.functions.KeyedProcessFunction\nimport org.apache.flink.util.Collector\nimport org.apache.flink.walkthrough.common.entity.Alert\nimport org.apache.flink.walkthrough.common.entity.Transaction\n\n/**\n  * Skeleton code for implementing a fraud detector.\n  */\n//è¯¥ç±»çæ´¾çå¯¹è±¡ï¼æä»¬å¯ä»¥çè§£ä¸ºjavaä¸­çéæä»£ç å\nobject FraudDetector {\n  //ä»¥ä¸å¸¸éå¨æä»¬æ­£å¼å®ç°æ¬ºè¯æ£æµæ¶ä¼ç¨å°\n  //å®ä¹å¸¸éå°åäº¤æéé¢\n  val SMALL_AMOUNT: Double = 1.00\n  //å®ä¹å¸¸éå¤§åäº¤æéé¢\n  val LARGE_AMOUNT: Double = 500.00\n  //å®ä¹å¸¸éä¸åéæ¯å¤å°æ¯«ç§\n  val ONE_MINUTE: Long     = 60 * 1000L\n}\n\n/**\n * KeyedProcessFunctionéè¦æå®3ä¸ªå¯¹è±¡ç±»åï¼K I 0\n * ç¬¬ä¸ä¸ªåæ°keyæçæ¯è¢«å¤ççkeyæ¯ä»ä¹ç±»åï¼è¿éæ¯è´¦æ·idæ¯ä¸ä¸ªé¿æ´å\n * ç¬¬äºä¸ªåæ°æ¯ä¼ å¥çè¢«å¤çå¯¹è±¡ï¼è¿éæ¯Transactionäº¤ææ°æ®ç±»\n * ç¬¬ä¸ä¸ªåæ°æçæ¯è¾åºæ°æ®ç±»åï¼è¿éæä»¬ä½¿ç¨Alertç±»\n */\n@SerialVersionUID(1L)\nclass FraudDetector extends KeyedProcessFunction[Long, Transaction, Alert] {\n  /**\n   *  @ transientæ³¨è§£è¡¨ç¤ºè¯¥å±æ§ä¸ç¨è¢«åºååï¼æ­¤å¤çå½ä¸ä¸ªç§æåéValueState,å¹¶èµå¼é»è®¤å¼\n   *  æ­¤å¤é¡ºä¾¿è¯´æä¸ValueState\n   *  ValueStateæ¯ä¸ä¸ªåè£ç±»ï¼ ç±»ä¼¼äºJavaæ ååºéè¾¹çAtomicReference åAtomiclongo\n   *  å®æä¾äºä¸ä¸ªç¨äºäº¤äºçæ¹æ³ãupdate ç¨äºæ´æ°ç¶æï¼value ç¨äºè·åç¶æå¼ï¼è¿æclear ç¨äºæ¸ç©ºç¶æã\n   *  å¦æä¸ä¸ªkey è¿æ²¡æç¶æï¼ä¾å¦å½ç¨åºåå¯å¨æèè°ç¨è¿Va lueState#clearæ¹æ³æ¶ï¼ValueState#value å°ä¼è¿ånullo\n   *  å¦æéè¦æ´æ°ç¶æï¼éè¦è°ç¨Va lueState#updateæ¹æ³ï¼ç´æ¥æ´æ¹ValueState#value çè¿åå¼å¯è½ä¸ä¼è¢«ç³»ç»è¯å«ã\n   *  å®¹éå¤çå°å¨Flink åå°èªå¨ç®¡çï¼ä½ å¯ä»¥åä¸å¸¸è§åéé£æ ·ä¸ç¶æåéè¿è¡äº¤äº\n   */\n  @transient private var flagState:ValueState[java.lang.Boolean] = _\n  //æ°å¢ä¸ä¸ªæ¶é´ç¶æ\n  @transient private var timerState:ValueState[java.lang.Long] = _\n\n\n  /**\n   * æ­£å¦æä»¬pptä¸­æè®²ï¼Va lueStateå¨ä½¿ç¨ä¹åéè¦åè°ç¨openæ¹æ³æ³¨å\n   * æä»¬åçæVa lueStateDescriptorå®ä¾\n   * ç¶åä½¿ç¨ä¸ä¸æå¯¹è±¡è·åValueStateå¯¹è±¡\n   * æ­¤å¤é¡ºä¾¿è¯´æä¸\n   */\n  @throws[Exception]\n  override def open(parameters: Configuration): Unit = {\n    val flagDescriptor = new ValueStateDescriptor("flag", Types.BOOLEAN)\n    flagState = getRuntimeContext.getState(flagDescriptor)\n    //æ³¨åæ¶,ä¸èµ·å°æ¶é´ç¶ææ³¨åäº\n    val timeDescriptor = new ValueStateDescriptor("time-state", Types.LONG)\n    timerState = getRuntimeContext.getState(timeDescriptor)\n  }\n  /**\n   * å¤çå¯¹è±¡ä¸ºTransactionäº¤ææ°æ®å¯¹è±¡\n   * ä¸ä¸æä¸ºKeyedProcessFunctionçContext\n   * æ¾ç¤ºæ¥è­¦çæ°æ®æä»¬ä½¿ç¨Collectoræ¶é\n   */\n  @throws[Exception]\n  def processElement(transaction: Transaction, context: KeyedProcessFunction[Long, Transaction, Alert]#Context, collector: Collector[Alert]): Unit = {\n    //åè·åflagStateçvalueå¼,ç¬¬ä¸æ¬¡è¯å®æ¯ç©º\n    val lastTransactionWasSmall = flagState.value\n    //æä»¬é¡ºä¾¿æå°ä¸transactionæ°æ®ï¼ æ¹ä¾¿è§å¯\n    println("transaction=============" + transaction)\n\n    /**\n     * é¦æ¬¡å¤çelement,è¯å®ä¸è¿å¥æ­¤ifï¼å¾åå¯è½è¿å¥\n     * åºäºç¬¬111è¡ä»£ç ï¼å¦æä¸ä¸ºnu1lå¶å®lastTransactionWasSmallçå¼å°±æ¯true\n     * ä»£è¡¨äºä¸æ¬¡çäº¤æéé¢ä¸ºå°åäº¤æ\n     */\n    if(lastTransactionWasSmall != null) {\n      //å¦æä¸æ¬¡æ¯å°åäº¤æ,å¹¶ä¸æ­¤æ¬¡æ¯å¤§åäº¤æ,å°±æ¥è­¦\n      if(transaction.getAmount > FraudDetector.LARGE_AMOUNT) {\n        val alert = new Alert\n        alert.setId(transaction.getAccountId)\n        collector.collect(alert)\n      }\n\n      /**\n       * å¨æ£æ¥ä¹åï¼ä¸è®ºæ¯ä»ä¹ç¶æï¼é½éè¦è¢«æ¸ç©ºã\n       * ä¸ç®¡æ¯å½åäº¤æè§¦åäºæ¬ºè¯æ¥è­¦èé ææ¨¡å¼çç»æï¼è¿æ¯å½åäº¤ææ²¡æè§¦åæ¥è­¦èé ææ¨¡å¼çä¸­æ­ï¼é½éè¦éæ°å¼å§æ°çæ¨¡å¼æ£æµ\n       * å ä¸ºæä»¬çéæ±è§å®å°é¢ç´§è·å¤§é¢æç®æ¬ºè¯ï¼å¦æç°å¨æ3ç¬äº¤æ: 1:$0.5; 2:$505; 3:$605,é£ä¹ç¬¬3ç¬å°±ä¸åºè¯¥è¢«è®¤å®ä¸ºæ¬ºè¯\n       */\n      //flagState.clear()\n      clearUp(context)\n    }\n\n    /**\n     * æ è®ºæ¯å¦è¿å¥ä¸é¢if,åªè¦å½åçäº¤æéé¢å°äºæä»¬é¢å®çå°åéé¢ï¼é£ä¹flagStateå°±åºè¯¥è¢«æ´æ°ä¸ºtrue\n     * å¦åä»ä¹é½ä¸å\n     */\n    if(transaction.getAmount < FraudDetector.SMALL_AMOUNT) {\n      flagState.update(true)\n\n      /**\n       * KeyedProcessFunction#processElementéè¦ä½¿ç¨æä¾äºå®æ¶å¨æå¡çContext æ¥è°ç¨ã\n       * å®æ¶å¨æå¡å¯ä»¥ç¨äºæ¥è¯¢å½åæ¶é´ãæ³¨åå®æ¶å¨åå é¤å®æ¶å¨ã\n       * æä»¬é¦åå®ä¹äºä¸ä¸ª1åéåè§¦åçå®æ¶å¨ï¼æ¶é´å°è¾¾åä¼è°ç¨onIimeræ¹æ³\n       * åæ¶æä»¬æ´æ°äºtimerStateç¶æ\n       */\n      val timer = context.timerService().currentProcessingTime() + FraudDetector.ONE_MINUTE\n      context.timerService().registerProcessingTimeTimer(timer)\n      timerState.update(timer)\n    }\n  }\n\n  /**\n   * å®æ¶å¨åè°: 1åéä¹åå¦ææ²¡æå°é¢+å¤§é¢äº¤ææä»¬å°±éç½®å·²æå°é¢äº¤æçç¶æï¼é²æ­¢æ£æµå°æ­£å¸¸äº¤æ\n   */\n  override def onTimer(timestamp: Long, ctx: KeyedProcessFunction[Long, Transaction, Alert]#OnTimerContext, out: Collector[Alert]): Unit = {\n    timerState.clear()\n    flagState.clear()\n  }\n\n  /**\n   * å¨æåæè·æ¬ºè¯äº¤æåæä»¬åæ ·éè¦æ¸ç©ºææç¶æä¸å®æ¶å¨\n   * æä»¬å¯ä»¥æè¿äºé»è¾å°è£å°ä¸ä¸ªç§æå½æ°ä¸­ï¼èä¸æ¯ç´æ¥è°ç¨flagState. clear()\n   */\n  private def clearUp(ctx: KeyedProcessFunction[Long, Transaction, Alert]#Context): Unit = {\n    val timer = timerState.value()\n    //å é¤å®æ¶å¨\n    ctx.timerService().deleteProcessingTimeTimer(timer)\n    //æ¸ç©ºææç¶æ\n    timerState.clear()\n    flagState.clear()\n  }\n}\n',normalizedContent:'ä¸­æçå®ç½\n\n\n# å­¦ä¹ \n\n\n# 1. wordcountç¤ºä¾\n\nflink run ./examples/batch/wordcount.jar --input hdfs://mycluster/datas/wordcounttest.txt --output hdfs://mycluster/datas/wordcountresult.txt\n\n\n\n# 2. éªè¯flinké«å¯ç¨\n\nåèé¾æ¥\n\n 1. æå¨å°jobmanager / taskmanagerå®ä¾æ·»å å°ç¾¤é(åç¹å¯å¨)\n\njobmanager.sh start hadoop100\njobmanager.sh start cluster hadoop100\n\n\n 2. å¨hadoop101ä¸ kill -9 10155(standalonesessionclusterentrypoint), æ¥çå¦ä¸ä¸ªèç¹æ¯å¦å¯ç¨ã\n\n\n# 3. é«å¯ç¨\n\nç¬ç«éç¾¤çjobmanagerçæºå¶æ¯ï¼ä¸ä¸ªleader jobmanageråå¤ä¸ªstandby jobmanagerï¼å½leader jobmanagerå´©æºåï¼å¤ä¸ªstandby jobmanageréä¸¾åäº§çæ°çleader jobmanagerã\n\nleader jobmanageråstandby jobmanagerä¹é´æ²¡æåºå«ï¼ä»»ä½jobmanageré½å¯ä»¥æ¿æleaderæstandbyè§è²ã\n\nåå©zkçä¸´æ¶èç¹æºå¶ï¼flinkå®ç°äºjob managerç¬ç«éç¾¤çé«å¯ç¨æ§ãä½æ¯ç±äºzkæ¯cpï¼å¹¶ä¸ä¿è¯æ¯æ¬¡å¯ç¨æ§ï¼å®éä½¿ç¨ä¸­åºå½äºä»¥èèã\n\nåæé¾æ¥\n\n\n# 4. flink on yarn\n\nä¿®æ¹etc/hadoop/yarn-site.xml\n<property> \n    <name>yarn.nodemanager.vmem-check-enabled</name> \n    <value>false</value> \n</property>\n\n\nstop-cluster.sh ååå¯å¨ flink on yarn (1. namenodeæ­»æ) yarn-session.sh -n 3 -jm 1024 -tm 1024 -s 3 -nm flinkonyarnsession -d -st\n\n\n# 5. flink ç watermark(æ°´ä½çº¿ æ°´å°)(è¿å°æ°æ®çå¤ç)\n\n\n æ¯é3ç§ç»è®¡å3ç§çåç´ ä¸ªæ°ï¼é£ä¹flinkç³»ç»ä¼äºåå¨ç³»ç»ä¸­ååå¥½20ï¼60/3ï¼ä¸ªwindow\nå¶å®watermarkçç­ç¥: å¨ææ§æåwatermarkï¼é»è®¤æ¶é´ä¸º200msï¼æä»¬å¯ä»¥è®¤ä¸ºå¨1å·æ°æ®è¢«åéå°windowä¹åç200msï¼flinkç³»ç»å°±å¼å§è®¡ç®æ°´ä½çº¿äº\nåè®¾åè®¸æ°æ®ä¹±åºçæå¤§æ¶é´ä¸º10ç§ æ°æ®å¼å§æµå¥flinkç³»ç»\n1å·æ°æ®  01:01:22---hello\n2å·æ°æ®  01:01:35---flink\nå¨æ­¤ä¹å åæ¥ä¸æ¡æ°æ®(è¿å°) 3å·æ°æ®  01:01:23---later\n\n\n    ç¬¬ä¸æ¡æ°æ®æµå¥ 01:01:22---hello\nè¿æ¡æ°æ®çevent timeæ¯01:01:22, é£ä¹å®å°ä¼è¢«æ¾ç½®å°[00:00:21-00:00:24)çªå£å\n(100mså)æ­¤æ¶æ°´ä½çº¿(watermark)ä¸º 12 (22-10)\nwatermark(12) &lt; windowendtime(24)  æä»¥ ä¸ä¼è§¦åè¯¥windowçè®¡ç®\n\n\n    ç¬¬äºæ¡æ°æ®æµå¥ 01:01:35---flink\nè¿æ¡æ°æ®çevent timeæ¯01:01:35, é£ä¹å®ä¼è¢«æ¾ç½®å¨[00:00:33-00:00:36)çªå£å\n(100mså)æ­¤æ¶æ°´ä½çº¿(watermark)ä¸º 25 (35-10)\nç±äºwatermark(25) >= windowendtime(24), æä»¥ ä¼è§¦åæ°´ä½çº¿(25)ä¹åwindowçè®¡ç®, ([21, 24))\nè®¡ç®åçªå£ç´æ¥éæ¯\n\n\n    ç¬¬ä¸æ¡æ°æ®æµå¥ 01:01:23---later\næ­£å¸¸æåµä¸æ°æ®åºæ¾å°[00:00:21-00:00:24)çªå£, ç±äºæ­¤çªå£è¢«éæ¯,æä»¥æ°æ®è¢«ä¸¢å¼\n\nä¸ºä¿è¯æ°æ®å®æ´æ§,ä¿®æ¹ allowedlateness ä¸º2s  ä¹å°±æ¯çªå£è§¦åè®¡ç®å2såéæ¯\n(35-37æµå¥)è¿æ¡æ°æ®çevent timeæ¯01:01:23, \né£ä¹å®å°ä¼è¢«æ¾ç½®å°[00:00:21-00:00:24)çªå£(æ­¤çªå£å¨37æ¶ä¼è¢«éæ¯)å\n(100mså)æ­¤æ¶è®¡ç®æ°´ä½çº¿: 23-10=13 &lt; watermark=25, æä»¥æ°´ä½çº¿ä¸åä»ä¸º25\nç±äº watermark(25) &lt; windowendtime(24) + allowedlateness(2),\næä»¥ [00:00:21-00:00:24)çªå£ä¼åæ¬¡(å¤æ¬¡)è§¦å\n\næ­¤æ¶, çªå£éæ¯æ¶æº watermark >= windowendtime + allowedlateness            \n\n\n\n\n# ä»£ç å­¦ä¹ \n\nword count\n\npackage hrbu\n\nimport org.apache.flink.api.java.utils.parametertool\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.streaming.api.windowing.time.time\n\nobject streamingjob {\n  def main(args: array[string]) {\n\n    //åæ°--host localhost --port 7777\n    val params = parametertool.fromargs(args)\n    val host:string = params.get("host")\n    val port:int = params.getint("port")\n\n    // set up the streaming execution environment\n    //åå»ºæµå¤ççæ§è¡ç¯å¢\n    val env = streamexecutionenvironment.getexecutionenvironment\n\n    //æ¥æ¶socketæ°æ®æµ\n    val textdataset = env.sockettextstream(host, port)\n\n    //éä¸è¯»åæ°æ®,æ­æ£ä¹åè¿è¡wordcount\n    val wordcountdata = textdataset\n      .flatmap(_.split("\\\\s"))\n      .filter(_.nonempty)\n      .map( (_,1) )\n      .keyby(0)\n      //.timewindow(time.seconds(10))\n      .sum(1)\n\n    //æå°è¾åº\n    wordcountdata.print()\n      .setparallelism(2)    //è®¾ç½®å¹¶è¡åº¦ 1\n    //wordcountdata.writeastext("datas\\\\flink_stream_result").setparallelism(2)\n    //æ§è¡ä»»å¡\n    env.execute("stream word count job")\n  }\n}\n\n\næ¶è´¹kafka\n\npackage hrbu.streamingjob\n\nimport java.util.properties\n\nimport org.apache.flink.api.common.serialization.simplestringschema\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.streaming.connectors.kafka.flinkkafkaconsumer\n\nobject streamingjob_kafka {\n  def main(args: array[string]): unit = {\n    val env = streamexecutionenvironment.getexecutionenvironment\n    // kafkaè¯»åæ°æ®\n    val properties = new properties()\n    properties.setproperty("bootstrap.servers", "192.168.1.100:9092")\n    properties.setproperty("group.id", "consumer-group")\n    properties.setproperty("key.deserializer", "org.apache.kafka.common.serialization.stringdeserializer")\n    properties.setproperty("value.deserializer", "org.apache.kafka.common.serialization.stringdeserializer")\n    properties.setproperty("auto.offset.reset", "latest")\n\n    val stream3 = env.addsource(new flinkkafkaconsumer[string]("", new simplestringschema(), properties))\n    stream3.print("stream3").setparallelism(1)\n\n    env.execute("source test")\n  }\n}\n\n\n\n# demoæ¡ä¾\n\n> éæ±ï¼å¨å½ä»æ°å­æ¶ä»£ï¼ä¿¡ç¨å¡æ¬ºè¯è¡ä¸ºè¶æ¥è¶è¢«éè§ã ç½ªç¯å¯ä»¥éè¿è¯éªæèå¥ä¾µå®å¨çº§å«è¾ä½ç³»ç»æ¥ççªä¿¡ç¨å¡å¡å·ã ç¨çå¾çä¿¡ç¨å¡è¿è¡å¾å°é¢åº¦çä¾å¦ä¸ç¾åæèæ´å°é¢åº¦çæ¶è´¹è¿è¡æµè¯ã å¦ææµè¯æ¶è´¹æåï¼é£ä¹ä»ä»¬å°±ä¼ç¨è¿ä¸ªä¿¡ç¨å¡è¿è¡å¤§ç¬æ¶è´¹ï¼æ¥è´­ä¹°ä¸äºä»ä»¬å¸æå¾å°çï¼æèå¯ä»¥ååçè´¢ç© ä¸ºäºæ¹ä¾¿ç¼ç ï¼æä»¬ç´æ¥ä¸è½½flinkå®ç½æä¾çé¡¹ç®æ¨¡æ¿ï¼å ä¸ºåç½®çwalkthroughååªæææ°çflink1.10çæ¬ææï¼æä»¥æä»¬ä¸è½½å®é¡¹ç®åå°±ä¸è¦åæ¹å¨ç¸å³çæ¬å·äº\n\nmvn archetype:generate \\\n    -darchetypegroupid=org.apache.flink \\\n    -darchetypeartifactid=flink-walkthrough-datastream-scala \\\n    -darchetypeversion=1.10.0 \\\n    -dgroupid=frauddetection \\\n    -dartifactid=frauddetection \\\n    -dversion=0.1 \\\n    -dpackage=spendreport \\\n    -dinteractivemode=false\n\n\nä¸è½½å®æåï¼å°é¡¹ç®å¯¼å¥å°idea frauddetectionjob\n\npackage spendreport\n\nimport org.apache.flink.streaming.api.scala._\nimport org.apache.flink.walkthrough.common.sink.alertsink\nimport org.apache.flink.walkthrough.common.entity.alert\nimport org.apache.flink.walkthrough.common.entity.transaction\nimport org.apache.flink.walkthrough.common.source.transactionsource\n\n/**\n  * skeleton code for the datastream code walkthrough\n  */\nobject frauddetectionjob {\n\n  @throws[exception]\n  def main(args: array[string]): unit = {\n    val env: streamexecutionenvironment = streamexecutionenvironment.getexecutionenvironment\n    /**\n     * transactionsourceå°±æ¯walkthroughåçäº¤ææ°æ®çæç±»\n     * transactionç±»ç»æéå¸¸ç®åï¼ç±»ä¼¼äº: transaction {accountid=2, timestamp=154627760000. amount=412.91]\n     */\n    val transactions: datastream[transaction] = env\n      .addsource(new transactionsource)\n      .name("transactions")\n    /**\n     * æ­¤å¤ä¸ºäºæ¹ä¾¿æ£æµç»æçè¾åºï¼æä»¬å¨æç»ç»ædatastreamä¸­å­æ¾çæ¯wa1kthroughçalertç±»\n     * è¯¥ç±»å¾ç®åï¼ä¸»è¦ä¸ºäºè¾åºæ¬ºè¯è´¦æ·çid\n     */\n    /**\n     * datastreançprocessæ¹æ³æ¯æä¼ å¥ä¸ä¸ªç»§æ¿keyedprocessfunctionçèªå®ä¹ç±»\n     * keyedprocessfunctionä¸»è¦æ¯è§£å³åä¸ä¸ªkeyå¯¹åºéåæ°æ®çå¤ç\n     * åé¨å®ç°çæ¹æ³ä¸ºprocesselement, è¯¥æ¹æ³è½å¤ä¿è¯å¨å¤çåç´ æ°æ®æ¶ï¼å±äºåä¸ä¸ªkeyçåç´ è¢«æ¾ç½®å°åä¸ä¸ªcontext (ä¸ä¸æ)ä¸­\n     */\n    val alerts: datastream[alert] = transactions\n      .keyby(transaction => transaction.getaccountid)\n      .process(new frauddetector)\n      .name("fraud-detector")\n\n    alerts\n      .addsink(new alertsink)\n      .name("send-alerts")\n    //ä¸é¢çææè¿ç¨é½è®¾ç½®äºnneå±æ§ï¼æ²¡æå®éä¸å¡æä¹ï¼ä»ä»æ¯æ¹ä¾¿æä»¬æ¥çæ¥å¿ï¼å®ä½é®é¢\n    env.execute("fraud detection")\n  }\n}\n\n\nfrauddetector\n\npackage spendreport\n\nimport org.apache.flink.api.common.state.{valuestate, valuestatedescriptor}\nimport org.apache.flink.api.common.typeinfo.types\nimport org.apache.flink.configuration.configuration\nimport org.apache.flink.streaming.api.functions.keyedprocessfunction\nimport org.apache.flink.util.collector\nimport org.apache.flink.walkthrough.common.entity.alert\nimport org.apache.flink.walkthrough.common.entity.transaction\n\n/**\n  * skeleton code for implementing a fraud detector.\n  */\n//è¯¥ç±»çæ´¾çå¯¹è±¡ï¼æä»¬å¯ä»¥çè§£ä¸ºjavaä¸­çéæä»£ç å\nobject frauddetector {\n  //ä»¥ä¸å¸¸éå¨æä»¬æ­£å¼å®ç°æ¬ºè¯æ£æµæ¶ä¼ç¨å°\n  //å®ä¹å¸¸éå°åäº¤æéé¢\n  val small_amount: double = 1.00\n  //å®ä¹å¸¸éå¤§åäº¤æéé¢\n  val large_amount: double = 500.00\n  //å®ä¹å¸¸éä¸åéæ¯å¤å°æ¯«ç§\n  val one_minute: long     = 60 * 1000l\n}\n\n/**\n * keyedprocessfunctionéè¦æå®3ä¸ªå¯¹è±¡ç±»åï¼k i 0\n * ç¬¬ä¸ä¸ªåæ°keyæçæ¯è¢«å¤ççkeyæ¯ä»ä¹ç±»åï¼è¿éæ¯è´¦æ·idæ¯ä¸ä¸ªé¿æ´å\n * ç¬¬äºä¸ªåæ°æ¯ä¼ å¥çè¢«å¤çå¯¹è±¡ï¼è¿éæ¯transactionäº¤ææ°æ®ç±»\n * ç¬¬ä¸ä¸ªåæ°æçæ¯è¾åºæ°æ®ç±»åï¼è¿éæä»¬ä½¿ç¨alertç±»\n */\n@serialversionuid(1l)\nclass frauddetector extends keyedprocessfunction[long, transaction, alert] {\n  /**\n   *  @ transientæ³¨è§£è¡¨ç¤ºè¯¥å±æ§ä¸ç¨è¢«åºååï¼æ­¤å¤çå½ä¸ä¸ªç§æåévaluestate,å¹¶èµå¼é»è®¤å¼\n   *  æ­¤å¤é¡ºä¾¿è¯´æä¸valuestate\n   *  valuestateæ¯ä¸ä¸ªåè£ç±»ï¼ ç±»ä¼¼äºjavaæ ååºéè¾¹çatomicreference åatomiclongo\n   *  å®æä¾äºä¸ä¸ªç¨äºäº¤äºçæ¹æ³ãupdate ç¨äºæ´æ°ç¶æï¼value ç¨äºè·åç¶æå¼ï¼è¿æclear ç¨äºæ¸ç©ºç¶æã\n   *  å¦æä¸ä¸ªkey è¿æ²¡æç¶æï¼ä¾å¦å½ç¨åºåå¯å¨æèè°ç¨è¿va luestate#clearæ¹æ³æ¶ï¼valuestate#value å°ä¼è¿ånullo\n   *  å¦æéè¦æ´æ°ç¶æï¼éè¦è°ç¨va luestate#updateæ¹æ³ï¼ç´æ¥æ´æ¹valuestate#value çè¿åå¼å¯è½ä¸ä¼è¢«ç³»ç»è¯å«ã\n   *  å®¹éå¤çå°å¨flink åå°èªå¨ç®¡çï¼ä½ å¯ä»¥åä¸å¸¸è§åéé£æ ·ä¸ç¶æåéè¿è¡äº¤äº\n   */\n  @transient private var flagstate:valuestate[java.lang.boolean] = _\n  //æ°å¢ä¸ä¸ªæ¶é´ç¶æ\n  @transient private var timerstate:valuestate[java.lang.long] = _\n\n\n  /**\n   * æ­£å¦æä»¬pptä¸­æè®²ï¼va luestateå¨ä½¿ç¨ä¹åéè¦åè°ç¨openæ¹æ³æ³¨å\n   * æä»¬åçæva luestatedescriptorå®ä¾\n   * ç¶åä½¿ç¨ä¸ä¸æå¯¹è±¡è·åvaluestateå¯¹è±¡\n   * æ­¤å¤é¡ºä¾¿è¯´æä¸\n   */\n  @throws[exception]\n  override def open(parameters: configuration): unit = {\n    val flagdescriptor = new valuestatedescriptor("flag", types.boolean)\n    flagstate = getruntimecontext.getstate(flagdescriptor)\n    //æ³¨åæ¶,ä¸èµ·å°æ¶é´ç¶ææ³¨åäº\n    val timedescriptor = new valuestatedescriptor("time-state", types.long)\n    timerstate = getruntimecontext.getstate(timedescriptor)\n  }\n  /**\n   * å¤çå¯¹è±¡ä¸ºtransactionäº¤ææ°æ®å¯¹è±¡\n   * ä¸ä¸æä¸ºkeyedprocessfunctionçcontext\n   * æ¾ç¤ºæ¥è­¦çæ°æ®æä»¬ä½¿ç¨collectoræ¶é\n   */\n  @throws[exception]\n  def processelement(transaction: transaction, context: keyedprocessfunction[long, transaction, alert]#context, collector: collector[alert]): unit = {\n    //åè·åflagstateçvalueå¼,ç¬¬ä¸æ¬¡è¯å®æ¯ç©º\n    val lasttransactionwassmall = flagstate.value\n    //æä»¬é¡ºä¾¿æå°ä¸transactionæ°æ®ï¼ æ¹ä¾¿è§å¯\n    println("transaction=============" + transaction)\n\n    /**\n     * é¦æ¬¡å¤çelement,è¯å®ä¸è¿å¥æ­¤ifï¼å¾åå¯è½è¿å¥\n     * åºäºç¬¬111è¡ä»£ç ï¼å¦æä¸ä¸ºnu1lå¶å®lasttransactionwassmallçå¼å°±æ¯true\n     * ä»£è¡¨äºä¸æ¬¡çäº¤æéé¢ä¸ºå°åäº¤æ\n     */\n    if(lasttransactionwassmall != null) {\n      //å¦æä¸æ¬¡æ¯å°åäº¤æ,å¹¶ä¸æ­¤æ¬¡æ¯å¤§åäº¤æ,å°±æ¥è­¦\n      if(transaction.getamount > frauddetector.large_amount) {\n        val alert = new alert\n        alert.setid(transaction.getaccountid)\n        collector.collect(alert)\n      }\n\n      /**\n       * å¨æ£æ¥ä¹åï¼ä¸è®ºæ¯ä»ä¹ç¶æï¼é½éè¦è¢«æ¸ç©ºã\n       * ä¸ç®¡æ¯å½åäº¤æè§¦åäºæ¬ºè¯æ¥è­¦èé ææ¨¡å¼çç»æï¼è¿æ¯å½åäº¤ææ²¡æè§¦åæ¥è­¦èé ææ¨¡å¼çä¸­æ­ï¼é½éè¦éæ°å¼å§æ°çæ¨¡å¼æ£æµ\n       * å ä¸ºæä»¬çéæ±è§å®å°é¢ç´§è·å¤§é¢æç®æ¬ºè¯ï¼å¦æç°å¨æ3ç¬äº¤æ: 1:$0.5; 2:$505; 3:$605,é£ä¹ç¬¬3ç¬å°±ä¸åºè¯¥è¢«è®¤å®ä¸ºæ¬ºè¯\n       */\n      //flagstate.clear()\n      clearup(context)\n    }\n\n    /**\n     * æ è®ºæ¯å¦è¿å¥ä¸é¢if,åªè¦å½åçäº¤æéé¢å°äºæä»¬é¢å®çå°åéé¢ï¼é£ä¹flagstateå°±åºè¯¥è¢«æ´æ°ä¸ºtrue\n     * å¦åä»ä¹é½ä¸å\n     */\n    if(transaction.getamount < frauddetector.small_amount) {\n      flagstate.update(true)\n\n      /**\n       * keyedprocessfunction#processelementéè¦ä½¿ç¨æä¾äºå®æ¶å¨æå¡çcontext æ¥è°ç¨ã\n       * å®æ¶å¨æå¡å¯ä»¥ç¨äºæ¥è¯¢å½åæ¶é´ãæ³¨åå®æ¶å¨åå é¤å®æ¶å¨ã\n       * æä»¬é¦åå®ä¹äºä¸ä¸ª1åéåè§¦åçå®æ¶å¨ï¼æ¶é´å°è¾¾åä¼è°ç¨oniimeræ¹æ³\n       * åæ¶æä»¬æ´æ°äºtimerstateç¶æ\n       */\n      val timer = context.timerservice().currentprocessingtime() + frauddetector.one_minute\n      context.timerservice().registerprocessingtimetimer(timer)\n      timerstate.update(timer)\n    }\n  }\n\n  /**\n   * å®æ¶å¨åè°: 1åéä¹åå¦ææ²¡æå°é¢+å¤§é¢äº¤ææä»¬å°±éç½®å·²æå°é¢äº¤æçç¶æï¼é²æ­¢æ£æµå°æ­£å¸¸äº¤æ\n   */\n  override def ontimer(timestamp: long, ctx: keyedprocessfunction[long, transaction, alert]#ontimercontext, out: collector[alert]): unit = {\n    timerstate.clear()\n    flagstate.clear()\n  }\n\n  /**\n   * å¨æåæè·æ¬ºè¯äº¤æåæä»¬åæ ·éè¦æ¸ç©ºææç¶æä¸å®æ¶å¨\n   * æä»¬å¯ä»¥æè¿äºé»è¾å°è£å°ä¸ä¸ªç§æå½æ°ä¸­ï¼èä¸æ¯ç´æ¥è°ç¨flagstate. clear()\n   */\n  private def clearup(ctx: keyedprocessfunction[long, transaction, alert]#context): unit = {\n    val timer = timerstate.value()\n    //å é¤å®æ¶å¨\n    ctx.timerservice().deleteprocessingtimetimer(timer)\n    //æ¸ç©ºææç¶æ\n    timerstate.clear()\n    flagstate.clear()\n  }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Flumeå®è£éç½®",frontmatter:{title:"Flumeå®è£éç½®",date:"2022-03-02T20:43:23.000Z",permalink:"/pages/e4166e/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/10.Flume/01.Flume%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html",relativePath:"02.å¤§æ°æ®/10.Flume/01.Flumeå®è£éç½®.md",key:"v-e9baf2c8",path:"/pages/e4166e/",headers:[{level:3,title:"ä¸. å®è£(flume-ng)",slug:"ä¸-å®è£-flume-ng",normalizedTitle:"ä¸. å®è£(flume-ng)",charIndex:2},{level:3,title:"å®è£ netcat å·¥å·",slug:"å®è£-netcat-å·¥å·",normalizedTitle:"å®è£ netcat å·¥å·",charIndex:277},{level:3,title:"äº. ä¿®æ¹éç½®æä»¶",slug:"äº-ä¿®æ¹éç½®æä»¶",normalizedTitle:"äº. ä¿®æ¹éç½®æä»¶",charIndex:371},{level:3,title:"ä¸. æ°æ®éé",slug:"ä¸-æ°æ®éé",normalizedTitle:"ä¸. æ°æ®éé",charIndex:2374},{level:3,title:"å. æ°æ®å¯¼å¥å°hbaseä¸­",slug:"å-æ°æ®å¯¼å¥å°hbaseä¸­",normalizedTitle:"å. æ°æ®å¯¼å¥å°hbaseä¸­",charIndex:2598},{level:3,title:"äº. æ°æ®å¯¼å¥å°hiveä¸­",slug:"äº-æ°æ®å¯¼å¥å°hiveä¸­",normalizedTitle:"äº. æ°æ®å¯¼å¥å°hiveä¸­",charIndex:3409}],headersStr:"ä¸. å®è£(flume-ng) å®è£ netcat å·¥å· äº. ä¿®æ¹éç½®æä»¶ ä¸. æ°æ®éé å. æ°æ®å¯¼å¥å°hbaseä¸­ äº. æ°æ®å¯¼å¥å°hiveä¸­",content:"# ä¸. å®è£(flume-ng)\n\n 1. ä¸è½½å®è£å apache-flume-1.9.0-bin.tar.gz\n 2. ä¸ä¼  è§£åå®è£ tar -zxvf apache-flume-1.9.0-bin.tar.gz\n 3. éå½å mv apache-flume-1.9.0-bin/ flume\n 4. éç½®ç¯å¢åé vim ~/.bashrc\n\n# flumeç¯å¢åé\nexport FLUME_HOME=/soft/flume\nexport PATH=$PATH:$FLUME_HOME/bin\n\n\nsource ~/.bashrc\n\n\n# å®è£ netcat å·¥å·\n\nå®è£:sudo yum install -y nc å¤æ­ 44444 ç«¯å£æ¯å¦è¢«å ç¨ sudo netstat -tunlp | grep 44444\n\n\n# äº. ä¿®æ¹éç½®æä»¶\n\n 1. flume-env.shæä»¶éç½®\n\n * å°${FLUME_HOME}/confä¸ï¼å¤å¶ä¸ä»½flume-env.shæä»¶ cp flume-env.sh.template flume-env.sh\n * ç¼è¾vim flume-env.sh\n\nexport JAVA_HOME=/soft/jdk1.8.0_161\n\n\n * æµè¯ä¸flumeæ¯å¦è½å¤æ­£å¸¸è¿è¡ flume-ng version\n\n 2. Flumeæå¡å¯å¨\n\n * åå»ºæä»¶å¤¹ mkdir logstodfs\n * æä»¬å¨confæä»¶å¤¹ä¸ï¼åå»ºä¸ä¸ªvim flume_hdfs.conf æ·»å åå®¹\n\n#source,channel,sinkï¼å®ä»¬åå«é½å¯ä»¥éç½®å¤ä»½ï¼æ¯å¦nä¸ªchannelånä¸ªsink\n#åéç½®åééï¼å®ä¹source,channel,sinkï¼å®ä»¬åå«é½å¯ä»¥éç½®å¤ä»½ï¼æ¯å¦nä¸ªchannelånä¸ªsink\n#agent1 æ¯è¯¥agentçåå­ï¼å¨å¯å¨çæ¶åéè¦æå®agentçåå­\nagent1.sources=source1\nagent1.channels=channel1\nagent1.sinks=sink1\n\n##############éç½®source###################\n#sourceçç±»å\nagent1.sources.source1.type=spooldir\n#spooldirç±»åçsourceçæ§çç®å½\nagent1.sources.source1.spoolDir=/soft/flume/logstodfs\nagent1.sources.source1.fileHeader=false\nagent1.sources.source1.channels=channel1\nagent1.sources.source1.interceptors=i1\nagent1.sources.source1.interceptors.i1.type=timestamp\n#0.0.0.0è¡¨ç¤ºæ¬æº\n#agent1.sources.source1.bind=0.0.0.0\n#ä½¿ç¨çç«¯å£\n#agent1.sources.source1.port=44445\n#æå®channelç±»å\nagent1.channels.channel1.type=file\n#file channle checkpointæä»¶çè·¯å¾\nagent1.channels.channel1.checkpointDir=/soft/flume/tmp/point\n# file channel dataæä»¶çè·¯å¾\nagent1.channels.channel1.dataDirs=/soft/flume/tmp\n\n#æå®sinkç±»å\nagent1.sinks.sink1.type=hdfs\nagent1.sinks.sink1.hdfs.path=hdfs://hadoop1:9000/flume\nagent1.sinks.sink1.hdfs.fileType=DataStream\nagent1.sinks.sink1.hdfs.writeFormat=TEXT\n#å¤ä¹çææ°çæä»¶\nagent1.sinks.sink1.hdfs.rollInterval=5\nagent1.sinks.sink1.hdfs.rollSize=1000\nagent1.sinks.sink1.hdfs.rollCount=0\nagent1.sinks.sink1.hdfs.filePrefix=%Y-%m-%d\nagent1.sinks.sink1.hdfs.fileSuffix=.txt\n\nagent1.sinks.sink1.channel = channel1\n\n\n * å¯å¨æå¡ flume-ng agent -c /soft/flume/conf -f /soft/flume/conf/flume_hdfs.conf -n agent1 -Dflume.root.logger=INFO,console å\n\nflume-ng agent -c $FLUME_HOME/conf/\n -f  $FLUME_HOME/conf/flume_hdfs.conf \n-n agent1\n-Dflume.root.logger=INFO,console\n\n\nå¶ä¸­flume-ng agentä¸ºåºå®åæ³ -cæå®flume-env.shæä»¶æå¨ç®å½ -fæå®flume-hdfs.confæä»¶æå¨ä½ç½® -næå®è¦å¯å¨çagentåç§°ï¼æä»¬å¨éç½®æä»¶ä¸­éç½®çåç§°ä¸ºagent1 -Dflume.root.loggerä»£è¡¨æ¥å¿æå°å°æ§å¶å° å½ç¶æä»¬ä¹å¯ä»¥ä½¿ç¨nohupå½ä»¤åå°æèµ·ç¨åº\n\n\n# ä¸. æ°æ®éé\n\n * æå¼å¦ä¸ä¸ªç»ç«¯\n * å°æä¸ªæä»¶ï¼å®éªé¶æ®µå»ºè®®ä¸è¦å¤ªå¤§ï¼ç§»å¨æå¤å¶å°${FLUME_HOME}/logstohdfsç®å½ä¸ï¼é£ä¹flumeå°±ä¼èªå¨è¯»åè¯¥æä»¶çæ°æ®å¹¶ä¸ä¼ å°hdfs cp /soft/datas/short-student-utf8_classNO1.txt /soft/flume/logstodfs/\n * æ¥çç¬¬ä¸ä¸ªç»ç«¯çªå£(æ¾ç¤ºä¿¡æ¯)\n * æåæä»¬å¯ä»¥å»hdfsç³»ç»æ¥çæä»¬ééå°çæ°æ®æä»¶\n\n\n# å. æ°æ®å¯¼å¥å°hbaseä¸­\n\n * æjaråå¤å¶æ¿æ¢å°/opt/flume/libç®å½ä¸é¢\n\n/soft/hive/lib\nhbase-protocol-1.1.1.jar\nhbase-client-1.1.1.jar\nhbase-common-1.1.1.jar \nhbase-server-1.1.1.jar\nhbase-hadoop2-compat-1.1.1.jar \nhbase-hadoop-compat-1.1.1.jar\nhtrace-core-3.1.0-incubating.jar\n\n\nå½ä»¤: cp /soft/hive/lib/{hbase-protocol-1.1.1.jar,hbase-client-1.1.1.jar,hbase-common-1.1.1.jar,hbase-server-1.1.1.jar,hbase-hadoop2-compat-1.1.1.jar,hbase-hadoop-compat-1.1.1.jar,htrace-core-3.1.0-incubating.jar} /soft/flume/lib\n\n * å¯å¨hbase,åå»ºè¡¨ hbase shell åå»ºè¡¨ create \"flume_hbase\",\"info\"\n * åéç½®æä»¶ flume_hbase.conf\n * å¯å¨æå¡ flume-ng agent --conf-file /soft/flume/conf/flume-hbase.conf -n agent2 -Dflume.root.logger=INFO,console\n * çææ°æ®: echo \"hello flume\">>/soft/flume/tmp/datas/flume_hbase.txt echo \"hello hbase\">>/soft/flume/tmp/datas/flume_hbase.txt\n\n\n# äº. æ°æ®å¯¼å¥å°hiveä¸­\n\n 1. åéç½®æä»¶ flume_hive.conf\n 2. Flume ç«¯æå¡å¨ hosts éç½®æä»¶ä¿®æ¹(ä¸æ´å¯å¦???)\n\nvim /etc/hosts\n\n# myCluster æ¯ä½ çéç¾¤åç§°ï¼hdfs://myCluster/hellowold éå¸¸ç¨äº HDFS NameNode HA æ¨¡å¼ä¸ä¼ç¨å°è¿ä¸ªå°å\n192.168.1.1 node1.hadoop.com myCluster\n192.168.1.2 ndoe2.hadoop.com myCluster\n192.168.1.3 node3.hadoop.com\n\n\n 3. Hive å»ºè¡¨\n\n * éè¦å¼å¯çç­ç¥ - ORC æ ¼å¼å­å¨ - åæ¡¶ - æ¯æäºå¡æ§ - æ¾å¼å£°æ transtions(ä¹å¯ä»¥ä¿®æ¹éç½®æä»¶hive-site.xml) å®æµå»ºè¡¨çæ¶åä¸éè¦åæ¡¶ãåæ¡¶ä¼å°æä»¶åæ£,ä¸ä¸ªæ¡¶ç¼å·ä¸ä¸ªæä»¶ãæ¥å¿æ¶éåå° Hive ä¸­å°±æ¯ä¸ºäºå®ç°æ°æ®èåï¼è§£å³å°æä»¶é®é¢ã\n\n-- æ¯å¦æ¯æå¹¶å\nSET hive.support.concurrency = true;\n-- åæ¡¶æ¯å¦è¢«å¼ºå¶æ§è¡\nSET hive.enforce.bucketing = true;\n-- éä¸¥æ ¼æ¨¡å¼\nSET hive.exec.dynamic.partition.mode = nonstrict;\nSET hive.txn.manager = org.apache.hadoop.hive.ql.lockmgr.DbTxnManager;\n-- æ¯å¦å¼å¯äºå¡æ§\nSET hive.compactor.initiator.on = true;\n\n-- å·¥ä½çº¿ç¨\nSET hive.compactor.worker.threads = 1;\n\n-- å»ºè¡¨\nCREATE TABLE <MY_HIVE_DB>.<MY_HIVE_TABLE>(\n  name string comment 'å§å'\n  age string comment 'å¹´é¾'\n  role string comment 'è§è²'\n)\n-- è¡¨æå¤æ³¨ \nCOMMENT 'ä½ å¥½,ä¸­å½'\n-- åå»ºååº\nPARTITIONED BY (\n    country STRING comment 'å½å®¶',\n    month STRING comment 'æä»½'\n)\n-- ORC æ¯æ\nSTORED AS ORC TBLPROPERTIES ('transactional'='true');\n\nCREATE TABLE flume_hive.flume_hive(name string comment 'å§å',age string comment 'å¹´é¾',role string comment 'è§è²')\nCOMMENT 'ä½ å¥½,ä¸­å½'\nPARTITIONED BY (country STRING comment 'å½å®¶',month STRING comment 'æä»½')\nSTORED AS ORC;\n\n\n 4. HDFS ç®å½æéä¿®æ¹ hadoop fs -chmod 777 -R /usr(æªæµè¯)\n 5. Flume å Hive ä¾èµå(ä¸è¯´/soft/hive/hcatalog/share/hcatalog/ä¸ææå)\n\ncalcite-core-1.16.0.3.0.0.0-1634.jar\nlibfb303-0.9.3.jar\nhive-hcatalog-core-3.1.0.3.0.0.0-1634.jar\nhadoop-mapreduce-client-core-3.1.0.3.0.0.0-1634.jar\nhive-exec-3.1.0.3.0.0.0-1634.jar\nhive-standalone-metastore-3.1.0.3.0.0.0-1634.jar\nhive-hcatalog-streaming-3.1.0.3.0.0.0-1634.jar\n\n\n 6. å¯å¨ Flume æå¡ flume-ng agent -c conf/ -f /soft/flume/conf/flume_hive.conf -n agent3 -Dflume.root.logger=INFO,console\n 7. è¶ç­æéï¼è®°å½èªå·±æ¥éçæèæ¹å\n\n * è¾å¥æä»¶æ ¼å¼å¿é¡»ä¸ºcsv æjson\n * è¾åºæ ¼å¼å¿é¡»ä¸ºorcæ ¼å¼\n * çæ¥å¿æä»¶(å ææ¶æ²¡æ¾å°)\n * ä¿®æ¹hive-siteéç½®æä»¶(æ°¸ä¹åæ°)\n * å»ºè¡¨æ¶å¿é¡»åæ¡¶ ååº orc (æåè®°å¾å ä¸)\n * flumeéç½®æä»¶sinkçéç½®(ç«¯å£å·9083 å¿é¡»æååº(partation)ï¼) æå¥½åèå®æ¹ææ¡£\n * channeléç½®(è¿æ¥ åå­) sourceçæ§æä»¶å¤¹\n * MySQLä¸hiveåæ°æ®(metastore)æå¥å¼ ç¶å commit;ï¼\n * å¯å¨æ¶hive (hive --service metastore -p 9083) hive --service hiveserver2\n * hiveå½ä»¤è¡è®¾ç½®ä¸´æ¶åæ°",normalizedContent:"# ä¸. å®è£(flume-ng)\n\n 1. ä¸è½½å®è£å apache-flume-1.9.0-bin.tar.gz\n 2. ä¸ä¼  è§£åå®è£ tar -zxvf apache-flume-1.9.0-bin.tar.gz\n 3. éå½å mv apache-flume-1.9.0-bin/ flume\n 4. éç½®ç¯å¢åé vim ~/.bashrc\n\n# flumeç¯å¢åé\nexport flume_home=/soft/flume\nexport path=$path:$flume_home/bin\n\n\nsource ~/.bashrc\n\n\n# å®è£ netcat å·¥å·\n\nå®è£:sudo yum install -y nc å¤æ­ 44444 ç«¯å£æ¯å¦è¢«å ç¨ sudo netstat -tunlp | grep 44444\n\n\n# äº. ä¿®æ¹éç½®æä»¶\n\n 1. flume-env.shæä»¶éç½®\n\n * å°${flume_home}/confä¸ï¼å¤å¶ä¸ä»½flume-env.shæä»¶ cp flume-env.sh.template flume-env.sh\n * ç¼è¾vim flume-env.sh\n\nexport java_home=/soft/jdk1.8.0_161\n\n\n * æµè¯ä¸flumeæ¯å¦è½å¤æ­£å¸¸è¿è¡ flume-ng version\n\n 2. flumeæå¡å¯å¨\n\n * åå»ºæä»¶å¤¹ mkdir logstodfs\n * æä»¬å¨confæä»¶å¤¹ä¸ï¼åå»ºä¸ä¸ªvim flume_hdfs.conf æ·»å åå®¹\n\n#source,channel,sinkï¼å®ä»¬åå«é½å¯ä»¥éç½®å¤ä»½ï¼æ¯å¦nä¸ªchannelånä¸ªsink\n#åéç½®åééï¼å®ä¹source,channel,sinkï¼å®ä»¬åå«é½å¯ä»¥éç½®å¤ä»½ï¼æ¯å¦nä¸ªchannelånä¸ªsink\n#agent1 æ¯è¯¥agentçåå­ï¼å¨å¯å¨çæ¶åéè¦æå®agentçåå­\nagent1.sources=source1\nagent1.channels=channel1\nagent1.sinks=sink1\n\n##############éç½®source###################\n#sourceçç±»å\nagent1.sources.source1.type=spooldir\n#spooldirç±»åçsourceçæ§çç®å½\nagent1.sources.source1.spooldir=/soft/flume/logstodfs\nagent1.sources.source1.fileheader=false\nagent1.sources.source1.channels=channel1\nagent1.sources.source1.interceptors=i1\nagent1.sources.source1.interceptors.i1.type=timestamp\n#0.0.0.0è¡¨ç¤ºæ¬æº\n#agent1.sources.source1.bind=0.0.0.0\n#ä½¿ç¨çç«¯å£\n#agent1.sources.source1.port=44445\n#æå®channelç±»å\nagent1.channels.channel1.type=file\n#file channle checkpointæä»¶çè·¯å¾\nagent1.channels.channel1.checkpointdir=/soft/flume/tmp/point\n# file channel dataæä»¶çè·¯å¾\nagent1.channels.channel1.datadirs=/soft/flume/tmp\n\n#æå®sinkç±»å\nagent1.sinks.sink1.type=hdfs\nagent1.sinks.sink1.hdfs.path=hdfs://hadoop1:9000/flume\nagent1.sinks.sink1.hdfs.filetype=datastream\nagent1.sinks.sink1.hdfs.writeformat=text\n#å¤ä¹çææ°çæä»¶\nagent1.sinks.sink1.hdfs.rollinterval=5\nagent1.sinks.sink1.hdfs.rollsize=1000\nagent1.sinks.sink1.hdfs.rollcount=0\nagent1.sinks.sink1.hdfs.fileprefix=%y-%m-%d\nagent1.sinks.sink1.hdfs.filesuffix=.txt\n\nagent1.sinks.sink1.channel = channel1\n\n\n * å¯å¨æå¡ flume-ng agent -c /soft/flume/conf -f /soft/flume/conf/flume_hdfs.conf -n agent1 -dflume.root.logger=info,console å\n\nflume-ng agent -c $flume_home/conf/\n -f  $flume_home/conf/flume_hdfs.conf \n-n agent1\n-dflume.root.logger=info,console\n\n\nå¶ä¸­flume-ng agentä¸ºåºå®åæ³ -cæå®flume-env.shæä»¶æå¨ç®å½ -fæå®flume-hdfs.confæä»¶æå¨ä½ç½® -næå®è¦å¯å¨çagentåç§°ï¼æä»¬å¨éç½®æä»¶ä¸­éç½®çåç§°ä¸ºagent1 -dflume.root.loggerä»£è¡¨æ¥å¿æå°å°æ§å¶å° å½ç¶æä»¬ä¹å¯ä»¥ä½¿ç¨nohupå½ä»¤åå°æèµ·ç¨åº\n\n\n# ä¸. æ°æ®éé\n\n * æå¼å¦ä¸ä¸ªç»ç«¯\n * å°æä¸ªæä»¶ï¼å®éªé¶æ®µå»ºè®®ä¸è¦å¤ªå¤§ï¼ç§»å¨æå¤å¶å°${flume_home}/logstohdfsç®å½ä¸ï¼é£ä¹flumeå°±ä¼èªå¨è¯»åè¯¥æä»¶çæ°æ®å¹¶ä¸ä¼ å°hdfs cp /soft/datas/short-student-utf8_classno1.txt /soft/flume/logstodfs/\n * æ¥çç¬¬ä¸ä¸ªç»ç«¯çªå£(æ¾ç¤ºä¿¡æ¯)\n * æåæä»¬å¯ä»¥å»hdfsç³»ç»æ¥çæä»¬ééå°çæ°æ®æä»¶\n\n\n# å. æ°æ®å¯¼å¥å°hbaseä¸­\n\n * æjaråå¤å¶æ¿æ¢å°/opt/flume/libç®å½ä¸é¢\n\n/soft/hive/lib\nhbase-protocol-1.1.1.jar\nhbase-client-1.1.1.jar\nhbase-common-1.1.1.jar \nhbase-server-1.1.1.jar\nhbase-hadoop2-compat-1.1.1.jar \nhbase-hadoop-compat-1.1.1.jar\nhtrace-core-3.1.0-incubating.jar\n\n\nå½ä»¤: cp /soft/hive/lib/{hbase-protocol-1.1.1.jar,hbase-client-1.1.1.jar,hbase-common-1.1.1.jar,hbase-server-1.1.1.jar,hbase-hadoop2-compat-1.1.1.jar,hbase-hadoop-compat-1.1.1.jar,htrace-core-3.1.0-incubating.jar} /soft/flume/lib\n\n * å¯å¨hbase,åå»ºè¡¨ hbase shell åå»ºè¡¨ create \"flume_hbase\",\"info\"\n * åéç½®æä»¶ flume_hbase.conf\n * å¯å¨æå¡ flume-ng agent --conf-file /soft/flume/conf/flume-hbase.conf -n agent2 -dflume.root.logger=info,console\n * çææ°æ®: echo \"hello flume\">>/soft/flume/tmp/datas/flume_hbase.txt echo \"hello hbase\">>/soft/flume/tmp/datas/flume_hbase.txt\n\n\n# äº. æ°æ®å¯¼å¥å°hiveä¸­\n\n 1. åéç½®æä»¶ flume_hive.conf\n 2. flume ç«¯æå¡å¨ hosts éç½®æä»¶ä¿®æ¹(ä¸æ´å¯å¦???)\n\nvim /etc/hosts\n\n# mycluster æ¯ä½ çéç¾¤åç§°ï¼hdfs://mycluster/hellowold éå¸¸ç¨äº hdfs namenode ha æ¨¡å¼ä¸ä¼ç¨å°è¿ä¸ªå°å\n192.168.1.1 node1.hadoop.com mycluster\n192.168.1.2 ndoe2.hadoop.com mycluster\n192.168.1.3 node3.hadoop.com\n\n\n 3. hive å»ºè¡¨\n\n * éè¦å¼å¯çç­ç¥ - orc æ ¼å¼å­å¨ - åæ¡¶ - æ¯æäºå¡æ§ - æ¾å¼å£°æ transtions(ä¹å¯ä»¥ä¿®æ¹éç½®æä»¶hive-site.xml) å®æµå»ºè¡¨çæ¶åä¸éè¦åæ¡¶ãåæ¡¶ä¼å°æä»¶åæ£,ä¸ä¸ªæ¡¶ç¼å·ä¸ä¸ªæä»¶ãæ¥å¿æ¶éåå° hive ä¸­å°±æ¯ä¸ºäºå®ç°æ°æ®èåï¼è§£å³å°æä»¶é®é¢ã\n\n-- æ¯å¦æ¯æå¹¶å\nset hive.support.concurrency = true;\n-- åæ¡¶æ¯å¦è¢«å¼ºå¶æ§è¡\nset hive.enforce.bucketing = true;\n-- éä¸¥æ ¼æ¨¡å¼\nset hive.exec.dynamic.partition.mode = nonstrict;\nset hive.txn.manager = org.apache.hadoop.hive.ql.lockmgr.dbtxnmanager;\n-- æ¯å¦å¼å¯äºå¡æ§\nset hive.compactor.initiator.on = true;\n\n-- å·¥ä½çº¿ç¨\nset hive.compactor.worker.threads = 1;\n\n-- å»ºè¡¨\ncreate table <my_hive_db>.<my_hive_table>(\n  name string comment 'å§å'\n  age string comment 'å¹´é¾'\n  role string comment 'è§è²'\n)\n-- è¡¨æå¤æ³¨ \ncomment 'ä½ å¥½,ä¸­å½'\n-- åå»ºååº\npartitioned by (\n    country string comment 'å½å®¶',\n    month string comment 'æä»½'\n)\n-- orc æ¯æ\nstored as orc tblproperties ('transactional'='true');\n\ncreate table flume_hive.flume_hive(name string comment 'å§å',age string comment 'å¹´é¾',role string comment 'è§è²')\ncomment 'ä½ å¥½,ä¸­å½'\npartitioned by (country string comment 'å½å®¶',month string comment 'æä»½')\nstored as orc;\n\n\n 4. hdfs ç®å½æéä¿®æ¹ hadoop fs -chmod 777 -r /usr(æªæµè¯)\n 5. flume å hive ä¾èµå(ä¸è¯´/soft/hive/hcatalog/share/hcatalog/ä¸ææå)\n\ncalcite-core-1.16.0.3.0.0.0-1634.jar\nlibfb303-0.9.3.jar\nhive-hcatalog-core-3.1.0.3.0.0.0-1634.jar\nhadoop-mapreduce-client-core-3.1.0.3.0.0.0-1634.jar\nhive-exec-3.1.0.3.0.0.0-1634.jar\nhive-standalone-metastore-3.1.0.3.0.0.0-1634.jar\nhive-hcatalog-streaming-3.1.0.3.0.0.0-1634.jar\n\n\n 6. å¯å¨ flume æå¡ flume-ng agent -c conf/ -f /soft/flume/conf/flume_hive.conf -n agent3 -dflume.root.logger=info,console\n 7. è¶ç­æéï¼è®°å½èªå·±æ¥éçæèæ¹å\n\n * è¾å¥æä»¶æ ¼å¼å¿é¡»ä¸ºcsv æjson\n * è¾åºæ ¼å¼å¿é¡»ä¸ºorcæ ¼å¼\n * çæ¥å¿æä»¶(å ææ¶æ²¡æ¾å°)\n * ä¿®æ¹hive-siteéç½®æä»¶(æ°¸ä¹åæ°)\n * å»ºè¡¨æ¶å¿é¡»åæ¡¶ ååº orc (æåè®°å¾å ä¸)\n * flumeéç½®æä»¶sinkçéç½®(ç«¯å£å·9083 å¿é¡»æååº(partation)ï¼) æå¥½åèå®æ¹ææ¡£\n * channeléç½®(è¿æ¥ åå­) sourceçæ§æä»¶å¤¹\n * mysqlä¸hiveåæ°æ®(metastore)æå¥å¼ ç¶å commit;ï¼\n * å¯å¨æ¶hive (hive --service metastore -p 9083) hive --service hiveserver2\n * hiveå½ä»¤è¡è®¾ç½®ä¸´æ¶åæ°",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Flumeé«å¯ç¨éç¾¤å®è£",frontmatter:{title:"Flumeé«å¯ç¨éç¾¤å®è£",date:"2022-03-02T20:44:13.000Z",permalink:"/pages/0376ec/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/10.Flume/02.Flume%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85.html",relativePath:"02.å¤§æ°æ®/10.Flume/02.Flumeé«å¯ç¨éç¾¤å®è£.md",key:"v-db83fd4c",path:"/pages/0376ec/",headers:[{level:3,title:"1. agentéç½®",slug:"_1-agentéç½®",normalizedTitle:"1. agentéç½®",charIndex:271},{level:3,title:"2. collectoréç½®",slug:"_2-collectoréç½®",normalizedTitle:"2. collectoréç½®",charIndex:1613},{level:3,title:"3. åå¯å¨ææserverï¼åå¯å¨ææclientï¼å¦åä¼æ¥éã",slug:"_3-åå¯å¨ææserver-åå¯å¨ææclient-å¦åä¼æ¥éã",normalizedTitle:"3. åå¯å¨ææserverï¼åå¯å¨ææclientï¼å¦åä¼æ¥éã",charIndex:2923},{level:3,title:"4. æµè¯é«å¯ç¨åè½",slug:"_4-æµè¯é«å¯ç¨åè½",normalizedTitle:"4. æµè¯é«å¯ç¨åè½",charIndex:3614},{level:3,title:"éè¯¯: éç½®æä»¶æ²¡åå¯¹",slug:"éè¯¯-éç½®æä»¶æ²¡åå¯¹",normalizedTitle:"éè¯¯: éç½®æä»¶æ²¡åå¯¹",charIndex:3822}],headersStr:"1. agentéç½® 2. collectoréç½® 3. åå¯å¨ææserverï¼åå¯å¨ææclientï¼å¦åä¼æ¥éã 4. æµè¯é«å¯ç¨åè½ éè¯¯: éç½®æä»¶æ²¡åå¯¹",content:'Flume NG: Flume next generation, å³flume 1.xçæ¬ å¤ä¸ªagentè¿æ¥å°ä¸ä¸ªagent,æ­¤agentä¹å°±ç¸å½äºcollector,æ¯æè´è½½åè¡¡\n\néç¾¤æ¶æ\n\nè§è²           ä¸»æºå         IP\ncollector1   hadoop100   8.8.8.100\ncollector2   hadoop101   8.8.8.101\nagent        hadoop102   8.8.8.102\nagent        hadoop103   8.8.8.103\n\n\n# 1. agentéç½®\n\nä¸¤å°agentä¸ææéç½®ç¸å\n\n#agent1 name\nagent1.channels = channel1\nagent1.sources = source1\nagent1.sinks = sink1 sink2\n#set gruop\nagent1.sinkgroups = sinkgroup1\n#set channel\nagent1.channels.channel1.type = memory\nagent1.channels.channel1.capacity = 1000\nagent1.channels.channel1.transactionCapacity = 100\nagent1.sources.source1.channels = channel1\nagent1.sources.source1.type = exec\nagent1.sources.source1.command = tail -F /soft/module/flume/logstestfile/test.txt\nagent1.sources.source1.interceptors = i1 i2\nagent1.sources.source1.interceptors.i1.type = static\nagent1.sources.source1.interceptors.i1.key = Type\nagent1.sources.source1.interceptors.i1.value = LOGIN\nagent1.sources.source1.interceptors.i2.type = timestamp\n# set sink1\nagent1.sinks.sink1.channel = channel1\nagent1.sinks.sink1.type = avro\nagent1.sinks.sink1.hostname = hadoop100\nagent1.sinks.sink1.port = 52020\n# set sink2\nagent1.sinks.sink2.channel = channel1\nagent1.sinks.sink2.type = avro\nagent1.sinks.sink2.hostname = hadoop101\nagent1.sinks.sink2.port = 52020\n#set sink group\nagent1.sinkgroups.sinkgroup1.sinks = sink1 sink2\n#set failover\nagent1.sinkgroups.sinkgroup1.processor.type = failover\nagent1.sinkgroups.sinkgroup1.processor.priority.sink1 = 10\nagent1.sinkgroups.sinkgroup1.processor.priority.sink2 = 1\nagent1.sinkgroups.sinkgroup1.processor.maxpenalty = 10000\n\n\n\n# 2. collectoréç½®\n\nå¨ä¸¤å°collectorä¸æä½ï¼é¤äºä¿®æ¹hostnameï¼å¶ä»éç½®é¡¹ç¸å\n\n#set Agent name\nagent2.sources = source1\nagent2.channels = channel1\nagent2.sinks = sink1\n\n#set channel\nagent2.channels.channel1.type = memory\nagent2.channels.channel1.capacity = 1000\nagent2.channels.channel1.transactionCapacity = 100\n\n# other node,nna to nns\nagent2.sources.source1.type = avro\nagent2.sources.source1.bind = hadoop100   #æ­¤å¤ä¿®æ¹\nagent2.sources.source1.port = 52020\n#å¢å æ¦æªå¨ ææevents,å¢å å¤´,ç±»ä¼¼jsonæ ¼å¼éç"headers":{" key":" value"}\nagent2.sources.source1.interceptors = i1\nagent2.sources.source1.interceptors.i1.type = static\nagent2.sources.source1.interceptors.i1.key = Collector\nagent2.sources.source1.interceptors.i1.value = hadoop100  #æ­¤å¤ä¿®æ¹\nagent2.sources.source1.channels = channel1\n#set sink to hdfs\n#agent2.sinks.sink1.type=logger\n#æå®sinkç±»å\nagent2.sinks.sink1.type=hdfs\nagent2.sinks.sink1.hdfs.path=hdfs://mycluster/flume\nagent2.sinks.sink1.hdfs.fileType=DataStream\nagent2.sinks.sink1.hdfs.writeFormat=TEXT\n#å¤ä¹çææ°çæä»¶\nagent2.sinks.sink1.hdfs.rollInterval=5\nagent2.sinks.sink1.hdfs.rollSize=1000\nagent2.sinks.sink1.hdfs.rollCount=0\n#agent2.sinks.sink1.hdfs.rollCount=1\nagent2.sinks.sink1.hdfs.filePrefix=%Y-%m-%d\n#agent2.sinks.sink1.hdfs.filePrefix=%Y-%m-%d/%H%M/%S\nagent2.sinks.sink1.hdfs.fileSuffix=.txt\nagent2.sinks.sink1.channel=channel1\n\n\n\n# 3. åå¯å¨ææserverï¼åå¯å¨ææclientï¼å¦åä¼æ¥éã\n\n[root@slave1] /usr/local/flume/conf$ ../bin/flume-ng agent -n agent1 -c ../conf -f flume-client.conf -Dflume.root.logger=DEBUG,console flume-ng agent --conf conf --conf-file /soft/module/flume/conf/flumeHA_server.conf --name agent1 -Dflume.root.logger=INFO,console > /soft/module/flume/logs/flumeHA_server.log 2>&1 &\n\n[root@slave3] /usr/local/flume/conf$ ../bin/flume-ng agent --conf ../conf --conf-file flume-server.conf --name agent2 -Dflume.root.logger=INFO,console flume-ng agent --conf conf --conf-file /soft/module/flume/conf/flumeHA_client.conf --name agent2 -Dflume.root.logger=DEBUG,console > /soft/module/flume/logs/flumeHA_client.log 2>&1 &\n\n\n# 4. æµè¯é«å¯ç¨åè½\n\n 1. agent1ä¸åå»ºæºæ¶æ¯ echo "hello failover" >> test.txt\n 2. ç±äºcollector1çpriorityé«ï¼æä»¥ä¼æ¶å°ï¼ècollector2ä¸ä¼ï¼æ¥çæ§å¶å°ä¿¡æ¯\n 3. åæ­¢collector1ï¼å¨agent1ä¸åå»ºæºæ¶æ¯ echo "hello failover1" >> test.txt\n 4. æ¥çcollector2æ§å¶å°\n\n\n# éè¯¯: éç½®æä»¶æ²¡åå¯¹\n\nerror1: å ä¸ºç½ä¸çéç½®æä»¶ä¸å¨,æä»¥sinké¨åæ¯ä»ä¹åçéç½®æä»¶æ·ç, agentçåå­å¿è®°æ¹äº,æä»¥å¼èµ·äºå¼å¸¸,ä¿®æ¹ä¹åéå¯äºå æ¬¡æå¡,å°±å¥½ä½¿äº',normalizedContent:'flume ng: flume next generation, å³flume 1.xçæ¬ å¤ä¸ªagentè¿æ¥å°ä¸ä¸ªagent,æ­¤agentä¹å°±ç¸å½äºcollector,æ¯æè´è½½åè¡¡\n\néç¾¤æ¶æ\n\nè§è²           ä¸»æºå         ip\ncollector1   hadoop100   8.8.8.100\ncollector2   hadoop101   8.8.8.101\nagent        hadoop102   8.8.8.102\nagent        hadoop103   8.8.8.103\n\n\n# 1. agentéç½®\n\nä¸¤å°agentä¸ææéç½®ç¸å\n\n#agent1 name\nagent1.channels = channel1\nagent1.sources = source1\nagent1.sinks = sink1 sink2\n#set gruop\nagent1.sinkgroups = sinkgroup1\n#set channel\nagent1.channels.channel1.type = memory\nagent1.channels.channel1.capacity = 1000\nagent1.channels.channel1.transactioncapacity = 100\nagent1.sources.source1.channels = channel1\nagent1.sources.source1.type = exec\nagent1.sources.source1.command = tail -f /soft/module/flume/logstestfile/test.txt\nagent1.sources.source1.interceptors = i1 i2\nagent1.sources.source1.interceptors.i1.type = static\nagent1.sources.source1.interceptors.i1.key = type\nagent1.sources.source1.interceptors.i1.value = login\nagent1.sources.source1.interceptors.i2.type = timestamp\n# set sink1\nagent1.sinks.sink1.channel = channel1\nagent1.sinks.sink1.type = avro\nagent1.sinks.sink1.hostname = hadoop100\nagent1.sinks.sink1.port = 52020\n# set sink2\nagent1.sinks.sink2.channel = channel1\nagent1.sinks.sink2.type = avro\nagent1.sinks.sink2.hostname = hadoop101\nagent1.sinks.sink2.port = 52020\n#set sink group\nagent1.sinkgroups.sinkgroup1.sinks = sink1 sink2\n#set failover\nagent1.sinkgroups.sinkgroup1.processor.type = failover\nagent1.sinkgroups.sinkgroup1.processor.priority.sink1 = 10\nagent1.sinkgroups.sinkgroup1.processor.priority.sink2 = 1\nagent1.sinkgroups.sinkgroup1.processor.maxpenalty = 10000\n\n\n\n# 2. collectoréç½®\n\nå¨ä¸¤å°collectorä¸æä½ï¼é¤äºä¿®æ¹hostnameï¼å¶ä»éç½®é¡¹ç¸å\n\n#set agent name\nagent2.sources = source1\nagent2.channels = channel1\nagent2.sinks = sink1\n\n#set channel\nagent2.channels.channel1.type = memory\nagent2.channels.channel1.capacity = 1000\nagent2.channels.channel1.transactioncapacity = 100\n\n# other node,nna to nns\nagent2.sources.source1.type = avro\nagent2.sources.source1.bind = hadoop100   #æ­¤å¤ä¿®æ¹\nagent2.sources.source1.port = 52020\n#å¢å æ¦æªå¨ ææevents,å¢å å¤´,ç±»ä¼¼jsonæ ¼å¼éç"headers":{" key":" value"}\nagent2.sources.source1.interceptors = i1\nagent2.sources.source1.interceptors.i1.type = static\nagent2.sources.source1.interceptors.i1.key = collector\nagent2.sources.source1.interceptors.i1.value = hadoop100  #æ­¤å¤ä¿®æ¹\nagent2.sources.source1.channels = channel1\n#set sink to hdfs\n#agent2.sinks.sink1.type=logger\n#æå®sinkç±»å\nagent2.sinks.sink1.type=hdfs\nagent2.sinks.sink1.hdfs.path=hdfs://mycluster/flume\nagent2.sinks.sink1.hdfs.filetype=datastream\nagent2.sinks.sink1.hdfs.writeformat=text\n#å¤ä¹çææ°çæä»¶\nagent2.sinks.sink1.hdfs.rollinterval=5\nagent2.sinks.sink1.hdfs.rollsize=1000\nagent2.sinks.sink1.hdfs.rollcount=0\n#agent2.sinks.sink1.hdfs.rollcount=1\nagent2.sinks.sink1.hdfs.fileprefix=%y-%m-%d\n#agent2.sinks.sink1.hdfs.fileprefix=%y-%m-%d/%h%m/%s\nagent2.sinks.sink1.hdfs.filesuffix=.txt\nagent2.sinks.sink1.channel=channel1\n\n\n\n# 3. åå¯å¨ææserverï¼åå¯å¨ææclientï¼å¦åä¼æ¥éã\n\n[root@slave1] /usr/local/flume/conf$ ../bin/flume-ng agent -n agent1 -c ../conf -f flume-client.conf -dflume.root.logger=debug,console flume-ng agent --conf conf --conf-file /soft/module/flume/conf/flumeha_server.conf --name agent1 -dflume.root.logger=info,console > /soft/module/flume/logs/flumeha_server.log 2>&1 &\n\n[root@slave3] /usr/local/flume/conf$ ../bin/flume-ng agent --conf ../conf --conf-file flume-server.conf --name agent2 -dflume.root.logger=info,console flume-ng agent --conf conf --conf-file /soft/module/flume/conf/flumeha_client.conf --name agent2 -dflume.root.logger=debug,console > /soft/module/flume/logs/flumeha_client.log 2>&1 &\n\n\n# 4. æµè¯é«å¯ç¨åè½\n\n 1. agent1ä¸åå»ºæºæ¶æ¯ echo "hello failover" >> test.txt\n 2. ç±äºcollector1çpriorityé«ï¼æä»¥ä¼æ¶å°ï¼ècollector2ä¸ä¼ï¼æ¥çæ§å¶å°ä¿¡æ¯\n 3. åæ­¢collector1ï¼å¨agent1ä¸åå»ºæºæ¶æ¯ echo "hello failover1" >> test.txt\n 4. æ¥çcollector2æ§å¶å°\n\n\n# éè¯¯: éç½®æä»¶æ²¡åå¯¹\n\nerror1: å ä¸ºç½ä¸çéç½®æä»¶ä¸å¨,æä»¥sinké¨åæ¯ä»ä¹åçéç½®æä»¶æ·ç, agentçåå­å¿è®°æ¹äº,æä»¥å¼èµ·äºå¼å¸¸,ä¿®æ¹ä¹åéå¯äºå æ¬¡æå¡,å°±å¥½ä½¿äº',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼",frontmatter:{title:"Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼",date:"2022-03-11T13:37:13.000Z",permalink:"/pages/eeda49/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/10.Flume/04.Flume%E6%8A%8A%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5hive%EF%BC%88%E6%96%87%E4%BB%B6%E6%96%B9%E5%BC%8F%EF%BC%89.html",relativePath:"02.å¤§æ°æ®/10.Flume/04.Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼.md",key:"v-51040124",path:"/pages/eeda49/",headers:[{level:2,title:"1. éç½®è¡¨æ¯æäºå¡",slug:"_1-éç½®è¡¨æ¯æäºå¡",normalizedTitle:"1. éç½®è¡¨æ¯æäºå¡",charIndex:2},{level:2,title:"2. çæ¬é®é¢å¯¼jarå",slug:"_2-çæ¬é®é¢å¯¼jarå",normalizedTitle:"2. çæ¬é®é¢å¯¼jarå",charIndex:747},{level:2,title:"3. copyhiveæä»¶(è¿æ­¥å¥½åä¸å¿è¦ç??)",slug:"_3-copyhiveæä»¶-è¿æ­¥å¥½åä¸å¿è¦ç",normalizedTitle:"3. copyhiveæä»¶(è¿æ­¥å¥½åä¸å¿è¦ç??)",charIndex:829},{level:2,title:"4. ä¿®æ¹hdfsç®å½æé(è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç)",slug:"_4-ä¿®æ¹hdfsç®å½æé-è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç",normalizedTitle:"4. ä¿®æ¹hdfsç®å½æé(è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç)",charIndex:902},{level:2,title:"5.å»ºè¡¨",slug:"_5-å»ºè¡¨",normalizedTitle:"5.å»ºè¡¨",charIndex:984},{level:2,title:"6.éç½®flumeçéç½®æä»¶",slug:"_6-éç½®flumeçéç½®æä»¶",normalizedTitle:"6.éç½®flumeçéç½®æä»¶",charIndex:1233},{level:2,title:"7.å¯å¨",slug:"_7-å¯å¨",normalizedTitle:"7.å¯å¨",charIndex:2587},{level:2,title:"æ°æ®åå®¹",slug:"æ°æ®åå®¹",normalizedTitle:"æ°æ®åå®¹",charIndex:2723}],headersStr:"1. éç½®è¡¨æ¯æäºå¡ 2. çæ¬é®é¢å¯¼jarå 3. copyhiveæä»¶(è¿æ­¥å¥½åä¸å¿è¦ç??) 4. ä¿®æ¹hdfsç®å½æé(è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç) 5.å»ºè¡¨ 6.éç½®flumeçéç½®æä»¶ 7.å¯å¨ æ°æ®åå®¹",content:"# 1. éç½®è¡¨æ¯æäºå¡\n\n * (1)æ¹éç½®æä»¶hive-site.xml æè ä¸´æ¶è®¾ç½®åæ° å½ä»¤è¡\n\n<property>\n    <name>hive.support.concurrency</name>\n    <value>true</value>\n</property>\n<property>\n    <name>hive.exec.dynamic.partition.mode</name>\n    <value>nonstrict</value>\n</property>\n<property>\n    <name>hive.txn.manager</name>\n    <value>org.apache.hadoop.hive.ql.lockmgr.DbTxnManager</value>\n</property>\n<property>\n    <name>hive.compactor.initiator.on</name>\n    <value>true</value>\n</property>\n<property>\n    <name>hive.compactor.worker.threads</name>\n    <value>1</value>\n    \x3c!--è¿éççº¿ç¨æ°å¿é¡»å¤§äº0 :çæ³ç¶æååæ¡¶æ°ä¸è´--\x3e\n</property>\n<property>\n    <name>hive.enforce.bucketing</name>\n    <value>true</value>\n</property>\n\n\n * (2)å»ºè¡¨æ¶ ååº åæ¡¶ stored as orc tblproperties('transactional'='true')\n\n\n# 2. çæ¬é®é¢å¯¼jarå\n\næ${HIVE_HOME}/hcatalog/share/hcatalogä¸çææåï¼æ·è´å¥${FLUME_HOME}/lib\n\n\n# 3. copyhiveæä»¶(è¿æ­¥å¥½åä¸å¿è¦ç??)\n\nå°hive.xmlåhive-env.shæ¾å°${HIVE_HOME}/confä¸\n\n\n# 4. ä¿®æ¹hdfsç®å½æé(è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç)\n\nhadoop fs -chmod 777/tmp/hive chmod 777 /tmp/hive\n\n\n# 5.å»ºè¡¨\n\næ­£ç¡®çå»ºè¡¨å®ä¾\n\ncreate table flume_hive.flume_hive(nid int,name string,phone string)\npartitioned by(time string)\nclustered by(nid) into 3 buckets\nrow format delimited fields terminated by ','\nstored as orc tblproperties('transactional'='true');\n\n\n\n# 6.éç½®flumeçéç½®æä»¶\n\néç½®æä»¶flume_hive.cnof\n\n#å®ä¹agentåï¼ sourceãchannelãsinkçåç§°\nagent3.sources = source3\nagent3.channels = channel3\nagent3.sinks = sink3\n#å·ä½å®ä¹source\nagent3.sources.source3.type = spooldir\nagent3.sources.source3.spoolDir = /soft/flume/logstohive\nagent3.sources.source3.fileHeader=false\n#å®ä¹æ¦æªå¨ï¼ä¸ºæ¶æ¯æ·»å æ¶é´æ³\nagent3.sources.source3.interceptors = i1\nagent3.sources.source3.interceptors.i1.type=timestamp\n\n#è®¾ç½®channelç±»åä¸ºç£ç\nagent3.channels.channel3.type = file\n#file channle checkpointæä»¶çè·¯å¾\nagent3.channels.channel3.checkpointDir=/soft/flume/tmp/point\n# file channel dataæä»¶çè·¯å¾\nagent3.channels.channel3.dataDirs=/soft/flume/tmp\n\n#å·ä½å®ä¹sink\nagent3.sinks.sink3.type = hive\nagent3.sinks.sink3.hive.metastore = thrift://hadoop1:9083\nagent3.sinks.sink3.hive.database = flume_hive\nagent3.sinks.sink3.hive.table = flume_hive\nagent3.sinks.sink3.hive.partition = %y-%m-%d-%H-%M\nagent3.sinks.sink3.useLocalTimeStamp = false\nagent3.sinks.sink3.round = true\nagent3.sinks.sink3.roundValue = 10\nagent3.sinks.sink3.roundUnit = minute\nagent3.sinks.sink3.serializer = DELIMITED\nagent3.sinks.sink3.serializer.delimiter = \",\"\nagent3.sinks.sink3.serializer.serdeSeparator = ','\nagent3.sinks.sink3.serializer.fieldnames = nid,name,phone\nagent3.sinks.sink3.batchSize = 90\n\n#ç»è£sourceãchannelãsink\nagent3.sources.source3.channels = channel3\nagent3.sinks.sink3.channel = channel3\n\n\n\n# 7.å¯å¨\n\n * åå¯å¨hive hive hive --service metastore -p 9083(è¿ä¸ªç«¯å£å·è¦éç½®å°flumeæä»¶ä¸­,å¯ç¨netstat -tulpn | grep 9083æ¥çç«¯å£æ¯å¦çå¬)\n * ç¶åå¯å¨flume\n * æ·è´æä»¶\n\n\n# æ°æ®åå®¹\n\n[root@hadoop1 flume]# cat flume_hive.csv \n1001,aaa,12312453359,\n1002,bbb,12678723873,\n1003,ccc,12736732989,\n1004,ddd,12327836839,\n1005,eee,23728179728,\n1006,fff,12387623878,\n[root@hadoop1 flume]# cat flume_hive1.csv \n1007,aaa,12312453359,\n1008,bbb,12678723873,\n1009,ccc,12736732989,\n1010,ddd,12327836839,\n1011,eee,23728179728,\n1012,fff,12387623878,\n",normalizedContent:"# 1. éç½®è¡¨æ¯æäºå¡\n\n * (1)æ¹éç½®æä»¶hive-site.xml æè ä¸´æ¶è®¾ç½®åæ° å½ä»¤è¡\n\n<property>\n    <name>hive.support.concurrency</name>\n    <value>true</value>\n</property>\n<property>\n    <name>hive.exec.dynamic.partition.mode</name>\n    <value>nonstrict</value>\n</property>\n<property>\n    <name>hive.txn.manager</name>\n    <value>org.apache.hadoop.hive.ql.lockmgr.dbtxnmanager</value>\n</property>\n<property>\n    <name>hive.compactor.initiator.on</name>\n    <value>true</value>\n</property>\n<property>\n    <name>hive.compactor.worker.threads</name>\n    <value>1</value>\n    \x3c!--è¿éççº¿ç¨æ°å¿é¡»å¤§äº0 :çæ³ç¶æååæ¡¶æ°ä¸è´--\x3e\n</property>\n<property>\n    <name>hive.enforce.bucketing</name>\n    <value>true</value>\n</property>\n\n\n * (2)å»ºè¡¨æ¶ ååº åæ¡¶ stored as orc tblproperties('transactional'='true')\n\n\n# 2. çæ¬é®é¢å¯¼jarå\n\næ${hive_home}/hcatalog/share/hcatalogä¸çææåï¼æ·è´å¥${flume_home}/lib\n\n\n# 3. copyhiveæä»¶(è¿æ­¥å¥½åä¸å¿è¦ç??)\n\nå°hive.xmlåhive-env.shæ¾å°${hive_home}/confä¸\n\n\n# 4. ä¿®æ¹hdfsç®å½æé(è¿æ­¥ä¸ç¥éæ¯ä¸æ¯å¿è¦ç)\n\nhadoop fs -chmod 777/tmp/hive chmod 777 /tmp/hive\n\n\n# 5.å»ºè¡¨\n\næ­£ç¡®çå»ºè¡¨å®ä¾\n\ncreate table flume_hive.flume_hive(nid int,name string,phone string)\npartitioned by(time string)\nclustered by(nid) into 3 buckets\nrow format delimited fields terminated by ','\nstored as orc tblproperties('transactional'='true');\n\n\n\n# 6.éç½®flumeçéç½®æä»¶\n\néç½®æä»¶flume_hive.cnof\n\n#å®ä¹agentåï¼ sourceãchannelãsinkçåç§°\nagent3.sources = source3\nagent3.channels = channel3\nagent3.sinks = sink3\n#å·ä½å®ä¹source\nagent3.sources.source3.type = spooldir\nagent3.sources.source3.spooldir = /soft/flume/logstohive\nagent3.sources.source3.fileheader=false\n#å®ä¹æ¦æªå¨ï¼ä¸ºæ¶æ¯æ·»å æ¶é´æ³\nagent3.sources.source3.interceptors = i1\nagent3.sources.source3.interceptors.i1.type=timestamp\n\n#è®¾ç½®channelç±»åä¸ºç£ç\nagent3.channels.channel3.type = file\n#file channle checkpointæä»¶çè·¯å¾\nagent3.channels.channel3.checkpointdir=/soft/flume/tmp/point\n# file channel dataæä»¶çè·¯å¾\nagent3.channels.channel3.datadirs=/soft/flume/tmp\n\n#å·ä½å®ä¹sink\nagent3.sinks.sink3.type = hive\nagent3.sinks.sink3.hive.metastore = thrift://hadoop1:9083\nagent3.sinks.sink3.hive.database = flume_hive\nagent3.sinks.sink3.hive.table = flume_hive\nagent3.sinks.sink3.hive.partition = %y-%m-%d-%h-%m\nagent3.sinks.sink3.uselocaltimestamp = false\nagent3.sinks.sink3.round = true\nagent3.sinks.sink3.roundvalue = 10\nagent3.sinks.sink3.roundunit = minute\nagent3.sinks.sink3.serializer = delimited\nagent3.sinks.sink3.serializer.delimiter = \",\"\nagent3.sinks.sink3.serializer.serdeseparator = ','\nagent3.sinks.sink3.serializer.fieldnames = nid,name,phone\nagent3.sinks.sink3.batchsize = 90\n\n#ç»è£sourceãchannelãsink\nagent3.sources.source3.channels = channel3\nagent3.sinks.sink3.channel = channel3\n\n\n\n# 7.å¯å¨\n\n * åå¯å¨hive hive hive --service metastore -p 9083(è¿ä¸ªç«¯å£å·è¦éç½®å°flumeæä»¶ä¸­,å¯ç¨netstat -tulpn | grep 9083æ¥çç«¯å£æ¯å¦çå¬)\n * ç¶åå¯å¨flume\n * æ·è´æä»¶\n\n\n# æ°æ®åå®¹\n\n[root@hadoop1 flume]# cat flume_hive.csv \n1001,aaa,12312453359,\n1002,bbb,12678723873,\n1003,ccc,12736732989,\n1004,ddd,12327836839,\n1005,eee,23728179728,\n1006,fff,12387623878,\n[root@hadoop1 flume]# cat flume_hive1.csv \n1007,aaa,12312453359,\n1008,bbb,12678723873,\n1009,ccc,12736732989,\n1010,ddd,12327836839,\n1011,eee,23728179728,\n1012,fff,12387623878,\n",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Sqoopå®è£éç½®",frontmatter:{title:"Sqoopå®è£éç½®",date:"2022-03-02T20:52:32.000Z",permalink:"/pages/60b3d7/",categories:["å¤§æ°æ®","æ°æ®éæå·¥å·"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/11.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7/01.Sqoop%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html",relativePath:"02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/01.Sqoopå®è£éç½®.md",key:"v-d4ddf460",path:"/pages/60b3d7/",headers:[{level:3,title:"1. ä¸è½½è§£å",slug:"_1-ä¸è½½è§£å",normalizedTitle:"1. ä¸è½½è§£å",charIndex:44},{level:3,title:"2.ä¿®æ¹éç½®æä»¶",slug:"_2-ä¿®æ¹éç½®æä»¶",normalizedTitle:"2.ä¿®æ¹éç½®æä»¶",charIndex:220},{level:3,title:"3.éªè¯åä½¿ç¨",slug:"_3-éªè¯åä½¿ç¨",normalizedTitle:"3.éªè¯åä½¿ç¨",charIndex:978},{level:3,title:"éè¯¯:sqoop.Sqoop: Got exception running Sqoop: java.lang.RuntimeException: Could not load db driver class: com.mysql.jdbc.Driver",slug:"éè¯¯-sqoop-sqoop-got-exception-running-sqoop-java-lang-runtimeexception-could-not-load-db-driver-class-com-mysql-jdbc-driver",normalizedTitle:"éè¯¯:sqoop.sqoop: got exception running sqoop: java.lang.runtimeexception: could not load db driver class: com.mysql.jdbc.driver",charIndex:2043},{level:3,title:"æ³¨éææ²¡æä½¿ç¨çç»ä»¶(è§£å³å¯å¨æ¶çè­¦å)",slug:"æ³¨éææ²¡æä½¿ç¨çç»ä»¶-è§£å³å¯å¨æ¶çè­¦å",normalizedTitle:"æ³¨éææ²¡æä½¿ç¨çç»ä»¶(è§£å³å¯å¨æ¶çè­¦å)",charIndex:2204}],headersStr:"1. ä¸è½½è§£å 2.ä¿®æ¹éç½®æä»¶ 3.éªè¯åä½¿ç¨ éè¯¯:sqoop.Sqoop: Got exception running Sqoop: java.lang.RuntimeException: Could not load db driver class: com.mysql.jdbc.Driver æ³¨éææ²¡æä½¿ç¨çç»ä»¶(è§£å³å¯å¨æ¶çè­¦å)",content:'æ³¨ï¼sqoopåªéè¦å¨namenodeä¸å®è£å³å¯ çæ¬:Sqoop-1.4.7\n\n\n# 1. ä¸è½½è§£å\n\n * ä¸å®ç½ä¸è½½:sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz\n * ä¸ä¼ . è§£åtar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz -C /soft/module\n * éå½åmv sqoop-1.4.7.bin__hadoop-2.6.0 sqoop\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n * è¿å¥ç®å½cd /soft/module/sqoop/conf/ æ·è´éç½®æä»¶cp sqoop-env-template.sh sqoop-env.sh ä¿®æ¹éç½®æä»¶vim sqoop-env.sh\n\n#Set path to where bin/hadoop is available\nexport HADOOP_COMMON_HOME=/soft/module/hadoop-2.9.2\n\n#Set path to where hadoop-*-core.jar is available\nexport HADOOP_MAPRED_HOME=/soft/module/hadoop-2.9.2\n\n#set the path to where bin/hbase is available\nexport HBASE_HOME=/soft/module/hbase\n\n#Set the path to where bin/hive is available\nexport HIVE_HOME=/soft/module/hive\n\n#Set the path for where zookeper config dir is\nexport ZOOCFGDIR=/soft/module/zookeeper\nexport ZOOKEEPER_HOME=/soft/module/zookeeper\n\n\n * æ·è´jdbcé©±å¨ cp /soft/mysql-connector-java-5.1.48.jar /soft/sqoop/bin/ cp /soft/software/mysql-connector-java-5.1.48.jar /soft/module/sqoop/lib\n\n\n# 3.éªè¯åä½¿ç¨\n\n * éªè¯éç½®:./bin/sqoop help åºç°ä»¥ä¸\n\nAvailable commands:\n  codegen            Generate code to interact with database records\n  create-hive-table  Import a table definition into Hive\n  eval               Evaluate a SQL statement and display the results\n  export             Export an HDFS directory to a database table\n  help               List available commands\n  import             Import a table from a database to HDFS\n  import-all-tables  Import tables from a database to HDFS\n  import-mainframe   Import datasets from a mainframe server to HDFS\n  job                Work with saved jobs\n  list-databases     List available databases on a server\n  list-tables        List available tables in a database\n  merge              Merge results of incremental imports\n  metastore          Run a standalone Sqoop metastore\n  version            Display version information\n\n\n * æµè¯Sqoopæ¯å¦è½å¤æåè¿æ¥æ°æ®åº bin/sqoop list-databases --connect jdbc:mysql://hadoop1:3306/ --username root --password 123456789 åºç°ä»¥ä¸\n\ninformation_schema\nmetastore\nmysql\nperformance_schema\nsys\n\n\n\n# éè¯¯:sqoop.Sqoop: Got exception running Sqoop: java.lang.RuntimeException: Could not load db driver class: com.mysql.jdbc.Driver\n\n[SQOOP_HOME]/lib/ä¸ç¼ºå°mysqlé©±å¨å\n\n\n# æ³¨éææ²¡æä½¿ç¨çç»ä»¶(è§£å³å¯å¨æ¶çè­¦å)\n\nbin/config-sqoop\n\n#if [ ! -d "${HBASE_HOME}" ]; then\n#  echo "Warning: $HBASE_HOME does not exist! HBase imports will fail."\n#  echo \'Please set $HBASE_HOME to the root of your HBase installation.\'\n#fi\n\n# Moved to be a runtime check in sqoop.\n#if [ ! -d "${HCAT_HOME}" ]; then\n#  echo "Warning: $HCAT_HOME does not exist! HCatalog jobs will fail."\n#  echo \'Please set $HCAT_HOME to the root of your HCatalog installation.\'\n#fi\n\n#if [ ! -d "${ACCUMULO_HOME}" ]; then\n#  echo "Warning: $ACCUMULO_HOME does not exist! Accumulo imports will fail."\n#  echo \'Please set $ACCUMULO_HOME to the root of your Accumulo installation.\'\n#fi\n#if [ ! -d "${ZOOKEEPER_HOME}" ]; then\n#  echo "Warning: $ZOOKEEPER_HOME does not exist! Accumulo imports will fail."\n#  echo \'Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\'\n#fi\n',normalizedContent:'æ³¨ï¼sqoopåªéè¦å¨namenodeä¸å®è£å³å¯ çæ¬:sqoop-1.4.7\n\n\n# 1. ä¸è½½è§£å\n\n * ä¸å®ç½ä¸è½½:sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz\n * ä¸ä¼ . è§£åtar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz -c /soft/module\n * éå½åmv sqoop-1.4.7.bin__hadoop-2.6.0 sqoop\n\n\n# 2.ä¿®æ¹éç½®æä»¶\n\n * è¿å¥ç®å½cd /soft/module/sqoop/conf/ æ·è´éç½®æä»¶cp sqoop-env-template.sh sqoop-env.sh ä¿®æ¹éç½®æä»¶vim sqoop-env.sh\n\n#set path to where bin/hadoop is available\nexport hadoop_common_home=/soft/module/hadoop-2.9.2\n\n#set path to where hadoop-*-core.jar is available\nexport hadoop_mapred_home=/soft/module/hadoop-2.9.2\n\n#set the path to where bin/hbase is available\nexport hbase_home=/soft/module/hbase\n\n#set the path to where bin/hive is available\nexport hive_home=/soft/module/hive\n\n#set the path for where zookeper config dir is\nexport zoocfgdir=/soft/module/zookeeper\nexport zookeeper_home=/soft/module/zookeeper\n\n\n * æ·è´jdbcé©±å¨ cp /soft/mysql-connector-java-5.1.48.jar /soft/sqoop/bin/ cp /soft/software/mysql-connector-java-5.1.48.jar /soft/module/sqoop/lib\n\n\n# 3.éªè¯åä½¿ç¨\n\n * éªè¯éç½®:./bin/sqoop help åºç°ä»¥ä¸\n\navailable commands:\n  codegen            generate code to interact with database records\n  create-hive-table  import a table definition into hive\n  eval               evaluate a sql statement and display the results\n  export             export an hdfs directory to a database table\n  help               list available commands\n  import             import a table from a database to hdfs\n  import-all-tables  import tables from a database to hdfs\n  import-mainframe   import datasets from a mainframe server to hdfs\n  job                work with saved jobs\n  list-databases     list available databases on a server\n  list-tables        list available tables in a database\n  merge              merge results of incremental imports\n  metastore          run a standalone sqoop metastore\n  version            display version information\n\n\n * æµè¯sqoopæ¯å¦è½å¤æåè¿æ¥æ°æ®åº bin/sqoop list-databases --connect jdbc:mysql://hadoop1:3306/ --username root --password 123456789 åºç°ä»¥ä¸\n\ninformation_schema\nmetastore\nmysql\nperformance_schema\nsys\n\n\n\n# éè¯¯:sqoop.sqoop: got exception running sqoop: java.lang.runtimeexception: could not load db driver class: com.mysql.jdbc.driver\n\n[sqoop_home]/lib/ä¸ç¼ºå°mysqlé©±å¨å\n\n\n# æ³¨éææ²¡æä½¿ç¨çç»ä»¶(è§£å³å¯å¨æ¶çè­¦å)\n\nbin/config-sqoop\n\n#if [ ! -d "${hbase_home}" ]; then\n#  echo "warning: $hbase_home does not exist! hbase imports will fail."\n#  echo \'please set $hbase_home to the root of your hbase installation.\'\n#fi\n\n# moved to be a runtime check in sqoop.\n#if [ ! -d "${hcat_home}" ]; then\n#  echo "warning: $hcat_home does not exist! hcatalog jobs will fail."\n#  echo \'please set $hcat_home to the root of your hcatalog installation.\'\n#fi\n\n#if [ ! -d "${accumulo_home}" ]; then\n#  echo "warning: $accumulo_home does not exist! accumulo imports will fail."\n#  echo \'please set $accumulo_home to the root of your accumulo installation.\'\n#fi\n#if [ ! -d "${zookeeper_home}" ]; then\n#  echo "warning: $zookeeper_home does not exist! accumulo imports will fail."\n#  echo \'please set $zookeeper_home to the root of your zookeeper installation.\'\n#fi\n',charsets:{cjk:!0},lastUpdated:"2022/07/25, 17:21:50",lastUpdatedTimestamp:165874091e4},{title:"Sqoopä½¿ç¨",frontmatter:{title:"Sqoopä½¿ç¨",date:"2022-03-02T20:53:35.000Z",permalink:"/pages/40f7a3/",categories:["å¤§æ°æ®","æ°æ®éæå·¥å·"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/11.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7/02.Sqoop%E4%BD%BF%E7%94%A8.html",relativePath:"02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/02.Sqoopä½¿ç¨.md",key:"v-2c5956be",path:"/pages/40f7a3/",headers:[{level:2,title:"sql to hadoop",slug:"sql-to-hadoop",normalizedTitle:"sql to hadoop",charIndex:2},{level:2,title:"1.å¯¼å¥æ°æ®",slug:"_1-å¯¼å¥æ°æ®",normalizedTitle:"1.å¯¼å¥æ°æ®",charIndex:1485},{level:3,title:"å³ç³»åæ°æ®åº(RDBMS)å¯¼å¥å°HDFS",slug:"å³ç³»åæ°æ®åº-rdbms-å¯¼å¥å°hdfs",normalizedTitle:"å³ç³»åæ°æ®åº(rdbms)å¯¼å¥å°hdfs",charIndex:1618},{level:3,title:"å³ç³»åæ°æ®åº(RDBMS)å°Hive",slug:"å³ç³»åæ°æ®åº-rdbms-å°hive",normalizedTitle:"å³ç³»åæ°æ®åº(rdbms)å°hive",charIndex:4057},{level:3,title:"RDBMSå°Hbase",slug:"rdbmså°hbase",normalizedTitle:"rdbmså°hbase",charIndex:5576},{level:2,title:"2.å¯¼åºæ°æ®",slug:"_2-å¯¼åºæ°æ®",normalizedTitle:"2.å¯¼åºæ°æ®",charIndex:6328},{level:3,title:"HIVE/HDFSå°RDBMS",slug:"hive-hdfså°rdbms",normalizedTitle:"hive/hdfså°rdbms",charIndex:6381},{level:2,title:"sqoop job",slug:"sqoop-job",normalizedTitle:"sqoop job",charIndex:6685},{level:2,title:"Sqoop jobå®å¨éç½®",slug:"sqoop-jobå®å¨éç½®",normalizedTitle:"sqoop jobå®å¨éç½®",charIndex:7137},{level:2,title:"èæ¬æå",slug:"èæ¬æå",normalizedTitle:"èæ¬æå",charIndex:8940}],headersStr:"sql to hadoop 1.å¯¼å¥æ°æ® å³ç³»åæ°æ®åº(RDBMS)å¯¼å¥å°HDFS å³ç³»åæ°æ®åº(RDBMS)å°Hive RDBMSå°Hbase 2.å¯¼åºæ°æ® HIVE/HDFSå°RDBMS sqoop job Sqoop jobå®å¨éç½® èæ¬æå",content:'# sql to hadoop\n\n----------------------------------------\n\nå¯¼åºæ°æ®ï¼ä»Hadoop çæä»¶ç³»ç»ä¸­å¯¼åºæ°æ®å°å³ç³»æ°æ®åºmysql ç­ Sqoopçæ¬è´¨è¿æ¯ä¸ä¸ªå½ä»¤è¡å·¥å·ï¼åHDFSï¼Hive ç¸æ¯ï¼å¹¶æ²¡æä»ä¹é«æ·±ççè®ºã\n\næµè¯è¿æ¥\nsqoop list-databases --connect jdbc:mysql://hadoop100 --username root --password 123456789\nææ°æ®å¯¼å¥hdfs\nsqoop import --connect jdbc:mysql://8.8.8.100/test --username root --password 123456789 --table emp --delete-target-dir\n\nsqoop import \\\n--connect jdbc:mysql://8.8.8.100/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--delete-target-dir\n\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--target-dir /user/test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\næ°æ®å¯¼å¥å°hive\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--num-mappers 1 \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table emp_hive\næ°æ®å¯¼å¥hbase(æå¨å»ºè¡¨)\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--columns "id,name,degree,salary,dept" \\\n--column-family "info" \\\n--hbase-create-table \\\n--hbase-row-key "id" \\\n--hbase-table "hbase_emp" \\\n--num-mappers 1 \\\n--split-by id\n\nhdfsæ°æ®å¯¼åº\nåå»ºè¡¨\nsqoop export --connect "jdbc:mysql://192.168.94.137/test?useUnicode=true&characterEncoding=utf-8"  --username root -password lishy2019 --export-dir /user/root/emp1/part-m-00000 --table EMP  --fields-terminated-by \',\'\nsqoopä½ä¸\n\n\n\n# 1.å¯¼å¥æ°æ®\n\n----------------------------------------\n\nå¨Sqoopä¸­ï¼âå¯¼å¥âæ¦å¿µæï¼ä»éå¤§æ°æ®éç¾¤ï¼RDBMSï¼åå¤§æ°æ®éç¾¤ï¼HDFSï¼HIVEï¼HBASEï¼ä¸­ä¼ è¾æ°æ®ï¼å«åï¼å¯¼å¥ï¼å³ä½¿ç¨importå³é®å­ã\n\n\n# å³ç³»åæ°æ®åº(RDBMS)å¯¼å¥å°HDFS\n\nå¨mysqlæ°å»ºä¸å¼ è¡¨å¹¶æå¥æ°æ®\nmysql -uroot -p123456789\ncreate database company;\ncreate table company.staff(\n    id int(4) primary key not null auto_increment, \n    name varchar(255), \n    sex varchar(255));\ninsert into company.staff(name, sex) values(\'Thomas\', \'Male\');\ninsert into company.staff(name, sex) values(\'Catalina\', \'FeMale\');\n\n\nå³ç³»åæ°æ®åºå°HDFS\nå¨é¨å¯¼å¥\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\næ¥è¯¢å¯¼å¥\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--query \'select name,sex from staff where id <=1 and $CONDITIONS;\'\nå¦æqueryåä½¿ç¨çæ¯åå¼å·ï¼å$CONDITIONSåå¿é¡»å è½¬ç§»ç¬¦ï¼é²æ­¢shellè¯å«ä¸ºèªå·±çåéã\n\nå¯¼å¥æå®å\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--columns id,sex \\\n--table staff\n\nä½¿ç¨sqoopå³é®å­ç­éæ¥è¯¢å¯¼å¥æ°æ®\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--table staff \\\n--where "id=1"\n\n\n> [banana@hadoop100 ~]$ sqoop import --connect jdbc:mysql://8.8.8.100/test --username root --password 123456789 --table emp --delete-target-dir çç¥ä¸ä¸å­ 20/03/30 15:27:08 ERROR tool.ImportTool: Import failed: No primary key could be found for table emp. Please specify one with --split-by or perform a sequential import with \'-m 1\'. åå :æªå åæ°--num-mappers æç¤ºå¯ä»¥çåºï¼å¨æä»¬ä»mysqlä¸­å¯¼åºçè¡¨æ²¡æè®¾å®ä¸»é®ï¼æç¤ºæä»¬ä½¿ç¨æ--split-byæèæåæ°-mè®¾ç½®ä¸º1ï¼è¿éå¤§å®¶ä¼ä¸ä¼é®å°ï¼è¿åæ¯æ¯ä¸ºä»ä¹å¢ï¼ Sqoopéå¯ä»¥è¿âsplit-byæå®ååçå­æ®µï¼âmè®¾ç½®mapperçæ°éãéè¿è¿ä¸¤ä¸ªåæ°åè§£çæmä¸ªwhereå­å¥ï¼è¿è¡åæ®µæ¥è¯¢ã split-by æ ¹æ®ä¸åçåæ°ç±»åæä¸åçååæ¹æ³ï¼å¦è¡¨å±æ100æ¡æ°æ®å¶ä¸­idä¸ºintç±»åï¼å¹¶ä¸æä»¬æå®âsplit-by idï¼æä»¬ä¸è®¾ç½®mapæ°éä½¿ç¨é»è®¤çä¸ºåä¸ªï¼é¦åSqoopä¼åè·åååå­æ®µçMIN()åMAX()å³ï¼âsplit -byï¼ï¼åæ ¹æ®mapæ°éè¿è¡ååï¼è¿æ¯å­æ®µå¼å°±ä¼åä¸ºåä¸ªmapï¼ï¼1-25ï¼ï¼26-50ï¼ï¼51-75ï¼ï¼75-100ï¼ã æ ¹æ®MINåMAXä¸åçç±»åéç¨ä¸åçååæ¹å¼æ¯ææDate,Text,Float,Integerï¼ Boolean,NText,BigDecimalç­ç­ã æä»¥ï¼è¥å¯¼å¥çè¡¨ä¸­æ²¡æä¸»é®ï¼å°-m è®¾ç½®ç§°1æèè®¾ç½®split-byï¼å³åªæä¸ä¸ªmapè¿è¡ï¼ç¼ºç¹æ¯ä¸è½å¹¶è¡mapå½å¥æ°æ®ãï¼æ³¨æï¼å½-m è®¾ç½®çå¼å¤§äº1æ¶ï¼split-byå¿é¡»è®¾ç½®å­æ®µï¼ ã split-byå³ä¾¿æ¯intåï¼è¥ä¸æ¯è¿ç»­æè§å¾éå¢çè¯ï¼åä¸ªmapåéçæ°æ®æ¯ä¸åè¡¡çï¼å¯è½ä¼æäºmapå¾å¿ï¼æäºmapå ä¹æ²¡ææ°æ®å¤ççæåµã ââââââââââââââââ åæé¾æ¥(éè¯¯éé¦)ï¼https://blog.csdn.net/yu0_zhang0/article/details/79069251\n\n\n# å³ç³»åæ°æ®åº(RDBMS)å°Hive\n\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--num-mappers 1 \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table staff_hive\n\nè¯¥è¿ç¨åä¸ºä¸¤æ­¥ï¼ç¬¬ä¸æ­¥å°æ°æ®å¯¼å¥å°HDFSï¼ç¬¬äºæ­¥å°å¯¼å¥å°HDFSçæ°æ®è¿ç§»å°Hiveä»åºï¼ç¬¬ä¸æ­¥é»è®¤çä¸´æ¶ç®å½æ¯/user/ç¨æ·å/è¡¨å\n\n\n> ERROR hive.HiveConfig: Could not load org.apache.hadoop.hive.conf.HiveConf. Make sure HIVE_CONF_DIR is set correctly åå : æªè®¾ç½®HIVE_CONF_DIR vim ~/.bashrc hiveç¯å¢åééç½® export HIVE_HOME=/soft/hive export HIVE_CONF_DIR=$HIVE_HOME/conf export PATH=$PATH:$HIVE_HOME/bin\n\n> 20/03/29 20:40:06 INFO ipc.Client: Retrying connect to server: 0.0.0.0/0.0.0.0:10020. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS) Caused by: java.net.ConnectException: Your endpoint configuration is wrong; åå :ä¸»æº10020ç«¯å£è¿æ¥ä¸ä¸ï¼åºè¯¥æ¯hadoopéç¾¤ä¸­datanodeè®¿é®namenodeç10020ç«¯å£çé®é¢ï¼ä½¿ç¨10020ç«¯å£æ¯jobhistoryæå¡ï¼å¨æ£æ¥éç½®æä»¶mapred-site.xmlæªåç°éè¯¯ mapreduce.jobhistory.address ä¸»æºå:10020 mapreduce.jobhistory.webapp.address ä¸»æºå:19888 æ§è¡$HADOOP_HOME/sbin/mr-jobhistory-daemon.sh start historyserver ä¸»æº10020ç«¯å£å¼æ¾\n\n> Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.conf.HiveConf åå ï¼ç¼ºå°äºhive-common-2.3.3.jaråï¼å¨hiveçlibç®å½ä¸ï¼æ·è´å°sqoopçlibç®å½ä¸å³å¯ã cp /soft/hive/lib/hive-common-2.3.6.jar /soft/sqoop/lib/ hbaseç¯å¢åééç½®éç½® export HBASE_HOME=/soft/hbase export PATH=$PATH:$HBASE_HOME/bin Zookeeperç¯å¢åééç½® export ZOOKEEPER_HOME=/soft/zookeeper export PATH=$ZOOKEEPER_HOME/bin:$PATH\n\n\n# RDBMSå°Hbase\n\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--columns "id,name,sex" \\\n--column-family "info" \\\n--hbase-create-table \\\n--hbase-row-key "id" \\\n--hbase-table "hbase_company" \\\n--num-mappers 1 \\\n--split-by id\n\nè¥æ²¡æèªå¨åå»º éæå¨åå»º\n\n\n> Exception in thread "main" java.lang.NoSuchMethodError: org.apache.hadoop.hbase.client.HBaseAdmin.(Lorg/apache/hadoop/conf/Configuration;) æå·²ç»å°ä»¥ä¸æå°çjaræå¨æ·»å å°SQOOP_HOME/libä¸­- 1: hbase-client-1.2.0.jar 2: hbase-common-1.2.0.jar 3: hbase-mapreduce-2.2.0.jar 4: hbase-protocol-1.2.0.jar 5: hbase-server-1.2.0.jar 6: hbase-zookeeper-2.2.0.jar 7: protobuf-java-2.5.0.jar\n\n> çæ¬ä¸å¼å®¹???(sqoop1.4.7æå¨åå»ºé½ä¸å¥½ä½¿???) sqoop1.4.6åªæ¯æhbase1.0.1ä¹åççæ¬èªå¨åå»ºè¡¨\n\n\n# 2.å¯¼åºæ°æ®\n\n----------------------------------------\n\n\n# HIVE/HDFSå°RDBMS\n\nbin/sqoop export \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff1 \\\n--num-mappers 1 \\\n--export-dir /user/hive/warehouse/staff_hive \\\n--input-fields-terminated-by "\\t"\n\nMySQLè¡¨å¦æä¸å­å¨ ä¸ä¼èªå¨åå»º?useUnicode=true&characterEncoding=utf-8\n\n\n\n# sqoop job\n\n----------------------------------------\n\nsqoop jobå½ä»¤çåºæ¬ç¨æ³ï¼\n\n * åå»ºjobï¼--create\n * å é¤jobï¼--delete\n * æ§è¡jobï¼--exec\n * æ¾ç¤ºjobï¼--show\n * ååºjobï¼--list\n\nåå»ºä¸ä¸ªjob(æ³¨æ-- importä¸­é´æä¸ªç©ºæ ¼,åå¿å¿½è§)\n\nsqoop job --create firstjob \\\n-- import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--target-dir /user/test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\nsqoop job --list\n\n\n\n# Sqoop jobå®å¨éç½®\n\n----------------------------------------\n\né»è®¤æåµä¸ï¼åå»ºçæ¯ä¸ªjobå¨è¿è¡çæ¶åé½ä¸ä¼è¿è¡å®å¨çè®¤è¯ãå¦ææä»¬å¸æéå¶æå®çsqoop jobçæ§è¡ï¼åªæç»è¿è®¤è¯ä»¥åæè½æ§è¡ï¼è¿æ¶åå¯ä»¥ä½¿ç¨sqoop jobçå®å¨éé¡¹ãSqoopå®è£ç®å½ä¸ï¼éè¿ä¿®æ¹éç½®æä»¶conf/sqoop-site.xmlå¯ä»¥å¯¹jobè¿è¡æ´é«çº§çéç½®ãå®éä¸ï¼æä»¬ä½¿ç¨äºSqoopçmetastoreå·¥å·ï¼å®è½å¤å¯¹Sqoopè¿è¡ç»ç²åº¦çéç½®ã æä»¬è¦å°MySQLæ°æ®åºä¸­çæ°æ®åæ­¥å°Hiveè¡¨ï¼æ¯æ¬¡æ§è¡sqoop jobé½éè¦è¾å¥è®¿é®MySQLæ°æ®åºçè¿æ¥è´¦å·ä¿¡æ¯ï¼å¯ä»¥è®¾ç½®sqoop.metastore.client.record.passwordçå¼ä¸ºtrueãå¦æå¨conf/sqoop-site.xmlä¸­å¢å å¦ä¸éç½®ï¼ä¼å°è¿æ¥è´¦å·ä¿¡æ¯å­å¨å°Sqoopçmetastoreä¸­ï¼\n\n<property>\n    <name>sqoop.metastore.client.record.password</name>\n    <value>true</value>\n    <description>If true, allow saved passwords in the metastore. </description>\n</property>\n\n\nå¦ææ³è¦éå¶ä»å¤é¨è°ç¨æ§è¡Sqoop jobï¼å¦å°Sqoop jobæäº¤ç»Oozieè°åº¦ç¨åºï¼ä¹ä¼éè¿ä¸é¢Sqoopçmetastoreéç½®çåå®¹æ¥è¿è¡éªè¯ã å¦å¤ï¼Sqoopçmetastoreå·¥å·ï¼å¯ä»¥åè®¸æä»¬æå®ä¸ºå¤é¨ï¼ä¾å¦ä½¿ç¨å¤é¨ä¸»æºä¸çMySQLæ°æ®åºæ¥å­å¨åæ°æ®ï¼å¯ä»¥å¨conf/sqoop-site.xmléç½®å¦ä¸ï¼\n\n<property>\n    <name>sqoop.metastore.client.autoconnect.url</name>\n    <value>jdbc:mysql://10.95.3.49:3306/sqoop_metastore</value>\n    <description>The connect string to use when connecting to a\n        job-management metastore. If unspecified, uses ~/.sqoop/.\n        You can specify a different path here.\n    </description>\n</property>\n<property>\n    <name>sqoop.metastore.client.autoconnect.username</name>\n    <value>shirdrn</value>\n    <description>The username to bind to the metastore.\n    </description>\n</property>\n<property>\n    <name>sqoop.metastore.client.autoconnect.password</name>\n    <value>108loIOL</value>\n    <description>The password to bind to the metastore.\n    </description>\n</property>\n\n\nè¿æä¸ä¸ªå¯ä¸éæ©çéç½®é¡¹æ¯ï¼å¯ä»¥è®¾ç½®æ¯å¦èªå¨è¿æ¥å°å¤é¨metastoreæ°æ®åºï¼éè¿å¦ä¸éç½®æå®ï¼\n\n<property>\n     <name>sqoop.metastore.client.enable.autoconnect</name>\n     <value>false</value>\n     <description>If true, Sqoop will connect to a local metastore for job management when no other metastore arguments are provided.\n     </description>\n</property>\n\n\n\n# èæ¬æå\n\n----------------------------------------\n\nç¼åèæ¬\nvim job_HDFS_RDBMS.opt\nèæ¬åå®¹(å¯¼åºæ°æ®å°mysql)\nexport\n--connect\njdbc:mysql://hadoop1:3306/company\n--username\nroot\n--password\n123456789\n--table\nstaff\n--num-mappers\n1\n--export-dir\n/user/hive/warehouse/staff_hive\n--input-fields-terminated-by\n"\\t"\n\næ§è¡èæ¬\nbin/sqoop --options-file opt/job_HDFS2RDBMS.opt\n',normalizedContent:'# sql to hadoop\n\n----------------------------------------\n\nå¯¼åºæ°æ®ï¼ä»hadoop çæä»¶ç³»ç»ä¸­å¯¼åºæ°æ®å°å³ç³»æ°æ®åºmysql ç­ sqoopçæ¬è´¨è¿æ¯ä¸ä¸ªå½ä»¤è¡å·¥å·ï¼åhdfsï¼hive ç¸æ¯ï¼å¹¶æ²¡æä»ä¹é«æ·±ççè®ºã\n\næµè¯è¿æ¥\nsqoop list-databases --connect jdbc:mysql://hadoop100 --username root --password 123456789\nææ°æ®å¯¼å¥hdfs\nsqoop import --connect jdbc:mysql://8.8.8.100/test --username root --password 123456789 --table emp --delete-target-dir\n\nsqoop import \\\n--connect jdbc:mysql://8.8.8.100/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--delete-target-dir\n\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--target-dir /user/test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\næ°æ®å¯¼å¥å°hive\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--num-mappers 1 \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table emp_hive\næ°æ®å¯¼å¥hbase(æå¨å»ºè¡¨)\nsqoop import \\\n--connect jdbc:mysql://hadoop100:3306/test \\\n--username root \\\n--password 123456789 \\\n--table emp \\\n--columns "id,name,degree,salary,dept" \\\n--column-family "info" \\\n--hbase-create-table \\\n--hbase-row-key "id" \\\n--hbase-table "hbase_emp" \\\n--num-mappers 1 \\\n--split-by id\n\nhdfsæ°æ®å¯¼åº\nåå»ºè¡¨\nsqoop export --connect "jdbc:mysql://192.168.94.137/test?useunicode=true&characterencoding=utf-8"  --username root -password lishy2019 --export-dir /user/root/emp1/part-m-00000 --table emp  --fields-terminated-by \',\'\nsqoopä½ä¸\n\n\n\n# 1.å¯¼å¥æ°æ®\n\n----------------------------------------\n\nå¨sqoopä¸­ï¼âå¯¼å¥âæ¦å¿µæï¼ä»éå¤§æ°æ®éç¾¤ï¼rdbmsï¼åå¤§æ°æ®éç¾¤ï¼hdfsï¼hiveï¼hbaseï¼ä¸­ä¼ è¾æ°æ®ï¼å«åï¼å¯¼å¥ï¼å³ä½¿ç¨importå³é®å­ã\n\n\n# å³ç³»åæ°æ®åº(rdbms)å¯¼å¥å°hdfs\n\nå¨mysqlæ°å»ºä¸å¼ è¡¨å¹¶æå¥æ°æ®\nmysql -uroot -p123456789\ncreate database company;\ncreate table company.staff(\n    id int(4) primary key not null auto_increment, \n    name varchar(255), \n    sex varchar(255));\ninsert into company.staff(name, sex) values(\'thomas\', \'male\');\ninsert into company.staff(name, sex) values(\'catalina\', \'female\');\n\n\nå³ç³»åæ°æ®åºå°hdfs\nå¨é¨å¯¼å¥\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\næ¥è¯¢å¯¼å¥\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--query \'select name,sex from staff where id <=1 and $conditions;\'\nå¦æqueryåä½¿ç¨çæ¯åå¼å·ï¼å$conditionsåå¿é¡»å è½¬ç§»ç¬¦ï¼é²æ­¢shellè¯å«ä¸ºèªå·±çåéã\n\nå¯¼å¥æå®å\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--columns id,sex \\\n--table staff\n\nä½¿ç¨sqoopå³é®å­ç­éæ¥è¯¢å¯¼å¥æ°æ®\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--table staff \\\n--where "id=1"\n\n\n> [banana@hadoop100 ~]$ sqoop import --connect jdbc:mysql://8.8.8.100/test --username root --password 123456789 --table emp --delete-target-dir çç¥ä¸ä¸å­ 20/03/30 15:27:08 error tool.importtool: import failed: no primary key could be found for table emp. please specify one with --split-by or perform a sequential import with \'-m 1\'. åå :æªå åæ°--num-mappers æç¤ºå¯ä»¥çåºï¼å¨æä»¬ä»mysqlä¸­å¯¼åºçè¡¨æ²¡æè®¾å®ä¸»é®ï¼æç¤ºæä»¬ä½¿ç¨æ--split-byæèæåæ°-mè®¾ç½®ä¸º1ï¼è¿éå¤§å®¶ä¼ä¸ä¼é®å°ï¼è¿åæ¯æ¯ä¸ºä»ä¹å¢ï¼ sqoopéå¯ä»¥è¿âsplit-byæå®ååçå­æ®µï¼âmè®¾ç½®mapperçæ°éãéè¿è¿ä¸¤ä¸ªåæ°åè§£çæmä¸ªwhereå­å¥ï¼è¿è¡åæ®µæ¥è¯¢ã split-by æ ¹æ®ä¸åçåæ°ç±»åæä¸åçååæ¹æ³ï¼å¦è¡¨å±æ100æ¡æ°æ®å¶ä¸­idä¸ºintç±»åï¼å¹¶ä¸æä»¬æå®âsplit-by idï¼æä»¬ä¸è®¾ç½®mapæ°éä½¿ç¨é»è®¤çä¸ºåä¸ªï¼é¦åsqoopä¼åè·åååå­æ®µçmin()åmax()å³ï¼âsplit -byï¼ï¼åæ ¹æ®mapæ°éè¿è¡ååï¼è¿æ¯å­æ®µå¼å°±ä¼åä¸ºåä¸ªmapï¼ï¼1-25ï¼ï¼26-50ï¼ï¼51-75ï¼ï¼75-100ï¼ã æ ¹æ®minåmaxä¸åçç±»åéç¨ä¸åçååæ¹å¼æ¯æædate,text,float,integerï¼ boolean,ntext,bigdecimalç­ç­ã æä»¥ï¼è¥å¯¼å¥çè¡¨ä¸­æ²¡æä¸»é®ï¼å°-m è®¾ç½®ç§°1æèè®¾ç½®split-byï¼å³åªæä¸ä¸ªmapè¿è¡ï¼ç¼ºç¹æ¯ä¸è½å¹¶è¡mapå½å¥æ°æ®ãï¼æ³¨æï¼å½-m è®¾ç½®çå¼å¤§äº1æ¶ï¼split-byå¿é¡»è®¾ç½®å­æ®µï¼ ã split-byå³ä¾¿æ¯intåï¼è¥ä¸æ¯è¿ç»­æè§å¾éå¢çè¯ï¼åä¸ªmapåéçæ°æ®æ¯ä¸åè¡¡çï¼å¯è½ä¼æäºmapå¾å¿ï¼æäºmapå ä¹æ²¡ææ°æ®å¤ççæåµã ââââââââââââââââ åæé¾æ¥(éè¯¯éé¦)ï¼https://blog.csdn.net/yu0_zhang0/article/details/79069251\n\n\n# å³ç³»åæ°æ®åº(rdbms)å°hive\n\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--num-mappers 1 \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table staff_hive\n\nè¯¥è¿ç¨åä¸ºä¸¤æ­¥ï¼ç¬¬ä¸æ­¥å°æ°æ®å¯¼å¥å°hdfsï¼ç¬¬äºæ­¥å°å¯¼å¥å°hdfsçæ°æ®è¿ç§»å°hiveä»åºï¼ç¬¬ä¸æ­¥é»è®¤çä¸´æ¶ç®å½æ¯/user/ç¨æ·å/è¡¨å\n\n\n> error hive.hiveconfig: could not load org.apache.hadoop.hive.conf.hiveconf. make sure hive_conf_dir is set correctly åå : æªè®¾ç½®hive_conf_dir vim ~/.bashrc hiveç¯å¢åééç½® export hive_home=/soft/hive export hive_conf_dir=$hive_home/conf export path=$path:$hive_home/bin\n\n> 20/03/29 20:40:06 info ipc.client: retrying connect to server: 0.0.0.0/0.0.0.0:10020. already tried 0 time(s); retry policy is retryuptomaximumcountwithfixedsleep(maxretries=10, sleeptime=1000 milliseconds) caused by: java.net.connectexception: your endpoint configuration is wrong; åå :ä¸»æº10020ç«¯å£è¿æ¥ä¸ä¸ï¼åºè¯¥æ¯hadoopéç¾¤ä¸­datanodeè®¿é®namenodeç10020ç«¯å£çé®é¢ï¼ä½¿ç¨10020ç«¯å£æ¯jobhistoryæå¡ï¼å¨æ£æ¥éç½®æä»¶mapred-site.xmlæªåç°éè¯¯ mapreduce.jobhistory.address ä¸»æºå:10020 mapreduce.jobhistory.webapp.address ä¸»æºå:19888 æ§è¡$hadoop_home/sbin/mr-jobhistory-daemon.sh start historyserver ä¸»æº10020ç«¯å£å¼æ¾\n\n> caused by: java.lang.classnotfoundexception: org.apache.hadoop.hive.conf.hiveconf åå ï¼ç¼ºå°äºhive-common-2.3.3.jaråï¼å¨hiveçlibç®å½ä¸ï¼æ·è´å°sqoopçlibç®å½ä¸å³å¯ã cp /soft/hive/lib/hive-common-2.3.6.jar /soft/sqoop/lib/ hbaseç¯å¢åééç½®éç½® export hbase_home=/soft/hbase export path=$path:$hbase_home/bin zookeeperç¯å¢åééç½® export zookeeper_home=/soft/zookeeper export path=$zookeeper_home/bin:$path\n\n\n# rdbmså°hbase\n\nbin/sqoop import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--columns "id,name,sex" \\\n--column-family "info" \\\n--hbase-create-table \\\n--hbase-row-key "id" \\\n--hbase-table "hbase_company" \\\n--num-mappers 1 \\\n--split-by id\n\nè¥æ²¡æèªå¨åå»º éæå¨åå»º\n\n\n> exception in thread "main" java.lang.nosuchmethoderror: org.apache.hadoop.hbase.client.hbaseadmin.(lorg/apache/hadoop/conf/configuration;) æå·²ç»å°ä»¥ä¸æå°çjaræå¨æ·»å å°sqoop_home/libä¸­- 1: hbase-client-1.2.0.jar 2: hbase-common-1.2.0.jar 3: hbase-mapreduce-2.2.0.jar 4: hbase-protocol-1.2.0.jar 5: hbase-server-1.2.0.jar 6: hbase-zookeeper-2.2.0.jar 7: protobuf-java-2.5.0.jar\n\n> çæ¬ä¸å¼å®¹???(sqoop1.4.7æå¨åå»ºé½ä¸å¥½ä½¿???) sqoop1.4.6åªæ¯æhbase1.0.1ä¹åççæ¬èªå¨åå»ºè¡¨\n\n\n# 2.å¯¼åºæ°æ®\n\n----------------------------------------\n\n\n# hive/hdfså°rdbms\n\nbin/sqoop export \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff1 \\\n--num-mappers 1 \\\n--export-dir /user/hive/warehouse/staff_hive \\\n--input-fields-terminated-by "\\t"\n\nmysqlè¡¨å¦æä¸å­å¨ ä¸ä¼èªå¨åå»º?useunicode=true&characterencoding=utf-8\n\n\n\n# sqoop job\n\n----------------------------------------\n\nsqoop jobå½ä»¤çåºæ¬ç¨æ³ï¼\n\n * åå»ºjobï¼--create\n * å é¤jobï¼--delete\n * æ§è¡jobï¼--exec\n * æ¾ç¤ºjobï¼--show\n * ååºjobï¼--list\n\nåå»ºä¸ä¸ªjob(æ³¨æ-- importä¸­é´æä¸ªç©ºæ ¼,åå¿å¿½è§)\n\nsqoop job --create firstjob \\\n-- import \\\n--connect jdbc:mysql://hadoop1:3306/company \\\n--username root \\\n--password 123456789 \\\n--table staff \\\n--target-dir /user/test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\nsqoop job --list\n\n\n\n# sqoop jobå®å¨éç½®\n\n----------------------------------------\n\né»è®¤æåµä¸ï¼åå»ºçæ¯ä¸ªjobå¨è¿è¡çæ¶åé½ä¸ä¼è¿è¡å®å¨çè®¤è¯ãå¦ææä»¬å¸æéå¶æå®çsqoop jobçæ§è¡ï¼åªæç»è¿è®¤è¯ä»¥åæè½æ§è¡ï¼è¿æ¶åå¯ä»¥ä½¿ç¨sqoop jobçå®å¨éé¡¹ãsqoopå®è£ç®å½ä¸ï¼éè¿ä¿®æ¹éç½®æä»¶conf/sqoop-site.xmlå¯ä»¥å¯¹jobè¿è¡æ´é«çº§çéç½®ãå®éä¸ï¼æä»¬ä½¿ç¨äºsqoopçmetastoreå·¥å·ï¼å®è½å¤å¯¹sqoopè¿è¡ç»ç²åº¦çéç½®ã æä»¬è¦å°mysqlæ°æ®åºä¸­çæ°æ®åæ­¥å°hiveè¡¨ï¼æ¯æ¬¡æ§è¡sqoop jobé½éè¦è¾å¥è®¿é®mysqlæ°æ®åºçè¿æ¥è´¦å·ä¿¡æ¯ï¼å¯ä»¥è®¾ç½®sqoop.metastore.client.record.passwordçå¼ä¸ºtrueãå¦æå¨conf/sqoop-site.xmlä¸­å¢å å¦ä¸éç½®ï¼ä¼å°è¿æ¥è´¦å·ä¿¡æ¯å­å¨å°sqoopçmetastoreä¸­ï¼\n\n<property>\n    <name>sqoop.metastore.client.record.password</name>\n    <value>true</value>\n    <description>if true, allow saved passwords in the metastore. </description>\n</property>\n\n\nå¦ææ³è¦éå¶ä»å¤é¨è°ç¨æ§è¡sqoop jobï¼å¦å°sqoop jobæäº¤ç»oozieè°åº¦ç¨åºï¼ä¹ä¼éè¿ä¸é¢sqoopçmetastoreéç½®çåå®¹æ¥è¿è¡éªè¯ã å¦å¤ï¼sqoopçmetastoreå·¥å·ï¼å¯ä»¥åè®¸æä»¬æå®ä¸ºå¤é¨ï¼ä¾å¦ä½¿ç¨å¤é¨ä¸»æºä¸çmysqlæ°æ®åºæ¥å­å¨åæ°æ®ï¼å¯ä»¥å¨conf/sqoop-site.xmléç½®å¦ä¸ï¼\n\n<property>\n    <name>sqoop.metastore.client.autoconnect.url</name>\n    <value>jdbc:mysql://10.95.3.49:3306/sqoop_metastore</value>\n    <description>the connect string to use when connecting to a\n        job-management metastore. if unspecified, uses ~/.sqoop/.\n        you can specify a different path here.\n    </description>\n</property>\n<property>\n    <name>sqoop.metastore.client.autoconnect.username</name>\n    <value>shirdrn</value>\n    <description>the username to bind to the metastore.\n    </description>\n</property>\n<property>\n    <name>sqoop.metastore.client.autoconnect.password</name>\n    <value>108loiol</value>\n    <description>the password to bind to the metastore.\n    </description>\n</property>\n\n\nè¿æä¸ä¸ªå¯ä¸éæ©çéç½®é¡¹æ¯ï¼å¯ä»¥è®¾ç½®æ¯å¦èªå¨è¿æ¥å°å¤é¨metastoreæ°æ®åºï¼éè¿å¦ä¸éç½®æå®ï¼\n\n<property>\n     <name>sqoop.metastore.client.enable.autoconnect</name>\n     <value>false</value>\n     <description>if true, sqoop will connect to a local metastore for job management when no other metastore arguments are provided.\n     </description>\n</property>\n\n\n\n# èæ¬æå\n\n----------------------------------------\n\nç¼åèæ¬\nvim job_hdfs_rdbms.opt\nèæ¬åå®¹(å¯¼åºæ°æ®å°mysql)\nexport\n--connect\njdbc:mysql://hadoop1:3306/company\n--username\nroot\n--password\n123456789\n--table\nstaff\n--num-mappers\n1\n--export-dir\n/user/hive/warehouse/staff_hive\n--input-fields-terminated-by\n"\\t"\n\næ§è¡èæ¬\nbin/sqoop --options-file opt/job_hdfs2rdbms.opt\n',charsets:{cjk:!0},lastUpdated:"2022/07/25, 17:21:50",lastUpdatedTimestamp:165874091e4},{title:"Flumeç¸å³å­¦ä¹ ",frontmatter:{title:"Flumeç¸å³å­¦ä¹ ",date:"2022-03-02T20:48:15.000Z",permalink:"/pages/3408a8/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/10.Flume/03.Flume%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0.html",relativePath:"02.å¤§æ°æ®/10.Flume/03.Flumeç¸å³å­¦ä¹ .md",key:"v-1fd37798",path:"/pages/3408a8/",headers:[{level:2,title:"èªå®ä¹Sinkå°MySQL",slug:"èªå®ä¹sinkå°mysql",normalizedTitle:"èªå®ä¹sinkå°mysql",charIndex:2},{level:2,title:"æ¦æªå¨",slug:"æ¦æªå¨",normalizedTitle:"æ¦æªå¨",charIndex:6518}],headersStr:"èªå®ä¹Sinkå°MySQL æ¦æªå¨",content:'# èªå®ä¹Sinkå°MySQL\n\n----------------------------------------\n\npackage org.flume.mysql.sink;\n/**\n * create by yong 2016-6-16\n */\nimport com.google.common.base.Preconditions;\nimport com.google.common.base.Throwables;\nimport com.google.common.collect.Lists;\nimport org.apache.flume.*;\nimport org.apache.flume.conf.Configurable;\nimport org.apache.flume.sink.AbstractSink;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n \nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.List;\n \npublic class MysqlSink extends AbstractSink implements Configurable {\n \n    private Logger LOG = LoggerFactory.getLogger(MysqlSink.class);\n    private String hostname;\n    private String port;\n    private String databaseName;\n    private String tableName;\n    private String user;\n    private String password;\n    private PreparedStatement preparedStatement;\n    private Connection conn;\n    private int batchSize;\n \n    public MysqlSink() {\n        LOG.info("MysqlSink start...");\n    }\n \n    public void configure(Context context) {\n        hostname = context.getString("hostname");\n        Preconditions.checkNotNull(hostname, "hostname must be set!!");\n        port = context.getString("port");\n        Preconditions.checkNotNull(port, "port must be set!!");\n        databaseName = context.getString("databaseName");\n        Preconditions.checkNotNull(databaseName, "databaseName must be set!!");\n        tableName = context.getString("tableName");\n        Preconditions.checkNotNull(tableName, "tableName must be set!!");\n        user = context.getString("user");\n        Preconditions.checkNotNull(user, "user must be set!!");\n        password = context.getString("password");\n        Preconditions.checkNotNull(password, "password must be set!!");\n        batchSize = context.getInteger("batchSize", 100);\n        Preconditions.checkNotNull(batchSize > 0, "batchSize must be a positive number!!");\n    }\n \n    @Override\n    public void start() {\n        super.start();\n        try {\n            //è°ç¨Class.forName()æ¹æ³å è½½é©±å¨ç¨åº\n            Class.forName("com.mysql.jdbc.Driver");\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n \n        String url = "jdbc:mysql://" + hostname + ":" + port + "/" + databaseName; \n        //è°ç¨DriverManagerå¯¹è±¡çgetConnection()æ¹æ³ï¼è·å¾ä¸ä¸ªConnectionå¯¹è±¡\n \n        try {\n            conn = DriverManager.getConnection(url, user, password);\n            conn.setAutoCommit(false);\n            //åå»ºä¸ä¸ªStatementå¯¹è±¡\n            preparedStatement = conn.prepareStatement("insert into " + tableName + \n                                               " (content) values (?)");\n \n        } catch (SQLException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n \n    }\n \n    @Override\n    public void stop() {\n        super.stop();\n        if (preparedStatement != null) {\n            try {\n                preparedStatement.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n \n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n \n    public Status process() throws EventDeliveryException {\n        Status result = Status.READY;\n        Channel channel = getChannel();\n        Transaction transaction = channel.getTransaction();\n        Event event;\n        String content;\n \n        List<String> actions = Lists.newArrayList();\n        transaction.begin();\n        try {\n            for (int i = 0; i < batchSize; i++) {\n                event = channel.take();\n                if (event != null) {\n                    content = new String(event.getBody());\n                    actions.add(content);\n                } else {\n                    result = Status.BACKOFF;\n                    break;\n                }\n            }\n \n            if (actions.size() > 0) {\n                preparedStatement.clearBatch();\n                for (String temp : actions) {\n                    preparedStatement.setString(1, temp);\n                    preparedStatement.addBatch();\n                }\n                preparedStatement.executeBatch();\n \n                conn.commit();\n            }\n            transaction.commit();\n        } catch (Throwable e) {\n            try {\n                transaction.rollback();\n            } catch (Exception e2) {\n                LOG.error("Exception in rollback. Rollback might not have been" +\n                        "successful.", e2);\n            }\n            LOG.error("Failed to commit transaction." +\n                    "Transaction rolled back.", e);\n            Throwables.propagate(e);\n        } finally {\n            transaction.close();\n        }\n \n        return result;\n    }\n}\n\n\nä¾èµ\n\n<dependencies>\n        <dependency>\n            <groupId>org.apache.flume</groupId>\n            <artifactId>flume-ng-core</artifactId>\n        </dependency>\n \n        <dependency>\n            <groupId>org.apache.flume</groupId>\n            <artifactId>flume-ng-configuration</artifactId>\n        </dependency>\n \n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.25</version>\n        </dependency>\n \n        <dependency>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-api</artifactId>\n        </dependency>\n \n        <dependency>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-log4j12</artifactId>\n            <scope>test</scope>\n        </dependency>\n</dependencies>\n\n\nflumeéç½®\n\nagent1.sources = source1\nagent1.sinks = mysqlSink\nagent1.channels = channel1\n \n \n \n# Describe/configure source1\nagent1.sources.source1.type  =  exec\nagent1.sources.source1.command  = tail -F /home/yong/Work/flum-1.6/tail_log_exec\nagent1.sources.source1.channels = channel1\n \n \n# Describe mysqlSink\nagent1.sinks.mysqlSink.type  = org.flume.mysql.sink.MysqlSink\nagent1.sinks.mysqlSink.hostname =localhost\nagent1.sinks.mysqlSink.port=3306\nagent1.sinks.mysqlSink.databaseName=sinktest\nagent1.sinks.mysqlSink.tableName=mysqltest\nagent1.sinks.mysqlSink.user=root\nagent1.sinks.mysqlSink.password=root\nagent1.sinks.mysqlSink.channel = channel1\n  \n# Use a channel which buffers events in memory\nagent1.channels.channel1.type = memory\nagent1.channels.channel1.capacity = 1000\nagent1.channels.channel1.transactionCapactiy = 100\n\n\nåæé¾æ¥\n\n\n# æ¦æªå¨\n\n----------------------------------------\n\n\n',normalizedContent:'# èªå®ä¹sinkå°mysql\n\n----------------------------------------\n\npackage org.flume.mysql.sink;\n/**\n * create by yong 2016-6-16\n */\nimport com.google.common.base.preconditions;\nimport com.google.common.base.throwables;\nimport com.google.common.collect.lists;\nimport org.apache.flume.*;\nimport org.apache.flume.conf.configurable;\nimport org.apache.flume.sink.abstractsink;\nimport org.slf4j.logger;\nimport org.slf4j.loggerfactory;\n \nimport java.sql.connection;\nimport java.sql.drivermanager;\nimport java.sql.preparedstatement;\nimport java.sql.sqlexception;\nimport java.util.list;\n \npublic class mysqlsink extends abstractsink implements configurable {\n \n    private logger log = loggerfactory.getlogger(mysqlsink.class);\n    private string hostname;\n    private string port;\n    private string databasename;\n    private string tablename;\n    private string user;\n    private string password;\n    private preparedstatement preparedstatement;\n    private connection conn;\n    private int batchsize;\n \n    public mysqlsink() {\n        log.info("mysqlsink start...");\n    }\n \n    public void configure(context context) {\n        hostname = context.getstring("hostname");\n        preconditions.checknotnull(hostname, "hostname must be set!!");\n        port = context.getstring("port");\n        preconditions.checknotnull(port, "port must be set!!");\n        databasename = context.getstring("databasename");\n        preconditions.checknotnull(databasename, "databasename must be set!!");\n        tablename = context.getstring("tablename");\n        preconditions.checknotnull(tablename, "tablename must be set!!");\n        user = context.getstring("user");\n        preconditions.checknotnull(user, "user must be set!!");\n        password = context.getstring("password");\n        preconditions.checknotnull(password, "password must be set!!");\n        batchsize = context.getinteger("batchsize", 100);\n        preconditions.checknotnull(batchsize > 0, "batchsize must be a positive number!!");\n    }\n \n    @override\n    public void start() {\n        super.start();\n        try {\n            //è°ç¨class.forname()æ¹æ³å è½½é©±å¨ç¨åº\n            class.forname("com.mysql.jdbc.driver");\n        } catch (classnotfoundexception e) {\n            e.printstacktrace();\n        }\n \n        string url = "jdbc:mysql://" + hostname + ":" + port + "/" + databasename; \n        //è°ç¨drivermanagerå¯¹è±¡çgetconnection()æ¹æ³ï¼è·å¾ä¸ä¸ªconnectionå¯¹è±¡\n \n        try {\n            conn = drivermanager.getconnection(url, user, password);\n            conn.setautocommit(false);\n            //åå»ºä¸ä¸ªstatementå¯¹è±¡\n            preparedstatement = conn.preparestatement("insert into " + tablename + \n                                               " (content) values (?)");\n \n        } catch (sqlexception e) {\n            e.printstacktrace();\n            system.exit(1);\n        }\n \n    }\n \n    @override\n    public void stop() {\n        super.stop();\n        if (preparedstatement != null) {\n            try {\n                preparedstatement.close();\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n \n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n    }\n \n    public status process() throws eventdeliveryexception {\n        status result = status.ready;\n        channel channel = getchannel();\n        transaction transaction = channel.gettransaction();\n        event event;\n        string content;\n \n        list<string> actions = lists.newarraylist();\n        transaction.begin();\n        try {\n            for (int i = 0; i < batchsize; i++) {\n                event = channel.take();\n                if (event != null) {\n                    content = new string(event.getbody());\n                    actions.add(content);\n                } else {\n                    result = status.backoff;\n                    break;\n                }\n            }\n \n            if (actions.size() > 0) {\n                preparedstatement.clearbatch();\n                for (string temp : actions) {\n                    preparedstatement.setstring(1, temp);\n                    preparedstatement.addbatch();\n                }\n                preparedstatement.executebatch();\n \n                conn.commit();\n            }\n            transaction.commit();\n        } catch (throwable e) {\n            try {\n                transaction.rollback();\n            } catch (exception e2) {\n                log.error("exception in rollback. rollback might not have been" +\n                        "successful.", e2);\n            }\n            log.error("failed to commit transaction." +\n                    "transaction rolled back.", e);\n            throwables.propagate(e);\n        } finally {\n            transaction.close();\n        }\n \n        return result;\n    }\n}\n\n\nä¾èµ\n\n<dependencies>\n        <dependency>\n            <groupid>org.apache.flume</groupid>\n            <artifactid>flume-ng-core</artifactid>\n        </dependency>\n \n        <dependency>\n            <groupid>org.apache.flume</groupid>\n            <artifactid>flume-ng-configuration</artifactid>\n        </dependency>\n \n        <dependency>\n            <groupid>mysql</groupid>\n            <artifactid>mysql-connector-java</artifactid>\n            <version>5.1.25</version>\n        </dependency>\n \n        <dependency>\n            <groupid>org.slf4j</groupid>\n            <artifactid>slf4j-api</artifactid>\n        </dependency>\n \n        <dependency>\n            <groupid>org.slf4j</groupid>\n            <artifactid>slf4j-log4j12</artifactid>\n            <scope>test</scope>\n        </dependency>\n</dependencies>\n\n\nflumeéç½®\n\nagent1.sources = source1\nagent1.sinks = mysqlsink\nagent1.channels = channel1\n \n \n \n# describe/configure source1\nagent1.sources.source1.type  =  exec\nagent1.sources.source1.command  = tail -f /home/yong/work/flum-1.6/tail_log_exec\nagent1.sources.source1.channels = channel1\n \n \n# describe mysqlsink\nagent1.sinks.mysqlsink.type  = org.flume.mysql.sink.mysqlsink\nagent1.sinks.mysqlsink.hostname =localhost\nagent1.sinks.mysqlsink.port=3306\nagent1.sinks.mysqlsink.databasename=sinktest\nagent1.sinks.mysqlsink.tablename=mysqltest\nagent1.sinks.mysqlsink.user=root\nagent1.sinks.mysqlsink.password=root\nagent1.sinks.mysqlsink.channel = channel1\n  \n# use a channel which buffers events in memory\nagent1.channels.channel1.type = memory\nagent1.channels.channel1.capacity = 1000\nagent1.channels.channel1.transactioncapactiy = 100\n\n\nåæé¾æ¥\n\n\n# æ¦æªå¨\n\n----------------------------------------\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"å¶ä»ETLå·¥å·",frontmatter:{title:"å¶ä»ETLå·¥å·",date:"2022-03-29T13:03:59.000Z",permalink:"/pages/b76fc1/",categories:["å¤§æ°æ®","æ°æ®éæå·¥å·"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/11.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7/09.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90%E6%A1%86%E6%9E%B6.html",relativePath:"02.å¤§æ°æ®/11.æ°æ®éæå·¥å·/09.æ°æ®éææ¡æ¶.md",key:"v-63f04fc0",path:"/pages/b76fc1/",headers:[{level:2,title:"å·¥å·",slug:"å·¥å·",normalizedTitle:"å·¥å·",charIndex:2},{level:3,title:"Kettle",slug:"kettle",normalizedTitle:"kettle",charIndex:445},{level:4,title:"å¤è¡¨æ°æ®è¿ç§»",slug:"å¤è¡¨æ°æ®è¿ç§»",normalizedTitle:"å¤è¡¨æ°æ®è¿ç§»",charIndex:632},{level:4,title:"è¡¨ååéå¯¼åºæå®è¡¨",slug:"è¡¨ååéå¯¼åºæå®è¡¨",normalizedTitle:"è¡¨ååéå¯¼åºæå®è¡¨",charIndex:833},{level:3,title:"Sqoop",slug:"sqoop",normalizedTitle:"sqoop",charIndex:576},{level:3,title:"Datax",slug:"datax",normalizedTitle:"datax",charIndex:2515},{level:4,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:2524},{level:4,title:"å­æ®µå¯¹åº",slug:"å­æ®µå¯¹åº",normalizedTitle:"å­æ®µå¯¹åº",charIndex:3231},{level:4,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:549},{level:4,title:"datax-web å®è£",slug:"datax-web-å®è£",normalizedTitle:"datax-web å®è£",charIndex:7871},{level:3,title:"è¾¾æ¢¦DTSå·¥å·",slug:"è¾¾æ¢¦dtså·¥å·",normalizedTitle:"è¾¾æ¢¦dtså·¥å·",charIndex:8433},{level:3,title:"SeaTunnel",slug:"seatunnel",normalizedTitle:"seatunnel",charIndex:8445},{level:2,title:"æ°æ®è¿ç§»æ¹æ¡ï¼ç»æåæ°æ®ï¼",slug:"æ°æ®è¿ç§»æ¹æ¡-ç»æåæ°æ®",normalizedTitle:"æ°æ®è¿ç§»æ¹æ¡ï¼ç»æåæ°æ®ï¼",charIndex:9004},{level:4,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:9021},{level:4,title:"è°ä¼",slug:"è°ä¼",normalizedTitle:"è°ä¼",charIndex:9184}],headersStr:"å·¥å· Kettle å¤è¡¨æ°æ®è¿ç§» è¡¨ååéå¯¼åºæå®è¡¨ Sqoop Datax å®è£ å­æ®µå¯¹åº ä½¿ç¨ datax-web å®è£ è¾¾æ¢¦DTSå·¥å· SeaTunnel æ°æ®è¿ç§»æ¹æ¡ï¼ç»æåæ°æ®ï¼ éå è°ä¼",content:'# å·¥å·\n\nç»´åº¦      KETTLE   DATAX       è¾¾æ¢¦DTS          SQOOP      SEATUNNEL\nå®æ¶æ§     å¦        å¦           å¦              å¦          âï¼æµæ¹ä¸ä½ï¼\nå¾å½¢åçé¢   âï¼å¼ºï¼     âï¼JSONéç½®ï¼   âï¼åå¯¼å¼ï¼         âï¼å½ä»¤è¡ï¼     âï¼YAMLéç½®ï¼\næ§è½      ä¸­ç­       é«           ä¸­ç­             é«          âï¼è¶é«ï¼\næ©å±æ§     æä»¶çæ     æä»¶æ¶æ        å°é­çæ           Hadoopçæ   è¿æ¥å¨ä¸°å¯\næç¨æ§     âï¼ä½é¨æ§ï¼   âï¼å¤æï¼       âï¼å½äº§åï¼         ä¸­ç­         ä¸­ç­\néç¨åºæ¯    å¤æETL    ç¦»çº¿è¿ç§»        ä¸DMä¹é´æ°æ®åå¯¹è±¡è¿ç§»   Hadoopéæ   å®æ¶æ°æ®ç®¡é\n\n\n# Kettle\n\n> ETLï¼Extract-Transform-Loadçç¼©åï¼å³æ°æ®æ½åãè½¬æ¢ãè£è½½çè¿ç¨ï¼ï¼å¯¹äºä¼ä¸æè¡ä¸åºç¨æ¥è¯´ï¼æä»¬ç»å¸¸ä¼éå°åç§æ°æ®çå¤çï¼è½¬æ¢ï¼è¿ç§»ï¼æä»¥äºè§£å¹¶ææ¡ä¸ç§ETLå·¥å·çä½¿ç¨ï¼å¿ä¸å¯å°ã\n\nå¸é¢ä¸å¸¸ç¨çETLå·¥å·æå¾å¤ï¼æ¯å¦Sqoopï¼DataXï¼Kettleï¼Talendç­ï¼ä½ä¸ºä¸ä¸ªå¤§æ°æ®å·¥ç¨å¸ï¼æä»¬æå¥½è¦ææ¡å¶ä¸­çä¸¤å°ä¸ç§\n\n# å¤è¡¨æ°æ®è¿ç§»\n\n 1. åå»ºæ°æ®æºï¼æºåç®æ ï¼\n 2. ç¹å» å·¥å· -> åå¯¼ -> å¤å¶å¤è¡¨åå¯¼\n 3. éæ© æºæ°æ®åºåç®æ æ°æ®åºï¼éæ©éè¦è¿ç§»çè¡¨\n 4. æ§è¡çæçjob\n\néï¼è¿æ¥ Oracle 19cæ­£å¸¸ï¼ä½æ¯è¯»ååæ°æ®æ¥éï¼ä¸æ¯æçå­ç¬¦éï¼ï¼å¨ Oracleå®ç½ ä¸è½½ojdbcx-full.tar.gzï¼ååºå¶ä¸­çorai18n.jarï¼æ¾å¥ Kettle ç lib ç®å½ä¸ã\n\n# è¡¨ååéå¯¼åºæå®è¡¨\n\néè¿å¾ªç¯è¡¨ååéï¼å¯¼åºæå®è¡¨æ°æ®ï¼å¯¼åºå° excel æ¶éåº¦è¾æ¢ï¼\n\nåæé¾æ¥\n\n\n# Sqoop\n\nå¯¼å¥\n\n# å¨é¨å¯¼å¥\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\n# å¯¼å¥æå®å\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--columns id,sex \\\n--table staff\n\n# æ¥è¯¢å¯¼å¥\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--query \'select name,sex from staff where id <=1 and $CONDITIONS;\'\n\n# whereå³é®å­ç­é\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--table staff \\\n--where "id=1"\n\n# å¯¼å¥å°hiveï¼ç¬¬ä¸æ­¥å°æ°æ®å¯¼å¥å°HDFSï¼ç¬¬äºæ­¥å°å¯¼å¥å°HDFSçæ°æ®è¿ç§»å°Hiveä»åº\nbin/sqoop import \\\n--connect jdbc:mysql://Faded103:3306/db_sqoop_test \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--target-dir /user/db_sqoop_test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table staff_hive\n\n\nå¯¼åº\n\n# hdfs/hiveå°rdms\n$ bin/sqoop export \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--num-mappers 1 \\\n--export-dir /user/hive/warehouse/staff_hive \\\n--input-fields-terminated-by "\\t"\n\n\n\n# Datax\n\n# å®è£\n\n * ä¸è½½ wget http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz\n * è§£å tar -zxvf datax.tar.gz -C /opt/module\n * ä¾èµ\n   * å®è£jdk\n   * python\n\nsudo apt install python\n(ä¸å®è¦æ¯python2(2.7+?)\nå ä¸ºåé¢æ§è¡datax.pyçæ¶åï¼éé¢çPythonçprintä¼æ§è¡ä¸äºï¼å¯¼è´è¿è¡ä¸æåï¼ä¼æç¤ºä½ printè¯­æ³è¦å æ¬å·ï¼Python2ä¸­å ä¸å é½è¡ï¼Python3ä¸­å¿é¡»è¦å ï¼å¦åæ¥è¯­æ³éã)\n\n\n* **Apache Maven 3.x**   \n\n\nä¸è½½ wget https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\nè§£å tar -zxvf apache-maven-3.8.5-bin.tar.gz -C /opt/module/\nç¯å¢åé\nvim /etc/profile\n\nMAVEN_HOME=/opt/module/apache-maven-3.8.5\nPATH=${M2_HOME}/bin:${PATH}\n\nsource /etc/profile\n\n\n * JdkãPythonãMavené½å®è£æåäºï¼dataxè§£åç¼©æåäºï¼å¼å§èªæ£ï¼è¿å¥binç®å½ï¼å¼å§èªæ£\n\npython datax.py ../job/job.json\n\n\n# å­æ®µå¯¹åº\n\nåä¸ªæ°æ®åºådataxå­æ®µæ å°\n\n# ä½¿ç¨\n\n> æå¼å§æ¶æ¥éï¼ç¶åèèæ¯ä¸æ¯æMySQL8.0çåå ï¼ä¸è½½æºç ä¿®æ¹ï¼ç±äºä¾èµä¸å¨(ä¸è½½jarå å®è£å°æ¬å°mavenåºä¹ä¸è¡)ï¼ææ¶æç½®ã\n> ç¶åèèå°mysqlwriterä¸­MySQLé©±å¨æ¢æ8.0çé©±å¨ã\n> è¿æ¥éï¼æ¯å ä¸ºdateæ¥ææ ¼å¼çé®é¢ï¼éå¶å®æ ¼å¼ã ï¼æ¢jaråè§£å³é®é¢ï¼ææªåç°å¶ä»é®é¢ï¼å¾è¡¥å\n\nç¹å»æ¥ç\n\nJsonæä»¶ç¤ºä¾(csvææ¬å°mysql)\n\n{\n    "job": {\n        "setting": {\n                "speed": {\n                        "channel": 3 \n                }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "txtfilereader",\n                    "parameter": {\n                    "path": ["/home/banana/data/xxxxx.csv"],\n                    "encoding":"utf-8",\n                        "column": [\n                            { "index": 0, "type": "String" },\n                            { "index": 1, "type": "String" },\n                            { "index": 2, "type": "String" },\n                            { "index": 3, "type": "String" },\n                            { "index": 4, "type": "String" },\n                            { "index": 5, "type": "String" },\n                            { "index": 6, "type": "String" },\n                            { "index": 7, "type": "String" },\n                            { "index": 8, "type": "String" },\n                            { "index": 9, "type": "String" },\n                            { "index": 10, "type": "String" },\n                            { "index": 11, "type": "String" },\n                            { "index": 12, "type": "String" },\n                            { "index": 13, "type": "String" },\n                            { "index": 14, "type": "String" },\n                            { "index": 15, "type": "String" },\n                            { "index": 16, "type": "String" },\n                            { "index": 17, "type": "String" },\n                            { "index": 18, "type": "String" },\n                            { "index": 19, "type": "String" },\n                            { "index": 20, "type": "String" },\n                            { "index": 21, "type": "Date", "format": "yyyy/MM/dd" },\n                            { "index": 22, "type": "Date", "format": "yyyy/MM/dd" },\n                            { "index": 23, "type": "String" },\n                            { "index": 24, "type": "Date", "format": "yyyy/MM/dd HH:mm:ss" },\n                            { "index": 25, "type": "String" },\n                            { "index": 26, "type": "String" },\n                            { "index": 27, "type": "String" },\n                            { "index": 28, "type": "String" },\n                            { "index": 29, "type": "String" },\n                            { "index": 30, "type": "Date", "format": "yyyy/MM/dd HH:mm:ss" },\n                            { "index": 31, "type": "Date", "format": "yyyy/MM/dd" },\n                            { "index": 32, "type": "String" },\n                            { "index": 33, "type": "String" },\n                            { "index": 34, "type": "String" },\n                            { "index": 35, "type": "String" },\n                            { "index": 36, "type": "String" },\n                            { "index": 37, "type": "String" },\n                            { "index": 38, "type": "String" },\n                            { "index": 39, "type": "String" },\n                            { "index": 40, "type": "string" },\n                            { "index": 41, "type": "Long" },\n                            { "index": 42, "type": "Long" }\n                        ],\n                    "skipHeader": "true",\n                      "fileDelimiter":","\n                    }\n                },\n                "writer": {\n                    "name": "mysqlwriter",\n                    "parameter": {\n                        "column": ["å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå"\n                        ],\n                        "preSql": [\n                            "truncate table è¡¨å;"\n                        ],\n                        "connection": [\n                            {\n                               "jdbcUrl": "jdbc:mysql://ip:port/book?&useSSL=false&serverTimezone=Asia/Shanghai",\n                               "table": ["è¡¨å"]\n                            }\n                        ],\n                        "password": "xxxx",\n                        "username": "banana",\n                        "writeMode":"insert"\n                    }\n                }\n            }\n        ]\n    }\n}\n\n\n# datax-web å®è£\n\nå®æ¹å°å\n\n 1. ä¸è½½å®æ¹ç¼è¯ tar åï¼datax-web-2.1.2.tar.gz\n 2. è§£åï¼tar -zxvf datax-web-2.1.2.tar.gz -C ../module/\n 3. è¿å¥ç®å½ï¼cd ../module/datax-web-2.1.2\n 4. å®è£ï¼æå¨å®è£ ./bin/install.sh ä¸è¯¢é®å®è£ ./bin/install.sh --force\n 5. ç¬¬åæ­¥æè¾å¥MySQLè¿æ¥ç¸å³ä¿¡æ¯ï¼è¥æ²¡æè¾å¥éè¦æå¨åå§å vim datax-web-2.1.2/modules/datax-admin/conf/bootstrap.properties æ§è¡ /bin/db/datax-web.sql èæ¬\n 6. éç½®\n    * /modules/datax-admin/bin/env.properties éç½®é®ä»¶æå¡(å¯è·³è¿)\n    * /modules/datax-execute/bin/env.properties æå®PYTHON_PATHçè·¯å¾\n 7. å½ä»¤ï¼å¯å¨ ./bin/start-all.sh åæ­¢ ./bin/stop-all.sh åæ¨¡ååæ­¢ ./bin/stop.sh -m {module_name}\n\n\n# è¾¾æ¢¦DTSå·¥å·\n\n\n# SeaTunnel\n\n * åºç¨éæ: æ°æ®æ¥å£å½¢å¼\n * æ°æ®éæ: æ°æ®åºæ°æ®åæ­¥å½¢å¼\n\nä¸DataXç¸æ¯ï¼DataXåªè½åèç¹ï¼å­å¨ç¶é¢éå¶ãèSeaTunnelæ¯å°éç½®è½¬æ¢ä¸ºSparkæFlinkä»£ç ï¼è½åå©éç¾¤çè½åï¼ä¸å­å¨ç¶é¢ãä¸æ¥æä¸°å¯çè¿æ¥å¨ã\n\nSeaTunnelä¸æ³¨äºæ°æ®éæåæ°æ®åæ­¥ï¼ä¸»è¦æ¨å¨è§£å³æ°æ®éæé¢åçå¸¸è§é®é¢ï¼\n\n * æ°æ®æºå¤æ ·ï¼å¸¸ç¨æ°æ®æºææ°ç¾ç§ï¼çæ¬ä¸å¼å®¹ã éçæ°ææ¯çåºç°ï¼æ´å¤çæ°æ®æºä¸æ­åºç°ã ç¨æ·å¾é¾æ¾å°ä¸ä¸ªè½å¤å¨é¢ãå¿«éæ¯æè¿äºæ°æ®æºçå·¥å·ã\n * åæ­¥åºæ¯å¤æï¼æ°æ®åæ­¥éè¦æ¯æç¦»çº¿å¨éåæ­¥ãç¦»çº¿å¢éåæ­¥ãCDCãå®æ¶åæ­¥ãå¨åºåæ­¥ç­å¤ç§åæ­¥åºæ¯ã\n * èµæºéæ±é«ï¼ç°æçæ°æ®éæåæ°æ®åæ­¥å·¥å·å¾å¾éè¦å¤§éçè®¡ç®èµæºæJDBCè¿æ¥èµæºæ¥å®ææµ·éå°è¡¨çå®æ¶åæ­¥ã è¿å¢å äºä¼ä¸çè´æã\n * ç¼ºä¹è´¨éåçæ§ï¼æ°æ®éæååæ­¥è¿ç¨ç»å¸¸ä¼åºç°æ°æ®ä¸¢å¤±æéå¤çæåµã åæ­¥è¿ç¨ç¼ºä¹çæ§ï¼æ æ³ç´è§äºè§£ä»»å¡è¿ç¨ä¸­æ°æ®ççå®æåµã\n * ææ¯æ å¤æï¼ä¼ä¸ä½¿ç¨çææ¯ç»ä»¶ä¸åï¼ç¨æ·éè¦éå¯¹ä¸åç»ä»¶å¼åç¸åºçåæ­¥ç¨åºæ¥å®ææ°æ®éæã\n * ç®¡çåç»´æ¤å°é¾ï¼åéäºåºå±ææ¯ç»ä»¶ï¼Flink/Sparkï¼ä¸åï¼ç¦»çº¿åæ­¥åå®æ¶åæ­¥å¾å¾éè¦åå¼å¼ååç®¡çï¼å¢å äºç®¡çåç»´æ¤çé¾åº¦ã\n\n\n# æ°æ®è¿ç§»æ¹æ¡ï¼ç»æåæ°æ®ï¼\n\n# éå\n\néè¦èèçç¹\n\n 1. æ¯å¦è½æä½æ°æ®åºãæå¡å¨\n 2. æ¯å¦ç½ç»çé\n 3. æ¯å¦åè®¸åæº\n 4. æ¯å¦å¼ææ°æ®æº\n 5. æ¯å¦å¢éè¿ç§»ï¼è¿ç§»ä¸æ¬¡ãæ¯å¤©è¿ç§»è¿æ¯å®æ¶åæ­¥ï¼\n 6. è¥å¢éï¼æ¯å¦ææ¶é´å­æ®µç­å¢éå­æ®µä¸æ­£å¸¸ç»´æ¤\n 7. è¥å¢éï¼å é¤æ°æ®æ¯å¦æ¯é»è¾å é¤ï¼è¯¥æä¹è¿ç§»ï¼\n\nåèå¾çï¼ä¸å¤§å¯¹ï¼ç®åççï¼\n\n# è°ä¼\n\nå·¥å·è°ä¼\n\n 1. åå­éç½®\n 2. å¤çº¿ç¨éç½®\n 3. å¹¶è¡æ°éç½®\n 4. åæ¹æäº¤\n 5. å¶ä»æ¹å¼ï¼éç½®åæ°ãä¼åç½ç»?ï¼\n\næ°æ®åºæ¹é¢\n\n 1. ç®æ åºå é¤ç´¢å¼ï¼éå¯ä¸ç´¢å¼ï¼æå¥½ç©ºè¡¨ï¼æ°æ®å¯¼å®ä¹ååå»ºç´¢å¼ï¼\n 2. ç®æ åºåç¨è§¦åå¨\n 3. å¶ä»ï¼è¥äºå¡è¿å¤§å¿è¦æ¶è°æ´redo logå¤§å°',normalizedContent:'# å·¥å·\n\nç»´åº¦      kettle   datax       è¾¾æ¢¦dts          sqoop      seatunnel\nå®æ¶æ§     å¦        å¦           å¦              å¦          âï¼æµæ¹ä¸ä½ï¼\nå¾å½¢åçé¢   âï¼å¼ºï¼     âï¼jsonéç½®ï¼   âï¼åå¯¼å¼ï¼         âï¼å½ä»¤è¡ï¼     âï¼yamléç½®ï¼\næ§è½      ä¸­ç­       é«           ä¸­ç­             é«          âï¼è¶é«ï¼\næ©å±æ§     æä»¶çæ     æä»¶æ¶æ        å°é­çæ           hadoopçæ   è¿æ¥å¨ä¸°å¯\næç¨æ§     âï¼ä½é¨æ§ï¼   âï¼å¤æï¼       âï¼å½äº§åï¼         ä¸­ç­         ä¸­ç­\néç¨åºæ¯    å¤æetl    ç¦»çº¿è¿ç§»        ä¸dmä¹é´æ°æ®åå¯¹è±¡è¿ç§»   hadoopéæ   å®æ¶æ°æ®ç®¡é\n\n\n# kettle\n\n> etlï¼extract-transform-loadçç¼©åï¼å³æ°æ®æ½åãè½¬æ¢ãè£è½½çè¿ç¨ï¼ï¼å¯¹äºä¼ä¸æè¡ä¸åºç¨æ¥è¯´ï¼æä»¬ç»å¸¸ä¼éå°åç§æ°æ®çå¤çï¼è½¬æ¢ï¼è¿ç§»ï¼æä»¥äºè§£å¹¶ææ¡ä¸ç§etlå·¥å·çä½¿ç¨ï¼å¿ä¸å¯å°ã\n\nå¸é¢ä¸å¸¸ç¨çetlå·¥å·æå¾å¤ï¼æ¯å¦sqoopï¼dataxï¼kettleï¼talendç­ï¼ä½ä¸ºä¸ä¸ªå¤§æ°æ®å·¥ç¨å¸ï¼æä»¬æå¥½è¦ææ¡å¶ä¸­çä¸¤å°ä¸ç§\n\n# å¤è¡¨æ°æ®è¿ç§»\n\n 1. åå»ºæ°æ®æºï¼æºåç®æ ï¼\n 2. ç¹å» å·¥å· -> åå¯¼ -> å¤å¶å¤è¡¨åå¯¼\n 3. éæ© æºæ°æ®åºåç®æ æ°æ®åºï¼éæ©éè¦è¿ç§»çè¡¨\n 4. æ§è¡çæçjob\n\néï¼è¿æ¥ oracle 19cæ­£å¸¸ï¼ä½æ¯è¯»ååæ°æ®æ¥éï¼ä¸æ¯æçå­ç¬¦éï¼ï¼å¨ oracleå®ç½ ä¸è½½ojdbcx-full.tar.gzï¼ååºå¶ä¸­çorai18n.jarï¼æ¾å¥ kettle ç lib ç®å½ä¸ã\n\n# è¡¨ååéå¯¼åºæå®è¡¨\n\néè¿å¾ªç¯è¡¨ååéï¼å¯¼åºæå®è¡¨æ°æ®ï¼å¯¼åºå° excel æ¶éåº¦è¾æ¢ï¼\n\nåæé¾æ¥\n\n\n# sqoop\n\nå¯¼å¥\n\n# å¨é¨å¯¼å¥\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t"\n\n# å¯¼å¥æå®å\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--columns id,sex \\\n--table staff\n\n# æ¥è¯¢å¯¼å¥\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--query \'select name,sex from staff where id <=1 and $conditions;\'\n\n# whereå³é®å­ç­é\n$ bin/sqoop import \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--target-dir /user/company \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--table staff \\\n--where "id=1"\n\n# å¯¼å¥å°hiveï¼ç¬¬ä¸æ­¥å°æ°æ®å¯¼å¥å°hdfsï¼ç¬¬äºæ­¥å°å¯¼å¥å°hdfsçæ°æ®è¿ç§»å°hiveä»åº\nbin/sqoop import \\\n--connect jdbc:mysql://faded103:3306/db_sqoop_test \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--target-dir /user/db_sqoop_test \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by "\\t" \\\n--hive-import \\\n--fields-terminated-by "\\t" \\\n--hive-overwrite \\\n--hive-table staff_hive\n\n\nå¯¼åº\n\n# hdfs/hiveå°rdms\n$ bin/sqoop export \\\n--connect jdbc:mysql://linux01:3306/company \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--num-mappers 1 \\\n--export-dir /user/hive/warehouse/staff_hive \\\n--input-fields-terminated-by "\\t"\n\n\n\n# datax\n\n# å®è£\n\n * ä¸è½½ wget http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz\n * è§£å tar -zxvf datax.tar.gz -c /opt/module\n * ä¾èµ\n   * å®è£jdk\n   * python\n\nsudo apt install python\n(ä¸å®è¦æ¯python2(2.7+?)\nå ä¸ºåé¢æ§è¡datax.pyçæ¶åï¼éé¢çpythonçprintä¼æ§è¡ä¸äºï¼å¯¼è´è¿è¡ä¸æåï¼ä¼æç¤ºä½ printè¯­æ³è¦å æ¬å·ï¼python2ä¸­å ä¸å é½è¡ï¼python3ä¸­å¿é¡»è¦å ï¼å¦åæ¥è¯­æ³éã)\n\n\n* **apache maven 3.x**   \n\n\nä¸è½½ wget https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\nè§£å tar -zxvf apache-maven-3.8.5-bin.tar.gz -c /opt/module/\nç¯å¢åé\nvim /etc/profile\n\nmaven_home=/opt/module/apache-maven-3.8.5\npath=${m2_home}/bin:${path}\n\nsource /etc/profile\n\n\n * jdkãpythonãmavené½å®è£æåäºï¼dataxè§£åç¼©æåäºï¼å¼å§èªæ£ï¼è¿å¥binç®å½ï¼å¼å§èªæ£\n\npython datax.py ../job/job.json\n\n\n# å­æ®µå¯¹åº\n\nåä¸ªæ°æ®åºådataxå­æ®µæ å°\n\n# ä½¿ç¨\n\n> æå¼å§æ¶æ¥éï¼ç¶åèèæ¯ä¸æ¯æmysql8.0çåå ï¼ä¸è½½æºç ä¿®æ¹ï¼ç±äºä¾èµä¸å¨(ä¸è½½jarå å®è£å°æ¬å°mavenåºä¹ä¸è¡)ï¼ææ¶æç½®ã\n> ç¶åèèå°mysqlwriterä¸­mysqlé©±å¨æ¢æ8.0çé©±å¨ã\n> è¿æ¥éï¼æ¯å ä¸ºdateæ¥ææ ¼å¼çé®é¢ï¼éå¶å®æ ¼å¼ã ï¼æ¢jaråè§£å³é®é¢ï¼ææªåç°å¶ä»é®é¢ï¼å¾è¡¥å\n\nç¹å»æ¥ç\n\njsonæä»¶ç¤ºä¾(csvææ¬å°mysql)\n\n{\n    "job": {\n        "setting": {\n                "speed": {\n                        "channel": 3 \n                }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "txtfilereader",\n                    "parameter": {\n                    "path": ["/home/banana/data/xxxxx.csv"],\n                    "encoding":"utf-8",\n                        "column": [\n                            { "index": 0, "type": "string" },\n                            { "index": 1, "type": "string" },\n                            { "index": 2, "type": "string" },\n                            { "index": 3, "type": "string" },\n                            { "index": 4, "type": "string" },\n                            { "index": 5, "type": "string" },\n                            { "index": 6, "type": "string" },\n                            { "index": 7, "type": "string" },\n                            { "index": 8, "type": "string" },\n                            { "index": 9, "type": "string" },\n                            { "index": 10, "type": "string" },\n                            { "index": 11, "type": "string" },\n                            { "index": 12, "type": "string" },\n                            { "index": 13, "type": "string" },\n                            { "index": 14, "type": "string" },\n                            { "index": 15, "type": "string" },\n                            { "index": 16, "type": "string" },\n                            { "index": 17, "type": "string" },\n                            { "index": 18, "type": "string" },\n                            { "index": 19, "type": "string" },\n                            { "index": 20, "type": "string" },\n                            { "index": 21, "type": "date", "format": "yyyy/mm/dd" },\n                            { "index": 22, "type": "date", "format": "yyyy/mm/dd" },\n                            { "index": 23, "type": "string" },\n                            { "index": 24, "type": "date", "format": "yyyy/mm/dd hh:mm:ss" },\n                            { "index": 25, "type": "string" },\n                            { "index": 26, "type": "string" },\n                            { "index": 27, "type": "string" },\n                            { "index": 28, "type": "string" },\n                            { "index": 29, "type": "string" },\n                            { "index": 30, "type": "date", "format": "yyyy/mm/dd hh:mm:ss" },\n                            { "index": 31, "type": "date", "format": "yyyy/mm/dd" },\n                            { "index": 32, "type": "string" },\n                            { "index": 33, "type": "string" },\n                            { "index": 34, "type": "string" },\n                            { "index": 35, "type": "string" },\n                            { "index": 36, "type": "string" },\n                            { "index": 37, "type": "string" },\n                            { "index": 38, "type": "string" },\n                            { "index": 39, "type": "string" },\n                            { "index": 40, "type": "string" },\n                            { "index": 41, "type": "long" },\n                            { "index": 42, "type": "long" }\n                        ],\n                    "skipheader": "true",\n                      "filedelimiter":","\n                    }\n                },\n                "writer": {\n                    "name": "mysqlwriter",\n                    "parameter": {\n                        "column": ["å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå","å­æ®µå"\n                        ],\n                        "presql": [\n                            "truncate table è¡¨å;"\n                        ],\n                        "connection": [\n                            {\n                               "jdbcurl": "jdbc:mysql://ip:port/book?&usessl=false&servertimezone=asia/shanghai",\n                               "table": ["è¡¨å"]\n                            }\n                        ],\n                        "password": "xxxx",\n                        "username": "banana",\n                        "writemode":"insert"\n                    }\n                }\n            }\n        ]\n    }\n}\n\n\n# datax-web å®è£\n\nå®æ¹å°å\n\n 1. ä¸è½½å®æ¹ç¼è¯ tar åï¼datax-web-2.1.2.tar.gz\n 2. è§£åï¼tar -zxvf datax-web-2.1.2.tar.gz -c ../module/\n 3. è¿å¥ç®å½ï¼cd ../module/datax-web-2.1.2\n 4. å®è£ï¼æå¨å®è£ ./bin/install.sh ä¸è¯¢é®å®è£ ./bin/install.sh --force\n 5. ç¬¬åæ­¥æè¾å¥mysqlè¿æ¥ç¸å³ä¿¡æ¯ï¼è¥æ²¡æè¾å¥éè¦æå¨åå§å vim datax-web-2.1.2/modules/datax-admin/conf/bootstrap.properties æ§è¡ /bin/db/datax-web.sql èæ¬\n 6. éç½®\n    * /modules/datax-admin/bin/env.properties éç½®é®ä»¶æå¡(å¯è·³è¿)\n    * /modules/datax-execute/bin/env.properties æå®python_pathçè·¯å¾\n 7. å½ä»¤ï¼å¯å¨ ./bin/start-all.sh åæ­¢ ./bin/stop-all.sh åæ¨¡ååæ­¢ ./bin/stop.sh -m {module_name}\n\n\n# è¾¾æ¢¦dtså·¥å·\n\n\n# seatunnel\n\n * åºç¨éæ: æ°æ®æ¥å£å½¢å¼\n * æ°æ®éæ: æ°æ®åºæ°æ®åæ­¥å½¢å¼\n\nä¸dataxç¸æ¯ï¼dataxåªè½åèç¹ï¼å­å¨ç¶é¢éå¶ãèseatunnelæ¯å°éç½®è½¬æ¢ä¸ºsparkæflinkä»£ç ï¼è½åå©éç¾¤çè½åï¼ä¸å­å¨ç¶é¢ãä¸æ¥æä¸°å¯çè¿æ¥å¨ã\n\nseatunnelä¸æ³¨äºæ°æ®éæåæ°æ®åæ­¥ï¼ä¸»è¦æ¨å¨è§£å³æ°æ®éæé¢åçå¸¸è§é®é¢ï¼\n\n * æ°æ®æºå¤æ ·ï¼å¸¸ç¨æ°æ®æºææ°ç¾ç§ï¼çæ¬ä¸å¼å®¹ã éçæ°ææ¯çåºç°ï¼æ´å¤çæ°æ®æºä¸æ­åºç°ã ç¨æ·å¾é¾æ¾å°ä¸ä¸ªè½å¤å¨é¢ãå¿«éæ¯æè¿äºæ°æ®æºçå·¥å·ã\n * åæ­¥åºæ¯å¤æï¼æ°æ®åæ­¥éè¦æ¯æç¦»çº¿å¨éåæ­¥ãç¦»çº¿å¢éåæ­¥ãcdcãå®æ¶åæ­¥ãå¨åºåæ­¥ç­å¤ç§åæ­¥åºæ¯ã\n * èµæºéæ±é«ï¼ç°æçæ°æ®éæåæ°æ®åæ­¥å·¥å·å¾å¾éè¦å¤§éçè®¡ç®èµæºæjdbcè¿æ¥èµæºæ¥å®ææµ·éå°è¡¨çå®æ¶åæ­¥ã è¿å¢å äºä¼ä¸çè´æã\n * ç¼ºä¹è´¨éåçæ§ï¼æ°æ®éæååæ­¥è¿ç¨ç»å¸¸ä¼åºç°æ°æ®ä¸¢å¤±æéå¤çæåµã åæ­¥è¿ç¨ç¼ºä¹çæ§ï¼æ æ³ç´è§äºè§£ä»»å¡è¿ç¨ä¸­æ°æ®ççå®æåµã\n * ææ¯æ å¤æï¼ä¼ä¸ä½¿ç¨çææ¯ç»ä»¶ä¸åï¼ç¨æ·éè¦éå¯¹ä¸åç»ä»¶å¼åç¸åºçåæ­¥ç¨åºæ¥å®ææ°æ®éæã\n * ç®¡çåç»´æ¤å°é¾ï¼åéäºåºå±ææ¯ç»ä»¶ï¼flink/sparkï¼ä¸åï¼ç¦»çº¿åæ­¥åå®æ¶åæ­¥å¾å¾éè¦åå¼å¼ååç®¡çï¼å¢å äºç®¡çåç»´æ¤çé¾åº¦ã\n\n\n# æ°æ®è¿ç§»æ¹æ¡ï¼ç»æåæ°æ®ï¼\n\n# éå\n\néè¦èèçç¹\n\n 1. æ¯å¦è½æä½æ°æ®åºãæå¡å¨\n 2. æ¯å¦ç½ç»çé\n 3. æ¯å¦åè®¸åæº\n 4. æ¯å¦å¼ææ°æ®æº\n 5. æ¯å¦å¢éè¿ç§»ï¼è¿ç§»ä¸æ¬¡ãæ¯å¤©è¿ç§»è¿æ¯å®æ¶åæ­¥ï¼\n 6. è¥å¢éï¼æ¯å¦ææ¶é´å­æ®µç­å¢éå­æ®µä¸æ­£å¸¸ç»´æ¤\n 7. è¥å¢éï¼å é¤æ°æ®æ¯å¦æ¯é»è¾å é¤ï¼è¯¥æä¹è¿ç§»ï¼\n\nåèå¾çï¼ä¸å¤§å¯¹ï¼ç®åççï¼\n\n# è°ä¼\n\nå·¥å·è°ä¼\n\n 1. åå­éç½®\n 2. å¤çº¿ç¨éç½®\n 3. å¹¶è¡æ°éç½®\n 4. åæ¹æäº¤\n 5. å¶ä»æ¹å¼ï¼éç½®åæ°ãä¼åç½ç»?ï¼\n\næ°æ®åºæ¹é¢\n\n 1. ç®æ åºå é¤ç´¢å¼ï¼éå¯ä¸ç´¢å¼ï¼æå¥½ç©ºè¡¨ï¼æ°æ®å¯¼å®ä¹ååå»ºç´¢å¼ï¼\n 2. ç®æ åºåç¨è§¦åå¨\n 3. å¶ä»ï¼è¥äºå¡è¿å¤§å¿è¦æ¶è°æ´redo logå¤§å°',charsets:{cjk:!0},lastUpdated:"2025/05/18, 02:30:32",lastUpdatedTimestamp:1747506632e3},{title:"Impala",frontmatter:{title:"Impala",date:"2024-07-27T23:52:53.000Z",permalink:"/pages/4d39ac/"},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/12.%20Impala/01.Impala.html",relativePath:"02.å¤§æ°æ®/12. Impala/01.Impala.md",key:"v-599d1974",path:"/pages/4d39ac/",headers:[{level:2,title:"Impala",slug:"impala",normalizedTitle:"impala",charIndex:2},{level:3,title:"Impala è¯­å¥",slug:"impala-è¯­å¥",normalizedTitle:"impala è¯­å¥",charIndex:13},{level:4,title:"Impala åºç¡è¯­å¥",slug:"impala-åºç¡è¯­å¥",normalizedTitle:"impala åºç¡è¯­å¥",charIndex:26},{level:4,title:"Impala ç»è®¡ä¿¡æ¯",slug:"impala-ç»è®¡ä¿¡æ¯",normalizedTitle:"impala ç»è®¡ä¿¡æ¯",charIndex:281},{level:4,title:"Impala åæ°æ®",slug:"impala-åæ°æ®",normalizedTitle:"impala åæ°æ®",charIndex:660},{level:4,title:"Impala-Shell ä¼ å¥åæ°",slug:"impala-shell-ä¼ å¥åæ°",normalizedTitle:"impala-shell ä¼ å¥åæ°",charIndex:975},{level:3,title:"Impala æ§è¡è®¡å",slug:"impala-æ§è¡è®¡å",normalizedTitle:"impala æ§è¡è®¡å",charIndex:1124},{level:4,title:"explainï¼æ§è¡åï¼",slug:"explain-æ§è¡å",normalizedTitle:"explainï¼æ§è¡åï¼",charIndex:1139},{level:4,title:"Summaryï¼æ§è¡åï¼",slug:"summary-æ§è¡å",normalizedTitle:"summaryï¼æ§è¡åï¼",charIndex:1308},{level:4,title:"Profileï¼æ§è¡å-æ´è¯¦ç»ï¼",slug:"profile-æ§è¡å-æ´è¯¦ç»",normalizedTitle:"profileï¼æ§è¡å-æ´è¯¦ç»ï¼",charIndex:1478}],headersStr:"Impala Impala è¯­å¥ Impala åºç¡è¯­å¥ Impala ç»è®¡ä¿¡æ¯ Impala åæ°æ® Impala-Shell ä¼ å¥åæ° Impala æ§è¡è®¡å explainï¼æ§è¡åï¼ Summaryï¼æ§è¡åï¼ Profileï¼æ§è¡å-æ´è¯¦ç»ï¼",content:"# Impala\n\n\n# Impala è¯­å¥\n\n# Impala åºç¡è¯­å¥\n\nä¸ Hive åºæ¬éç¨ï¼åæ¬å»ºè¡¨è¯­å¥ãå¨æååºç­\n\n-- æ¥çå»ºè¡¨è¯­å¥\nSHOW CREATE TABLE table_name;\n\n-- ååºä¿¡æ¯\nshow partitions table_name;\n\n-- æ¥çè¡¨è¯¦ç»ä¿¡æ¯\ndescribe extended table_name;\nDESCRIBE FORMATTED table_name;\n\n-- å é¤ååº\nalter table table_name drop partition (ny='201901');\n\n\n# Impala ç»è®¡ä¿¡æ¯\n\nå®ç½é¾æ¥ï¼impalaç»è®¡ä¿¡æ¯\n\n-- æ¥çè¡¨ç»è®¡ä¿¡æ¯\nshow table[COLUMN] stats table_name;\n\n-- æ¶éç»è®¡ä¿¡æ¯ï¼ä¸è½å¯¹åä¸ä¸ªè¡¨æ§è¡ä¸¤ç§ç»è®¡ä¿¡æ¯æ¶éï¼è¥è¦æ··ç¨ï¼éåå é¤ç»è®¡ä¿¡æ¯ï¼éæ°æ¶éï¼\nCOMPUTE STATS table_name;  -- å¨è¡¨ç»è®¡ä¿¡æ¯è®¡ç®ï¼ä¸å¸¦ååºçè¡¨ï¼\nCOMPUTE INCREMENTAL STATS table_name;  -- å¨è¡¨ç»è®¡ä¿¡æ¯è®¡ç®ï¼å¸¦ååºçè¡¨ï¼è¥è¡¨å®éæªååºåå®éæ§è¡ COMPUTE STATSï¼\nCOMPUTE INCREMENTAL STATS table_name PARTITION(year=2009, month>1);  -- ååºç»è®¡ä¿¡æ¯è®¡ç®\n\n-- å é¤è¡¨ç»è®¡ä¿¡æ¯\nDROP STATS table_name;\n\n\n# Impala åæ°æ®\n\nå è½½åæ°æ®åæ°\n\n-- ç´æ¥æåæ°æ®éç½®åæªå è½½ç¶æï¼ä¸æ¬¡ä½¿ç¨æ¶éæ°å è½½\nINVALIDATE METADATA table_name;\n\n-- è®© Impala å¢éæ´æ°æå®è¡¨çåæ°æ®\nREFRESH table_name;\n\n-- è®© impala æç¥å°å¨ Hive åå»ºçå½æ°\nREFRESH FUNCTIONS db_name;\n\n-- å¯å¨åæ°ï¼æ§å¶ Impala å¨ä½æ¶è¿è¡ metadata ç loadï¼ä¸º true æ¶å¨åå°èªå¨å è½½åæ°æ®ï¼ç¼ºç¹æ¯åæ°æ®å¸¸é©»åå­ï¼æ¯è¾å ç¨åå­ï¼ä¼ç¹æ¯ä¸ç¨å¨æ¥è¯¢æ¶å è½½åæ°æ®ï¼\nload_catalog_in_background = true;\n\n\n# Impala-Shell ä¼ å¥åæ°\n\n# impala æ§è¡ SQL æä»¶ä¸­è¯­å¥ï¼å¯ä¼ å¥åæ°\nny=`date -d \"$(date +%Y-%m-01) -1 month\" +%Y%m`\nimpala-shell --var=NY=${ny} -f impala_insert.sql\n\n\n\n# Impala æ§è¡è®¡å\n\n# explainï¼æ§è¡åï¼\n\n 1. ä½¿ç¨ explain è¯­å¥çæçæ§è¡è®¡åï¼å®éå¹¶æªæ§è¡ sql è¯­å¥ï¼æ ¹æ®ç»è®¡ä¿¡æ¯çæï¼ç»è®¡ä¿¡æ¯åç¡®ä¸å¦ä¼çæä¸åçæ§è¡è®¡åï¼å°¤å¶å½±åå¸¦å³èç SQL æ§è¡æçï¼\n 2. é¢è®¡ä½¿ç¨åå­æåµãæ¯å¦ç¼ºå°è¡¨ç»è®¡ä¿¡æ¯ï¼ï¼ãæ«æååºæ°ãæ«ææä»¶æ°ãæ«ææä»¶å¤§å°ãå³èæ¹å¼ï¼å¹¿æ­å°è¡¨ãæ··æ´åå¸ï¼ãæåºç­ä¿¡æ¯\n\n# Summaryï¼æ§è¡åï¼\n\n 1. æ§è¡åçæ\n 2. å¯ä»¥çå°æ¯ä¸ªæ­¥éª¤èµæºä½¿ç¨æåµï¼æ¯å¦ï¼\n    * ä½¿ç¨äºå ä¸ªèç¹\n    * è®¡åè¯»åå¤§å°åå®éè¯»åæä»¶å¤§å°\n    * è®¡åè¯»åè¡æ°ï¼ä¸º -1 æ¶ç¼ºä¹è¡¨ç»è®¡ä¿¡æ¯ï¼åå®éè¯»åè¡æ°\n    * å¹³åæ¶é´åæå¤§æ¶é´ï¼è¥æä¸ä¸ªèç¹èæ¶æ¯è¾é¿ï¼è¯´æå¯è½åºç°æ°æ®å¾ææèç¹èµæºä¸è¶³ç­æåµ\n\n# Profileï¼æ§è¡å-æ´è¯¦ç»ï¼\n\n 1. æ§è¡åçæï¼åå« ExpalinãSummary ç­ä¿¡æ¯ä¸æ´è¯¦ç»\n 2. Query Compilation ä¸ºç¼è¯é¶æ®µèæ¶ï¼Query Timeline ä¸ºæ¥è¯¢é¶æ®µèæ¶\n 3. æ¥çåä¸ªèç¹çè¯¦ç»ä¿¡æ¯ï¼ä½¿ç¨å­ç¬¦ä¸²âid=0âæ¥æç´¢Profileæä»¶ï¼â0âæ¯Summaryé¨åâ00:SCAN HDFSâä¸­æ¯ä¸è¡å¼å¤´çæä½ç¼å·ã",normalizedContent:"# impala\n\n\n# impala è¯­å¥\n\n# impala åºç¡è¯­å¥\n\nä¸ hive åºæ¬éç¨ï¼åæ¬å»ºè¡¨è¯­å¥ãå¨æååºç­\n\n-- æ¥çå»ºè¡¨è¯­å¥\nshow create table table_name;\n\n-- ååºä¿¡æ¯\nshow partitions table_name;\n\n-- æ¥çè¡¨è¯¦ç»ä¿¡æ¯\ndescribe extended table_name;\ndescribe formatted table_name;\n\n-- å é¤ååº\nalter table table_name drop partition (ny='201901');\n\n\n# impala ç»è®¡ä¿¡æ¯\n\nå®ç½é¾æ¥ï¼impalaç»è®¡ä¿¡æ¯\n\n-- æ¥çè¡¨ç»è®¡ä¿¡æ¯\nshow table[column] stats table_name;\n\n-- æ¶éç»è®¡ä¿¡æ¯ï¼ä¸è½å¯¹åä¸ä¸ªè¡¨æ§è¡ä¸¤ç§ç»è®¡ä¿¡æ¯æ¶éï¼è¥è¦æ··ç¨ï¼éåå é¤ç»è®¡ä¿¡æ¯ï¼éæ°æ¶éï¼\ncompute stats table_name;  -- å¨è¡¨ç»è®¡ä¿¡æ¯è®¡ç®ï¼ä¸å¸¦ååºçè¡¨ï¼\ncompute incremental stats table_name;  -- å¨è¡¨ç»è®¡ä¿¡æ¯è®¡ç®ï¼å¸¦ååºçè¡¨ï¼è¥è¡¨å®éæªååºåå®éæ§è¡ compute statsï¼\ncompute incremental stats table_name partition(year=2009, month>1);  -- ååºç»è®¡ä¿¡æ¯è®¡ç®\n\n-- å é¤è¡¨ç»è®¡ä¿¡æ¯\ndrop stats table_name;\n\n\n# impala åæ°æ®\n\nå è½½åæ°æ®åæ°\n\n-- ç´æ¥æåæ°æ®éç½®åæªå è½½ç¶æï¼ä¸æ¬¡ä½¿ç¨æ¶éæ°å è½½\ninvalidate metadata table_name;\n\n-- è®© impala å¢éæ´æ°æå®è¡¨çåæ°æ®\nrefresh table_name;\n\n-- è®© impala æç¥å°å¨ hive åå»ºçå½æ°\nrefresh functions db_name;\n\n-- å¯å¨åæ°ï¼æ§å¶ impala å¨ä½æ¶è¿è¡ metadata ç loadï¼ä¸º true æ¶å¨åå°èªå¨å è½½åæ°æ®ï¼ç¼ºç¹æ¯åæ°æ®å¸¸é©»åå­ï¼æ¯è¾å ç¨åå­ï¼ä¼ç¹æ¯ä¸ç¨å¨æ¥è¯¢æ¶å è½½åæ°æ®ï¼\nload_catalog_in_background = true;\n\n\n# impala-shell ä¼ å¥åæ°\n\n# impala æ§è¡ sql æä»¶ä¸­è¯­å¥ï¼å¯ä¼ å¥åæ°\nny=`date -d \"$(date +%y-%m-01) -1 month\" +%y%m`\nimpala-shell --var=ny=${ny} -f impala_insert.sql\n\n\n\n# impala æ§è¡è®¡å\n\n# explainï¼æ§è¡åï¼\n\n 1. ä½¿ç¨ explain è¯­å¥çæçæ§è¡è®¡åï¼å®éå¹¶æªæ§è¡ sql è¯­å¥ï¼æ ¹æ®ç»è®¡ä¿¡æ¯çæï¼ç»è®¡ä¿¡æ¯åç¡®ä¸å¦ä¼çæä¸åçæ§è¡è®¡åï¼å°¤å¶å½±åå¸¦å³èç sql æ§è¡æçï¼\n 2. é¢è®¡ä½¿ç¨åå­æåµãæ¯å¦ç¼ºå°è¡¨ç»è®¡ä¿¡æ¯ï¼ï¼ãæ«æååºæ°ãæ«ææä»¶æ°ãæ«ææä»¶å¤§å°ãå³èæ¹å¼ï¼å¹¿æ­å°è¡¨ãæ··æ´åå¸ï¼ãæåºç­ä¿¡æ¯\n\n# summaryï¼æ§è¡åï¼\n\n 1. æ§è¡åçæ\n 2. å¯ä»¥çå°æ¯ä¸ªæ­¥éª¤èµæºä½¿ç¨æåµï¼æ¯å¦ï¼\n    * ä½¿ç¨äºå ä¸ªèç¹\n    * è®¡åè¯»åå¤§å°åå®éè¯»åæä»¶å¤§å°\n    * è®¡åè¯»åè¡æ°ï¼ä¸º -1 æ¶ç¼ºä¹è¡¨ç»è®¡ä¿¡æ¯ï¼åå®éè¯»åè¡æ°\n    * å¹³åæ¶é´åæå¤§æ¶é´ï¼è¥æä¸ä¸ªèç¹èæ¶æ¯è¾é¿ï¼è¯´æå¯è½åºç°æ°æ®å¾ææèç¹èµæºä¸è¶³ç­æåµ\n\n# profileï¼æ§è¡å-æ´è¯¦ç»ï¼\n\n 1. æ§è¡åçæï¼åå« expalinãsummary ç­ä¿¡æ¯ä¸æ´è¯¦ç»\n 2. query compilation ä¸ºç¼è¯é¶æ®µèæ¶ï¼query timeline ä¸ºæ¥è¯¢é¶æ®µèæ¶\n 3. æ¥çåä¸ªèç¹çè¯¦ç»ä¿¡æ¯ï¼ä½¿ç¨å­ç¬¦ä¸²âid=0âæ¥æç´¢profileæä»¶ï¼â0âæ¯summaryé¨åâ00:scan hdfsâä¸­æ¯ä¸è¡å¼å¤´çæä½ç¼å·ã",charsets:{cjk:!0},lastUpdated:"2024/07/28, 01:18:14",lastUpdatedTimestamp:1722100694e3},{title:"docker",frontmatter:{title:"docker",date:"2022-03-02T21:08:40.000Z",permalink:"/pages/d89b45/",categories:["å¤§æ°æ®","å¶ä»"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/20.%E5%85%B6%E4%BB%96/01.docker.html",relativePath:"02.å¤§æ°æ®/20.å¶ä»/01.docker.md",key:"v-0c3bcc96",path:"/pages/d89b45/",headers:[{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:2},{level:2,title:"docker å½ä»¤",slug:"docker-å½ä»¤",normalizedTitle:"docker å½ä»¤",charIndex:367},{level:2,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:2697},{level:2,title:"å®è£dockerï¼é¿éäºï¼",slug:"å®è£docker-é¿éäº",normalizedTitle:"å®è£dockerï¼é¿éäºï¼",charIndex:3105},{level:3,title:"å¸è½½åæ¥å®è£çDocker",slug:"å¸è½½åæ¥å®è£çdocker",normalizedTitle:"å¸è½½åæ¥å®è£çdocker",charIndex:3165},{level:3,title:"å®è£DockerCE",slug:"å®è£dockerce",normalizedTitle:"å®è£dockerce",charIndex:3430},{level:3,title:"éç½®éå",slug:"éç½®éå",normalizedTitle:"éç½®éå",charIndex:3813},{level:3,title:"ä½¿ç¨Dockerå®è£Nginxæå¡",slug:"ä½¿ç¨dockerå®è£nginxæå¡",normalizedTitle:"ä½¿ç¨dockerå®è£nginxæå¡",charIndex:4203},{level:3,title:"æ­å»ºHadoop",slug:"æ­å»ºhadoop",normalizedTitle:"æ­å»ºhadoop",charIndex:4547}],headersStr:"æ¦è¿° docker å½ä»¤ å¶ä» å®è£dockerï¼é¿éäºï¼ å¸è½½åæ¥å®è£çDocker å®è£DockerCE éç½®éå ä½¿ç¨Dockerå®è£Nginxæå¡ æ­å»ºHadoop",content:'# æ¦è¿°\n\n> âä¼ è¯´ go è¯­è¨å¤©çæ¯æé«å¹¶åï¼æ§è¡éåº¦æ¥è¿C,ç½ç»æå¡æ¥è¿Nginxï¼ã\n> âGolangå®ç°äº CSP å¹¶åæ¨¡ååä¸ºå¹¶ååºç¡ï¼åºå±ä½¿ç¨goroutineåä¸ºå¹¶åå®ä½ï¼goroutineéå¸¸è½»éçº§å¯ä»¥åå»ºå åä¸ä¸ªå®ä½ãå®ä½é´éè¿ channel ç»§ç»­å¿åæ¶æ¯ä¼ éä½¿ä¹è§£è¦ï¼å¨è¯­è¨å±é¢å®ç°äºèªå¨è°åº¦ï¼è¿æ ·å±è½äºå¾å¤åé¨ç»èï¼å¯¹å¤æä¾ç®åçè¯­æ³å³é®å­ï¼å¤§å¤§ç®åäºå¹¶åç¼ç¨çæç»´è½¬æ¢åç®¡ççº¿ç¨çå¤ææ§ã\n> âä¸å¥è¯æ»ç»ï¼goè¯­è¨å¨è®¾è®¡çæ¶åä»å³é®å­å±é¢å®ç°äºå¤åç¨å¼åï¼å¥½åè¯­è¨å¤©çæ¯æé«å¹¶åä¸æ ·ã\n\nåæé¾æ¥\n\nDockeréç¨çæ¯Goè¯­è¨ç¼åçï¼è¯¥è¯­è¨ä¸ç§éæå¼ºç±»åãç¼è¯åãå¹¶ååï¼å¹¶å·æåå¾åæ¶åè½çç¼ç¨è¯­è¨ï¼å¸¸ç¨äºWebç¨åºå¼åï¼å¹¶ä¸å·ææççWebå¼åæ¡æ¶ï¼å¦BeegoãGinãIrisç­ç­ã\n\n\n# docker å½ä»¤\n\nDockerä»åº\n\ndocker å½ä»¤å¯ä»¥éè¿ --help è¿è¡æ¥çï¼æ¯å¦docker --helpãdocker run --helpç­\n\n 1.  docker version æ¥çdockerçæ¬ä¿¡æ¯\n\n 2.  docker info æ¥çç³»ç»ä¿¡æ¯ï¼åæ¬å½åç³»ç» docker éååå®¹å¨çæ°é\n\n 3.  docker images æ¥çå·²ä¸è½½éå\n\n 4.  docker search <éåå> ä»ä¸­å¤®ä»åºæç´¢éå\n\n 5.  docker pull éåå<:tags> ä»ä»åºæåãæ¯å¦ä¸è½½Tomcat 8.0 éåï¼docker pull tomcat:8.0\n\n 6.  å é¤éå\n     \n     * docker rmi repository<:tag> # æ ¹æ®åç§°åçæ¬å é¤ï¼å¦æä¸æå®tagï¼é»è®¤æ¯lastest\n     * docker rmi IMAGE_ID # æ ¹æ®éåidå é¤\n     * docker rmi IMAGE_ID1 IMAGE_ID2 ... # æ¹éå é¤\n\n 7.  docker run <åæ°> éåid|éååç§° è¿è¡ï¼ä»éåå°å®¹å¨ï¼\n     åæ°ï¼\n     \n     * --name: ä¸ºå¯å¨å®¹å¨æå®ä¸ä¸ªåå­ï¼æ³¨ææä¸¤ä¸ª --ã\n     * -dï¼è¡¨ç¤ºä»¥åå°æ¹å¼è¿è¡,å¹¶è¿åå®¹å¨IDã\n     * -iï¼ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ã\n     * -tï¼ä¸ºå®¹å¨éæ°åéä¸ä¸ªä¼ªè¾å¥ç»ç«¯ã\n     * -pï¼ä¸»æºç«¯å£:å®¹å¨ç«¯å£ | å®¹å¨ç«¯å£ | ip:ä¸»æºç«¯å£:å®¹å¨ç«¯å£ã\n     * -Pï¼éæºç«¯å£æ å°ï¼å®¹å¨åé¨ç«¯å£éæºæ å°å°ä¸»æºç«¯å£ã\n     * --link=[]ï¼æ·»å é¾æ¥å°å¦ä¸ä¸ªå®¹å¨ã\n     \n     æ¯å¦ï¼docker run -itd --name MyCentos7 centos:7ãdocker run --rm -it --cap-add SYS_ADMIN MyCentos7 shãdocker run -d -p 8888:8888 sqlflow/sqlflow:latest\n\n 8.  è¿å¥å®¹å¨\n     \n     * docker run -it [éåid|éåå] /bin/bash ä½¿ç¨runæ¹å¼å¨åå»ºæ¶è¿å¥\n     * docker attach --sig-proxy=false å®¹å¨åç§°|å®¹å¨ID ä½¿ç¨ attach å½ä»¤ï¼è¿å¥å·²å¯å¨çå®¹å¨\n     \n     > ç´æ¥è¿å¥ å®¹å¨å¯å¨å½ä»¤çç»ç«¯ï¼ä¸ä¼å¯å¨æ°è¿ç¨ï¼å¤ä¸ªattachè¿æ¥å±äº«å®¹å¨å±å¹ï¼åæ°ï¼--sig-proxy=false ç¡®ä¿CTRL-DæCTRL-Cä¸ä¼å³é­å®¹å¨\n     \n     * docker exec -it å®¹å¨åç§°|å®¹å¨ID /bin/bash ä½¿ç¨ exec å½ä»¤ï¼è¿å¥å·²å¯å¨çå®¹å¨ï¼è¿å¥å®¹å¨åå¼å¯ä¸ä¸ªæ°çç»ç«¯ï¼å¯ä»¥å¨éé¢è¿è¡æä½ï¼\n\n 9.  æ¥çææè¿è¡çå®¹å¨\n     \n     * docker ps æ¥çæ­£å¨è¿è¡çå®¹å¨\n     * docker ps -q æ¥çæ­£å¨è¿è¡çå®¹å¨çID\n     * docker ps -a æ¥çæ­£å¨è¿è¡+åå²è¿è¡è¿çå®¹å¨\n     * docker ps -s æ¾ç¤ºè¿è¡å®¹å¨æ»æä»¶å¤§å°\n\n 10. åæ­¢ä¸å é¤å®¹å¨\n     \n     * docker stopãstartãrestartã å®¹å¨å|å®¹å¨id åæ­¢ä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n     * docker kill å®¹å¨å|å®¹å¨id ææä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n     * docker rm å®¹å¨å|å®¹å¨id å é¤ä¸ä¸ªå·²åæ­¢çå®¹å¨\n     * docker rm -f å®¹å¨å|å®¹å¨id å é¤ä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n\n 11. docker logs <åæ°>å®¹å¨å|å®¹å¨id æ¥çå®¹å¨æ¥å¿\n     åæ°ï¼\n     \n     * -f è·è¸ªæ¥å¿è¾åº\n     * -tï¼æ¾ç¤ºæ¶é´æ³\n     * --tail Nï¼ä»ååºæåNæ¡æ¥å¿\n\n 12. docker top å®¹å¨ID|å®¹å¨å æ¥çå®¹å¨åè¿ç¨\n\n 13. docker inspect å®¹å¨ID|å®¹å¨å æ¥çå®¹å¨ä¿¡æ¯\n\n 14. ä¸»æºåå®¹å¨ä¹é´æ°æ®å¤å¶\n     \n     * docker cp å®¹å¨å|å®¹å¨ID:/[container_path] [local_path] å°å®¹å¨ä¸­çæä»¶copyè³æ¬å°è·¯å¾\n     * docker cp [local_path] å®¹å¨å|å®¹å¨ID:/[container_path] å°ä¸»æºæä»¶copyè³å®¹å¨\n     * docker cp [local_path] rabbitmq:/[container_path] å°ä¸»æºæä»¶copyè³å®¹å¨ï¼ç®å½éå½åä¸º[container_path]ï¼æ³¨æä¸ééå½åcopyçåºå«ï¼\n\n 15. å®¹å¨æåéåï¼æäº¤ä»åº\n     \n     * docker commit -a "ä½è" -m "ç®è¦è¯´æ" å®¹å¨ID æ³è¦æåæçéååç§°:çæ¬å· å°å®¹å¨æåæéå\n     * å»dockerå®ç½ï¼https://hub.docker.com/ï¼æ³¨åè´¦å·ï¼å¹¶ä¸å»ºç«ä»åº\n     * docker login ä»Linuxç»å½ï¼è¾å¥ç¨æ·åå¯ç \n     * docker tag æ¬å°çéåå dockerç¨æ·å/è¿ç¨ä»åºå è®¾ç½®éåæ ç­¾\n     * docker push dockerç¨æ·å/è¿ç¨ä»åºå æ¨éï¼ä¸ä¼ ï¼éå\n\nåæé¾æ¥\n\n\n# å¶ä»\n\n * Docker-Compose å­¦ä¹ \n * DockerFile å­¦ä¹ \n * ç½ç»éç¦»ãç¬ç«IPè®¾ç½®ï¼ä½¿Dockerå®¹å¨æ¥æå¯è¢«å®¿ä¸»æºä»¥å¤çæºå¨ç´æ¥è®¿é®çç¬ç«IPï¼ãç½æ¡¥å½åç©ºé´ãåå»ºç½æ¡¥\n * pipework ç½ç»å·¥å·ä½¿ç¨ï¼æéå®¹å¨é´çç½ç»ï¼\n\nç¹å»æ¥ç\n\n#åæ­¢docker\nsystemctl stop docker\n#docker0\nip link set dev docker0 down\n#å é¤docker0ç½æ¡¥\nbrctl delbr docker0\n#æ°å¢ä¸ä¸ªdocker0ç½æ¡¥\nbrctl addbr docker0\n#å¢å ç½å¡(è¿éipä¹å®å¨ä½¿ç¨è¿ä¸ª)\nip addr add 172.16.10.0/24 dev docker0\n#å¯ç¨ç½å¡\nip link set dev docker0 up\n#éå¯dockeræå¡\nsystemctl restart docker\n\n\n\n# å®è£dockerï¼é¿éäºï¼\n\n----------------------------------------\n\n\n# å¸è½½åæ¥å®è£çDocker\n\næ¥çå½ådockerç¶æ\nsystemctl status docker\n\nå¦ææ¯è¿è¡ç¶æååæ\nsystemctl stop docker\n\næ¥çyumå®è£çdockeræä»¶å\nyum list installed |grep docker\n\næ¥çdockerç¸å³çrpmæºæä»¶\nrpm -qa |grep docker\n\nå é¤ææå®è£çdockeræä»¶å\nyum -y remove docker.x86_64\n\nå é¤dockerçéåæä»¶ï¼é»è®¤å¨/var/lib/dockerç®å½ä¸\n\n\n\n# å®è£DockerCE\n\nDockeræä¸¤ä¸ªåæ¯çæ¬ï¼Docker CEåDocker EEï¼å³ç¤¾åºçåä¼ä¸çãæ¬æç¨åºäºCentOS 7å®è£Docker CEã\n\n 1. å®è£Dockerçä¾èµåºã yum install -y yum-utils device-mapper-persistent-data lvm2\n\n 2. æ·»å Docker CEçè½¯ä»¶æºä¿¡æ¯ yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n\n 3. å®è£Docker CE\n\nyum makecache fast\nyum -y install docker-ce\n\n\n 4. å¯å¨Dockeræå¡ systemctl start docker\n\n\n# éç½®éå\n\nDockerçé»è®¤å®æ¹è¿ç¨ä»åºæ¯hub.docker.comï¼ç±äºç½ç»åå ï¼ä¸è½½ä¸ä¸ªDockerå®æ¹éåå¯è½ä¼éè¦å¾é¿çæ¶é´ï¼çè³ä¸è½½å¤±è´¥ãä¸ºæ­¤ï¼é¿éäºå®¹å¨éåæå¡ACRæä¾äºå®æ¹çéåç«ç¹ï¼ä»èå éå®æ¹éåçä¸è½½ãä¸é¢ä»ç»å¦ä½ä½¿ç¨é¿éäºéåä»åºã\n\nå°ä¸é¢å½ä»¤ä¸­çéåä»åºå°åhttps://kqh8****.mirror.aliyuncs.comæ¿æ¢ä¸ºé¿éäºä¸ºæ¨æä¾çä¸å±éåå éå°åã\n\ntee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://kqh8****.mirror.aliyuncs.com"]\n}\nEOF\n\n\néæ°å è½½æå¡éç½®æä»¶ã systemctl daemon-reload\n\néå¯Dockeræå¡ systemctl restart docker\n\n\n# ä½¿ç¨Dockerå®è£Nginxæå¡\n\n 1. æ¥çDockeréåä»åºä¸­Nginxçå¯ç¨çæ¬ã docker search nginx\n 2. æåææ°ççNginxéåã docker pull nginx:latest\n 3. æ¥çæ¬å°éå docker images\n 4. è¿è¡å®¹å¨ docker run --name nginx-test -p 8080:80 -d nginx\n\nå½ä»¤åæ°è¯´æï¼\n\n--name nginx-testï¼å®¹å¨åç§°ã\n-p 8080:80ï¼ ç«¯å£è¿è¡æ å°ï¼å°æ¬å°8080ç«¯å£æ å°å°å®¹å¨åé¨ç80ç«¯å£ã\n-d nginxï¼ è®¾ç½®å®¹å¨å¨åå°ä¸ç´è¿è¡ã\n\n\n 5. å¨æµè§å¨å°åæ è¾å¥http://<ECSå¬ç½å°å>:8080è®¿é®Nginxæå¡\n\n\n# æ­å»ºHadoop\n\nä¸è½½centoséå\ndocker pull centos\n\nååå»ºä¸ä¸ªå®¹å¨åå¤å®è£jdkãhadoopä½ä¸ºåºç¡çæ¬\ndocker run -it --name hadoop101 -h hadoop 5d0da3dc9764 bash\n\nå®è£ä¸ä¸vimï¼å¥½åå®è£äºå¶ä»åºç¡ä¸è¥¿ï¼\nyum install vim\nFailed to set locale, defaulting to C.UTF-8\nCentOS Linux 8 - AppStream                                                                                                               2.6 MB/s | 8.1 MB     00:03    \nCentOS Linux 8 - BaseOS                                                                                                                  115 kB/s | 3.5 MB     00:31    \nCentOS Linux 8 - Extras\n\nyum install openssh-server\n     yum install rsync\n      yum install iputils-ping\n              yum install net-tools             ifconfig\n[root@hadoop opt]# mkdir /opt/modules\n[root@hadoop opt]# mkdir /opt/softwares\néå¯å·²åæ­¢çå®¹å¨\n[root@banana software]# docker ps -a\n[root@banana software]# docker start hadoop101\næ·è´è¿å®¹å¨\n docker cp ./env.tar.gz hadoop101:/opt/softwares\n è¿å¥å®¹å¨\n docker exec -it hadoop101 /bin/bash\n å®¹å¨åè§£å\n[root@hadoop softwares]# tar -zxvf env.tar.gz -C /opt/modules/\n[root@hadoop modules]# vim /root/.bashrc\n[root@hadoop modules]# source /root/.bashrc\n[root@hadoop modules]# echo $JAVA_HOME\nå®¹å¨è½¬ä¸ºéå\n\nå¤å¶éå\ndocker export hadoop_base > hadoop_base.tarå¯¼åºå®¹å¨\ndocker import hadoop_base.tar hadoopå¯¼å¥å®¹å¨ä¸ºæ°çhadoopéå\ndocker imagesæ¥çä¸ä¸ç°å¨æçéå\n\nå¯å¨ä¸ä¸ªå®¹å¨ä½ä¸ºhadoopéç¾¤\ndocker run -it -p 50070:50070 --name hadoop102 -h hadoop102 hadoop101 bash\ndocker run -it -p 8088:8088 --name hadoop103 -h hadoop103 hadoop101 bash\ndocker run -it --name hadoop104 -h hadoop104 hadoop101 bash\n\nvim /etc/hosts\n172.17.0.2 hadoop102\n172.17.0.3 hadoop103\n172.17.0.4 hadoop104\nä¿®æ¹å®ä¸»æºæ å° äºç¸pingä¸ä¸æ¥çæ¯å¦ç½ç»äºé\n\néç½®åå¯ç»å½\nssh-keygen -t rsa  # çæå¯é¥å¬é¥\nå¬é¥åéå°åå¯ç»å½çæºå¨ä¸ ä¹åsshæ²¡å®è£ä¸ï¼ï¼yum -y install openssh-clientsï¼\n    ssh-copy-id hadoop102 \nssh-copy-id hadoop103\nssh-copy-id hadoop104\n',normalizedContent:'# æ¦è¿°\n\n> âä¼ è¯´ go è¯­è¨å¤©çæ¯æé«å¹¶åï¼æ§è¡éåº¦æ¥è¿c,ç½ç»æå¡æ¥è¿nginxï¼ã\n> âgolangå®ç°äº csp å¹¶åæ¨¡ååä¸ºå¹¶ååºç¡ï¼åºå±ä½¿ç¨goroutineåä¸ºå¹¶åå®ä½ï¼goroutineéå¸¸è½»éçº§å¯ä»¥åå»ºå åä¸ä¸ªå®ä½ãå®ä½é´éè¿ channel ç»§ç»­å¿åæ¶æ¯ä¼ éä½¿ä¹è§£è¦ï¼å¨è¯­è¨å±é¢å®ç°äºèªå¨è°åº¦ï¼è¿æ ·å±è½äºå¾å¤åé¨ç»èï¼å¯¹å¤æä¾ç®åçè¯­æ³å³é®å­ï¼å¤§å¤§ç®åäºå¹¶åç¼ç¨çæç»´è½¬æ¢åç®¡ççº¿ç¨çå¤ææ§ã\n> âä¸å¥è¯æ»ç»ï¼goè¯­è¨å¨è®¾è®¡çæ¶åä»å³é®å­å±é¢å®ç°äºå¤åç¨å¼åï¼å¥½åè¯­è¨å¤©çæ¯æé«å¹¶åä¸æ ·ã\n\nåæé¾æ¥\n\ndockeréç¨çæ¯goè¯­è¨ç¼åçï¼è¯¥è¯­è¨ä¸ç§éæå¼ºç±»åãç¼è¯åãå¹¶ååï¼å¹¶å·æåå¾åæ¶åè½çç¼ç¨è¯­è¨ï¼å¸¸ç¨äºwebç¨åºå¼åï¼å¹¶ä¸å·ææççwebå¼åæ¡æ¶ï¼å¦beegoãginãirisç­ç­ã\n\n\n# docker å½ä»¤\n\ndockerä»åº\n\ndocker å½ä»¤å¯ä»¥éè¿ --help è¿è¡æ¥çï¼æ¯å¦docker --helpãdocker run --helpç­\n\n 1.  docker version æ¥çdockerçæ¬ä¿¡æ¯\n\n 2.  docker info æ¥çç³»ç»ä¿¡æ¯ï¼åæ¬å½åç³»ç» docker éååå®¹å¨çæ°é\n\n 3.  docker images æ¥çå·²ä¸è½½éå\n\n 4.  docker search <éåå> ä»ä¸­å¤®ä»åºæç´¢éå\n\n 5.  docker pull éåå<:tags> ä»ä»åºæåãæ¯å¦ä¸è½½tomcat 8.0 éåï¼docker pull tomcat:8.0\n\n 6.  å é¤éå\n     \n     * docker rmi repository<:tag> # æ ¹æ®åç§°åçæ¬å é¤ï¼å¦æä¸æå®tagï¼é»è®¤æ¯lastest\n     * docker rmi image_id # æ ¹æ®éåidå é¤\n     * docker rmi image_id1 image_id2 ... # æ¹éå é¤\n\n 7.  docker run <åæ°> éåid|éååç§° è¿è¡ï¼ä»éåå°å®¹å¨ï¼\n     åæ°ï¼\n     \n     * --name: ä¸ºå¯å¨å®¹å¨æå®ä¸ä¸ªåå­ï¼æ³¨ææä¸¤ä¸ª --ã\n     * -dï¼è¡¨ç¤ºä»¥åå°æ¹å¼è¿è¡,å¹¶è¿åå®¹å¨idã\n     * -iï¼ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ã\n     * -tï¼ä¸ºå®¹å¨éæ°åéä¸ä¸ªä¼ªè¾å¥ç»ç«¯ã\n     * -pï¼ä¸»æºç«¯å£:å®¹å¨ç«¯å£ | å®¹å¨ç«¯å£ | ip:ä¸»æºç«¯å£:å®¹å¨ç«¯å£ã\n     * -pï¼éæºç«¯å£æ å°ï¼å®¹å¨åé¨ç«¯å£éæºæ å°å°ä¸»æºç«¯å£ã\n     * --link=[]ï¼æ·»å é¾æ¥å°å¦ä¸ä¸ªå®¹å¨ã\n     \n     æ¯å¦ï¼docker run -itd --name mycentos7 centos:7ãdocker run --rm -it --cap-add sys_admin mycentos7 shãdocker run -d -p 8888:8888 sqlflow/sqlflow:latest\n\n 8.  è¿å¥å®¹å¨\n     \n     * docker run -it [éåid|éåå] /bin/bash ä½¿ç¨runæ¹å¼å¨åå»ºæ¶è¿å¥\n     * docker attach --sig-proxy=false å®¹å¨åç§°|å®¹å¨id ä½¿ç¨ attach å½ä»¤ï¼è¿å¥å·²å¯å¨çå®¹å¨\n     \n     > ç´æ¥è¿å¥ å®¹å¨å¯å¨å½ä»¤çç»ç«¯ï¼ä¸ä¼å¯å¨æ°è¿ç¨ï¼å¤ä¸ªattachè¿æ¥å±äº«å®¹å¨å±å¹ï¼åæ°ï¼--sig-proxy=false ç¡®ä¿ctrl-dæctrl-cä¸ä¼å³é­å®¹å¨\n     \n     * docker exec -it å®¹å¨åç§°|å®¹å¨id /bin/bash ä½¿ç¨ exec å½ä»¤ï¼è¿å¥å·²å¯å¨çå®¹å¨ï¼è¿å¥å®¹å¨åå¼å¯ä¸ä¸ªæ°çç»ç«¯ï¼å¯ä»¥å¨éé¢è¿è¡æä½ï¼\n\n 9.  æ¥çææè¿è¡çå®¹å¨\n     \n     * docker ps æ¥çæ­£å¨è¿è¡çå®¹å¨\n     * docker ps -q æ¥çæ­£å¨è¿è¡çå®¹å¨çid\n     * docker ps -a æ¥çæ­£å¨è¿è¡+åå²è¿è¡è¿çå®¹å¨\n     * docker ps -s æ¾ç¤ºè¿è¡å®¹å¨æ»æä»¶å¤§å°\n\n 10. åæ­¢ä¸å é¤å®¹å¨\n     \n     * docker stopãstartãrestartã å®¹å¨å|å®¹å¨id åæ­¢ä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n     * docker kill å®¹å¨å|å®¹å¨id ææä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n     * docker rm å®¹å¨å|å®¹å¨id å é¤ä¸ä¸ªå·²åæ­¢çå®¹å¨\n     * docker rm -f å®¹å¨å|å®¹å¨id å é¤ä¸ä¸ªè¿è¡ä¸­çå®¹å¨\n\n 11. docker logs <åæ°>å®¹å¨å|å®¹å¨id æ¥çå®¹å¨æ¥å¿\n     åæ°ï¼\n     \n     * -f è·è¸ªæ¥å¿è¾åº\n     * -tï¼æ¾ç¤ºæ¶é´æ³\n     * --tail nï¼ä»ååºæånæ¡æ¥å¿\n\n 12. docker top å®¹å¨id|å®¹å¨å æ¥çå®¹å¨åè¿ç¨\n\n 13. docker inspect å®¹å¨id|å®¹å¨å æ¥çå®¹å¨ä¿¡æ¯\n\n 14. ä¸»æºåå®¹å¨ä¹é´æ°æ®å¤å¶\n     \n     * docker cp å®¹å¨å|å®¹å¨id:/[container_path] [local_path] å°å®¹å¨ä¸­çæä»¶copyè³æ¬å°è·¯å¾\n     * docker cp [local_path] å®¹å¨å|å®¹å¨id:/[container_path] å°ä¸»æºæä»¶copyè³å®¹å¨\n     * docker cp [local_path] rabbitmq:/[container_path] å°ä¸»æºæä»¶copyè³å®¹å¨ï¼ç®å½éå½åä¸º[container_path]ï¼æ³¨æä¸ééå½åcopyçåºå«ï¼\n\n 15. å®¹å¨æåéåï¼æäº¤ä»åº\n     \n     * docker commit -a "ä½è" -m "ç®è¦è¯´æ" å®¹å¨id æ³è¦æåæçéååç§°:çæ¬å· å°å®¹å¨æåæéå\n     * å»dockerå®ç½ï¼https://hub.docker.com/ï¼æ³¨åè´¦å·ï¼å¹¶ä¸å»ºç«ä»åº\n     * docker login ä»linuxç»å½ï¼è¾å¥ç¨æ·åå¯ç \n     * docker tag æ¬å°çéåå dockerç¨æ·å/è¿ç¨ä»åºå è®¾ç½®éåæ ç­¾\n     * docker push dockerç¨æ·å/è¿ç¨ä»åºå æ¨éï¼ä¸ä¼ ï¼éå\n\nåæé¾æ¥\n\n\n# å¶ä»\n\n * docker-compose å­¦ä¹ \n * dockerfile å­¦ä¹ \n * ç½ç»éç¦»ãç¬ç«ipè®¾ç½®ï¼ä½¿dockerå®¹å¨æ¥æå¯è¢«å®¿ä¸»æºä»¥å¤çæºå¨ç´æ¥è®¿é®çç¬ç«ipï¼ãç½æ¡¥å½åç©ºé´ãåå»ºç½æ¡¥\n * pipework ç½ç»å·¥å·ä½¿ç¨ï¼æéå®¹å¨é´çç½ç»ï¼\n\nç¹å»æ¥ç\n\n#åæ­¢docker\nsystemctl stop docker\n#docker0\nip link set dev docker0 down\n#å é¤docker0ç½æ¡¥\nbrctl delbr docker0\n#æ°å¢ä¸ä¸ªdocker0ç½æ¡¥\nbrctl addbr docker0\n#å¢å ç½å¡(è¿éipä¹å®å¨ä½¿ç¨è¿ä¸ª)\nip addr add 172.16.10.0/24 dev docker0\n#å¯ç¨ç½å¡\nip link set dev docker0 up\n#éå¯dockeræå¡\nsystemctl restart docker\n\n\n\n# å®è£dockerï¼é¿éäºï¼\n\n----------------------------------------\n\n\n# å¸è½½åæ¥å®è£çdocker\n\næ¥çå½ådockerç¶æ\nsystemctl status docker\n\nå¦ææ¯è¿è¡ç¶æååæ\nsystemctl stop docker\n\næ¥çyumå®è£çdockeræä»¶å\nyum list installed |grep docker\n\næ¥çdockerç¸å³çrpmæºæä»¶\nrpm -qa |grep docker\n\nå é¤ææå®è£çdockeræä»¶å\nyum -y remove docker.x86_64\n\nå é¤dockerçéåæä»¶ï¼é»è®¤å¨/var/lib/dockerç®å½ä¸\n\n\n\n# å®è£dockerce\n\ndockeræä¸¤ä¸ªåæ¯çæ¬ï¼docker ceådocker eeï¼å³ç¤¾åºçåä¼ä¸çãæ¬æç¨åºäºcentos 7å®è£docker ceã\n\n 1. å®è£dockerçä¾èµåºã yum install -y yum-utils device-mapper-persistent-data lvm2\n\n 2. æ·»å docker ceçè½¯ä»¶æºä¿¡æ¯ yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n\n 3. å®è£docker ce\n\nyum makecache fast\nyum -y install docker-ce\n\n\n 4. å¯å¨dockeræå¡ systemctl start docker\n\n\n# éç½®éå\n\ndockerçé»è®¤å®æ¹è¿ç¨ä»åºæ¯hub.docker.comï¼ç±äºç½ç»åå ï¼ä¸è½½ä¸ä¸ªdockerå®æ¹éåå¯è½ä¼éè¦å¾é¿çæ¶é´ï¼çè³ä¸è½½å¤±è´¥ãä¸ºæ­¤ï¼é¿éäºå®¹å¨éåæå¡acræä¾äºå®æ¹çéåç«ç¹ï¼ä»èå éå®æ¹éåçä¸è½½ãä¸é¢ä»ç»å¦ä½ä½¿ç¨é¿éäºéåä»åºã\n\nå°ä¸é¢å½ä»¤ä¸­çéåä»åºå°åhttps://kqh8****.mirror.aliyuncs.comæ¿æ¢ä¸ºé¿éäºä¸ºæ¨æä¾çä¸å±éåå éå°åã\n\ntee /etc/docker/daemon.json <<-\'eof\'\n{\n  "registry-mirrors": ["https://kqh8****.mirror.aliyuncs.com"]\n}\neof\n\n\néæ°å è½½æå¡éç½®æä»¶ã systemctl daemon-reload\n\néå¯dockeræå¡ systemctl restart docker\n\n\n# ä½¿ç¨dockerå®è£nginxæå¡\n\n 1. æ¥çdockeréåä»åºä¸­nginxçå¯ç¨çæ¬ã docker search nginx\n 2. æåææ°ççnginxéåã docker pull nginx:latest\n 3. æ¥çæ¬å°éå docker images\n 4. è¿è¡å®¹å¨ docker run --name nginx-test -p 8080:80 -d nginx\n\nå½ä»¤åæ°è¯´æï¼\n\n--name nginx-testï¼å®¹å¨åç§°ã\n-p 8080:80ï¼ ç«¯å£è¿è¡æ å°ï¼å°æ¬å°8080ç«¯å£æ å°å°å®¹å¨åé¨ç80ç«¯å£ã\n-d nginxï¼ è®¾ç½®å®¹å¨å¨åå°ä¸ç´è¿è¡ã\n\n\n 5. å¨æµè§å¨å°åæ è¾å¥http://<ecså¬ç½å°å>:8080è®¿é®nginxæå¡\n\n\n# æ­å»ºhadoop\n\nä¸è½½centoséå\ndocker pull centos\n\nååå»ºä¸ä¸ªå®¹å¨åå¤å®è£jdkãhadoopä½ä¸ºåºç¡çæ¬\ndocker run -it --name hadoop101 -h hadoop 5d0da3dc9764 bash\n\nå®è£ä¸ä¸vimï¼å¥½åå®è£äºå¶ä»åºç¡ä¸è¥¿ï¼\nyum install vim\nfailed to set locale, defaulting to c.utf-8\ncentos linux 8 - appstream                                                                                                               2.6 mb/s | 8.1 mb     00:03    \ncentos linux 8 - baseos                                                                                                                  115 kb/s | 3.5 mb     00:31    \ncentos linux 8 - extras\n\nyum install openssh-server\n     yum install rsync\n      yum install iputils-ping\n              yum install net-tools             ifconfig\n[root@hadoop opt]# mkdir /opt/modules\n[root@hadoop opt]# mkdir /opt/softwares\néå¯å·²åæ­¢çå®¹å¨\n[root@banana software]# docker ps -a\n[root@banana software]# docker start hadoop101\næ·è´è¿å®¹å¨\n docker cp ./env.tar.gz hadoop101:/opt/softwares\n è¿å¥å®¹å¨\n docker exec -it hadoop101 /bin/bash\n å®¹å¨åè§£å\n[root@hadoop softwares]# tar -zxvf env.tar.gz -c /opt/modules/\n[root@hadoop modules]# vim /root/.bashrc\n[root@hadoop modules]# source /root/.bashrc\n[root@hadoop modules]# echo $java_home\nå®¹å¨è½¬ä¸ºéå\n\nå¤å¶éå\ndocker export hadoop_base > hadoop_base.tarå¯¼åºå®¹å¨\ndocker import hadoop_base.tar hadoopå¯¼å¥å®¹å¨ä¸ºæ°çhadoopéå\ndocker imagesæ¥çä¸ä¸ç°å¨æçéå\n\nå¯å¨ä¸ä¸ªå®¹å¨ä½ä¸ºhadoopéç¾¤\ndocker run -it -p 50070:50070 --name hadoop102 -h hadoop102 hadoop101 bash\ndocker run -it -p 8088:8088 --name hadoop103 -h hadoop103 hadoop101 bash\ndocker run -it --name hadoop104 -h hadoop104 hadoop101 bash\n\nvim /etc/hosts\n172.17.0.2 hadoop102\n172.17.0.3 hadoop103\n172.17.0.4 hadoop104\nä¿®æ¹å®ä¸»æºæ å° äºç¸pingä¸ä¸æ¥çæ¯å¦ç½ç»äºé\n\néç½®åå¯ç»å½\nssh-keygen -t rsa  # çæå¯é¥å¬é¥\nå¬é¥åéå°åå¯ç»å½çæºå¨ä¸ ä¹åsshæ²¡å®è£ä¸ï¼ï¼yum -y install openssh-clientsï¼\n    ssh-copy-id hadoop102 \nssh-copy-id hadoop103\nssh-copy-id hadoop104\n',charsets:{cjk:!0},lastUpdated:"2025/05/12, 13:54:05",lastUpdatedTimestamp:1747029245e3},{title:"è°åº¦å·¥å·",frontmatter:{title:"è°åº¦å·¥å·",date:"2022-02-28T10:14:49.000Z",permalink:"/pages/a04438/",categories:["å¤§æ°æ®","è°åº¦"],tags:[null]},regularPath:"/02.%E5%A4%A7%E6%95%B0%E6%8D%AE/16.%E8%B0%83%E5%BA%A6/01.%E8%B0%83%E5%BA%A6%E5%B7%A5%E5%85%B7.html",relativePath:"02.å¤§æ°æ®/16.è°åº¦/01.è°åº¦å·¥å·.md",key:"v-a5e93828",path:"/pages/a04438/",headers:[{level:3,title:"crontab",slug:"crontab",normalizedTitle:"crontab",charIndex:2},{level:3,title:"oozie",slug:"oozie",normalizedTitle:"oozie",charIndex:56},{level:3,title:"Azkaban",slug:"azkaban",normalizedTitle:"azkaban",charIndex:102},{level:3,title:"dolphin scheduler",slug:"dolphin-scheduler",normalizedTitle:"dolphin scheduler",charIndex:266},{level:3,title:"XXL-JOB",slug:"xxl-job",normalizedTitle:"xxl-job",charIndex:288},{level:3,title:"airflow",slug:"airflow",normalizedTitle:"airflow",charIndex:300}],headersStr:"crontab oozie Azkaban dolphin scheduler XXL-JOB airflow",content:"# crontab\n\nLinux èªå¸¦å½ä»¤ï¼ä½¿ç¨æ¹å¼ç®åï¼éåä¸æ¯éå¸¸å¤æçåºæ¯ï¼æ¯å¦åªæç§æ¶é´æ¥è°åº¦\n\n\n# oozie\n\nHadoop èªå¸¦çå¼æºè°åº¦ç³»ç»ï¼ä½¿ç¨æ¹å¼æ¯è¾å¤æï¼éåå¤§åé¡¹ç®åºæ¯\n\n\n# Azkaban\n\nä¸ä¸ªå¼æºè°åº¦ç³»ç»ï¼ä½¿ç¨æ¹å¼æ¯è¾ç®åï¼éåä¸­å°åé¡¹ç®åºæ¯\n\n> Azkabanæ¯ç±Linkedinå¼æºçä¸ä¸ªæ¹éå·¥ä½æµä»»å¡è°åº¦å¨ãç¨äºå¨ä¸ä¸ªå·¥ä½æµåä»¥ä¸ä¸ªç¹å®çé¡ºåºè¿è¡ä¸ç»å·¥ä½åæµç¨ãAzkabanå®ä¹äºä¸ç§KVæä»¶æ ¼å¼æ¥å»ºç«ä»»å¡ä¹é´çä¾èµå³ç³»ï¼å¹¶æä¾ä¸ä¸ªæäºä½¿ç¨çwebç¨æ·çé¢ç»´æ¤åè·è¸ªä½ çå·¥ä½æµã\n\n\n# dolphin scheduler\n\n\n# XXL-JOB\n\n\n# airflow",normalizedContent:"# crontab\n\nlinux èªå¸¦å½ä»¤ï¼ä½¿ç¨æ¹å¼ç®åï¼éåä¸æ¯éå¸¸å¤æçåºæ¯ï¼æ¯å¦åªæç§æ¶é´æ¥è°åº¦\n\n\n# oozie\n\nhadoop èªå¸¦çå¼æºè°åº¦ç³»ç»ï¼ä½¿ç¨æ¹å¼æ¯è¾å¤æï¼éåå¤§åé¡¹ç®åºæ¯\n\n\n# azkaban\n\nä¸ä¸ªå¼æºè°åº¦ç³»ç»ï¼ä½¿ç¨æ¹å¼æ¯è¾ç®åï¼éåä¸­å°åé¡¹ç®åºæ¯\n\n> azkabanæ¯ç±linkedinå¼æºçä¸ä¸ªæ¹éå·¥ä½æµä»»å¡è°åº¦å¨ãç¨äºå¨ä¸ä¸ªå·¥ä½æµåä»¥ä¸ä¸ªç¹å®çé¡ºåºè¿è¡ä¸ç»å·¥ä½åæµç¨ãazkabanå®ä¹äºä¸ç§kvæä»¶æ ¼å¼æ¥å»ºç«ä»»å¡ä¹é´çä¾èµå³ç³»ï¼å¹¶æä¾ä¸ä¸ªæäºä½¿ç¨çwebç¨æ·çé¢ç»´æ¤åè·è¸ªä½ çå·¥ä½æµã\n\n\n# dolphin scheduler\n\n\n# xxl-job\n\n\n# airflow",charsets:{cjk:!0},lastUpdated:"2024/06/18, 17:45:10",lastUpdatedTimestamp:171870391e4},{title:"ç³»ç»å½æ°ç¯",frontmatter:{title:"ç³»ç»å½æ°ç¯",date:"2022-03-02T17:21:38.000Z",permalink:"/pages/b5c27a/",categories:["æ°æ®åº","Oracle"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.Oracle/02.%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E7%AF%87.html",relativePath:"03.æ°æ®åº/01.Oracle/02.ç³»ç»å½æ°ç¯.md",key:"v-f125018c",path:"/pages/b5c27a/",headers:[{level:2,title:"Oracle",slug:"oracle",normalizedTitle:"oracle",charIndex:2},{level:3,title:"æ­£åæ¿æ¢å½æ°REGEXP_REPLACEï¼ä¸è§åæ¥æä¿®æ¹ï¼",slug:"æ­£åæ¿æ¢å½æ°regexp-replace-ä¸è§åæ¥æä¿®æ¹",normalizedTitle:"æ­£åæ¿æ¢å½æ°regexp_replaceï¼ä¸è§åæ¥æä¿®æ¹ï¼",charIndex:55},{level:3,title:"èåå½æ°lag/lead",slug:"èåå½æ°lag-lead",normalizedTitle:"èåå½æ°lag/lead",charIndex:1618},{level:3,title:"èåå½æ°wm_concat",slug:"èåå½æ°wm-concat",normalizedTitle:"èåå½æ°wm_concat",charIndex:1903},{level:3,title:"åè¡å½æ°L[R]PAD",slug:"åè¡å½æ°l-r-pad",normalizedTitle:"åè¡å½æ°l[r]pad",charIndex:2455},{level:3,title:"åè¡å½æ°MD5å å¯",slug:"åè¡å½æ°md5å å¯",normalizedTitle:"åè¡å½æ°md5å å¯",charIndex:2693},{level:3,title:"SYS.UTLMATCH.editdistance_similarity ææ¬ç¸ä¼¼åº¦è®¡ç®",slug:"sys-utl-match-edit-distance-similarity-ææ¬ç¸ä¼¼åº¦è®¡ç®",normalizedTitle:"sys.utlmatch.editdistance_similarity ææ¬ç¸ä¼¼åº¦è®¡ç®",charIndex:null},{level:3,title:"oracleå®ç°æ°æ®ç¸è£ææ",slug:"oracleå®ç°æ°æ®ç¸è£ææ",normalizedTitle:"oracleå®ç°æ°æ®ç¸è£ææ",charIndex:3454},{level:3,title:"oracleè¡åè½¬æ¢",slug:"oracleè¡åè½¬æ¢",normalizedTitle:"oracleè¡åè½¬æ¢",charIndex:3937},{level:4,title:"è¡è½¬å",slug:"è¡è½¬å",normalizedTitle:"è¡è½¬å",charIndex:3951},{level:4,title:"åè½¬è¡",slug:"åè½¬è¡",normalizedTitle:"åè½¬è¡",charIndex:4136},{level:3,title:"èªå®ä¹å½æ°(å­å¨è¿ç¨)",slug:"èªå®ä¹å½æ°-å­å¨è¿ç¨",normalizedTitle:"èªå®ä¹å½æ°(å­å¨è¿ç¨)",charIndex:4239},{level:3,title:"MERGE INTO è¯­æ³",slug:"merge-into-è¯­æ³",normalizedTitle:"merge into è¯­æ³",charIndex:4764},{level:3,title:"ä¸å¸¸ç¨è¯­æ³",slug:"ä¸å¸¸ç¨è¯­æ³",normalizedTitle:"ä¸å¸¸ç¨è¯­æ³",charIndex:5242},{level:4,title:"è§¦åå¨",slug:"è§¦åå¨",normalizedTitle:"è§¦åå¨",charIndex:5251},{level:4,title:"åºåå« CLOB å­æ®µçèæ¬",slug:"åºåå«-clob-å­æ®µçèæ¬",normalizedTitle:"åºåå« clob å­æ®µçèæ¬",charIndex:5756}],headersStr:"Oracle æ­£åæ¿æ¢å½æ°REGEXP_REPLACEï¼ä¸è§åæ¥æä¿®æ¹ï¼ èåå½æ°lag/lead èåå½æ°wm_concat åè¡å½æ°L[R]PAD åè¡å½æ°MD5å å¯ SYS.UTLMATCH.editdistance_similarity ææ¬ç¸ä¼¼åº¦è®¡ç® oracleå®ç°æ°æ®ç¸è£ææ oracleè¡åè½¬æ¢ è¡è½¬å åè½¬è¡ èªå®ä¹å½æ°(å­å¨è¿ç¨) MERGE INTO è¯­æ³ ä¸å¸¸ç¨è¯­æ³ è§¦åå¨ åºåå« CLOB å­æ®µçèæ¬",content:"# Oracle\n\n----------------------------------------\n\n\n# æ­£åæ¿æ¢å½æ°REGEXP_REPLACEï¼ä¸è§åæ¥æä¿®æ¹ï¼\n\næ¥ææ ¼å¼æ£æ¥\n\n-- æ£æ¥å¤§è´æ ¼å¼\n-- ^\\d{4}([-/])\\d{2}([-/])\\d{2}(\\s+\\d{2}:\\d{2}:\\d{2}){0,1}$'\n\n-- æ£æ¥é¨åå¼ï¼é¨åæä»½ãæ¥æãæ¶åç§ï¼\n-- ^\\d{4}[-/.](0[1-9]|1[0-2])[-/.]([012][0-9]|3[0-1])\\s+([01][0-9]|2[0-3]):[0-5]\\d:[0-5]\\d$\n\n\n01-1æ -19\n\n-- æ¥çNLS_TIMESTAMP_FORMATåNLS_DATE_LANGUAGEåæ°åSYSTIMESTAMP æ°æ®æ ¼å¼\nselect * from v$nls_parameters; \nSELECT SYSTIMESTAMP FROM DUAL;\n-- ç¡®å®NLS_TIMESTAMP_FORMATæ ¼å¼\n-- alter session set NLS_TIMESTAMP_FORMAT = 'YYYY-MM-DD HH.MI.SS.FF8 AM';  -- å¦æåæ°NLS_TIMESTAMP_FORMATæ ¼å¼ä¸æ¯DD-MON-RR HH.MI.SSXFF AMé¦åè¦è°æ´è¯¥åæ°\n-- æ¥çNLS_DATE_LANGUAGEæ¯SIMPLIFIED CHINESEè¿æ¯AMERICAï¼å¦ææ¯AMERICAéè¦ä¿®æ¹æSIMPLIFIED CHINESEï¼\nALTER SESSION SET nls_date_language='SIMPLIFIED CHINESE';\n\nSELECT TO_DATE('01-1æ -19', 'DD-MON -RR') FROM DUAL;\n\n\n2021-1-02\n\n-- 1. å¯ä»¥ç´æ¥è½¬æ¥æ \nSELECT to_date('2021-1-02', 'yyyy-MM-dd hh24:mi:ss') FROM dual;\n\n-- 2. å½å­ç¬¦ä¸²å¤ç\nselect CASE WHEN REGEXP_LIKE('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{1})$') THEN REGEXP_REPLACE('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{1})$', '\\1-0\\2-0\\3') \n            WHEN REGEXP_LIKE('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{2})$') THEN REGEXP_REPLACE('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{2})$', '\\1-0\\2-\\3')\n            WHEN REGEXP_LIKE('2021-1-02', '^(\\d{4})[-|/](\\d{2})[-|/](\\d{1})$') THEN REGEXP_REPLACE('2021-1-02', '^(\\d{4})[-|/](\\d{2})[-|/](\\d{1})$', '\\1-\\2-0\\3')\n            ELSE '2021-1-02' END\nfrom dual;\n\n-- è½¬ä¸ºæ¥ææ ¼å¼ï¼æ½ååºå¹´ãæãæ¥ï¼å·¦è¡¥å¨ ä½æ°\nselect extract(YEAR from date'2022-8-11') || LPAD(extract(MONTH from date'2022-8-11'), 2, '0') || LPAD(extract(DAY from date'2022-8-11'), 2, '0') year from dual;\n\n\n\n# èåå½æ°lag/lead\n\nlead(value_expr [,offset][,default]) over([query_partition_clause] order by Order_by_clause)\n\nlag(exp_str,offset,defval) over()\nexp_str æ¯è¦åå¯¹æ¯çå­æ®µ\noffset æ¯exp_strå­æ®µçåç§»é æ¯å¦è¯´ offset ä¸º2 å æ¿exp_strçç¬¬ä¸è¡åç¬¬ä¸è¡å¯¹æ¯ï¼ç¬¬äºè¡åç¬¬åè¡ï¼ä¾æ¬¡ç±»æ¨ï¼offsetçé»è®¤å¼ä¸º1ï¼\ndefvalæ¯å½è¯¥å½æ°æ å¼å¯ç¨çæåµä¸è¿åçå¼ãLeadå½æ°çç¨æ³ç±»ä¼¼ã\n\n\n\n# èåå½æ°wm_concat\n\n> æ³¨ï¼Oracle 19cä¸­ï¼wm_concatå¤±æãwm_concatå½æ°æ¯oracleçéå¬å¼å½æ°ï¼å¨æ°ççoracleä¸­ä¸æ¯æè¯¥å½æ°ã\n> è§£å³æ¹æ³ï¼\n> \n>  1. åå»º wm_concat å½æ°ï¼ åèè¿æ¥ï¼https://blog.csdn.net/sun2012930/article/details/111712882\n>  2. ä½¿ç¨ listagg(å¤è¡è½¬åè¡çå,åéç¬¦) within group(order by æåºå­æ®µ) åæ³æ¿æ¢ï¼è¿åç±»åä¸ºå­ç¬¦ä¸²ï¼é¿åº¦æå¤§ä¸º4000ï¼\n>  3. ä½¿ç¨ xmlagg(xmlparse( content(å¤è¡è½¬åè¡çå) ) order by æåºå­æ®µ).getclobval() åæ³æ¿æ¢\n\nå¤è¡åä¸è¡\n\n * ç±»ä¼¼äº MySQL ä¸­ç GROUP_CONCAT GROUP_CONCAT( [distinct] è¦è¿æ¥çå­æ®µ [ORDER BY æåºå­æ®µ ASC/DESC ] [separator 'åéç¬¦'] )\n * ç±»ä¼¼äº Hive ä¸­ç concat_ws + collect_listï¼collect_setï¼ææ concat_ws('_', collect_set(id))\n\n\n# åè¡å½æ°L[R]PAD\n\nè¯­æ³\nLPAD(string,padded_length,[ pad_string]) :ä»å·¦å¼å§å¡«å,L:left å·¦,PAD:pad å¡«å\nRPAD(string,padded_length,[ pad_string]) :ä»å³å¼å§å¡«å,R:right å³,PAD:pad å¡«å\n\nè§£é\nstringï¼åæ°æ®ï¼å³è¦è¢«å¡«åçæ°æ®ï¼\npadded_lengthï¼å¡«ååçé¿åº¦ï¼\npad_stringï¼å¡«åå­ç¬¦ä¸² å¯éå¡«ï¼å¦æä¸å¡«å°±ç²è´´ç©ºæ ¼\n\n\n\n# åè¡å½æ°MD5å å¯\n\nselect utl_raw.cast_to_raw(DBMS_OBFUSCATION_TOOLKIT.MD5(INPUT_STRING => 'test')) from dual\n\n\n\n# SYS.UTL_MATCH.edit_distance_similarity ææ¬ç¸ä¼¼åº¦è®¡ç®\n\nç¹å»æ¥ç\n\nè¿ç¨æ¢³çï¼\n\nç±äºæä¸¤ä¸ªæ°æ®éè¿ä¸çè¡¨æ°æ®è¿è¡å¯¹æ¯ï¼ä¸ç¼ç ä¸ä¸è´ä¸è½è¿è¡æ¯å¯¹ï¼åªè½éè¿åä¸åºåï¼ç¸ä¼¼åç§°è¿è¡æ¯å¯¹ï¼ç¡®è®¤ä¸å¯¹ä¸å³ç³»ã\n\nç¡®å®æè·¯æ¯ææ°æ®åæå¤é¨åï¼è½ç¡®è®¤ä¸å¯¹ä¸å³ç³»çåæå¥ç»æè¡¨ä¸­ã\n\nåè½æ³å°çæ¯éè¿ç­å¼å³èåè½å³èä¸çåæå¥å°ç»æè¡¨ã\n\nåéè¿instr(str1, str2) > 0å³èï¼å°æ­¤é¨åæ°æ®æå¥å°ç»æè¡¨ã\n\nåç±äºinstråªè½æ¾åºè¿ç»­å­ä¸²ï¼éè¿ç»­çç®ç§°ä¸ç±»å¹¶ä¸è½è§£å³ï¼éç¨èªå®ä¹å½æ°éè¿éåç­å­ç¬¦ä¸²çæ¯ä¸ªå­ç¬¦ï¼å°é¿å­ç¬¦ä¸²ä¸­æ¥æ¾å¦æææ¾ä¸å°çå­ç¬¦ï¼è¿å-1ï¼è¥å¨è½æ¾å°è¿åç­ä¸²çé¿åº¦ã\n\nåç±äºæäºåç§°æéå«å­æå¶ä»é®é¢ï¼ä¸é¢çèªå®ä¹å½æ°å¹¶ä¸è½è§£å³ï¼æèèå¤æ­å­ç¬¦ä¸²çç¸ä¼¼åº¦ï¼Oracleèªå¸¦å¤æ­ææ¬ç¸ä¼¼åº¦å½æ°ï¼æç¨å¶ä½ä¸ºå³èæ¡ä»¶ã\n\n\nSELECT  A.AGENCY_ID,A.AGENCY_CODE,A.AGENCY_NAME,A.MOF_DIV_CODE,A.MOF_DIV_NAME,B.GUID,B.NAME,B.CODE,PROVINCE \n FROM  YTHDWXX A\n JOIN  DZXTDWXX B\n   ON  SYS.UTL_MATCH.edit_distance_similarity(a.agency_name,b.name) > 80\n  AND  MOF_DIV_CODE = rpad(PROVINCE, 9, 0)\n\n\n\n# oracleå®ç°æ°æ®ç¸è£ææ\n\n--oracleæ ¹æ®åéç¬¦å°ä¸è¡æåä¸ºå¤è¡\nwith tmp as --ä¸´æ¶æ°æ®é\n(select '1,2,3' val\n    from dual\n  union all\n  select '4,5,6' val\n    from dual)\nselect regexp_substr(t.val, '[^,]+', 1, t2.lv)--æªåå¯¹åºè¡æ°çæ°æ®\n  from tmp t,\n      (select level lv--çæè¡æ°åºåæ°æ® 1å°æå¤§è¡æ°\n          from (select max(regexp_count(a.val, '[^,]+', 1)) r_count--è®¡ç®æ°æ®éä¸­æååæå¤§çè¡æ°\n                  from tmp a) b\n        connect by level <= b.r_count) t2\nwhere regexp_substr(t.val, '[^,]+', 1, t2.lv) is not null-- æé¤æç©ºçæ°æ®\n\n\n\n# oracleè¡åè½¬æ¢\n\n# è¡è½¬å\n\n 1. PIVOT\n\nSELECT * FROM ï¼æ°æ®æ¥è¯¢éï¼\nPIVOT\n(\n SUM(Score/*è¡è½¬åå åçå¼*/) FOR \n coursename/*éè¦è¡è½¬åçå*/ IN (è½¬æ¢ååçå¼)\n)\n\n-- éä¿çè§£å°±æ¯æä¸åææäºå¤åï¼è¢«æçåä¸è½åè¢«selectï¼\n\n\n 2. éè¿ group by + case when å¤æ­å®ç°\n\n# åè½¬è¡\n\n 1. unpivot\n\nselect å­æ®µ from æ°æ®é\nunpivotï¼èªå®ä¹åå/*åçå¼*/ for èªå®ä¹åå inï¼ååï¼ï¼\n\n\n 2. å©ç¨union all è¿è¡æ¼æ¥\n\n\n# èªå®ä¹å½æ°(å­å¨è¿ç¨)\n\nç¨äºå¹éç®ç§°\n\n-- ä¸ä¸ªå­ç¬¦ä¸²åå«å¦ä¸ä¸ªå­ç¬¦ä¸²ä¸­çææå­ç¬¦\ncreate or replace function checks(v_a varchar2,v_b varchar)\nreturn number\nas\n  num number;\n  cou number;\n  j number;\n  index1 number;\nbegin\n  num := -1;\n  cou:=0;\n  j := 0;\n  index1 := 1;\n  for i in 1..length(v_b) loop\n     j := instr( substr(v_a,index1,length(v_a)), substr(v_b,i,1) );\n     if j > 0 then\n      cou:=cou+1;\n      index1 := index1 + j;\n     else\n      return num;\n     end if;\n  end loop;\n  return cou;\n  --dbms_output.put_line(cou||'    '||length(v_b));\nend;\n\n\n\n# MERGE INTO è¯­æ³\n\nMERGE INTOæ¯Oracle SQLä¸­ç¨äºå°ä¸ä¸ªè¡¨ä¸­çæ°æ®åå¹¶å°å¦ä¸ä¸ªè¡¨ä¸­çå½ä»¤ãè¯¥å½ä»¤å¯ä»¥æ ¹æ®æå®çæ¡ä»¶æ¥ç¡®å®å¨ç®æ è¡¨ä¸­æ¯æå¥è¿æ¯æ´æ°è®°å½ã\n\nMERGE INTO target_table\nUSING source_table\nON (condition)\nWHEN MATCHED THEN\n  UPDATE SET target_column = source_column\nWHEN NOT MATCHED THEN\n  INSERT (target_column1, target_column2, ...) VALUES (source_column1, source_column2, ...)\n\n\nå¶ä¸­\n\n * target_tableæ¯è¦åå¹¶å°çç®æ è¡¨ï¼\n * source_tableæ¯è¦ä»ä¸­è·åæ°æ®çæºè¡¨ï¼\n * conditionæ¯ç¨äºå¹éç®æ è¡¨åæºè¡¨çæ¡ä»¶ï¼\n * UPDATE SETè¯­å¥ç¨äºæ´æ°ç®æ è¡¨ä¸­å·²æçè®°å½ï¼\n * INSERTè¯­å¥ç¨äºå°æºè¡¨ä¸­ä¸å­å¨çè®°å½æå¥å°ç®æ è¡¨ä¸­ã\n\n\n# ä¸å¸¸ç¨è¯­æ³\n\n# è§¦åå¨\n\n-- åå¦ä¸ä¸ªæ°æ®åºåæ­¥è¡¨æ°æ®\nCREATE OR REPLACE TRIGGER \"è§¦åå¨å\"\n  after insert or update or delete on è¡¨å\n    for each row\nbegin\n  if inserting then\n    insert into è¡¨å@INNERDB\n      (ID,\n       CODE,\n       NAME)\n    values\n      (:new.ID,\n       :new.CODE,\n       :new.NAME);\n  elsif updating then\n    delete è¡¨å@INNERDB where ID = :old.ID;\ninsert into è¡¨å@INNERDB\n(ID,\n CODE,\n NAME)\nvalues\n    (:new.ID,\n     :new.CODE,\n     :new.NAME);\nelsif deleting then\n    delete è¡¨å@INNERDB where ID = :old.ID;\nend if;\nend;\n\n\n# åºåå« CLOB å­æ®µçèæ¬\n\næ¡ä»¶åè®¸çè¯è¿æ¯ç¨ KettleãDataXç­è¿ç§»å·¥å·ï¼æ²¡æè¿ä¸ªéº»ç¦äº\n\n-- 1. ä½¿ç¨ plsql å·¥å·æ¥è¯¢è¯¥èæ¬ï¼éç¨äºä¸å®é¿åº¦çï¼\n\tSELECT q_id,\n         q_code,\n         q_title,\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 1, 3000)) <> 0 THEN 'TO_CLOB(''' || SUBSTR(Q_TABLE, 1, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 3001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 3001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 6001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 6001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 9001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 9001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 12001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 12001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 15001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 15001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 18001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 18001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 21001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 21001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 24001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 24001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 27001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 27001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 30001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 30001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 33001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 33001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 36001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 36001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 39001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 39001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 42001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 42001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 45001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 45001, 3000) || ''')' ELSE NULL END ||\n         CASE WHEN LENGTH(SUBSTR(Q_TABLE, 48001, 3000)) <> 0 THEN '||TO_CLOB(''' || SUBSTR(Q_TABLE, 48001, 3000) || ''')' ELSE NULL END\n  FROM table_name t \n  order by sort_index;\n-- 2. ä½¿ç¨å¯¼åºåè½å¯¼åºSQLèæ¬\n-- 3. æ¿æ¢ SQL èæ¬ä¸­çåå®¹\n-- 3.1 å°'TO_CLOB(''æ¿æ¢ä¸ºTO_CLOB('\n-- 3.2 å°'')||TO_CLOB(''æ¿æ¢ä¸º')||TO_CLOB('\n-- 3.3 å°'')',æ¿æ¢ä¸º'),\n-- 4 æ¿æ¢ç¹æ®å­ç¬¦& ä¸º ' || chr(38) || '\n",normalizedContent:"# oracle\n\n----------------------------------------\n\n\n# æ­£åæ¿æ¢å½æ°regexp_replaceï¼ä¸è§åæ¥æä¿®æ¹ï¼\n\næ¥ææ ¼å¼æ£æ¥\n\n-- æ£æ¥å¤§è´æ ¼å¼\n-- ^\\d{4}([-/])\\d{2}([-/])\\d{2}(\\s+\\d{2}:\\d{2}:\\d{2}){0,1}$'\n\n-- æ£æ¥é¨åå¼ï¼é¨åæä»½ãæ¥æãæ¶åç§ï¼\n-- ^\\d{4}[-/.](0[1-9]|1[0-2])[-/.]([012][0-9]|3[0-1])\\s+([01][0-9]|2[0-3]):[0-5]\\d:[0-5]\\d$\n\n\n01-1æ -19\n\n-- æ¥çnls_timestamp_formatånls_date_languageåæ°åsystimestamp æ°æ®æ ¼å¼\nselect * from v$nls_parameters; \nselect systimestamp from dual;\n-- ç¡®å®nls_timestamp_formatæ ¼å¼\n-- alter session set nls_timestamp_format = 'yyyy-mm-dd hh.mi.ss.ff8 am';  -- å¦æåæ°nls_timestamp_formatæ ¼å¼ä¸æ¯dd-mon-rr hh.mi.ssxff amé¦åè¦è°æ´è¯¥åæ°\n-- æ¥çnls_date_languageæ¯simplified chineseè¿æ¯americaï¼å¦ææ¯americaéè¦ä¿®æ¹æsimplified chineseï¼\nalter session set nls_date_language='simplified chinese';\n\nselect to_date('01-1æ -19', 'dd-mon -rr') from dual;\n\n\n2021-1-02\n\n-- 1. å¯ä»¥ç´æ¥è½¬æ¥æ \nselect to_date('2021-1-02', 'yyyy-mm-dd hh24:mi:ss') from dual;\n\n-- 2. å½å­ç¬¦ä¸²å¤ç\nselect case when regexp_like('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{1})$') then regexp_replace('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{1})$', '\\1-0\\2-0\\3') \n            when regexp_like('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{2})$') then regexp_replace('2021-1-02', '^(\\d{4})[-|/](\\d{1})[-|/](\\d{2})$', '\\1-0\\2-\\3')\n            when regexp_like('2021-1-02', '^(\\d{4})[-|/](\\d{2})[-|/](\\d{1})$') then regexp_replace('2021-1-02', '^(\\d{4})[-|/](\\d{2})[-|/](\\d{1})$', '\\1-\\2-0\\3')\n            else '2021-1-02' end\nfrom dual;\n\n-- è½¬ä¸ºæ¥ææ ¼å¼ï¼æ½ååºå¹´ãæãæ¥ï¼å·¦è¡¥å¨ ä½æ°\nselect extract(year from date'2022-8-11') || lpad(extract(month from date'2022-8-11'), 2, '0') || lpad(extract(day from date'2022-8-11'), 2, '0') year from dual;\n\n\n\n# èåå½æ°lag/lead\n\nlead(value_expr [,offset][,default]) over([query_partition_clause] order by order_by_clause)\n\nlag(exp_str,offset,defval) over()\nexp_str æ¯è¦åå¯¹æ¯çå­æ®µ\noffset æ¯exp_strå­æ®µçåç§»é æ¯å¦è¯´ offset ä¸º2 å æ¿exp_strçç¬¬ä¸è¡åç¬¬ä¸è¡å¯¹æ¯ï¼ç¬¬äºè¡åç¬¬åè¡ï¼ä¾æ¬¡ç±»æ¨ï¼offsetçé»è®¤å¼ä¸º1ï¼\ndefvalæ¯å½è¯¥å½æ°æ å¼å¯ç¨çæåµä¸è¿åçå¼ãleadå½æ°çç¨æ³ç±»ä¼¼ã\n\n\n\n# èåå½æ°wm_concat\n\n> æ³¨ï¼oracle 19cä¸­ï¼wm_concatå¤±æãwm_concatå½æ°æ¯oracleçéå¬å¼å½æ°ï¼å¨æ°ççoracleä¸­ä¸æ¯æè¯¥å½æ°ã\n> è§£å³æ¹æ³ï¼\n> \n>  1. åå»º wm_concat å½æ°ï¼ åèè¿æ¥ï¼https://blog.csdn.net/sun2012930/article/details/111712882\n>  2. ä½¿ç¨ listagg(å¤è¡è½¬åè¡çå,åéç¬¦) within group(order by æåºå­æ®µ) åæ³æ¿æ¢ï¼è¿åç±»åä¸ºå­ç¬¦ä¸²ï¼é¿åº¦æå¤§ä¸º4000ï¼\n>  3. ä½¿ç¨ xmlagg(xmlparse( content(å¤è¡è½¬åè¡çå) ) order by æåºå­æ®µ).getclobval() åæ³æ¿æ¢\n\nå¤è¡åä¸è¡\n\n * ç±»ä¼¼äº mysql ä¸­ç group_concat group_concat( [distinct] è¦è¿æ¥çå­æ®µ [order by æåºå­æ®µ asc/desc ] [separator 'åéç¬¦'] )\n * ç±»ä¼¼äº hive ä¸­ç concat_ws + collect_listï¼collect_setï¼ææ concat_ws('_', collect_set(id))\n\n\n# åè¡å½æ°l[r]pad\n\nè¯­æ³\nlpad(string,padded_length,[ pad_string]) :ä»å·¦å¼å§å¡«å,l:left å·¦,pad:pad å¡«å\nrpad(string,padded_length,[ pad_string]) :ä»å³å¼å§å¡«å,r:right å³,pad:pad å¡«å\n\nè§£é\nstringï¼åæ°æ®ï¼å³è¦è¢«å¡«åçæ°æ®ï¼\npadded_lengthï¼å¡«ååçé¿åº¦ï¼\npad_stringï¼å¡«åå­ç¬¦ä¸² å¯éå¡«ï¼å¦æä¸å¡«å°±ç²è´´ç©ºæ ¼\n\n\n\n# åè¡å½æ°md5å å¯\n\nselect utl_raw.cast_to_raw(dbms_obfuscation_toolkit.md5(input_string => 'test')) from dual\n\n\n\n# sys.utl_match.edit_distance_similarity ææ¬ç¸ä¼¼åº¦è®¡ç®\n\nç¹å»æ¥ç\n\nè¿ç¨æ¢³çï¼\n\nç±äºæä¸¤ä¸ªæ°æ®éè¿ä¸çè¡¨æ°æ®è¿è¡å¯¹æ¯ï¼ä¸ç¼ç ä¸ä¸è´ä¸è½è¿è¡æ¯å¯¹ï¼åªè½éè¿åä¸åºåï¼ç¸ä¼¼åç§°è¿è¡æ¯å¯¹ï¼ç¡®è®¤ä¸å¯¹ä¸å³ç³»ã\n\nç¡®å®æè·¯æ¯ææ°æ®åæå¤é¨åï¼è½ç¡®è®¤ä¸å¯¹ä¸å³ç³»çåæå¥ç»æè¡¨ä¸­ã\n\nåè½æ³å°çæ¯éè¿ç­å¼å³èåè½å³èä¸çåæå¥å°ç»æè¡¨ã\n\nåéè¿instr(str1, str2) > 0å³èï¼å°æ­¤é¨åæ°æ®æå¥å°ç»æè¡¨ã\n\nåç±äºinstråªè½æ¾åºè¿ç»­å­ä¸²ï¼éè¿ç»­çç®ç§°ä¸ç±»å¹¶ä¸è½è§£å³ï¼éç¨èªå®ä¹å½æ°éè¿éåç­å­ç¬¦ä¸²çæ¯ä¸ªå­ç¬¦ï¼å°é¿å­ç¬¦ä¸²ä¸­æ¥æ¾å¦æææ¾ä¸å°çå­ç¬¦ï¼è¿å-1ï¼è¥å¨è½æ¾å°è¿åç­ä¸²çé¿åº¦ã\n\nåç±äºæäºåç§°æéå«å­æå¶ä»é®é¢ï¼ä¸é¢çèªå®ä¹å½æ°å¹¶ä¸è½è§£å³ï¼æèèå¤æ­å­ç¬¦ä¸²çç¸ä¼¼åº¦ï¼oracleèªå¸¦å¤æ­ææ¬ç¸ä¼¼åº¦å½æ°ï¼æç¨å¶ä½ä¸ºå³èæ¡ä»¶ã\n\n\nselect  a.agency_id,a.agency_code,a.agency_name,a.mof_div_code,a.mof_div_name,b.guid,b.name,b.code,province \n from  ythdwxx a\n join  dzxtdwxx b\n   on  sys.utl_match.edit_distance_similarity(a.agency_name,b.name) > 80\n  and  mof_div_code = rpad(province, 9, 0)\n\n\n\n# oracleå®ç°æ°æ®ç¸è£ææ\n\n--oracleæ ¹æ®åéç¬¦å°ä¸è¡æåä¸ºå¤è¡\nwith tmp as --ä¸´æ¶æ°æ®é\n(select '1,2,3' val\n    from dual\n  union all\n  select '4,5,6' val\n    from dual)\nselect regexp_substr(t.val, '[^,]+', 1, t2.lv)--æªåå¯¹åºè¡æ°çæ°æ®\n  from tmp t,\n      (select level lv--çæè¡æ°åºåæ°æ® 1å°æå¤§è¡æ°\n          from (select max(regexp_count(a.val, '[^,]+', 1)) r_count--è®¡ç®æ°æ®éä¸­æååæå¤§çè¡æ°\n                  from tmp a) b\n        connect by level <= b.r_count) t2\nwhere regexp_substr(t.val, '[^,]+', 1, t2.lv) is not null-- æé¤æç©ºçæ°æ®\n\n\n\n# oracleè¡åè½¬æ¢\n\n# è¡è½¬å\n\n 1. pivot\n\nselect * from ï¼æ°æ®æ¥è¯¢éï¼\npivot\n(\n sum(score/*è¡è½¬åå åçå¼*/) for \n coursename/*éè¦è¡è½¬åçå*/ in (è½¬æ¢ååçå¼)\n)\n\n-- éä¿çè§£å°±æ¯æä¸åææäºå¤åï¼è¢«æçåä¸è½åè¢«selectï¼\n\n\n 2. éè¿ group by + case when å¤æ­å®ç°\n\n# åè½¬è¡\n\n 1. unpivot\n\nselect å­æ®µ from æ°æ®é\nunpivotï¼èªå®ä¹åå/*åçå¼*/ for èªå®ä¹åå inï¼ååï¼ï¼\n\n\n 2. å©ç¨union all è¿è¡æ¼æ¥\n\n\n# èªå®ä¹å½æ°(å­å¨è¿ç¨)\n\nç¨äºå¹éç®ç§°\n\n-- ä¸ä¸ªå­ç¬¦ä¸²åå«å¦ä¸ä¸ªå­ç¬¦ä¸²ä¸­çææå­ç¬¦\ncreate or replace function checks(v_a varchar2,v_b varchar)\nreturn number\nas\n  num number;\n  cou number;\n  j number;\n  index1 number;\nbegin\n  num := -1;\n  cou:=0;\n  j := 0;\n  index1 := 1;\n  for i in 1..length(v_b) loop\n     j := instr( substr(v_a,index1,length(v_a)), substr(v_b,i,1) );\n     if j > 0 then\n      cou:=cou+1;\n      index1 := index1 + j;\n     else\n      return num;\n     end if;\n  end loop;\n  return cou;\n  --dbms_output.put_line(cou||'    '||length(v_b));\nend;\n\n\n\n# merge into è¯­æ³\n\nmerge intoæ¯oracle sqlä¸­ç¨äºå°ä¸ä¸ªè¡¨ä¸­çæ°æ®åå¹¶å°å¦ä¸ä¸ªè¡¨ä¸­çå½ä»¤ãè¯¥å½ä»¤å¯ä»¥æ ¹æ®æå®çæ¡ä»¶æ¥ç¡®å®å¨ç®æ è¡¨ä¸­æ¯æå¥è¿æ¯æ´æ°è®°å½ã\n\nmerge into target_table\nusing source_table\non (condition)\nwhen matched then\n  update set target_column = source_column\nwhen not matched then\n  insert (target_column1, target_column2, ...) values (source_column1, source_column2, ...)\n\n\nå¶ä¸­\n\n * target_tableæ¯è¦åå¹¶å°çç®æ è¡¨ï¼\n * source_tableæ¯è¦ä»ä¸­è·åæ°æ®çæºè¡¨ï¼\n * conditionæ¯ç¨äºå¹éç®æ è¡¨åæºè¡¨çæ¡ä»¶ï¼\n * update setè¯­å¥ç¨äºæ´æ°ç®æ è¡¨ä¸­å·²æçè®°å½ï¼\n * insertè¯­å¥ç¨äºå°æºè¡¨ä¸­ä¸å­å¨çè®°å½æå¥å°ç®æ è¡¨ä¸­ã\n\n\n# ä¸å¸¸ç¨è¯­æ³\n\n# è§¦åå¨\n\n-- åå¦ä¸ä¸ªæ°æ®åºåæ­¥è¡¨æ°æ®\ncreate or replace trigger \"è§¦åå¨å\"\n  after insert or update or delete on è¡¨å\n    for each row\nbegin\n  if inserting then\n    insert into è¡¨å@innerdb\n      (id,\n       code,\n       name)\n    values\n      (:new.id,\n       :new.code,\n       :new.name);\n  elsif updating then\n    delete è¡¨å@innerdb where id = :old.id;\ninsert into è¡¨å@innerdb\n(id,\n code,\n name)\nvalues\n    (:new.id,\n     :new.code,\n     :new.name);\nelsif deleting then\n    delete è¡¨å@innerdb where id = :old.id;\nend if;\nend;\n\n\n# åºåå« clob å­æ®µçèæ¬\n\næ¡ä»¶åè®¸çè¯è¿æ¯ç¨ kettleãdataxç­è¿ç§»å·¥å·ï¼æ²¡æè¿ä¸ªéº»ç¦äº\n\n-- 1. ä½¿ç¨ plsql å·¥å·æ¥è¯¢è¯¥èæ¬ï¼éç¨äºä¸å®é¿åº¦çï¼\n\tselect q_id,\n         q_code,\n         q_title,\n         case when length(substr(q_table, 1, 3000)) <> 0 then 'to_clob(''' || substr(q_table, 1, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 3001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 3001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 6001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 6001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 9001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 9001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 12001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 12001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 15001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 15001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 18001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 18001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 21001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 21001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 24001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 24001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 27001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 27001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 30001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 30001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 33001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 33001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 36001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 36001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 39001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 39001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 42001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 42001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 45001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 45001, 3000) || ''')' else null end ||\n         case when length(substr(q_table, 48001, 3000)) <> 0 then '||to_clob(''' || substr(q_table, 48001, 3000) || ''')' else null end\n  from table_name t \n  order by sort_index;\n-- 2. ä½¿ç¨å¯¼åºåè½å¯¼åºsqlèæ¬\n-- 3. æ¿æ¢ sql èæ¬ä¸­çåå®¹\n-- 3.1 å°'to_clob(''æ¿æ¢ä¸ºto_clob('\n-- 3.2 å°'')||to_clob(''æ¿æ¢ä¸º')||to_clob('\n-- 3.3 å°'')',æ¿æ¢ä¸º'),\n-- 4 æ¿æ¢ç¹æ®å­ç¬¦& ä¸º ' || chr(38) || '\n",charsets:{cjk:!0},lastUpdated:"2025/05/12, 13:54:05",lastUpdatedTimestamp:1747029245e3},{title:"ä¸MySQLè¯­æ³åºå«",frontmatter:{title:"ä¸MySQLè¯­æ³åºå«",date:"2022-03-31T14:19:35.000Z",permalink:"/pages/c2df29/",categories:["æ°æ®åº","Oracle"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.Oracle/06.%E4%B8%8EMySQL%E8%AF%AD%E6%B3%95%E5%8C%BA%E5%88%AB.html",relativePath:"03.æ°æ®åº/01.Oracle/06.ä¸MySQLè¯­æ³åºå«.md",key:"v-01457896",path:"/pages/c2df29/",headers:[{level:4,title:"1. æ°æ®ç±»å",slug:"_1-æ°æ®ç±»å",normalizedTitle:"1. æ°æ®ç±»å",charIndex:2},{level:4,title:"2. å½æ°",slug:"_2-å½æ°",normalizedTitle:"2. å½æ°",charIndex:420},{level:4,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:2201}],headersStr:"1. æ°æ®ç±»å 2. å½æ° å¶ä»",content:"# 1. æ°æ®ç±»å\n\n * Numberç±»å\n\nââMySQLä¸­æ¯æ²¡æNumberç±»åçï¼ä½æint/decimal ç±»åï¼Oracleä¸­çNumber(5,1)å¯¹åºMySQLä¸­çdecimal(5,1)ï¼Number(5) å¯¹åº int(5)ãMySQLä¸­çæ°å­åç±»åæ¯è¾å¤ï¼åçä¹æ¯è¾ç»ï¼è¿ætinyintãsmallintãmediumintãbigintç­ç±»å\n\n * varchar2(n)ç±»å\n\nââMySQLä¸­å¯¹åºOracle Varchar2(n)ç±»åçæ¿ä»£ç±»åæ¯varchar(n)ç±»åã\n\n * Date ç±»å\n\nââMySQL ä¸­çæ¥ææ¶é´ç±»åæDateãTimeãDatetimeç­ç±»åï¼MySQLä¸­Dateç±»åä»è¡¨ç¤ºæ¥æ(å¹´-æ-æ¥)ï¼Timeç±»åä»è¡¨ç¤ºæ¶é´ï¼æ¶:å:ç§ï¼ï¼èDatetimeç±»åè¡¨ç¤ºæ¥ææ¶é´(å¹´-æ-æ¥ æ¶:å:ç§)ï¼Oracleä¸­çDateç±»ååMySQLä¸­çDatetimeç±»åä¸è´ã\n\n# 2. å½æ°\n\n * length(str)å½æ°\n\nââOracleä¸­çlength(str)æ¯è·åå­ç¬¦ä¸²é¿åº¦çå½æ°ï¼MySQL ä¸­å¯¹åºçå½æ°ä¸ºchar_length(str)ã\n\n * sys_guid()å½æ°\n\nââOracleä¸­å¯éè¿sys_guid()å½æ°æ¯çæéæºåºåï¼MySQLéè¿UUID()çæéæºåºåã\n\n * æ¶é´æ ¼å¼åå½æ°\n   \n   * æ¶é´è½¬æ¢ä¸ºå­ç¬¦ä¸² MySQL: date_format(NOW(),'%Y-%m-%d') â Oracle: to_char(sysdate, 'YYYY-MM-DD')\n   * å­ç¬¦ä¸²è½¬æ¢ä¸ºæ¶é´ MySQL: str_to_date('2019-01-01','%Y-%m-%d') â Oracle: to_date('2019-01-01', 'YYYY-MM-DD');\n   * æ¶åç§çå½æ°è½¬æ¢ DATE_FORMAT(NOW(),'%Y-%m-%d %H:%i:%s') â str_to_date('2019-01-01','%Y-%m-%d %H:%i:%s')\n   \n   æ³¨æ: MySQLä¸è½ç´æ¥ä¸¤ä¸ªæ¥æç¨åå·ç¸å, å®ä¼å»æè¿æ¥ç¬¦è½¬ææ°å­è¿è¡è®¡ç®, ç»ææ²¡æä»»ä½æä¹\n\n * æ¡ä»¶å½æ° nvl()ãnvl2()ãdecode()\n   \n   * nvl(col, 0) â Oralceå½æ°: colä¸ºç©ºï¼åè¿åå¼å0ï¼å¦ååcol â MySQL: ifnull(col, 0)\n   * nvl2(expr1,expr2,expr3) â Oralceå½æ°: å¦æexpr1ä¸ä¸ºnullï¼åè¿åexpr2ï¼å¦åè¿åexpr3 â MySQL: if(expr1,expr2,expr3)\n   * DECODE(value, val1, val2, val3) â Oralceå½æ°: å¦ævalueç­äºval1ï¼åè¿åval2ï¼å¦åè¿åval3 â MySQL: if(value=val1, val2, val3)\n   * DECODE(value, if1, val1, if2,val2,...,ifn, valn, val) â å¦ævalueç­äºif1ï¼åè¿åval1ï¼å¦ævalueç­äºif2ï¼åè¿åvalue2...å¦ævalueç­äºifnï¼åè¿åvalnï¼å¦åè¿åval â MySQL: case when value=if1 then val1 when value=if2 then val2,,,when value=ifn then valn else val end\n\n * trunc()å½æ°\n   \n   * TRUNC(12.123) â Oracle: è¿åæ´æ°(12) â MySQL: truncate(12.123, 0)\n   * TRUNC(12.123, 2) â Oracle: è¿åå¼ä¿ç2ä¸ºå°æ°(12.12) â MySQL: truncate(12.123, 2)\n   * TRUNC(SYSDATE) â Oracle: è¿åå¼ä¸º(2019-07-26 00:00:00) â MySQL: cast(now() as datetime)ï¼è¿åå¼ä¸º(2019-07-26 14:11:38)\n\n> MySQLçcastå½æ°è¯­æ³ä¸ºï¼CAST(xxx AS ç±»å) ï¼å¯ç¨ç±»åä¸ºï¼äºè¿å¶,åå¸¦binaryåç¼çææ:BINARYï¼å­ç¬¦å,å¯å¸¦åæ°:CHAR()ï¼æ¥æ:DATEï¼æ¶é´:TIMEï¼æ¥ææ¶é´å: DATETIMEï¼æµ®ç¹æ°: DECIMALï¼æ´æ°:SIGNEDï¼æ ç¬¦å·æ´æ°:UNSIGNEDï¼\n\n * to_char() / to_number()\n   \n   * to_char(123) â Oracle: æ°å­123è½¬ä¸ºå­ç¬¦ä¸²123 â MySQL: CAST(123 AS CHAR(3))\n   * to_number('123') â Oracle: å­ç¬¦ä¸²123è½¬æ¢ä¸ºæ°å­ç±»å â MySQL: å¯¹åºçå½æ°ä¸ºcast('123' as SIGNED)ï¼\n\n * sysdate\n\nââsysdate â Oracle: è¿åå½åæ¥æ+æ¶é´ â MySQL: now()\n\n# å¶ä»\n\n * å¼å·\n\nââMySQLå¯è¯å«åå¼å·ååå¼å·ï¼åå¼å·`ä¸ºå­æ®µåï¼ï¼Oracleåªè½è¯å«åå¼å·ï¼åå¼å·ä¸ºå­æ®µåï¼ã\n\n * å­ç¬¦ä¸²è¿æ¥ç¬¦\n\nââOracle: å¯ç¨'||'æ¥è¿æ¥å¤ä¸ªå­ç¬¦ä¸²ï¼concatåªè½è¿æ¥ä¸¤ä¸ªå­ç¬¦ä¸²ï¼â MySQL: concat()å½æ°å¯è¿æ¥å¤ä¸ªå­ç¬¦ä¸²\n\n * ROWNUM\n\nââOracleå¯éè¿rownumè·åånæ¡è®°å½ï¼MySQLéè¿limitæ¥è·åånæ¡è®°å½ï¼Oracleä¸­rownumä½ä¸ºwhereæ¡ä»¶çä¸é¨åï¼èMySQLä¸­limitä¸æ¯whereæ¡ä»¶çä¸é¨åï¼\n\n * ç©ºæ°æ®æåº(nulls first ånulls last)\n\n-- nullå¼æå¨æå\nSELECT * FROM FW_DEPARTMENT A ORDER BY A.REMARK DESC NULLS FIRST\n-- nullå¼æå¨æå\nSELECT * FROM FW_DEPARTMENT A ORDER BY A.REMARK DESC NULLS LAST\n \n-- MySQL å¯éè¿IFåISNULLå½æ°è¾¾å°ç¸åçææ\n-- nullå¼æå¨æå\nselect * from FW_DEPARTMENT A order by IF(ISNULL(A.REMARK),1,0),A.REMARK desc\n-- nullå¼æå¨æå\nselect * from FW_DEPARTMENT A order by IF(ISNULL(A.REMARK),0,1),A.REMARK desc\n\n\n * å¨å³è\n\nMySQLä¸æ¯æfull join ï¼ééè¿join + unionæ¹å¼å®ç°ï¼\n\n * éå½æ¥è¯¢(start with connect by prior)\n\nMySQLä¸æ¯æ(start with connect by prior)çè¿ç§éå½æ¥è¯¢ï¼ä½å¯ä»¥éè¿èªå®ä¹å½æ°æ¥å®ç°ã\n\n-- Oracle éå½æ¥è¯¢ æ¥è¯¢é¨é¨IDä¸ºâ1111âçææå­é¨é¨ï¼åå«èªèº«ï¼\nSELECT *\nFROM FW_DEPARTMENT\nSTART WITH DEPID='1111'\nCONNECT BY PRIOR DEPID = PARENTDEPID;\n-- Oracle éå½æ¥è¯¢ æ¥è¯¢é¨é¨IDä¸ºâ1111âçææç¶é¨é¨ï¼åå«èªèº«ï¼\nSELECT *\nFROM FW_DEPARTMENT\nSTART WITH DEPID='1111'\nCONNECT BY PRIOR PARENTDEPID = DEPID;\n \n-- MySQL ååå»ºfun_getDepIDListå½æ°ï¼ç¨äºæ¥è¯¢é¨é¨IDå­ç¬¦ä¸²\nCREATE FUNCTION fun_getDepIDList(rootId VARCHAR(32))\nRETURNS VARCHAR(6000)\nBEGIN \n\tDECLARE pTemp VARCHAR(6000);\n\tDECLARE cTemp VARCHAR(6000);\n\tSET pTemp='$';\n\tSET cTemp=rootId;\n\tWHILE cTemp is not null DO\n\t\tset pTemp=CONCAT(pTemp,',',cTemp);\n\t\tSELECT GROUP_CONCAT(depid) INTO cTemp from fw_department\n\t\tWHERE FIND_IN_SET(PARENTDEPID,cTemp)>0;\n\tEND WHILE;\n\tRETURN pTemp;\nEND;\n \n-- æ¥è¯¢é¨é¨IDä¸ºâ1111âçææå­é¨é¨ï¼åå«èªå·±ï¼\nselect * from fw_department\nwhere FIND_IN_SET(DEPID, fun_getDepIDList('1111'));\n \n-- æ¥è¯¢é¨é¨IDä¸ºâ1111âçææç¶é¨é¨(åå«èªå·±)\nselect * from fw_department\nwhere FIND_IN_SET('1111', fun_getDepIDList(DEPID));\n\n\n * merge into\n\nMySQLä¸æ¯æï¼merge intoï¼ï¼ä½æä¾çreplace into åon duplicate key updateå¯å®ç°ç¸ä¼¼çåè½ã\n\n-- Oracle merge into (æåä¿®æ¹ï¼æ åæ°å¢)\nMERGE INTO TMPDEPTAB A\nUSING (SELECT '1111' DEPID, 'åå' DEPNAME FROM DUAL) B\nON (A.DEPID = B.DEPID)\nWHEN MATCHED THEN \n\tUPDATE SET A.DEPNAME = B.DEPNAME\nWHEN NOT MATCHED THEN \n\tINSERT(DEPID, DEPNAME) VALUES(B.DEPID, B.DEPNAME);\n \n-- MySQL replace into (ç¹ç¹ï¼1ãåå åå¢ï¼ 2ãæå¥/æ´æ°çè¡¨å¿é¡»æä¸»é®æå¯ä¸ç´¢å¼ï¼\n-- 3ãæªä¿®æ¹/æ°å¢çæ°æ®é¡¹ï¼å¦æå¿å¡«ï¼åå¿é¡»æé»è®¤å¼)\n-- 1ãç±äºæ¯åå åå¢ï¼æä»¥éè¦æ»¡è¶³ä»¥ä¸2ä¸ªæ¡ä»¶ä¹ä¸ï¼\n--      1.è¦ä¹å¿å¡«é¡¹æé»è®¤å¼ï¼ \n--      2.è¦ä¹æå¥/æ´æ°æ¶ä¸ºæ²¡æé»è®¤å¼çå¿å¡«é¡¹èµå¼ï¼ å¦åæ°å¢æ¶ä¼æ¥éã\n-- 2ãè¡¨ä¸­éè¦æä¸»é®æå¯ä¸ç´¢å¼ï¼å¦åä¸é¢è¯­å¥å¦ææ§è¡å¤æ¬¡ï¼è¡¨ä¸­ä¼åºç°éå¤æ°æ®ã\nreplace into fw_department(DEPID,PARENTDEPID,DEPNO,DEPNAME) \nvalues('1111111', '1234','123', 'åå');\n \n-- MySQL on duplicate key update (ç¹ç¹ï¼1ãæå¥/æ´æ°çè¡¨å¿é¡»æä¸»é®æå¯ä¸ç´¢å¼ï¼\n-- 2ãæªä¿®æ¹/æ°å¢çæ°æ®é¡¹ï¼å¦æå¿å¡«ï¼åå¿é¡»æé»è®¤å¼)\ninsert into fw_department(depid,parentdepid,depno,depname)\nselect '1111111' depid, '123' parentdepid, 'e12' depno, 'åååå' depname\nfrom fw_department\non duplicate key \nupdate parentdepid = values(parentdepid),\n\tdepno=values(depno),\n\tdepname=values(depname);\n\n\n * with\n\nOracle ä¸­å¯ç¨withæ¥æå»ºä¸ä¸ªä¸´æ¶è¡¨ï¼MySQL8.0+ä¹æ¯æ\n\næºå°å",normalizedContent:"# 1. æ°æ®ç±»å\n\n * numberç±»å\n\nââmysqlä¸­æ¯æ²¡ænumberç±»åçï¼ä½æint/decimal ç±»åï¼oracleä¸­çnumber(5,1)å¯¹åºmysqlä¸­çdecimal(5,1)ï¼number(5) å¯¹åº int(5)ãmysqlä¸­çæ°å­åç±»åæ¯è¾å¤ï¼åçä¹æ¯è¾ç»ï¼è¿ætinyintãsmallintãmediumintãbigintç­ç±»å\n\n * varchar2(n)ç±»å\n\nââmysqlä¸­å¯¹åºoracle varchar2(n)ç±»åçæ¿ä»£ç±»åæ¯varchar(n)ç±»åã\n\n * date ç±»å\n\nââmysql ä¸­çæ¥ææ¶é´ç±»åædateãtimeãdatetimeç­ç±»åï¼mysqlä¸­dateç±»åä»è¡¨ç¤ºæ¥æ(å¹´-æ-æ¥)ï¼timeç±»åä»è¡¨ç¤ºæ¶é´ï¼æ¶:å:ç§ï¼ï¼èdatetimeç±»åè¡¨ç¤ºæ¥ææ¶é´(å¹´-æ-æ¥ æ¶:å:ç§)ï¼oracleä¸­çdateç±»ååmysqlä¸­çdatetimeç±»åä¸è´ã\n\n# 2. å½æ°\n\n * length(str)å½æ°\n\nââoracleä¸­çlength(str)æ¯è·åå­ç¬¦ä¸²é¿åº¦çå½æ°ï¼mysql ä¸­å¯¹åºçå½æ°ä¸ºchar_length(str)ã\n\n * sys_guid()å½æ°\n\nââoracleä¸­å¯éè¿sys_guid()å½æ°æ¯çæéæºåºåï¼mysqléè¿uuid()çæéæºåºåã\n\n * æ¶é´æ ¼å¼åå½æ°\n   \n   * æ¶é´è½¬æ¢ä¸ºå­ç¬¦ä¸² mysql: date_format(now(),'%y-%m-%d') â oracle: to_char(sysdate, 'yyyy-mm-dd')\n   * å­ç¬¦ä¸²è½¬æ¢ä¸ºæ¶é´ mysql: str_to_date('2019-01-01','%y-%m-%d') â oracle: to_date('2019-01-01', 'yyyy-mm-dd');\n   * æ¶åç§çå½æ°è½¬æ¢ date_format(now(),'%y-%m-%d %h:%i:%s') â str_to_date('2019-01-01','%y-%m-%d %h:%i:%s')\n   \n   æ³¨æ: mysqlä¸è½ç´æ¥ä¸¤ä¸ªæ¥æç¨åå·ç¸å, å®ä¼å»æè¿æ¥ç¬¦è½¬ææ°å­è¿è¡è®¡ç®, ç»ææ²¡æä»»ä½æä¹\n\n * æ¡ä»¶å½æ° nvl()ãnvl2()ãdecode()\n   \n   * nvl(col, 0) â oralceå½æ°: colä¸ºç©ºï¼åè¿åå¼å0ï¼å¦ååcol â mysql: ifnull(col, 0)\n   * nvl2(expr1,expr2,expr3) â oralceå½æ°: å¦æexpr1ä¸ä¸ºnullï¼åè¿åexpr2ï¼å¦åè¿åexpr3 â mysql: if(expr1,expr2,expr3)\n   * decode(value, val1, val2, val3) â oralceå½æ°: å¦ævalueç­äºval1ï¼åè¿åval2ï¼å¦åè¿åval3 â mysql: if(value=val1, val2, val3)\n   * decode(value, if1, val1, if2,val2,...,ifn, valn, val) â å¦ævalueç­äºif1ï¼åè¿åval1ï¼å¦ævalueç­äºif2ï¼åè¿åvalue2...å¦ævalueç­äºifnï¼åè¿åvalnï¼å¦åè¿åval â mysql: case when value=if1 then val1 when value=if2 then val2,,,when value=ifn then valn else val end\n\n * trunc()å½æ°\n   \n   * trunc(12.123) â oracle: è¿åæ´æ°(12) â mysql: truncate(12.123, 0)\n   * trunc(12.123, 2) â oracle: è¿åå¼ä¿ç2ä¸ºå°æ°(12.12) â mysql: truncate(12.123, 2)\n   * trunc(sysdate) â oracle: è¿åå¼ä¸º(2019-07-26 00:00:00) â mysql: cast(now() as datetime)ï¼è¿åå¼ä¸º(2019-07-26 14:11:38)\n\n> mysqlçcastå½æ°è¯­æ³ä¸ºï¼cast(xxx as ç±»å) ï¼å¯ç¨ç±»åä¸ºï¼äºè¿å¶,åå¸¦binaryåç¼çææ:binaryï¼å­ç¬¦å,å¯å¸¦åæ°:char()ï¼æ¥æ:dateï¼æ¶é´:timeï¼æ¥ææ¶é´å: datetimeï¼æµ®ç¹æ°: decimalï¼æ´æ°:signedï¼æ ç¬¦å·æ´æ°:unsignedï¼\n\n * to_char() / to_number()\n   \n   * to_char(123) â oracle: æ°å­123è½¬ä¸ºå­ç¬¦ä¸²123 â mysql: cast(123 as char(3))\n   * to_number('123') â oracle: å­ç¬¦ä¸²123è½¬æ¢ä¸ºæ°å­ç±»å â mysql: å¯¹åºçå½æ°ä¸ºcast('123' as signed)ï¼\n\n * sysdate\n\nââsysdate â oracle: è¿åå½åæ¥æ+æ¶é´ â mysql: now()\n\n# å¶ä»\n\n * å¼å·\n\nââmysqlå¯è¯å«åå¼å·ååå¼å·ï¼åå¼å·`ä¸ºå­æ®µåï¼ï¼oracleåªè½è¯å«åå¼å·ï¼åå¼å·ä¸ºå­æ®µåï¼ã\n\n * å­ç¬¦ä¸²è¿æ¥ç¬¦\n\nââoracle: å¯ç¨'||'æ¥è¿æ¥å¤ä¸ªå­ç¬¦ä¸²ï¼concatåªè½è¿æ¥ä¸¤ä¸ªå­ç¬¦ä¸²ï¼â mysql: concat()å½æ°å¯è¿æ¥å¤ä¸ªå­ç¬¦ä¸²\n\n * rownum\n\nââoracleå¯éè¿rownumè·åånæ¡è®°å½ï¼mysqléè¿limitæ¥è·åånæ¡è®°å½ï¼oracleä¸­rownumä½ä¸ºwhereæ¡ä»¶çä¸é¨åï¼èmysqlä¸­limitä¸æ¯whereæ¡ä»¶çä¸é¨åï¼\n\n * ç©ºæ°æ®æåº(nulls first ånulls last)\n\n-- nullå¼æå¨æå\nselect * from fw_department a order by a.remark desc nulls first\n-- nullå¼æå¨æå\nselect * from fw_department a order by a.remark desc nulls last\n \n-- mysql å¯éè¿ifåisnullå½æ°è¾¾å°ç¸åçææ\n-- nullå¼æå¨æå\nselect * from fw_department a order by if(isnull(a.remark),1,0),a.remark desc\n-- nullå¼æå¨æå\nselect * from fw_department a order by if(isnull(a.remark),0,1),a.remark desc\n\n\n * å¨å³è\n\nmysqlä¸æ¯æfull join ï¼ééè¿join + unionæ¹å¼å®ç°ï¼\n\n * éå½æ¥è¯¢(start with connect by prior)\n\nmysqlä¸æ¯æ(start with connect by prior)çè¿ç§éå½æ¥è¯¢ï¼ä½å¯ä»¥éè¿èªå®ä¹å½æ°æ¥å®ç°ã\n\n-- oracle éå½æ¥è¯¢ æ¥è¯¢é¨é¨idä¸ºâ1111âçææå­é¨é¨ï¼åå«èªèº«ï¼\nselect *\nfrom fw_department\nstart with depid='1111'\nconnect by prior depid = parentdepid;\n-- oracle éå½æ¥è¯¢ æ¥è¯¢é¨é¨idä¸ºâ1111âçææç¶é¨é¨ï¼åå«èªèº«ï¼\nselect *\nfrom fw_department\nstart with depid='1111'\nconnect by prior parentdepid = depid;\n \n-- mysql ååå»ºfun_getdepidlistå½æ°ï¼ç¨äºæ¥è¯¢é¨é¨idå­ç¬¦ä¸²\ncreate function fun_getdepidlist(rootid varchar(32))\nreturns varchar(6000)\nbegin \n\tdeclare ptemp varchar(6000);\n\tdeclare ctemp varchar(6000);\n\tset ptemp='$';\n\tset ctemp=rootid;\n\twhile ctemp is not null do\n\t\tset ptemp=concat(ptemp,',',ctemp);\n\t\tselect group_concat(depid) into ctemp from fw_department\n\t\twhere find_in_set(parentdepid,ctemp)>0;\n\tend while;\n\treturn ptemp;\nend;\n \n-- æ¥è¯¢é¨é¨idä¸ºâ1111âçææå­é¨é¨ï¼åå«èªå·±ï¼\nselect * from fw_department\nwhere find_in_set(depid, fun_getdepidlist('1111'));\n \n-- æ¥è¯¢é¨é¨idä¸ºâ1111âçææç¶é¨é¨(åå«èªå·±)\nselect * from fw_department\nwhere find_in_set('1111', fun_getdepidlist(depid));\n\n\n * merge into\n\nmysqlä¸æ¯æï¼merge intoï¼ï¼ä½æä¾çreplace into åon duplicate key updateå¯å®ç°ç¸ä¼¼çåè½ã\n\n-- oracle merge into (æåä¿®æ¹ï¼æ åæ°å¢)\nmerge into tmpdeptab a\nusing (select '1111' depid, 'åå' depname from dual) b\non (a.depid = b.depid)\nwhen matched then \n\tupdate set a.depname = b.depname\nwhen not matched then \n\tinsert(depid, depname) values(b.depid, b.depname);\n \n-- mysql replace into (ç¹ç¹ï¼1ãåå åå¢ï¼ 2ãæå¥/æ´æ°çè¡¨å¿é¡»æä¸»é®æå¯ä¸ç´¢å¼ï¼\n-- 3ãæªä¿®æ¹/æ°å¢çæ°æ®é¡¹ï¼å¦æå¿å¡«ï¼åå¿é¡»æé»è®¤å¼)\n-- 1ãç±äºæ¯åå åå¢ï¼æä»¥éè¦æ»¡è¶³ä»¥ä¸2ä¸ªæ¡ä»¶ä¹ä¸ï¼\n--      1.è¦ä¹å¿å¡«é¡¹æé»è®¤å¼ï¼ \n--      2.è¦ä¹æå¥/æ´æ°æ¶ä¸ºæ²¡æé»è®¤å¼çå¿å¡«é¡¹èµå¼ï¼ å¦åæ°å¢æ¶ä¼æ¥éã\n-- 2ãè¡¨ä¸­éè¦æä¸»é®æå¯ä¸ç´¢å¼ï¼å¦åä¸é¢è¯­å¥å¦ææ§è¡å¤æ¬¡ï¼è¡¨ä¸­ä¼åºç°éå¤æ°æ®ã\nreplace into fw_department(depid,parentdepid,depno,depname) \nvalues('1111111', '1234','123', 'åå');\n \n-- mysql on duplicate key update (ç¹ç¹ï¼1ãæå¥/æ´æ°çè¡¨å¿é¡»æä¸»é®æå¯ä¸ç´¢å¼ï¼\n-- 2ãæªä¿®æ¹/æ°å¢çæ°æ®é¡¹ï¼å¦æå¿å¡«ï¼åå¿é¡»æé»è®¤å¼)\ninsert into fw_department(depid,parentdepid,depno,depname)\nselect '1111111' depid, '123' parentdepid, 'e12' depno, 'åååå' depname\nfrom fw_department\non duplicate key \nupdate parentdepid = values(parentdepid),\n\tdepno=values(depno),\n\tdepname=values(depname);\n\n\n * with\n\noracle ä¸­å¯ç¨withæ¥æå»ºä¸ä¸ªä¸´æ¶è¡¨ï¼mysql8.0+ä¹æ¯æ\n\næºå°å",charsets:{cjk:!0},lastUpdated:"2022/04/14, 13:35:50",lastUpdatedTimestamp:164991455e4},{title:"Oracleç¸å³ç¥è¯æè®°",frontmatter:{title:"Oracleç¸å³ç¥è¯æè®°",date:"2022-02-23T12:58:51.000Z",permalink:"/pages/7e6951/",categories:["æ°æ®åº","Oracle"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.Oracle/01.Oracle%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E6%9D%82%E8%AE%B0.html",relativePath:"03.æ°æ®åº/01.Oracle/01.Oracleç¸å³ç¥è¯æè®°.md",key:"v-7ea7fc0c",path:"/pages/7e6951/",headers:[{level:2,title:"Oracle å¸¸ç¨æ§è½ææ¥è¯­å¥",slug:"oracle-å¸¸ç¨æ§è½ææ¥è¯­å¥",normalizedTitle:"oracle å¸¸ç¨æ§è½ææ¥è¯­å¥",charIndex:2},{level:4,title:"æ¥çè¡¨ç©ºé´å¤§å°",slug:"æ¥çè¡¨ç©ºé´å¤§å°",normalizedTitle:"æ¥çè¡¨ç©ºé´å¤§å°",charIndex:21},{level:4,title:"æ¥çéè¡¨åè§£å³",slug:"æ¥çéè¡¨åè§£å³",normalizedTitle:"æ¥çéè¡¨åè§£å³",charIndex:1108},{level:4,title:"æ¥è¯¢è¡éå¹¶è§£å³",slug:"æ¥è¯¢è¡éå¹¶è§£å³",normalizedTitle:"æ¥è¯¢è¡éå¹¶è§£å³",charIndex:2754},{level:4,title:"å·æ°è¡¨ç»è®¡ä¿¡æ¯ï¼åè¡¨åæï¼",slug:"å·æ°è¡¨ç»è®¡ä¿¡æ¯-åè¡¨åæ",normalizedTitle:"å·æ°è¡¨ç»è®¡ä¿¡æ¯ï¼åè¡¨åæï¼",charIndex:4608},{level:4,title:"æ¥è¯¢æ­£å¨æ§è¡çSQL",slug:"æ¥è¯¢æ­£å¨æ§è¡çsql",normalizedTitle:"æ¥è¯¢æ­£å¨æ§è¡çsql",charIndex:7257},{level:4,title:"æ¥è¯¢SQLå¹³åèæ¶",slug:"æ¥è¯¢sqlå¹³åèæ¶",normalizedTitle:"æ¥è¯¢sqlå¹³åèæ¶",charIndex:7734},{level:4,title:"æ¢æ¥è¯¢èæ¶",slug:"æ¢æ¥è¯¢èæ¶",normalizedTitle:"æ¢æ¥è¯¢èæ¶",charIndex:8298},{level:4,title:"æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­»",slug:"æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­»",normalizedTitle:"æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­»",charIndex:8818},{level:4,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:9362},{level:2,title:"SCN",slug:"scn",normalizedTitle:"scn",charIndex:10651},{level:3,title:"Oracle è¡¨éªå",slug:"oracle-è¡¨éªå",normalizedTitle:"oracle è¡¨éªå",charIndex:11908},{level:4,title:"æ¥è¯¢åå²çæ¬æ°æ®ï¼éªåæ¥è¯¢ï¼",slug:"æ¥è¯¢åå²çæ¬æ°æ®-éªåæ¥è¯¢",normalizedTitle:"æ¥è¯¢åå²çæ¬æ°æ®ï¼éªåæ¥è¯¢ï¼",charIndex:11971},{level:4,title:"æ¢å¤å·²å é¤çè¡¨",slug:"æ¢å¤å·²å é¤çè¡¨",normalizedTitle:"æ¢å¤å·²å é¤çè¡¨",charIndex:12354},{level:4,title:"æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹",slug:"æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹",normalizedTitle:"æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹",charIndex:13214},{level:2,title:"LogMiner",slug:"logminer",normalizedTitle:"logminer",charIndex:13686},{level:2,title:"å¨ææ§è½è§å¾(x$,v$,gv$,v$,gv$)",slug:"å¨ææ§è½è§å¾-x-v-gv-v-gv",normalizedTitle:"å¨ææ§è½è§å¾(x$,v$,gv$,v$,gv$)",charIndex:null},{level:2,title:"å¸¸ç¨ç³»ç»è¡¨",slug:"å¸¸ç¨ç³»ç»è¡¨",normalizedTitle:"å¸¸ç¨ç³»ç»è¡¨",charIndex:15480},{level:3,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:14183},{level:4,title:"æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾",slug:"æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾",normalizedTitle:"æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾",charIndex:16692},{level:4,title:"ç¨å° æä¸ªè¡¨ çè§å¾",slug:"ç¨å°-æä¸ªè¡¨-çè§å¾",normalizedTitle:"ç¨å° æä¸ªè¡¨ çè§å¾",charIndex:17027},{level:4,title:"æ¥çè§å¾æè¡¨åå»ºè¯­å¥",slug:"æ¥çè§å¾æè¡¨åå»ºè¯­å¥",normalizedTitle:"æ¥çè§å¾æè¡¨åå»ºè¯­å¥",charIndex:17317},{level:4,title:"æ¥è¯¢å»ºè¡¨è¯­å¥ï¼ä¸å«æ³¨éï¼",slug:"æ¥è¯¢å»ºè¡¨è¯­å¥-ä¸å«æ³¨é",normalizedTitle:"æ¥è¯¢å»ºè¡¨è¯­å¥ï¼ä¸å«æ³¨éï¼",charIndex:17407},{level:4,title:"æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥",slug:"æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥",normalizedTitle:"æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥",charIndex:17493},{level:4,title:"è¿ç§»æ°æ®ï¼å¤§æ¹éæä½æ°æ®ï¼åç¦ç¨ç´¢å¼ï¼ï¼ï¼",slug:"è¿ç§»æ°æ®-å¤§æ¹éæä½æ°æ®-åç¦ç¨ç´¢å¼",normalizedTitle:"è¿ç§»æ°æ®ï¼å¤§æ¹éæä½æ°æ®ï¼åç¦ç¨ç´¢å¼ï¼ï¼ï¼",charIndex:17696},{level:4,title:"æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé",slug:"æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé",normalizedTitle:"æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé",charIndex:18579},{level:2,title:"ä¸MySQLåºå«",slug:"ä¸mysqlåºå«",normalizedTitle:"ä¸mysqlåºå«",charIndex:19506},{level:2,title:"Shellè·oracleèæ¬",slug:"shellè·oracleèæ¬",normalizedTitle:"shellè·oracleèæ¬",charIndex:19997},{level:2,title:"Oracleå³èæ¹å¼ï¼æ§è¡è®¡åï¼",slug:"oracleå³èæ¹å¼-æ§è¡è®¡å",normalizedTitle:"oracleå³èæ¹å¼ï¼æ§è¡è®¡åï¼",charIndex:20759},{level:2,title:"ç¹ç¶ç¥è¯",slug:"ç¹ç¶ç¥è¯",normalizedTitle:"ç¹ç¶ç¥è¯",charIndex:23198},{level:3,title:"å¹éä¸­æ",slug:"å¹éä¸­æ",normalizedTitle:"å¹éä¸­æ",charIndex:23207},{level:3,title:"åå»ºDBLink",slug:"åå»ºdblink",normalizedTitle:"åå»ºdblink",charIndex:23354},{level:3,title:"SQLå¹¶è¡",slug:"sqlå¹¶è¡",normalizedTitle:"sqlå¹¶è¡",charIndex:23735},{level:3,title:"ä¸­ææåºæ¹å¼",slug:"ä¸­ææåºæ¹å¼",normalizedTitle:"ä¸­ææåºæ¹å¼",charIndex:24970},{level:3,title:"æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹",slug:"æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹",normalizedTitle:"æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹",charIndex:25449},{level:3,title:"æ°æ®æ³µå¯¼å¥å¯¼åºï¼å¾å®åï¼",slug:"æ°æ®æ³µå¯¼å¥å¯¼åº-å¾å®å",normalizedTitle:"æ°æ®æ³µå¯¼å¥å¯¼åºï¼å¾å®åï¼",charIndex:25677},{level:3,title:"Oracle é«çæ¬å¯¼åºï¼ä½çæ¬å¯¼å¥ï¼ä¿®æ¹çæ¬å·",slug:"oracle-é«çæ¬å¯¼åº-ä½çæ¬å¯¼å¥-ä¿®æ¹çæ¬å·",normalizedTitle:"oracle é«çæ¬å¯¼åºï¼ä½çæ¬å¯¼å¥ï¼ä¿®æ¹çæ¬å·",charIndex:31004},{level:3,title:"REDOLOGï¼å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´ï¼ï¼",slug:"redolog-å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´",normalizedTitle:"redologï¼å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´ï¼ï¼",charIndex:31087},{level:3,title:"è§£å³æ¬å°Oracleæå¡åå­å ç¨è¿é«",slug:"è§£å³æ¬å°oracleæå¡åå­å ç¨è¿é«",normalizedTitle:"è§£å³æ¬å°oracleæå¡åå­å ç¨è¿é«",charIndex:33541},{level:3,title:"æ°æ®æå¥æ¢çé®é¢",slug:"æ°æ®æå¥æ¢çé®é¢",normalizedTitle:"æ°æ®æå¥æ¢çé®é¢",charIndex:34565}],headersStr:"Oracle å¸¸ç¨æ§è½ææ¥è¯­å¥ æ¥çè¡¨ç©ºé´å¤§å° æ¥çéè¡¨åè§£å³ æ¥è¯¢è¡éå¹¶è§£å³ å·æ°è¡¨ç»è®¡ä¿¡æ¯ï¼åè¡¨åæï¼ æ¥è¯¢æ­£å¨æ§è¡çSQL æ¥è¯¢SQLå¹³åèæ¶ æ¢æ¥è¯¢èæ¶ æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­» å¶ä» SCN Oracle è¡¨éªå æ¥è¯¢åå²çæ¬æ°æ®ï¼éªåæ¥è¯¢ï¼ æ¢å¤å·²å é¤çè¡¨ æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹ LogMiner å¨ææ§è½è§å¾(x$,v$,gv$,v$,gv$) å¸¸ç¨ç³»ç»è¡¨ å®ä¾ æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾ ç¨å° æä¸ªè¡¨ çè§å¾ æ¥çè§å¾æè¡¨åå»ºè¯­å¥ æ¥è¯¢å»ºè¡¨è¯­å¥ï¼ä¸å«æ³¨éï¼ æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥ è¿ç§»æ°æ®ï¼å¤§æ¹éæä½æ°æ®ï¼åç¦ç¨ç´¢å¼ï¼ï¼ï¼ æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé ä¸MySQLåºå« Shellè·oracleèæ¬ Oracleå³èæ¹å¼ï¼æ§è¡è®¡åï¼ ç¹ç¶ç¥è¯ å¹éä¸­æ åå»ºDBLink SQLå¹¶è¡ ä¸­ææåºæ¹å¼ æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹ æ°æ®æ³µå¯¼å¥å¯¼åºï¼å¾å®åï¼ Oracle é«çæ¬å¯¼åºï¼ä½çæ¬å¯¼å¥ï¼ä¿®æ¹çæ¬å· REDOLOGï¼å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´ï¼ï¼ è§£å³æ¬å°Oracleæå¡åå­å ç¨è¿é« æ°æ®æå¥æ¢çé®é¢",content:"# Oracle å¸¸ç¨æ§è½ææ¥è¯­å¥\n\n# æ¥çè¡¨ç©ºé´å¤§å°\n\n----------------------------------------\n\n--oracleè¡¨ç©ºé´å¤§å°\nSELECT a.tablespace_name \"è¡¨ç©ºé´å\",\n       total \"è¡¨ç©ºé´å¤§å°\",\n       free \"è¡¨ç©ºé´å©ä½å¤§å°\",\n       (total - free) \"è¡¨ç©ºé´ä½¿ç¨å¤§å°\",\n       round(total / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´å¤§å°(G)\",\n       round(free / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´å©ä½å¤§å°(G)\",\n       round((total - free) / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´ä½¿ç¨å¤§å°(G)\",\n       round((total - free) / total, 4) * 100 \"ä½¿ç¨ç %\"\n  FROM (SELECT tablespace_name, SUM(bytes) free\n          FROM dba_free_space\n         GROUP BY tablespace_name) a,\n       (SELECT tablespace_name, SUM(bytes) total\n          FROM dba_data_files\n         GROUP BY tablespace_name) b\n WHERE a.tablespace_name = b.tablespace_name\n\n\næ¥çåè¡¨å ç¨ç£çç©ºé´\n\nSELECT *\n  FROM (SELECT T.TABLESPACE_NAME,\n               T.OWNER,\n               T.SEGMENT_NAME,\n               T.SEGMENT_TYPE,\n               SUM(T.BYTES / 1024 / 1024) MB\n          FROM DBA_SEGMENTS T\n         WHERE T.SEGMENT_TYPE = 'TABLE' AND T.SEGMENT_NAME = 'TABLE_NAME'\n         GROUP BY T.TABLESPACE_NAME, T.OWNER, T.SEGMENT_NAME, T.SEGMENT_TYPE) T\n ORDER BY T.MB DESC;\n\n\n# æ¥çéè¡¨åè§£å³\n\n----------------------------------------\n\n1.ä¸é¢çè¯­å¥ç¨æ¥æ¥è¯¢åªäºå¯¹è±¡è¢«éï¼\nselect object_name,machine,s.sid,s.serial#,l.ORACLE_USERNAME\nfrom v$locked_object l,dba_objects o ,v$session s\nwhere l.object_idã=ão.object_id and l.session_id=s.sid;\n2.ä¸é¢çè¯­å¥ç¨æ¥ææ­»ä¸ä¸ªè¿ç¨ï¼\nalter system kill session '24,111'; (å¶ä¸­24,111åå«æ¯ä¸é¢æ¥è¯¢åºçsid,serial#);\n3.æ¹éå é¤\nselect 'alter system kill session ''' || s.sid || ',' || s.serial# || '''' || ';'\n  from v$locked_object l, dba_objects o, v$session s\n where l.object_idã = ão.object_id\n   and l.session_id = s.sid;\n\nselect object_name,a.SQL_TEXT,machine,s.sid,s.serial#,s.status,lockwait,machine,program\nfrom v$locked_object l,dba_objects o ,v$session s,v$sql a\nwhere l.object_idã=ão.object_id and l.session_id=s.sid and a.HASH_VALUE = s.SQL_HASH_VALUE;\nUsernameï¼æ­»éè¯­å¥æç¨çæ°æ®åºç¨æ·ï¼\nLockwaitï¼æ­»éçç¶æï¼å¦ææåå®¹è¡¨ç¤ºè¢«æ­»éã\nStatusï¼ ç¶æï¼activeè¡¨ç¤ºè¢«æ­»é\nMachineï¼ æ­»éè¯­å¥æå¨çæºå¨ã\nProgramï¼ äº§çæ­»éçè¯­å¥ä¸»è¦æ¥èªåªä¸ªåºç¨ç¨åºã\n\n\n\n   select b.file_idããæä»¶ID,\nãã      b.tablespace_nameããè¡¨ç©ºé´,\nãã      b.file_nameãããããç©çæä»¶å,\nãã      b.bytesãããããããæ»å­èæ°,\nãã      (b.bytes-sum(nvl(a.bytes,0)))ãããå·²ä½¿ç¨,\nãã      sum(nvl(a.bytes,0))ããããããããå©ä½,\nãã      sum(nvl(a.bytes,0))/(b.bytes)*100ãå©ä½ç¾åæ¯\nãã from dba_free_space a,dba_data_files b\nããwhere a.file_id=b.file_id\n group by b.tablespace_name,b.file_name,b.file_id,b.bytes\n order by b.tablespace_name\n\n\n\n--ææ°\nselect object_name,a.SQL_TEXT,machine,s.sid,s.serial#,s.status,lockwait,machine,program,l.ORACLE_USERNAME\n  from v$locked_object l,dba_objects o ,v$session s,v$sql a\n where l.object_idã=ão.object_id and l.session_id=s.sid and a.HASH_VALUE = s.SQL_HASH_VALUE;\n\nalter system kill session '1902,24317'; \n\n\ngrant alter system to ysgl_guanli\n\n\n# æ¥è¯¢è¡éå¹¶è§£å³\n\n--------------------------------- æ¹æ¡1\n--è¡éæ¥ç\nselect s.SID,s.SERIAL#,s.MACHINE,s.TYPE,l.TYPE,l.CTIME,l.BLOCK,l.REQUEST,l.LMODE,\n       decode(l.lmode, 0, 'None', 1, 'Null', 2, 'Row-S (SS)', 3, 'Row-X (SX)', 4, 'Share', 5, 'S/Row-X (SSX)', 6, 'Exclusive', substr(to_char(l.lmode), 1, 13)) as \"Locked Mode\",\n       DECODE(L.TYPE,'MR','File_ID:' || L.ID1,'TM',t.NAME,'TX','USN:' || to_char(TRUNC(L.ID1 / 65536)) || 'RWO:' ||nvl(r.NAME, 'None'), L.ID1) as LOCK_ID1,\n       'alter system kill session ''' || s.SID || ',' || s.SERIAL# || '''immediate;' as \"Kill\"\n  from gv$process p\n inner join gv$session s\n    on s.PADDR = p.ADDR\n inner join v$lock l\n    on l.SID = s.SID\n  left join sys.obj$ t\n    on l.ID1 = t.obj#\n  left join sys.obj$ r\n    on s.ROW_WAIT_OBJ# = r.obj#\n where 1 = 1\n   and l.TYPE != 'MR' \n and l.TYPE  = 'TM'\n   and l.lmode = 3\n order by s.SID;\n\n-- æ¥çåå ?\nWITH sessions AS\n(SELECT  /*+materialize*/\n         sid\n        ,sql_id\n        ,event\n        ,blocking_session\n        ,row_wait_obj#\nFROM gv$session)\nSELECT LPAD(' ', LEVEL ) || sid sid\n      ,sql_id\n      ,event\n      ,owner||decode(owner,null,null,'.')||object_name object_name\n      ,substr(sql_text,1,40) sql_text\nFROM sessions s\nLEFT OUTER JOIN dba_objects ON (object_id = row_wait_obj#)\nLEFT OUTER JOIN v$sql USING (sql_id)\nWHERE sid IN (SELECT blocking_session FROM sessions)\nOR blocking_session IS NOT NULL\nCONNECT BY PRIOR sid = blocking_session\n   START WITH blocking_session IS NULL;\n\n--------------------------------- æ¹æ¡2\n   select 'alter system kill session ''' || ss.sid || '' || ',' || ss.serial# || ',@' ||\n       ss.inst_id || ''' immediate;' db_kill_session\n  from gv$session s, \n  gv$session ss\n where s.final_blocking_session is not null\n   and s.final_blocking_instance = ss.inst_id\n   and s.final_blocking_session = ss.sid\n   and s.sid <> ss.sid;\n\n\n# å·æ°è¡¨ç»è®¡ä¿¡æ¯ï¼åè¡¨åæï¼\n\nââç»è®¡ä¿¡æ¯ä¸»è¦æ¯æè¿°æ°æ®åºä¸­è¡¨ï¼ç´¢å¼çå¤§å°ï¼è§æ¨¡ï¼æ°æ®åå¸ç¶åµç­çä¸ç±»ä¿¡æ¯ãä¾å¦ï¼è¡¨çè¡æ°ï¼åæ°ï¼å¹³åæ¯è¡çå¤§å°ï¼ç´¢å¼çleaf blocksï¼ç´¢å¼å­æ®µçè¡æ°ï¼ä¸åå¼çå¤§å°ç­ï¼é½å±äºç»è®¡ä¿¡æ¯ãCBOæ­£æ¯æ ¹æ®è¿äºç»è®¡ä¿¡æ¯æ°æ®ï¼è®¡ç®åºä¸åè®¿é®è·¯å¾ä¸ï¼ä¸åjoin æ¹å¼ä¸ï¼åç§è®¡åçææ¬ï¼æåéæ©åºææ¬æå°çè®¡åã\n\nââç»è®¡ä¿¡æ¯æ¯å­æ¾å¨æ°æ®å­å¸è¡¨ä¸­çï¼å¦tab$ï¼ä¸è¬å¯éè¿å¯çæäºè§å¾æ¥è·åç»è®¡ä¿¡æ¯ç¶åµï¼å¦DBA_TABLESï¼DBA_INDEXESï¼DBA_TAB_COL_STATISTICSï¼ DBA_TAB_HISTOGRAMSç­ãå¨è¿äºè§å¾ä¸­åå«è¡¨ç¤ºç»è®¡ä¿¡æ¯çä¸äºå­æ®µï¼è¿äºå­æ®µåªææéè¿ç»è®¡ä¿¡æ¯ä¹åææå¼ï¼å¦åæ¯ç©ºçãä¾å¦ï¼last_analyzed å­æ®µè¡¨ç¤ºä¸æ¬¡ç»è®¡ä¿¡æ¯æéçæ¶é´ï¼å¯ä»¥æ ¹æ®è¿ä¸ªå­æ®µï¼å¿«éçäºè§£æè¿ä¸æ¬¡ç»è®¡ä¿¡æ¯æéçæ¶é´ã\n\nåå®¢ï¼ æå³Oracleç»è®¡ä¿¡æ¯çç¥è¯ç¹\nåå®¢ï¼ Oracle 11gæ°ç¹æ§ä¹ç»è®¡ä¿¡æ¯æ¶é\n\n--å½è¡¨æ²¡æååæçæ¶åï¼Oracle ä¼ä½¿ç¨å¨æéæ ·æ¥æ¶éç»è®¡ä¿¡æ¯ãè·ååç¡®çæ®µå¯¹è±¡ï¼è¡¨ï¼è¡¨ååºï¼ç´¢å¼ç­ï¼çåææ°æ®ï¼æ¯CBOå­å¨çåºç³ï¼\n--CBOçæºå¶å°±æ¯æ¶éå°½å¯è½å¤çå¯¹è±¡ä¿¡æ¯åç³»ç»ä¿¡æ¯ï¼éè¿å¯¹è¿äºä¿¡æ¯è¿è¡è®¡ç®ï¼åæï¼è¯ä¼°ï¼æç»å¾åºä¸ä¸ªææ¬æä½çæ§è¡è®¡åã\n--æä»¥å¯¹äºCBOï¼æ°æ®æ®µçåæå°±éå¸¸éè¦ã\n\nè§£éåä¸ªç¨æ·schema\nexec dbms_stats.unlock_schema_stats('ç¨æ·å');\n\nåä¸ªè¡¨ç»è®¡æ°æ®çç»è®¡æ°æ®æ´æ°\nEXEC dbms_stats.gather_table_stats('ãusernameã','ãtablenameã', estimate_percent => dbms_stats.auto_sample_size, cascade=>true);\n-- EXEC dbms_stats.gather_table_stats('ãusernameã','ãtablenameã',cascade=>true);\n-- analyze table tablename compute statistics ç­åäº analyze table tablename compute statistics for table for all indexes for all columns\n\n-- æ´æ°æ´ä¸ªç¨æ·ææè¡¨çç»è®¡æ°æ®æ´æ°\n-- EXEC dbms_stats.gather_schema_stats('ãusernameã',estimate_percent=>100,cascade=> TRUE);\n\n\nåæ°è¯´æ: (https://www.cnblogs.com/tingxin/p/12663682.html)\nownname:è¦åæè¡¨çæ¥æè\ntabname:è¦åæçè¡¨å.\npartname:ååºçåå­,åªå¯¹ååºè¡¨æååºç´¢å¼æç¨.\nestimate_percent:éæ ·è¡çç¾åæ¯,åå¼èå´[0.000001,100],nullä¸ºå¨é¨åæ,ä¸éæ ·. å¸¸é:DBMS_STATS.AUTO_SAMPLE_SIZEæ¯é»è®¤å¼,ç±oracleå³å®æä½³åéæ ·å¼.\nblock_sapmple:æ¯å¦ç¨åéæ ·ä»£æ¿è¡éæ ·.\nmethod_opt:å³å®histogramsä¿¡æ¯æ¯ææ ·è¢«ç»è®¡ç.method_optçåå¼å¦ä¸(é»è®¤å¼ä¸ºFOR ALL COLUMNS SIZE AUTO):\nfor all columns:ç»è®¡ææåçhistograms.\nfor all indexed columns:ç»è®¡ææindexedåçhistograms.\nfor all hidden columns:ç»è®¡ä½ çä¸å°åçhistograms\nfor columns <list> SIZE <N> | REPEAT | AUTO | SKEWONLY:ç»è®¡æå®åçhistograms.Nçåå¼èå´[1,254]; REPEATä¸æ¬¡ç»è®¡è¿çhistograms;AUTOç±oracleå³å®Nçå¤§å°;SKEWONLY multiple end-points with the same value which is what we define by \"there is skew in thedata\ndegree:å³å®å¹¶è¡åº¦.é»è®¤å¼ä¸ºnull.\ngranularity:Granularity of statistics to collect ,only pertinent if the table is partitioned.\ncascade:æ¯æ¶éç´¢å¼çä¿¡æ¯.é»è®¤ä¸ºFALSE.\nstattab:æå®è¦å­å¨ç»è®¡ä¿¡æ¯çè¡¨,statidå¦æå¤ä¸ªè¡¨çç»è®¡ä¿¡æ¯å­å¨å¨åä¸ä¸ªstattabä¸­ç¨äºè¿è¡åºå.statownå­å¨ç»è®¡ä¿¡æ¯è¡¨çæ¥æè.ä»¥ä¸ä¸ä¸ªåæ°è¥ä¸æå®,ç»è®¡ä¿¡æ¯ä¼ç´æ¥æ´æ°å°æ°æ®å­å¸.\nno_invalidate: Does not invalidate the dependent cursors if set to TRUE. The procedure invalidates the dependent cursors immediately if set to FALSE.\nforce:å³ä½¿è¡¨éä½äºä¹æ¶éç»è®¡ä¿¡æ¯.\n\n\nè¿æ¯å¯¹å½ä»¤ä¸å·¥å·åçä¸äºæ»ç»\n1ãå¯¹äºååºè¡¨ï¼å»ºè®®ä½¿ç¨DBMS_STATSï¼èä¸æ¯ä½¿ç¨Analyzeè¯­å¥ã\na) å¯ä»¥å¹¶è¡è¿è¡ï¼å¯¹å¤ä¸ªç¨æ·ï¼å¤ä¸ªTable\nb) å¯ä»¥å¾å°æ´ä¸ªååºè¡¨çæ°æ®ååä¸ªååºçæ°æ®ã\nc) å¯ä»¥å¨ä¸åçº§å«ä¸Compute Statisticsï¼åä¸ªååºï¼å­ååºï¼å¨è¡¨ï¼ææååº\nd) å¯ä»¥ååºç»è®¡ä¿¡æ¯\ne) å¯ä»¥ç¨æ·èªå¨æ¶éç»è®¡ä¿¡æ¯\n2ãDBMS_STATSçç¼ºç¹\na) ä¸è½Validate Structure\nb) ä¸è½æ¶éCHAINED ROWS, ä¸è½æ¶éCLUSTER TABLEçä¿¡æ¯ï¼è¿ä¸¤ä¸ªä»æ§éè¦ä½¿ç¨Analyzeè¯­å¥ã\nc) DBMS_STATS é»è®¤ä¸å¯¹ç´¢å¼è¿è¡Analyzeï¼å ä¸ºé»è®¤Cascadeæ¯Falseï¼éè¦æå·¥æå®ä¸ºTrue\n3ãå¯¹äºoracle 9éé¢çExternal Tableï¼Analyzeä¸è½ä½¿ç¨ï¼åªè½ä½¿ç¨DBMS_STATSæ¥æ¶éä¿¡æ¯ã\n\n\n\n# æ¥è¯¢æ­£å¨æ§è¡çSQL\n\nSELECT b.inst_id,b.sid oracleID,\n       b.username ç»å½Oracleç¨æ·å,\n       b.serial#,\n       spid æä½ç³»ç»ID,\n       paddr,\n       sql_text æ­£å¨æ§è¡çSQL,\n       sql_fulltext,\n       b.machine è®¡ç®æºå,\n       b.EVENT,\n       'alter system kill session '''||b.sid||','||b.serial#||''';'\nFROM gv$process a, gv$session b, gv$sql c\nWHERE a.addr = b.paddr\n   AND b.sql_hash_value = c.hash_value\n   and a.inst_id=1\n   and b.inst_id=1\n   and c.inst_id=1\n   and b.status='ACTIVE'\n   ;\n\n\n# æ¥è¯¢SQLå¹³åèæ¶\n\n--æ ¹æ®å¹³åèæ¶å¤§å°æåº\nSELECT a.SQL_TEXT,\n       a.SQL_ID,\n       a.EXECUTIONS \"æ»æ§è¡æ¬¡æ°\",\n       nvl(a.ELAPSED_TIME, 0) / 1000 / 1000 \"æ»èæ¶(ç§)\",\n       (nvl(a.ELAPSED_TIME, 0) /\n       nvl(decode(a.EXECUTIONS, 0, 1, a.EXECUTIONS), 1)) / 1000 / 1000 \"å¹³åèæ¶ï¼ç§ï¼\",\n       a.PARSE_CALLS \"ç¡¬è§£ææ¬¡æ°\",\n       a.DISK_READS \"ç©çè¯»æ¬¡æ°\",\n       a.BUFFER_GETS \"è¯»ç¼å­åºæ¬¡æ°\",\n       a.FIRST_LOAD_TIME \"sqlå¼å§æ§è¡æ¶é´\"\n  FROM v$SQL a\n WHERE a.first_load_time like '2022-07-13%'\n order by (nvl(a.ELAPSED_TIME, 0) /\n          nvl(decode(a.EXECUTIONS, 0, 1, a.EXECUTIONS), 1)) / 1000 / 1000 desc;\n\n\n# æ¢æ¥è¯¢èæ¶\n\n-- æ¢æ¥è¯¢èæ¶\nselect *\n from (select sa.SQL_TEXT \"æ§è¡ SQL\",\n        sa.EXECUTIONS \"æ§è¡æ¬¡æ°\",\n        round(sa.ELAPSED_TIME / 1000000, 2) \"æ»æ§è¡æ¶é´\",\n        round(sa.ELAPSED_TIME / 1000000 / sa.EXECUTIONS, 2) \"å¹³åæ§è¡æ¶é´\",\n        sa.COMMAND_TYPE,\n        sa.PARSING_USER_ID \"ç¨æ·ID\",\n        u.username \"ç¨æ·å\",\n        sa.HASH_VALUE\n     from v$sqlarea sa\n     left join all_users u\n      on sa.PARSING_USER_ID = u.user_id\n     where sa.EXECUTIONS > 0\n     order by (sa.ELAPSED_TIME / sa.EXECUTIONS) desc)\n where rownum <= 50;\n\n\n# æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­»\n\n-- ddlé dba_ddl_locks\n1.æ¥è¯¢æ­£å¨è¿è¡çå­å¨è¿ç¨ï¼åãå½æ°ç­ï¼\nselect name from v$db_object_cache where type IN ('PROCEDURE', 'PACKAGE BODY', 'PACKAGE') and locks > 0 and pins > 0;\n-- è·åddléçä¿¡æ¯\nselect * from dba_ddl_locks where owner = 'XXX' AND name='XXX';\n\n2.æ¾å°å¯¹åºå­å¨è¿ç¨çsid\nselect/*+rule */ sid from v$access o where OWNER='è¿ç¨çæå±ç¨æ·' AND o.OBJECT = 'å­å¨è¿ç¨'   --ï¼åæ°æ¯å­å¨è¿ç¨åç§°ï¼\n\n3.æ ¹æ®sidæ¾å°å¯¹åºçserial#\nselect sid,serial# from v$session a WHERE A.SID='sid'\n\n4.ç»æ­¢è¿è¡å­å¨è¿ç¨\nalter system kill session 'sid,serial#'  (ä¾å¦ï¼alter system kill session 'sid,serial#')\n\n\n# å¶ä»\n\n--æ¥è¯¢å½åç¨æ·ä½¿ç¨äºå¤å°è¿åè¡¨ç©ºé´\nselect d.username,c.name,b.writes\nfrom v$transaction a,v$rollstat b,v$rollname c,v$session d\nwhere d.taddr=a.addr\n  and a.xidusn=b.usn\n  and b.usn=c.usn\norder by d.username;\n\n-- æ¥çä¸´æ¶è¡¨ç©ºé´çä½¿ç¨æåµ\nselect ts.name,ts.phyrds \"reads\",ts.phywrts \"writes\",ts.phyblkrd,ts.phyblkwrt,ts.readtim \"rtime\",ts.writetim \"wtime\"\n  from v$tablespace ts,v$tempfile tf ,v$tempstat ts\n where ts.ts#=tf.ts#\n   and tf.file#=ts.file#;\n\n-- æ¥çæ°æ®æä»¶çi/oåå¸æåµ\nselect name,phyrds,phywrts,readtim,writetim\n  from v$filestat a,v$datafile b\n where a.file#=b.file#\n order by readtim desc;\n\n-- æ¥çè¿æ¥oracleçæææºå¨çè¿æ¥æ°åç¶æ\nselect machine,status,count(*) from v$session group by machine,status order by status;\n\n/*\nSGA(System Global Area)ï¼ç±æææå¡è¿ç¨ååå°è¿ç¨å±äº«ï¼\nPGA(Program Global Area)ï¼ç±æ¯ä¸ªæå¡è¿ç¨ãåå°è¿ç¨ä¸æï¼æ¯ä¸ªè¿ç¨é½æä¸ä¸ªPGAã\n*/\n-- oracleçPGAãSGAåprocess count\nselect 'SGA' AS NAME,ROUND(sum(value)/1024/1024,2)||'M' AS \"SIZE(M)\" from v$sga\nUNION\nselect 'PGA' AS NAME,ROUND(value/1024/1024,2)||'M' AS \"SIZE(M)\" from v$pgastat where name='total PGA allocated'\nUNION\nselect 'TOTAL' AS NAME,((SELECT ROUND(sum(value)/1024/1024,2) from v$sga)+(select ROUND(value/1024/1024,2) from v$pgastat where name='total PGA allocated'))||'M' AS \"SIZE(M)\" FROM DUAL\nUNION\nSELECT NAME,TO_CHAR(VALUE) FROM V$PGASTAT WHERE NAME='process count';\n\n\n\n# SCN\n\n----------------------------------------\n\nSCNï¼System Change Numberï¼ï¼ä¹å°±æ¯éå¸¸æè¯´çç³»ç»æ¹åå·ï¼æ¯æ°æ®åºä¸­éå¸¸éè¦çä¸ä¸ªæ°æ®ç»æã\nSCNç¨ä»¥æ è¯æ°æ®åºå¨æä¸ªç¡®åæ¶å»æäº¤ççæ¬ãå¨äºå¡æäº¤æ¶ï¼å®è¢«èµäºä¸ä¸ªå¯ä¸çæ è¯äºå¡çSCNãSCNåæ¶è¢«ä½ä¸ºOracleæ°æ®åºçåé¨æ¶éæºå¶ï¼å¯è¢«çåé»è¾æ¶éï¼æ¯ä¸ªæ°æ®åºé½æä¸ä¸ªå¨å±çSCNçæå¨ã\nä½ä¸ºæ°æ®åºåé¨çé»è¾æ¶éï¼æ°æ®åºäºå¡ä¾SCNèæåºï¼Oracleä¹ä¾æ®SCNæ¥å®ç°ä¸è´æ§è¯»ï¼Read Consistencyï¼ç­éè¦æ°æ®åºåè½ãå¦å¤å¯¹äºåå¸å¼äºå¡ï¼Distributed Transactionsï¼ï¼SCNä¹æä¸ºéè¦ï¼è¿éä¸åæ´å¤ä»ç»ã\nSCNå¨æ°æ®åºä¸­æ¯å¯ä¸çï¼å¹¶éæ¶é´èå¢å ï¼ä½æ¯å¯è½å¹¶ä¸è¿è´¯ãé¤ééå»ºæ°æ®åºï¼SCNçå¼æ°¸è¿ä¸ä¼è¢«éç½®ä¸º0.\nä¸ç´ä»¥æ¥ï¼å¯¹äºSCNæå¾å¤äºè®®ï¼å¾å¤äººè®¤ä¸ºSCNæ¯æSystem Commit Numberï¼èéå¸¸SCNå¨æäº¤æ¶æååï¼æä»¥å¾å¤æ¶åï¼è¿ä¸¤ä¸ªåè¯ç»å¸¸å¨ææ¡£ä¸­åå¤åºç°ãå³ä½¿å¨Oracleçå®æ¹ææ¡£ä¸­ï¼SCNä¹å¸¸ä»¥System Change/Commit Numberä¸¤ç§å½¢å¼åºç°ã\nå°åºæ¯åªä¸ªè¯å¶å®ä¸æ¯å¾éè¦ï¼éè¦çæ¯éè¦ç¥éSCNæ¯Oracleåé¨çæ¶éæºå¶ï¼Oracleéè¿SCNæ¥ç»´æ¤æ°æ®åºçä¸è´æ§ï¼å¹¶éè¿SCNå®æ½Oracleè³å³éè¦çæ¢å¤æºå¶ã\nSCNå¨æ°æ®åºä¸­æ¯æ å¤ä¸å¨ï¼å¸¸è§çäºå¡è¡¨ãæ§å¶æä»¶ãæ°æ®æä»¶å¤´ãæ¥å¿æä»¶ãæ°æ®åå¤´ç­é½è®°å½æSCNå¼ã\nå ä»¥ä¸ååç¼ï¼SCNä¹æäºä¸åçåç§°ï¼å¦æ£æ¥ç¹SCNï¼Checkpint SCNï¼ãResetlogs SCNç­ã\n\n-- å½åscnå·åæ¶é´çå¯¹åºå³ç³»ï¼\nselect dbms_flashback.get_system_change_number,SCN_TO_TIMESTAMP(dbms_flashback.get_system_change_number) from dual;\n\n-- æ¥è¯¢å½åscnï¼\nselect CURRENT_SCN from v$database;\nselect dbms_flashback.get_system_change_number from dual;\n\n-- SCNä¸æ¶é´çç¸äºè½¬æ¢\nå°SCNè½¬æ¢ææ¶é´æ³: SCN_TO_TIMESTAMP(scn_number)\nå°æ¶é´æ³è½¬æ¢æSCN: TIMESTAMP_TO_SCN(timestamp)\n\n-- æ°æ®è¡ä¼ªåä¿å­æ°æ®æåæ´æ°æ¶é´  select ora_rowscn from table_name;\n-- ç³»ç»è¡¨ä¿å­scnä¸æ¶é´æ³å¯¹åºå³ç³»ï¼ä¿ç5å¤©ï¼   SELECT * FROM sys.smon_scn_time\n\näºè§£æ´å¤è¯·æ ¸æ¥çåå®¢ï¼https://blog.csdn.net/fuwencaho/article/details/21256973\n\n\n\n\n# Oracle è¡¨éªå\n\næ¥çæ¯å¦å¼å¯éªååè½ï¼SELECT flashback_on FROM V$DATABASE;\n\n# æ¥è¯¢åå²çæ¬æ°æ®ï¼éªåæ¥è¯¢ï¼\n\n-- æ¥è¯¢åºç±»ä¼¼æé¾è¡¨çæ°æ®ï¼åå«åå²çæ¬ï¼\nSELECT \n       å­æ®µå,\n       TO_CHAR(VERSIONS_STARTTIME, 'yyyy-MM-dd hh24:mi:ss') AS VERSIONS_STARTTIME,\n       TO_CHAR(VERSIONS_ENDTIME, 'yyyy-MM-dd hh24:mi:ss') AS VERSIONS_ENDTIME,\n       VERSIONS_OPERATION\n  FROM è¡¨å VERSIONS BETWEEN TIMESTAMP MINVALUE AND MAXVALUE\n WHERE VERSIONS_STARTTIME IS NOT NULL\n ORDER BY VERSIONS_STARTTIME DESC;\n\n\n# æ¢å¤å·²å é¤çè¡¨\n\n-- æ¢å¤å·²å é¤çè¡¨\nflashback table table_name to before drop;\n\n-- è¥å é¤åå·²ç»åå»ºäºååçè¡¨ï¼ORA-38312ï¼\n-- å¦æè¡¨åéå¤ï¼åéªåæ¶éµå¾ªåå¥ååºçååã\nflashback table test to before drop rename to test1;\n\n\næ©å±ï¼\n\n-- éªåæ¶å¯ææè¢«æ¢å¤çåæ¶ç«å¯¹è±¡\nflashback table \"BIN$AyId7ZbBjWngUKjADQIIuA==$0\" to before drop;\n\n-- éªåå è¡¨çå·¥ä½åçæ¯ï¼å½âdrop tableâå½ä»¤æ§è¡æ¶ï¼è¡¨åå¶ç´¢å¼å¹¶æ²¡æè¢«çæ­£å é¤ï¼å¶æå ç©ºé´åªæ¯åéç»äºå¦ä¸ä¸ªæ°æ®åºå¯¹è±¡ï¼åæ¶ç«å¯¹è±¡ï¼æ¬è´¨ä¸ç¸å½äºéå½åãæ³¨æï¼è¡¨ç©ºé´å¨èªå¨å¢é¿çååä¸ä¼æç§åå¥ååºçè§åå°åæ¶ç«å¯¹è±¡çç©ºé´åéç»éè¦ç©ºé´çæ®µï¼å¨å°åæ¶ç«å¯¹è±¡èå°½ä¹åæ°æ®æä»¶æ¯ä¸ä¼èªå¨å¢é¿çã\n-- Oracleå¯ç¨åæ¶ç«åè½åï¼ä½¿ç¨drop table ...è¯­å¥å é¤ä¸å¼ è¡¨æ¶ï¼å¹¶ä¸ä¼å°è¡¨ç»å é¤ï¼èæ¯ä»¥ä¸å®çæ ¼å¼éæ°å¯¹è¡¨éå½åï¼ç¶åå°è¯¥è¡¨æ¾å°æ°æ®å­å¸è¡¨ä¸­ï¼å¨éå°è¡¨ç©ºé´ä¸è¶³çæåµä¸èªå¨æ¸çè¿äºè¡¨ï¼éæ¾è¢«å ç¨çç©ºé´ï¼è®©å¶å®å¯¹è±¡è½å¤ä½¿ç¨è¿äºç©ºé´ã\n\n-- å¯ç¦ç¨åæ¶ç«åè½\nalter system set recyclebin='OFF' scope=spfile;\n\n-- æ¸çæå®ç¨æ·çè¡¨ç©ºé´ä¸­çåæ¶ç«å¯¹è±¡\nPURGE TABLESPACE USERS user user_name;\n-- å é¤å½åç¨æ·åæ¶ç«çææå¯¹è±¡\npurge recyclebin;\n    \n-- dbms_flashbackå\n-- å©ç¨dbms_flashbackåçenable_at_timeæenable_at_scnå­å¨è¿ç¨éå®ä¸ä¸ªä¼è¯çº§å«çéªåæ¶é´ç®æ ï¼å³è¿å¥éªåæ¨¡å¼ï¼éåçæ¥è¯¢å½ä»¤å¯ä»¥çç¥âas ofâï¼ç´å°è°ç¨dbms_flashback_disableå­å¨è¿ç¨å°å¶å³é­ä¸ºæ­¢ã\n\n\n# æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹\n\n-- ç¡®å®è¦æ¢å¤çè¡¨çæ¶é´ç¹\nSELECT * FROM table_name AS OF TIMESTAMP(to_timestamp('2024-08-29 19:00:00', 'yyyy-MM-dd hh24:mi:ss'));\n\n-- å°è¡¨æ¢å¤å°æå®æ¶é´ç¹\nFLASHBACK TABLE table_name TO TIMESTAMP(to_timestamp('2024-08-29 19:00:00', 'yyyy-MM-dd hh24:mi:ss'));\n-- 1. \"FLASHBACK TABLE\"å½ä»¤çæ§è¡èå¿é¡»æ\"FLASHBACK ANY TABLE\"ç³»ç»æéæèå¨è¢«éªåçè¡¨ä¸å·æ\"FLASHBACK\"å¯¹è±¡æéã\n-- 2. éå¯ç¨è¡ç§»å¨  alter table DEBT_T_FILE_INFO_FABZ_BAK enable row movement;\n-- 3. \"FLASHBACK TABLE\"å±äºDDLå½ä»¤ï¼éå¼æäº¤ã\n-- 4. SYSç¨æ·çä»»ä½è¡¨æ æ³ä½¿ç¨æ­¤åè½ã\n\n\n\n# LogMiner\n\n----------------------------------------\n\nä¼æå¨ç¥ï¼ææå¯¹ç¨æ·æ°æ®åæ°æ®å­å¸çæ¹åé½è®°å½å¨OracleçRedo Logä¸­ï¼å æ­¤ï¼Redo Logåå«äºææè¿è¡æ¢å¤æä½æéè¦çä¿¡æ¯ãä½æ¯ï¼åå§çRedo Logæä»¶æ æ³çæï¼æä»¥ï¼Oracleä»8iä»¥åæä¾äºä¸ä¸ªéå¸¸æç¨çåæå·¥å·ï¼ç§°ä¸ºLogMinerãä½¿ç¨è¯¥å·¥å·å¯ä»¥è½»æ¾è·å¾Redo Logæä»¶ï¼åå«å½æ¡£æ¥å¿æä»¶ï¼ä¸­çå·ä½åå®¹ãç¹å«æ¯è¯¥å·¥å·å¯ä»¥åæåºææå¯¹äºæ°æ®åºçDMLæä½ï¼INSERTãUPDATEãDELETEç­ï¼è¯­å¥ãOracle 9iåå¯ä»¥åæDDLè¯­å¥ï¼å¦å¤è¿å¯åæå¾å°ä¸äºå¿è¦çåæ»SQLè¯­å¥ãLogMinerä¸ä¸ªæéè¦çç¨éå°±æ¯ä¸ç¨å¨é¨æ¢å¤æ°æ®åºå°±å¯ä»¥æ¢å¤æ°æ®åºçæä¸ªååãè¯¥å·¥å·ç¹å«éç¨äºè°è¯ãå®¡è®¡æèåéæä¸ªç¹å®çäºå¡ã LogMinerå·¥å·æ¢å¯ä»¥ç¨æ¥åæå¨çº¿æ¥å¿ï¼ä¹å¯ä»¥ç¨æ¥åæç¦»çº¿æ¥å¿æä»¶ï¼æ¢å¯ä»¥åææ¬èº«èªå·±æ°æ®åºçéä½æ¥å¿æä»¶ï¼ä¹å¯ä»¥ç¨æ¥åæå¶å®æ°æ®åºçéä½æ¥å¿æä»¶ãå½åæå¶å®æ°æ®åºçéä½æ¥å¿æä»¶æ¶ï¼éè¦æ³¨æçæ¯ï¼LogMinerå¿é¡»ä½¿ç¨è¢«åææ°æ®åºå®ä¾äº§ççå­å¸æä»¶ï¼èä¸æ¯å®è£LogMinerçæ°æ®åºäº§ççå­å¸æä»¶ï¼å¦å¤ï¼å¿é¡»ä¿è¯å®è£LogMineræ°æ®åºçå­ç¬¦éåè¢«åææ°æ®åºçå­ç¬¦éç¸åãæºæ°æ®åºï¼Source Databaseï¼å¹³å°å¿é¡»ååææ°æ®åºï¼Mining Databaseï¼å¹³å°ä¸æ ·ã Oracleéè¿LogMinerå·¥å·å¯¹Redo Logè¿è¡ææï¼æ¾ç¤ºåºä¸ç³»åå¯è¯»çä¿¡æ¯ï¼è¯¥è¿ç¨ç§°ä¸ºæ¥å¿ææãLogMineréè¿V$LOGMNR_CONTENTSè§å¾æ¾ç¤ºRedo Logä¸­çä¿¡æ¯ã\n\næ»çè¯´æ¥ï¼LogMinerå·¥å·çä¸»è¦ç¨éæï¼\n\n 1. è·è¸ªæ°æ®åºçååï¼å¯ä»¥ç¦»çº¿å°è·è¸ªæ°æ®åºçååï¼èä¸ä¼å½±åå¨çº¿ç³»ç»çæ§è½\n 2. åéæ°æ®åºçååï¼åéç¹å®çååæ°æ®ï¼åå°Point-In-Time Recoveryçæ§è¡\n 3. ä¼ååæ©å®¹è®¡åï¼å¯éè¿åææ¥å¿æä»¶ä¸­çæ°æ®ä»¥åææ°æ®çå¢é¿æ¨¡å¼\n 4. ç¡®å®æ°æ®åºçé»è¾æåæ¶é´ï¼åç¡®å®ä½æä½æ§è¡çæ¶é´åSCN\n 5. ç¡®å®äºå¡çº§è¦æ§è¡çç²¾ç»é»è¾æ¢å¤æä½ï¼å¯ä»¥åå¾ç¸åºçUNDOæä½\n 6. æ§è¡åç»­å®¡è®¡\n\näºè§£æ´å¤è¯·æ¥çåå®¢ï¼ https://blog.csdn.net/yes_is_ok/article/details/79296614\n\n\n# å¨ææ§è½è§å¾(x$,v$,gv$,v_$,gv_$)\n\n----------------------------------------\n\nå®æ¹ææ¡£12.2\n\nv$database æ°æ®åºä¿¡æ¯\nv$datafile æ°æ®æä»¶ä¿¡æ¯\nv$controlfile æ§å¶æä»¶ä¿¡æ¯\nv$logfile éåæ¥å¿ä¿¡æ¯\nv$instance æ°æ®åºå®ä¾ä¿¡æ¯\nv$log æ¥å¿ç»ä¿¡æ¯\nv$loghist æ¥å¿åå²ä¿¡æ¯\nv$sga æ°æ®åºSGAä¿¡æ¯\nv$parameter åå§ååæ°ä¿¡æ¯\nv$process æ°æ®åºæå¡å¨è¿ç¨ä¿¡æ¯\nv$bgprocess æ°æ®åºåå°è¿ç¨ä¿¡æ¯\nv$controlfile_record_section æ§å¶æä»¶è®°è½½çåé¨åä¿¡æ¯\nv$thread çº¿ç¨ä¿¡æ¯\nv$datafile_header æ°æ®æä»¶å¤´æè®°è½½çä¿¡æ¯\nv$archived_logå½æ¡£æ¥å¿ä¿¡æ¯\nv$archive_dest å½æ¡£æ¥å¿çè®¾ç½®ä¿¡æ¯\nv$logmnr_contents å½æ¡£æ¥å¿åæçDML DDLç»æä¿¡æ¯\nv$logmnr_dictionary æ¥å¿åæçå­å¸æä»¶ä¿¡æ¯\nv$logmnr_logs æ¥å¿åæçæ¥å¿åè¡¨ä¿¡æ¯\nv$tablespace è¡¨ç©ºé´ä¿¡æ¯\nv$tempfile ä¸´æ¶æä»¶ä¿¡æ¯\nv$filestat æ°æ®æä»¶çI/Oç»è®¡ä¿¡æ¯\nv$undostat Undoæ°æ®ä¿¡æ¯\nv$rollname å¨çº¿åæ»æ®µä¿¡æ¯\nv$session ä¼è¯ä¿¡æ¯\nv$transaction äºå¡ä¿¡æ¯\nv$rollstat åæ»æ®µç»è®¡ä¿¡æ¯\nv$pwfile_users ç¹æç¨æ·ä¿¡æ¯\nv$sqlarea å½åæ¥è¯¢è¿çsqlè¯­å¥è®¿é®è¿çèµæºåç¸å³çä¿¡æ¯\nv$sql ä¸v$sqlareaåºæ¬ç¸åçç¸å³ä¿¡æ¯\nv$sysstat æ°æ®åºç³»ç»ç¶æä¿¡æ¯\n\n\n\n# å¸¸ç¨ç³»ç»è¡¨\n\nåæé¾æ¥\n\ndba_å¼å¤´\n\n\ndba_users æ°æ®åºç¨æ·ä¿¡æ¯\ndba_segments è¡¨æ®µä¿¡æ¯\ndba_extents æ°æ®åºä¿¡æ¯\ndba_objects æ°æ®åºå¯¹è±¡ä¿¡æ¯\ndba_tablespaces æ°æ®åºè¡¨ç©ºé´ä¿¡æ¯\ndba_data_files æ°æ®æä»¶è®¾ç½®ä¿¡æ¯\ndba_temp_files ä¸´æ¶æ°æ®æä»¶ä¿¡æ¯\ndba_rollback_segs åæ»æ®µä¿¡æ¯\ndba_ts_quotas ç¨æ·è¡¨ç©ºé´éé¢ä¿¡æ¯\ndba_free_space æ°æ®åºç©ºé²ç©ºé´ä¿¡æ¯\ndba_profiles æ°æ®åºç¨æ·èµæºéå¶ä¿¡æ¯\ndba_sys_privs ç¨æ·çç³»ç»æéä¿¡æ¯\ndba_tab_privs ç¨æ·å·æçå¯¹è±¡æéä¿¡æ¯\ndba_col_privs ç¨æ·å·æçåå¯¹è±¡æéä¿¡æ¯\ndba_role_privs ç¨æ·å·æçè§è²ä¿¡æ¯\ndba_audit_trail å®¡è®¡è·è¸ªè®°å½ä¿¡æ¯\ndba_stmt_audit_opts å®¡è®¡è®¾ç½®ä¿¡æ¯\ndba_audit_object å¯¹è±¡å®¡è®¡ç»æä¿¡æ¯\ndba_audit_session ä¼è¯å®¡è®¡ç»æä¿¡æ¯\ndba_indexes ç¨æ·æ¨¡å¼çç´¢å¼ä¿¡æ¯\n\n\nuser_å¼å¤´\n\nuser_objects ç¨æ·å¯¹è±¡ä¿¡æ¯\nuser_source æ°æ®åºç¨æ·çææèµæºå¯¹è±¡ä¿¡æ¯\nuser_segments ç¨æ·çè¡¨æ®µä¿¡æ¯\nuser_tables ç¨æ·çè¡¨å¯¹è±¡ä¿¡æ¯\nuser_tab_columns ç¨æ·çè¡¨åä¿¡æ¯\nuser_col_comments ç¨æ·çè¡¨åæ³¨éä¿¡æ¯\nuser_constraints ç¨æ·çå¯¹è±¡çº¦æä¿¡æ¯\nuser_sys_privs å½åç¨æ·çç³»ç»æéä¿¡æ¯\nuser_tab_privs å½åç¨æ·çå¯¹è±¡æéä¿¡æ¯\nuser_col_privs å½åç¨æ·çè¡¨åæéä¿¡æ¯\nuser_role_privs å½åç¨æ·çè§è²æéä¿¡æ¯\nuser_indexes ç¨æ·çç´¢å¼ä¿¡æ¯\nuser_ind_columns ç¨æ·çç´¢å¼å¯¹åºçè¡¨åä¿¡æ¯\nuser_cons_columns ç¨æ·ççº¦æå¯¹åºçè¡¨åä¿¡æ¯\nuser_clusters ç¨æ·çææç°ä¿¡æ¯\nuser_clu_columns ç¨æ·çç°æåå«çåå®¹ä¿¡æ¯\nuser_cluster_hash_expressions æ£åç°çä¿¡æ¯\n\n\n\nall_å¼å¤´\n\nall_users æ°æ®åºææç¨æ·çä¿¡æ¯\nall_objects æ°æ®åºææçå¯¹è±¡çä¿¡æ¯\nall_def_audit_opts ææé»è®¤çå®¡è®¡è®¾ç½®ä¿¡æ¯\nall_tables ææçè¡¨å¯¹è±¡ä¿¡æ¯\nall_indexes ææçæ°æ®åºå¯¹è±¡ç´¢å¼çä¿¡æ¯\n\nsession_å¼å¤´\nsession_roles ä¼è¯çè§è²ä¿¡æ¯\nsession_privs ä¼è¯çæéä¿¡æ¯\n\nindex_å¼å¤´\nindex_stats ç´¢å¼çè®¾ç½®åå­å¨ä¿¡æ¯\n\n**ä¼ªè¡¨**\ndual ç³»ç»ä¼ªåè¡¨ä¿¡æ¯\n\n\n\n# å®ä¾\n\n# æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾\n\n   SELECT NAME, REFERENCED_TYPE, REPLACE(TO_CHAR(WM_CONCAT(DISTINCT REFERENCED_NAME)), ',', chr(13))\n     FROM SYS.ALL_DEPENDENCIES\n    WHERE TYPE = 'VIEW'\n      AND NAME = UPPER('è§å¾å')\n      AND REFERENCED_TYPE IN ('TABLE', 'VIEW')\n      AND OWNER = 'ç¨æ·å'\n GROUP BY NAME, REFERENCED_TYPE\n ORDER BY REFERENCED_TYPE\n;\n\n\n# ç¨å° æä¸ªè¡¨ çè§å¾\n\n\n   SELECT NAME, REFERENCED_TYPE, REPLACE(TO_CHAR(WM_CONCAT(DISTINCT REFERENCED_NAME)), ',', chr(13))\n     FROM SYS.ALL_DEPENDENCIES\n    WHERE TYPE = 'VIEW'\n      AND REFERENCED_NAME = 'è¡¨å'\n      AND OWNER = 'ç¨æ·å'\n GROUP BY NAME, REFERENCED_TYPE\n ORDER BY REFERENCED_TYPE\n;\n\n\n# æ¥çè§å¾æè¡¨åå»ºè¯­å¥\n\nSELECT * FROM all_views where VIEW_NAME = UPPER('è§å¾å') AND OWNER = 'ç¨æ·å';\n\n\n# æ¥è¯¢å»ºè¡¨è¯­å¥ï¼ä¸å«æ³¨éï¼\n\nselect dbms_metadata.get_ddl('TABLE',upper('tablename')) from dual;\n\n\n# æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥\n\nSELECT OWNER, NAME, TYPE, listagg(TEXT) WITHIN GROUP(ORDER BY line) AS TEXT\n  FROM ALL_SOURCE\n WHERE NAME = 'OBJECT_NAME'\n   AND owner = 'USER_NAME'\n GROUP BY OWNER, NAME, TYPE\n\n\n# è¿ç§»æ°æ®ï¼å¤§æ¹éæä½æ°æ®ï¼åç¦ç¨ç´¢å¼ï¼ï¼ï¼\n\nSELECT 'ALTER INDEX ' || idx.index_name || ' UNUSABLE;',\n       'ALTER INDEX ' || idx.index_name || ' REBUILD;'\n  FROM user_indexes idx\n  LEFT JOIN USER_IND_COLUMNS IDXC\n    ON IDX.table_name = IDXC.TABLE_NAME\n   AND IDX.INDEX_NAME = IDXC.INDEX_NAME\n WHERE IDX.UNIQUENESS <> 'UNIQUE'\n   AND IDX.table_name IN (SELECT UPPER(DATA_TARGET)\n                            FROM DEBT_T_EXC_CONFIG_PARAM\n                           WHERE EXC_TYPE = 'QY_IN')  /*æå®è¡¨æ¸å*/\n   AND NOT EXISTS\n (SELECT 1\n          FROM (SELECT ucc.table_name, ucc.COLUMN_NAME\n                  FROM USER_CONS_COLUMNS ucc\n                  JOIN USER_CONSTRAINTS uc\n                    ON ucc.CONSTRAINT_NAME = uc.CONSTRAINT_NAME\n                 WHERE uc.CONSTRAINT_TYPE = 'P') t\n         WHERE idx.TABLE_NAME = t.table_name\n           AND IDXC.COLUMN_NAME = T.COLUMN_NAME)  /*è¿æ»¤æä¸»é®åä¸çç´¢å¼*/\n;\n\n\n# æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé\n\nDBA_TAB_MODIFICATIONSè®°å½èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥è¡¨ä¸çDMLæä½ï¼INSERTãUPDATEãDELETEï¼åTRUNCATEæä½çåå²æ°æ®ï¼è¯¥è§å¾ä¾èµäºåå°ä½ä¸MMONï¼15minæ§è¡ä¸æ¬¡ï¼ï¼æå¨æ§è¡ exec DBMS_STATS.FLUSH_DATABASE_MONITORING_INFO;\n\n-- éè¦å¯ç¨è¡¨çæ§ï¼æ¿æ´»è¡¨ä¿®æ¹è·è¸ªï¼ï¼10gä¹åï¼10gä¹åéæå¨å¼å¯è¡¨çæ§alter table MODIFI_TEST nomonitoring/MONITORINGï¼\n-- 1. è®¾ç½®è®¾ç½®ç»è®¡çº§å«\nshow parameter statistics_level;   -- æ¥çåæ°å¼\n--alter system set statistics_level=TYPICAL;   -- åæ°è®¾ä¸ºTYPICALæALL\n--alter session set statistics_level=TYPICAL; \n\n\n-- æ¥è¯¢\nSELECT MODIF.TABLE_OWNER,\n       MODIF.TABLE_NAME,\n       MODIF.INSERTS,\n       MODIF.UPDATES,\n       MODIF.DELETES,\n       MODIF.TIMESTAMP,\n       TABS.LAST_ANALYZED  -- æååææ¶é´\n  FROM DBA_TAB_MODIFICATIONS MODIF\n INNER JOIN DBA_TABLES TABS\n    ON MODIF.TABLE_OWNER = TABS.OWNER\n   AND MODIF.TABLE_NAME = TABS.TABLE_NAME\n WHERE MODIF.TABLE_OWNER = 'QY_CZB_RZPT_OUT'\n   AND MODIF.TIMESTAMP >= SYSDATE - INTERVAL '30' DAY -- æ¥è¯¢æè¿ 1 å¤©ååå¨çè¡¨\n ORDER BY MODIF.TIMESTAMP DESC\n;\n\n\n\n# ä¸MySQLåºå«\n\n1ãoracleæ¯å¤§åæ°æ®åºï¼mysqlæ¯å°åæ°æ®åºï¼\n2ãmysqlæ¯ä¸»é®æ¯æ¯æèªå¨å¢é¿ç±»åçï¼å¨åå»ºè¡¨çæ¶åæå®è¡¨çä¸»é®ä¸ºauto_incrementï¼,å¨æå¥è®°å½æ¶ï¼ä¸éè¦åæå®è¯¥è®°å½çä¸»é®å¼ï¼mysqlå°èªå¨å¢é¿ï¼\n3ãoracleæ²¡æèªå¨å¢é¿ç±»åä¸»é®ä¸è¬ä½¿ç¨åºåï¼å¨æå¥è®°å½æ¶ï¼å°åºåå·çä¸ä¸ä¸ªå¼ä»ç»è¯¥å­æ®µå³å¯ï¼\n4ãmysqlå¯ä»¥ç¨åå¼å·åèµ·å­ç¬¦ä¸²ï¼èoracleåªè½ç¨åå¼å·åèµ·ã\n5ãå¤çåé¡µé»è¾ä¸ä¸æ ·ï¼mysqlä½¿ç¨limitå¤çåé¡µï¼èoracleä½¿ç¨rownumå­æ®µæ æä½ç½®ï¼å¹¶ä¸åªè½ç¨rowNum&lt;100,ä¸è½ç¨rowNum>80;\n6ãmysqlå®ä¹çç©ºå­æ®µéé¢å¯ä»¥æç©ºçåå®¹ï¼ä½æ¯oracleç§éç©ºå­æ®µä¸è½æç©ºçåï¼\n7ãä¸¤èé½è½ä½¿ç¨like â%å­ç¬¦ä¸²%â,ä½æ¯oracleä¸­ä½¿ç¨æ¨¡ç³æ¥è¯¢åä¸è½ä½¿ç¨ç´¢å¼ï¼éåº¦ä¸å¿«ï¼\n8ãä¸¤èç»å­æ®µæ·»å æ³¨éçæ¹å¼ä¸ä¸æ ·ï¼\n\nââââââââââââââââ\nåæé¾æ¥ï¼https://blog.csdn.net/z19950712/article/details/115478505\n\n\n\n# Shellè·oracleèæ¬\n\n----------------------------------------\n\n#! /bin/sh\nlogpath=\"log\"\nfilepath=\"/home/ap/user\"\n#è¾å¥Oracleæ°æ®åºçç¨æ·åå¯ç ç­ä¿¡æ¯\nDBINFO=\"username/password@ip:port/orcl\"\nif  ! -d ${logpath} ]\nthen\n mkdir log\nfi\necho \"`date +'%Y%m%d %H:%M:%S'`] Info: Begin to execute init sql!\"\nlogfile=\"${logpath}/init_table_data_info.log\"\n#â${logfile} 2>&1âè¿éçææå°±æ¯ææ åè¾åºä¿¡æ¯åéè¯¯è¾åºä¿¡æ¯é½è®°å½å¨init_table_data_info.logæä»¶ä¸­\nsqlplus -s ${DBINFO} << ! > ${logfile} 2>&1\nwhenever oserror exit 1;\nwhenever sqlerror exit 1;\n@${filepath}/initTable.sql\n@${filepath}/initTable2.sql\nquit\n!\nif  $? -ne 0 ]\nthen\n    echo \"`date +'%Y%m%d %H:%M:%S'`] Error: Initialize initTable failed!\"  >> ${logpath}\n    exit 1\nfi\necho \"`date +'%Y%m%d %H:%M:%S'`] Initialize initTable  successed.\"  >> ${logpath}\n\n\n\n# Oracleå³èæ¹å¼ï¼æ§è¡è®¡åï¼\n\nä¸ºå¥æè¯´åªæä¸ç§çï¼å¾å®åï¼ï¼ï¼ï¼\n\n> ä¸åæ°æ®åºæ¯ææåµä¸åï¼PGSQLæ¯æ nested-loop join ãhash join ãmerge joinï¼MySQLåªæ¯æ nested-loop join\n\nOracleçSQLä¼åå¨ï¼Optimizerï¼å¨æ§è¡å¤è¡¨è¿æ¥æ¥è¯¢æ¶ï¼éå¸¸éç¨çè¿æ¥ç®æ³æä»¥ä¸å ç§æ¹å¼ï¼\n1ãåµå¥å¾ªç¯è¿æ¥ï¼NESTED LOOPS JOINï¼\n2ãåå¸è¿æ¥ï¼HASH JOINï¼\n3ãæåºåå¹¶è¿æ¥ï¼SORT MERGE JOINï¼\n4ãç¬å¡å°è¿æ¥ï¼CARTESIAN JOINï¼\n5ãç¾¤éè¿æ¥ï¼CLUSTER JOINï¼\n6ãç´¢å¼è¿æ¥ï¼INDEX JOINï¼\n\n\nå¤è¡¨ä¹é´çè¿æ¥æä¸ç§æ¹å¼ï¼Nested Loopsï¼Hash Join å Sort Merge Join. ä¸é¢æ¥ä»ç»ä¸ç§ä¸åè¿æ¥çä¸åï¼\n\nNESTED LOOP\n\n> å¯¹äºè¢«è¿æ¥çæ°æ®å­éè¾å°çæåµï¼åµå¥å¾ªç¯è¿æ¥æ¯ä¸ªè¾å¥½çéæ©ãå¨åµå¥å¾ªç¯ä¸­ï¼åè¡¨è¢«å¤è¡¨é©±å¨ï¼å¤è¡¨è¿åçæ¯ä¸è¡é½è¦å¨åè¡¨ä¸­æ£ç´¢æ¾å°ä¸å®å¹éçè¡ï¼å æ­¤æ´ä¸ªæ¥è¯¢è¿åçç»æéä¸è½å¤ªå¤§ï¼å¤§äº1 ä¸ä¸éåï¼ï¼è¦æè¿åå­éè¾å°è¡¨çä½ä¸ºå¤è¡¨ï¼CBO é»è®¤å¤è¡¨æ¯é©±å¨è¡¨ï¼ï¼èä¸å¨åè¡¨çè¿æ¥å­æ®µä¸ä¸å®è¦æç´¢å¼ãå½ç¶ä¹å¯ä»¥ç¨ORDERED æç¤ºæ¥æ¹åCBOé»è®¤çé©±å¨è¡¨ï¼ä½¿ç¨USE_NL(table_name1 table_name2)å¯æ¯å¼ºå¶CBO æ§è¡åµå¥å¾ªç¯è¿æ¥ã\n\n> Nested loopä¸è¬ç¨å¨è¿æ¥çè¡¨ä¸­æç´¢å¼ï¼å¹¶ä¸ç´¢å¼éæ©æ§è¾å¥½çæ¶å.\n\n> æ­¥éª¤ï¼ç¡®å®ä¸ä¸ªé©±å¨è¡¨(outer table)ï¼å¦ä¸ä¸ªè¡¨ä¸ºinner tableï¼é©±å¨è¡¨ä¸­çæ¯ä¸è¡ä¸innerè¡¨ä¸­çç¸åºè®°å½JOINãç±»ä¼¼ä¸ä¸ªåµå¥çå¾ªç¯ãéç¨äºé©±å¨è¡¨çè®°å½éæ¯è¾å°ï¼<10000ï¼èä¸innerè¡¨éè¦æææçè®¿é®æ¹æ³ï¼Indexï¼ãéè¦æ³¨æçæ¯ï¼JOINçé¡ºåºå¾éè¦ï¼é©±å¨è¡¨çè®°å½éä¸å®è¦å°ï¼è¿åç»æéçååºæ¶é´æ¯æå¿«çã\n\nHASH JOIN\n\n> æ£åè¿æ¥æ¯CBO åå¤§æ°æ®éè¿æ¥æ¶çå¸¸ç¨æ¹å¼ï¼ä¼åå¨ä½¿ç¨ä¸¤ä¸ªè¡¨ä¸­è¾å°çè¡¨ï¼ææ°æ®æºï¼å©ç¨è¿æ¥é®å¨åå­ä¸­å»ºç«æ£åè¡¨ï¼ç¶åæ«æè¾å¤§çè¡¨å¹¶æ¢æµæ£åè¡¨ï¼æ¾åºä¸æ£åè¡¨å¹éçè¡ã è¿ç§æ¹å¼éç¨äºè¾å°çè¡¨å®å¨å¯ä»¥æ¾äºåå­ä¸­çæåµï¼è¿æ ·æ»ææ¬å°±æ¯è®¿é®ä¸¤ä¸ªè¡¨çææ¬ä¹åãä½æ¯å¨è¡¨å¾å¤§çæåµä¸å¹¶ä¸è½å®å¨æ¾å¥åå­ï¼è¿æ¶ä¼åå¨ä¼å°å®åå²æè¥å¹²ä¸åçååºï¼ä¸è½æ¾å¥åå­çé¨åå°±æè¯¥ååºåå¥ç£ççä¸´æ¶æ®µï¼æ­¤æ¶è¦æè¾å¤§çä¸´æ¶æ®µä»èå°½éæé«I/O çæ§è½ã ä¹å¯ä»¥ç¨USE_HASH(table_name1 table_name2)æç¤ºæ¥å¼ºå¶ä½¿ç¨æ£åè¿æ¥ãå¦æä½¿ç¨æ£åè¿æ¥HASH_AREA_SIZE åå§ååæ°å¿é¡»è¶³å¤çå¤§ï¼å¦ææ¯9iï¼Oracleå»ºè®®ä½¿ç¨SQLå·¥ä½åºèªå¨ç®¡çï¼è®¾ç½®WORKAREA_SIZE_POLICY ä¸ºAUTOï¼ç¶åè°æ´PGA_AGGREGATE_TARGET å³å¯ã\n\n> Hash joinå¨ä¸¤ä¸ªè¡¨çæ°æ®éå·®å«å¾å¤§çæ¶å.\n\n> æ­¥éª¤ï¼å°ä¸¤ä¸ªè¡¨ä¸­è¾å°çä¸ä¸ªå¨åå­ä¸­æé ä¸ä¸ªHASHè¡¨ï¼å¯¹JOIN KEYï¼ï¼æ«æå¦ä¸ä¸ªè¡¨ï¼åæ ·å¯¹JOIN KEYè¿è¡HASHåæ¢æµæ¯å¦å¯ä»¥JOINãéç¨äºè®°å½éæ¯è¾å¤§çæåµãéè¦æ³¨æçæ¯ï¼å¦æHASHè¡¨å¤ªå¤§ï¼æ æ³ä¸æ¬¡æé å¨åå­ä¸­ï¼ååæè¥å¹²ä¸ªpartitionï¼åå¥ç£ççtemporary segmentï¼åä¼å¤ä¸ä¸ªåçä»£ä»·ï¼ä¼éä½æçã\n\nSORT MERGE JOIN\n\n> éå¸¸æåµä¸æ£åè¿æ¥çææé½æ¯æåºåå¹¶è¿æ¥è¦å¥½ï¼ç¶èå¦æè¡æºå·²ç»è¢«æè¿åºï¼å¨æ§è¡æåºåå¹¶è¿æ¥æ¶ä¸éè¦åæåºäºï¼è¿æ¶æåºåå¹¶è¿æ¥çæ§è½ä¼ä¼äºæ£åè¿æ¥ãå¯ä»¥ä½¿ç¨USE_MERGE(table_name1 table_name2)æ¥å¼ºå¶ä½¿ç¨æåºåå¹¶è¿æ¥. Sort Merge join ç¨å¨æ²¡æç´¢å¼ï¼å¹¶ä¸æ°æ®å·²ç»æåºçæåµ. cost = (outer access cost * # of hash partitions) + inner access cost\n\n> æ­¥éª¤ï¼å°ä¸¤ä¸ªè¡¨æåºï¼ç¶åå°ä¸¤ä¸ªè¡¨åå¹¶ãéå¸¸æåµä¸ï¼åªæå¨ä»¥ä¸æåµåçæ¶ï¼æä¼ä½¿ç¨æ­¤ç§JOINæ¹å¼ï¼\n> \n> > 1.RBOæ¨¡å¼\n> > 2.ä¸ç­ä»·å³è(>,<,>=,<=,<>)\n> > 3.HASH_JOIN_ENABLED=false\n> > 4.æ°æ®æºå·²æåº\n\nä¸ç§è¿æ¥å·¥ä½æ¹å¼æ¯è¾\n\n> Hash joinçå·¥ä½æ¹å¼æ¯å°ä¸ä¸ªè¡¨ï¼éå¸¸æ¯å°ä¸ç¹çé£ä¸ªè¡¨ï¼åhashè¿ç®ï¼å°åæ°æ®å­å¨å°hashåè¡¨ä¸­ï¼ä»å¦ä¸ä¸ªè¡¨ä¸­æ½åè®°å½ï¼åhashè¿ç®ï¼å°hash åè¡¨ä¸­æ¾å°ç¸åºçå¼ï¼åå¹éã\n\n> Nested loops å·¥ä½æ¹å¼æ¯ä»ä¸å¼ è¡¨ä¸­è¯»åæ°æ®ï¼è®¿é®å¦ä¸å¼ è¡¨ï¼éå¸¸æ¯ç´¢å¼ï¼æ¥åå¹éï¼nested loopséç¨çåºåæ¯å½ä¸ä¸ªå³èè¡¨æ¯è¾å°çæ¶åï¼æçä¼æ´é«ã\n\n> Merge Join æ¯åå°å³èè¡¨çå³èååèªåæåºï¼ç¶åä»åèªçæåºè¡¨ä¸­æ½åæ°æ®ï¼å°å¦ä¸ä¸ªæåºè¡¨ä¸­åå¹éï¼å ä¸ºmerge joinéè¦åæ´å¤çæåºï¼æä»¥æ¶èçèµæºæ´å¤ã éå¸¸æ¥è®²ï¼è½å¤ä½¿ç¨merge joinçå°æ¹ï¼hash joiné½å¯ä»¥åæ¥æ´å¥½çæ§è½ã\n\nå¼ºå¶ä½¿ç¨å³èæ¹å¼\n\nselect /*+use_hash(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\nselect /*+use_nl(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\nselect /*+use_merge(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\n\n\nåæé¾æ¥\n\n\n# ç¹ç¶ç¥è¯\n\n\n# å¹éä¸­æ\n\nä½¿ç¨æ­£åå¹éä¸å¤ªå¥½ä½¿\n\næ¿æ¢æ¹æ¡ï¼chr(128) - chr(255) å¯ä»¥å¹éåå­èå­ç¬¦ï¼åæ ·ä¸å¤åç¡®ï¼\nselect regexp_replace('', '['||chr(128)|| '-' || chr(255) ||']', '-') from dual;\n\n\n\n# åå»ºDBLink\n\n> æ³¨ï¼ç±äº dblink è·¨åºæ¥è¯¢æ¯æä¸ä¸ªæ°æ®åºæ°æ®éè¿ç½ç»åéå°å¦ä¸æ°æ®åºå³èæ¥è¯¢ï¼ å¯ä»¥éè¿æå® hint /*+ driving_site(t)*/ æå®é©±å¨è¡¨ï¼t ä¸è¬æ¯å¤§è¡¨ï¼ï¼ä»èåå°ç½ç»ä¼ è¾ã å½ç¶ï¼æç»æçè¿æ¯è¦ç»¼åç£çIOãç½ç»IOåè®¡ç®è½åç­ç»¼åèè\n\n-- Create database link \ncreate public database link <dblinkå>\n  connect to <ç¨æ·å>\n  IDENTIFIED BY <\"å¯ç \">\n  using '(DESCRIPTION =(ADDRESS_LIST =(ADDRESS =(PROTOCOL=TCP)(HOST=<ip>)(PORT=<ç«¯å£>)))(CONNECT_DATA=(SERVICE_NAME=orcl)))';\n\n\n\n# SQLå¹¶è¡\n\nå®æ¹ææ¡£\n\nåæå°å\n\n * 1.æ¥è¯¢å¼å¯å¹¶è¡ï¼Parallel queryï¼\n\nselect /*+parallel(a, 16)*/ count(1) from dual a;     -- ç¬¬ä¸ç§æ¹å¼ï¼Histæ¹å¼ï¼\nalter table tab1 parallel n;                          -- ç¬¬äºç§æ¹å¼\nalter session force parallel query parallel n;        -- ç¬¬ä¸ç§æ¹å¼\n\n\n * 2.ä¿®æ¹æ°æ®å¼å¯å¹¶è¡ï¼Parallel DML (INSERT, UPDATE, DELETE, and MERGE) ï¼\n\n-- ç¬¬ä¸ç§æ¹å¼ï¼Histæ¹å¼ï¼\nUPDATE /*+ PARALLEL(tab1,4) */ tbl_2 SET c1=c1+1;\nINSERT /*+ PARALLEL(tbl_ins,2) */ INTO tbl_ins\nSELECT /*+ PARALLEL(tbl_sel,4) */ * FROM tbl_sel;\nDELETE /*+ PARALLEL (t1, 2) */ FROM t1\n\n-- ç¬¬äºç§æ¹å¼\nalter session force parallel DML parallel n;\n\n-- ç¬¬ä¸ç§æ¹å¼\nalter table tab1 parallel n;\n\n\n * 3.Parallel DDL\n\n-- ç¬¬ä¸ç§æ¹å¼ï¼Histæ¹å¼ï¼\nALTER SESSION FORCE PARALLEL DDL parallel n;\n\n-- ç¬¬äºç§æ¹å¼\nCREATE INDEX â¦.parallel 10;\nALTER INDEX ... REBUILD parallel 10;\nALTER INDEX ... MOVE PARTITION parallel 10;\nALTER INDEX ...SPLIT PARTITION parallel 10;\n\n\n * éï¼å­å¨è¿ç¨ä¸­å¼å¯å¹¶è¡\n\ndeclare\n...\nbegin\n execute immediate 'alter session force parallel dml parallel  8';\n --æ´æ°æä½\n ...\n commit; --å¿é¡»åcommit,å¦åä¼æ¥ ora-12841\n execute immediate 'alter session disable parallel dml ';\n\nexception\n when others then\n   rollback;\n   execute immediate 'alter session disable parallel dml '; \nend;\n\n\næ³¨ï¼ä½¿ç¨ä¸´æ¶è¡¨with asæ¶ä¸è½ä½¿ç¨å¹¶è¡ï¼æ¯å¦ï¼å¨å­å¨è¿ç¨ä¸­å¼å¯sessionå¹¶è¡ï¼ï¼å¦åä¼å¯¼è´ç»æä¸ä¸è´\n\n\n# ä¸­ææåºæ¹å¼\n\nOracle9iä¹åï¼ä¸­ææ¯æç§äºè¿å¶ç¼ç è¿è¡æåºçã\nå¨oracle9iä¸­æ°å¢äºæç§æ¼é³ãé¨é¦ãç¬ç»æåºåè½ãè®¾ç½®NLS_SORTå¼\n\nSCHINESE_RADICAL_M æç§é¨é¦(ç¬¬ä¸é¡ºåº)ãç¬å(ç¬¬äºé¡ºåº)æåº\nSCHINESE_STROKE_M æç§ç¬å(ç¬¬ä¸é¡ºåº)ãé¨é¦(ç¬¬äºé¡ºåº)æåº\nSCHINESE_PINYIN_M æç§æ¼é³æåº\n\nä¿®æ¹ORACLEå­æ®µçé»è®¤æåºæ¹å¼ï¼\nææ¼é³(é»è®¤)ï¼\nalter session set nls_sort = SCHINESE_PINYIN_M;\næç¬ç»ï¼\nalter session set nls_sort = SCHINESE_STROKE_M;\næåæï¼\nalter session set nls_sort = NLS_SORT=SCHINESE_RADICAL_M;\n\nNLSSORT()ï¼ç¨æ¥è¿è¡è¯­è¨æåº\n\nç¤ºä¾:\nSELECT * FROM TEAM ORDER BY NLSSORT(æåºå­æ®µå,'NLS_SORT =SCHINESE_PINYIN_M')\n\n\n\n# æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹\n\n 1. æ§è¡è¯­å¥ååæ§è¡ set define off; ï¼å»æoracleèªå®ä¹çå­ç¬¦å«ä¹ï¼è¿åå®æ¬æ¥çææï¼\n 2. ä½¿ç¨ASCIIç¼ç å¯¹ & è¿è¡è½¬ä¹ chr(38) select 'xxx?xxx=11' || chr(38) || 'xxx=33' from dual\n 3. ä¸è½¬ä¹ï¼ç´æ¥å­ç¬¦ä¸²çå½¢å¼åè¿å» select 'xxx?xxx=11' || '&' || 'xxx=33' from dual\n\n\n# æ°æ®æ³µå¯¼å¥å¯¼åºï¼å¾å®åï¼\n\nå¯¼å¥ï¼é¦åæä»¬éè¦ç¥éå¯¼åºç¨æ·åè¡¨ç©ºé´çåå­\n\næ³¨æï¼1. å¦æè¡¨ç©ºé´ä¸æ¯åªæä¸ä¸ªï¼éè¦ä½¿ç¨remap_tablespaceæå®å°æä»¬åå»ºçè¡¨ç©ºé´ 2. åä¸ªè¡¨ç©ºé´æä»¶æå¤§32G\n\n> æä»¥æ¿å°å¯¼åºlogæä»¶æ¯éå¸¸æå¿è¦ç\n\n-- åå»ºè¡¨ç©ºé´  UNLIMITEDæå®ä¸éå¶æå¤§è¡¨ç©ºé´\ncreate TABLESPACE BANANA datafile 'E:\\OracleData\\tablespace\\DATAS.dbf' size 50m autoextend on next 50m MAXSIZE UNLIMITED extent management local; \n-- å é¤è¡¨ç©ºé´\ndrop TABLESPACE BANANA including contents and datafiles cascade constraints;\n-- æ¥è¯¢è¡¨ç©ºé´\nselect * from dba_tablespaces;\n\n\n-- ç®¡çåç»å½ï¼åå»ºæ°ç¨æ·ï¼åéå·²åå»ºå¥½çè¡¨ç©ºé´\ncreate user banana identified BY banana default TABLESPACE BANANA;\n-- å é¤ç¨æ·å¸¦çº§è\ndrop user banana cascade;\n\n\n-- ææ\nGrant dba to banana with admin option;\n\n\n-- æ¥è¯¢dupå­æ¾ç®å½ç®å½    æ³¨æï¼åé¢çEçä¸é¢çdpdump å¿é¡»æä½ è¦å¯¼å¥çxxx.dmpæä»¶æ¾è¿è¯¥æä»¶å¤¹  DATA_PUMP_DIR\nselect * from dba_directories;\n-- æ°æ®æ³µå¯¼å¥æ°æ® (CMDå½ä»¤è¡   DATA_PUMP_DIRä¸ºä¸é¢æ¥åºçç®å½å  å¦ææå¶ä»è¡¨ç©ºé´çï¼éè¦ä½¿ç¨remap_tablespaceæå®å°æä»¬åå»ºçè¡¨ç©ºé´)\nimpdp banana remap_tablespace=MOF:BANANA,TEST:BANANA directory=DATA_PUMP_DIR dumpfile=XXX.DMP logfile=impdp.log -- FULL=YES parallel=16\n\n\n-- å¢å æå®è¡¨ç©ºé´æä»¶ï¼åä¸ªè¡¨ç©ºé´æä»¶æå¤§32Gï¼éè¦æ©åï¼\nALTER TABLESPACE BANANA ADD DATAFILE 'E:\\OracleData\\tablespace\\DATAS01.dbf' SIZE 100M AUTOEXTEND ON NEXT 50M  ;\n\n\nå¯¼å¥å¯¼åºå®æè¿ç¨å½ä»¤ä¿å­\n\n-- å¯¼åºå½ä»¤\nexpdp username/passwd@ip:port/lgfv directory=DATA_PUMP_DIR dumpfile=xxx.dmp logfile=xxx.log schemas=username\n-- å¯¼åºåå¯¹æ°æ®åè¿è¡åç¼©ï¼WinRARå·¥å·åå·åç¼©ï¼ï¼ï¼ï¼åå°ç½ç»ä¼ è¾\n\n-- è¡¨ç©ºé´åå»ºï¼ç¡®å®è¡¨ç©ºé´è¶³å¤ï¼ä¸ä¸ªæä»¶æå¤§32Gï¼\n-- create TABLESPACE RZPT datafile 'D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\RZPT01.dbf' size 100m autoextend on next 100m MAXSIZE UNLIMITED extent management local; \n-- ALTER TABLESPACE RZPT ADD DATAFILE 'D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\RZPT02.dbf' SIZE 100M AUTOEXTEND ON NEXT 100M  ;\n\n-- åå»ºç¨æ·å¹¶ææ\ncreate user username2 identified BY passwd2 default TABLESPACE RZPT;\nGrant dba to username2 with admin option;\n\n-- æ¥è¯¢ååºç¨å°çè¡¨ç©ºé´\nSELECT DISTINCT TABLESPACE_NAME\nFROM DBA_SEGMENTS\nWHERE OWNER = 'username';\n\n-- å¯¼å¥å½ä»¤\nimpdp username2/passwd2@localhost/orcl DIRECTORY=DATA_PUMP_DIR DUMPFILE=xxx.DMP remap_schema=username:username2 remap_tablespace=DSY:RZPT,CS_CZB_RZPT:RZPT LOGFILE=xxx.log parallel=4\n\n-- éï¼å é¤ç¨æ·æ¥æè¿æ¥  æ¥è¯¢ä¼è¯å¹¶ææ­»\nSELECT s.sid, s.serial#, s.username, s.status, p.spid\nFROM v$session s, v$process p\nWHERE s.paddr = p.addr AND s.username = 'username';\n-- ALTER SYSTEM KILL SESSION '143,46649' ;\n\n-- éï¼è¥å¯¼å¥å¡å¨ å¤çå¯¹è±¡ç±»å SCHEMA_EXPORT/TABLE/INDEX/INDEX ä¸å¨ï¼\n-- æ¥çæ¥å¿\nshow parameter dump -- å½ä»¤è¡æ§è¡ï¼æ¥çæ¥å¿ä½ç½®\n-- æ¥ç alert_orcl.log è¥æ¥å¿æç¸å³æç¤º\nselect group#,sequence#,bytes,members,status from v$log;   \nalter database add logfile group 4 ('D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\REDO04.LOG') size 200M;\nalter database add logfile group 5 ('D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\REDO05.LOG') size 1G;\nalter system switch logfile;\n-- ALTER DATABASE DROP LOGFILE GROUP 4;   -- å é¤æ§ç»\n\n\næ¥éå¤ç\n\n 1. ORA-39083: ORA-14460: åªè½æå®ä¸ä¸ª COMPRESS æ NOCOMPRESS å­å¥ï¼å¯¼å¥å½ä»¤å åæ° transform=segment_attributes:n ï¼æªå®æµï¼\n\nå½ä»¤ä¿å­\n\n-- åå»ºç®å½\ncreate directory my_dir as '/home/oracle/tmp';\ngrant read,write on directory my_dir to username;\n\n-- ç¯å¢åé(è¥æ²¡éç½®å¥½ï¼éåæ§è¡)   è¥ä¸æå¥½å®¹æè¡¨æ³¨éä¹±ç ï¼ï¼ï¼\nexport ORACLE_HOME=/xxx/oracle/product/11.2.0/dbhome_1\nexport ORACLE_SID=orcl\nexport PATH=$ORACLE_HOME/bin:$PATH\nexport NLS_LANG=AMERICAN_AMERICA.ZHS16GBK\n\n-- exp/imp å¯¼å¥å¯¼åºæå®è¡¨\nexp å¯¼åºç¨æ·å/'å¯ç '@orcl file=/home/oracle/xxx.dmp tables=\\(tablename1, tablename2\\) log=/home/oracle/xxx.log schemas=scott\nimp å¯¼å¥ç¨æ·å/'å¯ç '@orcl file=/home/oracle/xxx.dmp tables=\\(tablename1, tablename2\\) log=/home/oracle/xxx.log statistics=none schemas=scott\n\n\n-- expdp/impdp å¯¼å¥å¯¼åº \nexpdp $USERNAME/$PASSWD DUMPFILE=xxx.dmp(æ®è¯´å¯ä»¥ä¸ºä»»æåç¼å) DIRECTORY=DATA_PUMP_DIR(Oracleååé) FULL=y LOGFILE=xxx.log schemas=scott\nimpdp $USERNAME/$PASSWD directory=DATA_PUMP_DIR dumpfile=xxx.dmp logfile=xxx.log full=yes schemas=scott\nexpdp $USERNAME/$PASSWD DUMPFILE=xxx.dmp DIRECTORY=DATA_PUMP_DIR LOGFILE=xxx.log tables=\\(tablename1, tablename2\\) schemas=scott\nimpdp $USERNAME/$PASSWD directory=DATA_PUMP_DIR dumpfile=xxx.dmp logfile=xxx.log tables=\\(tablename1, tablename2\\) schemas=scott\n\n-- åæ°\nparallel=5 -- å¹¶è¡å¯¼åº\ncontent=metadata_only -- åæ°æ®(åå«è¡¨å®ä¹ãå­å¨è¿ç¨ãå½æ°ç­ç­)\ninclude=\\(procedure,function,view\\)\nexclude=index  -- æé¤\n\n------------------------------------------ å¯¼åº ------------------------------------------------\n##å¯¼åºä¸å¼ è¡¨ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log tables=scott.emp schemas=scott\n\n##å¯¼åºå¤å¼ è¡¨ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log tables=\\(scott.emp,scott.dept\\) schemas=scott\n\n##å¯¼åºä¸ä¸ªç¨æ·(å¯¼åºè¿ä¸ªç¨æ·çææå¯¹è±¡)ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log schemas=scott\n\n##å¯¼åºå¤ä¸ªç¨æ·ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log schemas=\\(scott,hr\\)\n\n##å¯¼åºæ´ä¸ªæ°æ®åºï¼sysãordsysãmdsysçç¨æ·æ°æ®ä¸ä¼è¢«å¯¼åºï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log full=yes\n\n------------------------------------------ å¯¼å¥ ------------------------------------------------\n##å¯¼å¥dmpæä»¶ä¸­çæææ°æ®ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log full=yes schemas=scott\n\n##å¯¼å¥ä¸å¼ è¡¨ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log tables=scott.emp schemas=scott\n\n##å¯¼å¥å¤å¼ è¡¨ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log tables=\\(scott.emp,scott.dept\\) schemas=scott\n\n##å¯¼å¥ä¸ä¸ªç¨æ·ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log schemas=scott\n\n##å¯¼å¥å¤ä¸ªç¨æ·ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log schemas=\\(scott,hr\\)\n\n\n\n# Oracle é«çæ¬å¯¼åºï¼ä½çæ¬å¯¼å¥ï¼ä¿®æ¹çæ¬å·\n\n 1. ä½¿ç¨ AlexTools å·¥å·\n 2. å¯¼åºæ¶æå®çæ¬ï¼å¢å åæ°ï¼ä¾ï¼version=11.2ï¼\n\n\n# REDOLOGï¼å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´ï¼ï¼\n\nshow parameter dump -- å½ä»¤è¡æ§è¡ï¼æ¥çæ¥å¿ä½ç½®\n\nselect group#,sequence#,bytes,members,status from v$log;   --æ¥è¯¢æ¥å¿ç»\nSELECT GROUP#, MEMBER FROM V$LOGFILE;  -- æ¥çæåæä»¶è·¯å¾ã\n\n-- å¢å æ¥å¿æä»¶\nalter database add logfile group 4 ('D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\REDO04.LOG') size 200M;\nalter database add logfile group 5 ('D:\\APP\\ADMINISTRATOR\\ORADATA\\ORCL\\REDO05.LOG') size 1G;\n-- ALTER DATABASE ADD LOGFILE GROUP 4 ('/u01/oradata/redo04a.log', '/u02/oradata/redo04b.log') SIZE 200M;\n\n\n-- åæ¢æ¥å¿æä»¶\nalter system switch logfile;\n\n-- ALTER DATABASE DROP LOGFILE GROUP 4;   -- å é¤æ§ç» å é¤åéæå¨æ¸çç©çæä»¶\n    \n-- æ¥è¯¢REDOLOGåæ¢æ¬¡æ°\nSELECT trunc(first_time) \"Date\",\n       to_char(first_time, 'Dy') \"Day\",\n       COUNT(1) \"Total\",\n       SUM(decode(to_char(first_time, 'hh24'), '00', 1, 0)) \"h0\",\n       SUM(decode(to_char(first_time, 'hh24'), '01', 1, 0)) \"h1\",\n       SUM(decode(to_char(first_time, 'hh24'), '02', 1, 0)) \"h2\",\n       SUM(decode(to_char(first_time, 'hh24'), '03', 1, 0)) \"h3\",\n       SUM(decode(to_char(first_time, 'hh24'), '04', 1, 0)) \"h4\",\n       SUM(decode(to_char(first_time, 'hh24'), '05', 1, 0)) \"h5\",\n       SUM(decode(to_char(first_time, 'hh24'), '06', 1, 0)) \"h6\",\n       SUM(decode(to_char(first_time, 'hh24'), '07', 1, 0)) \"h7\",\n       SUM(decode(to_char(first_time, 'hh24'), '08', 1, 0)) \"h8\",\n       SUM(decode(to_char(first_time, 'hh24'), '09', 1, 0)) \"h9\",\n       SUM(decode(to_char(first_time, 'hh24'), '10', 1, 0)) \"h10\",\n       SUM(decode(to_char(first_time, 'hh24'), '11', 1, 0)) \"h11\",\n       SUM(decode(to_char(first_time, 'hh24'), '12', 1, 0)) \"h12\",\n       SUM(decode(to_char(first_time, 'hh24'), '13', 1, 0)) \"h13\",\n       SUM(decode(to_char(first_time, 'hh24'), '14', 1, 0)) \"h14\",\n       SUM(decode(to_char(first_time, 'hh24'), '15', 1, 0)) \"h15\",\n       SUM(decode(to_char(first_time, 'hh24'), '16', 1, 0)) \"h16\",\n       SUM(decode(to_char(first_time, 'hh24'), '17', 1, 0)) \"h17\",\n       SUM(decode(to_char(first_time, 'hh24'), '18', 1, 0)) \"h18\",\n       SUM(decode(to_char(first_time, 'hh24'), '19', 1, 0)) \"h19\",\n       SUM(decode(to_char(first_time, 'hh24'), '20', 1, 0)) \"h20\",\n       SUM(decode(to_char(first_time, 'hh24'), '21', 1, 0)) \"h21\",\n       SUM(decode(to_char(first_time, 'hh24'), '22', 1, 0)) \"h22\",\n       SUM(decode(to_char(first_time, 'hh24'), '23', 1, 0)) \"h23\"\n  FROM V$log_history\n WHERE FIRST_TIME >= TRUNC(SYSDATE, 'MM')\n GROUP BY trunc(first_time), to_char(first_time, 'Dy')\n ORDER BY 1 DESC\n;\n\n\n\n# è§£å³æ¬å°Oracleæå¡åå­å ç¨è¿é«\n\nOracleå®è£æ¶ï¼ä¸ºåè¡¡çµèæ§è½åæ°æ®åºæ§è½ï¼é»è®¤åå­å¤§å°ä¸ºç©çåå­ç1/8\n\n 1. ç¨dbaèº«ä»½è¿å¥oracle\n 2. show parameter sga; --æ¾ç¤ºåå­åéæåµ\n 3. alter system set sga_target=1024m scope=spfile;-ä¿®æ¹targetå¤§å° //è¿ä¸ªå¼å¿é¡»å°äºç­äºsga_max_size ï¼å¦ååºä¼èµ·ä¸æ¥ï¼\n 4. alter system set sga_max_size=1024m scope=spfile; --ä¿®æ¹æå¤§å ç¨åå­çå¤§å°\n 5. ä¿®æ¹åéå¯Oracleæå¡\n 6. éï¼Oracleæå¡ä»ç» åæé¾æ¥\n    * Oracle ORCL VSS Writer Serviceï¼Oracleå·æ å°æ·è´åå¥æå¡ï¼VSSï¼Volume Shadow Copy Serviceï¼è½å¤è®©å­å¨åºç¡è®¾å¤ï¼æ¯å¦ç£çï¼éµåç­ï¼åå»ºé«ä¿ççæ¶é´ç¹æ åï¼å³æ å°æ·è´ï¼shadow copyï¼ãå®å¯ä»¥å¨å¤å·æèåä¸ªå·ä¸åå»ºæ å°æ·è´ï¼åæ¶ä¸ä¼å½±åå°ç³»ç»çç³»ç»è½ãï¼éå¿é¡»å¯å¨ï¼\n    * OracleDBConsoleorclï¼Oracleæ°æ®åºæ§å¶å°æå¡ï¼orclæ¯Oracleçå®ä¾æ è¯ï¼é»è®¤çå®ä¾ä¸ºorclãå¨è¿è¡Enterprise Managerï¼ä¼ä¸ç®¡çå¨OEMï¼çæ¶åï¼éè¦å¯å¨è¿ä¸ªæå¡ãï¼éå¿é¡»å¯å¨ï¼\n    * OracleJobSchedulerORCLï¼Oracleä½ä¸è°åº¦ï¼å®æ¶å¨ï¼æå¡ï¼ORCLæ¯Oracleå®ä¾æ è¯ãï¼éå¿é¡»å¯å¨ï¼\n    * OracleMTSRecoveryServiceï¼æå¡ç«¯æ§å¶ãè¯¥æå¡åè®¸æ°æ®åºåå½ä¸ä¸ªå¾®è½¯äºå¡æå¡å¨MTSãCOM/COM+å¯¹è±¡ååå¸å¼ç¯å¢ä¸çäºå¡çèµæºç®¡çå¨ãï¼éå¿é¡»å¯å¨ï¼\n    * OracleOraDb11g_home1ClrAgentï¼Oracleæ°æ®åº .NETæ©å±æå¡çä¸é¨åã ï¼éå¿é¡»å¯å¨ï¼\n    * OracleOraDb11g_home1TNSListenerï¼çå¬å¨æå¡ï¼æå¡åªæå¨æ°æ®åºéè¦è¿ç¨è®¿é®çæ¶åæéè¦ãï¼éå¿é¡»å¯å¨ä½å¾å¸¸ç¨ï¼\n    * OracleServiceORCLï¼æ°æ®åºæå¡(æ°æ®åºå®ä¾)ï¼æ¯Oracleæ ¸å¿æå¡ï¼è¯¥æå¡æ¯æ°æ®åºå¯å¨çåºç¡ï¼ åªæè¯¥æå¡å¯å¨ï¼Oracleæ°æ®åºæè½æ­£å¸¸å¯å¨ã(å¿é¡»å¯å¨)\n\n\n# æ°æ®æå¥æ¢çé®é¢\n\næ°å¢ï¼æä¸è·å­å¨è¿ç¨ç¨å¿«ï¼å¥½å ä¸ªè¡¨ä¸¤åå¤ä¸æ¡æ°æ®4688sï¼ï¼ä¸ºä»ä¹ï¼å ä¸ºç£çè¯»åéåº¦æ¢T.T\n\n 1. æä¸ªä¹ç¾å¤ä¸æ°æ®çè¡¨éè¦éæ°æ½æ°ï¼æ½æ°éåº¦æå¶æ¢ï¼ååç°æ¯ç´¢å¼å¯¼è´çï¼ä¸æ¸æ¥æ¯ç´¢å¼æé®é¢è¿æ¯æ­£å¸¸ç°è±¡ï¼ç´¢å¼å¢å æ¥è¯¢éçä½å½±åinsertãupdateãdeleteæçï¼ï¼åºè¯¥åå é¤ç´¢å¼åæ½æ°ï¼\n    \n    > æ²¡å é¤ç´¢å¼åçæçï¼ ã345430 æ¡æ°æ®è±è´¹ 1406sãã345430 æ¡æ°æ®è±è´¹1301sã\n    > å é¤åçæçï¼ã345508æ¡æ°æ®è±è´¹ 64sãã345482 æ¡æ°æ®è±è´¹ 7.248sãã345508 æ¡æ°æ®34.466sããdataxï¼1641410æ¡æ°æ®465sã",normalizedContent:"# oracle å¸¸ç¨æ§è½ææ¥è¯­å¥\n\n# æ¥çè¡¨ç©ºé´å¤§å°\n\n----------------------------------------\n\n--oracleè¡¨ç©ºé´å¤§å°\nselect a.tablespace_name \"è¡¨ç©ºé´å\",\n       total \"è¡¨ç©ºé´å¤§å°\",\n       free \"è¡¨ç©ºé´å©ä½å¤§å°\",\n       (total - free) \"è¡¨ç©ºé´ä½¿ç¨å¤§å°\",\n       round(total / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´å¤§å°(g)\",\n       round(free / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´å©ä½å¤§å°(g)\",\n       round((total - free) / (1024 * 1024 * 1024),2) \"è¡¨ç©ºé´ä½¿ç¨å¤§å°(g)\",\n       round((total - free) / total, 4) * 100 \"ä½¿ç¨ç %\"\n  from (select tablespace_name, sum(bytes) free\n          from dba_free_space\n         group by tablespace_name) a,\n       (select tablespace_name, sum(bytes) total\n          from dba_data_files\n         group by tablespace_name) b\n where a.tablespace_name = b.tablespace_name\n\n\næ¥çåè¡¨å ç¨ç£çç©ºé´\n\nselect *\n  from (select t.tablespace_name,\n               t.owner,\n               t.segment_name,\n               t.segment_type,\n               sum(t.bytes / 1024 / 1024) mb\n          from dba_segments t\n         where t.segment_type = 'table' and t.segment_name = 'table_name'\n         group by t.tablespace_name, t.owner, t.segment_name, t.segment_type) t\n order by t.mb desc;\n\n\n# æ¥çéè¡¨åè§£å³\n\n----------------------------------------\n\n1.ä¸é¢çè¯­å¥ç¨æ¥æ¥è¯¢åªäºå¯¹è±¡è¢«éï¼\nselect object_name,machine,s.sid,s.serial#,l.oracle_username\nfrom v$locked_object l,dba_objects o ,v$session s\nwhere l.object_idã=ão.object_id and l.session_id=s.sid;\n2.ä¸é¢çè¯­å¥ç¨æ¥ææ­»ä¸ä¸ªè¿ç¨ï¼\nalter system kill session '24,111'; (å¶ä¸­24,111åå«æ¯ä¸é¢æ¥è¯¢åºçsid,serial#);\n3.æ¹éå é¤\nselect 'alter system kill session ''' || s.sid || ',' || s.serial# || '''' || ';'\n  from v$locked_object l, dba_objects o, v$session s\n where l.object_idã = ão.object_id\n   and l.session_id = s.sid;\n\nselect object_name,a.sql_text,machine,s.sid,s.serial#,s.status,lockwait,machine,program\nfrom v$locked_object l,dba_objects o ,v$session s,v$sql a\nwhere l.object_idã=ão.object_id and l.session_id=s.sid and a.hash_value = s.sql_hash_value;\nusernameï¼æ­»éè¯­å¥æç¨çæ°æ®åºç¨æ·ï¼\nlockwaitï¼æ­»éçç¶æï¼å¦ææåå®¹è¡¨ç¤ºè¢«æ­»éã\nstatusï¼ ç¶æï¼activeè¡¨ç¤ºè¢«æ­»é\nmachineï¼ æ­»éè¯­å¥æå¨çæºå¨ã\nprogramï¼ äº§çæ­»éçè¯­å¥ä¸»è¦æ¥èªåªä¸ªåºç¨ç¨åºã\n\n\n\n   select b.file_idããæä»¶id,\nãã      b.tablespace_nameããè¡¨ç©ºé´,\nãã      b.file_nameãããããç©çæä»¶å,\nãã      b.bytesãããããããæ»å­èæ°,\nãã      (b.bytes-sum(nvl(a.bytes,0)))ãããå·²ä½¿ç¨,\nãã      sum(nvl(a.bytes,0))ããããããããå©ä½,\nãã      sum(nvl(a.bytes,0))/(b.bytes)*100ãå©ä½ç¾åæ¯\nãã from dba_free_space a,dba_data_files b\nããwhere a.file_id=b.file_id\n group by b.tablespace_name,b.file_name,b.file_id,b.bytes\n order by b.tablespace_name\n\n\n\n--ææ°\nselect object_name,a.sql_text,machine,s.sid,s.serial#,s.status,lockwait,machine,program,l.oracle_username\n  from v$locked_object l,dba_objects o ,v$session s,v$sql a\n where l.object_idã=ão.object_id and l.session_id=s.sid and a.hash_value = s.sql_hash_value;\n\nalter system kill session '1902,24317'; \n\n\ngrant alter system to ysgl_guanli\n\n\n# æ¥è¯¢è¡éå¹¶è§£å³\n\n--------------------------------- æ¹æ¡1\n--è¡éæ¥ç\nselect s.sid,s.serial#,s.machine,s.type,l.type,l.ctime,l.block,l.request,l.lmode,\n       decode(l.lmode, 0, 'none', 1, 'null', 2, 'row-s (ss)', 3, 'row-x (sx)', 4, 'share', 5, 's/row-x (ssx)', 6, 'exclusive', substr(to_char(l.lmode), 1, 13)) as \"locked mode\",\n       decode(l.type,'mr','file_id:' || l.id1,'tm',t.name,'tx','usn:' || to_char(trunc(l.id1 / 65536)) || 'rwo:' ||nvl(r.name, 'none'), l.id1) as lock_id1,\n       'alter system kill session ''' || s.sid || ',' || s.serial# || '''immediate;' as \"kill\"\n  from gv$process p\n inner join gv$session s\n    on s.paddr = p.addr\n inner join v$lock l\n    on l.sid = s.sid\n  left join sys.obj$ t\n    on l.id1 = t.obj#\n  left join sys.obj$ r\n    on s.row_wait_obj# = r.obj#\n where 1 = 1\n   and l.type != 'mr' \n and l.type  = 'tm'\n   and l.lmode = 3\n order by s.sid;\n\n-- æ¥çåå ?\nwith sessions as\n(select  /*+materialize*/\n         sid\n        ,sql_id\n        ,event\n        ,blocking_session\n        ,row_wait_obj#\nfrom gv$session)\nselect lpad(' ', level ) || sid sid\n      ,sql_id\n      ,event\n      ,owner||decode(owner,null,null,'.')||object_name object_name\n      ,substr(sql_text,1,40) sql_text\nfrom sessions s\nleft outer join dba_objects on (object_id = row_wait_obj#)\nleft outer join v$sql using (sql_id)\nwhere sid in (select blocking_session from sessions)\nor blocking_session is not null\nconnect by prior sid = blocking_session\n   start with blocking_session is null;\n\n--------------------------------- æ¹æ¡2\n   select 'alter system kill session ''' || ss.sid || '' || ',' || ss.serial# || ',@' ||\n       ss.inst_id || ''' immediate;' db_kill_session\n  from gv$session s, \n  gv$session ss\n where s.final_blocking_session is not null\n   and s.final_blocking_instance = ss.inst_id\n   and s.final_blocking_session = ss.sid\n   and s.sid <> ss.sid;\n\n\n# å·æ°è¡¨ç»è®¡ä¿¡æ¯ï¼åè¡¨åæï¼\n\nââç»è®¡ä¿¡æ¯ä¸»è¦æ¯æè¿°æ°æ®åºä¸­è¡¨ï¼ç´¢å¼çå¤§å°ï¼è§æ¨¡ï¼æ°æ®åå¸ç¶åµç­çä¸ç±»ä¿¡æ¯ãä¾å¦ï¼è¡¨çè¡æ°ï¼åæ°ï¼å¹³åæ¯è¡çå¤§å°ï¼ç´¢å¼çleaf blocksï¼ç´¢å¼å­æ®µçè¡æ°ï¼ä¸åå¼çå¤§å°ç­ï¼é½å±äºç»è®¡ä¿¡æ¯ãcboæ­£æ¯æ ¹æ®è¿äºç»è®¡ä¿¡æ¯æ°æ®ï¼è®¡ç®åºä¸åè®¿é®è·¯å¾ä¸ï¼ä¸åjoin æ¹å¼ä¸ï¼åç§è®¡åçææ¬ï¼æåéæ©åºææ¬æå°çè®¡åã\n\nââç»è®¡ä¿¡æ¯æ¯å­æ¾å¨æ°æ®å­å¸è¡¨ä¸­çï¼å¦tab$ï¼ä¸è¬å¯éè¿å¯çæäºè§å¾æ¥è·åç»è®¡ä¿¡æ¯ç¶åµï¼å¦dba_tablesï¼dba_indexesï¼dba_tab_col_statisticsï¼ dba_tab_histogramsç­ãå¨è¿äºè§å¾ä¸­åå«è¡¨ç¤ºç»è®¡ä¿¡æ¯çä¸äºå­æ®µï¼è¿äºå­æ®µåªææéè¿ç»è®¡ä¿¡æ¯ä¹åææå¼ï¼å¦åæ¯ç©ºçãä¾å¦ï¼last_analyzed å­æ®µè¡¨ç¤ºä¸æ¬¡ç»è®¡ä¿¡æ¯æéçæ¶é´ï¼å¯ä»¥æ ¹æ®è¿ä¸ªå­æ®µï¼å¿«éçäºè§£æè¿ä¸æ¬¡ç»è®¡ä¿¡æ¯æéçæ¶é´ã\n\nåå®¢ï¼ æå³oracleç»è®¡ä¿¡æ¯çç¥è¯ç¹\nåå®¢ï¼ oracle 11gæ°ç¹æ§ä¹ç»è®¡ä¿¡æ¯æ¶é\n\n--å½è¡¨æ²¡æååæçæ¶åï¼oracle ä¼ä½¿ç¨å¨æéæ ·æ¥æ¶éç»è®¡ä¿¡æ¯ãè·ååç¡®çæ®µå¯¹è±¡ï¼è¡¨ï¼è¡¨ååºï¼ç´¢å¼ç­ï¼çåææ°æ®ï¼æ¯cboå­å¨çåºç³ï¼\n--cboçæºå¶å°±æ¯æ¶éå°½å¯è½å¤çå¯¹è±¡ä¿¡æ¯åç³»ç»ä¿¡æ¯ï¼éè¿å¯¹è¿äºä¿¡æ¯è¿è¡è®¡ç®ï¼åæï¼è¯ä¼°ï¼æç»å¾åºä¸ä¸ªææ¬æä½çæ§è¡è®¡åã\n--æä»¥å¯¹äºcboï¼æ°æ®æ®µçåæå°±éå¸¸éè¦ã\n\nè§£éåä¸ªç¨æ·schema\nexec dbms_stats.unlock_schema_stats('ç¨æ·å');\n\nåä¸ªè¡¨ç»è®¡æ°æ®çç»è®¡æ°æ®æ´æ°\nexec dbms_stats.gather_table_stats('ãusernameã','ãtablenameã', estimate_percent => dbms_stats.auto_sample_size, cascade=>true);\n-- exec dbms_stats.gather_table_stats('ãusernameã','ãtablenameã',cascade=>true);\n-- analyze table tablename compute statistics ç­åäº analyze table tablename compute statistics for table for all indexes for all columns\n\n-- æ´æ°æ´ä¸ªç¨æ·ææè¡¨çç»è®¡æ°æ®æ´æ°\n-- exec dbms_stats.gather_schema_stats('ãusernameã',estimate_percent=>100,cascade=> true);\n\n\nåæ°è¯´æ: (https://www.cnblogs.com/tingxin/p/12663682.html)\nownname:è¦åæè¡¨çæ¥æè\ntabname:è¦åæçè¡¨å.\npartname:ååºçåå­,åªå¯¹ååºè¡¨æååºç´¢å¼æç¨.\nestimate_percent:éæ ·è¡çç¾åæ¯,åå¼èå´[0.000001,100],nullä¸ºå¨é¨åæ,ä¸éæ ·. å¸¸é:dbms_stats.auto_sample_sizeæ¯é»è®¤å¼,ç±oracleå³å®æä½³åéæ ·å¼.\nblock_sapmple:æ¯å¦ç¨åéæ ·ä»£æ¿è¡éæ ·.\nmethod_opt:å³å®histogramsä¿¡æ¯æ¯ææ ·è¢«ç»è®¡ç.method_optçåå¼å¦ä¸(é»è®¤å¼ä¸ºfor all columns size auto):\nfor all columns:ç»è®¡ææåçhistograms.\nfor all indexed columns:ç»è®¡ææindexedåçhistograms.\nfor all hidden columns:ç»è®¡ä½ çä¸å°åçhistograms\nfor columns <list> size <n> | repeat | auto | skewonly:ç»è®¡æå®åçhistograms.nçåå¼èå´[1,254]; repeatä¸æ¬¡ç»è®¡è¿çhistograms;autoç±oracleå³å®nçå¤§å°;skewonly multiple end-points with the same value which is what we define by \"there is skew in thedata\ndegree:å³å®å¹¶è¡åº¦.é»è®¤å¼ä¸ºnull.\ngranularity:granularity of statistics to collect ,only pertinent if the table is partitioned.\ncascade:æ¯æ¶éç´¢å¼çä¿¡æ¯.é»è®¤ä¸ºfalse.\nstattab:æå®è¦å­å¨ç»è®¡ä¿¡æ¯çè¡¨,statidå¦æå¤ä¸ªè¡¨çç»è®¡ä¿¡æ¯å­å¨å¨åä¸ä¸ªstattabä¸­ç¨äºè¿è¡åºå.statownå­å¨ç»è®¡ä¿¡æ¯è¡¨çæ¥æè.ä»¥ä¸ä¸ä¸ªåæ°è¥ä¸æå®,ç»è®¡ä¿¡æ¯ä¼ç´æ¥æ´æ°å°æ°æ®å­å¸.\nno_invalidate: does not invalidate the dependent cursors if set to true. the procedure invalidates the dependent cursors immediately if set to false.\nforce:å³ä½¿è¡¨éä½äºä¹æ¶éç»è®¡ä¿¡æ¯.\n\n\nè¿æ¯å¯¹å½ä»¤ä¸å·¥å·åçä¸äºæ»ç»\n1ãå¯¹äºååºè¡¨ï¼å»ºè®®ä½¿ç¨dbms_statsï¼èä¸æ¯ä½¿ç¨analyzeè¯­å¥ã\na) å¯ä»¥å¹¶è¡è¿è¡ï¼å¯¹å¤ä¸ªç¨æ·ï¼å¤ä¸ªtable\nb) å¯ä»¥å¾å°æ´ä¸ªååºè¡¨çæ°æ®ååä¸ªååºçæ°æ®ã\nc) å¯ä»¥å¨ä¸åçº§å«ä¸compute statisticsï¼åä¸ªååºï¼å­ååºï¼å¨è¡¨ï¼ææååº\nd) å¯ä»¥ååºç»è®¡ä¿¡æ¯\ne) å¯ä»¥ç¨æ·èªå¨æ¶éç»è®¡ä¿¡æ¯\n2ãdbms_statsçç¼ºç¹\na) ä¸è½validate structure\nb) ä¸è½æ¶échained rows, ä¸è½æ¶écluster tableçä¿¡æ¯ï¼è¿ä¸¤ä¸ªä»æ§éè¦ä½¿ç¨analyzeè¯­å¥ã\nc) dbms_stats é»è®¤ä¸å¯¹ç´¢å¼è¿è¡analyzeï¼å ä¸ºé»è®¤cascadeæ¯falseï¼éè¦æå·¥æå®ä¸ºtrue\n3ãå¯¹äºoracle 9éé¢çexternal tableï¼analyzeä¸è½ä½¿ç¨ï¼åªè½ä½¿ç¨dbms_statsæ¥æ¶éä¿¡æ¯ã\n\n\n\n# æ¥è¯¢æ­£å¨æ§è¡çsql\n\nselect b.inst_id,b.sid oracleid,\n       b.username ç»å½oracleç¨æ·å,\n       b.serial#,\n       spid æä½ç³»ç»id,\n       paddr,\n       sql_text æ­£å¨æ§è¡çsql,\n       sql_fulltext,\n       b.machine è®¡ç®æºå,\n       b.event,\n       'alter system kill session '''||b.sid||','||b.serial#||''';'\nfrom gv$process a, gv$session b, gv$sql c\nwhere a.addr = b.paddr\n   and b.sql_hash_value = c.hash_value\n   and a.inst_id=1\n   and b.inst_id=1\n   and c.inst_id=1\n   and b.status='active'\n   ;\n\n\n# æ¥è¯¢sqlå¹³åèæ¶\n\n--æ ¹æ®å¹³åèæ¶å¤§å°æåº\nselect a.sql_text,\n       a.sql_id,\n       a.executions \"æ»æ§è¡æ¬¡æ°\",\n       nvl(a.elapsed_time, 0) / 1000 / 1000 \"æ»èæ¶(ç§)\",\n       (nvl(a.elapsed_time, 0) /\n       nvl(decode(a.executions, 0, 1, a.executions), 1)) / 1000 / 1000 \"å¹³åèæ¶ï¼ç§ï¼\",\n       a.parse_calls \"ç¡¬è§£ææ¬¡æ°\",\n       a.disk_reads \"ç©çè¯»æ¬¡æ°\",\n       a.buffer_gets \"è¯»ç¼å­åºæ¬¡æ°\",\n       a.first_load_time \"sqlå¼å§æ§è¡æ¶é´\"\n  from v$sql a\n where a.first_load_time like '2022-07-13%'\n order by (nvl(a.elapsed_time, 0) /\n          nvl(decode(a.executions, 0, 1, a.executions), 1)) / 1000 / 1000 desc;\n\n\n# æ¢æ¥è¯¢èæ¶\n\n-- æ¢æ¥è¯¢èæ¶\nselect *\n from (select sa.sql_text \"æ§è¡ sql\",\n        sa.executions \"æ§è¡æ¬¡æ°\",\n        round(sa.elapsed_time / 1000000, 2) \"æ»æ§è¡æ¶é´\",\n        round(sa.elapsed_time / 1000000 / sa.executions, 2) \"å¹³åæ§è¡æ¶é´\",\n        sa.command_type,\n        sa.parsing_user_id \"ç¨æ·id\",\n        u.username \"ç¨æ·å\",\n        sa.hash_value\n     from v$sqlarea sa\n     left join all_users u\n      on sa.parsing_user_id = u.user_id\n     where sa.executions > 0\n     order by (sa.elapsed_time / sa.executions) desc)\n where rownum <= 50;\n\n\n# æ¾å°æ­£å¨è¿è¡çå­å¨è¿ç¨å¹¶ææ­»\n\n-- ddlé dba_ddl_locks\n1.æ¥è¯¢æ­£å¨è¿è¡çå­å¨è¿ç¨ï¼åãå½æ°ç­ï¼\nselect name from v$db_object_cache where type in ('procedure', 'package body', 'package') and locks > 0 and pins > 0;\n-- è·åddléçä¿¡æ¯\nselect * from dba_ddl_locks where owner = 'xxx' and name='xxx';\n\n2.æ¾å°å¯¹åºå­å¨è¿ç¨çsid\nselect/*+rule */ sid from v$access o where owner='è¿ç¨çæå±ç¨æ·' and o.object = 'å­å¨è¿ç¨'   --ï¼åæ°æ¯å­å¨è¿ç¨åç§°ï¼\n\n3.æ ¹æ®sidæ¾å°å¯¹åºçserial#\nselect sid,serial# from v$session a where a.sid='sid'\n\n4.ç»æ­¢è¿è¡å­å¨è¿ç¨\nalter system kill session 'sid,serial#'  (ä¾å¦ï¼alter system kill session 'sid,serial#')\n\n\n# å¶ä»\n\n--æ¥è¯¢å½åç¨æ·ä½¿ç¨äºå¤å°è¿åè¡¨ç©ºé´\nselect d.username,c.name,b.writes\nfrom v$transaction a,v$rollstat b,v$rollname c,v$session d\nwhere d.taddr=a.addr\n  and a.xidusn=b.usn\n  and b.usn=c.usn\norder by d.username;\n\n-- æ¥çä¸´æ¶è¡¨ç©ºé´çä½¿ç¨æåµ\nselect ts.name,ts.phyrds \"reads\",ts.phywrts \"writes\",ts.phyblkrd,ts.phyblkwrt,ts.readtim \"rtime\",ts.writetim \"wtime\"\n  from v$tablespace ts,v$tempfile tf ,v$tempstat ts\n where ts.ts#=tf.ts#\n   and tf.file#=ts.file#;\n\n-- æ¥çæ°æ®æä»¶çi/oåå¸æåµ\nselect name,phyrds,phywrts,readtim,writetim\n  from v$filestat a,v$datafile b\n where a.file#=b.file#\n order by readtim desc;\n\n-- æ¥çè¿æ¥oracleçæææºå¨çè¿æ¥æ°åç¶æ\nselect machine,status,count(*) from v$session group by machine,status order by status;\n\n/*\nsga(system global area)ï¼ç±æææå¡è¿ç¨ååå°è¿ç¨å±äº«ï¼\npga(program global area)ï¼ç±æ¯ä¸ªæå¡è¿ç¨ãåå°è¿ç¨ä¸æï¼æ¯ä¸ªè¿ç¨é½æä¸ä¸ªpgaã\n*/\n-- oracleçpgaãsgaåprocess count\nselect 'sga' as name,round(sum(value)/1024/1024,2)||'m' as \"size(m)\" from v$sga\nunion\nselect 'pga' as name,round(value/1024/1024,2)||'m' as \"size(m)\" from v$pgastat where name='total pga allocated'\nunion\nselect 'total' as name,((select round(sum(value)/1024/1024,2) from v$sga)+(select round(value/1024/1024,2) from v$pgastat where name='total pga allocated'))||'m' as \"size(m)\" from dual\nunion\nselect name,to_char(value) from v$pgastat where name='process count';\n\n\n\n# scn\n\n----------------------------------------\n\nscnï¼system change numberï¼ï¼ä¹å°±æ¯éå¸¸æè¯´çç³»ç»æ¹åå·ï¼æ¯æ°æ®åºä¸­éå¸¸éè¦çä¸ä¸ªæ°æ®ç»æã\nscnç¨ä»¥æ è¯æ°æ®åºå¨æä¸ªç¡®åæ¶å»æäº¤ççæ¬ãå¨äºå¡æäº¤æ¶ï¼å®è¢«èµäºä¸ä¸ªå¯ä¸çæ è¯äºå¡çscnãscnåæ¶è¢«ä½ä¸ºoracleæ°æ®åºçåé¨æ¶éæºå¶ï¼å¯è¢«çåé»è¾æ¶éï¼æ¯ä¸ªæ°æ®åºé½æä¸ä¸ªå¨å±çscnçæå¨ã\nä½ä¸ºæ°æ®åºåé¨çé»è¾æ¶éï¼æ°æ®åºäºå¡ä¾scnèæåºï¼oracleä¹ä¾æ®scnæ¥å®ç°ä¸è´æ§è¯»ï¼read consistencyï¼ç­éè¦æ°æ®åºåè½ãå¦å¤å¯¹äºåå¸å¼äºå¡ï¼distributed transactionsï¼ï¼scnä¹æä¸ºéè¦ï¼è¿éä¸åæ´å¤ä»ç»ã\nscnå¨æ°æ®åºä¸­æ¯å¯ä¸çï¼å¹¶éæ¶é´èå¢å ï¼ä½æ¯å¯è½å¹¶ä¸è¿è´¯ãé¤ééå»ºæ°æ®åºï¼scnçå¼æ°¸è¿ä¸ä¼è¢«éç½®ä¸º0.\nä¸ç´ä»¥æ¥ï¼å¯¹äºscnæå¾å¤äºè®®ï¼å¾å¤äººè®¤ä¸ºscnæ¯æsystem commit numberï¼èéå¸¸scnå¨æäº¤æ¶æååï¼æä»¥å¾å¤æ¶åï¼è¿ä¸¤ä¸ªåè¯ç»å¸¸å¨ææ¡£ä¸­åå¤åºç°ãå³ä½¿å¨oracleçå®æ¹ææ¡£ä¸­ï¼scnä¹å¸¸ä»¥system change/commit numberä¸¤ç§å½¢å¼åºç°ã\nå°åºæ¯åªä¸ªè¯å¶å®ä¸æ¯å¾éè¦ï¼éè¦çæ¯éè¦ç¥éscnæ¯oracleåé¨çæ¶éæºå¶ï¼oracleéè¿scnæ¥ç»´æ¤æ°æ®åºçä¸è´æ§ï¼å¹¶éè¿scnå®æ½oracleè³å³éè¦çæ¢å¤æºå¶ã\nscnå¨æ°æ®åºä¸­æ¯æ å¤ä¸å¨ï¼å¸¸è§çäºå¡è¡¨ãæ§å¶æä»¶ãæ°æ®æä»¶å¤´ãæ¥å¿æä»¶ãæ°æ®åå¤´ç­é½è®°å½æscnå¼ã\nå ä»¥ä¸ååç¼ï¼scnä¹æäºä¸åçåç§°ï¼å¦æ£æ¥ç¹scnï¼checkpint scnï¼ãresetlogs scnç­ã\n\n-- å½åscnå·åæ¶é´çå¯¹åºå³ç³»ï¼\nselect dbms_flashback.get_system_change_number,scn_to_timestamp(dbms_flashback.get_system_change_number) from dual;\n\n-- æ¥è¯¢å½åscnï¼\nselect current_scn from v$database;\nselect dbms_flashback.get_system_change_number from dual;\n\n-- scnä¸æ¶é´çç¸äºè½¬æ¢\nå°scnè½¬æ¢ææ¶é´æ³: scn_to_timestamp(scn_number)\nå°æ¶é´æ³è½¬æ¢æscn: timestamp_to_scn(timestamp)\n\n-- æ°æ®è¡ä¼ªåä¿å­æ°æ®æåæ´æ°æ¶é´  select ora_rowscn from table_name;\n-- ç³»ç»è¡¨ä¿å­scnä¸æ¶é´æ³å¯¹åºå³ç³»ï¼ä¿ç5å¤©ï¼   select * from sys.smon_scn_time\n\näºè§£æ´å¤è¯·æ ¸æ¥çåå®¢ï¼https://blog.csdn.net/fuwencaho/article/details/21256973\n\n\n\n\n# oracle è¡¨éªå\n\næ¥çæ¯å¦å¼å¯éªååè½ï¼select flashback_on from v$database;\n\n# æ¥è¯¢åå²çæ¬æ°æ®ï¼éªåæ¥è¯¢ï¼\n\n-- æ¥è¯¢åºç±»ä¼¼æé¾è¡¨çæ°æ®ï¼åå«åå²çæ¬ï¼\nselect \n       å­æ®µå,\n       to_char(versions_starttime, 'yyyy-mm-dd hh24:mi:ss') as versions_starttime,\n       to_char(versions_endtime, 'yyyy-mm-dd hh24:mi:ss') as versions_endtime,\n       versions_operation\n  from è¡¨å versions between timestamp minvalue and maxvalue\n where versions_starttime is not null\n order by versions_starttime desc;\n\n\n# æ¢å¤å·²å é¤çè¡¨\n\n-- æ¢å¤å·²å é¤çè¡¨\nflashback table table_name to before drop;\n\n-- è¥å é¤åå·²ç»åå»ºäºååçè¡¨ï¼ora-38312ï¼\n-- å¦æè¡¨åéå¤ï¼åéªåæ¶éµå¾ªåå¥ååºçååã\nflashback table test to before drop rename to test1;\n\n\næ©å±ï¼\n\n-- éªåæ¶å¯ææè¢«æ¢å¤çåæ¶ç«å¯¹è±¡\nflashback table \"bin$ayid7zbbjwngukjadqiiua==$0\" to before drop;\n\n-- éªåå è¡¨çå·¥ä½åçæ¯ï¼å½âdrop tableâå½ä»¤æ§è¡æ¶ï¼è¡¨åå¶ç´¢å¼å¹¶æ²¡æè¢«çæ­£å é¤ï¼å¶æå ç©ºé´åªæ¯åéç»äºå¦ä¸ä¸ªæ°æ®åºå¯¹è±¡ï¼åæ¶ç«å¯¹è±¡ï¼æ¬è´¨ä¸ç¸å½äºéå½åãæ³¨æï¼è¡¨ç©ºé´å¨èªå¨å¢é¿çååä¸ä¼æç§åå¥ååºçè§åå°åæ¶ç«å¯¹è±¡çç©ºé´åéç»éè¦ç©ºé´çæ®µï¼å¨å°åæ¶ç«å¯¹è±¡èå°½ä¹åæ°æ®æä»¶æ¯ä¸ä¼èªå¨å¢é¿çã\n-- oracleå¯ç¨åæ¶ç«åè½åï¼ä½¿ç¨drop table ...è¯­å¥å é¤ä¸å¼ è¡¨æ¶ï¼å¹¶ä¸ä¼å°è¡¨ç»å é¤ï¼èæ¯ä»¥ä¸å®çæ ¼å¼éæ°å¯¹è¡¨éå½åï¼ç¶åå°è¯¥è¡¨æ¾å°æ°æ®å­å¸è¡¨ä¸­ï¼å¨éå°è¡¨ç©ºé´ä¸è¶³çæåµä¸èªå¨æ¸çè¿äºè¡¨ï¼éæ¾è¢«å ç¨çç©ºé´ï¼è®©å¶å®å¯¹è±¡è½å¤ä½¿ç¨è¿äºç©ºé´ã\n\n-- å¯ç¦ç¨åæ¶ç«åè½\nalter system set recyclebin='off' scope=spfile;\n\n-- æ¸çæå®ç¨æ·çè¡¨ç©ºé´ä¸­çåæ¶ç«å¯¹è±¡\npurge tablespace users user user_name;\n-- å é¤å½åç¨æ·åæ¶ç«çææå¯¹è±¡\npurge recyclebin;\n    \n-- dbms_flashbackå\n-- å©ç¨dbms_flashbackåçenable_at_timeæenable_at_scnå­å¨è¿ç¨éå®ä¸ä¸ªä¼è¯çº§å«çéªåæ¶é´ç®æ ï¼å³è¿å¥éªåæ¨¡å¼ï¼éåçæ¥è¯¢å½ä»¤å¯ä»¥çç¥âas ofâï¼ç´å°è°ç¨dbms_flashback_disableå­å¨è¿ç¨å°å¶å³é­ä¸ºæ­¢ã\n\n\n# æ¢å¤è¡¨å°æä¸ªæ¶é´ç¹\n\n-- ç¡®å®è¦æ¢å¤çè¡¨çæ¶é´ç¹\nselect * from table_name as of timestamp(to_timestamp('2024-08-29 19:00:00', 'yyyy-mm-dd hh24:mi:ss'));\n\n-- å°è¡¨æ¢å¤å°æå®æ¶é´ç¹\nflashback table table_name to timestamp(to_timestamp('2024-08-29 19:00:00', 'yyyy-mm-dd hh24:mi:ss'));\n-- 1. \"flashback table\"å½ä»¤çæ§è¡èå¿é¡»æ\"flashback any table\"ç³»ç»æéæèå¨è¢«éªåçè¡¨ä¸å·æ\"flashback\"å¯¹è±¡æéã\n-- 2. éå¯ç¨è¡ç§»å¨  alter table debt_t_file_info_fabz_bak enable row movement;\n-- 3. \"flashback table\"å±äºddlå½ä»¤ï¼éå¼æäº¤ã\n-- 4. sysç¨æ·çä»»ä½è¡¨æ æ³ä½¿ç¨æ­¤åè½ã\n\n\n\n# logminer\n\n----------------------------------------\n\nä¼æå¨ç¥ï¼ææå¯¹ç¨æ·æ°æ®åæ°æ®å­å¸çæ¹åé½è®°å½å¨oracleçredo logä¸­ï¼å æ­¤ï¼redo logåå«äºææè¿è¡æ¢å¤æä½æéè¦çä¿¡æ¯ãä½æ¯ï¼åå§çredo logæä»¶æ æ³çæï¼æä»¥ï¼oracleä»8iä»¥åæä¾äºä¸ä¸ªéå¸¸æç¨çåæå·¥å·ï¼ç§°ä¸ºlogminerãä½¿ç¨è¯¥å·¥å·å¯ä»¥è½»æ¾è·å¾redo logæä»¶ï¼åå«å½æ¡£æ¥å¿æä»¶ï¼ä¸­çå·ä½åå®¹ãç¹å«æ¯è¯¥å·¥å·å¯ä»¥åæåºææå¯¹äºæ°æ®åºçdmlæä½ï¼insertãupdateãdeleteç­ï¼è¯­å¥ãoracle 9iåå¯ä»¥åæddlè¯­å¥ï¼å¦å¤è¿å¯åæå¾å°ä¸äºå¿è¦çåæ»sqlè¯­å¥ãlogminerä¸ä¸ªæéè¦çç¨éå°±æ¯ä¸ç¨å¨é¨æ¢å¤æ°æ®åºå°±å¯ä»¥æ¢å¤æ°æ®åºçæä¸ªååãè¯¥å·¥å·ç¹å«éç¨äºè°è¯ãå®¡è®¡æèåéæä¸ªç¹å®çäºå¡ã logminerå·¥å·æ¢å¯ä»¥ç¨æ¥åæå¨çº¿æ¥å¿ï¼ä¹å¯ä»¥ç¨æ¥åæç¦»çº¿æ¥å¿æä»¶ï¼æ¢å¯ä»¥åææ¬èº«èªå·±æ°æ®åºçéä½æ¥å¿æä»¶ï¼ä¹å¯ä»¥ç¨æ¥åæå¶å®æ°æ®åºçéä½æ¥å¿æä»¶ãå½åæå¶å®æ°æ®åºçéä½æ¥å¿æä»¶æ¶ï¼éè¦æ³¨æçæ¯ï¼logminerå¿é¡»ä½¿ç¨è¢«åææ°æ®åºå®ä¾äº§ççå­å¸æä»¶ï¼èä¸æ¯å®è£logminerçæ°æ®åºäº§ççå­å¸æä»¶ï¼å¦å¤ï¼å¿é¡»ä¿è¯å®è£logmineræ°æ®åºçå­ç¬¦éåè¢«åææ°æ®åºçå­ç¬¦éç¸åãæºæ°æ®åºï¼source databaseï¼å¹³å°å¿é¡»ååææ°æ®åºï¼mining databaseï¼å¹³å°ä¸æ ·ã oracleéè¿logminerå·¥å·å¯¹redo logè¿è¡ææï¼æ¾ç¤ºåºä¸ç³»åå¯è¯»çä¿¡æ¯ï¼è¯¥è¿ç¨ç§°ä¸ºæ¥å¿ææãlogmineréè¿v$logmnr_contentsè§å¾æ¾ç¤ºredo logä¸­çä¿¡æ¯ã\n\næ»çè¯´æ¥ï¼logminerå·¥å·çä¸»è¦ç¨éæï¼\n\n 1. è·è¸ªæ°æ®åºçååï¼å¯ä»¥ç¦»çº¿å°è·è¸ªæ°æ®åºçååï¼èä¸ä¼å½±åå¨çº¿ç³»ç»çæ§è½\n 2. åéæ°æ®åºçååï¼åéç¹å®çååæ°æ®ï¼åå°point-in-time recoveryçæ§è¡\n 3. ä¼ååæ©å®¹è®¡åï¼å¯éè¿åææ¥å¿æä»¶ä¸­çæ°æ®ä»¥åææ°æ®çå¢é¿æ¨¡å¼\n 4. ç¡®å®æ°æ®åºçé»è¾æåæ¶é´ï¼åç¡®å®ä½æä½æ§è¡çæ¶é´åscn\n 5. ç¡®å®äºå¡çº§è¦æ§è¡çç²¾ç»é»è¾æ¢å¤æä½ï¼å¯ä»¥åå¾ç¸åºçundoæä½\n 6. æ§è¡åç»­å®¡è®¡\n\näºè§£æ´å¤è¯·æ¥çåå®¢ï¼ https://blog.csdn.net/yes_is_ok/article/details/79296614\n\n\n# å¨ææ§è½è§å¾(x$,v$,gv$,v_$,gv_$)\n\n----------------------------------------\n\nå®æ¹ææ¡£12.2\n\nv$database æ°æ®åºä¿¡æ¯\nv$datafile æ°æ®æä»¶ä¿¡æ¯\nv$controlfile æ§å¶æä»¶ä¿¡æ¯\nv$logfile éåæ¥å¿ä¿¡æ¯\nv$instance æ°æ®åºå®ä¾ä¿¡æ¯\nv$log æ¥å¿ç»ä¿¡æ¯\nv$loghist æ¥å¿åå²ä¿¡æ¯\nv$sga æ°æ®åºsgaä¿¡æ¯\nv$parameter åå§ååæ°ä¿¡æ¯\nv$process æ°æ®åºæå¡å¨è¿ç¨ä¿¡æ¯\nv$bgprocess æ°æ®åºåå°è¿ç¨ä¿¡æ¯\nv$controlfile_record_section æ§å¶æä»¶è®°è½½çåé¨åä¿¡æ¯\nv$thread çº¿ç¨ä¿¡æ¯\nv$datafile_header æ°æ®æä»¶å¤´æè®°è½½çä¿¡æ¯\nv$archived_logå½æ¡£æ¥å¿ä¿¡æ¯\nv$archive_dest å½æ¡£æ¥å¿çè®¾ç½®ä¿¡æ¯\nv$logmnr_contents å½æ¡£æ¥å¿åæçdml ddlç»æä¿¡æ¯\nv$logmnr_dictionary æ¥å¿åæçå­å¸æä»¶ä¿¡æ¯\nv$logmnr_logs æ¥å¿åæçæ¥å¿åè¡¨ä¿¡æ¯\nv$tablespace è¡¨ç©ºé´ä¿¡æ¯\nv$tempfile ä¸´æ¶æä»¶ä¿¡æ¯\nv$filestat æ°æ®æä»¶çi/oç»è®¡ä¿¡æ¯\nv$undostat undoæ°æ®ä¿¡æ¯\nv$rollname å¨çº¿åæ»æ®µä¿¡æ¯\nv$session ä¼è¯ä¿¡æ¯\nv$transaction äºå¡ä¿¡æ¯\nv$rollstat åæ»æ®µç»è®¡ä¿¡æ¯\nv$pwfile_users ç¹æç¨æ·ä¿¡æ¯\nv$sqlarea å½åæ¥è¯¢è¿çsqlè¯­å¥è®¿é®è¿çèµæºåç¸å³çä¿¡æ¯\nv$sql ä¸v$sqlareaåºæ¬ç¸åçç¸å³ä¿¡æ¯\nv$sysstat æ°æ®åºç³»ç»ç¶æä¿¡æ¯\n\n\n\n# å¸¸ç¨ç³»ç»è¡¨\n\nåæé¾æ¥\n\ndba_å¼å¤´\n\n\ndba_users æ°æ®åºç¨æ·ä¿¡æ¯\ndba_segments è¡¨æ®µä¿¡æ¯\ndba_extents æ°æ®åºä¿¡æ¯\ndba_objects æ°æ®åºå¯¹è±¡ä¿¡æ¯\ndba_tablespaces æ°æ®åºè¡¨ç©ºé´ä¿¡æ¯\ndba_data_files æ°æ®æä»¶è®¾ç½®ä¿¡æ¯\ndba_temp_files ä¸´æ¶æ°æ®æä»¶ä¿¡æ¯\ndba_rollback_segs åæ»æ®µä¿¡æ¯\ndba_ts_quotas ç¨æ·è¡¨ç©ºé´éé¢ä¿¡æ¯\ndba_free_space æ°æ®åºç©ºé²ç©ºé´ä¿¡æ¯\ndba_profiles æ°æ®åºç¨æ·èµæºéå¶ä¿¡æ¯\ndba_sys_privs ç¨æ·çç³»ç»æéä¿¡æ¯\ndba_tab_privs ç¨æ·å·æçå¯¹è±¡æéä¿¡æ¯\ndba_col_privs ç¨æ·å·æçåå¯¹è±¡æéä¿¡æ¯\ndba_role_privs ç¨æ·å·æçè§è²ä¿¡æ¯\ndba_audit_trail å®¡è®¡è·è¸ªè®°å½ä¿¡æ¯\ndba_stmt_audit_opts å®¡è®¡è®¾ç½®ä¿¡æ¯\ndba_audit_object å¯¹è±¡å®¡è®¡ç»æä¿¡æ¯\ndba_audit_session ä¼è¯å®¡è®¡ç»æä¿¡æ¯\ndba_indexes ç¨æ·æ¨¡å¼çç´¢å¼ä¿¡æ¯\n\n\nuser_å¼å¤´\n\nuser_objects ç¨æ·å¯¹è±¡ä¿¡æ¯\nuser_source æ°æ®åºç¨æ·çææèµæºå¯¹è±¡ä¿¡æ¯\nuser_segments ç¨æ·çè¡¨æ®µä¿¡æ¯\nuser_tables ç¨æ·çè¡¨å¯¹è±¡ä¿¡æ¯\nuser_tab_columns ç¨æ·çè¡¨åä¿¡æ¯\nuser_col_comments ç¨æ·çè¡¨åæ³¨éä¿¡æ¯\nuser_constraints ç¨æ·çå¯¹è±¡çº¦æä¿¡æ¯\nuser_sys_privs å½åç¨æ·çç³»ç»æéä¿¡æ¯\nuser_tab_privs å½åç¨æ·çå¯¹è±¡æéä¿¡æ¯\nuser_col_privs å½åç¨æ·çè¡¨åæéä¿¡æ¯\nuser_role_privs å½åç¨æ·çè§è²æéä¿¡æ¯\nuser_indexes ç¨æ·çç´¢å¼ä¿¡æ¯\nuser_ind_columns ç¨æ·çç´¢å¼å¯¹åºçè¡¨åä¿¡æ¯\nuser_cons_columns ç¨æ·ççº¦æå¯¹åºçè¡¨åä¿¡æ¯\nuser_clusters ç¨æ·çææç°ä¿¡æ¯\nuser_clu_columns ç¨æ·çç°æåå«çåå®¹ä¿¡æ¯\nuser_cluster_hash_expressions æ£åç°çä¿¡æ¯\n\n\n\nall_å¼å¤´\n\nall_users æ°æ®åºææç¨æ·çä¿¡æ¯\nall_objects æ°æ®åºææçå¯¹è±¡çä¿¡æ¯\nall_def_audit_opts ææé»è®¤çå®¡è®¡è®¾ç½®ä¿¡æ¯\nall_tables ææçè¡¨å¯¹è±¡ä¿¡æ¯\nall_indexes ææçæ°æ®åºå¯¹è±¡ç´¢å¼çä¿¡æ¯\n\nsession_å¼å¤´\nsession_roles ä¼è¯çè§è²ä¿¡æ¯\nsession_privs ä¼è¯çæéä¿¡æ¯\n\nindex_å¼å¤´\nindex_stats ç´¢å¼çè®¾ç½®åå­å¨ä¿¡æ¯\n\n**ä¼ªè¡¨**\ndual ç³»ç»ä¼ªåè¡¨ä¿¡æ¯\n\n\n\n# å®ä¾\n\n# æ¥çè§å¾ä¸­ç¨å°çè¡¨åè§å¾\n\n   select name, referenced_type, replace(to_char(wm_concat(distinct referenced_name)), ',', chr(13))\n     from sys.all_dependencies\n    where type = 'view'\n      and name = upper('è§å¾å')\n      and referenced_type in ('table', 'view')\n      and owner = 'ç¨æ·å'\n group by name, referenced_type\n order by referenced_type\n;\n\n\n# ç¨å° æä¸ªè¡¨ çè§å¾\n\n\n   select name, referenced_type, replace(to_char(wm_concat(distinct referenced_name)), ',', chr(13))\n     from sys.all_dependencies\n    where type = 'view'\n      and referenced_name = 'è¡¨å'\n      and owner = 'ç¨æ·å'\n group by name, referenced_type\n order by referenced_type\n;\n\n\n# æ¥çè§å¾æè¡¨åå»ºè¯­å¥\n\nselect * from all_views where view_name = upper('è§å¾å') and owner = 'ç¨æ·å';\n\n\n# æ¥è¯¢å»ºè¡¨è¯­å¥ï¼ä¸å«æ³¨éï¼\n\nselect dbms_metadata.get_ddl('table',upper('tablename')) from dual;\n\n\n# æ¥çå½æ°ãå­å¨è¿ç¨ãè§¦åå¨ãåç­åå»ºè¯­å¥\n\nselect owner, name, type, listagg(text) within group(order by line) as text\n  from all_source\n where name = 'object_name'\n   and owner = 'user_name'\n group by owner, name, type\n\n\n# è¿ç§»æ°æ®ï¼å¤§æ¹éæä½æ°æ®ï¼åç¦ç¨ç´¢å¼ï¼ï¼ï¼\n\nselect 'alter index ' || idx.index_name || ' unusable;',\n       'alter index ' || idx.index_name || ' rebuild;'\n  from user_indexes idx\n  left join user_ind_columns idxc\n    on idx.table_name = idxc.table_name\n   and idx.index_name = idxc.index_name\n where idx.uniqueness <> 'unique'\n   and idx.table_name in (select upper(data_target)\n                            from debt_t_exc_config_param\n                           where exc_type = 'qy_in')  /*æå®è¡¨æ¸å*/\n   and not exists\n (select 1\n          from (select ucc.table_name, ucc.column_name\n                  from user_cons_columns ucc\n                  join user_constraints uc\n                    on ucc.constraint_name = uc.constraint_name\n                 where uc.constraint_type = 'p') t\n         where idx.table_name = t.table_name\n           and idxc.column_name = t.column_name)  /*è¿æ»¤æä¸»é®åä¸çç´¢å¼*/\n;\n\n\n# æ¥è¯¢æ°æ®è¡¨èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥æ°æ®ååé\n\ndba_tab_modificationsè®°å½èªä¸æ¬¡ç»è®¡ä¿¡æ¯æ¶éä»¥æ¥è¡¨ä¸çdmlæä½ï¼insertãupdateãdeleteï¼åtruncateæä½çåå²æ°æ®ï¼è¯¥è§å¾ä¾èµäºåå°ä½ä¸mmonï¼15minæ§è¡ä¸æ¬¡ï¼ï¼æå¨æ§è¡ exec dbms_stats.flush_database_monitoring_info;\n\n-- éè¦å¯ç¨è¡¨çæ§ï¼æ¿æ´»è¡¨ä¿®æ¹è·è¸ªï¼ï¼10gä¹åï¼10gä¹åéæå¨å¼å¯è¡¨çæ§alter table modifi_test nomonitoring/monitoringï¼\n-- 1. è®¾ç½®è®¾ç½®ç»è®¡çº§å«\nshow parameter statistics_level;   -- æ¥çåæ°å¼\n--alter system set statistics_level=typical;   -- åæ°è®¾ä¸ºtypicalæall\n--alter session set statistics_level=typical; \n\n\n-- æ¥è¯¢\nselect modif.table_owner,\n       modif.table_name,\n       modif.inserts,\n       modif.updates,\n       modif.deletes,\n       modif.timestamp,\n       tabs.last_analyzed  -- æååææ¶é´\n  from dba_tab_modifications modif\n inner join dba_tables tabs\n    on modif.table_owner = tabs.owner\n   and modif.table_name = tabs.table_name\n where modif.table_owner = 'qy_czb_rzpt_out'\n   and modif.timestamp >= sysdate - interval '30' day -- æ¥è¯¢æè¿ 1 å¤©ååå¨çè¡¨\n order by modif.timestamp desc\n;\n\n\n\n# ä¸mysqlåºå«\n\n1ãoracleæ¯å¤§åæ°æ®åºï¼mysqlæ¯å°åæ°æ®åºï¼\n2ãmysqlæ¯ä¸»é®æ¯æ¯æèªå¨å¢é¿ç±»åçï¼å¨åå»ºè¡¨çæ¶åæå®è¡¨çä¸»é®ä¸ºauto_incrementï¼,å¨æå¥è®°å½æ¶ï¼ä¸éè¦åæå®è¯¥è®°å½çä¸»é®å¼ï¼mysqlå°èªå¨å¢é¿ï¼\n3ãoracleæ²¡æèªå¨å¢é¿ç±»åä¸»é®ä¸è¬ä½¿ç¨åºåï¼å¨æå¥è®°å½æ¶ï¼å°åºåå·çä¸ä¸ä¸ªå¼ä»ç»è¯¥å­æ®µå³å¯ï¼\n4ãmysqlå¯ä»¥ç¨åå¼å·åèµ·å­ç¬¦ä¸²ï¼èoracleåªè½ç¨åå¼å·åèµ·ã\n5ãå¤çåé¡µé»è¾ä¸ä¸æ ·ï¼mysqlä½¿ç¨limitå¤çåé¡µï¼èoracleä½¿ç¨rownumå­æ®µæ æä½ç½®ï¼å¹¶ä¸åªè½ç¨rownum&lt;100,ä¸è½ç¨rownum>80;\n6ãmysqlå®ä¹çç©ºå­æ®µéé¢å¯ä»¥æç©ºçåå®¹ï¼ä½æ¯oracleç§éç©ºå­æ®µä¸è½æç©ºçåï¼\n7ãä¸¤èé½è½ä½¿ç¨like â%å­ç¬¦ä¸²%â,ä½æ¯oracleä¸­ä½¿ç¨æ¨¡ç³æ¥è¯¢åä¸è½ä½¿ç¨ç´¢å¼ï¼éåº¦ä¸å¿«ï¼\n8ãä¸¤èç»å­æ®µæ·»å æ³¨éçæ¹å¼ä¸ä¸æ ·ï¼\n\nââââââââââââââââ\nåæé¾æ¥ï¼https://blog.csdn.net/z19950712/article/details/115478505\n\n\n\n# shellè·oracleèæ¬\n\n----------------------------------------\n\n#! /bin/sh\nlogpath=\"log\"\nfilepath=\"/home/ap/user\"\n#è¾å¥oracleæ°æ®åºçç¨æ·åå¯ç ç­ä¿¡æ¯\ndbinfo=\"username/password@ip:port/orcl\"\nif  ! -d ${logpath} ]\nthen\n mkdir log\nfi\necho \"`date +'%y%m%d %h:%m:%s'`] info: begin to execute init sql!\"\nlogfile=\"${logpath}/init_table_data_info.log\"\n#â${logfile} 2>&1âè¿éçææå°±æ¯ææ åè¾åºä¿¡æ¯åéè¯¯è¾åºä¿¡æ¯é½è®°å½å¨init_table_data_info.logæä»¶ä¸­\nsqlplus -s ${dbinfo} << ! > ${logfile} 2>&1\nwhenever oserror exit 1;\nwhenever sqlerror exit 1;\n@${filepath}/inittable.sql\n@${filepath}/inittable2.sql\nquit\n!\nif  $? -ne 0 ]\nthen\n    echo \"`date +'%y%m%d %h:%m:%s'`] error: initialize inittable failed!\"  >> ${logpath}\n    exit 1\nfi\necho \"`date +'%y%m%d %h:%m:%s'`] initialize inittable  successed.\"  >> ${logpath}\n\n\n\n# oracleå³èæ¹å¼ï¼æ§è¡è®¡åï¼\n\nä¸ºå¥æè¯´åªæä¸ç§çï¼å¾å®åï¼ï¼ï¼ï¼\n\n> ä¸åæ°æ®åºæ¯ææåµä¸åï¼pgsqlæ¯æ nested-loop join ãhash join ãmerge joinï¼mysqlåªæ¯æ nested-loop join\n\noracleçsqlä¼åå¨ï¼optimizerï¼å¨æ§è¡å¤è¡¨è¿æ¥æ¥è¯¢æ¶ï¼éå¸¸éç¨çè¿æ¥ç®æ³æä»¥ä¸å ç§æ¹å¼ï¼\n1ãåµå¥å¾ªç¯è¿æ¥ï¼nested loops joinï¼\n2ãåå¸è¿æ¥ï¼hash joinï¼\n3ãæåºåå¹¶è¿æ¥ï¼sort merge joinï¼\n4ãç¬å¡å°è¿æ¥ï¼cartesian joinï¼\n5ãç¾¤éè¿æ¥ï¼cluster joinï¼\n6ãç´¢å¼è¿æ¥ï¼index joinï¼\n\n\nå¤è¡¨ä¹é´çè¿æ¥æä¸ç§æ¹å¼ï¼nested loopsï¼hash join å sort merge join. ä¸é¢æ¥ä»ç»ä¸ç§ä¸åè¿æ¥çä¸åï¼\n\nnested loop\n\n> å¯¹äºè¢«è¿æ¥çæ°æ®å­éè¾å°çæåµï¼åµå¥å¾ªç¯è¿æ¥æ¯ä¸ªè¾å¥½çéæ©ãå¨åµå¥å¾ªç¯ä¸­ï¼åè¡¨è¢«å¤è¡¨é©±å¨ï¼å¤è¡¨è¿åçæ¯ä¸è¡é½è¦å¨åè¡¨ä¸­æ£ç´¢æ¾å°ä¸å®å¹éçè¡ï¼å æ­¤æ´ä¸ªæ¥è¯¢è¿åçç»æéä¸è½å¤ªå¤§ï¼å¤§äº1 ä¸ä¸éåï¼ï¼è¦æè¿åå­éè¾å°è¡¨çä½ä¸ºå¤è¡¨ï¼cbo é»è®¤å¤è¡¨æ¯é©±å¨è¡¨ï¼ï¼èä¸å¨åè¡¨çè¿æ¥å­æ®µä¸ä¸å®è¦æç´¢å¼ãå½ç¶ä¹å¯ä»¥ç¨ordered æç¤ºæ¥æ¹åcboé»è®¤çé©±å¨è¡¨ï¼ä½¿ç¨use_nl(table_name1 table_name2)å¯æ¯å¼ºå¶cbo æ§è¡åµå¥å¾ªç¯è¿æ¥ã\n\n> nested loopä¸è¬ç¨å¨è¿æ¥çè¡¨ä¸­æç´¢å¼ï¼å¹¶ä¸ç´¢å¼éæ©æ§è¾å¥½çæ¶å.\n\n> æ­¥éª¤ï¼ç¡®å®ä¸ä¸ªé©±å¨è¡¨(outer table)ï¼å¦ä¸ä¸ªè¡¨ä¸ºinner tableï¼é©±å¨è¡¨ä¸­çæ¯ä¸è¡ä¸innerè¡¨ä¸­çç¸åºè®°å½joinãç±»ä¼¼ä¸ä¸ªåµå¥çå¾ªç¯ãéç¨äºé©±å¨è¡¨çè®°å½éæ¯è¾å°ï¼<10000ï¼èä¸innerè¡¨éè¦æææçè®¿é®æ¹æ³ï¼indexï¼ãéè¦æ³¨æçæ¯ï¼joinçé¡ºåºå¾éè¦ï¼é©±å¨è¡¨çè®°å½éä¸å®è¦å°ï¼è¿åç»æéçååºæ¶é´æ¯æå¿«çã\n\nhash join\n\n> æ£åè¿æ¥æ¯cbo åå¤§æ°æ®éè¿æ¥æ¶çå¸¸ç¨æ¹å¼ï¼ä¼åå¨ä½¿ç¨ä¸¤ä¸ªè¡¨ä¸­è¾å°çè¡¨ï¼ææ°æ®æºï¼å©ç¨è¿æ¥é®å¨åå­ä¸­å»ºç«æ£åè¡¨ï¼ç¶åæ«æè¾å¤§çè¡¨å¹¶æ¢æµæ£åè¡¨ï¼æ¾åºä¸æ£åè¡¨å¹éçè¡ã è¿ç§æ¹å¼éç¨äºè¾å°çè¡¨å®å¨å¯ä»¥æ¾äºåå­ä¸­çæåµï¼è¿æ ·æ»ææ¬å°±æ¯è®¿é®ä¸¤ä¸ªè¡¨çææ¬ä¹åãä½æ¯å¨è¡¨å¾å¤§çæåµä¸å¹¶ä¸è½å®å¨æ¾å¥åå­ï¼è¿æ¶ä¼åå¨ä¼å°å®åå²æè¥å¹²ä¸åçååºï¼ä¸è½æ¾å¥åå­çé¨åå°±æè¯¥ååºåå¥ç£ççä¸´æ¶æ®µï¼æ­¤æ¶è¦æè¾å¤§çä¸´æ¶æ®µä»èå°½éæé«i/o çæ§è½ã ä¹å¯ä»¥ç¨use_hash(table_name1 table_name2)æç¤ºæ¥å¼ºå¶ä½¿ç¨æ£åè¿æ¥ãå¦æä½¿ç¨æ£åè¿æ¥hash_area_size åå§ååæ°å¿é¡»è¶³å¤çå¤§ï¼å¦ææ¯9iï¼oracleå»ºè®®ä½¿ç¨sqlå·¥ä½åºèªå¨ç®¡çï¼è®¾ç½®workarea_size_policy ä¸ºautoï¼ç¶åè°æ´pga_aggregate_target å³å¯ã\n\n> hash joinå¨ä¸¤ä¸ªè¡¨çæ°æ®éå·®å«å¾å¤§çæ¶å.\n\n> æ­¥éª¤ï¼å°ä¸¤ä¸ªè¡¨ä¸­è¾å°çä¸ä¸ªå¨åå­ä¸­æé ä¸ä¸ªhashè¡¨ï¼å¯¹join keyï¼ï¼æ«æå¦ä¸ä¸ªè¡¨ï¼åæ ·å¯¹join keyè¿è¡hashåæ¢æµæ¯å¦å¯ä»¥joinãéç¨äºè®°å½éæ¯è¾å¤§çæåµãéè¦æ³¨æçæ¯ï¼å¦æhashè¡¨å¤ªå¤§ï¼æ æ³ä¸æ¬¡æé å¨åå­ä¸­ï¼ååæè¥å¹²ä¸ªpartitionï¼åå¥ç£ççtemporary segmentï¼åä¼å¤ä¸ä¸ªåçä»£ä»·ï¼ä¼éä½æçã\n\nsort merge join\n\n> éå¸¸æåµä¸æ£åè¿æ¥çææé½æ¯æåºåå¹¶è¿æ¥è¦å¥½ï¼ç¶èå¦æè¡æºå·²ç»è¢«æè¿åºï¼å¨æ§è¡æåºåå¹¶è¿æ¥æ¶ä¸éè¦åæåºäºï¼è¿æ¶æåºåå¹¶è¿æ¥çæ§è½ä¼ä¼äºæ£åè¿æ¥ãå¯ä»¥ä½¿ç¨use_merge(table_name1 table_name2)æ¥å¼ºå¶ä½¿ç¨æåºåå¹¶è¿æ¥. sort merge join ç¨å¨æ²¡æç´¢å¼ï¼å¹¶ä¸æ°æ®å·²ç»æåºçæåµ. cost = (outer access cost * # of hash partitions) + inner access cost\n\n> æ­¥éª¤ï¼å°ä¸¤ä¸ªè¡¨æåºï¼ç¶åå°ä¸¤ä¸ªè¡¨åå¹¶ãéå¸¸æåµä¸ï¼åªæå¨ä»¥ä¸æåµåçæ¶ï¼æä¼ä½¿ç¨æ­¤ç§joinæ¹å¼ï¼\n> \n> > 1.rboæ¨¡å¼\n> > 2.ä¸ç­ä»·å³è(>,<,>=,<=,<>)\n> > 3.hash_join_enabled=false\n> > 4.æ°æ®æºå·²æåº\n\nä¸ç§è¿æ¥å·¥ä½æ¹å¼æ¯è¾\n\n> hash joinçå·¥ä½æ¹å¼æ¯å°ä¸ä¸ªè¡¨ï¼éå¸¸æ¯å°ä¸ç¹çé£ä¸ªè¡¨ï¼åhashè¿ç®ï¼å°åæ°æ®å­å¨å°hashåè¡¨ä¸­ï¼ä»å¦ä¸ä¸ªè¡¨ä¸­æ½åè®°å½ï¼åhashè¿ç®ï¼å°hash åè¡¨ä¸­æ¾å°ç¸åºçå¼ï¼åå¹éã\n\n> nested loops å·¥ä½æ¹å¼æ¯ä»ä¸å¼ è¡¨ä¸­è¯»åæ°æ®ï¼è®¿é®å¦ä¸å¼ è¡¨ï¼éå¸¸æ¯ç´¢å¼ï¼æ¥åå¹éï¼nested loopséç¨çåºåæ¯å½ä¸ä¸ªå³èè¡¨æ¯è¾å°çæ¶åï¼æçä¼æ´é«ã\n\n> merge join æ¯åå°å³èè¡¨çå³èååèªåæåºï¼ç¶åä»åèªçæåºè¡¨ä¸­æ½åæ°æ®ï¼å°å¦ä¸ä¸ªæåºè¡¨ä¸­åå¹éï¼å ä¸ºmerge joinéè¦åæ´å¤çæåºï¼æä»¥æ¶èçèµæºæ´å¤ã éå¸¸æ¥è®²ï¼è½å¤ä½¿ç¨merge joinçå°æ¹ï¼hash joiné½å¯ä»¥åæ¥æ´å¥½çæ§è½ã\n\nå¼ºå¶ä½¿ç¨å³èæ¹å¼\n\nselect /*+use_hash(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\nselect /*+use_nl(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\nselect /*+use_merge(t,t1) */ * from scott.dept t,scott.emp t1 where t.deptno=t1.deptno;\n\n\nåæé¾æ¥\n\n\n# ç¹ç¶ç¥è¯\n\n\n# å¹éä¸­æ\n\nä½¿ç¨æ­£åå¹éä¸å¤ªå¥½ä½¿\n\næ¿æ¢æ¹æ¡ï¼chr(128) - chr(255) å¯ä»¥å¹éåå­èå­ç¬¦ï¼åæ ·ä¸å¤åç¡®ï¼\nselect regexp_replace('', '['||chr(128)|| '-' || chr(255) ||']', '-') from dual;\n\n\n\n# åå»ºdblink\n\n> æ³¨ï¼ç±äº dblink è·¨åºæ¥è¯¢æ¯æä¸ä¸ªæ°æ®åºæ°æ®éè¿ç½ç»åéå°å¦ä¸æ°æ®åºå³èæ¥è¯¢ï¼ å¯ä»¥éè¿æå® hint /*+ driving_site(t)*/ æå®é©±å¨è¡¨ï¼t ä¸è¬æ¯å¤§è¡¨ï¼ï¼ä»èåå°ç½ç»ä¼ è¾ã å½ç¶ï¼æç»æçè¿æ¯è¦ç»¼åç£çioãç½ç»ioåè®¡ç®è½åç­ç»¼åèè\n\n-- create database link \ncreate public database link <dblinkå>\n  connect to <ç¨æ·å>\n  identified by <\"å¯ç \">\n  using '(description =(address_list =(address =(protocol=tcp)(host=<ip>)(port=<ç«¯å£>)))(connect_data=(service_name=orcl)))';\n\n\n\n# sqlå¹¶è¡\n\nå®æ¹ææ¡£\n\nåæå°å\n\n * 1.æ¥è¯¢å¼å¯å¹¶è¡ï¼parallel queryï¼\n\nselect /*+parallel(a, 16)*/ count(1) from dual a;     -- ç¬¬ä¸ç§æ¹å¼ï¼histæ¹å¼ï¼\nalter table tab1 parallel n;                          -- ç¬¬äºç§æ¹å¼\nalter session force parallel query parallel n;        -- ç¬¬ä¸ç§æ¹å¼\n\n\n * 2.ä¿®æ¹æ°æ®å¼å¯å¹¶è¡ï¼parallel dml (insert, update, delete, and merge) ï¼\n\n-- ç¬¬ä¸ç§æ¹å¼ï¼histæ¹å¼ï¼\nupdate /*+ parallel(tab1,4) */ tbl_2 set c1=c1+1;\ninsert /*+ parallel(tbl_ins,2) */ into tbl_ins\nselect /*+ parallel(tbl_sel,4) */ * from tbl_sel;\ndelete /*+ parallel (t1, 2) */ from t1\n\n-- ç¬¬äºç§æ¹å¼\nalter session force parallel dml parallel n;\n\n-- ç¬¬ä¸ç§æ¹å¼\nalter table tab1 parallel n;\n\n\n * 3.parallel ddl\n\n-- ç¬¬ä¸ç§æ¹å¼ï¼histæ¹å¼ï¼\nalter session force parallel ddl parallel n;\n\n-- ç¬¬äºç§æ¹å¼\ncreate index â¦.parallel 10;\nalter index ... rebuild parallel 10;\nalter index ... move partition parallel 10;\nalter index ...split partition parallel 10;\n\n\n * éï¼å­å¨è¿ç¨ä¸­å¼å¯å¹¶è¡\n\ndeclare\n...\nbegin\n execute immediate 'alter session force parallel dml parallel  8';\n --æ´æ°æä½\n ...\n commit; --å¿é¡»åcommit,å¦åä¼æ¥ ora-12841\n execute immediate 'alter session disable parallel dml ';\n\nexception\n when others then\n   rollback;\n   execute immediate 'alter session disable parallel dml '; \nend;\n\n\næ³¨ï¼ä½¿ç¨ä¸´æ¶è¡¨with asæ¶ä¸è½ä½¿ç¨å¹¶è¡ï¼æ¯å¦ï¼å¨å­å¨è¿ç¨ä¸­å¼å¯sessionå¹¶è¡ï¼ï¼å¦åä¼å¯¼è´ç»æä¸ä¸è´\n\n\n# ä¸­ææåºæ¹å¼\n\noracle9iä¹åï¼ä¸­ææ¯æç§äºè¿å¶ç¼ç è¿è¡æåºçã\nå¨oracle9iä¸­æ°å¢äºæç§æ¼é³ãé¨é¦ãç¬ç»æåºåè½ãè®¾ç½®nls_sortå¼\n\nschinese_radical_m æç§é¨é¦(ç¬¬ä¸é¡ºåº)ãç¬å(ç¬¬äºé¡ºåº)æåº\nschinese_stroke_m æç§ç¬å(ç¬¬ä¸é¡ºåº)ãé¨é¦(ç¬¬äºé¡ºåº)æåº\nschinese_pinyin_m æç§æ¼é³æåº\n\nä¿®æ¹oracleå­æ®µçé»è®¤æåºæ¹å¼ï¼\nææ¼é³(é»è®¤)ï¼\nalter session set nls_sort = schinese_pinyin_m;\næç¬ç»ï¼\nalter session set nls_sort = schinese_stroke_m;\næåæï¼\nalter session set nls_sort = nls_sort=schinese_radical_m;\n\nnlssort()ï¼ç¨æ¥è¿è¡è¯­è¨æåº\n\nç¤ºä¾:\nselect * from team order by nlssort(æåºå­æ®µå,'nls_sort =schinese_pinyin_m')\n\n\n\n# æ°æ®ä¸­åå«ç¹æ®ç¬¦å·éè¦è½¬ä¹\n\n 1. æ§è¡è¯­å¥ååæ§è¡ set define off; ï¼å»æoracleèªå®ä¹çå­ç¬¦å«ä¹ï¼è¿åå®æ¬æ¥çææï¼\n 2. ä½¿ç¨asciiç¼ç å¯¹ & è¿è¡è½¬ä¹ chr(38) select 'xxx?xxx=11' || chr(38) || 'xxx=33' from dual\n 3. ä¸è½¬ä¹ï¼ç´æ¥å­ç¬¦ä¸²çå½¢å¼åè¿å» select 'xxx?xxx=11' || '&' || 'xxx=33' from dual\n\n\n# æ°æ®æ³µå¯¼å¥å¯¼åºï¼å¾å®åï¼\n\nå¯¼å¥ï¼é¦åæä»¬éè¦ç¥éå¯¼åºç¨æ·åè¡¨ç©ºé´çåå­\n\næ³¨æï¼1. å¦æè¡¨ç©ºé´ä¸æ¯åªæä¸ä¸ªï¼éè¦ä½¿ç¨remap_tablespaceæå®å°æä»¬åå»ºçè¡¨ç©ºé´ 2. åä¸ªè¡¨ç©ºé´æä»¶æå¤§32g\n\n> æä»¥æ¿å°å¯¼åºlogæä»¶æ¯éå¸¸æå¿è¦ç\n\n-- åå»ºè¡¨ç©ºé´  unlimitedæå®ä¸éå¶æå¤§è¡¨ç©ºé´\ncreate tablespace banana datafile 'e:\\oracledata\\tablespace\\datas.dbf' size 50m autoextend on next 50m maxsize unlimited extent management local; \n-- å é¤è¡¨ç©ºé´\ndrop tablespace banana including contents and datafiles cascade constraints;\n-- æ¥è¯¢è¡¨ç©ºé´\nselect * from dba_tablespaces;\n\n\n-- ç®¡çåç»å½ï¼åå»ºæ°ç¨æ·ï¼åéå·²åå»ºå¥½çè¡¨ç©ºé´\ncreate user banana identified by banana default tablespace banana;\n-- å é¤ç¨æ·å¸¦çº§è\ndrop user banana cascade;\n\n\n-- ææ\ngrant dba to banana with admin option;\n\n\n-- æ¥è¯¢dupå­æ¾ç®å½ç®å½    æ³¨æï¼åé¢çeçä¸é¢çdpdump å¿é¡»æä½ è¦å¯¼å¥çxxx.dmpæä»¶æ¾è¿è¯¥æä»¶å¤¹  data_pump_dir\nselect * from dba_directories;\n-- æ°æ®æ³µå¯¼å¥æ°æ® (cmdå½ä»¤è¡   data_pump_dirä¸ºä¸é¢æ¥åºçç®å½å  å¦ææå¶ä»è¡¨ç©ºé´çï¼éè¦ä½¿ç¨remap_tablespaceæå®å°æä»¬åå»ºçè¡¨ç©ºé´)\nimpdp banana remap_tablespace=mof:banana,test:banana directory=data_pump_dir dumpfile=xxx.dmp logfile=impdp.log -- full=yes parallel=16\n\n\n-- å¢å æå®è¡¨ç©ºé´æä»¶ï¼åä¸ªè¡¨ç©ºé´æä»¶æå¤§32gï¼éè¦æ©åï¼\nalter tablespace banana add datafile 'e:\\oracledata\\tablespace\\datas01.dbf' size 100m autoextend on next 50m  ;\n\n\nå¯¼å¥å¯¼åºå®æè¿ç¨å½ä»¤ä¿å­\n\n-- å¯¼åºå½ä»¤\nexpdp username/passwd@ip:port/lgfv directory=data_pump_dir dumpfile=xxx.dmp logfile=xxx.log schemas=username\n-- å¯¼åºåå¯¹æ°æ®åè¿è¡åç¼©ï¼winrarå·¥å·åå·åç¼©ï¼ï¼ï¼ï¼åå°ç½ç»ä¼ è¾\n\n-- è¡¨ç©ºé´åå»ºï¼ç¡®å®è¡¨ç©ºé´è¶³å¤ï¼ä¸ä¸ªæä»¶æå¤§32gï¼\n-- create tablespace rzpt datafile 'd:\\app\\administrator\\oradata\\orcl\\rzpt01.dbf' size 100m autoextend on next 100m maxsize unlimited extent management local; \n-- alter tablespace rzpt add datafile 'd:\\app\\administrator\\oradata\\orcl\\rzpt02.dbf' size 100m autoextend on next 100m  ;\n\n-- åå»ºç¨æ·å¹¶ææ\ncreate user username2 identified by passwd2 default tablespace rzpt;\ngrant dba to username2 with admin option;\n\n-- æ¥è¯¢ååºç¨å°çè¡¨ç©ºé´\nselect distinct tablespace_name\nfrom dba_segments\nwhere owner = 'username';\n\n-- å¯¼å¥å½ä»¤\nimpdp username2/passwd2@localhost/orcl directory=data_pump_dir dumpfile=xxx.dmp remap_schema=username:username2 remap_tablespace=dsy:rzpt,cs_czb_rzpt:rzpt logfile=xxx.log parallel=4\n\n-- éï¼å é¤ç¨æ·æ¥æè¿æ¥  æ¥è¯¢ä¼è¯å¹¶ææ­»\nselect s.sid, s.serial#, s.username, s.status, p.spid\nfrom v$session s, v$process p\nwhere s.paddr = p.addr and s.username = 'username';\n-- alter system kill session '143,46649' ;\n\n-- éï¼è¥å¯¼å¥å¡å¨ å¤çå¯¹è±¡ç±»å schema_export/table/index/index ä¸å¨ï¼\n-- æ¥çæ¥å¿\nshow parameter dump -- å½ä»¤è¡æ§è¡ï¼æ¥çæ¥å¿ä½ç½®\n-- æ¥ç alert_orcl.log è¥æ¥å¿æç¸å³æç¤º\nselect group#,sequence#,bytes,members,status from v$log;   \nalter database add logfile group 4 ('d:\\app\\administrator\\oradata\\orcl\\redo04.log') size 200m;\nalter database add logfile group 5 ('d:\\app\\administrator\\oradata\\orcl\\redo05.log') size 1g;\nalter system switch logfile;\n-- alter database drop logfile group 4;   -- å é¤æ§ç»\n\n\næ¥éå¤ç\n\n 1. ora-39083: ora-14460: åªè½æå®ä¸ä¸ª compress æ nocompress å­å¥ï¼å¯¼å¥å½ä»¤å åæ° transform=segment_attributes:n ï¼æªå®æµï¼\n\nå½ä»¤ä¿å­\n\n-- åå»ºç®å½\ncreate directory my_dir as '/home/oracle/tmp';\ngrant read,write on directory my_dir to username;\n\n-- ç¯å¢åé(è¥æ²¡éç½®å¥½ï¼éåæ§è¡)   è¥ä¸æå¥½å®¹æè¡¨æ³¨éä¹±ç ï¼ï¼ï¼\nexport oracle_home=/xxx/oracle/product/11.2.0/dbhome_1\nexport oracle_sid=orcl\nexport path=$oracle_home/bin:$path\nexport nls_lang=american_america.zhs16gbk\n\n-- exp/imp å¯¼å¥å¯¼åºæå®è¡¨\nexp å¯¼åºç¨æ·å/'å¯ç '@orcl file=/home/oracle/xxx.dmp tables=\\(tablename1, tablename2\\) log=/home/oracle/xxx.log schemas=scott\nimp å¯¼å¥ç¨æ·å/'å¯ç '@orcl file=/home/oracle/xxx.dmp tables=\\(tablename1, tablename2\\) log=/home/oracle/xxx.log statistics=none schemas=scott\n\n\n-- expdp/impdp å¯¼å¥å¯¼åº \nexpdp $username/$passwd dumpfile=xxx.dmp(æ®è¯´å¯ä»¥ä¸ºä»»æåç¼å) directory=data_pump_dir(oracleååé) full=y logfile=xxx.log schemas=scott\nimpdp $username/$passwd directory=data_pump_dir dumpfile=xxx.dmp logfile=xxx.log full=yes schemas=scott\nexpdp $username/$passwd dumpfile=xxx.dmp directory=data_pump_dir logfile=xxx.log tables=\\(tablename1, tablename2\\) schemas=scott\nimpdp $username/$passwd directory=data_pump_dir dumpfile=xxx.dmp logfile=xxx.log tables=\\(tablename1, tablename2\\) schemas=scott\n\n-- åæ°\nparallel=5 -- å¹¶è¡å¯¼åº\ncontent=metadata_only -- åæ°æ®(åå«è¡¨å®ä¹ãå­å¨è¿ç¨ãå½æ°ç­ç­)\ninclude=\\(procedure,function,view\\)\nexclude=index  -- æé¤\n\n------------------------------------------ å¯¼åº ------------------------------------------------\n##å¯¼åºä¸å¼ è¡¨ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log tables=scott.emp schemas=scott\n\n##å¯¼åºå¤å¼ è¡¨ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log tables=\\(scott.emp,scott.dept\\) schemas=scott\n\n##å¯¼åºä¸ä¸ªç¨æ·(å¯¼åºè¿ä¸ªç¨æ·çææå¯¹è±¡)ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log schemas=scott\n\n##å¯¼åºå¤ä¸ªç¨æ·ï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log schemas=\\(scott,hr\\)\n\n##å¯¼åºæ´ä¸ªæ°æ®åºï¼sysãordsysãmdsysçç¨æ·æ°æ®ä¸ä¼è¢«å¯¼åºï¼ä¾ï¼\nexpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=expdp.log full=yes\n\n------------------------------------------ å¯¼å¥ ------------------------------------------------\n##å¯¼å¥dmpæä»¶ä¸­çæææ°æ®ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log full=yes schemas=scott\n\n##å¯¼å¥ä¸å¼ è¡¨ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log tables=scott.emp schemas=scott\n\n##å¯¼å¥å¤å¼ è¡¨ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log tables=\\(scott.emp,scott.dept\\) schemas=scott\n\n##å¯¼å¥ä¸ä¸ªç¨æ·ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log schemas=scott\n\n##å¯¼å¥å¤ä¸ªç¨æ·ï¼ä¾ï¼\nimpdp system/oracle directory=my_dir dumpfile=expdp.dmp logfile=impdp.log schemas=\\(scott,hr\\)\n\n\n\n# oracle é«çæ¬å¯¼åºï¼ä½çæ¬å¯¼å¥ï¼ä¿®æ¹çæ¬å·\n\n 1. ä½¿ç¨ alextools å·¥å·\n 2. å¯¼åºæ¶æå®çæ¬ï¼å¢å åæ°ï¼ä¾ï¼version=11.2ï¼\n\n\n# redologï¼å¯¼åºãå¤§æ¹éãé¿äºå¡æ¯ä¸æ¯éè¦è°æ´ï¼ï¼\n\nshow parameter dump -- å½ä»¤è¡æ§è¡ï¼æ¥çæ¥å¿ä½ç½®\n\nselect group#,sequence#,bytes,members,status from v$log;   --æ¥è¯¢æ¥å¿ç»\nselect group#, member from v$logfile;  -- æ¥çæåæä»¶è·¯å¾ã\n\n-- å¢å æ¥å¿æä»¶\nalter database add logfile group 4 ('d:\\app\\administrator\\oradata\\orcl\\redo04.log') size 200m;\nalter database add logfile group 5 ('d:\\app\\administrator\\oradata\\orcl\\redo05.log') size 1g;\n-- alter database add logfile group 4 ('/u01/oradata/redo04a.log', '/u02/oradata/redo04b.log') size 200m;\n\n\n-- åæ¢æ¥å¿æä»¶\nalter system switch logfile;\n\n-- alter database drop logfile group 4;   -- å é¤æ§ç» å é¤åéæå¨æ¸çç©çæä»¶\n    \n-- æ¥è¯¢redologåæ¢æ¬¡æ°\nselect trunc(first_time) \"date\",\n       to_char(first_time, 'dy') \"day\",\n       count(1) \"total\",\n       sum(decode(to_char(first_time, 'hh24'), '00', 1, 0)) \"h0\",\n       sum(decode(to_char(first_time, 'hh24'), '01', 1, 0)) \"h1\",\n       sum(decode(to_char(first_time, 'hh24'), '02', 1, 0)) \"h2\",\n       sum(decode(to_char(first_time, 'hh24'), '03', 1, 0)) \"h3\",\n       sum(decode(to_char(first_time, 'hh24'), '04', 1, 0)) \"h4\",\n       sum(decode(to_char(first_time, 'hh24'), '05', 1, 0)) \"h5\",\n       sum(decode(to_char(first_time, 'hh24'), '06', 1, 0)) \"h6\",\n       sum(decode(to_char(first_time, 'hh24'), '07', 1, 0)) \"h7\",\n       sum(decode(to_char(first_time, 'hh24'), '08', 1, 0)) \"h8\",\n       sum(decode(to_char(first_time, 'hh24'), '09', 1, 0)) \"h9\",\n       sum(decode(to_char(first_time, 'hh24'), '10', 1, 0)) \"h10\",\n       sum(decode(to_char(first_time, 'hh24'), '11', 1, 0)) \"h11\",\n       sum(decode(to_char(first_time, 'hh24'), '12', 1, 0)) \"h12\",\n       sum(decode(to_char(first_time, 'hh24'), '13', 1, 0)) \"h13\",\n       sum(decode(to_char(first_time, 'hh24'), '14', 1, 0)) \"h14\",\n       sum(decode(to_char(first_time, 'hh24'), '15', 1, 0)) \"h15\",\n       sum(decode(to_char(first_time, 'hh24'), '16', 1, 0)) \"h16\",\n       sum(decode(to_char(first_time, 'hh24'), '17', 1, 0)) \"h17\",\n       sum(decode(to_char(first_time, 'hh24'), '18', 1, 0)) \"h18\",\n       sum(decode(to_char(first_time, 'hh24'), '19', 1, 0)) \"h19\",\n       sum(decode(to_char(first_time, 'hh24'), '20', 1, 0)) \"h20\",\n       sum(decode(to_char(first_time, 'hh24'), '21', 1, 0)) \"h21\",\n       sum(decode(to_char(first_time, 'hh24'), '22', 1, 0)) \"h22\",\n       sum(decode(to_char(first_time, 'hh24'), '23', 1, 0)) \"h23\"\n  from v$log_history\n where first_time >= trunc(sysdate, 'mm')\n group by trunc(first_time), to_char(first_time, 'dy')\n order by 1 desc\n;\n\n\n\n# è§£å³æ¬å°oracleæå¡åå­å ç¨è¿é«\n\noracleå®è£æ¶ï¼ä¸ºåè¡¡çµèæ§è½åæ°æ®åºæ§è½ï¼é»è®¤åå­å¤§å°ä¸ºç©çåå­ç1/8\n\n 1. ç¨dbaèº«ä»½è¿å¥oracle\n 2. show parameter sga; --æ¾ç¤ºåå­åéæåµ\n 3. alter system set sga_target=1024m scope=spfile;-ä¿®æ¹targetå¤§å° //è¿ä¸ªå¼å¿é¡»å°äºç­äºsga_max_size ï¼å¦ååºä¼èµ·ä¸æ¥ï¼\n 4. alter system set sga_max_size=1024m scope=spfile; --ä¿®æ¹æå¤§å ç¨åå­çå¤§å°\n 5. ä¿®æ¹åéå¯oracleæå¡\n 6. éï¼oracleæå¡ä»ç» åæé¾æ¥\n    * oracle orcl vss writer serviceï¼oracleå·æ å°æ·è´åå¥æå¡ï¼vssï¼volume shadow copy serviceï¼è½å¤è®©å­å¨åºç¡è®¾å¤ï¼æ¯å¦ç£çï¼éµåç­ï¼åå»ºé«ä¿ççæ¶é´ç¹æ åï¼å³æ å°æ·è´ï¼shadow copyï¼ãå®å¯ä»¥å¨å¤å·æèåä¸ªå·ä¸åå»ºæ å°æ·è´ï¼åæ¶ä¸ä¼å½±åå°ç³»ç»çç³»ç»è½ãï¼éå¿é¡»å¯å¨ï¼\n    * oracledbconsoleorclï¼oracleæ°æ®åºæ§å¶å°æå¡ï¼orclæ¯oracleçå®ä¾æ è¯ï¼é»è®¤çå®ä¾ä¸ºorclãå¨è¿è¡enterprise managerï¼ä¼ä¸ç®¡çå¨oemï¼çæ¶åï¼éè¦å¯å¨è¿ä¸ªæå¡ãï¼éå¿é¡»å¯å¨ï¼\n    * oraclejobschedulerorclï¼oracleä½ä¸è°åº¦ï¼å®æ¶å¨ï¼æå¡ï¼orclæ¯oracleå®ä¾æ è¯ãï¼éå¿é¡»å¯å¨ï¼\n    * oraclemtsrecoveryserviceï¼æå¡ç«¯æ§å¶ãè¯¥æå¡åè®¸æ°æ®åºåå½ä¸ä¸ªå¾®è½¯äºå¡æå¡å¨mtsãcom/com+å¯¹è±¡ååå¸å¼ç¯å¢ä¸çäºå¡çèµæºç®¡çå¨ãï¼éå¿é¡»å¯å¨ï¼\n    * oracleoradb11g_home1clragentï¼oracleæ°æ®åº .netæ©å±æå¡çä¸é¨åã ï¼éå¿é¡»å¯å¨ï¼\n    * oracleoradb11g_home1tnslistenerï¼çå¬å¨æå¡ï¼æå¡åªæå¨æ°æ®åºéè¦è¿ç¨è®¿é®çæ¶åæéè¦ãï¼éå¿é¡»å¯å¨ä½å¾å¸¸ç¨ï¼\n    * oracleserviceorclï¼æ°æ®åºæå¡(æ°æ®åºå®ä¾)ï¼æ¯oracleæ ¸å¿æå¡ï¼è¯¥æå¡æ¯æ°æ®åºå¯å¨çåºç¡ï¼ åªæè¯¥æå¡å¯å¨ï¼oracleæ°æ®åºæè½æ­£å¸¸å¯å¨ã(å¿é¡»å¯å¨)\n\n\n# æ°æ®æå¥æ¢çé®é¢\n\næ°å¢ï¼æä¸è·å­å¨è¿ç¨ç¨å¿«ï¼å¥½å ä¸ªè¡¨ä¸¤åå¤ä¸æ¡æ°æ®4688sï¼ï¼ä¸ºä»ä¹ï¼å ä¸ºç£çè¯»åéåº¦æ¢t.t\n\n 1. æä¸ªä¹ç¾å¤ä¸æ°æ®çè¡¨éè¦éæ°æ½æ°ï¼æ½æ°éåº¦æå¶æ¢ï¼ååç°æ¯ç´¢å¼å¯¼è´çï¼ä¸æ¸æ¥æ¯ç´¢å¼æé®é¢è¿æ¯æ­£å¸¸ç°è±¡ï¼ç´¢å¼å¢å æ¥è¯¢éçä½å½±åinsertãupdateãdeleteæçï¼ï¼åºè¯¥åå é¤ç´¢å¼åæ½æ°ï¼\n    \n    > æ²¡å é¤ç´¢å¼åçæçï¼ ã345430 æ¡æ°æ®è±è´¹ 1406sãã345430 æ¡æ°æ®è±è´¹1301sã\n    > å é¤åçæçï¼ã345508æ¡æ°æ®è±è´¹ 64sãã345482 æ¡æ°æ®è±è´¹ 7.248sãã345508 æ¡æ°æ®34.466sããdataxï¼1641410æ¡æ°æ®465sã",charsets:{cjk:!0},lastUpdated:"2025/04/22, 10:19:39",lastUpdatedTimestamp:1745288379e3},{title:"æ°æ®åº",frontmatter:{title:"æ°æ®åº",date:"2022-04-15T22:20:30.000Z",permalink:"/pages/e0cc49/",categories:["æ°æ®åº"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/0101.%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"03.æ°æ®åº/0101.æ°æ®åº.md",key:"v-4448404b",path:"/pages/e0cc49/",headers:[{level:3,title:"SQLæ å",slug:"sqlæ å",normalizedTitle:"sqlæ å",charIndex:2},{level:4,title:"SQLåå±ç®å²",slug:"sqlåå±ç®å²",normalizedTitle:"sqlåå±ç®å²",charIndex:11},{level:4,title:"è¯­æ³è¦ç´ ",slug:"è¯­æ³è¦ç´ ",normalizedTitle:"è¯­æ³è¦ç´ ",charIndex:1169},{level:4,title:"åæ åè¯­æ³",slug:"åæ åè¯­æ³",normalizedTitle:"åæ åè¯­æ³",charIndex:1503},{level:5,title:"MERGE",slug:"merge",normalizedTitle:"merge",charIndex:1512},{level:5,title:"è¡¨è¿æ¥",slug:"è¡¨è¿æ¥",normalizedTitle:"è¡¨è¿æ¥",charIndex:2052},{level:3,title:"äºå¡ç¸å³",slug:"äºå¡ç¸å³",normalizedTitle:"äºå¡ç¸å³",charIndex:3509},{level:4,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:1376},{level:3,title:"ç´¢å¼ç¸å³",slug:"ç´¢å¼ç¸å³",normalizedTitle:"ç´¢å¼ç¸å³",charIndex:4268},{level:4,title:"ç´¢å¼",slug:"ç´¢å¼",normalizedTitle:"ç´¢å¼",charIndex:4268},{level:4,title:"ä»ä¹æ¶åç´¢å¼ä¼å¤±æ",slug:"ä»ä¹æ¶åç´¢å¼ä¼å¤±æ",normalizedTitle:"ä»ä¹æ¶åç´¢å¼ä¼å¤±æ",charIndex:5006},{level:4,title:"éè¦é¿åçé®é¢",slug:"éè¦é¿åçé®é¢",normalizedTitle:"éè¦é¿åçé®é¢",charIndex:5251},{level:5,title:"1. è§å¾",slug:"_1-è§å¾",normalizedTitle:"1. è§å¾",charIndex:5262}],headersStr:"SQLæ å SQLåå±ç®å² è¯­æ³è¦ç´  åæ åè¯­æ³ MERGE è¡¨è¿æ¥ äºå¡ç¸å³ äºå¡ ç´¢å¼ç¸å³ ç´¢å¼ ä»ä¹æ¶åç´¢å¼ä¼å¤±æ éè¦é¿åçé®é¢ 1. è§å¾",content:'# SQLæ å\n\n# SQLåå±ç®å²\n\nSQLåå±ç®å²å¦ä¸ï¼\n\n * 1986å¹´ï¼ANSI X3.135-1986ï¼ISO/IEC 9075:1986ï¼SQL-86\n * 1989å¹´ï¼ANSI X3.135-1989ï¼ISO/IEC 9075:1989ï¼SQL-89\n * 1992å¹´ï¼ANSI X3.135-1992ï¼ISO/IEC 9075:1992ï¼SQL-92ï¼SQL2ï¼\n * 1999å¹´ï¼ISO/IEC 9075:1999ï¼SQL:1999ï¼SQL3ï¼\n * 2003å¹´ï¼ISO/IEC 9075:2003ï¼SQL:2003ï¼SQL4ï¼\n * 2011å¹´ï¼ISO/IEC 9075:200Nï¼SQL:2011ï¼SQL5ï¼\n\nå¹´ä»½     åå­         å«å                 æ³¨é\n1986   SQL-86     SQL-87             ANSIé¦æ¬¡æ åå\n1989   SQL-89     FIPS 127-1         å°ä¿®æ¹ï¼å¢å äºintegrity constraint\n1992   SQL-92     SQL2, FIPS 127-2   å¤§ä¿®æ¹ï¼æä¸ºç°ä»£SQLçåºç¡\n1999   SQL:1999   SQL3               å¢å äºæ­£åè¡¨è¾¾å¼å¹éãéå½æ¥è¯¢ï¼ä¼ éé­åï¼ãæ°æ®åºè§¦åå¨ãè¿ç¨å¼ä¸æ§å¶æµè¯­å¥ãéæ éç±»å(arrays)ãé¢åå¯¹è±¡ç¹æ§ãå¨Javaä¸­åµå¥SQL(SQL/OLB)åå¶é(SQL/JRT)\n2003   SQL:2003                      å¢å XMLç¸å³ç¹æ§(SQL/XML)ãwindow\n                                     functionsãæ ååsequencesãèªå¨äº§çå¼çåãå¯¹SQL:1999çæ°ç¹æ§éæ°æè¿°å¶åæ¶µã\n2006   SQL:2006                      å¯¼å¥/å¯¼åºXMLæ°æ®ä¸SQLæ°æ®åºãXQuery\n2008   SQL:2008                      å¨cursorä¹å¤çORDER BYè¯­å¥ãINSTEAD OFè§¦åå¨ãTRUNCATEè¯­å¥ãFETCHå­å¥\n2011   SQL:2011                      å¢å æ¶ææ°æ®(PERIOD FOR)ãå¢å¼ºäºwindow functionsä¸FETCHå­å¥\n2016   SQL:2016                      å¢å è¡æ¨¡å¼å¹éãå¤æè¡¨å½æ°ãJSONã\n2019   SQL:2019                      å¢å äºç¬¬15é¨åï¼å¤ç»´æ°ç»ï¼MDarrayç±»ååè¿ç®ç¬¦ï¼ã\n\n# è¯­æ³è¦ç´ \n\n * å­å¥ æ¯è¯­å¥åæ¥è¯¢çç»ææåãï¼å¨æäºæåµä¸ï¼è¿äºé½æ¯å¯éçãï¼\n * è¡¨è¾¾å¼ å¯ä»¥äº§çä»»ä½æ éå¼ï¼æç±ååè¡ç»æçæ°æ®åºè¡¨\n * è°è¯ ç»éè¦è¯ä¼°çSQLä¸å¼é»è¾ï¼3VLï¼ï¼true/false/unknownï¼æå¸å°çå¼æå®æ¡ä»¶ï¼å¹¶éå¶è¯­å¥åæ¥è¯¢çææï¼ææ¹åç¨åºæµç¨ã\n * æ¥è¯¢ åºäºç¹å®æ¡ä»¶æ£ç´¢æ°æ®ãè¿æ¯SQLçä¸ä¸ªéè¦ç»æé¨åã\n * è¯­å¥ å¯ä»¥æä¹å°å½±åçº²è¦åæ°æ®ï¼ä¹å¯ä»¥æ§å¶æ°æ®åºäºå¡ãç¨åºæµç¨ãè¿æ¥ãä¼è¯æè¯æ­ã\n * è¯­å¥ç»ç»ç¬¦ SQLè¯­å¥ä¹åæ¬åå·ï¼";"ï¼è¯­å¥ç»ç»ç¬¦ãå°½ç®¡å¹¶ä¸æ¯æ¯ä¸ªå¹³å°é½å¿éï¼ä½å®æ¯ä½ä¸ºSQLè¯­æ³çæ åé¨åå®ä¹çã\n * æ æä¹çç©ºç½ å¨SQLè¯­å¥åæ¥è¯¢ä¸­ä¸è¬ä¼è¢«å¿½ç¥ï¼æ´å®¹ææ ¼å¼åSQLä»£ç ä¾¿äºéè¯»\n\n# åæ åè¯­æ³\n\n# MERGE\n\nMERGEç¨æ¥åå¹¶å¤ä¸ªè¡¨çæ°æ®ãå®ç»åäºINSERTåUPDATEåç´ ãå®æ¯å¨SQL:2003æ åä¸­å®ä¹çï¼å¨é£ä¹åï¼ä¸äºæ°æ®åºä¹ä»¥ä¸åçè¯­æ³æä¾äºç¸ä¼¼çåè½ï¼åæ¯å«åâupsertâã\n\nMERGE INTO table_name   --è¦å¤ççè¡¨\n USING table_reference ON (condition)   --åç§çè¡¨\n -- å¦æè®°å½å¹éï¼å°±æ´æ°ç®æ è¡¨çå¹éè¡\n WHEN MATCHED THEN\n UPDATE SET column1 = value1 [, column2 = value2 ...]\n -- å¦æè¦å¤çè¡¨æ²¡æåç§è¡¨ä¸çè®°å½ï¼åæå¥\n WHEN NOT MATCHED THEN\n INSERT (column1 [, column2 ...]) VALUES (value1 [, value2 ...])\n -- å¦æè¦å¤çè¡¨çè®°å½å¨åç§è¡¨ä¸ä¸å­å¨ï¼åå é¤\n WHEN NOT MATCHED BY SOURCE THEN DELETE\n -- ç¨OUTPUTè¾åºåååå¨è¿çæ°æ®  $action AS [ACTION]\n OUTPUT $action, Inserted.*, Deleted.*\n\n\n# è¡¨è¿æ¥\n\n 1. INNER JOIN\n\n-- 86æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a, b, c\n WHERE a.id = b.id\n   AND a.id = c.id\n\n\n-- 92æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a\n INNER JOIN b\n    ON a.id = b.id\n INNER JOIN c\n    ON a.id = c.id;\n\n\n 2. LEFT JOIN\n\n-- 86æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a, b, c\n WHERE a.id = b.id(+) /*bè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºåï¼ç§°ä¸ºå·¦è¿æ¥ãæ³¨æå¦ï¼(+)æ¯æ¾å¨å³è¾¹ç*/\n   AND a.id = c.id(+) /*cè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºå*/\n\n--------------------------\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a, b, c\n WHERE a.id = b.id(+)\n   AND b.id = c.id(+)\n\n\n\n-- 92æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a\n\tLEFT JOIN b ON a.id = b.id\n\tLEFT JOIN c ON a.id = c.id;\n\n---------------------\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a\n  LEFT JOIN b ON a.id = b.id\n\tLEFT JOIN c ON b.id = c.id;\n\n\n 3. RIGHT JOIN\n\n-- 86æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a, b, c\n WHERE a.id(+) = b.id /*bè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºåï¼ç§°ä¸ºå·¦è¿æ¥ãæ³¨æå¦ï¼(+)æ¯æ¾å¨å³è¾¹ç*/\n   AND a.id(+) = c.id /*cè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºå*/\n\n--------------------------\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a, b, c\n WHERE a.id(+) = b.id\n   AND b.id(+) = c.id\n\n\n\n-- 92æ å\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a\n RIGHT JOIN b ON a.id = b.id\n RIGHT JOIN c ON a.id = c.id;\n\n---------------------\nSELECT a.id, a.name, b.id, b.name, c.id, c.name\n  FROM a\n RIGHT JOIN b ON a.id = b.id\n RIGHT JOIN c ON b.id = c.id;\n\n\n\n# äºå¡ç¸å³\n\n# äºå¡\n\n> äºå¡ä¿è¯ä¸ç»åå­æ§çæä½ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ãä¸æ¦å¤±è´¥ï¼åæ»ä¹åçæææä½ãMySqléç¨èªå¨æäº¤ï¼å¦æä¸æ¯æ¾å¼çå¼å¯ä¸ä¸ªäºå¡ï¼åæ¯ä¸ªæ¥è¯¢é½ä½ä¸ºä¸ä¸ªäºå¡ã\n\näºå¡çåºæ¬è¦ç´ :\n\n 1. åå­æ§ï¼Atomicityï¼ï¼äºå¡å¼å§åæææä½ï¼è¦ä¹å¨é¨å®æï¼è¦ä¹å¨é¨ä¸å®æï¼ä¸å¯è½åæ»å¨ä¸­é´ç¯èãäºå¡æ§è¡è¿ç¨ä¸­åºéï¼ä¼åæ»ï¼Rollbackï¼å°äºå¡å¼å§åçç¶æï¼ææçæä½å°±åæ²¡æåçä¸æ ·ãä¹å°±æ¯è¯´äºå¡æ¯ä¸ä¸ªä¸å¯åå²çæ´ä½\n 2. ä¸è´æ§ï¼Consistencyï¼ï¼äºå¡å¼å§ååç»æåï¼æ°æ®åºçå®æ´æ§çº¦ææ²¡æè¢«ç ´å ãæ¯å¦AåBè½¬è´¦ï¼ä¸å¯è½Aæ£äºé±ï¼Bå´æ²¡æ¶å°\n 3. éç¦»æ§ï¼Isolationï¼ï¼åä¸æ¶é´ï¼åªåè®¸ä¸ä¸ªäºå¡è¯·æ±åä¸æ°æ®ï¼ä¸åçäºå¡ä¹é´å½¼æ­¤æ²¡æä»»ä½å¹²æ°ãæ¯å¦Aæ­£å¨ä»ä¸å¼ é¶è¡å¡ä¸­åé±ï¼å¨Aåé±çè¿ç¨ç»æåï¼Bä¸è½åè¿å¼ å¡è½¬è´¦\n 4. æä¹æ§ï¼Durabilityï¼ï¼äºå¡å®æåï¼è¯¥äºå¡æå¯¹æ°æ®åºæä½çæ´æ¹å°è¢«ä¿å­å°æ°æ®åºä¹ä¸­ï¼ä¸è½åæ»ãå³ä½¿ç³»ç»åºç°æéï¼ä¹è½å¤ä¿æã\n\néç¦»çº§å«æ§å¶äºä¸ä¸ªäºå¡ä¸­çä¿®æ¹ï¼åªäºå¨äºå¡ååäºå¡é´æ¯å¯è§çãåç§å¸¸è§çéç¦»çº§å«ï¼\n\n * æªæäº¤è¯»ï¼Read UnCommittedï¼ï¼äºå¡ä¸­çä¿®æ¹ï¼å³ä½¿æ²¡æäº¤å¯¹å¶ä»äºå¡ä¹æ¯å¯è§çãäºå¡å¯è½è¯»åæªæäº¤çæ°æ®ï¼é æèè¯»ã\n * æäº¤è¯»ï¼Read Committedï¼ï¼ä¸ä¸ªäºå¡å¼å§æ¶ï¼åªè½çè§å·²æäº¤çäºå¡æåçä¿®æ¹ãäºå¡æªæäº¤ä¹åï¼æåçä¿®æ¹å¯¹å¶ä»äºå¡æ¯ä¸å¯è§çãä¹å«ä¸å¯éå¤è¯»ï¼åä¸ä¸ªäºå¡å¤æ¬¡è¯»ååæ ·è®°å½å¯è½ä¸åã\n * å¯éå¤è¯»ï¼RepeatTable Readï¼ï¼åä¸ä¸ªäºå¡ä¸­å¤æ¬¡è¯»ååæ ·çè®°å½ç»ææ¶ç»æç¸åã\n * å¯ä¸²è¡åï¼Serializableï¼ï¼æé«éç¦»çº§å«ï¼å¼ºå¶äºå¡ä¸²è¡æ§è¡ã\n\n\n# ç´¢å¼ç¸å³\n\n# ç´¢å¼\n\nç´¢å¼åå«ä¸ä¸ªæå¤ä¸ªåçå¼ãMySqlåªè½é«æçå©ç¨ç´¢å¼çæå·¦åç¼åãç´¢å¼çä¼å¿ï¼\n\n * åå°æ¥è¯¢æ«æçæ°æ®é\n * é¿åæåºåé¶æ¶è¡¨\n * å°éæºIOåä¸ºé¡ºåºIO ï¼é¡ºåºIOçæçé«äºéæºIOï¼\n\nB-Tree\n\nä½¿ç¨æå¤çç´¢å¼ç±»åãéç¨B-Treeæ°æ®ç»ææ¥å­å¨æ°æ®ï¼æ¯ä¸ªå¶å­èç¹é½åå«æåä¸ä¸ä¸ªå¶å­èç¹çæéï¼ä»èæ¹ä¾¿å¶å­èç¹çéåï¼ãB-Treeç´¢å¼éç¨äºå¨é®å¼ï¼é®å¼èå´ï¼é®åç¼æ¥æ¾ï¼æ¯ææåºã\n\nB-Treeç´¢å¼éå¶ï¼\n\n * å¦æä¸æ¯æç§ç´¢å¼çæå·¦åå¼å§æ¥è¯¢ï¼åæ æ³ä½¿ç¨ç´¢å¼ã\n * ä¸è½è·³è¿ç´¢å¼ä¸­çåãå¦æä½¿ç¨ç¬¬ä¸ååç¬¬ä¸åç´¢å¼ï¼ååªè½ä½¿ç¨ç¬¬ä¸åç´¢å¼ã\n * å¦ææ¥è¯¢ä¸­æä¸ªèå´æ¥è¯¢ï¼åå¶å³è¾¹çææåé½æ æ³ä½¿ç¨ç´¢å¼ä¼åæ¥è¯¢ã\n\nåå¸ç´¢å¼\n\nåªæç²¾ç¡®å¹éç´¢å¼çææåï¼æ¥è¯¢æææãå­å¨å¼æä¼å¯¹ææçç´¢å¼åè®¡ç®ä¸ä¸ªåå¸ç ï¼åå¸ç´¢å¼å°ææçåå¸ç å­å¨å¨ç´¢å¼ä¸­ï¼å¹¶ä¿å­æåæ¯ä¸ªæ°æ®è¡çæéã\n\nåå¸ç´¢å¼éå¶ï¼\n\n * æ æ³ç¨äºæåº\n * ä¸æ¯æé¨åå¹é\n * åªæ¯æç­å¼æ¥è¯¢å¦=ï¼INï¼ï¼ï¼ä¸æ¯æ <>\n\nä¼åå»ºè®®ç¹\n\n * æ³¨ææ¯ç§ç´¢å¼çéç¨èå´åéç¨éå¶ã\n * ç´¢å¼çåå¦ææ¯è¡¨è¾¾å¼çä¸é¨åæèæ¯å½æ°çåæ°ï¼åå¤±æã\n * éå¯¹ç¹å«é¿çå­ç¬¦ä¸²ï¼å¯ä»¥ä½¿ç¨åç¼ç´¢å¼ï¼æ ¹æ®ç´¢å¼çéæ©æ§éæ©åéçåç¼é¿åº¦ã\n * ä½¿ç¨å¤åç´¢å¼çæ¶åï¼å¯ä»¥éè¿ AND å OR è¯­æ³è¿æ¥ã\n * éå¤ç´¢å¼æ²¡å¿è¦ï¼å¦ï¼Aï¼Bï¼åï¼Aï¼éå¤ã\n * ç´¢å¼å¨whereæ¡ä»¶æ¥è¯¢ågroup byè¯­æ³æ¥è¯¢çæ¶åç¹å«ææã\n * å°èå´æ¥è¯¢æ¾å¨æ¡ä»¶æ¥è¯¢çæåï¼é²æ­¢èå´æ¥è¯¢å¯¼è´çå³è¾¹ç´¢å¼å¤±æçé®é¢ã\n * ç´¢å¼æå¥½ä¸è¦éæ©è¿é¿çå­ç¬¦ä¸²ï¼èä¸ç´¢å¼åä¹ä¸å®ä¸ºnullã\n\n# ä»ä¹æ¶åç´¢å¼ä¼å¤±æ\n\n> å¨åSQLæ³å°ä¸ä¸ªé®é¢, ä¸ºä»ä¹ä¼è®¤ä¸ºunion allçæçæ¯orçæçãåå å¯è½æ¯orä¼å¯¼è´ç´¢å¼å¤±æï¼åå¦æ­¤åéç´¢å¼åï¼union allçæçæ¯ä¸æ¯åorè¿ä¼¼ã\n\nç´¢å¼å¤±æç10ç§åºæ¯\n\n * ä¸æ»¡è¶³æå·¦å¹éåå\n * ä½¿ç¨äºselect *\n * ç´¢å¼åä¸æè®¡ç®\n * ç´¢å¼åç¨äºå½æ°\n * å­æ®µç±»åä¸å\n * likeå·¦è¾¹åå«%\n * åå¯¹æ¯\n * ä½¿ç¨orå³é®å­\n * not inånot exists\n * order byçå\n\nåæé¾æ¥\n\n# éè¦é¿åçé®é¢\n\n# 1. è§å¾\n\nä¸ªäººæè§ï¼è§å¾ç¨ä¸å¥½ä¼å¯¼è´è§å¾æ³æ»¥ãéå¤å³èï¼é ææ¥è¯¢æçæä½çæåµã\n\nçå°å«äººè¯´çå¾æéçï¼åæé¾æ¥\n\n>  1. åä¸ªä¸è¬çä¸å¡ç³»ç»ï¼å®å¨å¯ä»¥ä¸ç¨è§å¾ï¼å¦æä½ è¦ç¨è§å¾ï¼åªè½è¯´æä½ è¡¨æ²¡è®¾è®¡å¥½ï¼é£å°±ç»§ç»­çè§£ä¸å¡ä¼åè¡¨è®¾è®¡å»ï¼æçäººå¯è½è¦å·è¿å¥ï¼ä½å®éæåµå°±æ¯è¦è¿è¡¨å¤è¡¨çSQLé½æ¯å¤æçåå°æ°æ®ç»¼ååæç³»ç»æéè¦ï¼è¿æ ·çSQLæ´ä¸ªç³»ç»ä¹è¦ä¸äºå å¥ï¼åè¯´ç°å¨ä¸æ¯ægoogleçåæå·¥å·ä¹ï¼å·²ç»å¯ä»¥ä»£æ¿å¤§é¨åèªå·±è¦åçåæï¼åªè¦ç½é¡µåµä¸ªjsä»£ç å°±è¡ï¼ã\n>  2. è§å¾ä¸è¬é½åªææ¥è¯¢è½åï¼åçæ­£çè¡¨å¹¶ä¸ä¸æ ·ãèè®¸å¤å¬å¸åºå±DAOé½æ¯BaseDaoï¼ç¶ååä¸ªè¡¨å»ç»§æ¿çå½¢å¼ï¼è¿æ ·å°±å¯¼è´å¦æä½ æè§å¾ï¼è¯å®ä¹è¦ædaoï¼ç¶èä¸ç»§æ¿è¿ä¸ªBaseDaoï¼å°±ä¼æ´é²åºè§å¾æ ¹æ¬å°±ä¸æ¯æçå¢å æ¹è½åãèä¸ºäºDAOå±ç»ä¸æ§ï¼å¾å¤æåµä¸é½æ¯ä¸åè®¸ä½ èªå·±å»åDAOçï¼ä½ ç»§æ¿åæ´é²åºä½ æ ¹æ¬ä¸æ¯æçåè½ãä½ ç°å¨ç¨çç½ï¼å ä¸ºä½ ç¥éï¼ææåªç¨äºæ¥ï¼ï¼èåæ¥èå¯¹æ­¤ä¸æ æç¥ï¼ä»å°±æç§å¬å¸çä¹ æ¯ï¼åæ¶ä½ ä¹æ´é²åºæ¥å¢å æ¹ï¼ä»å°±å»å¢å æ¹ï¼ç»ææ¥éã\n>  3. æä»¬è¿æ¬¡è¦æ¹è¡¨ï¼å¯æå¹¶ä¸ç¥éåªäºè§å¾ä¾èµæ­¤è¡¨ï¼å¥½å§ï¼ææ¹è¡¨äºï¼æçä¸å¡å®æäºï¼ä½ çè§å¾ä¾èµäºæ­¤è¡¨ï¼ä½è¿æ¯ä½ å¾ä¹åå°±åå¥½çæ¨¡åï¼ä½ ä¹ä¸ç®¡ãç»æå¢ï¼å¤§å®¶é½ä»¥ä¸ºæ²¡äºä¸åokï¼å½ççç¨å°ä½ åçæ¨¡åæ¶ï¼å´æ¥éãä½ å¤§å¼âè¿æ¯æä»¥ååçï¼é½ä¸çº¿3ä¸ªæäºï¼ä¸ç´å¥½å¥½çãèè¿æ¬¡è°é½æ²¡æ¹ï¼æä¹å¯è½æ¥éï¼åæ­£ä¸æ¯æçéâï¼é£è°çéï¼åªæ¯å ä¸ºä½ çè§å¾ä¾èµçè¡¨ç»ææ¹äºï¼èä½ æ²¡æéæ°æ§è¡æ­¤è§å¾çä»£ç ã',normalizedContent:'# sqlæ å\n\n# sqlåå±ç®å²\n\nsqlåå±ç®å²å¦ä¸ï¼\n\n * 1986å¹´ï¼ansi x3.135-1986ï¼iso/iec 9075:1986ï¼sql-86\n * 1989å¹´ï¼ansi x3.135-1989ï¼iso/iec 9075:1989ï¼sql-89\n * 1992å¹´ï¼ansi x3.135-1992ï¼iso/iec 9075:1992ï¼sql-92ï¼sql2ï¼\n * 1999å¹´ï¼iso/iec 9075:1999ï¼sql:1999ï¼sql3ï¼\n * 2003å¹´ï¼iso/iec 9075:2003ï¼sql:2003ï¼sql4ï¼\n * 2011å¹´ï¼iso/iec 9075:200nï¼sql:2011ï¼sql5ï¼\n\nå¹´ä»½     åå­         å«å                 æ³¨é\n1986   sql-86     sql-87             ansié¦æ¬¡æ åå\n1989   sql-89     fips 127-1         å°ä¿®æ¹ï¼å¢å äºintegrity constraint\n1992   sql-92     sql2, fips 127-2   å¤§ä¿®æ¹ï¼æä¸ºç°ä»£sqlçåºç¡\n1999   sql:1999   sql3               å¢å äºæ­£åè¡¨è¾¾å¼å¹éãéå½æ¥è¯¢ï¼ä¼ éé­åï¼ãæ°æ®åºè§¦åå¨ãè¿ç¨å¼ä¸æ§å¶æµè¯­å¥ãéæ éç±»å(arrays)ãé¢åå¯¹è±¡ç¹æ§ãå¨javaä¸­åµå¥sql(sql/olb)åå¶é(sql/jrt)\n2003   sql:2003                      å¢å xmlç¸å³ç¹æ§(sql/xml)ãwindow\n                                     functionsãæ ååsequencesãèªå¨äº§çå¼çåãå¯¹sql:1999çæ°ç¹æ§éæ°æè¿°å¶åæ¶µã\n2006   sql:2006                      å¯¼å¥/å¯¼åºxmlæ°æ®ä¸sqlæ°æ®åºãxquery\n2008   sql:2008                      å¨cursorä¹å¤çorder byè¯­å¥ãinstead ofè§¦åå¨ãtruncateè¯­å¥ãfetchå­å¥\n2011   sql:2011                      å¢å æ¶ææ°æ®(period for)ãå¢å¼ºäºwindow functionsä¸fetchå­å¥\n2016   sql:2016                      å¢å è¡æ¨¡å¼å¹éãå¤æè¡¨å½æ°ãjsonã\n2019   sql:2019                      å¢å äºç¬¬15é¨åï¼å¤ç»´æ°ç»ï¼mdarrayç±»ååè¿ç®ç¬¦ï¼ã\n\n# è¯­æ³è¦ç´ \n\n * å­å¥ æ¯è¯­å¥åæ¥è¯¢çç»ææåãï¼å¨æäºæåµä¸ï¼è¿äºé½æ¯å¯éçãï¼\n * è¡¨è¾¾å¼ å¯ä»¥äº§çä»»ä½æ éå¼ï¼æç±ååè¡ç»æçæ°æ®åºè¡¨\n * è°è¯ ç»éè¦è¯ä¼°çsqlä¸å¼é»è¾ï¼3vlï¼ï¼true/false/unknownï¼æå¸å°çå¼æå®æ¡ä»¶ï¼å¹¶éå¶è¯­å¥åæ¥è¯¢çææï¼ææ¹åç¨åºæµç¨ã\n * æ¥è¯¢ åºäºç¹å®æ¡ä»¶æ£ç´¢æ°æ®ãè¿æ¯sqlçä¸ä¸ªéè¦ç»æé¨åã\n * è¯­å¥ å¯ä»¥æä¹å°å½±åçº²è¦åæ°æ®ï¼ä¹å¯ä»¥æ§å¶æ°æ®åºäºå¡ãç¨åºæµç¨ãè¿æ¥ãä¼è¯æè¯æ­ã\n * è¯­å¥ç»ç»ç¬¦ sqlè¯­å¥ä¹åæ¬åå·ï¼";"ï¼è¯­å¥ç»ç»ç¬¦ãå°½ç®¡å¹¶ä¸æ¯æ¯ä¸ªå¹³å°é½å¿éï¼ä½å®æ¯ä½ä¸ºsqlè¯­æ³çæ åé¨åå®ä¹çã\n * æ æä¹çç©ºç½ å¨sqlè¯­å¥åæ¥è¯¢ä¸­ä¸è¬ä¼è¢«å¿½ç¥ï¼æ´å®¹ææ ¼å¼åsqlä»£ç ä¾¿äºéè¯»\n\n# åæ åè¯­æ³\n\n# merge\n\nmergeç¨æ¥åå¹¶å¤ä¸ªè¡¨çæ°æ®ãå®ç»åäºinsertåupdateåç´ ãå®æ¯å¨sql:2003æ åä¸­å®ä¹çï¼å¨é£ä¹åï¼ä¸äºæ°æ®åºä¹ä»¥ä¸åçè¯­æ³æä¾äºç¸ä¼¼çåè½ï¼åæ¯å«åâupsertâã\n\nmerge into table_name   --è¦å¤ççè¡¨\n using table_reference on (condition)   --åç§çè¡¨\n -- å¦æè®°å½å¹éï¼å°±æ´æ°ç®æ è¡¨çå¹éè¡\n when matched then\n update set column1 = value1 [, column2 = value2 ...]\n -- å¦æè¦å¤çè¡¨æ²¡æåç§è¡¨ä¸çè®°å½ï¼åæå¥\n when not matched then\n insert (column1 [, column2 ...]) values (value1 [, value2 ...])\n -- å¦æè¦å¤çè¡¨çè®°å½å¨åç§è¡¨ä¸ä¸å­å¨ï¼åå é¤\n when not matched by source then delete\n -- ç¨outputè¾åºåååå¨è¿çæ°æ®  $action as [action]\n output $action, inserted.*, deleted.*\n\n\n# è¡¨è¿æ¥\n\n 1. inner join\n\n-- 86æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a, b, c\n where a.id = b.id\n   and a.id = c.id\n\n\n-- 92æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a\n inner join b\n    on a.id = b.id\n inner join c\n    on a.id = c.id;\n\n\n 2. left join\n\n-- 86æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a, b, c\n where a.id = b.id(+) /*bè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºåï¼ç§°ä¸ºå·¦è¿æ¥ãæ³¨æå¦ï¼(+)æ¯æ¾å¨å³è¾¹ç*/\n   and a.id = c.id(+) /*cè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºå*/\n\n--------------------------\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a, b, c\n where a.id = b.id(+)\n   and b.id = c.id(+)\n\n\n\n-- 92æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a\n\tleft join b on a.id = b.id\n\tleft join c on a.id = c.id;\n\n---------------------\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a\n  left join b on a.id = b.id\n\tleft join c on b.id = c.id;\n\n\n 3. right join\n\n-- 86æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a, b, c\n where a.id(+) = b.id /*bè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºåï¼ç§°ä¸ºå·¦è¿æ¥ãæ³¨æå¦ï¼(+)æ¯æ¾å¨å³è¾¹ç*/\n   and a.id(+) = c.id /*cè¡¨åaè¡¨è¿è¡å·¦è¿æ¥ï¼ä»¥aè¡¨ä¸ºå*/\n\n--------------------------\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a, b, c\n where a.id(+) = b.id\n   and b.id(+) = c.id\n\n\n\n-- 92æ å\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a\n right join b on a.id = b.id\n right join c on a.id = c.id;\n\n---------------------\nselect a.id, a.name, b.id, b.name, c.id, c.name\n  from a\n right join b on a.id = b.id\n right join c on b.id = c.id;\n\n\n\n# äºå¡ç¸å³\n\n# äºå¡\n\n> äºå¡ä¿è¯ä¸ç»åå­æ§çæä½ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ãä¸æ¦å¤±è´¥ï¼åæ»ä¹åçæææä½ãmysqléç¨èªå¨æäº¤ï¼å¦æä¸æ¯æ¾å¼çå¼å¯ä¸ä¸ªäºå¡ï¼åæ¯ä¸ªæ¥è¯¢é½ä½ä¸ºä¸ä¸ªäºå¡ã\n\näºå¡çåºæ¬è¦ç´ :\n\n 1. åå­æ§ï¼atomicityï¼ï¼äºå¡å¼å§åæææä½ï¼è¦ä¹å¨é¨å®æï¼è¦ä¹å¨é¨ä¸å®æï¼ä¸å¯è½åæ»å¨ä¸­é´ç¯èãäºå¡æ§è¡è¿ç¨ä¸­åºéï¼ä¼åæ»ï¼rollbackï¼å°äºå¡å¼å§åçç¶æï¼ææçæä½å°±åæ²¡æåçä¸æ ·ãä¹å°±æ¯è¯´äºå¡æ¯ä¸ä¸ªä¸å¯åå²çæ´ä½\n 2. ä¸è´æ§ï¼consistencyï¼ï¼äºå¡å¼å§ååç»æåï¼æ°æ®åºçå®æ´æ§çº¦ææ²¡æè¢«ç ´å ãæ¯å¦aåbè½¬è´¦ï¼ä¸å¯è½aæ£äºé±ï¼bå´æ²¡æ¶å°\n 3. éç¦»æ§ï¼isolationï¼ï¼åä¸æ¶é´ï¼åªåè®¸ä¸ä¸ªäºå¡è¯·æ±åä¸æ°æ®ï¼ä¸åçäºå¡ä¹é´å½¼æ­¤æ²¡æä»»ä½å¹²æ°ãæ¯å¦aæ­£å¨ä»ä¸å¼ é¶è¡å¡ä¸­åé±ï¼å¨aåé±çè¿ç¨ç»æåï¼bä¸è½åè¿å¼ å¡è½¬è´¦\n 4. æä¹æ§ï¼durabilityï¼ï¼äºå¡å®æåï¼è¯¥äºå¡æå¯¹æ°æ®åºæä½çæ´æ¹å°è¢«ä¿å­å°æ°æ®åºä¹ä¸­ï¼ä¸è½åæ»ãå³ä½¿ç³»ç»åºç°æéï¼ä¹è½å¤ä¿æã\n\néç¦»çº§å«æ§å¶äºä¸ä¸ªäºå¡ä¸­çä¿®æ¹ï¼åªäºå¨äºå¡ååäºå¡é´æ¯å¯è§çãåç§å¸¸è§çéç¦»çº§å«ï¼\n\n * æªæäº¤è¯»ï¼read uncommittedï¼ï¼äºå¡ä¸­çä¿®æ¹ï¼å³ä½¿æ²¡æäº¤å¯¹å¶ä»äºå¡ä¹æ¯å¯è§çãäºå¡å¯è½è¯»åæªæäº¤çæ°æ®ï¼é æèè¯»ã\n * æäº¤è¯»ï¼read committedï¼ï¼ä¸ä¸ªäºå¡å¼å§æ¶ï¼åªè½çè§å·²æäº¤çäºå¡æåçä¿®æ¹ãäºå¡æªæäº¤ä¹åï¼æåçä¿®æ¹å¯¹å¶ä»äºå¡æ¯ä¸å¯è§çãä¹å«ä¸å¯éå¤è¯»ï¼åä¸ä¸ªäºå¡å¤æ¬¡è¯»ååæ ·è®°å½å¯è½ä¸åã\n * å¯éå¤è¯»ï¼repeattable readï¼ï¼åä¸ä¸ªäºå¡ä¸­å¤æ¬¡è¯»ååæ ·çè®°å½ç»ææ¶ç»æç¸åã\n * å¯ä¸²è¡åï¼serializableï¼ï¼æé«éç¦»çº§å«ï¼å¼ºå¶äºå¡ä¸²è¡æ§è¡ã\n\n\n# ç´¢å¼ç¸å³\n\n# ç´¢å¼\n\nç´¢å¼åå«ä¸ä¸ªæå¤ä¸ªåçå¼ãmysqlåªè½é«æçå©ç¨ç´¢å¼çæå·¦åç¼åãç´¢å¼çä¼å¿ï¼\n\n * åå°æ¥è¯¢æ«æçæ°æ®é\n * é¿åæåºåé¶æ¶è¡¨\n * å°éæºioåä¸ºé¡ºåºio ï¼é¡ºåºioçæçé«äºéæºioï¼\n\nb-tree\n\nä½¿ç¨æå¤çç´¢å¼ç±»åãéç¨b-treeæ°æ®ç»ææ¥å­å¨æ°æ®ï¼æ¯ä¸ªå¶å­èç¹é½åå«æåä¸ä¸ä¸ªå¶å­èç¹çæéï¼ä»èæ¹ä¾¿å¶å­èç¹çéåï¼ãb-treeç´¢å¼éç¨äºå¨é®å¼ï¼é®å¼èå´ï¼é®åç¼æ¥æ¾ï¼æ¯ææåºã\n\nb-treeç´¢å¼éå¶ï¼\n\n * å¦æä¸æ¯æç§ç´¢å¼çæå·¦åå¼å§æ¥è¯¢ï¼åæ æ³ä½¿ç¨ç´¢å¼ã\n * ä¸è½è·³è¿ç´¢å¼ä¸­çåãå¦æä½¿ç¨ç¬¬ä¸ååç¬¬ä¸åç´¢å¼ï¼ååªè½ä½¿ç¨ç¬¬ä¸åç´¢å¼ã\n * å¦ææ¥è¯¢ä¸­æä¸ªèå´æ¥è¯¢ï¼åå¶å³è¾¹çææåé½æ æ³ä½¿ç¨ç´¢å¼ä¼åæ¥è¯¢ã\n\nåå¸ç´¢å¼\n\nåªæç²¾ç¡®å¹éç´¢å¼çææåï¼æ¥è¯¢æææãå­å¨å¼æä¼å¯¹ææçç´¢å¼åè®¡ç®ä¸ä¸ªåå¸ç ï¼åå¸ç´¢å¼å°ææçåå¸ç å­å¨å¨ç´¢å¼ä¸­ï¼å¹¶ä¿å­æåæ¯ä¸ªæ°æ®è¡çæéã\n\nåå¸ç´¢å¼éå¶ï¼\n\n * æ æ³ç¨äºæåº\n * ä¸æ¯æé¨åå¹é\n * åªæ¯æç­å¼æ¥è¯¢å¦=ï¼inï¼ï¼ï¼ä¸æ¯æ <>\n\nä¼åå»ºè®®ç¹\n\n * æ³¨ææ¯ç§ç´¢å¼çéç¨èå´åéç¨éå¶ã\n * ç´¢å¼çåå¦ææ¯è¡¨è¾¾å¼çä¸é¨åæèæ¯å½æ°çåæ°ï¼åå¤±æã\n * éå¯¹ç¹å«é¿çå­ç¬¦ä¸²ï¼å¯ä»¥ä½¿ç¨åç¼ç´¢å¼ï¼æ ¹æ®ç´¢å¼çéæ©æ§éæ©åéçåç¼é¿åº¦ã\n * ä½¿ç¨å¤åç´¢å¼çæ¶åï¼å¯ä»¥éè¿ and å or è¯­æ³è¿æ¥ã\n * éå¤ç´¢å¼æ²¡å¿è¦ï¼å¦ï¼aï¼bï¼åï¼aï¼éå¤ã\n * ç´¢å¼å¨whereæ¡ä»¶æ¥è¯¢ågroup byè¯­æ³æ¥è¯¢çæ¶åç¹å«ææã\n * å°èå´æ¥è¯¢æ¾å¨æ¡ä»¶æ¥è¯¢çæåï¼é²æ­¢èå´æ¥è¯¢å¯¼è´çå³è¾¹ç´¢å¼å¤±æçé®é¢ã\n * ç´¢å¼æå¥½ä¸è¦éæ©è¿é¿çå­ç¬¦ä¸²ï¼èä¸ç´¢å¼åä¹ä¸å®ä¸ºnullã\n\n# ä»ä¹æ¶åç´¢å¼ä¼å¤±æ\n\n> å¨åsqlæ³å°ä¸ä¸ªé®é¢, ä¸ºä»ä¹ä¼è®¤ä¸ºunion allçæçæ¯orçæçãåå å¯è½æ¯orä¼å¯¼è´ç´¢å¼å¤±æï¼åå¦æ­¤åéç´¢å¼åï¼union allçæçæ¯ä¸æ¯åorè¿ä¼¼ã\n\nç´¢å¼å¤±æç10ç§åºæ¯\n\n * ä¸æ»¡è¶³æå·¦å¹éåå\n * ä½¿ç¨äºselect *\n * ç´¢å¼åä¸æè®¡ç®\n * ç´¢å¼åç¨äºå½æ°\n * å­æ®µç±»åä¸å\n * likeå·¦è¾¹åå«%\n * åå¯¹æ¯\n * ä½¿ç¨orå³é®å­\n * not inånot exists\n * order byçå\n\nåæé¾æ¥\n\n# éè¦é¿åçé®é¢\n\n# 1. è§å¾\n\nä¸ªäººæè§ï¼è§å¾ç¨ä¸å¥½ä¼å¯¼è´è§å¾æ³æ»¥ãéå¤å³èï¼é ææ¥è¯¢æçæä½çæåµã\n\nçå°å«äººè¯´çå¾æéçï¼åæé¾æ¥\n\n>  1. åä¸ªä¸è¬çä¸å¡ç³»ç»ï¼å®å¨å¯ä»¥ä¸ç¨è§å¾ï¼å¦æä½ è¦ç¨è§å¾ï¼åªè½è¯´æä½ è¡¨æ²¡è®¾è®¡å¥½ï¼é£å°±ç»§ç»­çè§£ä¸å¡ä¼åè¡¨è®¾è®¡å»ï¼æçäººå¯è½è¦å·è¿å¥ï¼ä½å®éæåµå°±æ¯è¦è¿è¡¨å¤è¡¨çsqlé½æ¯å¤æçåå°æ°æ®ç»¼ååæç³»ç»æéè¦ï¼è¿æ ·çsqlæ´ä¸ªç³»ç»ä¹è¦ä¸äºå å¥ï¼åè¯´ç°å¨ä¸æ¯ægoogleçåæå·¥å·ä¹ï¼å·²ç»å¯ä»¥ä»£æ¿å¤§é¨åèªå·±è¦åçåæï¼åªè¦ç½é¡µåµä¸ªjsä»£ç å°±è¡ï¼ã\n>  2. è§å¾ä¸è¬é½åªææ¥è¯¢è½åï¼åçæ­£çè¡¨å¹¶ä¸ä¸æ ·ãèè®¸å¤å¬å¸åºå±daoé½æ¯basedaoï¼ç¶ååä¸ªè¡¨å»ç»§æ¿çå½¢å¼ï¼è¿æ ·å°±å¯¼è´å¦æä½ æè§å¾ï¼è¯å®ä¹è¦ædaoï¼ç¶èä¸ç»§æ¿è¿ä¸ªbasedaoï¼å°±ä¼æ´é²åºè§å¾æ ¹æ¬å°±ä¸æ¯æçå¢å æ¹è½åãèä¸ºäºdaoå±ç»ä¸æ§ï¼å¾å¤æåµä¸é½æ¯ä¸åè®¸ä½ èªå·±å»ådaoçï¼ä½ ç»§æ¿åæ´é²åºä½ æ ¹æ¬ä¸æ¯æçåè½ãä½ ç°å¨ç¨çç½ï¼å ä¸ºä½ ç¥éï¼ææåªç¨äºæ¥ï¼ï¼èåæ¥èå¯¹æ­¤ä¸æ æç¥ï¼ä»å°±æç§å¬å¸çä¹ æ¯ï¼åæ¶ä½ ä¹æ´é²åºæ¥å¢å æ¹ï¼ä»å°±å»å¢å æ¹ï¼ç»ææ¥éã\n>  3. æä»¬è¿æ¬¡è¦æ¹è¡¨ï¼å¯æå¹¶ä¸ç¥éåªäºè§å¾ä¾èµæ­¤è¡¨ï¼å¥½å§ï¼ææ¹è¡¨äºï¼æçä¸å¡å®æäºï¼ä½ çè§å¾ä¾èµäºæ­¤è¡¨ï¼ä½è¿æ¯ä½ å¾ä¹åå°±åå¥½çæ¨¡åï¼ä½ ä¹ä¸ç®¡ãç»æå¢ï¼å¤§å®¶é½ä»¥ä¸ºæ²¡äºä¸åokï¼å½ççç¨å°ä½ åçæ¨¡åæ¶ï¼å´æ¥éãä½ å¤§å¼âè¿æ¯æä»¥ååçï¼é½ä¸çº¿3ä¸ªæäºï¼ä¸ç´å¥½å¥½çãèè¿æ¬¡è°é½æ²¡æ¹ï¼æä¹å¯è½æ¥éï¼åæ­£ä¸æ¯æçéâï¼é£è°çéï¼åªæ¯å ä¸ºä½ çè§å¾ä¾èµçè¡¨ç»ææ¹äºï¼èä½ æ²¡æéæ°æ§è¡æ­¤è§å¾çä»£ç ã',charsets:{cjk:!0},lastUpdated:"2025/04/22, 10:19:39",lastUpdatedTimestamp:1745288379e3},{title:"MySQLçç¢ç¥è¯ç¹",frontmatter:{title:"MySQLçç¢ç¥è¯ç¹",date:"2022-03-25T14:30:57.000Z",permalink:"/pages/36476d/",categories:["æ°æ®åº","MySQL"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/02.MySQL%E7%90%90%E7%A2%8E%E7%9F%A5%E8%AF%86%E7%82%B9.html",relativePath:"03.æ°æ®åº/02.MySQL/02.MySQLçç¢ç¥è¯ç¹.md",key:"v-227c94e8",path:"/pages/36476d/",headers:[{level:4,title:"MySQL å¤§å°åææé®é¢",slug:"mysql-å¤§å°åææé®é¢",normalizedTitle:"mysql å¤§å°åææé®é¢",charIndex:2},{level:5,title:"ä¸åç³»ç»ä¸çMySQL",slug:"ä¸åç³»ç»ä¸çmysql",normalizedTitle:"ä¸åç³»ç»ä¸çmysql",charIndex:19},{level:5,title:"ä¿®æ¹å¤§å°åææ",slug:"ä¿®æ¹å¤§å°åææ",normalizedTitle:"ä¿®æ¹å¤§å°åææ",charIndex:174},{level:4,title:"MySQL ç STRTODATE å½æ°",slug:"mysql-ç-str-to-date-å½æ°",normalizedTitle:"mysql ç strtodate å½æ°",charIndex:null},{level:4,title:"MySQLå®ç°ç±»ä¼¼DENSE_RANK()ææ",slug:"mysqlå®ç°ç±»ä¼¼dense-rank-ææ",normalizedTitle:"mysqlå®ç°ç±»ä¼¼dense_rank()ææ",charIndex:757},{level:4,title:"MySQLåå»ºç¨æ·ï¼åéè¿ç¨è¿æ¥æé",slug:"mysqlåå»ºç¨æ·-åéè¿ç¨è¿æ¥æé",normalizedTitle:"mysqlåå»ºç¨æ·ï¼åéè¿ç¨è¿æ¥æé",charIndex:2010},{level:4,title:"PostgreSQL å MySQL çåºå«ï¼MySQLçä¸äºç¼ºç¹ï¼",slug:"postgresql-å-mysql-çåºå«-mysqlçä¸äºç¼ºç¹",normalizedTitle:"postgresql å mysql çåºå«ï¼mysqlçä¸äºç¼ºç¹ï¼",charIndex:2362},{level:4,title:"FULL JOINä¿®æ¹ï¼å¼å®¹MySQLï¼",slug:"full-joinä¿®æ¹-å¼å®¹mysql",normalizedTitle:"full joinä¿®æ¹ï¼å¼å®¹mysqlï¼",charIndex:2421},{level:4,title:"è¸©åè®°å½",slug:"è¸©åè®°å½",normalizedTitle:"è¸©åè®°å½",charIndex:2470},{level:5,title:"--",slug:"",normalizedTitle:"--",charIndex:183}],headersStr:"MySQL å¤§å°åææé®é¢ ä¸åç³»ç»ä¸çMySQL ä¿®æ¹å¤§å°åææ MySQL ç STRTODATE å½æ° MySQLå®ç°ç±»ä¼¼DENSE_RANK()ææ MySQLåå»ºç¨æ·ï¼åéè¿ç¨è¿æ¥æé PostgreSQL å MySQL çåºå«ï¼MySQLçä¸äºç¼ºç¹ï¼ FULL JOINä¿®æ¹ï¼å¼å®¹MySQLï¼ è¸©åè®°å½ --",content:"# MySQL å¤§å°åææé®é¢\n\n# ä¸åç³»ç»ä¸çMySQL\n\nMySQLå¨Linuxä¸æ°æ®åºåãè¡¨åãååãå«åå¤§å°åè§åæ¯è¿æ ·çï¼ 1ãæ°æ®åºåä¸è¡¨åæ¯ä¸¥æ ¼åºåå¤§å°åçï¼ 2ãè¡¨çå«åæ¯ä¸¥æ ¼åºåå¤§å°åçï¼ 3ãååä¸åçå«åå¨ææçæåµä¸åæ¯å¿½ç¥å¤§å°åçï¼ 4ãåéåä¹æ¯ä¸¥æ ¼åºåå¤§å°åçï¼ MySQLå¨Windowsä¸é½ä¸åºåå¤§å°åã\n\n# ä¿®æ¹å¤§å°åææ\n\n-- åºå¨åå»ºæ°æ®åºçæ¶åå°±è®¾ç½®å¥½ï¼å¦åå°±å¾åä¸ªè¡¨ï¼åä¸ªå­æ®µè¿è¡ä¿®æ¹\n-- æ¥çutf8mb4çæ ¡å¯¹è§å\n-- SHOW COLLATION LIKE 'utf8mb4\\_%';\nALTER TABLE `aa` MODIFY COLUMN `ID` VARCHAR(38) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs NOT NULL;\n\n\næ¯ä¸ªå­ç¬¦éæä¸ä¸ªé»è®¤æ ¡å¯¹è§å,ä¾å¦,utf8é»è®¤æ ¡å¯¹è§åæ¯utf8_general_ci.å¹¶å­å¨æ ¡å¯¹è§åå½åçº¦å®:å®ä»¬ä»¥å¶ç¸å³çå­ç¬¦éåå¼å§,éå¸¸åæ¬ä¸ä¸ªè¯­è¨å,å¹¶ä¸ä»¥_ciï¼å¤§å°åä¸ææï¼,_csï¼å¤§å°åææï¼æ_binï¼äºå/å¤§å°åä¹ææï¼ç»æ\n\n# MySQL ç STR_TO_DATE å½æ°\n\nå¥å¥æªæªçè¡ä¸º\n\n-- éè¯¯æ¥æ union all æ¶ä¼åæ 0000-00-00ï¼æ­£å¸¸æ¥æä¸ä¼ï¼ï¼ä½æ¯åç¬æ¥è¯¢ä¸æ¥é\nselect STR_TO_DATE('2022-04-31', '%Y-%m-%d') union all\nselect STR_TO_DATE('2022-02-30', '%Y-%m-%d') union all\nselect STR_TO_DATE('2022-02-31', '%Y-%m-%d');\n\n\n\n\n# MySQLå®ç°ç±»ä¼¼DENSE_RANK()ææ\n\nåææ¯å­æ¥è¯¢æ¯æè¯¥å­æ®µæåºè¿çï¼å¦åä¸è½å®ç°è¯¥ç»æ\n\næ°æ®\n\n| weibo_id         | weight               | id   | RN   | PERT_OLD |\n| 4524098644993942 | 0.253893631002748370 |    1 | 18   |        1 |\n| 4524111164205859 | 0.093070061064090660 |    4 | 19   |        4 |\n| 4524138758532594 | 0.015839159909128677 |   16 | 20   |       16 |\n| test100          | 0.500000000000000000 |   -1 | 21   |       -1 |\n| test101          | 0.500000000000000000 |   -1 | 21   |       -1 |\n| test102          | 0.500000000000000000 |   -2 | 22   |       -2 |\n| test103          | 0.500000000000000000 |   -2 | 22   |       -2 |\n| test104          | 0.500000000000000000 |   -3 | 23   |       -3 |\n| test106          | 0.500000000000000000 |   -5 | 24   |       -5 |\n| test107          | 0.500000000000000000 |    1 | 25   |        1 |\n\n\nSELECT T.*  \n       ,@R := case WHEN @RANK = T.id THEN @R ELSE @R + 1 END AS RN\n       ,@RANK := T.id AS PERT_OLD                                  \n  FROM topn T, ( SELECT @R := 0, @RANK := '' ) B \n\n-- åºè¯¥ä¸º\nSELECT T.*  \n       ,@R := case WHEN @RANK = T.id THEN @R ELSE @R + 1 END AS RN\n       ,@RANK := T.id AS PERT_OLD                                  \n  FROM (select * from topn order by id) T, ( SELECT @R := 0, @RANK := '' ) B \n\n\n# MySQLåå»ºç¨æ·ï¼åéè¿ç¨è¿æ¥æé\n\n# åå»ºæ°æ®åºåå»ºç¨æ·ï¼æ¶å¶å¯ä»¥è¿ç¨è®¿é®ï¼å¹¶ä¸è®¾ç½®å¯ç ç±»åï¼ï¼\ncreate user 'banana'@'%' identified with mysql_native_password by 'banana';\n\n# å¦æå·²ç»æç¨æ·ï¼è®¾ç½®ä¸ºå¯è¿ç¨è®¿é®ï¼å¯ä»¥ä½¿ç¨ï¼\nalter user 'banana'@'%' identified with mysql_native_password by 'banana';\n\n# è®¾ç½®å¯ä»¥è¯»åååå»ºçdemoæ°æ®åºï¼\ngrant all privileges on leetcode.* to 'banana'@'%' with grant option;\n\n# å·æ°ç¼å­ï¼\nflush privileges;\n\n\n# PostgreSQL å MySQL çåºå«ï¼MySQLçä¸äºç¼ºç¹ï¼\n\npostgresqlåmysqlçåºå«\n\n# FULL JOINä¿®æ¹ï¼å¼å®¹MySQLï¼\n\nmysqlå³äºå¤ä¸ªfull joinçå¤çæ¹å¼\n\n# è¸©åè®°å½\n\n# --\n\n-- åç­æ¨ªçº¿åä¸å ç©ºæ ¼ï¼æåå­ç¬¦ä¸²åæ°å­é¨åè½¬ä¸ºdoubleï¼æç©ºè¿æ¯å­ç¬¦ä¸²åæ æ°å­ä¼å¯¼è´æ¥éï¼ï¼ï¼ï¼\n-- [22007][1292] Truncated incorrect DOUBLE value: ''\nselect code, --code, CAST(code AS UNSIGNED) from BDP_T_ZJTX;\n",normalizedContent:"# mysql å¤§å°åææé®é¢\n\n# ä¸åç³»ç»ä¸çmysql\n\nmysqlå¨linuxä¸æ°æ®åºåãè¡¨åãååãå«åå¤§å°åè§åæ¯è¿æ ·çï¼ 1ãæ°æ®åºåä¸è¡¨åæ¯ä¸¥æ ¼åºåå¤§å°åçï¼ 2ãè¡¨çå«åæ¯ä¸¥æ ¼åºåå¤§å°åçï¼ 3ãååä¸åçå«åå¨ææçæåµä¸åæ¯å¿½ç¥å¤§å°åçï¼ 4ãåéåä¹æ¯ä¸¥æ ¼åºåå¤§å°åçï¼ mysqlå¨windowsä¸é½ä¸åºåå¤§å°åã\n\n# ä¿®æ¹å¤§å°åææ\n\n-- åºå¨åå»ºæ°æ®åºçæ¶åå°±è®¾ç½®å¥½ï¼å¦åå°±å¾åä¸ªè¡¨ï¼åä¸ªå­æ®µè¿è¡ä¿®æ¹\n-- æ¥çutf8mb4çæ ¡å¯¹è§å\n-- show collation like 'utf8mb4\\_%';\nalter table `aa` modify column `id` varchar(38) character set utf8mb4 collate utf8mb4_0900_as_cs not null;\n\n\næ¯ä¸ªå­ç¬¦éæä¸ä¸ªé»è®¤æ ¡å¯¹è§å,ä¾å¦,utf8é»è®¤æ ¡å¯¹è§åæ¯utf8_general_ci.å¹¶å­å¨æ ¡å¯¹è§åå½åçº¦å®:å®ä»¬ä»¥å¶ç¸å³çå­ç¬¦éåå¼å§,éå¸¸åæ¬ä¸ä¸ªè¯­è¨å,å¹¶ä¸ä»¥_ciï¼å¤§å°åä¸ææï¼,_csï¼å¤§å°åææï¼æ_binï¼äºå/å¤§å°åä¹ææï¼ç»æ\n\n# mysql ç str_to_date å½æ°\n\nå¥å¥æªæªçè¡ä¸º\n\n-- éè¯¯æ¥æ union all æ¶ä¼åæ 0000-00-00ï¼æ­£å¸¸æ¥æä¸ä¼ï¼ï¼ä½æ¯åç¬æ¥è¯¢ä¸æ¥é\nselect str_to_date('2022-04-31', '%y-%m-%d') union all\nselect str_to_date('2022-02-30', '%y-%m-%d') union all\nselect str_to_date('2022-02-31', '%y-%m-%d');\n\n\n\n\n# mysqlå®ç°ç±»ä¼¼dense_rank()ææ\n\nåææ¯å­æ¥è¯¢æ¯æè¯¥å­æ®µæåºè¿çï¼å¦åä¸è½å®ç°è¯¥ç»æ\n\næ°æ®\n\n| weibo_id         | weight               | id   | rn   | pert_old |\n| 4524098644993942 | 0.253893631002748370 |    1 | 18   |        1 |\n| 4524111164205859 | 0.093070061064090660 |    4 | 19   |        4 |\n| 4524138758532594 | 0.015839159909128677 |   16 | 20   |       16 |\n| test100          | 0.500000000000000000 |   -1 | 21   |       -1 |\n| test101          | 0.500000000000000000 |   -1 | 21   |       -1 |\n| test102          | 0.500000000000000000 |   -2 | 22   |       -2 |\n| test103          | 0.500000000000000000 |   -2 | 22   |       -2 |\n| test104          | 0.500000000000000000 |   -3 | 23   |       -3 |\n| test106          | 0.500000000000000000 |   -5 | 24   |       -5 |\n| test107          | 0.500000000000000000 |    1 | 25   |        1 |\n\n\nselect t.*  \n       ,@r := case when @rank = t.id then @r else @r + 1 end as rn\n       ,@rank := t.id as pert_old                                  \n  from topn t, ( select @r := 0, @rank := '' ) b \n\n-- åºè¯¥ä¸º\nselect t.*  \n       ,@r := case when @rank = t.id then @r else @r + 1 end as rn\n       ,@rank := t.id as pert_old                                  \n  from (select * from topn order by id) t, ( select @r := 0, @rank := '' ) b \n\n\n# mysqlåå»ºç¨æ·ï¼åéè¿ç¨è¿æ¥æé\n\n# åå»ºæ°æ®åºåå»ºç¨æ·ï¼æ¶å¶å¯ä»¥è¿ç¨è®¿é®ï¼å¹¶ä¸è®¾ç½®å¯ç ç±»åï¼ï¼\ncreate user 'banana'@'%' identified with mysql_native_password by 'banana';\n\n# å¦æå·²ç»æç¨æ·ï¼è®¾ç½®ä¸ºå¯è¿ç¨è®¿é®ï¼å¯ä»¥ä½¿ç¨ï¼\nalter user 'banana'@'%' identified with mysql_native_password by 'banana';\n\n# è®¾ç½®å¯ä»¥è¯»åååå»ºçdemoæ°æ®åºï¼\ngrant all privileges on leetcode.* to 'banana'@'%' with grant option;\n\n# å·æ°ç¼å­ï¼\nflush privileges;\n\n\n# postgresql å mysql çåºå«ï¼mysqlçä¸äºç¼ºç¹ï¼\n\npostgresqlåmysqlçåºå«\n\n# full joinä¿®æ¹ï¼å¼å®¹mysqlï¼\n\nmysqlå³äºå¤ä¸ªfull joinçå¤çæ¹å¼\n\n# è¸©åè®°å½\n\n# --\n\n-- åç­æ¨ªçº¿åä¸å ç©ºæ ¼ï¼æåå­ç¬¦ä¸²åæ°å­é¨åè½¬ä¸ºdoubleï¼æç©ºè¿æ¯å­ç¬¦ä¸²åæ æ°å­ä¼å¯¼è´æ¥éï¼ï¼ï¼ï¼\n-- [22007][1292] truncated incorrect double value: ''\nselect code, --code, cast(code as unsigned) from bdp_t_zjtx;\n",charsets:{cjk:!0},lastUpdated:"2025/05/16, 18:00:33",lastUpdatedTimestamp:1747389633e3},{title:"è¾¾æ¢¦æ°æ®åº",frontmatter:{title:"è¾¾æ¢¦æ°æ®åº",date:"2022-07-20T17:35:40.000Z",permalink:"/pages/086761/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/06.%E5%9B%BD%E4%BA%A7%E6%95%B0%E6%8D%AE%E5%BA%93/03.%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"03.æ°æ®åº/06.å½äº§æ°æ®åº/03.è¾¾æ¢¦æ°æ®åº.md",key:"v-1e74358a",path:"/pages/086761/",headers:[{level:2,title:"é¶ãå®æ¹ææ¡£",slug:"é¶ãå®æ¹ææ¡£",normalizedTitle:"é¶ãå®æ¹ææ¡£",charIndex:2},{level:2,title:"ä¸ãæ°æ®åºå®è£",slug:"ä¸ãæ°æ®åºå®è£",normalizedTitle:"ä¸ãæ°æ®åºå®è£",charIndex:224},{level:4,title:"åæåå¤",slug:"åæåå¤",normalizedTitle:"åæåå¤",charIndex:235},{level:4,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:229},{level:4,title:"åå§å",slug:"åå§å",normalizedTitle:"åå§å",charIndex:3618},{level:4,title:"æ³¨åæ°æ®åºæå¡ï¼å¯å¨æ°æ®åº",slug:"æ³¨åæ°æ®åºæå¡-å¯å¨æ°æ®åº",normalizedTitle:"æ³¨åæ°æ®åºæå¡ï¼å¯å¨æ°æ®åº",charIndex:4300},{level:2,title:"äºãåå»ºOracle To è¾¾æ¢¦çDBlinkï¼OCIæ¹å¼ï¼",slug:"äºãåå»ºoracle-to-è¾¾æ¢¦çdblink-ociæ¹å¼",normalizedTitle:"äºãåå»ºoracle to è¾¾æ¢¦çdblinkï¼ociæ¹å¼ï¼",charIndex:5428},{level:4,title:"ç¯å¢åå¤",slug:"ç¯å¢åå¤",normalizedTitle:"ç¯å¢åå¤",charIndex:5468},{level:4,title:"å·¥å·åå¤",slug:"å·¥å·åå¤",normalizedTitle:"å·¥å·åå¤",charIndex:5628},{level:4,title:"Oracle OCIå®è£éç½®ï¼è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨ï¼",slug:"oracle-ociå®è£éç½®-è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨",normalizedTitle:"oracle ociå®è£éç½®ï¼è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨ï¼",charIndex:5715},{level:2,title:"æ°æ®åºè°ä¼æ¹é¢",slug:"æ°æ®åºè°ä¼æ¹é¢",normalizedTitle:"æ°æ®åºè°ä¼æ¹é¢",charIndex:6596},{level:3,title:"æ°æ®åºç»è®¡ä¿¡æ¯",slug:"æ°æ®åºç»è®¡ä¿¡æ¯",normalizedTitle:"æ°æ®åºç»è®¡ä¿¡æ¯",charIndex:6617},{level:4,title:"èªå¨æ¶é",slug:"èªå¨æ¶é",normalizedTitle:"èªå¨æ¶é",charIndex:6628},{level:4,title:"æå¨æ¶é",slug:"æå¨æ¶é",normalizedTitle:"æå¨æ¶é",charIndex:9619},{level:3,title:"ET å·¥å·",slug:"et-å·¥å·",normalizedTitle:"et å·¥å·",charIndex:10867},{level:3,title:"dbms_sqltune å·¥å·",slug:"dbms-sqltune-å·¥å·",normalizedTitle:"dbms_sqltune å·¥å·",charIndex:11324},{level:3,title:"Hints",slug:"hints",normalizedTitle:"hints",charIndex:11851},{level:4,title:"INI åæ°æç¤º",slug:"ini-åæ°æç¤º",normalizedTitle:"ini åæ°æç¤º",charIndex:12055},{level:4,title:"ç´¢å¼æç¤º",slug:"ç´¢å¼æç¤º",normalizedTitle:"ç´¢å¼æç¤º",charIndex:12280},{level:4,title:"è¿æ¥æ¹æ³æç¤º",slug:"è¿æ¥æ¹æ³æç¤º",normalizedTitle:"è¿æ¥æ¹æ³æç¤º",charIndex:12431},{level:4,title:"è¿æ¥é¡ºåºæç¤º",slug:"è¿æ¥é¡ºåºæç¤º",normalizedTitle:"è¿æ¥é¡ºåºæç¤º",charIndex:13472},{level:4,title:"ç»è®¡ä¿¡æ¯æç¤º",slug:"ç»è®¡ä¿¡æ¯æç¤º",normalizedTitle:"ç»è®¡ä¿¡æ¯æç¤º",charIndex:14016},{level:4,title:"å¶ä» Hint",slug:"å¶ä»-hint",normalizedTitle:"å¶ä» hint",charIndex:14164},{level:2,title:"DTS è¿ç§»",slug:"dts-è¿ç§»",normalizedTitle:"dts è¿ç§»",charIndex:14736},{level:4,title:"æ³¨æäºé¡¹",slug:"æ³¨æäºé¡¹",normalizedTitle:"æ³¨æäºé¡¹",charIndex:14746},{level:2,title:"å¸¸ç¨SQL",slug:"å¸¸ç¨sql",normalizedTitle:"å¸¸ç¨sql",charIndex:14969},{level:4,title:"åå®¢",slug:"åå®¢",normalizedTitle:"åå®¢",charIndex:14978},{level:3,title:"æ°å»ºç¨æ·åè¡¨ç©ºé´",slug:"æ°å»ºç¨æ·åè¡¨ç©ºé´",normalizedTitle:"æ°å»ºç¨æ·åè¡¨ç©ºé´",charIndex:15002},{level:3,title:"åæ°æ®è·å",slug:"åæ°æ®è·å",normalizedTitle:"åæ°æ®è·å",charIndex:15505},{level:4,title:"å¸¸ç¨ç³»ç»è§å¾",slug:"å¸¸ç¨ç³»ç»è§å¾",normalizedTitle:"å¸¸ç¨ç³»ç»è§å¾",charIndex:15514},{level:4,title:"å»ºè¡¨è¯­å¥è·å",slug:"å»ºè¡¨è¯­å¥è·å",normalizedTitle:"å»ºè¡¨è¯­å¥è·å",charIndex:16205},{level:4,title:"æ¥è¯¢è¡¨ç©ºé´å ç¨ç",slug:"æ¥è¯¢è¡¨ç©ºé´å ç¨ç",normalizedTitle:"æ¥è¯¢è¡¨ç©ºé´å ç¨ç",charIndex:17881},{level:4,title:"æ¥çåè¡¨ï¼ç´¢å¼ï¼å ç¨ç©ºé´",slug:"æ¥çåè¡¨-ç´¢å¼-å ç¨ç©ºé´",normalizedTitle:"æ¥çåè¡¨ï¼ç´¢å¼ï¼å ç¨ç©ºé´",charIndex:18244},{level:4,title:"æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤",slug:"æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤",normalizedTitle:"æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤",charIndex:18585},{level:4,title:"æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³»",slug:"æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³»",normalizedTitle:"æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³»",charIndex:18726},{level:3,title:"é®é¢ææ¥",slug:"é®é¢ææ¥",normalizedTitle:"é®é¢ææ¥",charIndex:18884},{level:4,title:"æ¥è¯¢éè¡¨ & æä¼è¯",slug:"æ¥è¯¢éè¡¨-æä¼è¯",normalizedTitle:"æ¥è¯¢éè¡¨ &amp; æä¼è¯",charIndex:null},{level:4,title:"æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç SQL",slug:"æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç-sql",normalizedTitle:"æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç sql",charIndex:19616},{level:4,title:"æ¥è¯¢è¡¨ä¸çé",slug:"æ¥è¯¢è¡¨ä¸çé",normalizedTitle:"æ¥è¯¢è¡¨ä¸çé",charIndex:19795},{level:4,title:"æ¹éç¦ç¨æä¸ªç¨æ·/æ¨¡å¼ä¸ææå¤é®çº¦æ",slug:"æ¹éç¦ç¨æä¸ªç¨æ·-æ¨¡å¼ä¸ææå¤é®çº¦æ",normalizedTitle:"æ¹éç¦ç¨æä¸ªç¨æ·/æ¨¡å¼ä¸ææå¤é®çº¦æ",charIndex:20439},{level:4,title:"ç¨æ·éå®/è§£é",slug:"ç¨æ·éå®-è§£é",normalizedTitle:"ç¨æ·éå®/è§£é",charIndex:20676},{level:2,title:"FAQ",slug:"faq",normalizedTitle:"faq",charIndex:20986},{level:4,title:"å¤§æ°æ®éè¡¨å å­æ®µæ¢",slug:"å¤§æ°æ®éè¡¨å å­æ®µæ¢",normalizedTitle:"å¤§æ°æ®éè¡¨å å­æ®µæ¢",charIndex:20993}],headersStr:"é¶ãå®æ¹ææ¡£ ä¸ãæ°æ®åºå®è£ åæåå¤ å®è£ åå§å æ³¨åæ°æ®åºæå¡ï¼å¯å¨æ°æ®åº äºãåå»ºOracle To è¾¾æ¢¦çDBlinkï¼OCIæ¹å¼ï¼ ç¯å¢åå¤ å·¥å·åå¤ Oracle OCIå®è£éç½®ï¼è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨ï¼ æ°æ®åºè°ä¼æ¹é¢ æ°æ®åºç»è®¡ä¿¡æ¯ èªå¨æ¶é æå¨æ¶é ET å·¥å· dbms_sqltune å·¥å· Hints INI åæ°æç¤º ç´¢å¼æç¤º è¿æ¥æ¹æ³æç¤º è¿æ¥é¡ºåºæç¤º ç»è®¡ä¿¡æ¯æç¤º å¶ä» Hint DTS è¿ç§» æ³¨æäºé¡¹ å¸¸ç¨SQL åå®¢ æ°å»ºç¨æ·åè¡¨ç©ºé´ åæ°æ®è·å å¸¸ç¨ç³»ç»è§å¾ å»ºè¡¨è¯­å¥è·å æ¥è¯¢è¡¨ç©ºé´å ç¨ç æ¥çåè¡¨ï¼ç´¢å¼ï¼å ç¨ç©ºé´ æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤ æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³» é®é¢ææ¥ æ¥è¯¢éè¡¨ & æä¼è¯ æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç SQL æ¥è¯¢è¡¨ä¸çé æ¹éç¦ç¨æä¸ªç¨æ·/æ¨¡å¼ä¸ææå¤é®çº¦æ ç¨æ·éå®/è§£é FAQ å¤§æ°æ®éè¡¨å å­æ®µæ¢",content:"# é¶ãå®æ¹ææ¡£\n\näº§åæå\n\nè¾¾æ¢¦æ°æ®åºéåç¨è¾¾æ¢¦æä¾çå·¥å·\n\n * DMæ§å¶å°å·¥å·ï¼æ¥ç dm.ini éç½®ï¼ä¸­ææè¿°éç½®ä¿¡æ¯ï¼ãå¤ä»½è¿å å®ç½å¨çº¿ææ¡£ï¼DMæ°æ®åºæå¡éç½®\n * DMå®¡è®¡åæå·¥å·\n * DMæ°æ®è¿ç§»å·¥å·ï¼ç¨äºè¾¾æ¢¦ä¸å¶ä»æ°æ®åºé´çæ°æ®è¿ç§»ï¼åå«è§å¾ãå­å¨è¿ç¨ãå½æ°ãè§¦åå¨ç­ï¼\n * DMæ§è½çè§å·¥å·ï¼æ§è½çæ§ï¼çº¿ç¨ãä¼è¯ãSQLãèµæºççæ§ï¼ãè°ä¼åå¯¼ï¼åå­éç½®ãçº¿ç¨éç½®ãç´¢å¼ä¼åï¼\n * SQLäº¤äºå¼æ¥è¯¢å·¥å·\n\n\n\n\n# ä¸ãæ°æ®åºå®è£\n\n# åæåå¤\n\n 1. åå»ºdmdbaç¨æ·,dinstallç»\n    \n    [root@localhost oracle]# groupadd dinstall && useradd -g dinstall dmdba && echo root|passwd --stdin dmdba\n    Changing password for user dmdba.\n    passwd: all authentication tokens updated successfully.\n    \n\n 2. å³é­é²ç«å¢åselinux\n 3. åå»ºè½¯ä»¶å®è£ç®å½ /opt/dmdbms && chown dmdba:dinstall /opt/dmdbms\n 4. åå»ºæ°æ®ç®å½/opt/dmdata && chown dmdba:dinstall /opt/dmdata\n 5. ä¿®æ¹ç¨æ·èµæºéå¶\n    vi /etc/security/limits.conf å¢å ç¸åºéç½®\n    \n    dmdba hard nofile 131072\n    dmdba soft nofile 131072\n    dmdba soft nice 0\n    dmdba hard nice 0\n    dmdba soft as unlimited\n    dmdba hard as unlimited\n    dmdba soft fsize unlimited\n    dmdba hard fsize unlimited\n    dmdba soft nproc 131072\n    dmdba hard nproc 131072\n    dmdba soft data unlimited\n    dmdba hard data unlimited\n    dmdba soft core unlimited\n    dmdba hard core unlimited\n    dmdba soft memlock unlimited\n    dmdba hard memlock unlimited\n    \n\n 6. ä¸ä¼ å®è£åï¼è§£å unzip dm8_20220525_x86_rh6_64.zip\n 7. isoæè½½å°/mnt mount -o loop dm8_20220525_x86_rh6_64.iso /mnt/\n 8. åæ¶æè½½ umount /mnt/ ï¼å¨é¨å®è£å®æåæ§è¡ï¼\n\n# å®è£\n\n 1. åæ¢ç¨æ· dmdba è¿è¡å®è£\n\n 2. æ§è¡å®è£èæ¬ /mnt/DMInstall.bin -i\n    \n    [dmdba@localhost ~]$ /mnt/DMInstall.bin -i\n    Please select the installer's language (E/e:English C/c:Chinese) [E/e]:c\n    è§£åå®è£ç¨åº......... \n    æ¬¢è¿ä½¿ç¨è¾¾æ¢¦æ°æ®åºå®è£ç¨åº\n    \n    æ¯å¦è¾å¥Keyæä»¶è·¯å¾? (Y/y:æ¯ N/n:å¦) [Y/y]:n\n    \n    æ¯å¦è®¾ç½®æ¶åº? (Y/y:æ¯ N/n:å¦) [Y/y]:y\n    è®¾ç½®æ¶åº:\n    [ 1]: GTM-12=æ¥ççº¿è¥¿\n    [ 2]: GTM-11=è¨æ©äºç¾¤å²\n    [ 3]: GTM-10=å¤å¨å¤·\n    [ 4]: GTM-09=é¿ææ¯å \n    [ 5]: GTM-08=å¤ªå¹³æ´æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 6]: GTM-07=äºå©æ¡é£\n    [ 7]: GTM-06=ä¸­é¨æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 8]: GTM-05=ä¸é¨é¨æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 9]: GTM-04=å¤§è¥¿æ´æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [10]: GTM-03=å·´è¥¿å©äº\n    [11]: GTM-02=ä¸­å¤§è¥¿æ´\n    [12]: GTM-01=äºéå°ç¾¤å²\n    [13]: GTM=æ ¼æå¨æ²»æ åæ¶é´\n    [14]: GTM+01=è¨æç­çª\n    [15]: GTM+02=å¼ç½\n    [16]: GTM+03=è«æ¯ç§\n    [17]: GTM+04=é¿å¸ææ¯\n    [18]: GTM+05=ä¼æ¯å°å ¡\n    [19]: GTM+06=è¾¾å¡\n    [20]: GTM+07=æ¼è°·ï¼æ²³å\n    [21]: GTM+08=ä¸­å½æ åæ¶é´\n    [22]: GTM+09=æ±å\n    [23]: GTM+10=å³å²\n    [24]: GTM+11=æç½é¨ç¾¤å²\n    [25]: GTM+12=ææµ\n    [26]: GTM+13=åªåºé¿åæ³\n    [27]: GTM+14=åºéå·´æ¯\n    è¯·éæ©è®¾ç½®æ¶åº [6]:21\n    \n    å®è£ç±»å:\n    1 å¸åå®è£\n    2 æå¡å¨\n    3 å®¢æ·ç«¯\n    4 èªå®ä¹\n    è¯·éæ©å®è£ç±»åçæ°å­åºå· [1 å¸åå®è£]:1\n    æéç©ºé´: 1585M\n    \n    è¯·éæ©å®è£ç®å½ [/home/dmdba/dmdbms]:/opt/dmdbms\n    ç®å½(/opt/dmdbms)ä¸ä¸ä¸ºç©ºï¼è¯·éæ©å¶ä»ç®å½ã\n    è¯·éæ©å®è£ç®å½ [/home/dmdba/dmdbms]:/opt/dmdbms\n    å¯ç¨ç©ºé´: 13G\n    æ¯å¦ç¡®è®¤å®è£è·¯å¾(/opt/dmdbms)? (Y/y:æ¯ N/n:å¦)  [Y/y]:y\n    \n    å®è£åå°ç»\n    å®è£ä½ç½®: /opt/dmdbms\n    æéç©ºé´: 1585M\n    å¯ç¨ç©ºé´: 13G\n    çæ¬ä¿¡æ¯: \n    æææ¥æ: \n    å®è£ç±»å: å¸åå®è£\n    æ¯å¦ç¡®è®¤å®è£? (Y/y:æ¯ N/n:å¦):y\n    2022-07-18 19:00:36 \n    [INFO] å®è£è¾¾æ¢¦æ°æ®åº...\n    2022-07-18 19:00:37 \n    [INFO] å®è£ åºç¡ æ¨¡å...\n    2022-07-18 19:00:40 \n    [INFO] å®è£ æå¡å¨ æ¨¡å...\n    2022-07-18 19:00:40 \n    [INFO] å®è£ å®¢æ·ç«¯ æ¨¡å...\n    2022-07-18 19:00:42 \n    [INFO] å®è£ é©±å¨ æ¨¡å...\n    2022-07-18 19:00:43 \n    [INFO] å®è£ æå æ¨¡å...\n    2022-07-18 19:00:43 \n    [INFO] å®è£ æå¡ æ¨¡å...\n    2022-07-18 19:00:44 \n    [INFO] ç§»å¨æ¥å¿æä»¶ã\n    2022-07-18 19:00:44 \n    [INFO] å®è£è¾¾æ¢¦æ°æ®åºå®æã\n    \n    è¯·ä»¥rootç³»ç»ç¨æ·æ§è¡å½ä»¤:\n    /opt/dmdbms/script/root/root_installer.sh\n    \n    å®è£ç»æ\n    \n\n 3. rootæ§è¡èæ¬ /opt/dmdbms/script/root/root_installer.sh\n    \n    [root@localhost opt]# /opt/dmdbms/script/root/root_installer.sh\n    ç§»å¨ /opt/dmdbms/bin/dm_svc.conf å°/etcç®å½\n    ä¿®æ¹æå¡å¨æé\n    åå»ºDmAPServiceæå¡\n    Created symlink from /etc/systemd/system/multi-user.target.wants/DmAPService.service to /usr/lib/systemd/system/DmAPService.service.\n    åå»ºæå¡(DmAPService)å®æ\n    å¯å¨DmAPServiceæå¡\n    [root@localhost opt]#\n    \n\n# åå§å\n\n 1. æ§è¡åå§åèæ¬ ./dminit path=/opt/dmdata db_name=aihb instance_name=aihb\n    \n    [dmdba@localhost bin]$ pwd\n    /opt/dmdbms/bin\n    [dmdba@localhost bin]$ ./dminit path=/opt/dmdata db_name=aihb instance_name=aihb\n    initdb V8\n    db version: 0x7000c\n    file dm.key not found, use default license!\n    License will expire on 2023-05-25\n    Normal of FAST\n    Normal of DEFAULT\n    Normal of RECYCLE\n    Normal of KEEP\n    Normal of ROLL\n    \n     log file path: /opt/dmdata/aihb/aihb01.log\n    \n    \n     log file path: /opt/dmdata/aihb/aihb02.log\n    \n    write to dir [/opt/dmdata/aihb].\n    create dm database success. 2022-07-19 10:05:20\n    [dmdba@localhost bin]$ \n    \n\n# æ³¨åæ°æ®åºæå¡ï¼å¯å¨æ°æ®åº\n\n 1. è°ç¨è¾¾æ¢¦æä¾çèæ¬çææ°æ®åºæå¡,èªå¨å¯å¨æ°æ®åº,èæ¬å¨å®è£ç®å½ç/script/rootå­ç®å½ä¸,è°ç¨æ³¨åèæ¬éä½¿ç¨rootç¨æ· ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini -p aihb\n    \n    * è°ç¨dm_service_installer.shèæ¬æ¥çææå¡\n    * -t æå®éè¦åå»ºçæå¡ç±»å,è¿éæ¯æ°æ®åºæå¡æä»¥æ¯dmserver\n    * -dm_ini æå®å¨ä¸ä¸æ­¥åå§ååçæçdm.iniæä»¶\n    * -p ä¸ºçææå¡çåç¼å,å¯èªå®ä¹ï¼è¿éç»çczwï¼æä»¥åå»ºçæå¡åä¸ºDmServiceczw\n    \n    [root@localhost root]# pwd\n    /opt/dmdbms/script/root\n    [root@localhost root]# ll\n    total 48\n    -rwxr-xr-x. 1 dmdba dinstall 29111 Jul 19 10:00 dm_service_installer.sh\n    -rwxr-xr-x. 1 dmdba dinstall  9618 Jul 19 10:00 dm_service_uninstaller.sh\n    -rwxr-xr-x. 1 dmdba dinstall   635 Jul 19 10:00 root_installer.sh\n    [root@localhost root]# ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini\n    è¯·è®¾ç½®åæ°-p\n    [root@localhost root]# ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini -p aihb\n    Created symlink from /etc/systemd/system/multi-user.target.wants/DmServiceaihb.service to /usr/lib/systemd/system/DmServiceaihb.service.\n    åå»ºæå¡(DmServiceaihb)å®æ\n    [root@localhost root]# \n    \n\n 2. å¯å¨æ°æ®åº systemctl start DmServiceaihb\n\n\n# äºãåå»ºOracle To è¾¾æ¢¦çDBlinkï¼OCIæ¹å¼ï¼\n\nåèé¾æ¥\n\n# ç¯å¢åå¤\n\né®              å¼\næä½ç³»ç»           Centos 7\nOracleæ°æ®åº      11.2.0.4.0\nè¾¾æ¢¦æ°æ®åº          Centos 7 x86çæ¬\nè¾¾æ¢¦å®è£ç®å½         /opt/dmdbms\nOracle OCIä½ç½®   /opt/oracle\n\n# å·¥å·åå¤\n\nOracle OCIï¼ instantclient-basic-linux.x64-11.2.0.4.0.zipï¼ä¸ç³»ç»åOracleçæ¬å¯¹åºï¼ ä¸è½½å°å\n\n# Oracle OCIå®è£éç½®ï¼è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨ï¼\n\n 1. è¿å¥åæå¨çè·¯å¾å¹¶è§£åï¼\n    \n    cd /opt/oracle/ && unzip instantclient-basic-linux.x64-11.2.0.4.0.zip\n    \n\n 2. ï¼18.3 ä¹åççæ¬éè¦è¿ä¸æ­¥ï¼è¿å¥è§£ååç®å½åå»ºè½¯è¿æ¥ï¼\n    \n    cd instantclient_11_2 && ln -sfv libclntsh.so.11.1 libclntsh.so\n    \n\n 3. éç½®ç¯å¢åé\n    \n    * å°OCIæ·»å å°/etc/ld.so.conf.dç®å½ä¸ï¼ç³»ç»ç¨æ·ï¼\n      \n      echo /opt/oracle/instantclient_11_2 > /etc/ld.so.conf.d/oracle-instantclient.conf\n      \n    \n    * å è½½å¨æé¾æ¥åºï¼ä½¿ä¸ä¸æ­¥çæï¼ï¼ldconfig\n    * éç½®LD_LIBRARY_PATHç¯å¢åéï¼dmdbaç¨æ·ï¼\n      ä¿®æ¹dmdbaç¨æ·ä¸ç.bash_profileæä»¶ï¼vim ~/.bash_profileï¼ï¼æ·»å ä»¥ä¸åå®¹\n      \n      export LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/opt/oracle/instantclient_11_2\"\n      \n    \n    * å è½½ç¯å¢åéï¼ä½¿ä¸ä¸æ­¥çæï¼ï¼source ~/.bash_profile\n\n 4. å¯å¨ï¼éå¯è¾¾æ¢¦æ°æ®åº ç³»ç»ç¨æ·ï¼\n\nsystemctl restart DmServiceXXX #ï¼**å®éæå¡å**ï¼\n\n\n 5. åå»ºDBLinkï¼æ³¨ï¼ç¨æ·åä¸è¦å å¼å·ï¼\n\ncreate link LINKORA connect 'ORACLE' with username identified by \"password\" using 'x.x.x.x:1521/orcl';\n\n\n\n# æ°æ®åºè°ä¼æ¹é¢\n\næ§è½è¯æ­ä¸ä¼å\n\n\n# æ°æ®åºç»è®¡ä¿¡æ¯\n\n# èªå¨æ¶é\n\nDM æ°æ®åºæ¯æç»è®¡ä¿¡æ¯çèªå¨æ¶éï¼å½å¨è¡¨æ°æ®éååè¶è¿è®¾å®éå¼åå¯èªå¨æ´æ°ç»è®¡ä¿¡æ¯ã\n\n--æå¼è¡¨æ°æ®éçæ§å¼å³ï¼åæ°å¼ä¸º 1 æ¶çæ§ææè¡¨ï¼2 æ¶ä»çæ§éç½®è¡¨\nSP_SET_PARA_VALUE(1,'AUTO_STAT_OBJ',2);\n\n-- å¦æ AUTO_STAT_OBJ=2ï¼éè¿ä¸æ­¥ä½¿ç¨ DBMS_STATS.SET_TABLE_PREFS è®¾ç½® STALE_PERCENT å±æ§\n--è®¾ç½® SYSDBA.T è¡¨æ°æ®ååçè¶è¿ 15% æ¶è§¦åèªå¨æ´æ°ç»è®¡ä¿¡æ¯\nDBMS_STATS.SET_TABLE_PREFS('SYSDBA','T','STALE_PERCENT',15);\n\n--éç½®èªå¨æ¶éç»è®¡ä¿¡æ¯è§¦åæ¶æº\n-- åæ­¢æ¶æåä¸ä¸ªåæ°éç½®ä¸º0ï¼   åæ°å¼éåæéï¼ï¼ï¼ï¼\nSP_CREATE_AUTO_STAT_TRIGGER(1, 1, 1, 1,'1:00', '2025/3/12',60,1);\n\n/*\nå½æ°ååæ°ä»ç»\nSP_CREATE_AUTO_STAT_TRIGGER(\n    TYPE                    INT,    --é´éç±»åï¼é»è®¤ä¸ºå¤©\n    FREQ_INTERVAL         INT,    --é´éé¢çï¼é»è®¤ 1\n    FREQ_SUB_INTERVAL    INT,    --é´éé¢çï¼ä¸ FREQ_INTERVAL éåä½¿ç¨\n    FREQ_MINUTE_INTERVAL INT,    --é´éåéï¼é»è®¤ä¸º 1440\n    STARTTIME              VARCHAR(128), --å¼å§æ¶é´ï¼é»è®¤ä¸º 22:00\n    DURING_START_DATE    VARCHAR(128), --éå¤æ§è¡çèµ·å§æ¶é´ï¼é»è®¤ 1900/1/1\n    MAX_RUN_DURATION    INT,    --åè®¸çæé¿æ§è¡æ¶é´(ç§)ï¼é»è®¤ä¸éå¶\n    ENABLE                  INT     --0 å³é­ï¼1 å¯ç¨  --é»è®¤ä¸º 1\n);\n*/\n\n\næµè¯\n\nCREATE TABLE T(A INT);\ninsert into t select level connect by level<=20;\ncommit;\n\n-- SELECT * FROM SYSSTATTABLEIDU order by LAST_STAT_DT desc;\n\nSELECT *\n  FROM sysstats\n WHERE id IN (SELECT object_id\n                FROM dba_objects\n               WHERE object_type = 'TABLE'\n                 AND owner = 'OWNER'\n                 AND object_name = 'T');\n\n\nçæ§ç»è®¡ä¿¡æ¯æ¶éè¿ç¨\n\n-- åå»ºä¸ä¸ªç¨æ·è¡¨ AUTO_STAT_INFOï¼ç¨ä»¥ä¿å­èªå¨æ¶éè¿ç¨çç¸å³ä¿¡æ¯\n-- æå¥½æ¯ç³»ç»ç¨æ·å§ï¼ï¼ï¼SYSDBAï¼ï¼ï¼\ncreate table AUTO_STAT_INFO\n(\n   task_id               INT,\n   total_stat            INT,\n   table_id              INT,\n   sch_name              varchar(24),\n   table_name            varchar(24),\n   curr_gath_tab_id      INT,\n   curr_gath_sch_name    varchar(24),\n   curr_gath_tab_name    varchar(24),\n   success_stat          INT,\n   fail_stat             INT,\n   task_start_time       DATETIME,\n   task_end_time         DATETIME,\n   gather_tbl_start_time DATETIME,\n   gather_tbl_end_time   DATETIME\n);\n\n\n-- åå»ºè¿ç¨ SYSDBA.GET_AUTO_STAT_INFO_FUNCï¼æ¥æ¶æå¡å¨å¨èªå¨æ¶éç»è®¡ä¿¡æ¯æ¶çè¿ç¨ä¿¡æ¯ãå¹¶å¨æ¨¡åä½ç¼åç¨æ·ä»£ç ï¼å°è¿ç¨æ¶éçç»è®¡ä¿¡æ¯åå¥ AUTO_STAT_INFO ä¸­ã\nCREATE OR REPLACE PROCEDURE  SYSDBA.GET_AUTO_STAT_INFO_FUNC(task_id INT,total_stat INT,table_id INT, sch_name varchar(24), table_name varchar(24),curr_gath_tab_id INT, curr_gath_sch_name varchar(24), curr_gath_tab_name varchar(24),success_stat INT,fail_stat INT,task_start_time DATETIME, task_end_time DATETIME,gather_tbl_start_time DATETIME,gather_tbl_end_time DATETIME) as\nBEGIN\n//ä¸é¢æ¯ç¨æ·èªå®ä¹çä»£ç ï¼å°SYSDBA.GET_AUTO_STAT_INFO_FUNCè¿ç¨çä¿¡æ¯æå¥å°ç¨æ·è¡¨AUTO_STAT_INFO ä¸­\n    INSERT INTO AUTO_STAT_INFO VALUES(task_id,total_stat,table_id, sch_name,table_name,curr_gath_tab_id, curr_gath_sch_name, curr_gath_tab_name,success_stat ,fail_stat,task_start_time,task_end_time,gather_tbl_start_time,gather_tbl_end_time);\ncommit;\nEXCEPTION\n    WHEN OTHERS THEN\n        NULL;\nEND;\n/\n\n-- æåï¼è§£è¯»è¡¨ AUTO_STAT_INFOï¼ä»ç»ä¸æ¬¡èªå¨æ¶éç»è®¡ä¿¡æ¯ä»»å¡çç¸å³è¿ç¨ä¿¡æ¯ãå¦æ SP_CREATE_AUTO_STAT_TRIGGER è§¦åä¸æ¬¡èªå¨æ¶éç»è®¡ä¿¡æ¯ï¼å¨ä»»å¡å¼å§æ¶ï¼ä¼åè®°å½å½åä»»å¡çå¼å§æ¶é´ï¼å½åä»»å¡çå¾æ¶éè¡¨çæ»ä¸ªæ°ï¼ä»¥åæ¥ä¸æ¥å¾æ¶éçè¡¨ç idãä¹åæ¯æ¶éå®æä¸ä¸ªè¡¨çç»è®¡ä¿¡æ¯ï¼å°±ä¼è®°å½è¯¥è¡¨ table ç id åæ¶éè¯¥è¡¨çå¼å§åç»ææ¶é´ï¼åæªè³ç®åæ¶éæåå¤±è´¥çè¡¨ä¸ªæ°æåµï¼ä»¥åæ¥ä¸æ¥å¾æ¶éçè¡¨ç idãå¶ä¸­âæ¥ä¸æ¥å¾æ¶éçè¡¨ç idâå³ current_gather_tab_idï¼ä¸ºå½åæå¡å¨æ­£å¨æ¶éçè¡¨ idã\n\n\n# æå¨æ¶é\n\næ¥çæ¯å¦å·²æç»è®¡ä¿¡æ¯\n\n-- æ£æ¥è¡¨ä¸æ¯å¦æç»è®¡ä¿¡æ¯\nselect * from sysstats\nwhere id IN\n(\n  select object_id from dba_objects where\n  object_type='TABLE'\n  and owner = 'æ¨¡å¼å'\n  and object_name='è¡¨å'\n) ;\n\n\n-- ç¨äºç»è¿ GATHER_TABLE_STATSãGATHER_INDEX_STATS æ GATHER_SCHEMA_STATS æ¶éä¹åå±ç¤ºã\ndbms_stats.table_stats_show('æ¨¡å¼å','è¡¨å');\n\n\næ¶éç»è®¡ä¿¡æ¯\n\n1ãæ¶éå¨åºç»è®¡ä¿¡æ¯\nDBMS_STATS.GATHER_SCHEMA_STATS('HNSIMIS', 100,FALSE,'FOR ALL COLUMNS SIZE AUTO');--HNSIMISæ¯æ¨¡å¼å\n-- è¿ç§æ¶éæ¹å¼ï¼å¹¶ä¸æ¯100%æ¶éï¼æä»¥æä¸å®çå¼ç«¯ã\n\n2ãæ¶éè¡¨çç»è®¡ä¿¡æ¯\ndbms_stats.GATHER_TABLE_STATS('TEST','test',null,100);--æ¶éè¡¨çç»è®¡ä¿¡æ¯ï¼åæ¬ååç´¢å¼ç­ ç¬¬ä¸ä¸ªåæ°æ¯æ¨¡å¼ï¼ç¬¬äºä¸ªåæ°æ¯è¡¨ Nullæ¯ç¼ºçï¼100æ¯éæ ·ç100%ï¼é»è®¤ä¸æ¯ã\nDBMS_STATS.GATHER_TABLE_STATS('OWNER','TABLE_NAME',null,100,TRUE,'FOR ALL COLUMNS SIZE AUTO');\n\n3ãæ¶éåç»è®¡ä¿¡æ¯\nstat 100 on fw(CREATE_USERID); --æ¶éæä¸åçç»è®¡ä¿¡æ¯ fwæ¯è¡¨å CREATE_USERIDæ¯ååç§°\n-- è¿ä¸ªå¨åsqlè°ä¼çæ¶åæ¯è¾å¸¸ç¨ï¼å ä¸ºæ¯è¾åã\n\n4ãæ¶éç´¢å¼ç»è®¡ä¿¡æ¯\nsp_index_stat_init('DREAMWEB_PUDONG','IX_FW_ROWSTATE',100); --æ¶éç´¢å¼çç»è®¡ä¿¡æ¯ DREAMWEB_PUDONGæ¯æ¨¡å¼åç§° IX_FW_ROWSTATEæ¯ç´¢å¼åç§°\n-- è¿ä¸ªä¹æ¯è¾å¸¸ç¨ï¼å»ºè®®åå»ºå®ç´¢å¼ï¼ç«å»æ¶éä¸ç»è®¡ä¿¡æ¯ã\n\n-- æ¥é ç£çç©ºé´ä¸è¶³ -523[-523]: anonymous block line 2\n-- SYSTEMè¡¨ç©ºé´ ä¸è¶³\n\n\nå é¤ç»è®¡ä¿¡æ¯\n\n--è¡¨\nDBMS_STATS.DELETE_TABLE_STATS('æ¨¡å¼å','è¡¨å','ååºå',...);\n\n--æ¨¡å¼\nDBMS_STATS.DELETE_SCHMA_STATS('æ¨¡å¼å','','',...);\n\n--ç´¢å¼\nDBMS_STATS.DELETE_INDEX_STATS('æ¨¡å¼å','ç´¢å¼å','ååºè¡¨å',...);\n\n--å­æ®µ\nDBMS_STATS.DELETE_COLUMN_STATS('æ¨¡å¼å','è¡¨å','åå','ååºè¡¨å',...);\n\n\n\n# ET å·¥å·\n\nET å·¥å·æ¯ DM æ°æ®åºèªå¸¦ç SQL æ§è½åæå·¥å·ï¼è½å¤ç»è®¡ SQL è¯­å¥æ§è¡è¿ç¨ä¸­æ¯ä¸ªæä½ç¬¦çå®éå¼éï¼ä¸º SQL ä¼åæä¾ä¾æ®ä»¥åæå¯¼ã\n\n--æ¥çETæ¯å¦å¼å¯\nselect * from v$parameter t where NAME = 'MONITOR_SQL_EXEC';\nselect * from v$parameter t where NAME = 'ENABLE_MONITOR';\n--ENABLE_MONITORï¼å¨æåæ°(ç³»ç»çº§)\n--MONITOR_SQL_EXECï¼å¨æåæ°(ä¼è¯çº§)\n\n--å¼å¯ET\nSP_SET_PARA_VALUE(1,'ENABLE_MONITOR',1);\nSP_SET_PARA_VALUE(1,'MONITOR_SQL_EXEC',1);\n\n--å³é­ET\nSP_SET_PARA_VALUE(1,'ENABLE_MONITOR',0);\nSP_SET_PARA_VALUE(1,'MONITOR_SQL_EXEC',0);\n\n\n\n# dbms_sqltune å·¥å·\n\nDBMS_SQLTUNE åæä¾ä¸ç³»åå®æ¶ SQL çæ§çæ¹æ³ãå½ SQL çæ§åè½å¼å¯åï¼DBMS_SQLTUNE åå¯ä»¥å®æ¶çæ§ SQL æ§è¡è¿ç¨ä¸­çä¿¡æ¯ï¼åæ¬ï¼æ§è¡æ¶é´ãæ§è¡ä»£ä»·ãæ§è¡ç¨æ·ãç»è®¡ä¿¡æ¯ç­æåµã\ndbms_sqltune ç³»ç»åç¸æ¯ ET åè½æ´å¼ºå¤§ï¼è½å¤è·å IO æä½éï¼æ¥ççå®æ§è¡è®¡åï¼æ¯ä¸ªæä½ç¬¦æ¶èå æ¯åç¸åºçè±è´¹æ¶é´ï¼è¿è½çåºæ¯ä¸ªæä½ç¬¦æ§è¡çæ¬¡æ°ï¼éå¸¸ä¾¿äºäºè§£æ§è¡è®¡åä¸­ç¶é¢ä½ç½®ã\ndbms_sqltune åè½è¿ä¸æ­¢å®ä½æ§è¡è®¡åç¶é¢ï¼è¿æ¥æè°ä¼å©æåè½ï¼å»ºè®®æ§æç¤ºå»ºæç´¢å¼åæ¶éæç»è®¡ä¿¡æ¯ï¼ï¼å·ä½ä½¿ç¨ DM8 ç³»ç»åä½¿ç¨æåã\n\n-- 1. ä½¿ç¨åæï¼å»ºè®®ä¼è¯çº§å¼å¯åæ° MONITOR_SQL_EXEC=1ï¼è MONITOR_SQL_EXEC å¨è¾¾æ¢¦æ°æ®åºä¸­ä¸è¬é»è®¤æ¯ 1ï¼æ éè°æ´ã\nALTER SESSION SET 'MONITOR_SQL_EXEC' = 1;\n-- 2. <æ§è¡å¾ä¼åSQL>\n-- 3. æ¥çæ§è¡è®¡å\nselect DBMS_SQLTUNE.REPORT_SQL_MONITOR(SQL_EXEC_ID=>1213701) from dual;\n\n\n\n# Hints\n\nDM æ¥è¯¢ä¼åå¨éç¨åºäºä»£ä»·çæ¹æ³ãå¨ä¼°è®¡ä»£ä»·æ¶ï¼ä¸»è¦ä»¥ç»è®¡ä¿¡æ¯æèæ®éçæ°æ®åå¸ä¸ºä¾æ®ãå¨å¤§å¤æ°æåµä¸ï¼ä¼°è®¡çä»£ä»·é½æ¯åç¡®çãä½å¨ä¸äºæ¯è¾ç¹æ®çåºåï¼ä¾å¦ç¼ºå°ç»è®¡ä¿¡æ¯ï¼æç»è®¡ä¿¡æ¯éæ§ï¼ææ½æ ·æ°æ®ä¸è½å¾å¥½å°åæ æ°æ®åå¸æ¶ï¼ä¼åå¨éæ©çæ§è¡è®¡åä¸æ¯âæä¼âçï¼çè³å¯è½æ¯å¾å·®çæ§è¡è®¡åã\nå¦æ HINT çè¯­æ³æ²¡æåå¯¹ææå®çå¼ä¸æ­£ç¡®ï¼DM å¹¶ä¸ä¼æ¥éï¼èæ¯ç´æ¥å¿½ç¥ HINT ç»§ç»­æ§è¡ã\n\n# INI åæ°æç¤º\n\næ¯æä½¿ç¨ HINT ç INI åæ°å¯éè¿ V$HINT_INI_INFO å¨æè§å¾æ¥è¯¢ãæ¯æ HINT ç INI åæ°åä¸ºä¸¤ç±»ï¼ä¸æ¯ HINT_TYPE ä¸ºâOPTâï¼è¡¨ç¤ºåæé¶æ®µä½¿ç¨çåæ°ï¼äºæ¯ HINT_TYPE ä¸ºâEXECâï¼è¡¨ç¤ºè¿è¡é¶æ®µä½¿ç¨çåæ°ï¼è¿è¡é¶æ®µä½¿ç¨çåæ°å¯¹äºè§å¾æ æã\n\n * ä¾ï¼SELECT /*+ENABLE_HASH_JOIN(1)*/ * FROM T1,T2 WHERE C1=D1;\n\n# ç´¢å¼æç¤º\n\n-- ä½¿ç¨ç´¢å¼(å¦ææ¥è¯¢ä¸­ç»åºäºè¡¨çå«åé£ä¹å¿é¡»ä½¿ç¨å«å)ï¼\n/*+ INDEX (è¡¨å[,] ç´¢å¼å) {INDEX (è¡¨å[,] ç´¢å¼å)} */\n\n-- ä¸ä½¿ç¨ç´¢å¼ï¼\n/*+ NO_INDEX (è¡¨å[,] ç´¢å¼å) { NO_INDEX (è¡¨å[,] ç´¢å¼å)} */\n\n\n\n\n# è¿æ¥æ¹æ³æç¤º\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨æå®é¡ºåºçåå¸è¿æ¥\n/*+ USE_HASH(T1, T2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨æå®é¡ºåºçåå¸è¿æ¥\n/*+ NO_USE_HASH(T1, T2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨åµå¥å¾ªç¯è¿æ¥\n/*+ USE_NL(A, B) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨åµå¥å¾ªç¯è¿æ¥\n/*+ NO_USE_NL(A, B) */\n\n-- å½è¿æ¥æåµä¸ºå·¦è¡¨ + å³è¡¨ç´¢å¼æ¶ï¼å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨ç´¢å¼è¿æ¥\n/*+ USE_NL_WITH_INDEX(T1, IDX_T2_ID) */\n\n-- å½è¿æ¥æåµä¸ºå·¦è¡¨ + å³è¡¨ç´¢å¼æ¶ï¼å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨ç´¢å¼è¿æ¥\n/*+ NO_USE_NL_WITH_INDEX(T1, IDX_T2_ID) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨å½å¹¶è¿æ¥ãå½å¹¶è¿æ¥æç¨çä¸¤ä¸ªåé½å¿é¡»æ¯ç´¢å¼åã\n/*+ USE_MERGE(T1,T2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨å½å¹¶è¿æ¥\n/*+ NO_USE_MERGE(T1,T2) */\n\n-- ä¼åéç¨åè¿æ¥è½¬æ¢ä¸ºç­ä»·çåè¿æ¥ï¼ä» OPTIMIZER_MODE=1 ææã\n/*+ SEMI_GEN_CROSS  OPTIMIZER_MODE(1) */\n\n-- ä¸éç¨åè¿æ¥è½¬æ¢ä¸ºç­ä»·çåè¿æ¥ï¼ä» OPTIMIZER_MODE=1 ææã\n/*+ NO_SEMI_GEN_CROSS  OPTIMIZER_MODE(1) */\n\n-- ä¼åéç¨åéæ¹åæ¹å¼å®ç°è¿æ¥ï¼éåé©±å¨è¡¨æ°æ®éå°èå¦ä¸ä¾§è®¡åè¾å¤æçåºæ¯ï¼ç®åæ¯æåéæ¹åçè¿æ¥æ¹å¼æ NEST LOOP INNER JOIN2ãNEST LOOP LEFT JOIN2ãNEST LOOP SEMI JOIN2ï¼ä» OPTIMIZER_MODE=1 ææã\n/*+ USE_CVT_VAR OPTIMIZER_MODE(1) */\n\n-- ä¸èèåéæ¹åæ¹å¼å®ç°è¿æ¥ï¼ä» OPTIMIZER_MODE=1 ææã\n/*+ NO_USE_CVT_VAR OPTIMIZER_MODE(1) */\n\n-- ä¸è¬æåµä¸ï¼å½å¹¶è¿æ¥éè¦å·¦å³å­©å­çæ°æ®æç§è¿æ¥åæåºï¼ä½¿ç¨æ­¤ä¼åå¨æç¤ºæ¶ï¼ä¼åå¨å°èèéè¿æå¥æåºæä½ç¬¦çæ¹å¼å®ç°å½å¹¶è¿æ¥ï¼ä» OPTIMIZER_MODE=1 ææã\n/*+ENHANCED_MERGE_JOIN OPTIMIZER_MODE(1) stat(T1 1M) stat(T2 1M) */\n\n\n\n# è¿æ¥é¡ºåºæç¤º\n\n-- å¤è¡¨è¿æ¥æ¶ä¼åå¨ä¼èèåç§å¯è½çæåç»åé¡ºåºãä½¿ç¨ ORDER HINT æå®è¿æ¥é¡ºåºæç¤ºå¯ä»¥ç¼©å°ä¼åå¨è¯æ¢çæåç©ºé´ï¼è¿èå¾å°æ¥è¿ DBA æææçæ¥è¯¢è®¡åãå¦æè¿æ¥é¡ºåºåè¿æ¥æ¹æ³æç¤ºåæ¶æå®ä¸äºèé´å­å¨èªç¸çç¾ï¼ä¼åå¨ä¼ä»¥è¿æ¥é¡ºåºæç¤ºä¸ºåã\n/*+ ORDER (T1, T2 , T3, â¦ tn ) */\n\n/*\nå¦æææè¡¨çè¿æ¥é¡ºåºæ¯ T1, T2, T3ï¼é£ä¹å¯ä»¥å å¥è¿æ ·çæç¤ºï¼\nSELECT /*+ ORDER(T1, T2, T3 )*/* FROM T1, T2 , T3, T4 WHERE â¦\nå¨æå®ä¸è¿°è¿æ¥é¡ºåºåï¼T4,T1,T2,T3 æ T1,T2,T4,T3 ä¼è¢«èèï¼T3,T1,T2 æ T1,T3,T2 ä¸è¢«èèã\n*/\n\n-- æ´ç¹å®çæ§è¡è®¡å\n-- EXPLAIN SELECT /*+ OPTIMIZER_MODE(1), ORDER(T1,T2,T3,T4) ,USE_HASH(T1,T2), USE_HASH(T2,T3), USE_HASH(T3,T4)*/* FROM T1,T2,T3,T4 WHERE T1.c1=T2.d1 AND T2.d2 = T3.e2 AND T3.e1 = T4.f1;\n\n\n# ç»è®¡ä¿¡æ¯æç¤º\n\n-- ç»è®¡ä¿¡æ¯æç¤ºåªè½éå¯¹åºè¡¨è®¾ç½®ï¼è§å¾åæ´¾çè¡¨ç­å¯¹è±¡è®¾ç½®æ æãå¦æè¡¨å¯¹è±¡å­å¨å«ååå¿é¡»ä½¿ç¨å«åãè¡æ°åªè½ä½¿ç¨æ´æ°ï¼æèæ´æ° +Kï¼åï¼ï¼æ´æ° +Mï¼ç¾ä¸ï¼ï¼æ´æ° +Gï¼åäº¿ï¼ãè¡æ°æç¤ºè®¾ç½®åï¼ç»è®¡ä¿¡æ¯çå¶å®åå®¹ä¹ä¼åç¸åºçè°æ´ã\n/*+ STAT (è¡¨å, è¡æ°) *\n\n\n# å¶ä» Hint\n\nMPP æ¬å°å¯¹è±¡æç¤º\n\n-- MPP ç¯å¢ä¸ï¼æä¾ä¸ç§å°ç¨æ·è¡¨æå¨æè§å¾ä½ä¸ºæ¬å°å¯¹è±¡å¤ççæ¹æ³ï¼éè¿æç¤ºç¬¦ LOCAL_OBJECT(å¯¹è±¡å/å«å) è¿è¡å¤çã\n-- å¯¹äºç³»ç»è¡¨å½åæ¬å°å¯¹è±¡çå¤çï¼æ¬æ¹æ³ä¸éç¨ï¼ç³»ç»è¡¨åªè½å¨ä¸»ç«ç¹æè½åæ¬å°å¯¹è±¡å¤çã\n/*+ LOCAL_OBJECT(å¯¹è±¡å/å«å) */\n\n\nå¿½ç¥éå¤é®å¼æç¤º\n\n-- å½æ§è¡ INSERT æä½æ¶ï¼å¦æå­å¨ UNIQUE ç´¢å¼ï¼é£ä¹åçäºéå¤é®å¼å²çªãä½¿ç¨ HINT IGNORE_ROW_ON_DUPKEY_INDEX åå¯ä»¥å¿½ç¥è¯¥å²çªï¼å²çªæ°æ®æ¢ä¸è¿è¡æå¥ä¹ä¸ä¼æ¥éï¼å¶ä»éå²çªæå¥æ­£å¸¸è¿è¡ã\n/*+IGNORE_ROW_ON_DUPKEY_INDEX(<è¡¨å> [(<åå>{,<åå>})])*/\n\n\nç¦ç¨è®¡åç¼å­æç¤º\n\n-- ä½¿ç¨ HINT PLAN_NO_CACHE ç¦ç¨è®¡åç¼å­ï¼å½åè¯­å¥çæ§è¡è®¡åå°ä¸ä¼è¢«ç¼å­ã\n/*+PLAN_NO_CACHE*/\n\n\nDMDPC æ°æ®ååæ¹å¼æç¤º\n\nDMDPC ç¯å¢ä¸æä¾äºä¸ç§ä¸é¨éå¯¹æå®çè¿æ¥ãåç»ãæåºãå»éååæå½æ°æä½ç¬¦æ°æ®ååæ¹å¼è¿è¡äººå·¥å¹²é¢çä¼åå¨æç¤ºãè¯¥æç¤ºè¢«éçº³çåææ¯æå®çååè·¯å¾ææï¼å ä¸ºä»£ä»·åå æ²¡æè¢«ä¼åå¨éä¸­ã\n/*+DPC(ååæ¹å¼æ¢æµåºå· ååæ¹å¼å­ç¬¦ä¸²)*/\n\n\n\n# DTS è¿ç§»\n\n# æ³¨æäºé¡¹\n\n 1. ä¸å®è¦ç¨æ°çæ¬DTSå·¥å·ï¼æ§çæ¬ä¸å å\n 2. å¦æåè®¸çè¯ï¼è¿ç§»è¡¨å¾éå·²å­å¨çåå é¤è¡¨ååå»ºï¼ç»è¿å¥å¥æªæªçæ¥éï¼\n 3. æ°æ®åºåºåå¤§å°åæ¶ï¼æ¯å¦æå­æ®µåè½¬å¤§åçéé¡¹ï¼å»æ ä¿æå¯¹è±¡åå¤§å°å çå¾éï¼\n 4. è¡¨å·²å­å¨ä¸ä¸è½å è¡¨æ¶ï¼ä¸å®è¦åç¦ç¨è§¦åå¨ãç´¢å¼ç­ï¼Oracleä¸è½ç¦ç¨å¯ä¸ç´¢å¼ï¼DMä¸ç¥éè½è¡ä¸ï¼\n 5. æ¥éï¼æ°æ®è¿ç§» A æ¨¡å¼æ¶æ¥ B æ¨¡å¼ä¸»é®å²çªï¼åå å¯è½æ¯æ A æ¨¡å¼åæ­¥å° B æ¨¡å¼çè§¦åå¨\n\n\n# å¸¸ç¨SQL\n\n# åå®¢\n\nè¾¾æ¢¦8æ°æ®åºè¿ç»´å¸¸ç¨åºç¡sql\n\n\n# æ°å»ºç¨æ·åè¡¨ç©ºé´\n\n-- è¡¨ç©ºé´æä»¶\ncreate tablespace user_name datafile '/data/dmdata/DAMENG/user_name.DBF' size 61952 autoextend on next 512 maxsize 67108863 CACHE = NORMAL;  -- æå¤§64TB\n-- åå»ºç¨æ·æ¨¡å¼\nCREATE USER user_name IDENTIFIED BY \"PASSWD\"\n  DEFAULT TABLESPACE user_name\n  TEMPORARY TABLESPACE TEMP\n  QUOTA UNLIMITED ON user_name;\n-- ææ\nGRANT DBA TO user_name;\n\n\nDROP USER ç¨æ·å CASCADE;  -- å¼ºå¶å é¤ç¨æ·åå¶ææå¯¹è±¡\nSELECT TABLESPACE_NAME, SEGMENT_TYPE FROM DBA_SEGMENTS WHERE TABLESPACE_NAME = 'è¡¨ç©ºé´å';\nDROP TABLESPACE è¡¨ç©ºé´å ;\n\n\n\n# åæ°æ®è·å\n\n# å¸¸ç¨ç³»ç»è§å¾\n\nv$dynamic_tables å¯ä»¥è·åææå¨æè§å¾\n\nuser_tables  -- dba_tables\nuser_tab_columns\nuser_indexes\n-- æ¥çç³»ç»ä¸­çä½ä¸ä¿¡æ¯\nselect t.job, t.schema_user, t.last_date, t.last_sec, t.next_date, t.next_sec, t.\"INTERVAL\", t.broken, t.failures,t.what from dba_jobs t;\n-- æ¥è¯¢æ°æ®åºå®ä¾å¯å¨ç¶æ\nselect name, status$ from v$instance;\n-- æ¥è¯¢licenseä¿¡æ¯\nselect * from V$LICENSE;\n-- æ¥è¯¢ç³»ç»å½æ°åå¶åæ°\nselect a.name, b.* from v$ifun a, v$ifun_arg b where a.id = b.id and a.name like 'SF_ARCHIVELOG_%';  --ç³»ç»å½æ°å\n-- æ¥è¯¢å½æ°/å­å¨è¿ç¨/åæºç ä¿¡æ¯\nselect * from DBA_SOURCE t where name = 'P_TEST';  --æ¥è¯¢å¯¹è±¡å\n\n\nè§¦åå¨\n\nselect * from DBA_TRIGGERS where owner = 'xxx' and TABLE_NAME = 'xxx';\n\n-- ç¦ç¨å¯ç¨è§¦åå¨\nALTER TRIGGER è§¦åå¨åç§° DISABLE;\nALTER TRIGGER è§¦åå¨åç§° ENABLE;\n\n\n# å»ºè¡¨è¯­å¥è·å\n\nSELECT DBMS_METADATA.GET_DDL('TABLE', 'è¡¨å', 'æ¨¡å¼å') FROM DUAL;\n\n-- æªä½¿ç¨ï¼çè®ºä¸æ²¡é®é¢ï¼ä¸ç¥éæ¯å¦æéè¯¯çå°æ¹\nWITH TABLES AS\n (SELECT TABLE_NAME AS T_NAME, OWNER\n    FROM DBA_TABLES\n   WHERE OWNER = 'OWNER'\n     AND TABLE_NAME = 'TABLE_NAME')\n\nSELECT SUB.T_NAME,\n       LISTAGG(SQL_PART, CHR(13)) WITHIN GROUP(ORDER BY SUB.FLAG) AS FULL_DDL\n  FROM (\n        -- è¡¨å®ä¹\n        SELECT 1 AS FLAG,\n                T.T_NAME,\n                DBMS_METADATA.GET_DDL('TABLE', T.T_NAME, T.OWNER) || CHR(13) AS SQL_PART\n          FROM TABLES T\n        UNION ALL\n        -- è¡¨æ³¨é\n        SELECT 2 AS FLAG,\n                T.T_NAME,\n                'COMMENT ON TABLE ' || T.T_NAME || ' IS ''' || TC.COMMENTS || ''';' AS SQL_PART\n          FROM TABLES T\n          LEFT JOIN ALL_TAB_COMMENTS TC\n            ON TC.TABLE_NAME = T.T_NAME\n           AND TC.OWNER = T.OWNER\n         WHERE TC.COMMENTS IS NOT NULL\n        UNION ALL\n        -- å­æ®µæ³¨é\n        SELECT 3 AS FLAG,\n                T.T_NAME,\n                'COMMENT ON COLUMN ' || T.T_NAME || '.' || CC.COLUMN_NAME || ' IS ''' || CC.COMMENTS || ''';' AS SQL_PART\n          FROM TABLES T\n          LEFT JOIN ALL_COL_COMMENTS CC\n            ON CC.TABLE_NAME = T.T_NAME\n           AND CC.OWNER = T.OWNER\n         WHERE CC.COMMENTS IS NOT NULL\n        UNION ALL\n        -- ç´¢å¼å®ä¹\n        SELECT 4 AS FLAG,\n                T.T_NAME,\n                DBMS_METADATA.GET_DDL('INDEX', I.INDEX_NAME, T.OWNER) AS SQL_PART\n          FROM TABLES T\n          LEFT JOIN ALL_INDEXES I\n            ON I.TABLE_NAME = T.T_NAME\n           AND I.TABLE_OWNER = T.OWNER\n         WHERE I.INDEX_TYPE = 'NORMAL'\n           AND I.UNIQUENESS = 'NONUNIQUE') SUB\n GROUP BY SUB.T_NAME;\n\n\n# æ¥è¯¢è¡¨ç©ºé´å ç¨ç\n\nselect b.file_name,\n       b.tablespace_name,\n       b.bytes/1024/1024 size_m,\n       (b.bytes-(nvl(a.bytes,0)))/1024/1024  used_m,\n       round((b.bytes-(nvl(a.bytes,0)))/(b.bytes)*100,2)  usedrate\n  from dba_free_space a,dba_data_files b\n where a.file_id(+) = b.file_id\n   and a.tablespace_name(+) = b.tablespace_name\n order by b.tablespace_name;\n\n\n# æ¥çåè¡¨ï¼ç´¢å¼ï¼å ç¨ç©ºé´\n\n-- user_segments \n-- dba_segments\nselect  t.segment_name,\n       t.segment_type,\n       t.tablespace_name,\n       t.owner,\n       t.bytes,\n       t.bytes/1024 byte_kb,\n       t.bytes/1024 byte_mb\n  from dba_segments t\n where t.owner = 'DMHR'   -- ç¨æ·/æ¨¡å¼å \n   and t.SEGMENT_TYPE = 'TABLE'  -- 'INDEX'\n order by t.bytes desc;\n\n\n# æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤\n\nselect * from v$instance;    -- MODE$ä¸ºSTANDBY/PRIMARYæ¯ æ°æ®å®æ¤éç¾¤ï¼å¦åæ®éåæºæDSCéç¾¤\nselect * from v$dsc_ep_info;   -- è¿åç©º  åä¸æ¯dscéç¾¤\n\n\n# æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³»\n\nselect a.NAME schname, a.ID schid, b.id userid, b.NAME username\n  from sysobjects a, sysobjects b\nwhere a.\"TYPE$\"='SCH'\n  and a.pid = b.id;\n\n\n\n# é®é¢ææ¥\n\n# æ¥è¯¢éè¡¨ & æä¼è¯\n\n-- æ¥è¯¢éè¡¨\nSELECT obs.OBJECT_NAME, ob.OBJECT_ID, ob.SESSION_ID, ob.USERNAME\n  FROM V$LOCKED_OBJECT ob\n  JOIN DBA_OBJECTS obs\n    ON ob.OBJECT_ID = obs.OBJECT_ID\n WHERE obs.OBJECT_TYPE = 'TABLE';\n\n-- ç»æ­¢ä¼è¯\nSP_CLOSE_SESSION(SESS_ID); -- æ¿æ¢ä¸ºå®éä¼è¯ID\n\n-- æ¥è¯¢æ­£å¨æ§è¡çSQL\nselect * from v$sessions where state = 'ACTIVE';\n\n-- æ¥è¯¢é»å¡\nSELECT DS.SESS_ID     \"è¢«é»å¡çä¼è¯ID\",\n       DS.SQL_TEXT    \"è¢«é»å¡çSQL\",\n       DS.TRX_ID      \"è¢«é»å¡çäºå¡ID\",\n       DS.CREATE_TIME \"å¼å§é»å¡æ¶é´\",\n       SS.SESS_ID     \"å ç¨éçä¼è¯ID\",\n       SS.SQL_TEXT    \"å ç¨éçSQL\",\n       SS.CLNT_IP     \"å ç¨éçIP\",\n       L.wait_for_id  \"å ç¨éçäºå¡ID\"\n  FROM v$trxwait L\n  LEFT JOIN V$SESSIONS DS\n    ON DS.TRX_ID = L.ID\n  LEFT JOIN V$SESSIONS SS\n    ON SS.TRX_ID = L.wait_for_id;\n\n\n# æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç SQL\n\nSELECT t1.sess_id, t1.sql_text, t1.state, t1.trx_id\nFROM v$sessions t1, v$trx t2\nWHERE t1.trx_id = t2.id\n  AND t1.state = 'IDLE'\n  AND t2.status = 'ACTIVE';\n\n\n# æ¥è¯¢è¡¨ä¸çé\n\n 1. æ éï¼LOCK_MODE=0ï¼\n    è¡¨ç¤ºå½åæªå¯¹èµæºå éï¼ä»ä½ä¸ºéç¶ææ è¯å­å¨ã\n 2. å±äº«éï¼Séï¼LOCK_MODE=1ï¼\n    * åè®¸å¶ä»äºå¡è¯»åè¢«éèµæºï¼ä½ç¦æ­¢ä¿®æ¹ã\n    * éç¨äºè¯»å¤åå°çåºæ¯ï¼å¦ SELECT ... LOCK IN SHARE MODEã\n 3. æä»éï¼Xéï¼LOCK_MODE=2ï¼\n    * ç¦æ­¢å¶ä»äºå¡è¯»åè¢«éèµæºï¼ä»å½åäºå¡å¯ä¿®æ¹ã\n    * å¸¸ç¨äºæ°æ®æ´æ°æä½ï¼å¦ UPDATEãDELETEï¼ã\n 4. æåå±äº«éï¼ISéï¼LOCK_MODE=3ï¼\n    * è¡¨çº§éï¼è¡¨ç¤ºäºå¡è®¡åå¨è¡¨ä¸­æäºè¡ä¸æ·»å å±äº«éï¼Séï¼ã\n    * ä½ç¨ï¼éè¿æåå£°ææåï¼é¿åå¶ä»äºå¡å¯¹è¡¨ç»æè¿è¡ä¸å¼å®¹æä½ï¼å¦å Xéï¼ã\n 5. æåæä»éï¼IXéï¼LOCK_MODE=4ï¼\n    * è¡¨çº§éï¼è¡¨ç¤ºäºå¡è®¡åå¨è¡¨ä¸­æäºè¡ä¸æ·»å æä»éï¼Xéï¼ã\n    * ä½ç¨ï¼ä¸ISéç±»ä¼¼ï¼ä½ç¨äºæ´é«ç²åº¦çæä»æä½å£°æï¼ä¾å¦æ¹éæ´æ°åçé¢æ£æµã\n\nSELECT *\nFROM V$LOCK\nWHERE TABLE_ID IN (SELECT OBJECT_ID\n                   FROM DBA_OBJECTS\n                   WHERE OWNER = 'OWNER'\n                     AND OBJECT_NAME = 'OBJECT_NAME')\n\n\n# æ¹éç¦ç¨æä¸ªç¨æ·/æ¨¡å¼ä¸ææå¤é®çº¦æ\n\nå¶ä»ç´¢å¼åºè¯¥è½ä»¥åæ ·æ¹å¼æ¼æ¥ç¦ç¨è¯­å¥\n\nselect 'alter table '|| t.owner||'.'||t.table_name ||' disable constraint '||t.constraint_name||';'\n  from dba_constraints t\n where t.owner = 'DMHR'   -- ç¨æ·/æ¨¡å¼å\n   and t.constraint_type = 'R';\n\n\n# ç¨æ·éå®/è§£é\n\n-- æ¥è¯¢ç³»ç»ä¸­éå®çç¨æ·åå¯¹åºçéå®æ¶é´ï¼\nselect t.username, \n       t.user_id, \n       t.account_status, \n       t.lock_date\n  from dba_users t\n where t.account_status = 'LOCKED';\n\n-- å¯¹äºè¢«éå®çç¨æ·ï¼å¯ä»¥ä½¿ç¨SYSDBAæèå·æalter useræéçç¨æ·è§£éã\nalter user hruser ACCOUNT UNLOCK;   --è§£éç¨æ·\nalter user hruser ACCOUNT LOCK;      --éå®æç¨æ·\n\n\n\n# FAQ\n\n# å¤§æ°æ®éè¡¨å å­æ®µæ¢\n\n1. select SF_GET_SESSION_PARA_VALUE ('ALTER_TABLE_OPT');   -- æ¥è¯¢ä¼è¯åæ°\n2. ALTER SESSION SET 'ALTER_TABLE_OPT' = 2 PURGE;    -- ä¿®æ¹ä¼è¯åæ°\n3. ALTER SESSION SET 'ALTER_TABLE_OPT' = 0 PURGE;    -- æ¢å¤ä¼è¯åæ°ï¼å°0æ¿æ¢ä¸ºç¬¬1æ­¥ææ¥è¯¢åæ°ï¼\n",normalizedContent:"# é¶ãå®æ¹ææ¡£\n\näº§åæå\n\nè¾¾æ¢¦æ°æ®åºéåç¨è¾¾æ¢¦æä¾çå·¥å·\n\n * dmæ§å¶å°å·¥å·ï¼æ¥ç dm.ini éç½®ï¼ä¸­ææè¿°éç½®ä¿¡æ¯ï¼ãå¤ä»½è¿å å®ç½å¨çº¿ææ¡£ï¼dmæ°æ®åºæå¡éç½®\n * dmå®¡è®¡åæå·¥å·\n * dmæ°æ®è¿ç§»å·¥å·ï¼ç¨äºè¾¾æ¢¦ä¸å¶ä»æ°æ®åºé´çæ°æ®è¿ç§»ï¼åå«è§å¾ãå­å¨è¿ç¨ãå½æ°ãè§¦åå¨ç­ï¼\n * dmæ§è½çè§å·¥å·ï¼æ§è½çæ§ï¼çº¿ç¨ãä¼è¯ãsqlãèµæºççæ§ï¼ãè°ä¼åå¯¼ï¼åå­éç½®ãçº¿ç¨éç½®ãç´¢å¼ä¼åï¼\n * sqläº¤äºå¼æ¥è¯¢å·¥å·\n\n\n\n\n# ä¸ãæ°æ®åºå®è£\n\n# åæåå¤\n\n 1. åå»ºdmdbaç¨æ·,dinstallç»\n    \n    [root@localhost oracle]# groupadd dinstall && useradd -g dinstall dmdba && echo root|passwd --stdin dmdba\n    changing password for user dmdba.\n    passwd: all authentication tokens updated successfully.\n    \n\n 2. å³é­é²ç«å¢åselinux\n 3. åå»ºè½¯ä»¶å®è£ç®å½ /opt/dmdbms && chown dmdba:dinstall /opt/dmdbms\n 4. åå»ºæ°æ®ç®å½/opt/dmdata && chown dmdba:dinstall /opt/dmdata\n 5. ä¿®æ¹ç¨æ·èµæºéå¶\n    vi /etc/security/limits.conf å¢å ç¸åºéç½®\n    \n    dmdba hard nofile 131072\n    dmdba soft nofile 131072\n    dmdba soft nice 0\n    dmdba hard nice 0\n    dmdba soft as unlimited\n    dmdba hard as unlimited\n    dmdba soft fsize unlimited\n    dmdba hard fsize unlimited\n    dmdba soft nproc 131072\n    dmdba hard nproc 131072\n    dmdba soft data unlimited\n    dmdba hard data unlimited\n    dmdba soft core unlimited\n    dmdba hard core unlimited\n    dmdba soft memlock unlimited\n    dmdba hard memlock unlimited\n    \n\n 6. ä¸ä¼ å®è£åï¼è§£å unzip dm8_20220525_x86_rh6_64.zip\n 7. isoæè½½å°/mnt mount -o loop dm8_20220525_x86_rh6_64.iso /mnt/\n 8. åæ¶æè½½ umount /mnt/ ï¼å¨é¨å®è£å®æåæ§è¡ï¼\n\n# å®è£\n\n 1. åæ¢ç¨æ· dmdba è¿è¡å®è£\n\n 2. æ§è¡å®è£èæ¬ /mnt/dminstall.bin -i\n    \n    [dmdba@localhost ~]$ /mnt/dminstall.bin -i\n    please select the installer's language (e/e:english c/c:chinese) [e/e]:c\n    è§£åå®è£ç¨åº......... \n    æ¬¢è¿ä½¿ç¨è¾¾æ¢¦æ°æ®åºå®è£ç¨åº\n    \n    æ¯å¦è¾å¥keyæä»¶è·¯å¾? (y/y:æ¯ n/n:å¦) [y/y]:n\n    \n    æ¯å¦è®¾ç½®æ¶åº? (y/y:æ¯ n/n:å¦) [y/y]:y\n    è®¾ç½®æ¶åº:\n    [ 1]: gtm-12=æ¥ççº¿è¥¿\n    [ 2]: gtm-11=è¨æ©äºç¾¤å²\n    [ 3]: gtm-10=å¤å¨å¤·\n    [ 4]: gtm-09=é¿ææ¯å \n    [ 5]: gtm-08=å¤ªå¹³æ´æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 6]: gtm-07=äºå©æ¡é£\n    [ 7]: gtm-06=ä¸­é¨æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 8]: gtm-05=ä¸é¨é¨æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [ 9]: gtm-04=å¤§è¥¿æ´æ¶é´ï¼ç¾å½åå æ¿å¤§ï¼\n    [10]: gtm-03=å·´è¥¿å©äº\n    [11]: gtm-02=ä¸­å¤§è¥¿æ´\n    [12]: gtm-01=äºéå°ç¾¤å²\n    [13]: gtm=æ ¼æå¨æ²»æ åæ¶é´\n    [14]: gtm+01=è¨æç­çª\n    [15]: gtm+02=å¼ç½\n    [16]: gtm+03=è«æ¯ç§\n    [17]: gtm+04=é¿å¸ææ¯\n    [18]: gtm+05=ä¼æ¯å°å ¡\n    [19]: gtm+06=è¾¾å¡\n    [20]: gtm+07=æ¼è°·ï¼æ²³å\n    [21]: gtm+08=ä¸­å½æ åæ¶é´\n    [22]: gtm+09=æ±å\n    [23]: gtm+10=å³å²\n    [24]: gtm+11=æç½é¨ç¾¤å²\n    [25]: gtm+12=ææµ\n    [26]: gtm+13=åªåºé¿åæ³\n    [27]: gtm+14=åºéå·´æ¯\n    è¯·éæ©è®¾ç½®æ¶åº [6]:21\n    \n    å®è£ç±»å:\n    1 å¸åå®è£\n    2 æå¡å¨\n    3 å®¢æ·ç«¯\n    4 èªå®ä¹\n    è¯·éæ©å®è£ç±»åçæ°å­åºå· [1 å¸åå®è£]:1\n    æéç©ºé´: 1585m\n    \n    è¯·éæ©å®è£ç®å½ [/home/dmdba/dmdbms]:/opt/dmdbms\n    ç®å½(/opt/dmdbms)ä¸ä¸ä¸ºç©ºï¼è¯·éæ©å¶ä»ç®å½ã\n    è¯·éæ©å®è£ç®å½ [/home/dmdba/dmdbms]:/opt/dmdbms\n    å¯ç¨ç©ºé´: 13g\n    æ¯å¦ç¡®è®¤å®è£è·¯å¾(/opt/dmdbms)? (y/y:æ¯ n/n:å¦)  [y/y]:y\n    \n    å®è£åå°ç»\n    å®è£ä½ç½®: /opt/dmdbms\n    æéç©ºé´: 1585m\n    å¯ç¨ç©ºé´: 13g\n    çæ¬ä¿¡æ¯: \n    æææ¥æ: \n    å®è£ç±»å: å¸åå®è£\n    æ¯å¦ç¡®è®¤å®è£? (y/y:æ¯ n/n:å¦):y\n    2022-07-18 19:00:36 \n    [info] å®è£è¾¾æ¢¦æ°æ®åº...\n    2022-07-18 19:00:37 \n    [info] å®è£ åºç¡ æ¨¡å...\n    2022-07-18 19:00:40 \n    [info] å®è£ æå¡å¨ æ¨¡å...\n    2022-07-18 19:00:40 \n    [info] å®è£ å®¢æ·ç«¯ æ¨¡å...\n    2022-07-18 19:00:42 \n    [info] å®è£ é©±å¨ æ¨¡å...\n    2022-07-18 19:00:43 \n    [info] å®è£ æå æ¨¡å...\n    2022-07-18 19:00:43 \n    [info] å®è£ æå¡ æ¨¡å...\n    2022-07-18 19:00:44 \n    [info] ç§»å¨æ¥å¿æä»¶ã\n    2022-07-18 19:00:44 \n    [info] å®è£è¾¾æ¢¦æ°æ®åºå®æã\n    \n    è¯·ä»¥rootç³»ç»ç¨æ·æ§è¡å½ä»¤:\n    /opt/dmdbms/script/root/root_installer.sh\n    \n    å®è£ç»æ\n    \n\n 3. rootæ§è¡èæ¬ /opt/dmdbms/script/root/root_installer.sh\n    \n    [root@localhost opt]# /opt/dmdbms/script/root/root_installer.sh\n    ç§»å¨ /opt/dmdbms/bin/dm_svc.conf å°/etcç®å½\n    ä¿®æ¹æå¡å¨æé\n    åå»ºdmapserviceæå¡\n    created symlink from /etc/systemd/system/multi-user.target.wants/dmapservice.service to /usr/lib/systemd/system/dmapservice.service.\n    åå»ºæå¡(dmapservice)å®æ\n    å¯å¨dmapserviceæå¡\n    [root@localhost opt]#\n    \n\n# åå§å\n\n 1. æ§è¡åå§åèæ¬ ./dminit path=/opt/dmdata db_name=aihb instance_name=aihb\n    \n    [dmdba@localhost bin]$ pwd\n    /opt/dmdbms/bin\n    [dmdba@localhost bin]$ ./dminit path=/opt/dmdata db_name=aihb instance_name=aihb\n    initdb v8\n    db version: 0x7000c\n    file dm.key not found, use default license!\n    license will expire on 2023-05-25\n    normal of fast\n    normal of default\n    normal of recycle\n    normal of keep\n    normal of roll\n    \n     log file path: /opt/dmdata/aihb/aihb01.log\n    \n    \n     log file path: /opt/dmdata/aihb/aihb02.log\n    \n    write to dir [/opt/dmdata/aihb].\n    create dm database success. 2022-07-19 10:05:20\n    [dmdba@localhost bin]$ \n    \n\n# æ³¨åæ°æ®åºæå¡ï¼å¯å¨æ°æ®åº\n\n 1. è°ç¨è¾¾æ¢¦æä¾çèæ¬çææ°æ®åºæå¡,èªå¨å¯å¨æ°æ®åº,èæ¬å¨å®è£ç®å½ç/script/rootå­ç®å½ä¸,è°ç¨æ³¨åèæ¬éä½¿ç¨rootç¨æ· ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini -p aihb\n    \n    * è°ç¨dm_service_installer.shèæ¬æ¥çææå¡\n    * -t æå®éè¦åå»ºçæå¡ç±»å,è¿éæ¯æ°æ®åºæå¡æä»¥æ¯dmserver\n    * -dm_ini æå®å¨ä¸ä¸æ­¥åå§ååçæçdm.iniæä»¶\n    * -p ä¸ºçææå¡çåç¼å,å¯èªå®ä¹ï¼è¿éç»çczwï¼æä»¥åå»ºçæå¡åä¸ºdmserviceczw\n    \n    [root@localhost root]# pwd\n    /opt/dmdbms/script/root\n    [root@localhost root]# ll\n    total 48\n    -rwxr-xr-x. 1 dmdba dinstall 29111 jul 19 10:00 dm_service_installer.sh\n    -rwxr-xr-x. 1 dmdba dinstall  9618 jul 19 10:00 dm_service_uninstaller.sh\n    -rwxr-xr-x. 1 dmdba dinstall   635 jul 19 10:00 root_installer.sh\n    [root@localhost root]# ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini\n    è¯·è®¾ç½®åæ°-p\n    [root@localhost root]# ./dm_service_installer.sh -t dmserver -dm_ini /opt/dmdata/aihb/dm.ini -p aihb\n    created symlink from /etc/systemd/system/multi-user.target.wants/dmserviceaihb.service to /usr/lib/systemd/system/dmserviceaihb.service.\n    åå»ºæå¡(dmserviceaihb)å®æ\n    [root@localhost root]# \n    \n\n 2. å¯å¨æ°æ®åº systemctl start dmserviceaihb\n\n\n# äºãåå»ºoracle to è¾¾æ¢¦çdblinkï¼ociæ¹å¼ï¼\n\nåèé¾æ¥\n\n# ç¯å¢åå¤\n\né®              å¼\næä½ç³»ç»           centos 7\noracleæ°æ®åº      11.2.0.4.0\nè¾¾æ¢¦æ°æ®åº          centos 7 x86çæ¬\nè¾¾æ¢¦å®è£ç®å½         /opt/dmdbms\noracle ociä½ç½®   /opt/oracle\n\n# å·¥å·åå¤\n\noracle ociï¼ instantclient-basic-linux.x64-11.2.0.4.0.zipï¼ä¸ç³»ç»åoracleçæ¬å¯¹åºï¼ ä¸è½½å°å\n\n# oracle ociå®è£éç½®ï¼è¾¾æ¢¦æ°æ®åºæå¨æå¡å¨ï¼\n\n 1. è¿å¥åæå¨çè·¯å¾å¹¶è§£åï¼\n    \n    cd /opt/oracle/ && unzip instantclient-basic-linux.x64-11.2.0.4.0.zip\n    \n\n 2. ï¼18.3 ä¹åççæ¬éè¦è¿ä¸æ­¥ï¼è¿å¥è§£ååç®å½åå»ºè½¯è¿æ¥ï¼\n    \n    cd instantclient_11_2 && ln -sfv libclntsh.so.11.1 libclntsh.so\n    \n\n 3. éç½®ç¯å¢åé\n    \n    * å°ociæ·»å å°/etc/ld.so.conf.dç®å½ä¸ï¼ç³»ç»ç¨æ·ï¼\n      \n      echo /opt/oracle/instantclient_11_2 > /etc/ld.so.conf.d/oracle-instantclient.conf\n      \n    \n    * å è½½å¨æé¾æ¥åºï¼ä½¿ä¸ä¸æ­¥çæï¼ï¼ldconfig\n    * éç½®ld_library_pathç¯å¢åéï¼dmdbaç¨æ·ï¼\n      ä¿®æ¹dmdbaç¨æ·ä¸ç.bash_profileæä»¶ï¼vim ~/.bash_profileï¼ï¼æ·»å ä»¥ä¸åå®¹\n      \n      export ld_library_path=\"$ld_library_path:/opt/oracle/instantclient_11_2\"\n      \n    \n    * å è½½ç¯å¢åéï¼ä½¿ä¸ä¸æ­¥çæï¼ï¼source ~/.bash_profile\n\n 4. å¯å¨ï¼éå¯è¾¾æ¢¦æ°æ®åº ç³»ç»ç¨æ·ï¼\n\nsystemctl restart dmservicexxx #ï¼**å®éæå¡å**ï¼\n\n\n 5. åå»ºdblinkï¼æ³¨ï¼ç¨æ·åä¸è¦å å¼å·ï¼\n\ncreate link linkora connect 'oracle' with username identified by \"password\" using 'x.x.x.x:1521/orcl';\n\n\n\n# æ°æ®åºè°ä¼æ¹é¢\n\næ§è½è¯æ­ä¸ä¼å\n\n\n# æ°æ®åºç»è®¡ä¿¡æ¯\n\n# èªå¨æ¶é\n\ndm æ°æ®åºæ¯æç»è®¡ä¿¡æ¯çèªå¨æ¶éï¼å½å¨è¡¨æ°æ®éååè¶è¿è®¾å®éå¼åå¯èªå¨æ´æ°ç»è®¡ä¿¡æ¯ã\n\n--æå¼è¡¨æ°æ®éçæ§å¼å³ï¼åæ°å¼ä¸º 1 æ¶çæ§ææè¡¨ï¼2 æ¶ä»çæ§éç½®è¡¨\nsp_set_para_value(1,'auto_stat_obj',2);\n\n-- å¦æ auto_stat_obj=2ï¼éè¿ä¸æ­¥ä½¿ç¨ dbms_stats.set_table_prefs è®¾ç½® stale_percent å±æ§\n--è®¾ç½® sysdba.t è¡¨æ°æ®ååçè¶è¿ 15% æ¶è§¦åèªå¨æ´æ°ç»è®¡ä¿¡æ¯\ndbms_stats.set_table_prefs('sysdba','t','stale_percent',15);\n\n--éç½®èªå¨æ¶éç»è®¡ä¿¡æ¯è§¦åæ¶æº\n-- åæ­¢æ¶æåä¸ä¸ªåæ°éç½®ä¸º0ï¼   åæ°å¼éåæéï¼ï¼ï¼ï¼\nsp_create_auto_stat_trigger(1, 1, 1, 1,'1:00', '2025/3/12',60,1);\n\n/*\nå½æ°ååæ°ä»ç»\nsp_create_auto_stat_trigger(\n    type                    int,    --é´éç±»åï¼é»è®¤ä¸ºå¤©\n    freq_interval         int,    --é´éé¢çï¼é»è®¤ 1\n    freq_sub_interval    int,    --é´éé¢çï¼ä¸ freq_interval éåä½¿ç¨\n    freq_minute_interval int,    --é´éåéï¼é»è®¤ä¸º 1440\n    starttime              varchar(128), --å¼å§æ¶é´ï¼é»è®¤ä¸º 22:00\n    during_start_date    varchar(128), --éå¤æ§è¡çèµ·å§æ¶é´ï¼é»è®¤ 1900/1/1\n    max_run_duration    int,    --åè®¸çæé¿æ§è¡æ¶é´(ç§)ï¼é»è®¤ä¸éå¶\n    enable                  int     --0 å³é­ï¼1 å¯ç¨  --é»è®¤ä¸º 1\n);\n*/\n\n\næµè¯\n\ncreate table t(a int);\ninsert into t select level connect by level<=20;\ncommit;\n\n-- select * from sysstattableidu order by last_stat_dt desc;\n\nselect *\n  from sysstats\n where id in (select object_id\n                from dba_objects\n               where object_type = 'table'\n                 and owner = 'owner'\n                 and object_name = 't');\n\n\nçæ§ç»è®¡ä¿¡æ¯æ¶éè¿ç¨\n\n-- åå»ºä¸ä¸ªç¨æ·è¡¨ auto_stat_infoï¼ç¨ä»¥ä¿å­èªå¨æ¶éè¿ç¨çç¸å³ä¿¡æ¯\n-- æå¥½æ¯ç³»ç»ç¨æ·å§ï¼ï¼ï¼sysdbaï¼ï¼ï¼\ncreate table auto_stat_info\n(\n   task_id               int,\n   total_stat            int,\n   table_id              int,\n   sch_name              varchar(24),\n   table_name            varchar(24),\n   curr_gath_tab_id      int,\n   curr_gath_sch_name    varchar(24),\n   curr_gath_tab_name    varchar(24),\n   success_stat          int,\n   fail_stat             int,\n   task_start_time       datetime,\n   task_end_time         datetime,\n   gather_tbl_start_time datetime,\n   gather_tbl_end_time   datetime\n);\n\n\n-- åå»ºè¿ç¨ sysdba.get_auto_stat_info_funcï¼æ¥æ¶æå¡å¨å¨èªå¨æ¶éç»è®¡ä¿¡æ¯æ¶çè¿ç¨ä¿¡æ¯ãå¹¶å¨æ¨¡åä½ç¼åç¨æ·ä»£ç ï¼å°è¿ç¨æ¶éçç»è®¡ä¿¡æ¯åå¥ auto_stat_info ä¸­ã\ncreate or replace procedure  sysdba.get_auto_stat_info_func(task_id int,total_stat int,table_id int, sch_name varchar(24), table_name varchar(24),curr_gath_tab_id int, curr_gath_sch_name varchar(24), curr_gath_tab_name varchar(24),success_stat int,fail_stat int,task_start_time datetime, task_end_time datetime,gather_tbl_start_time datetime,gather_tbl_end_time datetime) as\nbegin\n//ä¸é¢æ¯ç¨æ·èªå®ä¹çä»£ç ï¼å°sysdba.get_auto_stat_info_funcè¿ç¨çä¿¡æ¯æå¥å°ç¨æ·è¡¨auto_stat_info ä¸­\n    insert into auto_stat_info values(task_id,total_stat,table_id, sch_name,table_name,curr_gath_tab_id, curr_gath_sch_name, curr_gath_tab_name,success_stat ,fail_stat,task_start_time,task_end_time,gather_tbl_start_time,gather_tbl_end_time);\ncommit;\nexception\n    when others then\n        null;\nend;\n/\n\n-- æåï¼è§£è¯»è¡¨ auto_stat_infoï¼ä»ç»ä¸æ¬¡èªå¨æ¶éç»è®¡ä¿¡æ¯ä»»å¡çç¸å³è¿ç¨ä¿¡æ¯ãå¦æ sp_create_auto_stat_trigger è§¦åä¸æ¬¡èªå¨æ¶éç»è®¡ä¿¡æ¯ï¼å¨ä»»å¡å¼å§æ¶ï¼ä¼åè®°å½å½åä»»å¡çå¼å§æ¶é´ï¼å½åä»»å¡çå¾æ¶éè¡¨çæ»ä¸ªæ°ï¼ä»¥åæ¥ä¸æ¥å¾æ¶éçè¡¨ç idãä¹åæ¯æ¶éå®æä¸ä¸ªè¡¨çç»è®¡ä¿¡æ¯ï¼å°±ä¼è®°å½è¯¥è¡¨ table ç id åæ¶éè¯¥è¡¨çå¼å§åç»ææ¶é´ï¼åæªè³ç®åæ¶éæåå¤±è´¥çè¡¨ä¸ªæ°æåµï¼ä»¥åæ¥ä¸æ¥å¾æ¶éçè¡¨ç idãå¶ä¸­âæ¥ä¸æ¥å¾æ¶éçè¡¨ç idâå³ current_gather_tab_idï¼ä¸ºå½åæå¡å¨æ­£å¨æ¶éçè¡¨ idã\n\n\n# æå¨æ¶é\n\næ¥çæ¯å¦å·²æç»è®¡ä¿¡æ¯\n\n-- æ£æ¥è¡¨ä¸æ¯å¦æç»è®¡ä¿¡æ¯\nselect * from sysstats\nwhere id in\n(\n  select object_id from dba_objects where\n  object_type='table'\n  and owner = 'æ¨¡å¼å'\n  and object_name='è¡¨å'\n) ;\n\n\n-- ç¨äºç»è¿ gather_table_statsãgather_index_stats æ gather_schema_stats æ¶éä¹åå±ç¤ºã\ndbms_stats.table_stats_show('æ¨¡å¼å','è¡¨å');\n\n\næ¶éç»è®¡ä¿¡æ¯\n\n1ãæ¶éå¨åºç»è®¡ä¿¡æ¯\ndbms_stats.gather_schema_stats('hnsimis', 100,false,'for all columns size auto');--hnsimisæ¯æ¨¡å¼å\n-- è¿ç§æ¶éæ¹å¼ï¼å¹¶ä¸æ¯100%æ¶éï¼æä»¥æä¸å®çå¼ç«¯ã\n\n2ãæ¶éè¡¨çç»è®¡ä¿¡æ¯\ndbms_stats.gather_table_stats('test','test',null,100);--æ¶éè¡¨çç»è®¡ä¿¡æ¯ï¼åæ¬ååç´¢å¼ç­ ç¬¬ä¸ä¸ªåæ°æ¯æ¨¡å¼ï¼ç¬¬äºä¸ªåæ°æ¯è¡¨ nullæ¯ç¼ºçï¼100æ¯éæ ·ç100%ï¼é»è®¤ä¸æ¯ã\ndbms_stats.gather_table_stats('owner','table_name',null,100,true,'for all columns size auto');\n\n3ãæ¶éåç»è®¡ä¿¡æ¯\nstat 100 on fw(create_userid); --æ¶éæä¸åçç»è®¡ä¿¡æ¯ fwæ¯è¡¨å create_useridæ¯ååç§°\n-- è¿ä¸ªå¨åsqlè°ä¼çæ¶åæ¯è¾å¸¸ç¨ï¼å ä¸ºæ¯è¾åã\n\n4ãæ¶éç´¢å¼ç»è®¡ä¿¡æ¯\nsp_index_stat_init('dreamweb_pudong','ix_fw_rowstate',100); --æ¶éç´¢å¼çç»è®¡ä¿¡æ¯ dreamweb_pudongæ¯æ¨¡å¼åç§° ix_fw_rowstateæ¯ç´¢å¼åç§°\n-- è¿ä¸ªä¹æ¯è¾å¸¸ç¨ï¼å»ºè®®åå»ºå®ç´¢å¼ï¼ç«å»æ¶éä¸ç»è®¡ä¿¡æ¯ã\n\n-- æ¥é ç£çç©ºé´ä¸è¶³ -523[-523]: anonymous block line 2\n-- systemè¡¨ç©ºé´ ä¸è¶³\n\n\nå é¤ç»è®¡ä¿¡æ¯\n\n--è¡¨\ndbms_stats.delete_table_stats('æ¨¡å¼å','è¡¨å','ååºå',...);\n\n--æ¨¡å¼\ndbms_stats.delete_schma_stats('æ¨¡å¼å','','',...);\n\n--ç´¢å¼\ndbms_stats.delete_index_stats('æ¨¡å¼å','ç´¢å¼å','ååºè¡¨å',...);\n\n--å­æ®µ\ndbms_stats.delete_column_stats('æ¨¡å¼å','è¡¨å','åå','ååºè¡¨å',...);\n\n\n\n# et å·¥å·\n\net å·¥å·æ¯ dm æ°æ®åºèªå¸¦ç sql æ§è½åæå·¥å·ï¼è½å¤ç»è®¡ sql è¯­å¥æ§è¡è¿ç¨ä¸­æ¯ä¸ªæä½ç¬¦çå®éå¼éï¼ä¸º sql ä¼åæä¾ä¾æ®ä»¥åæå¯¼ã\n\n--æ¥çetæ¯å¦å¼å¯\nselect * from v$parameter t where name = 'monitor_sql_exec';\nselect * from v$parameter t where name = 'enable_monitor';\n--enable_monitorï¼å¨æåæ°(ç³»ç»çº§)\n--monitor_sql_execï¼å¨æåæ°(ä¼è¯çº§)\n\n--å¼å¯et\nsp_set_para_value(1,'enable_monitor',1);\nsp_set_para_value(1,'monitor_sql_exec',1);\n\n--å³é­et\nsp_set_para_value(1,'enable_monitor',0);\nsp_set_para_value(1,'monitor_sql_exec',0);\n\n\n\n# dbms_sqltune å·¥å·\n\ndbms_sqltune åæä¾ä¸ç³»åå®æ¶ sql çæ§çæ¹æ³ãå½ sql çæ§åè½å¼å¯åï¼dbms_sqltune åå¯ä»¥å®æ¶çæ§ sql æ§è¡è¿ç¨ä¸­çä¿¡æ¯ï¼åæ¬ï¼æ§è¡æ¶é´ãæ§è¡ä»£ä»·ãæ§è¡ç¨æ·ãç»è®¡ä¿¡æ¯ç­æåµã\ndbms_sqltune ç³»ç»åç¸æ¯ et åè½æ´å¼ºå¤§ï¼è½å¤è·å io æä½éï¼æ¥ççå®æ§è¡è®¡åï¼æ¯ä¸ªæä½ç¬¦æ¶èå æ¯åç¸åºçè±è´¹æ¶é´ï¼è¿è½çåºæ¯ä¸ªæä½ç¬¦æ§è¡çæ¬¡æ°ï¼éå¸¸ä¾¿äºäºè§£æ§è¡è®¡åä¸­ç¶é¢ä½ç½®ã\ndbms_sqltune åè½è¿ä¸æ­¢å®ä½æ§è¡è®¡åç¶é¢ï¼è¿æ¥æè°ä¼å©æåè½ï¼å»ºè®®æ§æç¤ºå»ºæç´¢å¼åæ¶éæç»è®¡ä¿¡æ¯ï¼ï¼å·ä½ä½¿ç¨ dm8 ç³»ç»åä½¿ç¨æåã\n\n-- 1. ä½¿ç¨åæï¼å»ºè®®ä¼è¯çº§å¼å¯åæ° monitor_sql_exec=1ï¼è monitor_sql_exec å¨è¾¾æ¢¦æ°æ®åºä¸­ä¸è¬é»è®¤æ¯ 1ï¼æ éè°æ´ã\nalter session set 'monitor_sql_exec' = 1;\n-- 2. <æ§è¡å¾ä¼åsql>\n-- 3. æ¥çæ§è¡è®¡å\nselect dbms_sqltune.report_sql_monitor(sql_exec_id=>1213701) from dual;\n\n\n\n# hints\n\ndm æ¥è¯¢ä¼åå¨éç¨åºäºä»£ä»·çæ¹æ³ãå¨ä¼°è®¡ä»£ä»·æ¶ï¼ä¸»è¦ä»¥ç»è®¡ä¿¡æ¯æèæ®éçæ°æ®åå¸ä¸ºä¾æ®ãå¨å¤§å¤æ°æåµä¸ï¼ä¼°è®¡çä»£ä»·é½æ¯åç¡®çãä½å¨ä¸äºæ¯è¾ç¹æ®çåºåï¼ä¾å¦ç¼ºå°ç»è®¡ä¿¡æ¯ï¼æç»è®¡ä¿¡æ¯éæ§ï¼ææ½æ ·æ°æ®ä¸è½å¾å¥½å°åæ æ°æ®åå¸æ¶ï¼ä¼åå¨éæ©çæ§è¡è®¡åä¸æ¯âæä¼âçï¼çè³å¯è½æ¯å¾å·®çæ§è¡è®¡åã\nå¦æ hint çè¯­æ³æ²¡æåå¯¹ææå®çå¼ä¸æ­£ç¡®ï¼dm å¹¶ä¸ä¼æ¥éï¼èæ¯ç´æ¥å¿½ç¥ hint ç»§ç»­æ§è¡ã\n\n# ini åæ°æç¤º\n\næ¯æä½¿ç¨ hint ç ini åæ°å¯éè¿ v$hint_ini_info å¨æè§å¾æ¥è¯¢ãæ¯æ hint ç ini åæ°åä¸ºä¸¤ç±»ï¼ä¸æ¯ hint_type ä¸ºâoptâï¼è¡¨ç¤ºåæé¶æ®µä½¿ç¨çåæ°ï¼äºæ¯ hint_type ä¸ºâexecâï¼è¡¨ç¤ºè¿è¡é¶æ®µä½¿ç¨çåæ°ï¼è¿è¡é¶æ®µä½¿ç¨çåæ°å¯¹äºè§å¾æ æã\n\n * ä¾ï¼select /*+enable_hash_join(1)*/ * from t1,t2 where c1=d1;\n\n# ç´¢å¼æç¤º\n\n-- ä½¿ç¨ç´¢å¼(å¦ææ¥è¯¢ä¸­ç»åºäºè¡¨çå«åé£ä¹å¿é¡»ä½¿ç¨å«å)ï¼\n/*+ index (è¡¨å[,] ç´¢å¼å) {index (è¡¨å[,] ç´¢å¼å)} */\n\n-- ä¸ä½¿ç¨ç´¢å¼ï¼\n/*+ no_index (è¡¨å[,] ç´¢å¼å) { no_index (è¡¨å[,] ç´¢å¼å)} */\n\n\n\n\n# è¿æ¥æ¹æ³æç¤º\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨æå®é¡ºåºçåå¸è¿æ¥\n/*+ use_hash(t1, t2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨æå®é¡ºåºçåå¸è¿æ¥\n/*+ no_use_hash(t1, t2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨åµå¥å¾ªç¯è¿æ¥\n/*+ use_nl(a, b) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨åµå¥å¾ªç¯è¿æ¥\n/*+ no_use_nl(a, b) */\n\n-- å½è¿æ¥æåµä¸ºå·¦è¡¨ + å³è¡¨ç´¢å¼æ¶ï¼å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨ç´¢å¼è¿æ¥\n/*+ use_nl_with_index(t1, idx_t2_id) */\n\n-- å½è¿æ¥æåµä¸ºå·¦è¡¨ + å³è¡¨ç´¢å¼æ¶ï¼å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨ç´¢å¼è¿æ¥\n/*+ no_use_nl_with_index(t1, idx_t2_id) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä½¿ç¨å½å¹¶è¿æ¥ãå½å¹¶è¿æ¥æç¨çä¸¤ä¸ªåé½å¿é¡»æ¯ç´¢å¼åã\n/*+ use_merge(t1,t2) */\n\n-- å¼ºå¶ä¸¤ä¸ªè¡¨é´ä¸è½ä½¿ç¨å½å¹¶è¿æ¥\n/*+ no_use_merge(t1,t2) */\n\n-- ä¼åéç¨åè¿æ¥è½¬æ¢ä¸ºç­ä»·çåè¿æ¥ï¼ä» optimizer_mode=1 ææã\n/*+ semi_gen_cross  optimizer_mode(1) */\n\n-- ä¸éç¨åè¿æ¥è½¬æ¢ä¸ºç­ä»·çåè¿æ¥ï¼ä» optimizer_mode=1 ææã\n/*+ no_semi_gen_cross  optimizer_mode(1) */\n\n-- ä¼åéç¨åéæ¹åæ¹å¼å®ç°è¿æ¥ï¼éåé©±å¨è¡¨æ°æ®éå°èå¦ä¸ä¾§è®¡åè¾å¤æçåºæ¯ï¼ç®åæ¯æåéæ¹åçè¿æ¥æ¹å¼æ nest loop inner join2ãnest loop left join2ãnest loop semi join2ï¼ä» optimizer_mode=1 ææã\n/*+ use_cvt_var optimizer_mode(1) */\n\n-- ä¸èèåéæ¹åæ¹å¼å®ç°è¿æ¥ï¼ä» optimizer_mode=1 ææã\n/*+ no_use_cvt_var optimizer_mode(1) */\n\n-- ä¸è¬æåµä¸ï¼å½å¹¶è¿æ¥éè¦å·¦å³å­©å­çæ°æ®æç§è¿æ¥åæåºï¼ä½¿ç¨æ­¤ä¼åå¨æç¤ºæ¶ï¼ä¼åå¨å°èèéè¿æå¥æåºæä½ç¬¦çæ¹å¼å®ç°å½å¹¶è¿æ¥ï¼ä» optimizer_mode=1 ææã\n/*+enhanced_merge_join optimizer_mode(1) stat(t1 1m) stat(t2 1m) */\n\n\n\n# è¿æ¥é¡ºåºæç¤º\n\n-- å¤è¡¨è¿æ¥æ¶ä¼åå¨ä¼èèåç§å¯è½çæåç»åé¡ºåºãä½¿ç¨ order hint æå®è¿æ¥é¡ºåºæç¤ºå¯ä»¥ç¼©å°ä¼åå¨è¯æ¢çæåç©ºé´ï¼è¿èå¾å°æ¥è¿ dba æææçæ¥è¯¢è®¡åãå¦æè¿æ¥é¡ºåºåè¿æ¥æ¹æ³æç¤ºåæ¶æå®ä¸äºèé´å­å¨èªç¸çç¾ï¼ä¼åå¨ä¼ä»¥è¿æ¥é¡ºåºæç¤ºä¸ºåã\n/*+ order (t1, t2 , t3, â¦ tn ) */\n\n/*\nå¦æææè¡¨çè¿æ¥é¡ºåºæ¯ t1, t2, t3ï¼é£ä¹å¯ä»¥å å¥è¿æ ·çæç¤ºï¼\nselect /*+ order(t1, t2, t3 )*/* from t1, t2 , t3, t4 where â¦\nå¨æå®ä¸è¿°è¿æ¥é¡ºåºåï¼t4,t1,t2,t3 æ t1,t2,t4,t3 ä¼è¢«èèï¼t3,t1,t2 æ t1,t3,t2 ä¸è¢«èèã\n*/\n\n-- æ´ç¹å®çæ§è¡è®¡å\n-- explain select /*+ optimizer_mode(1), order(t1,t2,t3,t4) ,use_hash(t1,t2), use_hash(t2,t3), use_hash(t3,t4)*/* from t1,t2,t3,t4 where t1.c1=t2.d1 and t2.d2 = t3.e2 and t3.e1 = t4.f1;\n\n\n# ç»è®¡ä¿¡æ¯æç¤º\n\n-- ç»è®¡ä¿¡æ¯æç¤ºåªè½éå¯¹åºè¡¨è®¾ç½®ï¼è§å¾åæ´¾çè¡¨ç­å¯¹è±¡è®¾ç½®æ æãå¦æè¡¨å¯¹è±¡å­å¨å«ååå¿é¡»ä½¿ç¨å«åãè¡æ°åªè½ä½¿ç¨æ´æ°ï¼æèæ´æ° +kï¼åï¼ï¼æ´æ° +mï¼ç¾ä¸ï¼ï¼æ´æ° +gï¼åäº¿ï¼ãè¡æ°æç¤ºè®¾ç½®åï¼ç»è®¡ä¿¡æ¯çå¶å®åå®¹ä¹ä¼åç¸åºçè°æ´ã\n/*+ stat (è¡¨å, è¡æ°) *\n\n\n# å¶ä» hint\n\nmpp æ¬å°å¯¹è±¡æç¤º\n\n-- mpp ç¯å¢ä¸ï¼æä¾ä¸ç§å°ç¨æ·è¡¨æå¨æè§å¾ä½ä¸ºæ¬å°å¯¹è±¡å¤ççæ¹æ³ï¼éè¿æç¤ºç¬¦ local_object(å¯¹è±¡å/å«å) è¿è¡å¤çã\n-- å¯¹äºç³»ç»è¡¨å½åæ¬å°å¯¹è±¡çå¤çï¼æ¬æ¹æ³ä¸éç¨ï¼ç³»ç»è¡¨åªè½å¨ä¸»ç«ç¹æè½åæ¬å°å¯¹è±¡å¤çã\n/*+ local_object(å¯¹è±¡å/å«å) */\n\n\nå¿½ç¥éå¤é®å¼æç¤º\n\n-- å½æ§è¡ insert æä½æ¶ï¼å¦æå­å¨ unique ç´¢å¼ï¼é£ä¹åçäºéå¤é®å¼å²çªãä½¿ç¨ hint ignore_row_on_dupkey_index åå¯ä»¥å¿½ç¥è¯¥å²çªï¼å²çªæ°æ®æ¢ä¸è¿è¡æå¥ä¹ä¸ä¼æ¥éï¼å¶ä»éå²çªæå¥æ­£å¸¸è¿è¡ã\n/*+ignore_row_on_dupkey_index(<è¡¨å> [(<åå>{,<åå>})])*/\n\n\nç¦ç¨è®¡åç¼å­æç¤º\n\n-- ä½¿ç¨ hint plan_no_cache ç¦ç¨è®¡åç¼å­ï¼å½åè¯­å¥çæ§è¡è®¡åå°ä¸ä¼è¢«ç¼å­ã\n/*+plan_no_cache*/\n\n\ndmdpc æ°æ®ååæ¹å¼æç¤º\n\ndmdpc ç¯å¢ä¸æä¾äºä¸ç§ä¸é¨éå¯¹æå®çè¿æ¥ãåç»ãæåºãå»éååæå½æ°æä½ç¬¦æ°æ®ååæ¹å¼è¿è¡äººå·¥å¹²é¢çä¼åå¨æç¤ºãè¯¥æç¤ºè¢«éçº³çåææ¯æå®çååè·¯å¾ææï¼å ä¸ºä»£ä»·åå æ²¡æè¢«ä¼åå¨éä¸­ã\n/*+dpc(ååæ¹å¼æ¢æµåºå· ååæ¹å¼å­ç¬¦ä¸²)*/\n\n\n\n# dts è¿ç§»\n\n# æ³¨æäºé¡¹\n\n 1. ä¸å®è¦ç¨æ°çæ¬dtså·¥å·ï¼æ§çæ¬ä¸å å\n 2. å¦æåè®¸çè¯ï¼è¿ç§»è¡¨å¾éå·²å­å¨çåå é¤è¡¨ååå»ºï¼ç»è¿å¥å¥æªæªçæ¥éï¼\n 3. æ°æ®åºåºåå¤§å°åæ¶ï¼æ¯å¦æå­æ®µåè½¬å¤§åçéé¡¹ï¼å»æ ä¿æå¯¹è±¡åå¤§å°å çå¾éï¼\n 4. è¡¨å·²å­å¨ä¸ä¸è½å è¡¨æ¶ï¼ä¸å®è¦åç¦ç¨è§¦åå¨ãç´¢å¼ç­ï¼oracleä¸è½ç¦ç¨å¯ä¸ç´¢å¼ï¼dmä¸ç¥éè½è¡ä¸ï¼\n 5. æ¥éï¼æ°æ®è¿ç§» a æ¨¡å¼æ¶æ¥ b æ¨¡å¼ä¸»é®å²çªï¼åå å¯è½æ¯æ a æ¨¡å¼åæ­¥å° b æ¨¡å¼çè§¦åå¨\n\n\n# å¸¸ç¨sql\n\n# åå®¢\n\nè¾¾æ¢¦8æ°æ®åºè¿ç»´å¸¸ç¨åºç¡sql\n\n\n# æ°å»ºç¨æ·åè¡¨ç©ºé´\n\n-- è¡¨ç©ºé´æä»¶\ncreate tablespace user_name datafile '/data/dmdata/dameng/user_name.dbf' size 61952 autoextend on next 512 maxsize 67108863 cache = normal;  -- æå¤§64tb\n-- åå»ºç¨æ·æ¨¡å¼\ncreate user user_name identified by \"passwd\"\n  default tablespace user_name\n  temporary tablespace temp\n  quota unlimited on user_name;\n-- ææ\ngrant dba to user_name;\n\n\ndrop user ç¨æ·å cascade;  -- å¼ºå¶å é¤ç¨æ·åå¶ææå¯¹è±¡\nselect tablespace_name, segment_type from dba_segments where tablespace_name = 'è¡¨ç©ºé´å';\ndrop tablespace è¡¨ç©ºé´å ;\n\n\n\n# åæ°æ®è·å\n\n# å¸¸ç¨ç³»ç»è§å¾\n\nv$dynamic_tables å¯ä»¥è·åææå¨æè§å¾\n\nuser_tables  -- dba_tables\nuser_tab_columns\nuser_indexes\n-- æ¥çç³»ç»ä¸­çä½ä¸ä¿¡æ¯\nselect t.job, t.schema_user, t.last_date, t.last_sec, t.next_date, t.next_sec, t.\"interval\", t.broken, t.failures,t.what from dba_jobs t;\n-- æ¥è¯¢æ°æ®åºå®ä¾å¯å¨ç¶æ\nselect name, status$ from v$instance;\n-- æ¥è¯¢licenseä¿¡æ¯\nselect * from v$license;\n-- æ¥è¯¢ç³»ç»å½æ°åå¶åæ°\nselect a.name, b.* from v$ifun a, v$ifun_arg b where a.id = b.id and a.name like 'sf_archivelog_%';  --ç³»ç»å½æ°å\n-- æ¥è¯¢å½æ°/å­å¨è¿ç¨/åæºç ä¿¡æ¯\nselect * from dba_source t where name = 'p_test';  --æ¥è¯¢å¯¹è±¡å\n\n\nè§¦åå¨\n\nselect * from dba_triggers where owner = 'xxx' and table_name = 'xxx';\n\n-- ç¦ç¨å¯ç¨è§¦åå¨\nalter trigger è§¦åå¨åç§° disable;\nalter trigger è§¦åå¨åç§° enable;\n\n\n# å»ºè¡¨è¯­å¥è·å\n\nselect dbms_metadata.get_ddl('table', 'è¡¨å', 'æ¨¡å¼å') from dual;\n\n-- æªä½¿ç¨ï¼çè®ºä¸æ²¡é®é¢ï¼ä¸ç¥éæ¯å¦æéè¯¯çå°æ¹\nwith tables as\n (select table_name as t_name, owner\n    from dba_tables\n   where owner = 'owner'\n     and table_name = 'table_name')\n\nselect sub.t_name,\n       listagg(sql_part, chr(13)) within group(order by sub.flag) as full_ddl\n  from (\n        -- è¡¨å®ä¹\n        select 1 as flag,\n                t.t_name,\n                dbms_metadata.get_ddl('table', t.t_name, t.owner) || chr(13) as sql_part\n          from tables t\n        union all\n        -- è¡¨æ³¨é\n        select 2 as flag,\n                t.t_name,\n                'comment on table ' || t.t_name || ' is ''' || tc.comments || ''';' as sql_part\n          from tables t\n          left join all_tab_comments tc\n            on tc.table_name = t.t_name\n           and tc.owner = t.owner\n         where tc.comments is not null\n        union all\n        -- å­æ®µæ³¨é\n        select 3 as flag,\n                t.t_name,\n                'comment on column ' || t.t_name || '.' || cc.column_name || ' is ''' || cc.comments || ''';' as sql_part\n          from tables t\n          left join all_col_comments cc\n            on cc.table_name = t.t_name\n           and cc.owner = t.owner\n         where cc.comments is not null\n        union all\n        -- ç´¢å¼å®ä¹\n        select 4 as flag,\n                t.t_name,\n                dbms_metadata.get_ddl('index', i.index_name, t.owner) as sql_part\n          from tables t\n          left join all_indexes i\n            on i.table_name = t.t_name\n           and i.table_owner = t.owner\n         where i.index_type = 'normal'\n           and i.uniqueness = 'nonunique') sub\n group by sub.t_name;\n\n\n# æ¥è¯¢è¡¨ç©ºé´å ç¨ç\n\nselect b.file_name,\n       b.tablespace_name,\n       b.bytes/1024/1024 size_m,\n       (b.bytes-(nvl(a.bytes,0)))/1024/1024  used_m,\n       round((b.bytes-(nvl(a.bytes,0)))/(b.bytes)*100,2)  usedrate\n  from dba_free_space a,dba_data_files b\n where a.file_id(+) = b.file_id\n   and a.tablespace_name(+) = b.tablespace_name\n order by b.tablespace_name;\n\n\n# æ¥çåè¡¨ï¼ç´¢å¼ï¼å ç¨ç©ºé´\n\n-- user_segments \n-- dba_segments\nselect  t.segment_name,\n       t.segment_type,\n       t.tablespace_name,\n       t.owner,\n       t.bytes,\n       t.bytes/1024 byte_kb,\n       t.bytes/1024 byte_mb\n  from dba_segments t\n where t.owner = 'dmhr'   -- ç¨æ·/æ¨¡å¼å \n   and t.segment_type = 'table'  -- 'index'\n order by t.bytes desc;\n\n\n# æ¥çè¾¾æ¢¦æ°æ®åºæ¯å¦æ¯éç¾¤\n\nselect * from v$instance;    -- mode$ä¸ºstandby/primaryæ¯ æ°æ®å®æ¤éç¾¤ï¼å¦åæ®éåæºædscéç¾¤\nselect * from v$dsc_ep_info;   -- è¿åç©º  åä¸æ¯dscéç¾¤\n\n\n# æ¥çæ¨¡å¼åç¨æ·å¯¹åºå³ç³»\n\nselect a.name schname, a.id schid, b.id userid, b.name username\n  from sysobjects a, sysobjects b\nwhere a.\"type$\"='sch'\n  and a.pid = b.id;\n\n\n\n# é®é¢ææ¥\n\n# æ¥è¯¢éè¡¨ & æä¼è¯\n\n-- æ¥è¯¢éè¡¨\nselect obs.object_name, ob.object_id, ob.session_id, ob.username\n  from v$locked_object ob\n  join dba_objects obs\n    on ob.object_id = obs.object_id\n where obs.object_type = 'table';\n\n-- ç»æ­¢ä¼è¯\nsp_close_session(sess_id); -- æ¿æ¢ä¸ºå®éä¼è¯id\n\n-- æ¥è¯¢æ­£å¨æ§è¡çsql\nselect * from v$sessions where state = 'active';\n\n-- æ¥è¯¢é»å¡\nselect ds.sess_id     \"è¢«é»å¡çä¼è¯id\",\n       ds.sql_text    \"è¢«é»å¡çsql\",\n       ds.trx_id      \"è¢«é»å¡çäºå¡id\",\n       ds.create_time \"å¼å§é»å¡æ¶é´\",\n       ss.sess_id     \"å ç¨éçä¼è¯id\",\n       ss.sql_text    \"å ç¨éçsql\",\n       ss.clnt_ip     \"å ç¨éçip\",\n       l.wait_for_id  \"å ç¨éçäºå¡id\"\n  from v$trxwait l\n  left join v$sessions ds\n    on ds.trx_id = l.id\n  left join v$sessions ss\n    on ss.trx_id = l.wait_for_id;\n\n\n# æ¥è¯¢å®ä¾ä¸­å·²æ§è¡æªæäº¤ç sql\n\nselect t1.sess_id, t1.sql_text, t1.state, t1.trx_id\nfrom v$sessions t1, v$trx t2\nwhere t1.trx_id = t2.id\n  and t1.state = 'idle'\n  and t2.status = 'active';\n\n\n# æ¥è¯¢è¡¨ä¸çé\n\n 1. æ éï¼lock_mode=0ï¼\n    è¡¨ç¤ºå½åæªå¯¹èµæºå éï¼ä»ä½ä¸ºéç¶ææ è¯å­å¨ã\n 2. å±äº«éï¼séï¼lock_mode=1ï¼\n    * åè®¸å¶ä»äºå¡è¯»åè¢«éèµæºï¼ä½ç¦æ­¢ä¿®æ¹ã\n    * éç¨äºè¯»å¤åå°çåºæ¯ï¼å¦ select ... lock in share modeã\n 3. æä»éï¼xéï¼lock_mode=2ï¼\n    * ç¦æ­¢å¶ä»äºå¡è¯»åè¢«éèµæºï¼ä»å½åäºå¡å¯ä¿®æ¹ã\n    * å¸¸ç¨äºæ°æ®æ´æ°æä½ï¼å¦ updateãdeleteï¼ã\n 4. æåå±äº«éï¼iséï¼lock_mode=3ï¼\n    * è¡¨çº§éï¼è¡¨ç¤ºäºå¡è®¡åå¨è¡¨ä¸­æäºè¡ä¸æ·»å å±äº«éï¼séï¼ã\n    * ä½ç¨ï¼éè¿æåå£°ææåï¼é¿åå¶ä»äºå¡å¯¹è¡¨ç»æè¿è¡ä¸å¼å®¹æä½ï¼å¦å xéï¼ã\n 5. æåæä»éï¼ixéï¼lock_mode=4ï¼\n    * è¡¨çº§éï¼è¡¨ç¤ºäºå¡è®¡åå¨è¡¨ä¸­æäºè¡ä¸æ·»å æä»éï¼xéï¼ã\n    * ä½ç¨ï¼ä¸iséç±»ä¼¼ï¼ä½ç¨äºæ´é«ç²åº¦çæä»æä½å£°æï¼ä¾å¦æ¹éæ´æ°åçé¢æ£æµã\n\nselect *\nfrom v$lock\nwhere table_id in (select object_id\n                   from dba_objects\n                   where owner = 'owner'\n                     and object_name = 'object_name')\n\n\n# æ¹éç¦ç¨æä¸ªç¨æ·/æ¨¡å¼ä¸ææå¤é®çº¦æ\n\nå¶ä»ç´¢å¼åºè¯¥è½ä»¥åæ ·æ¹å¼æ¼æ¥ç¦ç¨è¯­å¥\n\nselect 'alter table '|| t.owner||'.'||t.table_name ||' disable constraint '||t.constraint_name||';'\n  from dba_constraints t\n where t.owner = 'dmhr'   -- ç¨æ·/æ¨¡å¼å\n   and t.constraint_type = 'r';\n\n\n# ç¨æ·éå®/è§£é\n\n-- æ¥è¯¢ç³»ç»ä¸­éå®çç¨æ·åå¯¹åºçéå®æ¶é´ï¼\nselect t.username, \n       t.user_id, \n       t.account_status, \n       t.lock_date\n  from dba_users t\n where t.account_status = 'locked';\n\n-- å¯¹äºè¢«éå®çç¨æ·ï¼å¯ä»¥ä½¿ç¨sysdbaæèå·æalter useræéçç¨æ·è§£éã\nalter user hruser account unlock;   --è§£éç¨æ·\nalter user hruser account lock;      --éå®æç¨æ·\n\n\n\n# faq\n\n# å¤§æ°æ®éè¡¨å å­æ®µæ¢\n\n1. select sf_get_session_para_value ('alter_table_opt');   -- æ¥è¯¢ä¼è¯åæ°\n2. alter session set 'alter_table_opt' = 2 purge;    -- ä¿®æ¹ä¼è¯åæ°\n3. alter session set 'alter_table_opt' = 0 purge;    -- æ¢å¤ä¼è¯åæ°ï¼å°0æ¿æ¢ä¸ºç¬¬1æ­¥ææ¥è¯¢åæ°ï¼\n",charsets:{cjk:!0},lastUpdated:"2025/04/09, 14:11:14",lastUpdatedTimestamp:1744179074e3},{title:"åä¸ºé«æ¯æ°æ®åº",frontmatter:{title:"åä¸ºé«æ¯æ°æ®åº",date:"2022-07-21T11:18:24.000Z",permalink:"/pages/e461e3/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/06.%E5%9B%BD%E4%BA%A7%E6%95%B0%E6%8D%AE%E5%BA%93/09.%E5%8D%8E%E4%B8%BA%E9%AB%98%E6%96%AF%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"03.æ°æ®åº/06.å½äº§æ°æ®åº/09.åä¸ºé«æ¯æ°æ®åº.md",key:"v-656f9cf6",path:"/pages/e461e3/",headers:[{level:4,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:2},{level:4,title:"å³äºæ°æ®è¿ç§»",slug:"å³äºæ°æ®è¿ç§»",normalizedTitle:"å³äºæ°æ®è¿ç§»",charIndex:327},{level:4,title:"åæ°æ®ä½¿ç¨",slug:"åæ°æ®ä½¿ç¨",normalizedTitle:"åæ°æ®ä½¿ç¨",charIndex:763},{level:5,title:"åæ°æ®è¡¨æè§å¾",slug:"åæ°æ®è¡¨æè§å¾",normalizedTitle:"åæ°æ®è¡¨æè§å¾",charIndex:772},{level:5,title:"æ¥è¯¢æææ¨¡å¼",slug:"æ¥è¯¢æææ¨¡å¼",normalizedTitle:"æ¥è¯¢æææ¨¡å¼",charIndex:11744},{level:5,title:"æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é",slug:"æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é",normalizedTitle:"æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é",charIndex:11995},{level:5,title:"è¡¨åæ¥è¯¢å­æ®µå±æ§",slug:"è¡¨åæ¥è¯¢å­æ®µå±æ§",normalizedTitle:"è¡¨åæ¥è¯¢å­æ®µå±æ§",charIndex:12218},{level:5,title:"æ¥è¯¢è§å¾å®ä¹è¯­å¥",slug:"æ¥è¯¢è§å¾å®ä¹è¯­å¥",normalizedTitle:"æ¥è¯¢è§å¾å®ä¹è¯­å¥",charIndex:13118},{level:5,title:"æ¥è¯¢è¡¨å­æ®µä¿¡æ¯",slug:"æ¥è¯¢è¡¨å­æ®µä¿¡æ¯",normalizedTitle:"æ¥è¯¢è¡¨å­æ®µä¿¡æ¯",charIndex:13359},{level:4,title:"è¸©åæ¥è®°",slug:"è¸©åæ¥è®°",normalizedTitle:"è¸©åæ¥è®°",charIndex:13523},{level:5,title:"date å­æ®µç±»å",slug:"date-å­æ®µç±»å",normalizedTitle:"date å­æ®µç±»å",charIndex:13531}],headersStr:"ç®ä» å³äºæ°æ®è¿ç§» åæ°æ®ä½¿ç¨ åæ°æ®è¡¨æè§å¾ æ¥è¯¢æææ¨¡å¼ æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é è¡¨åæ¥è¯¢å­æ®µå±æ§ æ¥è¯¢è§å¾å®ä¹è¯­å¥ æ¥è¯¢è¡¨å­æ®µä¿¡æ¯ è¸©åæ¥è®° date å­æ®µç±»å",content:"# ç®ä»\n\nGaussDB(for openGauss)æ¯åºäºåä¸ºä¸»å¯¼çopenGaussçææ¨åºçä¼ä¸çº§åå¸å¼å³ç³»åæ°æ®åºãè¯¥äº§åå·å¤ä¼ä¸çº§å¤æäºå¡æ··åè´è½½è½åï¼åæ¶æ¯æåå¸å¼äºå¡ï¼ååè·¨AZé¨ç½²ï¼æ°æ®0ä¸¢å¤±ï¼æ¯æ1000+çæ©å±è½åï¼PBçº§æµ·éå­å¨ã\n\nç®åå®æ¹æ¶è´¹çæ¬ï¼ï¼2019å¹´10æå·¦å³ï¼å½ååæ¬¡è°æ´ï¼\n\n * gaussdb 100ï¼æ´åä¸º GaussDB T (ä»¥OLTPåéç¾¤ä¸ºæ¹åï¼å¨çº¿äºå¡å¤çï¼\n * gaussdb 200 åå¹¶ 300 çé¨åè®¾è®¡ï¼æ´åä¸º GaussDB A (ä¸»æOLAP å¨çº¿åæå¤çï¼\n * gaussdb 300 åå·åæ¶ï¼æ¶ååè½å¹¶å¥ 100 æ 200\n\nç®ååè´¹å¼æºçæ¬ï¼openGauss\n\n# å³äºæ°æ®è¿ç§»\n\nGaussDB æåæ¯ç± PostgreSQL å¼æºé¡¹ç®èªç èæ¥ï¼è½å ä¹å·²ç»æ¯å¨é¨èªç ï¼ä½è¿ä¿çäºé©±å¨åä»¥åé©±å¨ç±»ã\n\nå®æ¹æä¾äº3ä¸ªé©±å¨åï¼ï¼ä»»æä¸ä¸ªé½è¡ï¼ä½éæ³¨æå²çªé®é¢ï¼\n\n 1. gsjdbc4.jarï¼é©±å¨ç±»ä¸º org.postgresql.Driver\n\n> ä¸ PostgreSQL é©±å¨ç±»åä¸æ ·ï¼å¨æ  PostgreSQL æ¶ä½¿ç¨\n\n 2. gsjdbc200.jarï¼é©±å¨ç±»ä¸º com.huawei.gauss200.jdbc.Driver\n\n> è§£å³ç±»åå²çªé®é¢ï¼é¡¹ç®ä¸­åæ¶æ PostgreSQL å GaussDB æ¶ä½¿ç¨\n\n 3. openguassjdbc.jarï¼é©±å¨ç±»ä¸º com.huawei.opengauss.jdbc.Driver\n\nä»»æä¸ä¸ªé©±å¨ç±»é½è¡ï¼å¯ä»¥éè¿ä½¿ç¨ gsjdbc4.jar æ¿æ¢ DataxãKettle ç­å·¥å·ä¸­ PostgreSQL é©±å¨åï¼æ¥ä½¿å¶æ¯æ GaussDBï¼ä»èè¿è¡æ°æ®è¿ç§»ã\n\n# åæ°æ®ä½¿ç¨\n\n# åæ°æ®è¡¨æè§å¾\n\nç³»ç»è¡¨\n\nGS_                             PG_                            PG_                     -\nGS_AUDITING_POLICY              PG_AGGREGATE                   PG_NAMESPACE            PGXC_CLASS\nGS_AUDITING_POLICY_ACCESS       PG_AM                          PG_OBJECT               PGXC_GROUP\nGS_AUDITING_POLICY_FILTERS      PG_AMOP                        PG_OPCLASS              PGXC_NODE\nGS_AUDITING_POLICY_PRIVILEGES   PG_AMPROC                      PG_OPERATOR             PGXC_REDISTB\nGS_ASP                          PG_APP_WORKLOADGROUP_MAPPING   PG_OPFAMILY             PGXC_SLICE\nGS_CLIENT_GLOBAL_KEYS           PG_ATTRDEF                     PG_PARTITION            PLAN_TABLE_DATA\nGS_CLIENT_GLOBAL_KEYS_ARGS      PG_ATTRIBUTE                   PG_PLTEMPLATE           STATEMENT_HISTORY\nGS_COLUMN_KEYS                  PG_AUTHID                      PG_PROC                 STREAMING_STREAM\nGS_COLUMN_KEYS_ARGS             PG_AUTH_HISTORY                PG_PUBLICATION          STREAMING_CONT_QUERY\nGS_DB_PRIVILEGE                 PG_AUTH_MEMBERS                PG_PUBLICATION_REL      STREAMING_REAPER_STATUS\nGS_ENCRYPTED_COLUMNS            PG_CAST                        PG_RANGE                \nGS_ENCRYPTED_PROC               PG_CLASS                       PG_REPLICATION_ORIGIN   \nGS_GLOBAL_CHAIN                 PG_COLLATION                   PG_RESOURCE_POOL        \nGS_GLOBAL_CONFIG                PG_CONSTRAINT                  PG_REWRITE              \nGS_JOB_ATTRIBUTE                PG_CONVERSION                  PG_RLSPOLICY            \nGS_JOB_ARGUMENT                 PG_DATABASE                    PG_SECLABEL             \nGS_MASKING_POLICY               PG_DB_ROLE_SETTING             PG_SHDEPEND             \nGS_MASKING_POLICY_ACTIONS       PG_DEFAULT_ACL                 PG_SHDESCRIPTION        \nGS_MASKING_POLICY_FILTERS       PG_DEPEND                      PG_SHSECLABEL           \nGS_MATVIEW                      PG_DESCRIPTION                 PG_STATISTIC            \nGS_MATVIEW_DEPENDENCY           PG_DIRECTORY                   PG_SUBSCRIPTION         \nGS_MODEL_WAREHOUSE              PG_ENUM                        PG_SYNONYM              \nGS_POLICY_LABEL                 PG_EXTENSION_DATA_SOURCE       PG_TABLESPACE           \nGS_RECYCLEBIN                   PG_FOREIGN_DATA_WRAPPER        PG_TRIGGER              \nGS_SQL_PATCH                    PG_FOREIGN_SERVER              PG_TS_CONFIG            \nGS_TXN_SNAPSHOT                 PG_FOREIGN_TABLE               PG_TS_CONFIG_MAP        \nGS_UID                          PG_HASHBUCKET                  PG_TS_DICT              \nGS_WLM_INSTANCE_HISTORY         PG_INDEX                       PG_TS_PARSER            \nGS_WLM_OPERATOR_INFO            PG_INHERITS                    PG_TS_TEMPLATE          \nGS_WLM_SESSION_QUERY_INFO_ALL   PG_JOB                         PG_TYPE                 \nGS_WLM_USER_RESOURCE_HISTORY    PG_JOB_PROC                    PG_USER_MAPPING         \n                                PG_LANGUAGE                    PG_USER_STATUS          \n                                PG_LARGEOBJECT                 PG_WORKLOAD_GROUP       \n                                PG_LARGEOBJECT_METADATA                                \n\nç³»ç»è§å¾\n\nADM/GLOBAL/PV                 DB/MY                GS/PGXC                             PG_\nADM_COL_COMMENTS              DB_ALL_TABLES        GS_ALL_CONTROL_GROUP_INFO           PG_AVAILABLE_EXTENSIONS\nADM_CONS_COLUMNS              DB_CONSTRAINTS       GS_AUDITING                         PG_AVAILABLE_EXTENSION_VERSIONS\nADM_CONSTRAINTS               DB_CONS_COLUMNS      GS_AUDITING_ACCESS                  PG_COMM_DELAY\nADM_DATA_FILES                DB_DEPENDENCIES      GS_AUDITING_PRIVILEGE               PG_COMM_RECV_STREAM\nADM_HIST_SNAPSHOT             DB_IND_COLUMNS       GS_CLUSTER_RESOURCE_INFO            PG_COMM_SEND_STREAM\nADM_HIST_SQL_PLAN             DB_IND_EXPRESSIONS   GS_DB_PRIVILEGES                    PG_COMM_STATUS\nADM_HIST_SQLSTAT              DB_INDEXES           GS_GET_CONTROL_GROUP_INFO           PG_CONTROL_GROUP_CONFIG\nADM_HIST_SQLSTAT_FUNC         DB_OBJECTS           GS_GSC_MEMORY_DETAIL                PG_CURSORS\nADM_HIST_SQLSTAT_IDLAG_FUNC   DB_PROCEDURES        GS_LABELS                           PG_GET_INVALID_BACKENDS\nADM_INDEXES                   DB_SEQUENCES         GS_LSC_MEMORY_DETAIL                PG_GET_SENDERS_CATCHUP_TIME\nADM_IND_COLUMNS               DB_SOURCE            GS_MASKING                          PG_GROUP\nADM_IND_EXPRESSIONS           DB_SYNONYMS          GS_MATVIEWS                         PG_INDEXES\nADM_IND_PARTITIONS            DB_TAB_COLUMNS       GS_MATVIEWS                         PG_LOCKS\nADM_OBJECTS                   DB_TAB_COMMENTS      GS_SESSION_CPU_STATISTICS           PG_NODE_ENV\nADM_PART_INDEXES              DB_COL_COMMENTS      GS_SESSION_MEMORY_STATISTICS        PG_OS_THREADS\nADM_PART_TABLES               DB_TABLES            GS_SQL_COUNT                        PG_POOLER_STATUS\nADM_PROCEDURES                DB_TRIGGERS          GS_STAT_DB_CU                       PG_PREPARED_STATEMENTS\nADM_SEQUENCES                 DB_USERS             GS_STAT_SESSION_CU                  PG_PREPARED_XACTS\nADM_SCHEDULER_JOBS            DB_VIEWS             GS_WLM_CGROUP_INFO                  PG_PUBLICATION_TABLES\nADM_SOURCE                    MY_COL_COMMENTS      GS_WLM_OPERATOR_HISTORY             PG_REPLICATION_ORIGIN_STATUS\nADM_SYNONYMS                  MY_CONS_COLUMNS      GS_WLM_OPERATOR_STATISTICS          PG_REPLICATION_SLOTS\nADM_TABLES                    MY_CONSTRAINTS       GS_WLM_REBUILD_USER_RESOURCE_POOL   PG_RLSPOLICIES\nADM_TABLESPACES               MY_INDEXES           GS_WLM_RESOURCE_POOL                PG_ROLES\nADM_TAB_COLUMNS               MY_IND_COLUMNS       GS_WLM_SESSION_HISTORY              PG_RULES\nADM_TAB_COMMENTS              MY_IND_EXPRESSIONS   GS_WLM_SESSION_INFO                 PG_RUNNING_XACTS\nADM_TAB_PARTITIONS            MY_IND_PARTITIONS    GS_WLM_SESSION_INFO_ALL             PG_SECLABELS\nADM_TRIGGERS                  MY_JOBS              GS_WLM_USER_INFO                    PG_SESSION_IOSTAT\nADM_TYPE_ATTRS                MY_OBJECTS           GS_WLM_USER_SESSION_INFO            PG_SESSION_WLMSTAT\nADM_USERS                     MY_PART_INDEXES      GS_WLM_SESSION_STATISTICS           PG_SETTINGS\nADM_VIEWS                     MY_PART_TABLES       GS_WLM_WORKLOAD_RECORDS             PG_SHADOW\nCOMM_CLIENT_INFO              MY_PROCEDURES        GS_WRITE_TERM_LOG                   PG_SHARED_MEMORY_DETAIL\nDV_SESSIONS                   MY_SEQUENCES         PGXC_COMM_DELAY                     PG_STATS\nDV_SESSION_LONGOPS            MY_SOURCE            PGXC_COMM_RECV_STREAM               PG_STAT_ACTIVITY\nGET_GLOBAL_PREPARED_XACTS     MY_SYNONYMS          PGXC_COMM_SEND_STREAM               PG_STAT_ALL_INDEXES\nGV_SESSION                    MY_TAB_COLUMNS       PGXC_COMM_STATUS                    PG_STAT_ALL_TABLES\nMPP_TABLES                    MY_TAB_COMMENTS      PGXC_GET_STAT_ALL_TABLES            PG_STAT_BAD_BLOCK\nPLAN_TABLE                    MY_TAB_PARTITIONS    PGXC_GET_TABLE_SKEWNESS             PG_STAT_BGWRITER\nSYS_DUMMY                     MY_TABLES            PGXC_NODE_ENV                       PG_STAT_DATABASE\nGLOBAL_BAD_BLOCK_INFO         MY_TRIGGERS          PGXC_OS_THREADS                     PG_STAT_DATABASE_CONFLICTS\nGLOBAL_CLEAR_BAD_BLOCK_INFO   MY_VIEWS             PGXC_PREPARED_XACTS                 PG_STAT_REPLICATION\nGLOBAL_COMM_CLIENT_INFO                            PGXC_RUNNING_XACTS                  PG_STAT_SUBSCRIPTION\nGLOBAL_STAT_HOTKEYS_INFO                           PGXC_STAT_ACTIVITY                  PG_STAT_SYS_INDEXES\nGLOBAL_WAL_SENDER_STATUS                           PGXC_STAT_BAD_BLOCK                 PG_STAT_SYS_TABLES\nPV_FILE_STAT                                       PGXC_SQL_COUNT                      PG_STAT_USER_FUNCTIONS\nPV_INSTANCE_TIME                                   PGXC_THREAD_WAIT_STATUS             PG_STAT_USER_INDEXES\nPV_OS_RUN_INFO                                     PGXC_TOTAL_MEMORY_DETAIL            PG_STAT_USER_TABLES\nPV_REDO_STAT                                       PGXC_VARIABLE_INFO                  PG_STAT_XACT_ALL_TABLES\nPV_SESSION_MEMORY                                  PGXC_WLM_REBUILD_USER_RESPOOL       PG_STAT_XACT_SYS_TABLES\nPV_SESSION_MEMORY_CONTEXT                          PGXC_WLM_SESSION_HISTORY            PG_STAT_XACT_USER_FUNCTIONS\nPV_SESSION_MEMORY_DETAIL                           PGXC_WLM_SESSION_INFO               PG_STAT_XACT_USER_TABLES\nPV_SESSION_STAT                                    PGXC_WLM_SESSION_STATISTICS         PG_STATIO_ALL_INDEXES\nPV_SESSION_TIME                                    PGXC_WLM_WORKLOAD_RECORDS           PG_STATIO_ALL_SEQUENCES\nPV_THREAD_MEMORY_CONTEXT                                                               PG_STATIO_ALL_TABLES\nPV_TOTAL_MEMORY_DETAIL                                                                 PG_STATIO_SYS_INDEXES\n                                                                                       PG_STATIO_SYS_SEQUENCES\n                                                                                       PG_STATIO_SYS_TABLES\n                                                                                       PG_STATIO_USER_INDEXES\n                                                                                       PG_STATIO_USER_SEQUENCES\n                                                                                       PG_STATIO_USER_TABLES\n                                                                                       PG_THREAD_WAIT_STATUS\n                                                                                       PG_TABLES\n                                                                                       PG_TDE_INFO\n                                                                                       PG_TIMEZONE_ABBREVS\n                                                                                       PG_TIMEZONE_NAMES\n                                                                                       PG_TOTAL_MEMORY_DETAIL\n                                                                                       PG_TOTAL_USER_RESOURCE_INFO\n                                                                                       PG_TOTAL_USER_RESOURCE_INFO_OID\n                                                                                       PG_USER\n                                                                                       PG_USER_MAPPINGS\n                                                                                       PG_VARIABLE_INFO\n                                                                                       PG_VIEWS\n                                                                                       PG_WLM_STATISTICS\n\n# æ¥è¯¢æææ¨¡å¼\n\nSELECT\n            pn.oid AS schema_oid\n           ,iss.CATALOG_NAME\n           ,iss.schema_owner\n           ,iss.SCHEMA_NAME \n      FROM information_schema.schemata iss\nINNER JOIN pg_namespace pn \n        ON pn.nspname = iss.SCHEMA_NAME;\n\n\n# æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é\n\nSELECT DISTINCT \"table_name\", obj_description ( oid, 'pg_class' ) AS table_alias \n  FROM information_schema.tables t1, pg_class t2 \n WHERE table_schema = 'gisdb' \n   AND t1.\"table_name\" = t2.relname\n\n\n# è¡¨åæ¥è¯¢å­æ®µå±æ§\n\n# æ¹å¼1ï¼ï¼æ¯ææ¥è¯¢æå®æ¨¡å¼schemaä¸æå¼ è¡¨çå­æ®µä¿¡æ¯ï¼\n    SELECT u.relname, a.attname AS field, t.typname AS type\n      FROM (select c.relname,c.oid,n.nspname from pg_class c left join pg_catalog.pg_namespace n on c.relnamespace = n.oid) u,\n           pg_attribute a,\n           pg_type t\n     WHERE u.relname = 'å®éçè¡¨å'\n       AND u.nspname = 'å®éçschemaåç§°'\n       AND a.attnum > 0\n       AND a.attrelid = u.oid\n       AND a.atttypid = t.oid\n  ORDER BY a.attnum;\n  \n# æ¹å¼:2ï¼\n    SELECT a.attnum, a.attname AS field, t.typname AS type, a.attlen AS length, a.atttypmod AS lengthvar, a.attnotnull AS notnull, b.description AS comment\n      FROM pg_class c, pg_attribute a\n LEFT JOIN pg_description b\n        ON a.attrelid = b.objoid\n       AND a.attnum = b.objsubid, pg_type t\n     WHERE c.relname = 'å®éçè¡¨å'\n       AND a.attnum > 0\n       AND a.attrelid = c.oid\n       AND a.atttypid = t.oid\n  ORDER BY a.attnum;\n\n\n# æ¥è¯¢è§å¾å®ä¹è¯­å¥\n\nselect 'create or repacle view ' || viewname || ' as ' || definition FROM pg_view WHERE schemaname = 'æ¨¡å¼' AND viewowner = 'ç¨æ·';\nselect 'create or repacle view ' || view_name || ' as ' || text from db_views  where owner = 'ç¨æ·';\n\n\n# æ¥è¯¢è¡¨å­æ®µä¿¡æ¯\n\nSELECT table_name, column_name\n  FROM information_schema.columns\n WHERE table_schema = 'æ¨¡å¼'\n   AND table_name = 'è¡¨å'\n ORDER BY table_name, column_name\n\n\n# è¸©åæ¥è®°\n\n# date å­æ®µç±»å\n\né«æ¯æ°æ®åºå¼å®¹æ¨¡å¼ï¼\n\nå¯è½ä¸åå¼å®¹æ¨¡å¼è¡ä¸ºä¸ä¸è´ï¼å¯æ¥è¯¢ç³»ç»è¡¨ PG_DATABASEï¼datcompatibilityå­æ®µï¼ æ¥çå½åæ°æ®åºå¼å®¹æ¨¡å¼ï¼å½åæ¯æåç§å¼å®¹æ¨¡å¼ï¼AãBãCãPGï¼åå«è¡¨ç¤ºå¼å®¹OãMYãTDåPOSTGRESï¼é»è®¤ä¸ºMySQLå¼å®¹æ¨¡å¼ï¼\n20221122 è¡¥åï¼ç¡®å®æ¯å ä¸ºåå»ºæ¨¡å¼æ¶å¼å®¹æ¨¡å¼å¯¼è´ï¼éæ°åå»ºæ¨¡å¼åé®é¢è§£å³\n\n> ç±äº date å­æ®µç±»åä¸å­å¨æ¶åç§ï¼Oracleæ¨¡å¼ä¸ï¼ï¼ï¼æéä¿®æ¹ä¸º timestamp ç±»åï¼ææè¡¨åè§å¾é½éè¦éæ°åå»ºã",normalizedContent:"# ç®ä»\n\ngaussdb(for opengauss)æ¯åºäºåä¸ºä¸»å¯¼çopengaussçææ¨åºçä¼ä¸çº§åå¸å¼å³ç³»åæ°æ®åºãè¯¥äº§åå·å¤ä¼ä¸çº§å¤æäºå¡æ··åè´è½½è½åï¼åæ¶æ¯æåå¸å¼äºå¡ï¼ååè·¨azé¨ç½²ï¼æ°æ®0ä¸¢å¤±ï¼æ¯æ1000+çæ©å±è½åï¼pbçº§æµ·éå­å¨ã\n\nç®åå®æ¹æ¶è´¹çæ¬ï¼ï¼2019å¹´10æå·¦å³ï¼å½ååæ¬¡è°æ´ï¼\n\n * gaussdb 100ï¼æ´åä¸º gaussdb t (ä»¥oltpåéç¾¤ä¸ºæ¹åï¼å¨çº¿äºå¡å¤çï¼\n * gaussdb 200 åå¹¶ 300 çé¨åè®¾è®¡ï¼æ´åä¸º gaussdb a (ä¸»æolap å¨çº¿åæå¤çï¼\n * gaussdb 300 åå·åæ¶ï¼æ¶ååè½å¹¶å¥ 100 æ 200\n\nç®ååè´¹å¼æºçæ¬ï¼opengauss\n\n# å³äºæ°æ®è¿ç§»\n\ngaussdb æåæ¯ç± postgresql å¼æºé¡¹ç®èªç èæ¥ï¼è½å ä¹å·²ç»æ¯å¨é¨èªç ï¼ä½è¿ä¿çäºé©±å¨åä»¥åé©±å¨ç±»ã\n\nå®æ¹æä¾äº3ä¸ªé©±å¨åï¼ï¼ä»»æä¸ä¸ªé½è¡ï¼ä½éæ³¨æå²çªé®é¢ï¼\n\n 1. gsjdbc4.jarï¼é©±å¨ç±»ä¸º org.postgresql.driver\n\n> ä¸ postgresql é©±å¨ç±»åä¸æ ·ï¼å¨æ  postgresql æ¶ä½¿ç¨\n\n 2. gsjdbc200.jarï¼é©±å¨ç±»ä¸º com.huawei.gauss200.jdbc.driver\n\n> è§£å³ç±»åå²çªé®é¢ï¼é¡¹ç®ä¸­åæ¶æ postgresql å gaussdb æ¶ä½¿ç¨\n\n 3. openguassjdbc.jarï¼é©±å¨ç±»ä¸º com.huawei.opengauss.jdbc.driver\n\nä»»æä¸ä¸ªé©±å¨ç±»é½è¡ï¼å¯ä»¥éè¿ä½¿ç¨ gsjdbc4.jar æ¿æ¢ dataxãkettle ç­å·¥å·ä¸­ postgresql é©±å¨åï¼æ¥ä½¿å¶æ¯æ gaussdbï¼ä»èè¿è¡æ°æ®è¿ç§»ã\n\n# åæ°æ®ä½¿ç¨\n\n# åæ°æ®è¡¨æè§å¾\n\nç³»ç»è¡¨\n\ngs_                             pg_                            pg_                     -\ngs_auditing_policy              pg_aggregate                   pg_namespace            pgxc_class\ngs_auditing_policy_access       pg_am                          pg_object               pgxc_group\ngs_auditing_policy_filters      pg_amop                        pg_opclass              pgxc_node\ngs_auditing_policy_privileges   pg_amproc                      pg_operator             pgxc_redistb\ngs_asp                          pg_app_workloadgroup_mapping   pg_opfamily             pgxc_slice\ngs_client_global_keys           pg_attrdef                     pg_partition            plan_table_data\ngs_client_global_keys_args      pg_attribute                   pg_pltemplate           statement_history\ngs_column_keys                  pg_authid                      pg_proc                 streaming_stream\ngs_column_keys_args             pg_auth_history                pg_publication          streaming_cont_query\ngs_db_privilege                 pg_auth_members                pg_publication_rel      streaming_reaper_status\ngs_encrypted_columns            pg_cast                        pg_range                \ngs_encrypted_proc               pg_class                       pg_replication_origin   \ngs_global_chain                 pg_collation                   pg_resource_pool        \ngs_global_config                pg_constraint                  pg_rewrite              \ngs_job_attribute                pg_conversion                  pg_rlspolicy            \ngs_job_argument                 pg_database                    pg_seclabel             \ngs_masking_policy               pg_db_role_setting             pg_shdepend             \ngs_masking_policy_actions       pg_default_acl                 pg_shdescription        \ngs_masking_policy_filters       pg_depend                      pg_shseclabel           \ngs_matview                      pg_description                 pg_statistic            \ngs_matview_dependency           pg_directory                   pg_subscription         \ngs_model_warehouse              pg_enum                        pg_synonym              \ngs_policy_label                 pg_extension_data_source       pg_tablespace           \ngs_recyclebin                   pg_foreign_data_wrapper        pg_trigger              \ngs_sql_patch                    pg_foreign_server              pg_ts_config            \ngs_txn_snapshot                 pg_foreign_table               pg_ts_config_map        \ngs_uid                          pg_hashbucket                  pg_ts_dict              \ngs_wlm_instance_history         pg_index                       pg_ts_parser            \ngs_wlm_operator_info            pg_inherits                    pg_ts_template          \ngs_wlm_session_query_info_all   pg_job                         pg_type                 \ngs_wlm_user_resource_history    pg_job_proc                    pg_user_mapping         \n                                pg_language                    pg_user_status          \n                                pg_largeobject                 pg_workload_group       \n                                pg_largeobject_metadata                                \n\nç³»ç»è§å¾\n\nadm/global/pv                 db/my                gs/pgxc                             pg_\nadm_col_comments              db_all_tables        gs_all_control_group_info           pg_available_extensions\nadm_cons_columns              db_constraints       gs_auditing                         pg_available_extension_versions\nadm_constraints               db_cons_columns      gs_auditing_access                  pg_comm_delay\nadm_data_files                db_dependencies      gs_auditing_privilege               pg_comm_recv_stream\nadm_hist_snapshot             db_ind_columns       gs_cluster_resource_info            pg_comm_send_stream\nadm_hist_sql_plan             db_ind_expressions   gs_db_privileges                    pg_comm_status\nadm_hist_sqlstat              db_indexes           gs_get_control_group_info           pg_control_group_config\nadm_hist_sqlstat_func         db_objects           gs_gsc_memory_detail                pg_cursors\nadm_hist_sqlstat_idlag_func   db_procedures        gs_labels                           pg_get_invalid_backends\nadm_indexes                   db_sequences         gs_lsc_memory_detail                pg_get_senders_catchup_time\nadm_ind_columns               db_source            gs_masking                          pg_group\nadm_ind_expressions           db_synonyms          gs_matviews                         pg_indexes\nadm_ind_partitions            db_tab_columns       gs_matviews                         pg_locks\nadm_objects                   db_tab_comments      gs_session_cpu_statistics           pg_node_env\nadm_part_indexes              db_col_comments      gs_session_memory_statistics        pg_os_threads\nadm_part_tables               db_tables            gs_sql_count                        pg_pooler_status\nadm_procedures                db_triggers          gs_stat_db_cu                       pg_prepared_statements\nadm_sequences                 db_users             gs_stat_session_cu                  pg_prepared_xacts\nadm_scheduler_jobs            db_views             gs_wlm_cgroup_info                  pg_publication_tables\nadm_source                    my_col_comments      gs_wlm_operator_history             pg_replication_origin_status\nadm_synonyms                  my_cons_columns      gs_wlm_operator_statistics          pg_replication_slots\nadm_tables                    my_constraints       gs_wlm_rebuild_user_resource_pool   pg_rlspolicies\nadm_tablespaces               my_indexes           gs_wlm_resource_pool                pg_roles\nadm_tab_columns               my_ind_columns       gs_wlm_session_history              pg_rules\nadm_tab_comments              my_ind_expressions   gs_wlm_session_info                 pg_running_xacts\nadm_tab_partitions            my_ind_partitions    gs_wlm_session_info_all             pg_seclabels\nadm_triggers                  my_jobs              gs_wlm_user_info                    pg_session_iostat\nadm_type_attrs                my_objects           gs_wlm_user_session_info            pg_session_wlmstat\nadm_users                     my_part_indexes      gs_wlm_session_statistics           pg_settings\nadm_views                     my_part_tables       gs_wlm_workload_records             pg_shadow\ncomm_client_info              my_procedures        gs_write_term_log                   pg_shared_memory_detail\ndv_sessions                   my_sequences         pgxc_comm_delay                     pg_stats\ndv_session_longops            my_source            pgxc_comm_recv_stream               pg_stat_activity\nget_global_prepared_xacts     my_synonyms          pgxc_comm_send_stream               pg_stat_all_indexes\ngv_session                    my_tab_columns       pgxc_comm_status                    pg_stat_all_tables\nmpp_tables                    my_tab_comments      pgxc_get_stat_all_tables            pg_stat_bad_block\nplan_table                    my_tab_partitions    pgxc_get_table_skewness             pg_stat_bgwriter\nsys_dummy                     my_tables            pgxc_node_env                       pg_stat_database\nglobal_bad_block_info         my_triggers          pgxc_os_threads                     pg_stat_database_conflicts\nglobal_clear_bad_block_info   my_views             pgxc_prepared_xacts                 pg_stat_replication\nglobal_comm_client_info                            pgxc_running_xacts                  pg_stat_subscription\nglobal_stat_hotkeys_info                           pgxc_stat_activity                  pg_stat_sys_indexes\nglobal_wal_sender_status                           pgxc_stat_bad_block                 pg_stat_sys_tables\npv_file_stat                                       pgxc_sql_count                      pg_stat_user_functions\npv_instance_time                                   pgxc_thread_wait_status             pg_stat_user_indexes\npv_os_run_info                                     pgxc_total_memory_detail            pg_stat_user_tables\npv_redo_stat                                       pgxc_variable_info                  pg_stat_xact_all_tables\npv_session_memory                                  pgxc_wlm_rebuild_user_respool       pg_stat_xact_sys_tables\npv_session_memory_context                          pgxc_wlm_session_history            pg_stat_xact_user_functions\npv_session_memory_detail                           pgxc_wlm_session_info               pg_stat_xact_user_tables\npv_session_stat                                    pgxc_wlm_session_statistics         pg_statio_all_indexes\npv_session_time                                    pgxc_wlm_workload_records           pg_statio_all_sequences\npv_thread_memory_context                                                               pg_statio_all_tables\npv_total_memory_detail                                                                 pg_statio_sys_indexes\n                                                                                       pg_statio_sys_sequences\n                                                                                       pg_statio_sys_tables\n                                                                                       pg_statio_user_indexes\n                                                                                       pg_statio_user_sequences\n                                                                                       pg_statio_user_tables\n                                                                                       pg_thread_wait_status\n                                                                                       pg_tables\n                                                                                       pg_tde_info\n                                                                                       pg_timezone_abbrevs\n                                                                                       pg_timezone_names\n                                                                                       pg_total_memory_detail\n                                                                                       pg_total_user_resource_info\n                                                                                       pg_total_user_resource_info_oid\n                                                                                       pg_user\n                                                                                       pg_user_mappings\n                                                                                       pg_variable_info\n                                                                                       pg_views\n                                                                                       pg_wlm_statistics\n\n# æ¥è¯¢æææ¨¡å¼\n\nselect\n            pn.oid as schema_oid\n           ,iss.catalog_name\n           ,iss.schema_owner\n           ,iss.schema_name \n      from information_schema.schemata iss\ninner join pg_namespace pn \n        on pn.nspname = iss.schema_name;\n\n\n# æ¥è¯¢å½åæ¨¡å¼ä¸çææè¡¨åä»¥åä¸­ææ³¨é\n\nselect distinct \"table_name\", obj_description ( oid, 'pg_class' ) as table_alias \n  from information_schema.tables t1, pg_class t2 \n where table_schema = 'gisdb' \n   and t1.\"table_name\" = t2.relname\n\n\n# è¡¨åæ¥è¯¢å­æ®µå±æ§\n\n# æ¹å¼1ï¼ï¼æ¯ææ¥è¯¢æå®æ¨¡å¼schemaä¸æå¼ è¡¨çå­æ®µä¿¡æ¯ï¼\n    select u.relname, a.attname as field, t.typname as type\n      from (select c.relname,c.oid,n.nspname from pg_class c left join pg_catalog.pg_namespace n on c.relnamespace = n.oid) u,\n           pg_attribute a,\n           pg_type t\n     where u.relname = 'å®éçè¡¨å'\n       and u.nspname = 'å®éçschemaåç§°'\n       and a.attnum > 0\n       and a.attrelid = u.oid\n       and a.atttypid = t.oid\n  order by a.attnum;\n  \n# æ¹å¼:2ï¼\n    select a.attnum, a.attname as field, t.typname as type, a.attlen as length, a.atttypmod as lengthvar, a.attnotnull as notnull, b.description as comment\n      from pg_class c, pg_attribute a\n left join pg_description b\n        on a.attrelid = b.objoid\n       and a.attnum = b.objsubid, pg_type t\n     where c.relname = 'å®éçè¡¨å'\n       and a.attnum > 0\n       and a.attrelid = c.oid\n       and a.atttypid = t.oid\n  order by a.attnum;\n\n\n# æ¥è¯¢è§å¾å®ä¹è¯­å¥\n\nselect 'create or repacle view ' || viewname || ' as ' || definition from pg_view where schemaname = 'æ¨¡å¼' and viewowner = 'ç¨æ·';\nselect 'create or repacle view ' || view_name || ' as ' || text from db_views  where owner = 'ç¨æ·';\n\n\n# æ¥è¯¢è¡¨å­æ®µä¿¡æ¯\n\nselect table_name, column_name\n  from information_schema.columns\n where table_schema = 'æ¨¡å¼'\n   and table_name = 'è¡¨å'\n order by table_name, column_name\n\n\n# è¸©åæ¥è®°\n\n# date å­æ®µç±»å\n\né«æ¯æ°æ®åºå¼å®¹æ¨¡å¼ï¼\n\nå¯è½ä¸åå¼å®¹æ¨¡å¼è¡ä¸ºä¸ä¸è´ï¼å¯æ¥è¯¢ç³»ç»è¡¨ pg_databaseï¼datcompatibilityå­æ®µï¼ æ¥çå½åæ°æ®åºå¼å®¹æ¨¡å¼ï¼å½åæ¯æåç§å¼å®¹æ¨¡å¼ï¼aãbãcãpgï¼åå«è¡¨ç¤ºå¼å®¹oãmyãtdåpostgresï¼é»è®¤ä¸ºmysqlå¼å®¹æ¨¡å¼ï¼\n20221122 è¡¥åï¼ç¡®å®æ¯å ä¸ºåå»ºæ¨¡å¼æ¶å¼å®¹æ¨¡å¼å¯¼è´ï¼éæ°åå»ºæ¨¡å¼åé®é¢è§£å³\n\n> ç±äº date å­æ®µç±»åä¸å­å¨æ¶åç§ï¼oracleæ¨¡å¼ä¸ï¼ï¼ï¼æéä¿®æ¹ä¸º timestamp ç±»åï¼ææè¡¨åè§å¾é½éè¦éæ°åå»ºã",charsets:{cjk:!0},lastUpdated:"2022/11/22, 17:20:22",lastUpdatedTimestamp:1669108822e3},{title:"Rediså½ä»¤å­¦ä¹ ",frontmatter:{title:"Rediså½ä»¤å­¦ä¹ ",date:"2022-03-10T20:22:35.000Z",permalink:"/pages/ca5c12/",categories:["æ°æ®åº","Redis"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/09.Redis/01.Redis%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0.html",relativePath:"03.æ°æ®åº/09.Redis/01.Rediså½ä»¤å­¦ä¹ .md",key:"v-5a91a923",path:"/pages/ca5c12/",headers:[{level:2,title:"è¿å¥å®¢æ·ç«¯",slug:"è¿å¥å®¢æ·ç«¯",normalizedTitle:"è¿å¥å®¢æ·ç«¯",charIndex:2},{level:2,title:"1.æ°æ®ç±»å",slug:"_1-æ°æ®ç±»å",normalizedTitle:"1.æ°æ®ç±»å",charIndex:104},{level:3,title:"ï¼1ï¼String(å­ç¬¦ä¸²)",slug:"_1-string-å­ç¬¦ä¸²",normalizedTitle:"ï¼1ï¼string(å­ç¬¦ä¸²)",charIndex:115},{level:3,title:"ï¼2ï¼Hash(åå¸)",slug:"_2-hash-åå¸",normalizedTitle:"ï¼2ï¼hash(åå¸)",charIndex:412},{level:3,title:"ï¼3ï¼List(åè¡¨)",slug:"_3-list-åè¡¨",normalizedTitle:"ï¼3ï¼list(åè¡¨)",charIndex:836},{level:3,title:"ï¼4ï¼Set(éå)",slug:"_4-set-éå",normalizedTitle:"ï¼4ï¼set(éå)",charIndex:1263},{level:3,title:"ï¼5ï¼Zset(sorted setï¼æåºéå)",slug:"_5-zset-sorted-set-æåºéå",normalizedTitle:"ï¼5ï¼zset(sorted setï¼æåºéå)",charIndex:1832},{level:3,title:"ï¼6ï¼ ä»£ç ç»ä¹ ",slug:"_6-ä»£ç ç»ä¹ ",normalizedTitle:"ï¼6ï¼ ä»£ç ç»ä¹ ",charIndex:2505}],headersStr:"è¿å¥å®¢æ·ç«¯ 1.æ°æ®ç±»å ï¼1ï¼String(å­ç¬¦ä¸²) ï¼2ï¼Hash(åå¸) ï¼3ï¼List(åè¡¨) ï¼4ï¼Set(éå) ï¼5ï¼Zset(sorted setï¼æåºéå) ï¼6ï¼ ä»£ç ç»ä¹ ",content:'# è¿å¥å®¢æ·ç«¯\n\nå¯å¨ï¼ redis-server redis.conf\n\nå®¢æ·ç«¯ï¼ redis-cli\n\næ¥çç«¯å£å ç¨ï¼ netstat -tunpl|grep 6379\n\néåºå®¢æ·ç«¯ï¼ exit\n\n\n# 1.æ°æ®ç±»å\n\n\n# ï¼1ï¼String(å­ç¬¦ä¸²)\n\nset xxx aaa     //è®¾ç½®xxx\nget xxx     //è·åxxx\ndel xxx     //å é¤xxx\nmset name1 111 name2 222 name3 333 name4 444    //è®¾ç½®å¤ä¸ª\nmget name1 name2 name3    //æ¥çå¤ä¸ª\nexists xxx     //æ¥çæ¯å¦å­å¨\ntype aaa      //æ¥çvalueçæ°æ®ç±»å\nrandomkey     //ä»å½ååºä¸­éæºè¿åä¸ä¸ªkey\nFLUSHdb     //æ¸ç©ºæ°æ® \nFLUSHALL     //æ¸ç©ºææ\n\n\n\n# ï¼2ï¼Hash(åå¸)\n\nèµå¼ï¼\nHSET KEYÂ  FIELDÂ  VALUE    //ä¸ºæå®çKEYï¼è®¾å®FIELD/VALUE  \nHMSET  KEY  FIELD VALUE [FIELD1,VALUE1]â¦â¦ åæ¶å°å¤ä¸ª field-value (å-å¼)å¯¹è®¾ç½®å°åå¸è¡¨ key ä¸­ã\n\nåå¼ï¼\nHGET KEY FIELD   //è·åå­å¨å¨HASHä¸­çå¼ï¼æ ¹æ®FIELDå¾å°VALUE\nHMGET key field[field1]      //è·åkeyææç»å®å­æ®µçå¼\nHGETALL key                 //è¿åHASHè¡¨ä¸­ææçå­æ®µåå¼\nHKEYS key   //è·åææåå¸è¡¨ä¸­çå­æ®µ\nHVALS key   //è·åææåå¸è¡¨ä¸­çå¼\nHLEN key   //è·ååå¸è¡¨ä¸­å­æ®µçæ°é\n\nå é¤è¯­æ³ï¼\nHDEL KEY field1[field2] Â Â Â //å é¤ä¸ä¸ªæå¤ä¸ªHASHè¡¨å­æ®µ\n\n\n\n# ï¼3ï¼List(åè¡¨)\n\nLPUSH key value1 [value2]     // å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å¤´é¨\nRPUSH key value1 [value2]    // å¨åè¡¨ä¸­æ·»å ä¸ä¸ªæå¤ä¸ªå¼\nBLPOP key1 [key2 ] timeout    // ç§»åºå¹¶è·ååè¡¨çç¬¬ä¸ä¸ªåç´ ï¼ å¦æåè¡¨æ²¡æåç´ ä¼é»å¡åè¡¨ç´å°ç­å¾è¶æ¶æåç°å¯å¼¹åºåç´ ä¸ºæ­¢ã\nBRPOP key1 [key2 ] timeout    // ç§»åºå¹¶è·ååè¡¨çæåä¸ä¸ªåç´ ï¼ å¦æåè¡¨æ²¡æåç´ ä¼é»å¡åè¡¨ç´å°ç­å¾è¶æ¶æåç°å¯å¼¹åºåç´ ä¸ºæ­¢ã\nLINSERT key BEFORE|AFTER pivot value    // å¨åè¡¨çåç´ åæèåæå¥åç´ \nLINDEX key index    // éè¿ç´¢å¼è·ååè¡¨ä¸­çåç´ \nLLEN key     // è·ååè¡¨é¿åº¦\nLRANGE key start stop    //è·ååè¡¨æå®èå´åçåç´ \n\n\n\n# ï¼4ï¼Set(éå)\n\nSADD key member1 [member2]    // åéåæ·»å ä¸ä¸ªæå¤ä¸ªæå\nSMEMBERS key    // è¿åéåä¸­çæææå\nSISMEMBER key member    // 1è¡¨ç¤ºå­å¨ï¼0è¡¨ç¤ºä¸å­å¨æè¯¥keyæ¬èº«å°±ä¸å­å¨ï¼æ è®ºéåä¸­æå¤å°åç´ é½å¯ä»¥æéå°è¿åç»æï¼\nSREM key member1 [member2]    // ç§»é¤éåä¸­ä¸ä¸ªæå¤ä¸ªæå\nSINTER key1 [key2]      //è¿åç»å®ææéåçäº¤é\nSDIFF key1 [key2]     // è¿åç»å®ææéåçå·®éï¼å±äºkey1ä¸å±äºkey2çéåï¼\nSUNION key1 [key2]     // è¿åææç»å®éåçå¹¶é\nSCARD key    //è·åéåä¸­æåçæ°é\nsdiffstore destination key1 [key2]    // å°key1ãkey2ç¸å·®çæåå­å¨å¨destinationä¸­\nsinterstore destination key1 [key2]     //å°è¿åçäº¤éå­å¨å¨destinationä¸­\nsunionstore destination key1 [key2]     //å°è¿åçå¹¶éå­å¨å¨destinationä¸­\n\n\n\n# ï¼5ï¼Zset(sorted setï¼æåºéå)\n\nZADD key score1 member1 [score2 member2]    // åæåºéåæ·»å ä¸ä¸ªæå¤ä¸ªæåï¼æèæ´æ°å·²å­å¨æåçåæ°\nZRANGE key start stop [WITHSCORES]     // éè¿ç´¢å¼åºé´è¿åæåºéåæå®åºé´åçæå\nZCOUNT key min max    // è®¡ç®å¨æåºéåä¸­æå®åºé´åæ°çæåæ°\nZREM key member [member ...]    // ç§»é¤æåºéåä¸­çä¸ä¸ªæå¤ä¸ªæå\nZCARD key    // è·åæåºéåçæåæ°\nZINCRBY key increment member    // æåºéåä¸­å¯¹æå®æåçåæ°å ä¸å¢é increment \nZSCORE key member    // è¿åæåºéä¸­ï¼æåçåæ°å¼\nZRANK key member    // è¿åæåºéåä¸­æå®æåçç´¢å¼\nZRANGEBYSCORE key min max [WITHSCORES] [LIMIT]    // éè¿åæ°è¿åæåºéåæå®åºé´åçæå\nZINTERSTORE destination numkeys key [key ...]    //è®¡ç®ç»å®çä¸ä¸ªæå¤ä¸ªæåºéçäº¤éå¹¶å°ç»æéå­å¨å¨æ°çæåºéå key ä¸­\nZUNIONSTORE destination numkeys key [key ...]    //è®¡ç®ç»å®çä¸ä¸ªæå¤ä¸ªæåºéçå¹¶éï¼å¹¶å­å¨å¨æ°ç key ä¸­\n\n\n\n\n# ï¼6ï¼ ä»£ç ç»ä¹ \n\npublic class App \n{\n    public static void main( String[] args )\n    {\n    \tJedis jedis = new Jedis("8.8.8.8",6379);\n    \t//jedis.flushAll();\n        //System.out.println( "Hello World!" + jedis.ping());\n        /*****1.å­ç¬¦ä¸²(String)*****/\n//    \tjedis.set("name1", "aaa");\n//        System.out.println(jedis.get("name1"));\n//    \tjedis.del("name1");\n//    \t\n//    \tjedis.mset("name1","aaa","name2","bbb","name3","ccc");\n//    \tSystem.out.println(jedis.mget("name1","name2","name3"));\n//    \t\n//    \tSystem.out.println(jedis.exists("name1"));\n//    \tSystem.out.println(jedis.exists("name","name0","name1","name2","name3"));\n//    \tSystem.out.println(jedis.keys("*"));\n//    \tSystem.out.println(jedis.type("name1"));\n//    \tSystem.out.println(jedis.randomKey());\n//    \tSystem.out.println(jedis.flushDB());\n//    \tSystem.out.println(jedis.get("name1"));\n//    \tSystem.out.println(jedis.flushAll());\n//    \tSystem.out.println(jedis.randomKey());\n    \t\n    \t/****2.åå¸(Hash)******/\n    \t/*\n    \tHashMap<String,String> hmap = new HashMap<String,String>();\n    \thmap.put("name5", "eee");\n    \thmap.put("name4", "ddd");\n    \thmap.put("id", "666");\n    \t// è®¾ç½®å¼\n    \tjedis.hset("user", "name6", "fff");\n    \tjedis.hmset("user", hmap);\n    \t// åå¼\n    \tSystem.out.println("hget:\\t" + jedis.hget("user", "name4"));\n    \tSystem.out.println("hmget:\\t" + jedis.hmget("user", "name4","name5","name6"));\n    \tSystem.out.println("hgetAll:\\t" + jedis.hgetAll("user"));\n    \tSystem.out.println("keys:\\t" + jedis.keys("*"));\n    \tSystem.out.println("hkeys:\\t" + jedis.hkeys("user"));\n    \tSystem.out.println("hvals:\\t" + jedis.hvals("user"));\n    \tSystem.out.println("hlen:\\t" + jedis.hlen("user"));\n    \t// å é¤field\n    \tSystem.out.println("hdel\\t" + jedis.hdel("user","name4"));\n    \tSystem.out.println("hdel\\t" + jedis.hdel("user","name5","name6"));\n    \tSystem.out.println(jedis.hgetAll("user"));\n    \t// æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \tSystem.out.println(jedis.hgetAll("user"));\n    \t*/\n\n    \t\n    \t/*******3.åè¡¨List(ç±»ä¼¼äºæ ???)*********/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.lpushx("list", "999");\n    \tjedis.lpush("list", "hhh","ggg","iii");\t\t//1æå¤å°  å¼å§\n    \tjedis.rpush("list", "kkk","jjj");\t\t\t//1æå¤å°  æ«å°¾\n    \tjedis.lpushx("list", "666");\t\t\t\t// æå¥å·²å­å¨åè¡¨å¤´é¨\n    \t// åå¼\n    \tSystem.out.println(jedis.lrange("list", 0, 10));\t//è·åæå®èå´åç´ \n    \tSystem.out.println(jedis.blpop("list","5"));\t\t//ç§»åº ç¬¬ä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tSystem.out.println(jedis.brpop("list", "5"));\t\t//ç§»åº æåä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tSystem.out.println(jedis.lindex("list", 3));\t\t//ç´¢å¼è·ååç´ \n    \tSystem.out.println(jedis.llen("list"));\t\t\t\t//è·ååè¡¨é¿åº¦\n    \tSystem.out.println(jedis.lrange("list", 0, 10));\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t*/\n    \t\n    \t\n    \t/********4.éå(Set)****************/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.sadd("set", "lll", "nnn", "mmm" ,"ooo");\n    \t// åå¼\n    \tSystem.out.println(jedis.smembers("set"));\t\t// ææåç´ \n    \tSystem.out.println(jedis.sismember("set", "ooo"));\t\t\t// key(value)æ¯å¦å­å¨\n    \tSystem.out.println(jedis.sismember("sett", "ooo"));\n    \tSystem.out.println(jedis.srem("set","ooo","mmm"));\t\t// ç§»é¤\n    \tSystem.out.println(jedis.smembers("set"));\n    \t// è¿ç®\n    \tjedis.sadd("set", "set");\n    \tjedis.sadd("sett", "lll", "nnn", "mmm", "ooo", "sett");\n    \tSystem.out.println(jedis.sinter("set", "sett"));\t\t// äº¤é\n    \tSystem.out.println(jedis.sdiff("set", "sett"));\t\t\t// å·®é\n    \tSystem.out.println(jedis.sunion("set", "sett"));\t\t// å¹¶é\n    \t\n    \tSystem.out.println(jedis.scard("set"));\t\t// åç´ æ°ç®\n    \tSystem.out.println(jedis.scard("sett"));\t\t// åç´ æ°ç®\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t*/\n    \t\n    \t/********5.æåºéåsorted set(zset)*************/\n    \tHashMap<String,Double> scoremap = new HashMap<String, Double>(); \n    \tscoremap.put("vvv", 0.22);\n    \tscoremap.put("ppp", 0.16);\n    \tscoremap.put("sss", 0.19);\n    \tscoremap.put("qqq", 0.17);\n    \tscoremap.put("www", 0.23);\n    \tscoremap.put("rrr", 0.18);\n    \tscoremap.put("uuu", 0.21);\n    \tscoremap.put("ttt", 0.20);\n    \t// æ¾å¼\n    \tjedis.zadd("zset", scoremap);\t\t// æ·»å åç´ ææ´æ°åæ°\n    \tjedis.zadd("zset", 0.24, "xxx");\n    \t// åç´ æ¥æ¾ä¿®æ¹\n    \tSystem.out.println(jedis.zrange("zset", 0, 10));\t\t// æ ¹æ®ç´¢å¼è¿ååºé´\n    \tSystem.out.println(jedis.zcount("zset", 0.18, 0.21));\t\t// æ ¹æ®åæ°è¿ååç´ æ°\n    \tSystem.out.println(jedis.zrem("zset", "sss", "ppp"));\t\t// ç§»é¤åç´ \n    \tSystem.out.println(jedis.zcard("zset"));\t\t\t\t\t// åç´ æ°ç®\n    \tSystem.out.println(jedis.zincrby("zset", 1, "www"));\t\t// åæ°å¢é\n    \tSystem.out.println(jedis.zscore("zset", "www"));\t\t// è¿ååæ°å¼\n    \tSystem.out.println(jedis.zrank("zset", "www"));\t\t// è¿ååç´ ç´¢å¼\n    \tSystem.out.println(jedis.zrangeByScore("zset", 0, 2));\t\t// æ ¹æ®åæ°è¿ååç´ åºé´\n    \t//æ¸ç©º\n    \tSystem.out.println(jedis.flushAll());\n    \t\n    \t\n        jedis.close();\n    }\n}\n',normalizedContent:'# è¿å¥å®¢æ·ç«¯\n\nå¯å¨ï¼ redis-server redis.conf\n\nå®¢æ·ç«¯ï¼ redis-cli\n\næ¥çç«¯å£å ç¨ï¼ netstat -tunpl|grep 6379\n\néåºå®¢æ·ç«¯ï¼ exit\n\n\n# 1.æ°æ®ç±»å\n\n\n# ï¼1ï¼string(å­ç¬¦ä¸²)\n\nset xxx aaa     //è®¾ç½®xxx\nget xxx     //è·åxxx\ndel xxx     //å é¤xxx\nmset name1 111 name2 222 name3 333 name4 444    //è®¾ç½®å¤ä¸ª\nmget name1 name2 name3    //æ¥çå¤ä¸ª\nexists xxx     //æ¥çæ¯å¦å­å¨\ntype aaa      //æ¥çvalueçæ°æ®ç±»å\nrandomkey     //ä»å½ååºä¸­éæºè¿åä¸ä¸ªkey\nflushdb     //æ¸ç©ºæ°æ® \nflushall     //æ¸ç©ºææ\n\n\n\n# ï¼2ï¼hash(åå¸)\n\nèµå¼ï¼\nhset keyÂ  fieldÂ  value    //ä¸ºæå®çkeyï¼è®¾å®field/value  \nhmset  key  field value [field1,value1]â¦â¦ åæ¶å°å¤ä¸ª field-value (å-å¼)å¯¹è®¾ç½®å°åå¸è¡¨ key ä¸­ã\n\nåå¼ï¼\nhget key field   //è·åå­å¨å¨hashä¸­çå¼ï¼æ ¹æ®fieldå¾å°value\nhmget key field[field1]      //è·åkeyææç»å®å­æ®µçå¼\nhgetall key                 //è¿åhashè¡¨ä¸­ææçå­æ®µåå¼\nhkeys key   //è·åææåå¸è¡¨ä¸­çå­æ®µ\nhvals key   //è·åææåå¸è¡¨ä¸­çå¼\nhlen key   //è·ååå¸è¡¨ä¸­å­æ®µçæ°é\n\nå é¤è¯­æ³ï¼\nhdel key field1[field2] Â Â Â //å é¤ä¸ä¸ªæå¤ä¸ªhashè¡¨å­æ®µ\n\n\n\n# ï¼3ï¼list(åè¡¨)\n\nlpush key value1 [value2]     // å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å¤´é¨\nrpush key value1 [value2]    // å¨åè¡¨ä¸­æ·»å ä¸ä¸ªæå¤ä¸ªå¼\nblpop key1 [key2 ] timeout    // ç§»åºå¹¶è·ååè¡¨çç¬¬ä¸ä¸ªåç´ ï¼ å¦æåè¡¨æ²¡æåç´ ä¼é»å¡åè¡¨ç´å°ç­å¾è¶æ¶æåç°å¯å¼¹åºåç´ ä¸ºæ­¢ã\nbrpop key1 [key2 ] timeout    // ç§»åºå¹¶è·ååè¡¨çæåä¸ä¸ªåç´ ï¼ å¦æåè¡¨æ²¡æåç´ ä¼é»å¡åè¡¨ç´å°ç­å¾è¶æ¶æåç°å¯å¼¹åºåç´ ä¸ºæ­¢ã\nlinsert key before|after pivot value    // å¨åè¡¨çåç´ åæèåæå¥åç´ \nlindex key index    // éè¿ç´¢å¼è·ååè¡¨ä¸­çåç´ \nllen key     // è·ååè¡¨é¿åº¦\nlrange key start stop    //è·ååè¡¨æå®èå´åçåç´ \n\n\n\n# ï¼4ï¼set(éå)\n\nsadd key member1 [member2]    // åéåæ·»å ä¸ä¸ªæå¤ä¸ªæå\nsmembers key    // è¿åéåä¸­çæææå\nsismember key member    // 1è¡¨ç¤ºå­å¨ï¼0è¡¨ç¤ºä¸å­å¨æè¯¥keyæ¬èº«å°±ä¸å­å¨ï¼æ è®ºéåä¸­æå¤å°åç´ é½å¯ä»¥æéå°è¿åç»æï¼\nsrem key member1 [member2]    // ç§»é¤éåä¸­ä¸ä¸ªæå¤ä¸ªæå\nsinter key1 [key2]      //è¿åç»å®ææéåçäº¤é\nsdiff key1 [key2]     // è¿åç»å®ææéåçå·®éï¼å±äºkey1ä¸å±äºkey2çéåï¼\nsunion key1 [key2]     // è¿åææç»å®éåçå¹¶é\nscard key    //è·åéåä¸­æåçæ°é\nsdiffstore destination key1 [key2]    // å°key1ãkey2ç¸å·®çæåå­å¨å¨destinationä¸­\nsinterstore destination key1 [key2]     //å°è¿åçäº¤éå­å¨å¨destinationä¸­\nsunionstore destination key1 [key2]     //å°è¿åçå¹¶éå­å¨å¨destinationä¸­\n\n\n\n# ï¼5ï¼zset(sorted setï¼æåºéå)\n\nzadd key score1 member1 [score2 member2]    // åæåºéåæ·»å ä¸ä¸ªæå¤ä¸ªæåï¼æèæ´æ°å·²å­å¨æåçåæ°\nzrange key start stop [withscores]     // éè¿ç´¢å¼åºé´è¿åæåºéåæå®åºé´åçæå\nzcount key min max    // è®¡ç®å¨æåºéåä¸­æå®åºé´åæ°çæåæ°\nzrem key member [member ...]    // ç§»é¤æåºéåä¸­çä¸ä¸ªæå¤ä¸ªæå\nzcard key    // è·åæåºéåçæåæ°\nzincrby key increment member    // æåºéåä¸­å¯¹æå®æåçåæ°å ä¸å¢é increment \nzscore key member    // è¿åæåºéä¸­ï¼æåçåæ°å¼\nzrank key member    // è¿åæåºéåä¸­æå®æåçç´¢å¼\nzrangebyscore key min max [withscores] [limit]    // éè¿åæ°è¿åæåºéåæå®åºé´åçæå\nzinterstore destination numkeys key [key ...]    //è®¡ç®ç»å®çä¸ä¸ªæå¤ä¸ªæåºéçäº¤éå¹¶å°ç»æéå­å¨å¨æ°çæåºéå key ä¸­\nzunionstore destination numkeys key [key ...]    //è®¡ç®ç»å®çä¸ä¸ªæå¤ä¸ªæåºéçå¹¶éï¼å¹¶å­å¨å¨æ°ç key ä¸­\n\n\n\n\n# ï¼6ï¼ ä»£ç ç»ä¹ \n\npublic class app \n{\n    public static void main( string[] args )\n    {\n    \tjedis jedis = new jedis("8.8.8.8",6379);\n    \t//jedis.flushall();\n        //system.out.println( "hello world!" + jedis.ping());\n        /*****1.å­ç¬¦ä¸²(string)*****/\n//    \tjedis.set("name1", "aaa");\n//        system.out.println(jedis.get("name1"));\n//    \tjedis.del("name1");\n//    \t\n//    \tjedis.mset("name1","aaa","name2","bbb","name3","ccc");\n//    \tsystem.out.println(jedis.mget("name1","name2","name3"));\n//    \t\n//    \tsystem.out.println(jedis.exists("name1"));\n//    \tsystem.out.println(jedis.exists("name","name0","name1","name2","name3"));\n//    \tsystem.out.println(jedis.keys("*"));\n//    \tsystem.out.println(jedis.type("name1"));\n//    \tsystem.out.println(jedis.randomkey());\n//    \tsystem.out.println(jedis.flushdb());\n//    \tsystem.out.println(jedis.get("name1"));\n//    \tsystem.out.println(jedis.flushall());\n//    \tsystem.out.println(jedis.randomkey());\n    \t\n    \t/****2.åå¸(hash)******/\n    \t/*\n    \thashmap<string,string> hmap = new hashmap<string,string>();\n    \thmap.put("name5", "eee");\n    \thmap.put("name4", "ddd");\n    \thmap.put("id", "666");\n    \t// è®¾ç½®å¼\n    \tjedis.hset("user", "name6", "fff");\n    \tjedis.hmset("user", hmap);\n    \t// åå¼\n    \tsystem.out.println("hget:\\t" + jedis.hget("user", "name4"));\n    \tsystem.out.println("hmget:\\t" + jedis.hmget("user", "name4","name5","name6"));\n    \tsystem.out.println("hgetall:\\t" + jedis.hgetall("user"));\n    \tsystem.out.println("keys:\\t" + jedis.keys("*"));\n    \tsystem.out.println("hkeys:\\t" + jedis.hkeys("user"));\n    \tsystem.out.println("hvals:\\t" + jedis.hvals("user"));\n    \tsystem.out.println("hlen:\\t" + jedis.hlen("user"));\n    \t// å é¤field\n    \tsystem.out.println("hdel\\t" + jedis.hdel("user","name4"));\n    \tsystem.out.println("hdel\\t" + jedis.hdel("user","name5","name6"));\n    \tsystem.out.println(jedis.hgetall("user"));\n    \t// æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \tsystem.out.println(jedis.hgetall("user"));\n    \t*/\n\n    \t\n    \t/*******3.åè¡¨list(ç±»ä¼¼äºæ ???)*********/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.lpushx("list", "999");\n    \tjedis.lpush("list", "hhh","ggg","iii");\t\t//1æå¤å°  å¼å§\n    \tjedis.rpush("list", "kkk","jjj");\t\t\t//1æå¤å°  æ«å°¾\n    \tjedis.lpushx("list", "666");\t\t\t\t// æå¥å·²å­å¨åè¡¨å¤´é¨\n    \t// åå¼\n    \tsystem.out.println(jedis.lrange("list", 0, 10));\t//è·åæå®èå´åç´ \n    \tsystem.out.println(jedis.blpop("list","5"));\t\t//ç§»åº ç¬¬ä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tsystem.out.println(jedis.brpop("list", "5"));\t\t//ç§»åº æåä¸ä¸ªåç´  ç­å¾è¶æ¶\n    \tsystem.out.println(jedis.lindex("list", 3));\t\t//ç´¢å¼è·ååç´ \n    \tsystem.out.println(jedis.llen("list"));\t\t\t\t//è·ååè¡¨é¿åº¦\n    \tsystem.out.println(jedis.lrange("list", 0, 10));\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t*/\n    \t\n    \t\n    \t/********4.éå(set)****************/\n    \t/*\n    \t// æ¾å¼\n    \tjedis.sadd("set", "lll", "nnn", "mmm" ,"ooo");\n    \t// åå¼\n    \tsystem.out.println(jedis.smembers("set"));\t\t// ææåç´ \n    \tsystem.out.println(jedis.sismember("set", "ooo"));\t\t\t// key(value)æ¯å¦å­å¨\n    \tsystem.out.println(jedis.sismember("sett", "ooo"));\n    \tsystem.out.println(jedis.srem("set","ooo","mmm"));\t\t// ç§»é¤\n    \tsystem.out.println(jedis.smembers("set"));\n    \t// è¿ç®\n    \tjedis.sadd("set", "set");\n    \tjedis.sadd("sett", "lll", "nnn", "mmm", "ooo", "sett");\n    \tsystem.out.println(jedis.sinter("set", "sett"));\t\t// äº¤é\n    \tsystem.out.println(jedis.sdiff("set", "sett"));\t\t\t// å·®é\n    \tsystem.out.println(jedis.sunion("set", "sett"));\t\t// å¹¶é\n    \t\n    \tsystem.out.println(jedis.scard("set"));\t\t// åç´ æ°ç®\n    \tsystem.out.println(jedis.scard("sett"));\t\t// åç´ æ°ç®\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t*/\n    \t\n    \t/********5.æåºéåsorted set(zset)*************/\n    \thashmap<string,double> scoremap = new hashmap<string, double>(); \n    \tscoremap.put("vvv", 0.22);\n    \tscoremap.put("ppp", 0.16);\n    \tscoremap.put("sss", 0.19);\n    \tscoremap.put("qqq", 0.17);\n    \tscoremap.put("www", 0.23);\n    \tscoremap.put("rrr", 0.18);\n    \tscoremap.put("uuu", 0.21);\n    \tscoremap.put("ttt", 0.20);\n    \t// æ¾å¼\n    \tjedis.zadd("zset", scoremap);\t\t// æ·»å åç´ ææ´æ°åæ°\n    \tjedis.zadd("zset", 0.24, "xxx");\n    \t// åç´ æ¥æ¾ä¿®æ¹\n    \tsystem.out.println(jedis.zrange("zset", 0, 10));\t\t// æ ¹æ®ç´¢å¼è¿ååºé´\n    \tsystem.out.println(jedis.zcount("zset", 0.18, 0.21));\t\t// æ ¹æ®åæ°è¿ååç´ æ°\n    \tsystem.out.println(jedis.zrem("zset", "sss", "ppp"));\t\t// ç§»é¤åç´ \n    \tsystem.out.println(jedis.zcard("zset"));\t\t\t\t\t// åç´ æ°ç®\n    \tsystem.out.println(jedis.zincrby("zset", 1, "www"));\t\t// åæ°å¢é\n    \tsystem.out.println(jedis.zscore("zset", "www"));\t\t// è¿ååæ°å¼\n    \tsystem.out.println(jedis.zrank("zset", "www"));\t\t// è¿ååç´ ç´¢å¼\n    \tsystem.out.println(jedis.zrangebyscore("zset", 0, 2));\t\t// æ ¹æ®åæ°è¿ååç´ åºé´\n    \t//æ¸ç©º\n    \tsystem.out.println(jedis.flushall());\n    \t\n    \t\n        jedis.close();\n    }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Excelæå·§",frontmatter:{title:"Excelæå·§",date:"2022-09-22T14:41:03.000Z",permalink:"/pages/265b1a/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Excel/01.Excel%E6%8A%80%E5%B7%A7.html",relativePath:"03.æ°æ®åº/10.Excel/01.Excelæå·§.md",key:"v-50566ea5",path:"/pages/265b1a/",headers:[{level:2,title:"Excel ä½¿ç¨",slug:"excel-ä½¿ç¨",normalizedTitle:"excel ä½¿ç¨",charIndex:2},{level:3,title:"ç¸åå¼çååæ ¼åå¹¶",slug:"ç¸åå¼çååæ ¼åå¹¶",normalizedTitle:"ç¸åå¼çååæ ¼åå¹¶",charIndex:15},{level:3,title:"æå°åå¤çè¡¨",slug:"æå°åå¤çè¡¨",normalizedTitle:"æå°åå¤çè¡¨",charIndex:250},{level:3,title:"Vlookup ç»å¯¹å¼ç¨",slug:"vlookup-ç»å¯¹å¼ç¨",normalizedTitle:"vlookup ç»å¯¹å¼ç¨",charIndex:377},{level:2,title:"Word ä½¿ç¨",slug:"word-ä½¿ç¨",normalizedTitle:"word ä½¿ç¨",charIndex:638},{level:3,title:"ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£",slug:"ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£",normalizedTitle:"ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£",charIndex:650}],headersStr:"Excel ä½¿ç¨ ç¸åå¼çååæ ¼åå¹¶ æå°åå¤çè¡¨ Vlookup ç»å¯¹å¼ç¨ Word ä½¿ç¨ ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£",content:'# Excel ä½¿ç¨\n\n\n# ç¸åå¼çååæ ¼åå¹¶\n\nä½¿ç¨åè½ï¼åç±»æ±æ»ãæ¡ä»¶å®ä½\n\n 1. éä¸­éè¦åå¹¶çåï¼ç¹å»ãæ°æ®ã -> ãåç±»æ±æ»ã -> ãç¡®å®ã\n 2. éä¸­ä¸ä¸æ­¥çæåçé¨åè¡ï¼ãF5/Ctrl+Gã -> ï¼å®ä½æ¡ä»¶ï¼å¾éãç©ºå¼ã -> ãç¡®å®ã -> ãå¼å§ã -> ãåå¹¶å±ä¸­ã\n 3. éä¸­ä»»æååæ ¼ï¼ç¹å»ãæ°æ®ã -> ãåç±»æ±æ»ã -> ãå¨é¨å é¤ã\n 4. éä¸­æ ¼å¼æ­£ç¡®çç©ºç½åï¼ç¹å»ãå¼å§ã-> ãæ ¼å¼å·ã å·å¥½æä»¬éè¦åå¹¶çå\n 5. éä¸­ç©ºç½åï¼å³é®å é¤\n\n\n# æå°åå¤çè¡¨\n\nOffice\n\nãæä»¶ã -> ãæå°ã -> ï¼æå°æ´ä¸ªæä»¶èãæ¨ªåï¼ãæ ç¼©æ¾ãä¿®æ¹ä¸ºãå°ææåè°æ´ä¸ºä¸é¡µã\n\nWPS\n\nç¹å»å·¦ä¸æ¹ï¼ãæå°é¢è§ã -> ãåé¡µé¢è§ã -> å¯éè¿æå¨è¾¹çº¿è°æ´æå°èå´ï¼å»æç©ºç½é¡µãè°æ´åé¡µç­ï¼\n\n\n# Vlookup ç»å¯¹å¼ç¨\n\nå¨ Excel ä¸­ï¼å½ä½ ä½¿ç¨ VLOOKUP å½æ°å¹¶åä¸æå¨æ¶ï¼å¹éåï¼lookup_rangeï¼ä¼ç¸åºå°æ¹åï¼è¿æ¯å ä¸º Excel é»è®¤æåµä¸ä¼è°æ´ç¸å¯¹å¼ç¨çèå´ã\n\nåè®¾ä½ æä¸ä¸ª VLOOKUP å½æ°çå¬å¼å¦ä¸ï¼\n\n=IFNA(VLOOKUP(A2, $B$2:$C$10, 2, FALSE), "")\n\n\nå¨è¿ä¸ªä¾å­ä¸­ï¼$B$2:$C$10 æ¯ä¸ä¸ªç»å¯¹å¼ç¨ï¼ä¹å¯ä»¥éæ©åºååæF4é®ï¼ï¼æå³çå®ä¸ä¼å¨åä¸æå¨æ¶æ¹åãä½æ¯ A2 æ¯ä¸ä¸ªç¸å¯¹å¼ç¨ï¼å®ä¼æ ¹æ®ååæ ¼çç¸å¯¹ä½ç½®èæ¹åã\n\n\n# Word ä½¿ç¨\n\n\n# ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£\n\n\n\næ ·å¼(Alt+Ctrl+Shift+S) -> ç®¡çæ ·å¼ -> å¯¼å¥/å¯¼åº -> å³é­æä»¶ï¼x2ï¼-> æå¼æä»¶ï¼x2ï¼-> éä¸­æ ·å¼ -> å¤å¶ï¼æ³¨æç®­å¤´æ¹åï¼ç±åªä¸ªææ¡£å°åªä¸ªææ¡£ï¼',normalizedContent:'# excel ä½¿ç¨\n\n\n# ç¸åå¼çååæ ¼åå¹¶\n\nä½¿ç¨åè½ï¼åç±»æ±æ»ãæ¡ä»¶å®ä½\n\n 1. éä¸­éè¦åå¹¶çåï¼ç¹å»ãæ°æ®ã -> ãåç±»æ±æ»ã -> ãç¡®å®ã\n 2. éä¸­ä¸ä¸æ­¥çæåçé¨åè¡ï¼ãf5/ctrl+gã -> ï¼å®ä½æ¡ä»¶ï¼å¾éãç©ºå¼ã -> ãç¡®å®ã -> ãå¼å§ã -> ãåå¹¶å±ä¸­ã\n 3. éä¸­ä»»æååæ ¼ï¼ç¹å»ãæ°æ®ã -> ãåç±»æ±æ»ã -> ãå¨é¨å é¤ã\n 4. éä¸­æ ¼å¼æ­£ç¡®çç©ºç½åï¼ç¹å»ãå¼å§ã-> ãæ ¼å¼å·ã å·å¥½æä»¬éè¦åå¹¶çå\n 5. éä¸­ç©ºç½åï¼å³é®å é¤\n\n\n# æå°åå¤çè¡¨\n\noffice\n\nãæä»¶ã -> ãæå°ã -> ï¼æå°æ´ä¸ªæä»¶èãæ¨ªåï¼ãæ ç¼©æ¾ãä¿®æ¹ä¸ºãå°ææåè°æ´ä¸ºä¸é¡µã\n\nwps\n\nç¹å»å·¦ä¸æ¹ï¼ãæå°é¢è§ã -> ãåé¡µé¢è§ã -> å¯éè¿æå¨è¾¹çº¿è°æ´æå°èå´ï¼å»æç©ºç½é¡µãè°æ´åé¡µç­ï¼\n\n\n# vlookup ç»å¯¹å¼ç¨\n\nå¨ excel ä¸­ï¼å½ä½ ä½¿ç¨ vlookup å½æ°å¹¶åä¸æå¨æ¶ï¼å¹éåï¼lookup_rangeï¼ä¼ç¸åºå°æ¹åï¼è¿æ¯å ä¸º excel é»è®¤æåµä¸ä¼è°æ´ç¸å¯¹å¼ç¨çèå´ã\n\nåè®¾ä½ æä¸ä¸ª vlookup å½æ°çå¬å¼å¦ä¸ï¼\n\n=ifna(vlookup(a2, $b$2:$c$10, 2, false), "")\n\n\nå¨è¿ä¸ªä¾å­ä¸­ï¼$b$2:$c$10 æ¯ä¸ä¸ªç»å¯¹å¼ç¨ï¼ä¹å¯ä»¥éæ©åºååæf4é®ï¼ï¼æå³çå®ä¸ä¼å¨åä¸æå¨æ¶æ¹åãä½æ¯ a2 æ¯ä¸ä¸ªç¸å¯¹å¼ç¨ï¼å®ä¼æ ¹æ®ååæ ¼çç¸å¯¹ä½ç½®èæ¹åã\n\n\n# word ä½¿ç¨\n\n\n# ä¸ä¸ªææ¡£çæ ·å¼åºç¨äºå¦ä¸ä¸ªææ¡£\n\n\n\næ ·å¼(alt+ctrl+shift+s) -> ç®¡çæ ·å¼ -> å¯¼å¥/å¯¼åº -> å³é­æä»¶ï¼x2ï¼-> æå¼æä»¶ï¼x2ï¼-> éä¸­æ ·å¼ -> å¤å¶ï¼æ³¨æç®­å¤´æ¹åï¼ç±åªä¸ªææ¡£å°åªä¸ªææ¡£ï¼',charsets:{cjk:!0},lastUpdated:"2025/01/15, 20:27:10",lastUpdatedTimestamp:173694403e4},{title:"SQLéå¸¸è§ç¨æ³",frontmatter:{title:"SQLéå¸¸è§ç¨æ³",date:"2022-06-12T22:15:30.000Z",permalink:"/pages/e02b49/",categories:["æ°æ®åº"],tags:["è®°å½ä¸äºä¸å¤ªå¸¸è§ï¼ä½éå¸¸æç¨çSQLåæ³"]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/1000.SQL%E9%9D%9E%E5%B8%B8%E8%A7%84%E7%94%A8%E6%B3%95%E9%9B%86%E9%94%A6.html",relativePath:"03.æ°æ®åº/1000.SQLéå¸¸è§ç¨æ³éé¦.md",key:"v-00c7823d",path:"/pages/e02b49/",headers:[{level:2,title:"SQL",slug:"sql",normalizedTitle:"sql",charIndex:2},{level:4,title:"éå½CTEs",slug:"éå½ctes",normalizedTitle:"éå½ctes",charIndex:9},{level:4,title:"çªå£å½æ° rowsbetweenãrangebetween çä½¿ç¨",slug:"çªå£å½æ°-rowsbetweenãrangebetween-çä½¿ç¨",normalizedTitle:"çªå£å½æ° rowsbetweenãrangebetween çä½¿ç¨",charIndex:5609},{level:4,title:"åå®¢ï¼10ä¸ªSQLææçº§ç¹æ§",slug:"åå®¢-10ä¸ªsqlææçº§ç¹æ§",normalizedTitle:"åå®¢ï¼10ä¸ªsqlææçº§ç¹æ§",charIndex:6176}],headersStr:"SQL éå½CTEs çªå£å½æ° rowsbetweenãrangebetween çä½¿ç¨ åå®¢ï¼10ä¸ªSQLææçº§ç¹æ§",content:"# SQL\n\n# éå½CTEs\n\n> éå½CETå¯ç¨äºæ¥è¯¢ç»ç»ç»æå¾ãæä»¶ç³»ç»ãç½é¡µä¹é´çé¾æ¥å¾ç­åå±æ°æ®\n\néå½CTEä¸é¨åï¼\n\n 1. éæä»¶ï¼å®ç¹æåï¼ï¼è¿å CTE çåºæ¬ç»æçåå§æ¥è¯¢\n 2. éå½æåï¼å¼ç¨ CTE çéå½æ¥è¯¢ãè¿æ¯ææä¸éæä»¶çèç\n 3. åæ­¢éå½æä»¶çç»æ­¢æ¡ä»¶ï¼éå¼çï¼å½ä¸ä¸ä¸ªè°ç¨ä¸­æªè¿åè¡æ¶ï¼éå½å°åæ­¢ãï¼\n\nç¹å»æ¥ç\n\nç¤ºä¾\n\n-- æµè¯è¡¨å»ºè¡¨è¯­å¥\nCREATE TABLE TABLENAME(\n  ItemId INT PRIMARY KEY,\n  ParentItemId INT,\n  ItemName VARCHAR(200)\n)\n\n-- æå¥æ°æ®\ninsert into tablename values(2,0,'ç®¡çè´¹ç¨');\ninsert into tablename values(3,0,'éå®è´¹ç¨');\ninsert into tablename values(4,0,'è´¢å¡è´¹ç¨');\ninsert into tablename values(5,0,'çäº§ææ¬');\ninsert into tablename values(35,5,'ææ');\ninsert into tablename values(36,5,'äººå·¥');\ninsert into tablename values(37,5,'å¶é è´¹ç¨');\ninsert into tablename values(38,35,'åææ');\ninsert into tablename values(39,35,'ä¸»è¦ææ');\ninsert into tablename values(40,35,'é´è¾ææ');\ninsert into tablename values(41,36,'å·¥èµ');\ninsert into tablename values(42,36,'ç¦å©');\ninsert into tablename values(43,2,'ç®¡çè´¹ç¨å­é¡¹');\ninsert into tablename values(113,43,'ç®¡çè´¹ç¨å­é¡¹çå­é¡¹');\n\n-- éå½ CTE è¯­å¥ï¼å¨ MySQL8.0 å°è¯ä¸å¥½ä½¿ï¼å¨ Oracle æ¯å¥½ä½¿çï¼\nWITH tablenameTemp(ItemId, ItemName, levelno) AS (\nSELECT ItemId, ItemName, 0 as levelno\n  FROM tablename\n WHERE ParentItemId = 0\nUNION ALL\nSELECT T1.ItemId, T1.ItemName, T2.levelno + 1 as levelno\n  FROM tablename T1\n INNER JOIN tablenameTemp T2\n    ON T1.parentitemid = T2.itemid\n)\nSELECT * FROM tablenameTemp\n\n\n\nåèé¾æ¥\n\nå¾ççç¨æ³\n\nWITH    RECURSIVE\n        q (r, i, rx, ix, g) AS\n        (\n        SELECT  r::DOUBLE PRECISION * 0.02, i::DOUBLE PRECISION * 0.02, .0::DOUBLE PRECISION, .0::DOUBLE PRECISION, 0\n        FROM    generate_series(-60, 20) r, generate_series(-50, 50) i\n        UNION ALL\n        SELECT  r, i, CASE WHEN ABS(rx * rx + ix * ix) <= 2 THEN rx * rx - ix * ix END + r, CASE WHEN ABS(rx * rx + ix * ix) <= 2 THEN 2 * rx * ix END + i, g + 1\n        FROM    q\n        WHERE   rx IS NOT NULL\n                AND g < 99\n        )\nSELECT  ARRAY_TO_STRING(ARRAY_AGG(s ORDER BY r), '')\nFROM    (\n        SELECT  i, r, SUBSTRING(' .:-=+*#%@', MAX(g) / 10 + 1, 1) s\n        FROM    q\n        GROUP BY\n                i, r\n        ) q\nGROUP BY\n        i\nORDER BY\n        i\n\n\nWITH    RECURSIVE\n        q (r, i, rx, ix, g) AS\n        (\n        SELECT  r::DOUBLE PRECISION * 0.04, i::DOUBLE PRECISION * 0.04, .0::DOUBLE PRECISION, .0::DOUBLE PRECISION, 0\n        FROM    generate_series(-40, 20) r, generate_series(-40, 20) i\n        UNION ALL\n        SELECT  r, i, CASE WHEN ABS(rx * rx + ix * ix) <= 1E8 THEN rx * rx - ix * ix END + r, CASE WHEN ABS(rx * rx + ix * ix) <= 2 THEN ABS(2 * rx * ix) END + i, g + 1\n        FROM    q\n        WHERE   rx IS NOT NULL\n                AND g < 99\n        )\nSELECT  ARRAY_TO_STRING(ARRAY_AGG(s ORDER BY r), '')\nFROM    (\n        SELECT  i, r, SUBSTRING(' .:-=+*#%@', MAX(g) / 10 + 1, 1) s\n        FROM    q\n        GROUP BY\n                i, r\n        ) q\nGROUP BY\n        i\nORDER BY\n        i\n\n\nWITH    RECURSIVE\n        q (r, i, rx, ix, g) AS\n        (\n        SELECT  r::DOUBLE PRECISION * 0.000001, i::DOUBLE PRECISION * 0.000001,\n                r::DOUBLE PRECISION * 0.000001, i::DOUBLE PRECISION * 0.000001,\n                0\n        FROM    generate_series(-40, 40) r, generate_series(-50, 50) i\n        UNION ALL\n        SELECT  r, i,\n                CASE WHEN ABS(rx * rx + ix * ix) < 1E8 THEN rx * rx - ix * ix END + 0,\n                CASE WHEN ABS(rx * rx + ix * ix) < 1E8 THEN 2 * rx * ix END + 1,\n                g + 1\n        FROM    q\n        WHERE   rx IS NOT NULL\n                AND g < 99\n        )\nSELECT  ARRAY_TO_STRING(ARRAY_AGG(s ORDER BY r), '')\nFROM    (\n        SELECT  i, r, SUBSTRING(' .:-=+*#%@', MAX(g) / 10 + 1, 1) s\n        FROM    q\n        GROUP BY\n                i, r\n        ) q\nGROUP BY\n        i\nORDER BY\n        i\n\n\nWITH    RECURSIVE\n        q (r, i, rx, ix, g) AS\n        (\n        SELECT  r::DOUBLE PRECISION * 0.0002, i::DOUBLE PRECISION * 0.0002,\n                r::DOUBLE PRECISION * 0.0002, i::DOUBLE PRECISION * 0.0002,\n                0\n        FROM    generate_series(-200, -120) r, generate_series(0, 100) i\n        UNION ALL\n        SELECT  r, i,\n                CASE WHEN ABS(rx * rx + ix * ix) < 1E8 THEN rx * rx - ix * ix END - 0.70176,\n                CASE WHEN ABS(rx * rx + ix * ix) < 1E8 THEN 2 * rx * ix END + 0.3842,\n                g + 1\n        FROM    q\n        WHERE   rx IS NOT NULL\n                AND g < 99\n        )\nSELECT  ARRAY_TO_STRING(ARRAY_AGG(s ORDER BY r), '')\nFROM    (\n        SELECT  i, r, SUBSTRING(' .:-=+*#%@', MAX(g) / 10 + 1, 1) s\n        FROM    q\n        GROUP BY\n                i, r\n        ) q\nGROUP BY\n        i\nORDER BY\n        i\n\n\nWITH    RECURSIVE\n        q (r, i, rx, ix, g) AS\n        (\n        SELECT  x + r::DOUBLE PRECISION * step, y + i::DOUBLE PRECISION * step,\n                x + r::DOUBLE PRECISION * step, y + i::DOUBLE PRECISION * step,\n                0\n        FROM    (\n                SELECT  0.25 x, -0.55 y, 0.002 step, r, i\n                FROM    generate_series(-40, 40) r\n                CROSS JOIN\n                        generate_series(-40, 40) i\n                ) q\n        UNION ALL\n        SELECT  r, i,\n                CASE WHEN (rx * rx + ix * ix) < 1E8 THEN (rx * rx + ix * ix) ^ 0.75 * COS(1.5 * ATAN2(ix, rx)) END - 0.2,\n                CASE WHEN (rx * rx + ix * ix) < 1E8 THEN (rx * rx + ix * ix) ^ 0.75 * SIN(1.5 * ATAN2(ix, rx)) END,\n                g + 1\n        FROM    q\n        WHERE   rx IS NOT NULL\n                AND g < 99\n        )\nSELECT  ARRAY_TO_STRING(ARRAY_AGG(s ORDER BY r), '')\nFROM    (\n        SELECT  i, r, SUBSTRING(' .:-=+*#%@', MAX(g) / 10 + 1, 1) s\n        FROM    q\n        GROUP BY\n                i, r\n        ) q\nGROUP BY\n        i\nORDER BY\n        i\n\n\n# çªå£å½æ° rowsbetweenãrangebetween çä½¿ç¨\n\n-- å¾è¡¥å\n\n\nSELECT CODE\n,TO_CHAR(WM_CONCAT(CODE) OVER(PARTITION BY LEVELNO ORDER BY CODE )) AS test1\n--,TO_CHAR(WM_CONCAT(CODE) OVER(PARTITION BY LEVELNO ORDER BY CODE rows between 1 preceding and 3 following)) AS test1   -- å½åä¹åä¸è¡å°åé¢ä¸è¡\n--,TO_CHAR(WM_CONCAT(CODE) OVER(PARTITION BY LEVELNO ORDER BY CODE rows between UNBOUNDED PRECEDING and CURRENT ROW)) AS test2  -- åºé´ç¬¬ä¸è¡å°å½åè¡\n,TO_CHAR(WM_CONCAT(CODE) OVER(PARTITION BY LEVELNO ORDER BY CODE rows between CURRENT ROW and UNBOUNDED FOLLOWING)) AS test3  -- å½åè¡åºé´æåä¸è¡\nFROM AD_TABLE\n\n\n# åå®¢ï¼10ä¸ªSQLææçº§ç¹æ§\n\nåæå°å",normalizedContent:"# sql\n\n# éå½ctes\n\n> éå½cetå¯ç¨äºæ¥è¯¢ç»ç»ç»æå¾ãæä»¶ç³»ç»ãç½é¡µä¹é´çé¾æ¥å¾ç­åå±æ°æ®\n\néå½cteä¸é¨åï¼\n\n 1. éæä»¶ï¼å®ç¹æåï¼ï¼è¿å cte çåºæ¬ç»æçåå§æ¥è¯¢\n 2. éå½æåï¼å¼ç¨ cte çéå½æ¥è¯¢ãè¿æ¯ææä¸éæä»¶çèç\n 3. åæ­¢éå½æä»¶çç»æ­¢æ¡ä»¶ï¼éå¼çï¼å½ä¸ä¸ä¸ªè°ç¨ä¸­æªè¿åè¡æ¶ï¼éå½å°åæ­¢ãï¼\n\nç¹å»æ¥ç\n\nç¤ºä¾\n\n-- æµè¯è¡¨å»ºè¡¨è¯­å¥\ncreate table tablename(\n  itemid int primary key,\n  parentitemid int,\n  itemname varchar(200)\n)\n\n-- æå¥æ°æ®\ninsert into tablename values(2,0,'ç®¡çè´¹ç¨');\ninsert into tablename values(3,0,'éå®è´¹ç¨');\ninsert into tablename values(4,0,'è´¢å¡è´¹ç¨');\ninsert into tablename values(5,0,'çäº§ææ¬');\ninsert into tablename values(35,5,'ææ');\ninsert into tablename values(36,5,'äººå·¥');\ninsert into tablename values(37,5,'å¶é è´¹ç¨');\ninsert into tablename values(38,35,'åææ');\ninsert into tablename values(39,35,'ä¸»è¦ææ');\ninsert into tablename values(40,35,'é´è¾ææ');\ninsert into tablename values(41,36,'å·¥èµ');\ninsert into tablename values(42,36,'ç¦å©');\ninsert into tablename values(43,2,'ç®¡çè´¹ç¨å­é¡¹');\ninsert into tablename values(113,43,'ç®¡çè´¹ç¨å­é¡¹çå­é¡¹');\n\n-- éå½ cte è¯­å¥ï¼å¨ mysql8.0 å°è¯ä¸å¥½ä½¿ï¼å¨ oracle æ¯å¥½ä½¿çï¼\nwith tablenametemp(itemid, itemname, levelno) as (\nselect itemid, itemname, 0 as levelno\n  from tablename\n where parentitemid = 0\nunion all\nselect t1.itemid, t1.itemname, t2.levelno + 1 as levelno\n  from tablename t1\n inner join tablenametemp t2\n    on t1.parentitemid = t2.itemid\n)\nselect * from tablenametemp\n\n\n\nåèé¾æ¥\n\nå¾ççç¨æ³\n\nwith    recursive\n        q (r, i, rx, ix, g) as\n        (\n        select  r::double precision * 0.02, i::double precision * 0.02, .0::double precision, .0::double precision, 0\n        from    generate_series(-60, 20) r, generate_series(-50, 50) i\n        union all\n        select  r, i, case when abs(rx * rx + ix * ix) <= 2 then rx * rx - ix * ix end + r, case when abs(rx * rx + ix * ix) <= 2 then 2 * rx * ix end + i, g + 1\n        from    q\n        where   rx is not null\n                and g < 99\n        )\nselect  array_to_string(array_agg(s order by r), '')\nfrom    (\n        select  i, r, substring(' .:-=+*#%@', max(g) / 10 + 1, 1) s\n        from    q\n        group by\n                i, r\n        ) q\ngroup by\n        i\norder by\n        i\n\n\nwith    recursive\n        q (r, i, rx, ix, g) as\n        (\n        select  r::double precision * 0.04, i::double precision * 0.04, .0::double precision, .0::double precision, 0\n        from    generate_series(-40, 20) r, generate_series(-40, 20) i\n        union all\n        select  r, i, case when abs(rx * rx + ix * ix) <= 1e8 then rx * rx - ix * ix end + r, case when abs(rx * rx + ix * ix) <= 2 then abs(2 * rx * ix) end + i, g + 1\n        from    q\n        where   rx is not null\n                and g < 99\n        )\nselect  array_to_string(array_agg(s order by r), '')\nfrom    (\n        select  i, r, substring(' .:-=+*#%@', max(g) / 10 + 1, 1) s\n        from    q\n        group by\n                i, r\n        ) q\ngroup by\n        i\norder by\n        i\n\n\nwith    recursive\n        q (r, i, rx, ix, g) as\n        (\n        select  r::double precision * 0.000001, i::double precision * 0.000001,\n                r::double precision * 0.000001, i::double precision * 0.000001,\n                0\n        from    generate_series(-40, 40) r, generate_series(-50, 50) i\n        union all\n        select  r, i,\n                case when abs(rx * rx + ix * ix) < 1e8 then rx * rx - ix * ix end + 0,\n                case when abs(rx * rx + ix * ix) < 1e8 then 2 * rx * ix end + 1,\n                g + 1\n        from    q\n        where   rx is not null\n                and g < 99\n        )\nselect  array_to_string(array_agg(s order by r), '')\nfrom    (\n        select  i, r, substring(' .:-=+*#%@', max(g) / 10 + 1, 1) s\n        from    q\n        group by\n                i, r\n        ) q\ngroup by\n        i\norder by\n        i\n\n\nwith    recursive\n        q (r, i, rx, ix, g) as\n        (\n        select  r::double precision * 0.0002, i::double precision * 0.0002,\n                r::double precision * 0.0002, i::double precision * 0.0002,\n                0\n        from    generate_series(-200, -120) r, generate_series(0, 100) i\n        union all\n        select  r, i,\n                case when abs(rx * rx + ix * ix) < 1e8 then rx * rx - ix * ix end - 0.70176,\n                case when abs(rx * rx + ix * ix) < 1e8 then 2 * rx * ix end + 0.3842,\n                g + 1\n        from    q\n        where   rx is not null\n                and g < 99\n        )\nselect  array_to_string(array_agg(s order by r), '')\nfrom    (\n        select  i, r, substring(' .:-=+*#%@', max(g) / 10 + 1, 1) s\n        from    q\n        group by\n                i, r\n        ) q\ngroup by\n        i\norder by\n        i\n\n\nwith    recursive\n        q (r, i, rx, ix, g) as\n        (\n        select  x + r::double precision * step, y + i::double precision * step,\n                x + r::double precision * step, y + i::double precision * step,\n                0\n        from    (\n                select  0.25 x, -0.55 y, 0.002 step, r, i\n                from    generate_series(-40, 40) r\n                cross join\n                        generate_series(-40, 40) i\n                ) q\n        union all\n        select  r, i,\n                case when (rx * rx + ix * ix) < 1e8 then (rx * rx + ix * ix) ^ 0.75 * cos(1.5 * atan2(ix, rx)) end - 0.2,\n                case when (rx * rx + ix * ix) < 1e8 then (rx * rx + ix * ix) ^ 0.75 * sin(1.5 * atan2(ix, rx)) end,\n                g + 1\n        from    q\n        where   rx is not null\n                and g < 99\n        )\nselect  array_to_string(array_agg(s order by r), '')\nfrom    (\n        select  i, r, substring(' .:-=+*#%@', max(g) / 10 + 1, 1) s\n        from    q\n        group by\n                i, r\n        ) q\ngroup by\n        i\norder by\n        i\n\n\n# çªå£å½æ° rowsbetweenãrangebetween çä½¿ç¨\n\n-- å¾è¡¥å\n\n\nselect code\n,to_char(wm_concat(code) over(partition by levelno order by code )) as test1\n--,to_char(wm_concat(code) over(partition by levelno order by code rows between 1 preceding and 3 following)) as test1   -- å½åä¹åä¸è¡å°åé¢ä¸è¡\n--,to_char(wm_concat(code) over(partition by levelno order by code rows between unbounded preceding and current row)) as test2  -- åºé´ç¬¬ä¸è¡å°å½åè¡\n,to_char(wm_concat(code) over(partition by levelno order by code rows between current row and unbounded following)) as test3  -- å½åè¡åºé´æåä¸è¡\nfrom ad_table\n\n\n# åå®¢ï¼10ä¸ªsqlææçº§ç¹æ§\n\nåæå°å",charsets:{cjk:!0},lastUpdated:"2022/07/28, 09:54:00",lastUpdatedTimestamp:165897324e4},{title:"Pythonç®åè¯­æ³å­¦ä¹ ",frontmatter:{title:"Pythonç®åè¯­æ³å­¦ä¹ ",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/f2a330/",categories:["å¶ä»","Python"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/01.Python/01.Python%E7%AE%80%E5%8D%95%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0.html",relativePath:"04.å¶ä»/01.Python/01.Pythonç®åè¯­æ³å­¦ä¹ .md",key:"v-2a8f5aa8",path:"/pages/f2a330/",headers:[{level:2,title:"åºç¡",slug:"åºç¡",normalizedTitle:"åºç¡",charIndex:2},{level:2,title:"æµç¨æ§å¶",slug:"æµç¨æ§å¶",normalizedTitle:"æµç¨æ§å¶",charIndex:726},{level:2,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»å",charIndex:4109},{level:3,title:"åºåæ°æ®ç±»å  List(åè¡¨)",slug:"åºåæ°æ®ç±»å-list-åè¡¨",normalizedTitle:"åºåæ°æ®ç±»å  list(åè¡¨)",charIndex:4138},{level:3,title:"åºåæ°æ®ç±»å  Tuple(åç»)",slug:"åºåæ°æ®ç±»å-tuple-åç»",normalizedTitle:"åºåæ°æ®ç±»å  tuple(åç»)",charIndex:4935},{level:3,title:"åºåæ°æ®ç±»å  Set(éå)",slug:"åºåæ°æ®ç±»å-set-éå",normalizedTitle:"åºåæ°æ®ç±»å  set(éå)",charIndex:5166},{level:3,title:"åºåæ°æ®ç±»å  dictionary(å­å¸)",slug:"åºåæ°æ®ç±»å-dictionary-å­å¸",normalizedTitle:"åºåæ°æ®ç±»å  dictionary(å­å¸)",charIndex:5560},{level:2,title:"å½æ°åç±»",slug:"å½æ°åç±»",normalizedTitle:"å½æ°åç±»",charIndex:5841},{level:3,title:"å½æ°åæ°åè¿åå¼çç±»å",slug:"å½æ°åæ°åè¿åå¼çç±»å",normalizedTitle:"å½æ°åæ°åè¿åå¼çç±»å",charIndex:5850},{level:3,title:"ç±»çç»ä¹ ",slug:"ç±»çç»ä¹ ",normalizedTitle:"ç±»çç»ä¹ ",charIndex:7415},{level:2,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:9783},{level:3,title:"æå·¥æµè¯",slug:"æå·¥æµè¯",normalizedTitle:"æå·¥æµè¯",charIndex:9790},{level:3,title:"ä»£ç æµè¯å·¥å·unittest",slug:"ä»£ç æµè¯å·¥å·unittest",normalizedTitle:"ä»£ç æµè¯å·¥å·unittest",charIndex:10192},{level:2,title:"æä»¶è¯»å",slug:"æä»¶è¯»å",normalizedTitle:"æä»¶è¯»å",charIndex:11824},{level:3,title:"æä»¶è¯»å",slug:"æä»¶è¯»å",normalizedTitle:"æä»¶è¯»å",charIndex:11833},{level:3,title:"æä»¶åå¥",slug:"æä»¶åå¥",normalizedTitle:"æä»¶åå¥",charIndex:12725},{level:3,title:"jsonæ°æ®è¯»å",slug:"jsonæ°æ®è¯»å",normalizedTitle:"jsonæ°æ®è¯»å",charIndex:13437}],headersStr:"åºç¡ æµç¨æ§å¶ æ°æ®ç±»å åºåæ°æ®ç±»å  List(åè¡¨) åºåæ°æ®ç±»å  Tuple(åç») åºåæ°æ®ç±»å  Set(éå) åºåæ°æ®ç±»å  dictionary(å­å¸) å½æ°åç±» å½æ°åæ°åè¿åå¼çç±»å ç±»çç»ä¹  æµè¯ æå·¥æµè¯ ä»£ç æµè¯å·¥å·unittest æä»¶è¯»å æä»¶è¯»å æä»¶åå¥ jsonæ°æ®è¯»å",content:'# åºç¡\n\n"""Jupyter Notebook çå¿«æ·é®: https://www.jianshu.com/p/72493e81a708"""\n# 1. æå°å³é®å­\nimport keyword\nprint(keyword.kwlist)\n\n# 2. æå°è¯­å¥\nprint("Hello\\\n\tPython\\\n\tHello\\\n\tWorld")\n\n\n# 3.åéä¸éå£°æ  åéèµå¼ä¸ºä»»æç±»å(å¨æè¯­è¨)\na = 12\nprint(f"a:{a} type:{type(a)}")\n\na = "python"\nprint("a:", a, "type:", type(a))\n\n# è¾åºå¯¹è±¡å°å\nprint(id(a))\ndel a\n# print(a)\n\n\n# 4. input å å­ç¬¦ä¸²è¿æ¥\nname = "John"\n# + è¿æ¥\nmes1 = name + " is a coder"\n# ,è¿æ¥\nmes2 = name, " is a coder"\nprint(name, " is a coder")\n# .joinè¿æ¥\nmes3 = " ".join(mes2)\n# æ ¼å¼å\nmes4 = "%s and %s is a coder" % (name, "Smith")\n# f("{}")\nmes5 = f"{name} is a coder"\n\nprint(f"{mes1}\\n{mes2}\\n{mes3}\\n{mes4}\\n{mes5}")\ndel mes1, mes2, mes3, mes4, mes5\n\n\n# 5.input\nname = input("è¯·è¾å¥å§å:")\nprint("Hello", name)\n\n\n\n# æµç¨æ§å¶\n\n\'\'\' æµç¨æ§å¶ 1 \'\'\'\n# 6. å½æ°\ndef run():\n        print("car started...")\n        pass\n\ndef stop():\n        print("car stopped...")\n        pass\n\ndef error():\n        print("I can\'t understand...")\n        pass\n\n# 7. åæ¯\n        # ==ï¼ ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡çå¼æ¯å¦ç¸ç­\n        # is: å¤æ­ä¸¤ä¸ªåéæ¯å¦å¼ç¨çæ¯åä¸ä¸ªå¯¹è±¡ï¼åºå±å¤æ­çä¾æ®æ¯ä¸¤ä¸ªåéçidæ¯å¦ç¸ç­\nstatus = "stop"\ndef message(mes):\n        # å£°æ status ä¸ºå¨å±åé\n        global status\n        if mes in "start" and status in "stop":\n            run()\n            status = "start"\n        elif mes == "stop" and status == "start":\n            stop()\n            status = "stop"\n        elif mes in "start" and status in "start":\n            print("Car is already started")\n        elif mes in "stop" and status in "stop":\n            print("Car is already stopped")\n        else:\n            error()\n\n# 8. å¾ªç¯\n\nwhile True:\n        order = input("è¯·è¾å¥å½ä»¤:")\n        if order not in ["END", "end"]:\n            message(order)\n        else:\n            print("finish")\n            break\ndel status\n\n\nç¹å»æ¥ç\n\nç»ä¹ \n\n\'\'\' æµç¨æ§å¶ 2 \'\'\'\n# 9 * 9 ä¹æ³è¡¨\nfor i in range(1, 10, 1):\n    for j in range(1, i+1):\n        print(f"{i} * {j} = {i * j}", end="\\t")\n    print()\n\n\'\'\'ææ³¢é£å¥æ°å\'\'\'\ndef fibonacci(n):\n    if n==1 or n==2:\n        return 1\n    return fibonacci(n-1) + fibonacci(n-2)\n\nfor i in range(1, 20):\n    print(fibonacci(i), end=" ")\n    \nfibonacci(10)\n\n\'\'\'ç´ æ°\'\'\'\nimport math\n\ndef sushu(start, end):\n    # å»æ1 0\n    if start<2:\n        start=2\n    # å®ä¹è¿åç»æ\n    result= []\n    for i in range(start, end+1):\n        # é»è®¤é½æ¯ç´ æ°\n        flag = False\n        #ä»2ä½ä¸ºé¤æ°å¼å§å¤æ­å½åæ°æ¯å¦è½å¤è¢«é¤1åæ¬èº«çå¶ä»æ°æ´é¤\n        for j in range(2, int(math.sqrt(i)+1)): \n            # å¦æè½è¢«2æèå°äºèªå·±çæ°æ´é¤ï¼è¿ä¸æ¯ç´ æ°ï¼æ¹åflagä¸ºTrue\n            if i%j == 0:\n                flag = True\n                break\n        if flag == False:\n            result.append(i)\n    return result\n\nresult = sushu(0,101)\nprint(len(result))\nprint(result)\n\n\'\'\'è¾å¥æå¹´ææææ¥ï¼å¤æ­è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬å å¤©\'\'\'\n#è¾å¥æå¹´ææææ¥ï¼å¤æ­è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬å å¤©ï¼\n\n\ndef outter(func):\n    def inner():\n        year = int(input("è¯·è¾å¥ä¸ä¸ªå¹´ä»½:"))\n        # global year\n        if year % 100 != 0 and year % 4 == 0 or year % 400 == 0:\n            print("%dæ¯é°å¹´"%year)\n            dict1[2]=29\n            func()\n        else:\n            print("%dæ¯å¹³å¹´"%year)\n            func()\n    return inner\n\ndict1 ={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:30,9:31,10:31,11:30,12:31}\n@outter\ndef f():\n    ymd2 = input("è¾å¥å¹´-æ-æ¥[year-month-day]:")\n    ymd1 =ymd2.split(\'-\')\n    day =0\n    for x in range(1,int(ymd1[1])):\n        day += dict1[x]\n    Day = day+int(ymd1[2])\n    print("è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬%då¤©"%Day)\n\nf()\n\n\n\'\'\'æ¶é´è½¬æ¢\'\'\'\nimport datetime\n\n# è¾å¥æ¶é´\ninput_time = input("è¯·è¾å¥æ¶é´(%Y-%m-%d):")  # input_time = "2020-7-3"\n# å­ç¬¦ä¸²è½¬ä¸ºæ¶é´\nend_time = datetime.datetime.strptime(input_time, \'%Y-%m-%d\')\n# æ¼æ¥ä¸ä¸å¹´æåä¸å¤©çæ¶é´\nstart_time = datetime.datetime.strptime(str(end_time.year-1) + "-12-31", \'%Y-%m-%d\')\n# æ¶é´ç¸å å¾å°å¤©æ°\n(end_time-start_time).days\n\n\'\'\'æ¶é´è½¬æ¢2\'\'\'\n# æ¥æ¶è¾å¥çä¿¡æ¯ï¼å¹¶æåæå¹´ææ¥åé\nyear = int(input(\'year:\\n\'))\nmonth = int(input(\'month:\\n\'))\nday = int(input(\'day:\\n\'))\n# é¢å®ä¹æ¯ä¸ªæå¯¹åºå¹´çç¬¬å å¤©\nmonths = (0,31,59,90,120,151,181,212,243,273,304,334)\nif 0 < month <= 12:\n    # ç¬¬å å¤©ç¨sumåéè¡¨ç¤ºï¼å¹¶åå§åä¸ºmonthsæ°ç»å¯¹åºçå¤©æ°\n    sum = months[month-1]\nelse:\n    print(\'data error\')\n# æ·»å dayæä»£è¡¨çå¤©æ°\nsum += day\n# é°å¹´æ è®°\nleap = 0\n# å¤æ­æ¯å¦ä¸ºé°å¹´\nif year % 400 == 0 or year % 4 == 0 and year % 100 != 0:\n    leap = 1\n    # å¦ææ¯é°å¹´ï¼æ»å¤©æ°éè¦å ä¸å¤©\n    if leap == 1 and month > 2:\n        sum += 1       \nprint(\'it is the %dth day.\' % sum)\n\n\n\n\n# æ°æ®ç±»å\n\n\n# åºåæ°æ®ç±»å List(åè¡¨)\n\n"""åºåæ°æ®ç±»å  List(åè¡¨)"""\n\n\n# åå»º 1.pythonåè¡¨å¯ä»¥å­å¨ä»»æç±»åçå¯¹è±¡ 2.æç§é¡ºåºå­å¨\nmy_list = [1.0, "python", True, None, print, list(range(0, 10, 3))]\nprint(type(my_list), end="ç±»å\\t")\nprint(len(my_list), end="é¿åº¦\\n")\n\n# è®¿é®\nprint(f"{my_list[4]}\\t{my_list[-1]}")\ndel my_list\n\n# éå\nlist1 = ["John", "Smaith", "Tom", "Lily", "Jim"]\nfor elem in list1:\n    print(elem, end="\\t")\n    \n# ä¿®æ¹\n## ä¿®æ¹å¼\nlist1[2] = "nicai"\n## è¿½å \nlist1.append("last")\n## æå¥\nlist1.insert(1, "first")\n# list1\n\n# å é¤\n# del list1[1]\n## å é¤å¹¶ååº\n# str = list1.pop(3)\n# str\n## æå®å¼å é¤\n# list.remove("nicai")\n## æ¥æ¾ä¸æ \n# list1.index("first")\n\n# æåº\n## ä¸´æ¶æåº\nprint(sorted(list1))\n## æ°¸ä¹æåº\n# list1.sort()\n# list1\n## åè¡¨ååº\nlist2 = sorted(list1)\nlist2.reverse()\nlist2\n\n# åç 1.è¯­æ³: åè¡¨[èµ·å§:ç»æ:æ­¥é¿] \nstus = [\'å­æç©º\',\'çªå«æ\',\'æ²åå°\',\'åå§\',\'èèç²¾\',\'ç½éª¨ç²¾\']\nstus[0: 5: 2]\n\n\n\n# åºåæ°æ®ç±»å Tuple(åç»)\n\n"""åºåæ°æ®ç±»å  Tuple(åç»)"""\n### åç» 1.ç±»ä¼¼list 2.å±äºä¸å¯ååºå  ###\nlist3 = list(range(0, 10, 3))\n# åç»ä¸å¯å ä½å¶ä¸­åç´ å¯ä»¥å\ntuple1 = ("hello", "python", list3)\nfor elem in tuple1:\n    print(elem, end=" ")\n\ntuple1[2][1] = 123\ntuple1\n\n\n\n# åºåæ°æ®ç±»å Set(éå)\n\n"""åºåæ°æ®ç±»å  Set(éå)"""\n### Setéå æ åºä¸éå¤\n## åå»ºç©ºéå\nset1 = set()\n## listè½¬åä¸ºset\nset1 = set(list(range(0, 10, 3)))\nprint(set1)\n\na_set = {-1, -3, 2, 3, 5}\nb_set = {2, 3, 5, 25, 36}\n## äº¤é\nprint( a_set.union(b_set) )\nprint( a_set | b_set )\n\n## å¹¶é\nprint( a_set.intersection(b_set) )\nprint( a_set & b_set )\n\n## å·®é\nprint( a_set.difference(b_set) )\n\n## éåå¼æ\nprint( a_set ^b_set )\n\n\n\n# åºåæ°æ®ç±»å dictionary(å­å¸)\n\n"""åºåæ°æ®ç±»å  dictionary(å­å¸) 1.keyå¼å¯ä¸"""\n\n# å®ä¹\ndic = { "k1": "v1"}\n# dic = dict([(1, "baidu"), (2, "Goole"), (3, "toabao")])\nprint(dic[1])\nprint(dic)\nprint(dic.keys())\ndic.values()\n\n# ä¿®æ¹/æ°å¢åç´ \ndic["k2"] = "v2"\n# å é¤åç´ \ndel dic["k2"]\ndic.clear()      # æ¸ç©ºå­å¸æææ¡ç®\ndel dic          # å é¤å­å¸\n\n\n\n# å½æ°åç±»\n\n\n# å½æ°åæ°åè¿åå¼çç±»å\n\n"""å½æ°åæ°åè¿åå¼çç±»å 200124"""\n### é¡ºåºå®å\ndef info(heroName, petName):\n    print("è±éåå­:{" + heroName + "}\\tå® ç©åå­:{" + petName + "}")\ninfo("å¾·é²ä¼", "é¾ç¼")\n\n### ä½ç½®å®å\ninfo(petName="é¾ç¼", heroName = "å¾·é²ä¼")\n\n### é»è®¤å¼\ndef info2(heroName, petName="çç°ç¥è", attack="5680"):\n    print(f"è±éåå­:{heroName}\\tå® ç©åå­:{petName}\\tæ»å»å{attack}")\ninfo2("èç³")\ninfo2(heroName="èç³", attack="12345")\n\n### ä»»ææ°éçåæ°\ndef fun1(*p):\n    print(p)\nfun1(0, 1)\n\n### ä»»ææ°éå³é®å­åæ°\ndef fun2(**p):\n    for elem in p.items():\n        print( elem, end="\\t" )\nfun2(x=1, y=2, z=3)\n\n### éè¿ **æ¥å¯¹ä¸ä¸ªå­å¸è¿è¡è§£åæä½\ndef fun3(name, info):\n    print(f"name={name} \\t info={info}")\ndic = { "name":"éç¥", "info":"é´é³å" }\nfun3(**dic)\n\n### åå¼è¿å\ndef info2(heroName, petName="çç°ç¥è", attack="5680"):\n    return f"è±éåå­:{heroName}\\tå® ç©åå­:{petName}\\tæ»å»å{attack}"\nprint( info2("èç³") )\n\n### å¤å¼è¿å\ndef arithmetic1(x, y):\n    add = x+y\n    subtract= x-y \n    multiply= x*y\n    if y != 0:\n        divide= x/y\n    else:\n        print("é¤æ°ä¸è½ä¸ºé¶")\n    return add, subtract, multiply, divide\n\n#eval()å°å­ç¬¦ä¸²strå½æææçè¡¨è¾¾å¼æ¥æ±å¼å¹¶è¿åè®¡ç®ç»æ\nnum1,num2=eval(input("è¯·è¾å¥éè¦è®¡ç®çä¸¤ä¸ªæ°å­ï¼"\'\\n\'))\n# num1=int(num1)\n# num2=int(num2)\na,s,m,d = arithmetic1(num1, num2)\nprint(f"{num1} + {num2} = {a}\\t{num1} - {num2} = {s}\\t{num1} * {num2} = {a}\\t{num1} / {num2} = {d}")\n\n### æ¨¡å\n## å¼å¥æ¨¡å\n# from data import cycle\n## å¼å¥å½æ° å¹¶èµ·å«å\n# from data.cycle import sphere_surface_area as ssa\n##å¼å¥æ¨¡å èµ·å«å\nfrom data import cycle as cy\nradius = 2\nprint(f"åé¢ç§¯: {cy.area(radius)}\\tåå¨é¿:{cy.circumference(radius)}\\t \\\n        çä½ç§¯:{cy.sphere_volume(radius)}\\tçè¡¨é¢ç§¯:{cy.sphere_surface_area(radius)}")\n\n# å¸¸ç¨åº\n\n\n\n# ç±»çç»ä¹ \n\n""" 9.ç±»çç»ä¹  """\nclass Mammal:\n    #_init_æ¯ä¸ä¸ªç¹æ®çæ¹æ³ï¼ç±»çå®ä¾åæä½ä¼èªå¨ä¸ºæ°åå»ºçç±»å®ä¾è°ç¨_init_()æ¹æ³\n    # nameä¸ºå®ä¾å±æ§\n    def __init__(self,name):\n        self.name = name\n\n    #ç±»çæ¹æ³è³å°æä¸ä¸ªåæ°selfä¸å¿é¡»æ¯ç¬¬ä¸ä¸ªåæ°\n    def walk(self):\n        print(f\'{self.name} walking\')\n        \n    def shout(self):\n        print(f\'{self.name} shouting\')\n        \n        \nclass Dog(Mammal):\n    print(\'===============Dog===============\')\n    # ç±»å±æ§\n    action = "æå°¾å·´"\n    def shout(self):\n        print(f\'{self.name} æ±ªæ±ª\')\n        \n\nclass Cat(Mammal):\n    print(\'===============Cat===============\')\n    pass\n\n\nmammal = Mammal(\'åºä¹³å¨ç©\')\nmammal.walk()\nmammal.shout()\n\ncat = Cat(\'åµåµ\')\ncat.walk()\ncat.shout()\n\ndog = Dog(\'äºå\')\ndog.walk()\ndog.shout()\nDog.action = "åæ°´"\nprint(dog.name + "å¨" + Dog.action)\n\n\n"""ç±»çç»ä¹ 2"""\nclass Car():\n    \'\'\'æ¨¡ææ±½è½¦çç±»\'\'\'\n    def __init__(self, make, model, year):\n        # åå§åå±æ§\n        self.make = make #å¶é å\n        self.model = model #åå·\n        self.year = year #çäº§å¹´ä»½\n        self.odometer_reading = 0\n        \n    def base_message(self):\n        # æ±½è½¦æè¿°ä¿¡æ¯\n        cmessage = f"{self.make} {self.model} {self.year}"\n        return cmessage.title()\n    \n    def read_odometer(self):\n        # æå°éç¨ä¿¡æ¯\n        print(f"This car has {self.odometer_reading} miles on it")\n        \n    def update_odometer(self, miles):\n        # ä¿®æ¹éç¨ä¿¡æ¯ ä¸è½è°å°\n        if self.odometer_reading < miles:\n            self.odometer_reading = miles\n        else:\n            print("æ¨ä¸è½è°å°éç¨æ°")\n            \n    def increment_odometer(self, miles):\n        # å¢å éç¨æ°\n        self.odometer_reading += miles\n    \n    \ncar = Car("audo", "a6", 2016)\nprint(car.base_message())\ncar.read_odometer()\n## ç´æ¥ä¿®æ¹å±æ§\ncar.odometer_reading = 21\ncar.read_odometer()\n## æ¹æ³ä¿®æ¹\ncar.update_odometer(20)\ncar.read_odometer()\ncar.update_odometer(50)\ncar.read_odometer()\n## å¢å éç¨æ°\ncar.increment_odometer(10)\ncar.read_odometer()\n\n\nclass ElectricCar(Car):\n    """çµå¨è½¦"""\n    def __init__(self, make, model, year, battery_size):\n        super().__init__(make, model, year)\n        self.battery_size = battery_size\n        \n    def desctibe_battery(self):\n        # å±äºçµæ± å®¹éçä¿¡æ¯\n        print(f"This  car has a {self.battery_size} -kwh battery")\n        \n    def base_message(self):\n        return "ElectricCar:" + super().base_message()\n    \n\nele_car = ElectricCar("tesla", "model s", 2017, 70)\nprint(ele_car.base_message())\nele_car.desctibe_battery()\n\n\n\n# æµè¯\n\n\n# æå·¥æµè¯\n\n# æå·¥æµè¯  å½æ°\nfrom data.MyPythonFunTest import get_formatted_name as gfn\nprint("Enter \'q\' at any time to quit." )\nwhile True:\n    first = input("\\nPlease give me a first name:")\n    if first in "q":\n        break\n    last = input("Please give me a last name:")\n    if last == "q":\n        break\n    formatted_name = gfn(first, last)\n    print("\\tNeatly foematted name:" + formatted_name + ".")\n\n\n\n# ä»£ç æµè¯å·¥å·unittest\n\n"""ä»£ç æµè¯å·¥å· unittest ååæµè¯(å½æ°)"""\n"""\nunittest æ æ³è¿è¡ :\n    https://blog.csdn.net/u012291393/article/details/78636502\n    https://www.liaoxuefeng.com/discuss/969955749132672/1203224296196800\n"""\nimport unittest\nfrom data.MyPythonFunTest import get_formatted_name\n\nclass NamesTestCase(unittest.TestCase):\n    """æµè¯data.MyPythonFunTest.get_formatted_name"""\n    \n    def test_first_last_name(self):\n        """è½å¤æ­£ç¡®å¤çåå«å§ååçæåµ"""\n        formatted_name = get_formatted_name("jim", "green")\n#         self.assertEqual(formatted_name, "jim green")\n        self.assertEqual(formatted_name, "Jim Green")\n    \n    def test_first_last_middle_name(self):\n        """è½å¤æ­£ç¡®å¤çåå«å§. ååä¸­é´åçæåµ"""\n        formatted_name = get_formatted_name("martin", "king", "luther")\n        self.assertEqual(formatted_name, "Martin Luther King")\n        \n        \n# å¨jupterä¸å¥½ä½¿\n# unittest.main()\nif __name__ == \'__main__\':\n    unittest.main(argv=[\'first-arg-is-ignored\'], exit=False)\n\n\n"""ä»£ç æµè¯å·¥å· unittest ååæµè¯(ç±»)"""\nfrom data.MyPythonFunTest import Area\nimport unittest  \n  \nclass AreaTestCase(unittest.TestCase):  \n    def setUp(self):  \n        self.area = Area()  \n      \n    def tearDown(self):  \n        self.area = None  \n      \n    def testArea(self):  \n        self.assertEqual(self.area.getArea(),10000)  \n      \n    def testWidth(self):  \n        self.area.setWidth(10)  \n        self.assertEqual(self.area.getWidth(),10)\n        \n    def testLength(self):  \n        self.area.setLenth(10)  \n        self.assertEqual(self.area.getLength(),10)  \n  \nif __name__ == "__main__":  \n    unittest.main(argv=[\'first-arg-is-ignored\'], exit=False)  \n\n\n\n# æä»¶è¯»å\n\n\n# æä»¶è¯»å\n\n"""æä»¶è¯»å"""\n"""\nwith è¯­å¥éç¨äºå¯¹èµæºè¿è¡è®¿é®çåºåï¼ç¡®ä¿ä¸ç®¡ä½¿ç¨è¿ç¨ä¸­æ¯å¦åçå¼å¸¸é½ä¼æ§è¡å¿è¦çâæ¸çâæä½ï¼éæ¾èµæºï¼\næ¯å¦æä»¶ä½¿ç¨åèªå¨å³é­ï¼çº¿ç¨ä¸­éçèªå¨è·ååéæ¾ç­\n"""\nfilepath = r"data\\hello.txt"\n\n# ä¼ ç»æ¨¡å¼\n# try:\n#     file = open(filename, \'r\', encoding=\'utf-8\')\n#     contents = file.read()\n#     print(contents)\n#     file.close()\n# except FileNotFoundError:\n#     print("æä»¶ä¸å­å¨")\n# else:\n#     print("æä»¶è¯»åæå")\n\n# ç¨ with æ¹å¼\n# with open(filename, \'r\', encoding=\'utf-8\') as file:\n#     contents = file.read()\n#     print(contents.rstrip()) # rstrip() å é¤æä»¶æ«å°¾çç©ºç½\n    \n# åè¡è¯»å\n# with open(filename, \'r\', encoding=\'utf-8\') as file:\n#     lines = file.readlines() # è¯»åå¨é¨åå®¹ ï¼å¹¶ä»¥åè¡¨æ¹å¼è¿å\n#     for line in lines:\n#         print(line, end="")\n\n# å¤æ­æä»¶æ¯å¦å­å¨\nimport os\n\nflag = os.path.exists(filepath)\nif flag == True:\n    with open(filename, \'r\', encoding=\'utf-8\') as file:\n        contents = file.read()\n        print(contents.rstrip())\nelse:\n    print("æä»¶ä¸å­å¨")\n\n\n\n# æä»¶åå¥\n\n"""æä»¶åå¥"""\nfilename = r"data/hello.txt"\n\n# "w"æåæ¥çæä»¶è¦çæ\n# with open(filename, \'w\', encoding=\'utf-8\') as file:\n#     # writeè¿åå¼ä¸ºåå¥å­ç¬¦æ°\n#     contents = file.write("ä½ å¥½ä¸ç\\nHello World")\n#     print(contents)\n    \n# "a" è¿½å   \n# with open(filename, \'a\', encoding=\'utf-8\') as file:\n#     # writeè¿åå¼ä¸ºåå¥å­ç¬¦æ°\n#     contents = file.write("\\nHello Python")\n#     print(contents)\n\n\n"""å¼å¸¸å¤ç"""\n# try:\n#     num1 = eval(input("è¾å¥è¢«é¤æ°:"))\n#     num2 = eval(input("è¾å¥é¤æ°:"))\n#     answer = num1/num2\n# except ZeroDivisionError:\n#     print("é¤æ°ä¸è½ä¸ºé¶")\n# else:\n#     print("è®¡ç®ç»æ:" + str(answer))\n\nnum1 = eval(input("è¾å¥è¢«é¤æ°:"))\nnum2 = eval(input("è¾å¥é¤æ°:"))\nif(num2 != 0):\n    print(num1/num2)\nelse:\n    print("é¤æ°ä¸è½ä¸º0")\n    pass\n\n\n\n# jsonæ°æ®è¯»å\n\n"""jsonæ°æ® çè¯»å,å­å¨"""\nimport json\nimport os\n\ndef json_store(filepath):\n    """æä»¶å­å¨ä»ä¹é½ä¸å æä»¶ä¸å­å¨ä¿å­"""\n    # åå»ºå­å¸\n    dic = {\n        "name":"æé·",\n        "age":20,\n        "addr":"ä¸æµ·"\n    }\n    flag = os.path.exists(filepath)\n    if flag:\n        pass\n    else:\n        # pythonå¯¹è±¡ç¼ç æjsonå­ç¬¦ä¸² dump()ç¼ç å¹¶å­å¨\n        with open(filepath, \'w\', encoding=\'utf-8\') as file:\n            json.dump(dic, file)\n            print("ä¿å­æå")\n\ndef json_read(filepath):\n    """ä»æä»¶è¯»å"""\n    flag = os.path.exists(filepath)\n    if flag:\n        # æä»¶è¯»å jsonè§£ç ä¸ºpythonå¯¹è±¡(load)\n        with open(filepath, \'r\', encoding=\'utf-8\') as file:\n            json_obj = json.load(file)\n        return json_obj\n    else:\n        pass\n\nfilepath = r"data\\test.json"\njson_store(filepath)\ndata = json_read(filepath=filepath)\nprint("æ¬¢è¿" + data["name"] + "åå­¦")\n',normalizedContent:'# åºç¡\n\n"""jupyter notebook çå¿«æ·é®: https://www.jianshu.com/p/72493e81a708"""\n# 1. æå°å³é®å­\nimport keyword\nprint(keyword.kwlist)\n\n# 2. æå°è¯­å¥\nprint("hello\\\n\tpython\\\n\thello\\\n\tworld")\n\n\n# 3.åéä¸éå£°æ  åéèµå¼ä¸ºä»»æç±»å(å¨æè¯­è¨)\na = 12\nprint(f"a:{a} type:{type(a)}")\n\na = "python"\nprint("a:", a, "type:", type(a))\n\n# è¾åºå¯¹è±¡å°å\nprint(id(a))\ndel a\n# print(a)\n\n\n# 4. input å å­ç¬¦ä¸²è¿æ¥\nname = "john"\n# + è¿æ¥\nmes1 = name + " is a coder"\n# ,è¿æ¥\nmes2 = name, " is a coder"\nprint(name, " is a coder")\n# .joinè¿æ¥\nmes3 = " ".join(mes2)\n# æ ¼å¼å\nmes4 = "%s and %s is a coder" % (name, "smith")\n# f("{}")\nmes5 = f"{name} is a coder"\n\nprint(f"{mes1}\\n{mes2}\\n{mes3}\\n{mes4}\\n{mes5}")\ndel mes1, mes2, mes3, mes4, mes5\n\n\n# 5.input\nname = input("è¯·è¾å¥å§å:")\nprint("hello", name)\n\n\n\n# æµç¨æ§å¶\n\n\'\'\' æµç¨æ§å¶ 1 \'\'\'\n# 6. å½æ°\ndef run():\n        print("car started...")\n        pass\n\ndef stop():\n        print("car stopped...")\n        pass\n\ndef error():\n        print("i can\'t understand...")\n        pass\n\n# 7. åæ¯\n        # ==ï¼ ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡çå¼æ¯å¦ç¸ç­\n        # is: å¤æ­ä¸¤ä¸ªåéæ¯å¦å¼ç¨çæ¯åä¸ä¸ªå¯¹è±¡ï¼åºå±å¤æ­çä¾æ®æ¯ä¸¤ä¸ªåéçidæ¯å¦ç¸ç­\nstatus = "stop"\ndef message(mes):\n        # å£°æ status ä¸ºå¨å±åé\n        global status\n        if mes in "start" and status in "stop":\n            run()\n            status = "start"\n        elif mes == "stop" and status == "start":\n            stop()\n            status = "stop"\n        elif mes in "start" and status in "start":\n            print("car is already started")\n        elif mes in "stop" and status in "stop":\n            print("car is already stopped")\n        else:\n            error()\n\n# 8. å¾ªç¯\n\nwhile true:\n        order = input("è¯·è¾å¥å½ä»¤:")\n        if order not in ["end", "end"]:\n            message(order)\n        else:\n            print("finish")\n            break\ndel status\n\n\nç¹å»æ¥ç\n\nç»ä¹ \n\n\'\'\' æµç¨æ§å¶ 2 \'\'\'\n# 9 * 9 ä¹æ³è¡¨\nfor i in range(1, 10, 1):\n    for j in range(1, i+1):\n        print(f"{i} * {j} = {i * j}", end="\\t")\n    print()\n\n\'\'\'ææ³¢é£å¥æ°å\'\'\'\ndef fibonacci(n):\n    if n==1 or n==2:\n        return 1\n    return fibonacci(n-1) + fibonacci(n-2)\n\nfor i in range(1, 20):\n    print(fibonacci(i), end=" ")\n    \nfibonacci(10)\n\n\'\'\'ç´ æ°\'\'\'\nimport math\n\ndef sushu(start, end):\n    # å»æ1 0\n    if start<2:\n        start=2\n    # å®ä¹è¿åç»æ\n    result= []\n    for i in range(start, end+1):\n        # é»è®¤é½æ¯ç´ æ°\n        flag = false\n        #ä»2ä½ä¸ºé¤æ°å¼å§å¤æ­å½åæ°æ¯å¦è½å¤è¢«é¤1åæ¬èº«çå¶ä»æ°æ´é¤\n        for j in range(2, int(math.sqrt(i)+1)): \n            # å¦æè½è¢«2æèå°äºèªå·±çæ°æ´é¤ï¼è¿ä¸æ¯ç´ æ°ï¼æ¹åflagä¸ºtrue\n            if i%j == 0:\n                flag = true\n                break\n        if flag == false:\n            result.append(i)\n    return result\n\nresult = sushu(0,101)\nprint(len(result))\nprint(result)\n\n\'\'\'è¾å¥æå¹´ææææ¥ï¼å¤æ­è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬å å¤©\'\'\'\n#è¾å¥æå¹´ææææ¥ï¼å¤æ­è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬å å¤©ï¼\n\n\ndef outter(func):\n    def inner():\n        year = int(input("è¯·è¾å¥ä¸ä¸ªå¹´ä»½:"))\n        # global year\n        if year % 100 != 0 and year % 4 == 0 or year % 400 == 0:\n            print("%dæ¯é°å¹´"%year)\n            dict1[2]=29\n            func()\n        else:\n            print("%dæ¯å¹³å¹´"%year)\n            func()\n    return inner\n\ndict1 ={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:30,9:31,10:31,11:30,12:31}\n@outter\ndef f():\n    ymd2 = input("è¾å¥å¹´-æ-æ¥[year-month-day]:")\n    ymd1 =ymd2.split(\'-\')\n    day =0\n    for x in range(1,int(ymd1[1])):\n        day += dict1[x]\n    day = day+int(ymd1[2])\n    print("è¿ä¸å¤©æ¯è¿ä¸å¹´çç¬¬%då¤©"%day)\n\nf()\n\n\n\'\'\'æ¶é´è½¬æ¢\'\'\'\nimport datetime\n\n# è¾å¥æ¶é´\ninput_time = input("è¯·è¾å¥æ¶é´(%y-%m-%d):")  # input_time = "2020-7-3"\n# å­ç¬¦ä¸²è½¬ä¸ºæ¶é´\nend_time = datetime.datetime.strptime(input_time, \'%y-%m-%d\')\n# æ¼æ¥ä¸ä¸å¹´æåä¸å¤©çæ¶é´\nstart_time = datetime.datetime.strptime(str(end_time.year-1) + "-12-31", \'%y-%m-%d\')\n# æ¶é´ç¸å å¾å°å¤©æ°\n(end_time-start_time).days\n\n\'\'\'æ¶é´è½¬æ¢2\'\'\'\n# æ¥æ¶è¾å¥çä¿¡æ¯ï¼å¹¶æåæå¹´ææ¥åé\nyear = int(input(\'year:\\n\'))\nmonth = int(input(\'month:\\n\'))\nday = int(input(\'day:\\n\'))\n# é¢å®ä¹æ¯ä¸ªæå¯¹åºå¹´çç¬¬å å¤©\nmonths = (0,31,59,90,120,151,181,212,243,273,304,334)\nif 0 < month <= 12:\n    # ç¬¬å å¤©ç¨sumåéè¡¨ç¤ºï¼å¹¶åå§åä¸ºmonthsæ°ç»å¯¹åºçå¤©æ°\n    sum = months[month-1]\nelse:\n    print(\'data error\')\n# æ·»å dayæä»£è¡¨çå¤©æ°\nsum += day\n# é°å¹´æ è®°\nleap = 0\n# å¤æ­æ¯å¦ä¸ºé°å¹´\nif year % 400 == 0 or year % 4 == 0 and year % 100 != 0:\n    leap = 1\n    # å¦ææ¯é°å¹´ï¼æ»å¤©æ°éè¦å ä¸å¤©\n    if leap == 1 and month > 2:\n        sum += 1       \nprint(\'it is the %dth day.\' % sum)\n\n\n\n\n# æ°æ®ç±»å\n\n\n# åºåæ°æ®ç±»å list(åè¡¨)\n\n"""åºåæ°æ®ç±»å  list(åè¡¨)"""\n\n\n# åå»º 1.pythonåè¡¨å¯ä»¥å­å¨ä»»æç±»åçå¯¹è±¡ 2.æç§é¡ºåºå­å¨\nmy_list = [1.0, "python", true, none, print, list(range(0, 10, 3))]\nprint(type(my_list), end="ç±»å\\t")\nprint(len(my_list), end="é¿åº¦\\n")\n\n# è®¿é®\nprint(f"{my_list[4]}\\t{my_list[-1]}")\ndel my_list\n\n# éå\nlist1 = ["john", "smaith", "tom", "lily", "jim"]\nfor elem in list1:\n    print(elem, end="\\t")\n    \n# ä¿®æ¹\n## ä¿®æ¹å¼\nlist1[2] = "nicai"\n## è¿½å \nlist1.append("last")\n## æå¥\nlist1.insert(1, "first")\n# list1\n\n# å é¤\n# del list1[1]\n## å é¤å¹¶ååº\n# str = list1.pop(3)\n# str\n## æå®å¼å é¤\n# list.remove("nicai")\n## æ¥æ¾ä¸æ \n# list1.index("first")\n\n# æåº\n## ä¸´æ¶æåº\nprint(sorted(list1))\n## æ°¸ä¹æåº\n# list1.sort()\n# list1\n## åè¡¨ååº\nlist2 = sorted(list1)\nlist2.reverse()\nlist2\n\n# åç 1.è¯­æ³: åè¡¨[èµ·å§:ç»æ:æ­¥é¿] \nstus = [\'å­æç©º\',\'çªå«æ\',\'æ²åå°\',\'åå§\',\'èèç²¾\',\'ç½éª¨ç²¾\']\nstus[0: 5: 2]\n\n\n\n# åºåæ°æ®ç±»å tuple(åç»)\n\n"""åºåæ°æ®ç±»å  tuple(åç»)"""\n### åç» 1.ç±»ä¼¼list 2.å±äºä¸å¯ååºå  ###\nlist3 = list(range(0, 10, 3))\n# åç»ä¸å¯å ä½å¶ä¸­åç´ å¯ä»¥å\ntuple1 = ("hello", "python", list3)\nfor elem in tuple1:\n    print(elem, end=" ")\n\ntuple1[2][1] = 123\ntuple1\n\n\n\n# åºåæ°æ®ç±»å set(éå)\n\n"""åºåæ°æ®ç±»å  set(éå)"""\n### setéå æ åºä¸éå¤\n## åå»ºç©ºéå\nset1 = set()\n## listè½¬åä¸ºset\nset1 = set(list(range(0, 10, 3)))\nprint(set1)\n\na_set = {-1, -3, 2, 3, 5}\nb_set = {2, 3, 5, 25, 36}\n## äº¤é\nprint( a_set.union(b_set) )\nprint( a_set | b_set )\n\n## å¹¶é\nprint( a_set.intersection(b_set) )\nprint( a_set & b_set )\n\n## å·®é\nprint( a_set.difference(b_set) )\n\n## éåå¼æ\nprint( a_set ^b_set )\n\n\n\n# åºåæ°æ®ç±»å dictionary(å­å¸)\n\n"""åºåæ°æ®ç±»å  dictionary(å­å¸) 1.keyå¼å¯ä¸"""\n\n# å®ä¹\ndic = { "k1": "v1"}\n# dic = dict([(1, "baidu"), (2, "goole"), (3, "toabao")])\nprint(dic[1])\nprint(dic)\nprint(dic.keys())\ndic.values()\n\n# ä¿®æ¹/æ°å¢åç´ \ndic["k2"] = "v2"\n# å é¤åç´ \ndel dic["k2"]\ndic.clear()      # æ¸ç©ºå­å¸æææ¡ç®\ndel dic          # å é¤å­å¸\n\n\n\n# å½æ°åç±»\n\n\n# å½æ°åæ°åè¿åå¼çç±»å\n\n"""å½æ°åæ°åè¿åå¼çç±»å 200124"""\n### é¡ºåºå®å\ndef info(heroname, petname):\n    print("è±éåå­:{" + heroname + "}\\tå® ç©åå­:{" + petname + "}")\ninfo("å¾·é²ä¼", "é¾ç¼")\n\n### ä½ç½®å®å\ninfo(petname="é¾ç¼", heroname = "å¾·é²ä¼")\n\n### é»è®¤å¼\ndef info2(heroname, petname="çç°ç¥è", attack="5680"):\n    print(f"è±éåå­:{heroname}\\tå® ç©åå­:{petname}\\tæ»å»å{attack}")\ninfo2("èç³")\ninfo2(heroname="èç³", attack="12345")\n\n### ä»»ææ°éçåæ°\ndef fun1(*p):\n    print(p)\nfun1(0, 1)\n\n### ä»»ææ°éå³é®å­åæ°\ndef fun2(**p):\n    for elem in p.items():\n        print( elem, end="\\t" )\nfun2(x=1, y=2, z=3)\n\n### éè¿ **æ¥å¯¹ä¸ä¸ªå­å¸è¿è¡è§£åæä½\ndef fun3(name, info):\n    print(f"name={name} \\t info={info}")\ndic = { "name":"éç¥", "info":"é´é³å" }\nfun3(**dic)\n\n### åå¼è¿å\ndef info2(heroname, petname="çç°ç¥è", attack="5680"):\n    return f"è±éåå­:{heroname}\\tå® ç©åå­:{petname}\\tæ»å»å{attack}"\nprint( info2("èç³") )\n\n### å¤å¼è¿å\ndef arithmetic1(x, y):\n    add = x+y\n    subtract= x-y \n    multiply= x*y\n    if y != 0:\n        divide= x/y\n    else:\n        print("é¤æ°ä¸è½ä¸ºé¶")\n    return add, subtract, multiply, divide\n\n#eval()å°å­ç¬¦ä¸²strå½æææçè¡¨è¾¾å¼æ¥æ±å¼å¹¶è¿åè®¡ç®ç»æ\nnum1,num2=eval(input("è¯·è¾å¥éè¦è®¡ç®çä¸¤ä¸ªæ°å­ï¼"\'\\n\'))\n# num1=int(num1)\n# num2=int(num2)\na,s,m,d = arithmetic1(num1, num2)\nprint(f"{num1} + {num2} = {a}\\t{num1} - {num2} = {s}\\t{num1} * {num2} = {a}\\t{num1} / {num2} = {d}")\n\n### æ¨¡å\n## å¼å¥æ¨¡å\n# from data import cycle\n## å¼å¥å½æ° å¹¶èµ·å«å\n# from data.cycle import sphere_surface_area as ssa\n##å¼å¥æ¨¡å èµ·å«å\nfrom data import cycle as cy\nradius = 2\nprint(f"åé¢ç§¯: {cy.area(radius)}\\tåå¨é¿:{cy.circumference(radius)}\\t \\\n        çä½ç§¯:{cy.sphere_volume(radius)}\\tçè¡¨é¢ç§¯:{cy.sphere_surface_area(radius)}")\n\n# å¸¸ç¨åº\n\n\n\n# ç±»çç»ä¹ \n\n""" 9.ç±»çç»ä¹  """\nclass mammal:\n    #_init_æ¯ä¸ä¸ªç¹æ®çæ¹æ³ï¼ç±»çå®ä¾åæä½ä¼èªå¨ä¸ºæ°åå»ºçç±»å®ä¾è°ç¨_init_()æ¹æ³\n    # nameä¸ºå®ä¾å±æ§\n    def __init__(self,name):\n        self.name = name\n\n    #ç±»çæ¹æ³è³å°æä¸ä¸ªåæ°selfä¸å¿é¡»æ¯ç¬¬ä¸ä¸ªåæ°\n    def walk(self):\n        print(f\'{self.name} walking\')\n        \n    def shout(self):\n        print(f\'{self.name} shouting\')\n        \n        \nclass dog(mammal):\n    print(\'===============dog===============\')\n    # ç±»å±æ§\n    action = "æå°¾å·´"\n    def shout(self):\n        print(f\'{self.name} æ±ªæ±ª\')\n        \n\nclass cat(mammal):\n    print(\'===============cat===============\')\n    pass\n\n\nmammal = mammal(\'åºä¹³å¨ç©\')\nmammal.walk()\nmammal.shout()\n\ncat = cat(\'åµåµ\')\ncat.walk()\ncat.shout()\n\ndog = dog(\'äºå\')\ndog.walk()\ndog.shout()\ndog.action = "åæ°´"\nprint(dog.name + "å¨" + dog.action)\n\n\n"""ç±»çç»ä¹ 2"""\nclass car():\n    \'\'\'æ¨¡ææ±½è½¦çç±»\'\'\'\n    def __init__(self, make, model, year):\n        # åå§åå±æ§\n        self.make = make #å¶é å\n        self.model = model #åå·\n        self.year = year #çäº§å¹´ä»½\n        self.odometer_reading = 0\n        \n    def base_message(self):\n        # æ±½è½¦æè¿°ä¿¡æ¯\n        cmessage = f"{self.make} {self.model} {self.year}"\n        return cmessage.title()\n    \n    def read_odometer(self):\n        # æå°éç¨ä¿¡æ¯\n        print(f"this car has {self.odometer_reading} miles on it")\n        \n    def update_odometer(self, miles):\n        # ä¿®æ¹éç¨ä¿¡æ¯ ä¸è½è°å°\n        if self.odometer_reading < miles:\n            self.odometer_reading = miles\n        else:\n            print("æ¨ä¸è½è°å°éç¨æ°")\n            \n    def increment_odometer(self, miles):\n        # å¢å éç¨æ°\n        self.odometer_reading += miles\n    \n    \ncar = car("audo", "a6", 2016)\nprint(car.base_message())\ncar.read_odometer()\n## ç´æ¥ä¿®æ¹å±æ§\ncar.odometer_reading = 21\ncar.read_odometer()\n## æ¹æ³ä¿®æ¹\ncar.update_odometer(20)\ncar.read_odometer()\ncar.update_odometer(50)\ncar.read_odometer()\n## å¢å éç¨æ°\ncar.increment_odometer(10)\ncar.read_odometer()\n\n\nclass electriccar(car):\n    """çµå¨è½¦"""\n    def __init__(self, make, model, year, battery_size):\n        super().__init__(make, model, year)\n        self.battery_size = battery_size\n        \n    def desctibe_battery(self):\n        # å±äºçµæ± å®¹éçä¿¡æ¯\n        print(f"this  car has a {self.battery_size} -kwh battery")\n        \n    def base_message(self):\n        return "electriccar:" + super().base_message()\n    \n\nele_car = electriccar("tesla", "model s", 2017, 70)\nprint(ele_car.base_message())\nele_car.desctibe_battery()\n\n\n\n# æµè¯\n\n\n# æå·¥æµè¯\n\n# æå·¥æµè¯  å½æ°\nfrom data.mypythonfuntest import get_formatted_name as gfn\nprint("enter \'q\' at any time to quit." )\nwhile true:\n    first = input("\\nplease give me a first name:")\n    if first in "q":\n        break\n    last = input("please give me a last name:")\n    if last == "q":\n        break\n    formatted_name = gfn(first, last)\n    print("\\tneatly foematted name:" + formatted_name + ".")\n\n\n\n# ä»£ç æµè¯å·¥å·unittest\n\n"""ä»£ç æµè¯å·¥å· unittest ååæµè¯(å½æ°)"""\n"""\nunittest æ æ³è¿è¡ :\n    https://blog.csdn.net/u012291393/article/details/78636502\n    https://www.liaoxuefeng.com/discuss/969955749132672/1203224296196800\n"""\nimport unittest\nfrom data.mypythonfuntest import get_formatted_name\n\nclass namestestcase(unittest.testcase):\n    """æµè¯data.mypythonfuntest.get_formatted_name"""\n    \n    def test_first_last_name(self):\n        """è½å¤æ­£ç¡®å¤çåå«å§ååçæåµ"""\n        formatted_name = get_formatted_name("jim", "green")\n#         self.assertequal(formatted_name, "jim green")\n        self.assertequal(formatted_name, "jim green")\n    \n    def test_first_last_middle_name(self):\n        """è½å¤æ­£ç¡®å¤çåå«å§. ååä¸­é´åçæåµ"""\n        formatted_name = get_formatted_name("martin", "king", "luther")\n        self.assertequal(formatted_name, "martin luther king")\n        \n        \n# å¨jupterä¸å¥½ä½¿\n# unittest.main()\nif __name__ == \'__main__\':\n    unittest.main(argv=[\'first-arg-is-ignored\'], exit=false)\n\n\n"""ä»£ç æµè¯å·¥å· unittest ååæµè¯(ç±»)"""\nfrom data.mypythonfuntest import area\nimport unittest  \n  \nclass areatestcase(unittest.testcase):  \n    def setup(self):  \n        self.area = area()  \n      \n    def teardown(self):  \n        self.area = none  \n      \n    def testarea(self):  \n        self.assertequal(self.area.getarea(),10000)  \n      \n    def testwidth(self):  \n        self.area.setwidth(10)  \n        self.assertequal(self.area.getwidth(),10)\n        \n    def testlength(self):  \n        self.area.setlenth(10)  \n        self.assertequal(self.area.getlength(),10)  \n  \nif __name__ == "__main__":  \n    unittest.main(argv=[\'first-arg-is-ignored\'], exit=false)  \n\n\n\n# æä»¶è¯»å\n\n\n# æä»¶è¯»å\n\n"""æä»¶è¯»å"""\n"""\nwith è¯­å¥éç¨äºå¯¹èµæºè¿è¡è®¿é®çåºåï¼ç¡®ä¿ä¸ç®¡ä½¿ç¨è¿ç¨ä¸­æ¯å¦åçå¼å¸¸é½ä¼æ§è¡å¿è¦çâæ¸çâæä½ï¼éæ¾èµæºï¼\næ¯å¦æä»¶ä½¿ç¨åèªå¨å³é­ï¼çº¿ç¨ä¸­éçèªå¨è·ååéæ¾ç­\n"""\nfilepath = r"data\\hello.txt"\n\n# ä¼ ç»æ¨¡å¼\n# try:\n#     file = open(filename, \'r\', encoding=\'utf-8\')\n#     contents = file.read()\n#     print(contents)\n#     file.close()\n# except filenotfounderror:\n#     print("æä»¶ä¸å­å¨")\n# else:\n#     print("æä»¶è¯»åæå")\n\n# ç¨ with æ¹å¼\n# with open(filename, \'r\', encoding=\'utf-8\') as file:\n#     contents = file.read()\n#     print(contents.rstrip()) # rstrip() å é¤æä»¶æ«å°¾çç©ºç½\n    \n# åè¡è¯»å\n# with open(filename, \'r\', encoding=\'utf-8\') as file:\n#     lines = file.readlines() # è¯»åå¨é¨åå®¹ ï¼å¹¶ä»¥åè¡¨æ¹å¼è¿å\n#     for line in lines:\n#         print(line, end="")\n\n# å¤æ­æä»¶æ¯å¦å­å¨\nimport os\n\nflag = os.path.exists(filepath)\nif flag == true:\n    with open(filename, \'r\', encoding=\'utf-8\') as file:\n        contents = file.read()\n        print(contents.rstrip())\nelse:\n    print("æä»¶ä¸å­å¨")\n\n\n\n# æä»¶åå¥\n\n"""æä»¶åå¥"""\nfilename = r"data/hello.txt"\n\n# "w"æåæ¥çæä»¶è¦çæ\n# with open(filename, \'w\', encoding=\'utf-8\') as file:\n#     # writeè¿åå¼ä¸ºåå¥å­ç¬¦æ°\n#     contents = file.write("ä½ å¥½ä¸ç\\nhello world")\n#     print(contents)\n    \n# "a" è¿½å   \n# with open(filename, \'a\', encoding=\'utf-8\') as file:\n#     # writeè¿åå¼ä¸ºåå¥å­ç¬¦æ°\n#     contents = file.write("\\nhello python")\n#     print(contents)\n\n\n"""å¼å¸¸å¤ç"""\n# try:\n#     num1 = eval(input("è¾å¥è¢«é¤æ°:"))\n#     num2 = eval(input("è¾å¥é¤æ°:"))\n#     answer = num1/num2\n# except zerodivisionerror:\n#     print("é¤æ°ä¸è½ä¸ºé¶")\n# else:\n#     print("è®¡ç®ç»æ:" + str(answer))\n\nnum1 = eval(input("è¾å¥è¢«é¤æ°:"))\nnum2 = eval(input("è¾å¥é¤æ°:"))\nif(num2 != 0):\n    print(num1/num2)\nelse:\n    print("é¤æ°ä¸è½ä¸º0")\n    pass\n\n\n\n# jsonæ°æ®è¯»å\n\n"""jsonæ°æ® çè¯»å,å­å¨"""\nimport json\nimport os\n\ndef json_store(filepath):\n    """æä»¶å­å¨ä»ä¹é½ä¸å æä»¶ä¸å­å¨ä¿å­"""\n    # åå»ºå­å¸\n    dic = {\n        "name":"æé·",\n        "age":20,\n        "addr":"ä¸æµ·"\n    }\n    flag = os.path.exists(filepath)\n    if flag:\n        pass\n    else:\n        # pythonå¯¹è±¡ç¼ç æjsonå­ç¬¦ä¸² dump()ç¼ç å¹¶å­å¨\n        with open(filepath, \'w\', encoding=\'utf-8\') as file:\n            json.dump(dic, file)\n            print("ä¿å­æå")\n\ndef json_read(filepath):\n    """ä»æä»¶è¯»å"""\n    flag = os.path.exists(filepath)\n    if flag:\n        # æä»¶è¯»å jsonè§£ç ä¸ºpythonå¯¹è±¡(load)\n        with open(filepath, \'r\', encoding=\'utf-8\') as file:\n            json_obj = json.load(file)\n        return json_obj\n    else:\n        pass\n\nfilepath = r"data\\test.json"\njson_store(filepath)\ndata = json_read(filepath=filepath)\nprint("æ¬¢è¿" + data["name"] + "åå­¦")\n',charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"SQLç»ä¹ é¢",frontmatter:{title:"SQLç»ä¹ é¢",date:"2022-03-27T18:50:09.000Z",permalink:"/pages/d5b8e9/",categories:["æ°æ®åº"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/1006.SQL%E7%BB%83%E4%B9%A0%E9%A2%98.html",relativePath:"03.æ°æ®åº/1006.SQLç»ä¹ é¢.md",key:"v-a4ab2664",path:"/pages/d5b8e9/",headers:[{level:3,title:"SQLé¢ç®",slug:"sqlé¢ç®",normalizedTitle:"sqlé¢ç®",charIndex:2},{level:4,title:"è·åä¸é¢è¡çå¼",slug:"è·åä¸é¢è¡çå¼",normalizedTitle:"è·åä¸é¢è¡çå¼",charIndex:11},{level:4,title:"é¨é¨å·¥èµåå¬å¸æ¯è¾ï¼æªå®æï¼",slug:"é¨é¨å·¥èµåå¬å¸æ¯è¾-æªå®æ",normalizedTitle:"é¨é¨å·¥èµåå¬å¸æ¯è¾ï¼æªå®æï¼",charIndex:89},{level:4,title:"äº§åéå®åæII",slug:"äº§åéå®åæii",normalizedTitle:"äº§åéå®åæii",charIndex:176},{level:4,title:"äº§åéå®åæIII",slug:"äº§åéå®åæiii",normalizedTitle:"äº§åéå®åæiii",charIndex:236},{level:4,title:"æ¸¸æç©æ³åæV",slug:"æ¸¸æç©æ³åæv",normalizedTitle:"æ¸¸æç©æ³åæv",charIndex:316},{level:4,title:"éå®åæ",slug:"éå®åæ",normalizedTitle:"éå®åæ",charIndex:178},{level:4,title:"æ¯ä½å­¦ççæé«æç»©",slug:"æ¯ä½å­¦ççæé«æç»©",normalizedTitle:"æ¯ä½å­¦ççæé«æç»©",charIndex:450},{level:4,title:"æ¯æ¥æ°ç¨æ·ç»è®¡",slug:"æ¯æ¥æ°ç¨æ·ç»è®¡",normalizedTitle:"æ¯æ¥æ°ç¨æ·ç»è®¡",charIndex:554},{level:4,title:"æ¥åçè®°å½I",slug:"æ¥åçè®°å½i",normalizedTitle:"æ¥åçè®°å½i",charIndex:632},{level:4,title:"éæ°æ ¼å¼åé¨é¨è¡¨",slug:"éæ°æ ¼å¼åé¨é¨è¡¨",normalizedTitle:"éæ°æ ¼å¼åé¨é¨è¡¨",charIndex:706},{level:4,title:"æ¥è¯¢æ´»è·ä¸å¡",slug:"æ¥è¯¢æ´»è·ä¸å¡",normalizedTitle:"æ¥è¯¢æ´»è·ä¸å¡",charIndex:783},{level:4,title:"ç¨æ·è´­ä¹°å¹³å°",slug:"ç¨æ·è´­ä¹°å¹³å°",normalizedTitle:"ç¨æ·è´­ä¹°å¹³å°",charIndex:893},{level:4,title:"å¸åºåæII",slug:"å¸åºåæii",normalizedTitle:"å¸åºåæii",charIndex:968},{level:4,title:"æ¥åçè®°å½II",slug:"æ¥åçè®°å½ii",normalizedTitle:"æ¥åçè®°å½ii",charIndex:1055},{level:4,title:"æç« é¢è§I",slug:"æç« é¢è§i",normalizedTitle:"æç« é¢è§i",charIndex:1127},{level:4,title:"æç« é¢è§II",slug:"æç« é¢è§ii",normalizedTitle:"æç« é¢è§ii",charIndex:1183},{level:4,title:"å³æ¶é£ç©ééI",slug:"å³æ¶é£ç©ééi",normalizedTitle:"å³æ¶é£ç©ééi",charIndex:1241},{level:4,title:"å³æ¶é£ç©ééII",slug:"å³æ¶é£ç©ééii",normalizedTitle:"å³æ¶é£ç©ééii",charIndex:1291},{level:4,title:"æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº",slug:"æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº",normalizedTitle:"æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº",charIndex:1349},{level:4,title:"è¡è½¬å",slug:"è¡è½¬å",normalizedTitle:"è¡è½¬å",charIndex:1436},{level:4,title:"ææ«èè¯ï¼æªå®æï¼",slug:"ææ«èè¯-æªå®æ",normalizedTitle:"ææ«èè¯ï¼æªå®æï¼",charIndex:1457},{level:4,title:"æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·",slug:"æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·",normalizedTitle:"æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·",charIndex:1479}],headersStr:"SQLé¢ç® è·åä¸é¢è¡çå¼ é¨é¨å·¥èµåå¬å¸æ¯è¾ï¼æªå®æï¼ äº§åéå®åæII äº§åéå®åæIII æ¸¸æç©æ³åæV éå®åæ æ¯ä½å­¦ççæé«æç»© æ¯æ¥æ°ç¨æ·ç»è®¡ æ¥åçè®°å½I éæ°æ ¼å¼åé¨é¨è¡¨ æ¥è¯¢æ´»è·ä¸å¡ ç¨æ·è´­ä¹°å¹³å° å¸åºåæII æ¥åçè®°å½II æç« é¢è§I æç« é¢è§II å³æ¶é£ç©ééI å³æ¶é£ç©ééII æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº è¡è½¬å ææ«èè¯ï¼æªå®æï¼ æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·",content:"# SQLé¢ç®\n\n# è·åä¸é¢è¡çå¼\n\nå·²ç¥å4åï¼ç¨sqlç®åºresåï¼å³åä¸ä¸ªuidä¸ï¼ä¸ä¸æ¬¡is_succ=1 æ¶ç idæ¯è° (è¡åç§», ç¬å¡å°ç§¯åè¿æ»¤)\n\nè¯¦æ\n\n# é¨é¨å·¥èµåå¬å¸æ¯è¾ï¼æªå®æï¼\n\nç»å¦ä¸ä¸¤ä¸ªè¡¨ï¼åä¸ä¸ªæ¥è¯¢è¯­å¥ï¼æ±åºå¨æ¯ä¸ä¸ªå·¥èµåæ¾æ¥ï¼æ¯ä¸ªé¨é¨çå¹³åå·¥èµä¸å¬å¸çå¹³åå·¥èµçæ¯è¾ç»æ ï¼é« / ä½ / ç¸åï¼ã\n\nè¯¦æ\n\n# äº§åéå®åæII\n\nç¼åä¸ä¸ª SQL æ¥è¯¢ï¼æäº§å id product_id æ¥ç»è®¡æ¯ä¸ªäº§åçéå®æ»é\n\nè¯¦æ\n\n# äº§åéå®åæIII\n\nç¼åä¸ä¸ªSQLæ¥è¯¢ï¼æ¥å2019å¹´æ¥å­£æå®åºçäº§åãå³ä»å¨2019-01-01è³2019-03-31ï¼å«ï¼ä¹é´åºå®çååã\n\nè¯¦æ\n\n# æ¸¸æç©æ³åæV\n\nç¼åä¸ä¸ª SQL æ¥è¯¢ï¼æ¥åæ¯ä¸ªå®è£æ¥æãå½å¤©å®è£æ¸¸æçç©å®¶æ°éåç¬¬ä¸å¤©ççå­æ¶é´ã\n\nè¯¦æ\n\n# éå®åæ\n\nç¼åä¸ä¸ªSQLæ¥è¯¢ï¼æ¥å2019å¹´æ¥å­£æå®åºçäº§åãå³ä»å¨2019-01-01è³2019-03-31ï¼å«ï¼ä¹é´åºå®çååã\n\nè¯¦æ\n\n# æ¯ä½å­¦ççæé«æç»©\n\nç¼åä¸ä¸ª SQL æ¥è¯¢ï¼æ¥è¯¢æ¯ä½å­¦çè·å¾çæé«æç»©åå®æå¯¹åºçç§ç®ï¼è¥ç§ç®æç»©å¹¶åï¼å course_id æå°çä¸é¨ãæ¥è¯¢ç»æéæ student_id å¢åºè¿è¡æåºã\n\nè¯¦æ\n\n# æ¯æ¥æ°ç¨æ·ç»è®¡\n\nç¼åä¸ä¸ª SQL æ¥è¯¢ï¼ä»¥æ¥è¯¢ä»ä»å¤©èµ·æå¤ 90 å¤©åï¼æ¯ä¸ªæ¥æè¯¥æ¥æé¦æ¬¡ç»å½çç¨æ·æ°ãåè®¾ä»å¤©æ¯ 2019-06-30.\n\nè¯¦æ\n\n# æ¥åçè®°å½I\n\nç¼åä¸æ¡SQLï¼æ¥è¯¢æ¯ç§ æ¥åçç±ï¼report reasonï¼å¨æ¨å¤©çæ¥åæ°éãåè®¾ä»å¤©æ¯ 2019-07-05ã\n\nè¯¦æ\n\n# éæ°æ ¼å¼åé¨é¨è¡¨\n\nç¼åä¸ä¸ª SQL æ¥è¯¢æ¥éæ°æ ¼å¼åè¡¨ï¼ä½¿å¾æ°çè¡¨ä¸­æä¸ä¸ªé¨é¨ id ååä¸äºå¯¹åº æ¯ä¸ªæ çæ¶å¥ï¼revenueï¼åã\n\nè¯¦æ\n\n# æ¥è¯¢æ´»è·ä¸å¡\n\nåä¸æ®µ SQL æ¥æ¥è¯¢æææ´»è·çä¸å¡ã(å¦æä¸ä¸ªä¸å¡çæä¸ªäºä»¶ç±»åçåçæ¬¡æ°å¤§äºæ­¤äºä»¶ç±»åå¨ææä¸å¡ä¸­çå¹³ååçæ¬¡æ°ï¼å¹¶ä¸è¯¥ä¸å¡è³å°æä¸¤ä¸ªè¿æ ·çäºä»¶ç±»åï¼é£ä¹è¯¥ä¸å¡å°±å¯è¢«çåæ¯æ´»è·ä¸å¡ã)\n\nè¯¦æ\n\n# ç¨æ·è´­ä¹°å¹³å°\n\nåä¸æ®µ SQL æ¥æ¥æ¾æ¯å¤© ä» ä½¿ç¨ææºç«¯ç¨æ·ãä» ä½¿ç¨æ¡é¢ç«¯ç¨æ·å åæ¶ ä½¿ç¨æ¡é¢ç«¯åææºç«¯çç¨æ·äººæ°åæ»æ¯åºéé¢ã\n\nè¯¦æ\n\n# å¸åºåæII\n\nåä¸ä¸ª SQL æ¥è¯¢ç¡®å®æ¯ä¸ä¸ªç¨æ·ææ¥æé¡ºåºååºçç¬¬äºä»¶ååçåçæ¯å¦æ¯ä»ä»¬æåç±çåçãå¦æä¸ä¸ªç¨æ·ååºå°äºä¸¤ä»¶ååï¼æ¥è¯¢çç»ææ¯ no ã\n\nè¯¦æ\n\n# æ¥åçè®°å½II\n\nç¼åä¸æ®µ SQL æ¥æ¥æ¾ï¼å¨è¢«æ¥åä¸ºåå¾å¹¿åçå¸å­ä¸­ï¼è¢«ç§»é¤çå¸å­çæ¯æ¥å¹³åå æ¯ï¼åèäºå¥å°å°æ°ç¹å 2 ä½ã\n\nè¯¦æ\n\n# æç« é¢è§I\n\nè¯·ç¼åä¸æ¡ SQL æ¥è¯¢ä»¥æ¾åºæææµè§è¿èªå·±æç« çä½èï¼ç»ææç§ id ååºæåã\n\nè¯¦æ\n\n# æç« é¢è§II\n\nç¼åä¸æ¡ SQL æ¥è¯¢æ¥æ¾åºå¨åä¸å¤©éè¯»è³å°ä¸¤ç¯æç« çäººï¼ç»ææç§ id ååºæåºã\n\nè¯¦æ\n\n# å³æ¶é£ç©ééI\n\nåä¸æ¡ SQL æ¥è¯¢è¯­å¥è·åå³æ¶è®¢åæå çç¾åæ¯ï¼ ä¿çä¸¤ä½å°æ°ã\n\nè¯¦æ\n\n# å³æ¶é£ç©ééII\n\nåä¸æ¡ SQL æ¥è¯¢è¯­å¥è·åå³æ¶è®¢åå¨ææç¨æ·çé¦æ¬¡è®¢åä¸­çæ¯ä¾ãä¿çä¸¤ä½å°æ°ã\n\nè¯¦æ\n\n# æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº\n\nåä¸æ¡ SQL æ¥è¯¢è¯­å¥æ¥æ¾æåä¸ä¸ªè½è¿å¥çµæ¢¯ä¸ä¸è¶è¿éééå¶ç person_name ãé¢ç®ç¡®ä¿éåä¸­ç¬¬ä¸ä½çäººå¯ä»¥è¿å¥çµæ¢¯ ã\n\nè¯¦æ\n\n# è¡è½¬å\n\næ¥è¯¢ä¸ºè§å®çç»æ\n\nè¯¦æ\n\n# ææ«èè¯ï¼æªå®æï¼\n\næªå®æ\n\nè¯¦æ\n\n# æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·\n\n> è¿ç»­ç»å½é®é¢\n\nè¯¦æ",normalizedContent:"# sqlé¢ç®\n\n# è·åä¸é¢è¡çå¼\n\nå·²ç¥å4åï¼ç¨sqlç®åºresåï¼å³åä¸ä¸ªuidä¸ï¼ä¸ä¸æ¬¡is_succ=1 æ¶ç idæ¯è° (è¡åç§», ç¬å¡å°ç§¯åè¿æ»¤)\n\nè¯¦æ\n\n# é¨é¨å·¥èµåå¬å¸æ¯è¾ï¼æªå®æï¼\n\nç»å¦ä¸ä¸¤ä¸ªè¡¨ï¼åä¸ä¸ªæ¥è¯¢è¯­å¥ï¼æ±åºå¨æ¯ä¸ä¸ªå·¥èµåæ¾æ¥ï¼æ¯ä¸ªé¨é¨çå¹³åå·¥èµä¸å¬å¸çå¹³åå·¥èµçæ¯è¾ç»æ ï¼é« / ä½ / ç¸åï¼ã\n\nè¯¦æ\n\n# äº§åéå®åæii\n\nç¼åä¸ä¸ª sql æ¥è¯¢ï¼æäº§å id product_id æ¥ç»è®¡æ¯ä¸ªäº§åçéå®æ»é\n\nè¯¦æ\n\n# äº§åéå®åæiii\n\nç¼åä¸ä¸ªsqlæ¥è¯¢ï¼æ¥å2019å¹´æ¥å­£æå®åºçäº§åãå³ä»å¨2019-01-01è³2019-03-31ï¼å«ï¼ä¹é´åºå®çååã\n\nè¯¦æ\n\n# æ¸¸æç©æ³åæv\n\nç¼åä¸ä¸ª sql æ¥è¯¢ï¼æ¥åæ¯ä¸ªå®è£æ¥æãå½å¤©å®è£æ¸¸æçç©å®¶æ°éåç¬¬ä¸å¤©ççå­æ¶é´ã\n\nè¯¦æ\n\n# éå®åæ\n\nç¼åä¸ä¸ªsqlæ¥è¯¢ï¼æ¥å2019å¹´æ¥å­£æå®åºçäº§åãå³ä»å¨2019-01-01è³2019-03-31ï¼å«ï¼ä¹é´åºå®çååã\n\nè¯¦æ\n\n# æ¯ä½å­¦ççæé«æç»©\n\nç¼åä¸ä¸ª sql æ¥è¯¢ï¼æ¥è¯¢æ¯ä½å­¦çè·å¾çæé«æç»©åå®æå¯¹åºçç§ç®ï¼è¥ç§ç®æç»©å¹¶åï¼å course_id æå°çä¸é¨ãæ¥è¯¢ç»æéæ student_id å¢åºè¿è¡æåºã\n\nè¯¦æ\n\n# æ¯æ¥æ°ç¨æ·ç»è®¡\n\nç¼åä¸ä¸ª sql æ¥è¯¢ï¼ä»¥æ¥è¯¢ä»ä»å¤©èµ·æå¤ 90 å¤©åï¼æ¯ä¸ªæ¥æè¯¥æ¥æé¦æ¬¡ç»å½çç¨æ·æ°ãåè®¾ä»å¤©æ¯ 2019-06-30.\n\nè¯¦æ\n\n# æ¥åçè®°å½i\n\nç¼åä¸æ¡sqlï¼æ¥è¯¢æ¯ç§ æ¥åçç±ï¼report reasonï¼å¨æ¨å¤©çæ¥åæ°éãåè®¾ä»å¤©æ¯ 2019-07-05ã\n\nè¯¦æ\n\n# éæ°æ ¼å¼åé¨é¨è¡¨\n\nç¼åä¸ä¸ª sql æ¥è¯¢æ¥éæ°æ ¼å¼åè¡¨ï¼ä½¿å¾æ°çè¡¨ä¸­æä¸ä¸ªé¨é¨ id ååä¸äºå¯¹åº æ¯ä¸ªæ çæ¶å¥ï¼revenueï¼åã\n\nè¯¦æ\n\n# æ¥è¯¢æ´»è·ä¸å¡\n\nåä¸æ®µ sql æ¥æ¥è¯¢æææ´»è·çä¸å¡ã(å¦æä¸ä¸ªä¸å¡çæä¸ªäºä»¶ç±»åçåçæ¬¡æ°å¤§äºæ­¤äºä»¶ç±»åå¨ææä¸å¡ä¸­çå¹³ååçæ¬¡æ°ï¼å¹¶ä¸è¯¥ä¸å¡è³å°æä¸¤ä¸ªè¿æ ·çäºä»¶ç±»åï¼é£ä¹è¯¥ä¸å¡å°±å¯è¢«çåæ¯æ´»è·ä¸å¡ã)\n\nè¯¦æ\n\n# ç¨æ·è´­ä¹°å¹³å°\n\nåä¸æ®µ sql æ¥æ¥æ¾æ¯å¤© ä» ä½¿ç¨ææºç«¯ç¨æ·ãä» ä½¿ç¨æ¡é¢ç«¯ç¨æ·å åæ¶ ä½¿ç¨æ¡é¢ç«¯åææºç«¯çç¨æ·äººæ°åæ»æ¯åºéé¢ã\n\nè¯¦æ\n\n# å¸åºåæii\n\nåä¸ä¸ª sql æ¥è¯¢ç¡®å®æ¯ä¸ä¸ªç¨æ·ææ¥æé¡ºåºååºçç¬¬äºä»¶ååçåçæ¯å¦æ¯ä»ä»¬æåç±çåçãå¦æä¸ä¸ªç¨æ·ååºå°äºä¸¤ä»¶ååï¼æ¥è¯¢çç»ææ¯ no ã\n\nè¯¦æ\n\n# æ¥åçè®°å½ii\n\nç¼åä¸æ®µ sql æ¥æ¥æ¾ï¼å¨è¢«æ¥åä¸ºåå¾å¹¿åçå¸å­ä¸­ï¼è¢«ç§»é¤çå¸å­çæ¯æ¥å¹³åå æ¯ï¼åèäºå¥å°å°æ°ç¹å 2 ä½ã\n\nè¯¦æ\n\n# æç« é¢è§i\n\nè¯·ç¼åä¸æ¡ sql æ¥è¯¢ä»¥æ¾åºæææµè§è¿èªå·±æç« çä½èï¼ç»ææç§ id ååºæåã\n\nè¯¦æ\n\n# æç« é¢è§ii\n\nç¼åä¸æ¡ sql æ¥è¯¢æ¥æ¾åºå¨åä¸å¤©éè¯»è³å°ä¸¤ç¯æç« çäººï¼ç»ææç§ id ååºæåºã\n\nè¯¦æ\n\n# å³æ¶é£ç©ééi\n\nåä¸æ¡ sql æ¥è¯¢è¯­å¥è·åå³æ¶è®¢åæå çç¾åæ¯ï¼ ä¿çä¸¤ä½å°æ°ã\n\nè¯¦æ\n\n# å³æ¶é£ç©ééii\n\nåä¸æ¡ sql æ¥è¯¢è¯­å¥è·åå³æ¶è®¢åå¨ææç¨æ·çé¦æ¬¡è®¢åä¸­çæ¯ä¾ãä¿çä¸¤ä½å°æ°ã\n\nè¯¦æ\n\n# æåä¸ä¸ªè½è¿å¥çµæ¢¯çäºº\n\nåä¸æ¡ sql æ¥è¯¢è¯­å¥æ¥æ¾æåä¸ä¸ªè½è¿å¥çµæ¢¯ä¸ä¸è¶è¿éééå¶ç person_name ãé¢ç®ç¡®ä¿éåä¸­ç¬¬ä¸ä½çäººå¯ä»¥è¿å¥çµæ¢¯ ã\n\nè¯¦æ\n\n# è¡è½¬å\n\næ¥è¯¢ä¸ºè§å®çç»æ\n\nè¯¦æ\n\n# ææ«èè¯ï¼æªå®æï¼\n\næªå®æ\n\nè¯¦æ\n\n# æ¾åºè¿ç»­3å¤©åä»¥ä¸åå°ç¢³ææ¾éå¨100ä»¥ä¸çç¨æ·\n\n> è¿ç»­ç»å½é®é¢\n\nè¯¦æ",charsets:{cjk:!0},lastUpdated:"2022/07/20, 18:02:04",lastUpdatedTimestamp:1658311324e3},{title:"Pythonæä½Office",frontmatter:{title:"Pythonæä½Office",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/f2a340/",categories:["å¶ä»","Python"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/01.Python/02.Python%E6%93%8D%E4%BD%9COffice.html",relativePath:"04.å¶ä»/01.Python/02.Pythonæä½Office.md",key:"v-2bc194fa",path:"/pages/f2a340/",headers:[{level:2,title:"ä¿®æ¹Excel",slug:"ä¿®æ¹excel",normalizedTitle:"ä¿®æ¹excel",charIndex:2},{level:3,title:"ç¤ºä¾ä»£ç ",slug:"ç¤ºä¾ä»£ç ",normalizedTitle:"ç¤ºä¾ä»£ç ",charIndex:14},{level:2,title:"è¯»åWord",slug:"è¯»åword",normalizedTitle:"è¯»åword",charIndex:4887},{level:3,title:"ææ¬",slug:"ææ¬",normalizedTitle:"ææ¬",charIndex:4973},{level:3,title:"è¡¨æ ¼",slug:"è¡¨æ ¼",normalizedTitle:"è¡¨æ ¼",charIndex:5971},{level:3,title:"å¾ç",slug:"å¾ç",normalizedTitle:"å¾ç",charIndex:7118},{level:3,title:"ææ¡£",slug:"ææ¡£",normalizedTitle:"ææ¡£",charIndex:7267},{level:3,title:"æé¡ºåºè¯»ådocææ¡£",slug:"æé¡ºåºè¯»ådocææ¡£",normalizedTitle:"æé¡ºåºè¯»ådocææ¡£",charIndex:9018},{level:2,title:"ææ¨¡ççæWordææ¡£",slug:"ææ¨¡ççæwordææ¡£",normalizedTitle:"ææ¨¡ççæwordææ¡£",charIndex:10684},{level:3,title:"docxtpl",slug:"docxtpl",normalizedTitle:"docxtpl",charIndex:10700},{level:2,title:"ææ¨¡ççæ Excel ææ¡£",slug:"ææ¨¡ççæ-excel-ææ¡£",normalizedTitle:"ææ¨¡ççæ excel ææ¡£",charIndex:12346},{level:3,title:"xlsxtpl",slug:"xlsxtpl",normalizedTitle:"xlsxtpl",charIndex:12365},{level:2,title:"ä½¿ç¨ Python + Mermaid ç»å¾å¹¶æå¥ Word ææ¡£",slug:"ä½¿ç¨-python-mermaid-ç»å¾å¹¶æå¥-word-ææ¡£",normalizedTitle:"ä½¿ç¨ python + mermaid ç»å¾å¹¶æå¥ word ææ¡£",charIndex:12428}],headersStr:"ä¿®æ¹Excel ç¤ºä¾ä»£ç  è¯»åWord ææ¬ è¡¨æ ¼ å¾ç ææ¡£ æé¡ºåºè¯»ådocææ¡£ ææ¨¡ççæWordææ¡£ docxtpl ææ¨¡ççæ Excel ææ¡£ xlsxtpl ä½¿ç¨ Python + Mermaid ç»å¾å¹¶æå¥ Word ææ¡£",content:"# ä¿®æ¹Excel\n\n\n# ç¤ºä¾ä»£ç \n\n# https://blog.csdn.net/sinat_28576553/article/details/81275650\nimport openpyxl\n\nfilepath = \"D:\\\\Desktop\\\\åºç¡ä¿¡æ¯(2)(1).xlsx\"\n\n#è·å å·¥ä½ç°¿å¯¹è±¡\nworkbook=openpyxl.load_workbook(filepath)\n#ä¸xlrd æ¨¡åçåºå«\n#wokrbook=xlrd.open_workbook(\"\"DataSource\\Economics.xls)\n\n#è·åå·¥ä½ç°¿ workbookçææå·¥ä½è¡¨\n# shenames=workbook.get_sheet_names()    # wb['Sheet'] #éè¿åç§°è·åå·¥ä½è\n# print(shenames)  #['åçå¸', 'æµè¯è¡¨']\n#å¨xlrdæ¨¡åä¸­ä¸º sheetnames=workbook.sheet_names()\n \n#ä½¿ç¨ä¸è¿°è¯­å¥ä¼ååºè­¦åï¼DeprecationWarning: Call to deprecated function get_sheet_names (Use wb.sheetnames).\n#è¯´æ get_sheet_nameså·²ç»è¢«å¼ç¨ å¯ä»¥æ¹ç¨ wb.sheetnames æ¹æ³\nshenames=workbook.sheetnames\n# print(shenames)  #['åçå¸', 'æµè¯è¡¨']\n\n\n\n\"\"\"\nfor sheetName in shenames: \n    # print(sheetName)\n    #è·å¾å·¥ä½ç°¿çè¡¨ååï¼å°±å¯ä»¥è·å¾è¡¨å¯¹è±¡\n    worksheet=workbook.get_sheet_by_name(sheetName)     # workbook[shenames[1]]\n\"\"\"\nworksheet=workbook.get_sheet_by_name(\"åä½åºæ¬ä¿¡æ¯è¡¨\")\nprint(worksheet)\n\n\nrows=worksheet.max_row\ncolumns=worksheet.max_column\n\nprint(rows,columns)\n\n\n#è®¾ç½®ç¬¬ä¸åçå®½åº¦\n#sheet.column_dimensions['A'].width = 20.0\n \n# #è®¾ç½®ç¬¬ä¸è¡çé«åº¦\n# sheet.row_dimensions[1].height = 25.0\n\n#è®¾ç½®ï¼1,1ï¼çååæ ¼çé¢è²ä¸º8E236Bï¼ å¡«åæ¹å¼ç¨solid(çº¯è²)\nsheet.cell(1,1).fill=PatternFill(fill_type=\"solid\",start_color=\"8E236B\")\n\n#å¨ç¬¬ä¸åä¹åæå¥ä¸å\nworksheet.insert_cols(1)  #\nworksheet.insert_rows(7)#å¨ç¬¬è¡åé¢æå¥ä¸è¡\n\n# åå¹¶ååæ ¼\nfanwei = \"'A{}:B{}'\".format('1','2')\nsheet.merge_cells('A1:B2') #è¿æ ·å¯ä»¥\nsheet.merge_cells(fanwei) #è¿æ ·ä¸è¡\nsheet.merge_cells('A{}:B{}'.format(1,2)) #è¿æ ·å¯ä»¥ï¼ç¥å¥\nsheet.merge_cells('A{}:B{}'.format('1','2')) #è¿æ ·ä¹è¡\n\nfrom openpyxl.styles import PatternFill, Border, Side, Font, Alignment\n# å­ä½\nfont = Font(size=18, bold=True, color=\"1874CD\")\nsheet.cell(row=1, column=1).font = font\n\n# è¾¹æ¡\nthin = Side(border_style=\"thin\", color=\"000000\")\nborder = Border(top=thin, left=thin, right=thin, bottom=thin)\nsheet.cell(row=2, column=2).border = border\n\n# å¯¹é½æ¹å¼\nsheet.cell(row=2, column=2).alignment = Alignment(horizontal='center', vertical='center')\n\n# èªå¨æ¢è¡\nworksheet.cell(row=1, column=1, value=value).alignment = Alignment(wrapText=True)\n\nwk_sheet.cell(row=2,column=2,value='å¤§åº') #å¨ç¬¬äºè¡ï¼ç¬¬äºåä¸å¥âå¤§åºâæ°å¼\n\n\nwb.close()#å³é­\n\n\nimport openpyxl\nfrom openpyxl.styles import Border, Side, Font, Alignment\n\nfile = \"07å³ç®åæ¥å.xlsx\"\n\nfilepath = \"D:\\\\Desktop\\\\ææ¯æ åexcel\\\\\" + file\ntopath = \"D:\\\\Desktop\\\\ææ¯æ åexcel\\\\new\\\\test.xlsx\" # + file\n\n#è·å å·¥ä½ç°¿å¯¹è±¡\nworkbook=openpyxl.load_workbook(filepath)\n\n#è·åå·¥ä½ç°¿ workbookçææå·¥ä½è¡¨\nshenames=workbook.sheetnames\n\nfor sheetName in shenames: \n    #è·å¾å·¥ä½ç°¿çè¡¨ååï¼å°±å¯ä»¥è·å¾è¡¨å¯¹è±¡\n    worksheet=workbook.get_sheet_by_name(sheetName)     # workbook[shenames[1]]\n\n    # æå¥ä¸¤è¡å¹¶ä¿®æ¹è¡é«\n    worksheet.insert_rows(2)               #å¨ç¬¬è¡åé¢æå¥ä¸è¡\n    worksheet.insert_rows(2)               #å¨ç¬¬è¡åé¢æå¥ä¸è¡\n\n    # è¾¹æ¡\n    thin = Side(border_style=\"thin\", color=\"000000\")\n    border = Border(top=thin, left=thin, right=thin, bottom=thin)\n    worksheet.cell(row=2, column=1).border = border\n    worksheet.cell(row=3, column=1).border = border\n\n    # å­ä½\n    font = Font(size=16, bold=True, color=\"000000\")\n    font2 = Font(size=10.5, bold=True, color=\"000000\")\n    worksheet.cell(row=2, column=1).font = font\n    worksheet.cell(row=3, column=1).font = font\n    worksheet.cell(row=4, column=9).font = font2\n    worksheet.cell(row=4, column=10).font = font2\n    worksheet.cell(row=4, column=11).font = font2\n\n    # èªå¨æ¢è¡\n    worksheet.cell(row=4, column=9).alignment = Alignment(horizontal='center', vertical='center', wrapText=True)\n    worksheet.cell(row=4, column=10).alignment = Alignment(horizontal='center', vertical='center', wrapText=True)\n    worksheet.cell(row=4, column=11).alignment = Alignment(horizontal='center', vertical='center', wrapText=True)\n    worksheet.cell(row=2, column=1).alignment = Alignment(horizontal='center', vertical='center', wrapText=True)\n    worksheet.cell(row=3, column=1).alignment = Alignment(horizontal='center', vertical='center', wrapText=True)\n\n    worksheet.row_dimensions[2].height = 37.2  #è®¾ç½®ç¬¬è¡çé«åº¦\n    worksheet.row_dimensions[3].height = 37.2  #è®¾ç½®ç¬¬è¡çé«åº¦\n    worksheet.row_dimensions[4].height = 67.1  #è®¾ç½®ç¬¬è¡çé«åº¦\n\n    worksheet.column_dimensions['I'].width = 30.0\n    worksheet.column_dimensions['J'].width = 30.0\n    worksheet.column_dimensions['K'].width = 35.0\n\n    #worksheet.merge_cells('A1:K1')\n    worksheet.merge_cells('A2:K2')\n    worksheet.merge_cells('A3:K3')\n\n    worksheet.cell(row=2,column=1,value='è¯·ç»åç³»ç»å®ç°ï¼è¯¦ç»æè¿°æ¬è¡¨çä½¿ç¨è¯´æï¼ä¸å¡åºæ¯ãä¸å¡ç¯èå¯¹è¡¨çå·ä½æä½ãä¸å¶ä»è¡¨çéåä½¿ç¨ãå­å¨çå·ä½åå®¹ï¼ï¼')\n    worksheet.cell(row=3,column=1,value='è¯·å¡«åæ¯å¦æå¶ä»éè¦ä¿®æ¹çåå®¹ï¼')\n    worksheet.cell(row=4,column=9,value='æ¯å¦å¿å¡«ï¼æ°æ®åºè®¾ç½®è¦æ±ï¼')\n    worksheet.cell(row=4,column=10,value='ç»åç³»ç»å®ç°ï¼è¯¦ç»æè¿°å­æ®µçä½¿ç¨è¯´æ')\n    worksheet.cell(row=4,column=11,value='å¯¹å­æ®µçä¿®æ¹å»ºè®®ï¼1æ¯å¦å»ºè®®âæ°å¢âæâå é¤âå­æ®µï¼è¯·æ³¨æâæ°å¢âæâå é¤âã2æ¯å¯¹å·²æå­æ®µé¿åº¦ãå¼åãå¤æ³¨ç­ä¿¡æ¯æåºä¿®æ¹å»ºè®®ï¼')\n\n    for row in range(4, worksheet.max_row + 1) :\n        worksheet.cell(row=row, column=9).border = border\n        worksheet.cell(row=row, column=10).border = border\n        worksheet.cell(row=row, column=11).border = border\n\n\nworkbook.save(topath) \n\nworkbook.close()#å³é­\n\n\n\n# è¯»åWord\n\nåæï¼\n\n# å¯¼å¥å\nfrom docx import Document\nfrom docx.shared import Inches  #è±å¯¸\n\n\n\n# ææ¬\n\n * ææ¬æä½ï¼åºç¡ï¼\n\n# å¨æ«å°¾æ·»å æ®µè½\nparagraph = document.add_paragraph('Lorem ipsum dolor sit amet.')\n# å¨æ è¯ä¹åæ·»å æ®µè½\nprior_paragraph = paragraph.insert_paragraph_before('Lorem ipsum')\n# æ·»å æ é¢ï¼é»è®¤1çº§ï¼\ndocument.add_heading('The REAL meaning of the universe')\n# æ·»å 2çº§æ é¢\ndocument.add_heading('The role of dolphins', level=2)\n# æ·»å åé¡µç¬¦\ndocument.add_page_break()\n\n\n\n * æ®µè½æ ·å¼\n\n# æ·»å æ®µè½æ¶è®¾ç½®æ ·å¼\ndocument.add_paragraph('Lorem ipsum dolor sit amet.', style='ListBullet')\n\n# æ·»å æ®µè½åè®¾ç½®æ ·å¼\nparagraph = document.add_paragraph('Lorem ipsum dolor sit amet.')\nparagraph.style = 'List Bullet'\n\n# éè¿runçä¸¤ä¸ªå±æ§æ¥è®¾ç½®ç²ä½åæä½\nparagraph = document.add_paragraph('Lorem ipsum ')\nrun = paragraph.add_run('dolor')\nrun.bold = True # == paragraph.add_run('dolor').bold = True\nparagraph.add_run(' sit amet.')\n\n\n\n * å­ä½æ ·å¼\n\nparagraph = document.add_paragraph('Normal text, ')\nparagraph.add_run('text with emphasis.', 'Emphasis')\n\n# ç­ä»·äº\n\nparagraph = document.add_paragraph('Normal text, ')\nrun = paragraph.add_run('text with emphasis.')\nrun.style = 'Emphasis'\n\n\n\n# è¡¨æ ¼\n\n * è¡¨æ ¼æä½ï¼åºç¡ï¼\n\n# æ·»å ä¸ä¸ª2è¡2åçè¡¨æ ¼\ntable = document.add_table(rows=2, cols=2)\n# è·åååæ ¼\ncell = table.cell(0, 1)\n# ååæ ¼èµå¼\ncell.text = 'parrot, possibly dead'\n# è·åä¸è¡\nrow = table.rows[1]\n# æ·»å ä¸è¡\nrow = table.add_row()\n# æ·»å æ ·å¼\ntable.style = 'LightShading-Accent1'\n\n\n\nç¤ºä¾ï¼å°æ°ç»çæ°æ®æ¾å¥è¡¨æ ¼\n\n# get table data -------------\nitems = (\n(7, '1024', 'Plush kittens'),\n(3, '2042', 'Furbees'),\n(1, '1288', 'French Poodle Collars, Deluxe'),\n\n# add table ------------------\ntable = document.add_table(1, 3)\n# populate header row --------\nheading_cells = table.rows[0].cells\nheading_cells[0].text = 'Qty'\nheading_cells[1].text = 'SKU'\nheading_cells[2].text = 'Description'\n# add a data row for each item\nfor item in items:\ncells = table.add_row().cells\ncells[0].text = str(item.qty)\ncells[1].text = item.sku\ncells[2].text = item.desc\n\n\n * è¯»åè¡¨æ ¼\n\npath = \"text\\\\é¢ç®ç®¡çä¸ä½åå°åºç³»ç»æ°æ®åºè®¾è®¡(ä»£ç é).docx\"\ndocument = Document(path)  # è¯»å¥æä»¶\ntables = document.tables   # è·åæä»¶ä¸­çè¡¨æ ¼é\ntable = tables[1]  # è·åæä»¶ä¸­çç¬¬ä¸ä¸ªè¡¨æ ¼\n\n# éåè¡¨æ ¼åå®¹\nfor i in range(0, len(table.rows)):  # ä»è¡¨æ ¼ç¬¬ä¸è¡å¼å§å¾ªç¯è¯»åè¡¨æ ¼æ°æ®\n    for j in range(0, len(table.columns)):\n        print(table.cell(i,j).text, end = '\\t')\n    print('', end = '\\n')\n\n\n\n# å¾ç\n\n * å¾çæä½ï¼åºç¡ï¼\n\n# æ·»å å¾ç\ndocument.add_picture('image-filename.png')\n# æ·»å å¾çæ¶è®¾ç½®å¾çå¤§å°\ndocument.add_picture('image-filename.png', width=Inches(1.0))\n\n\n\n\n# ææ¡£\n\n * ææ¡£æä½ï¼åºç¡ï¼\n\n# æ°å»ºæä»¶\nfrom docx import Document\ndocument = Document()\ndocument.save('test.docx')\n\n# æµå¼è¯»åï¼ï¼ï¼\nf = open('foobar.docx', 'rb')\ndocument = Document(f)\nf.close()\n\n\nwith open('foobar.docx', 'rb') as f:\nsource_stream = StringIO(f.read())\ndocument = Document(source_stream)\nsource_stream.close()\n...\ntarget_stream = StringIO()\ndocument.save(target_stream)\n\n\n * ææ¬å¯¹é½\n\n# ä»ç¶çº§åç´ ç»§æ¿\nfrom docx.enum.text import WD_ALIGN_PARAGRAPH\ndocument = Document()\nparagraph = document.add_paragraph()\nparagraph_format = paragraph.paragraph_format\nparagraph_format.alignment\n# None# indicating alignment is inherited from the style hierarc\n\n# ä»å¯¹è±¡è·åå¼\nparagraph_format.alignment = WD_ALIGN_PARAGRAPH.CENTER\nparagraph_format.alignment\n# CENTER (1)\n\n\n * å·¦å³ï¼é¦è¡ï¼ç¼©è¿\n\n# å·¦ç¼©è¿\nfrom docx.shared import Inches\nparagraph = document.add_paragraph()\nparagraph_format = paragraph.paragraph_format\nparagraph_format.left_indent\n# None # indicating indentation is inherited from the style hierarchy\nparagraph_format.left_indent = Inches(0.5)\nparagraph_format.left_indent\n# 457200\nparagraph_format.left_indent.inches\n# 0.5\n\n# å³ç¼©è¿\nfrom docx.shared import Pt\nparagraph_format.right_indent\n# None\nparagraph_format.right_indent = Pt(24)\nparagraph_format.right_indent\n# 304800\nparagraph_format.right_indent.pt\n# 24.0\n\n\n# é¦è¡ç¼©è¿\nparagraph_format.first_line_indent\n#None\nparagraph_format.first_line_indent = Inches(-0.25)\nparagraph_format.first_line_indent\n# -228600\nparagraph_format.first_line_indent.inches\n# -0.25\n\n\n * å¶è¡¨ç¬¦ï¼è§ææ¡£ï¼\n * æ®µé´è·ï¼è§ææ¡£ï¼\n * è¡é´è·ï¼è§ææ¡£ï¼\n * åé¡µï¼è§ææ¡£ï¼\n * å­ä½æ ¼å¼åé¢è²ï¼è§ææ¡£ï¼\n\nfrom docx import Document\ndocument = Document()\nrun = document.add_paragraph().add_run()\nfont = run.font\n\nfrom docx.shared import Pt\nfont.name = 'Calibri'\nfont.size = Pt(12)\n\n\n * sectionsï¼è§ææ¡£ï¼\n * é¡µçé¡µèï¼è§ææ¡£ï¼\n\n\n# æé¡ºåºè¯»ådocææ¡£\n\nimport os\nimport docx\n\nfrom docx.document import Document\nfrom docx.oxml.table import CT_Tbl\nfrom docx.oxml.text.paragraph import CT_P\nfrom docx.table import _Cell, Table\nfrom docx.text.paragraph import Paragraph\n\n\ndef iter_block_items(parent):\n    \"\"\"\n    Yield each paragraph and table child within *parent*, in document order.\n    Each returned value is an instance of either Table or Paragraph. *parent*\n    would most commonly be a reference to a main Document object, but\n    also works for a _Cell object, which itself can contain paragraphs and tables.\n    \"\"\"\n    if isinstance(parent, Document):\n        parent_elm = parent.element.body\n    elif isinstance(parent, _Cell):\n        parent_elm = parent._tc\n    else:\n        raise ValueError(\"something's not right\")\n\n    for child in parent_elm.iterchildren():\n        if isinstance(child, CT_P):\n            yield Paragraph(child, parent)\n        elif isinstance(child, CT_Tbl):\n            yield Table(child, parent)\n\n\ndef read_table(table):\n    return [[cell.text for cell in row.cells] for row in table.rows]\n\n\ndef read_word(word_path):\n    doc = docx.Document(word_path)\n    for block in iter_block_items(doc):\n        if isinstance(block, Paragraph):\n            print(\"text\", [block.text])\n        elif isinstance(block, Table):\n            print(\"table\", read_table(block))\n\n\nif __name__ == '__main__':\n    ROOT_DIR_P = os.path.abspath(os.path.dirname(os.path.dirname(__file__)))  # é¡¹ç®æ ¹ç®å½\n    word_path = os.path.join(ROOT_DIR_P, \"data/test_to_word.docx\")  # pdfæä»¶è·¯å¾åæä»¶å\n    # word_path = os.path.join(ROOT_DIR_P, \"data/test_to_word2.docx\")  # pdfæä»¶è·¯å¾åæä»¶å\n    read_word(word_path)\n\n\n\n\n# ææ¨¡ççæWordææ¡£\n\n\n# docxtpl\n\nç¬¬ä¸æ¹åºå®ç½ ï¼éµå¾ª jinja2 æ¨¡æ¿çè¯­æ³ï¼\nåèæ¨¡ç python-docx-template\n\næµè¯èæ¬\n\nimport json\nfrom docxtpl import DocxTemplate\n\n# æå®JSONæä»¶çè·¯å¾\njson_file_path = 'conf/doc_data.json'\nres_doc_path = \"files/my_word_template_res.docx\"\ndoc = DocxTemplate(\"conf/my_word_template.docx\")\n\n# è¯»åJSONæä»¶å¹¶å°å¶åå®¹è§£æä¸ºå­å¸\nwith open(json_file_path, 'r', encoding='utf-8') as file:\n    context = json.load(file)\ndoc.render(context)\ndoc.save(res_doc_path)\n\n\næµè¯æ°æ®\n\n{\n  \"name\": \"åç§°\",\n  \"rtext\": \"å¯ææ¬__\\n_&\",\n  \"special\": \"R('è½¬ä¹_ _<>_&')\",\n  \"fruits\": [\"Apple\", \"Banana\", \"Cherry\"],\n  \"display_paragraph\":true,\n  \"Paragraphs\" : [\n    {\n      \"name\": \"æ®µè½ 2.1\",\n      \"table_name\": \"table_name1\",\n      \"table_fields\": [\"id\", \"name\", \"age\", \"gender\"],\n      \"table_data\": [\n        {\"id\": \"1\", \"name\": \"å¼ ä¸\", \"age\": \"20\", \"gender\": \"ç·\"},\n        {\"id\": \"2\", \"name\": \"æå\", \"age\": \"21\", \"gender\": \"å¥³\"},\n        {\"id\": \"3\", \"name\": \"çäº\", \"age\": \"22\", \"gender\": \"ç·\"}\n      ]\n    },\n    {\"name\":\"æ®µè½ 2.2\"}\n  ]\n}\n\n\næµè¯æ¨¡çï¼wordï¼\n\n------------- å¾ªç¯\n{% for fruit in fruits %}\n- {{ fruit }}\n{% endfor %}\n\n\n------------- æ®µè½\n{% set paragraph %}\nThis is a new paragraph that we want to insert. It can contain multiple sentences.\n{% endset %}\n\n{{ paragraph }}\n\n------------- å¤æ­\n{%p if display_paragraph %}\nHere is my paragraph\n{%p endif %}\n\n\n------------- æ¼æ¥è¡\n1111\n{%- if display_paragraph -%}\n2222\n{%- else -%}\n3333\n{%- endif -%}\n9999\n\n\n------------- å¾ªç¯æ®µè½ï¼åµå¥åå®¹ï¼\n{% for Paragraph in Paragraphs %}\n{{ Paragraph.name }}\n{{ Paragraph.table_name }}\n\nid  name    age Gender\n{%tr for row in Paragraph. table_data %}\n{{ row.id }}    {{ row.name }}  {{ row.age }}   {{ row.gender }}\n{%tr endfor %}\n\n{% endfor %}\n\n\n\n\n# ææ¨¡ççæ Excel ææ¡£\n\n\n# xlsxtpl\n\nç¬¬ä¸æ¹åºå®ç½\nxlsxtpl ä½¿ç¨ jinja2 ä½ä¸ºå¶æ¨¡æ¿å¼æï¼éµå¾ª jinja2 æ¨¡æ¿çè¯­æ³ã\n\n\n# ä½¿ç¨ Python + Mermaid ç»å¾å¹¶æå¥ Word ææ¡£\n\nä½¿ç¨ nodejs å®è£ mermaid-cliï¼éè¿ Python ä»£ç è°ç¨å®¢æ·ç«¯çæå¾çä¿å­å°ç£çï¼åå°ç£çå¾çæå¥å° Word ææ¡£\n\n 1. å®è£ mermaid-cli npm install -g @mermaid-js/mermaid-cli\n 2. ä»£ç ç¤ºä¾\n\nimport subprocess\nfrom docx import Document\nfrom docx.shared import Inches\nimport os\n\n# ä½ çMermaidä»£ç \nmermaid_code = \"\"\"\ngraph TD\n    A[Christmas] --\x3e|Get money| B(Go shopping)\n    B --\x3e C{Let me think}\n    C --\x3e|One| D[Laptop]\n    C --\x3e|Two| E[iPhone]\n    C --\x3e|Three| F[Car]\n\"\"\"\n\n# å°Mermaidä»£ç åå¥ä¸´æ¶æä»¶\nwith open('temp.mmd', 'w') as file:\n    file.write(mermaid_code)\n\nmmscpath = \"D:\\\\Program Files\\\\nodejs\\\\npm_global\\\\mmdc.cmd\"\n# ä½¿ç¨Mermaid CLIå°Mermaidä»£ç è½¬æ¢ä¸ºSVG\n# subprocess.run(['mmdc', '-i', 'temp.mmd', '-o', 'temp.svg'])\nsubprocess.run([mmscpath, '-i', 'temp.mmd', '-o', 'temp.png'])\n# åå»ºæå è½½Wordææ¡£\ndoc = Document()\ndoc.add_heading('Mermaid Diagram in Word', 0)\n# å°å¾çæå¥å°Wordææ¡£ä¸­\ndoc.add_picture('temp.png', width=Inches(4.0))\n# ä¿å­Wordææ¡£\ndoc.save('diagram.docx')\n# æ¸çä¸´æ¶æä»¶\nos.remove('temp.mmd')\n# os.remove('temp.svg')\nos.remove('temp.png')\n",normalizedContent:"# ä¿®æ¹excel\n\n\n# ç¤ºä¾ä»£ç \n\n# https://blog.csdn.net/sinat_28576553/article/details/81275650\nimport openpyxl\n\nfilepath = \"d:\\\\desktop\\\\åºç¡ä¿¡æ¯(2)(1).xlsx\"\n\n#è·å å·¥ä½ç°¿å¯¹è±¡\nworkbook=openpyxl.load_workbook(filepath)\n#ä¸xlrd æ¨¡åçåºå«\n#wokrbook=xlrd.open_workbook(\"\"datasource\\economics.xls)\n\n#è·åå·¥ä½ç°¿ workbookçææå·¥ä½è¡¨\n# shenames=workbook.get_sheet_names()    # wb['sheet'] #éè¿åç§°è·åå·¥ä½è\n# print(shenames)  #['åçå¸', 'æµè¯è¡¨']\n#å¨xlrdæ¨¡åä¸­ä¸º sheetnames=workbook.sheet_names()\n \n#ä½¿ç¨ä¸è¿°è¯­å¥ä¼ååºè­¦åï¼deprecationwarning: call to deprecated function get_sheet_names (use wb.sheetnames).\n#è¯´æ get_sheet_nameså·²ç»è¢«å¼ç¨ å¯ä»¥æ¹ç¨ wb.sheetnames æ¹æ³\nshenames=workbook.sheetnames\n# print(shenames)  #['åçå¸', 'æµè¯è¡¨']\n\n\n\n\"\"\"\nfor sheetname in shenames: \n    # print(sheetname)\n    #è·å¾å·¥ä½ç°¿çè¡¨ååï¼å°±å¯ä»¥è·å¾è¡¨å¯¹è±¡\n    worksheet=workbook.get_sheet_by_name(sheetname)     # workbook[shenames[1]]\n\"\"\"\nworksheet=workbook.get_sheet_by_name(\"åä½åºæ¬ä¿¡æ¯è¡¨\")\nprint(worksheet)\n\n\nrows=worksheet.max_row\ncolumns=worksheet.max_column\n\nprint(rows,columns)\n\n\n#è®¾ç½®ç¬¬ä¸åçå®½åº¦\n#sheet.column_dimensions['a'].width = 20.0\n \n# #è®¾ç½®ç¬¬ä¸è¡çé«åº¦\n# sheet.row_dimensions[1].height = 25.0\n\n#è®¾ç½®ï¼1,1ï¼çååæ ¼çé¢è²ä¸º8e236bï¼ å¡«åæ¹å¼ç¨solid(çº¯è²)\nsheet.cell(1,1).fill=patternfill(fill_type=\"solid\",start_color=\"8e236b\")\n\n#å¨ç¬¬ä¸åä¹åæå¥ä¸å\nworksheet.insert_cols(1)  #\nworksheet.insert_rows(7)#å¨ç¬¬è¡åé¢æå¥ä¸è¡\n\n# åå¹¶ååæ ¼\nfanwei = \"'a{}:b{}'\".format('1','2')\nsheet.merge_cells('a1:b2') #è¿æ ·å¯ä»¥\nsheet.merge_cells(fanwei) #è¿æ ·ä¸è¡\nsheet.merge_cells('a{}:b{}'.format(1,2)) #è¿æ ·å¯ä»¥ï¼ç¥å¥\nsheet.merge_cells('a{}:b{}'.format('1','2')) #è¿æ ·ä¹è¡\n\nfrom openpyxl.styles import patternfill, border, side, font, alignment\n# å­ä½\nfont = font(size=18, bold=true, color=\"1874cd\")\nsheet.cell(row=1, column=1).font = font\n\n# è¾¹æ¡\nthin = side(border_style=\"thin\", color=\"000000\")\nborder = border(top=thin, left=thin, right=thin, bottom=thin)\nsheet.cell(row=2, column=2).border = border\n\n# å¯¹é½æ¹å¼\nsheet.cell(row=2, column=2).alignment = alignment(horizontal='center', vertical='center')\n\n# èªå¨æ¢è¡\nworksheet.cell(row=1, column=1, value=value).alignment = alignment(wraptext=true)\n\nwk_sheet.cell(row=2,column=2,value='å¤§åº') #å¨ç¬¬äºè¡ï¼ç¬¬äºåä¸å¥âå¤§åºâæ°å¼\n\n\nwb.close()#å³é­\n\n\nimport openpyxl\nfrom openpyxl.styles import border, side, font, alignment\n\nfile = \"07å³ç®åæ¥å.xlsx\"\n\nfilepath = \"d:\\\\desktop\\\\ææ¯æ åexcel\\\\\" + file\ntopath = \"d:\\\\desktop\\\\ææ¯æ åexcel\\\\new\\\\test.xlsx\" # + file\n\n#è·å å·¥ä½ç°¿å¯¹è±¡\nworkbook=openpyxl.load_workbook(filepath)\n\n#è·åå·¥ä½ç°¿ workbookçææå·¥ä½è¡¨\nshenames=workbook.sheetnames\n\nfor sheetname in shenames: \n    #è·å¾å·¥ä½ç°¿çè¡¨ååï¼å°±å¯ä»¥è·å¾è¡¨å¯¹è±¡\n    worksheet=workbook.get_sheet_by_name(sheetname)     # workbook[shenames[1]]\n\n    # æå¥ä¸¤è¡å¹¶ä¿®æ¹è¡é«\n    worksheet.insert_rows(2)               #å¨ç¬¬è¡åé¢æå¥ä¸è¡\n    worksheet.insert_rows(2)               #å¨ç¬¬è¡åé¢æå¥ä¸è¡\n\n    # è¾¹æ¡\n    thin = side(border_style=\"thin\", color=\"000000\")\n    border = border(top=thin, left=thin, right=thin, bottom=thin)\n    worksheet.cell(row=2, column=1).border = border\n    worksheet.cell(row=3, column=1).border = border\n\n    # å­ä½\n    font = font(size=16, bold=true, color=\"000000\")\n    font2 = font(size=10.5, bold=true, color=\"000000\")\n    worksheet.cell(row=2, column=1).font = font\n    worksheet.cell(row=3, column=1).font = font\n    worksheet.cell(row=4, column=9).font = font2\n    worksheet.cell(row=4, column=10).font = font2\n    worksheet.cell(row=4, column=11).font = font2\n\n    # èªå¨æ¢è¡\n    worksheet.cell(row=4, column=9).alignment = alignment(horizontal='center', vertical='center', wraptext=true)\n    worksheet.cell(row=4, column=10).alignment = alignment(horizontal='center', vertical='center', wraptext=true)\n    worksheet.cell(row=4, column=11).alignment = alignment(horizontal='center', vertical='center', wraptext=true)\n    worksheet.cell(row=2, column=1).alignment = alignment(horizontal='center', vertical='center', wraptext=true)\n    worksheet.cell(row=3, column=1).alignment = alignment(horizontal='center', vertical='center', wraptext=true)\n\n    worksheet.row_dimensions[2].height = 37.2  #è®¾ç½®ç¬¬è¡çé«åº¦\n    worksheet.row_dimensions[3].height = 37.2  #è®¾ç½®ç¬¬è¡çé«åº¦\n    worksheet.row_dimensions[4].height = 67.1  #è®¾ç½®ç¬¬è¡çé«åº¦\n\n    worksheet.column_dimensions['i'].width = 30.0\n    worksheet.column_dimensions['j'].width = 30.0\n    worksheet.column_dimensions['k'].width = 35.0\n\n    #worksheet.merge_cells('a1:k1')\n    worksheet.merge_cells('a2:k2')\n    worksheet.merge_cells('a3:k3')\n\n    worksheet.cell(row=2,column=1,value='è¯·ç»åç³»ç»å®ç°ï¼è¯¦ç»æè¿°æ¬è¡¨çä½¿ç¨è¯´æï¼ä¸å¡åºæ¯ãä¸å¡ç¯èå¯¹è¡¨çå·ä½æä½ãä¸å¶ä»è¡¨çéåä½¿ç¨ãå­å¨çå·ä½åå®¹ï¼ï¼')\n    worksheet.cell(row=3,column=1,value='è¯·å¡«åæ¯å¦æå¶ä»éè¦ä¿®æ¹çåå®¹ï¼')\n    worksheet.cell(row=4,column=9,value='æ¯å¦å¿å¡«ï¼æ°æ®åºè®¾ç½®è¦æ±ï¼')\n    worksheet.cell(row=4,column=10,value='ç»åç³»ç»å®ç°ï¼è¯¦ç»æè¿°å­æ®µçä½¿ç¨è¯´æ')\n    worksheet.cell(row=4,column=11,value='å¯¹å­æ®µçä¿®æ¹å»ºè®®ï¼1æ¯å¦å»ºè®®âæ°å¢âæâå é¤âå­æ®µï¼è¯·æ³¨æâæ°å¢âæâå é¤âã2æ¯å¯¹å·²æå­æ®µé¿åº¦ãå¼åãå¤æ³¨ç­ä¿¡æ¯æåºä¿®æ¹å»ºè®®ï¼')\n\n    for row in range(4, worksheet.max_row + 1) :\n        worksheet.cell(row=row, column=9).border = border\n        worksheet.cell(row=row, column=10).border = border\n        worksheet.cell(row=row, column=11).border = border\n\n\nworkbook.save(topath) \n\nworkbook.close()#å³é­\n\n\n\n# è¯»åword\n\nåæï¼\n\n# å¯¼å¥å\nfrom docx import document\nfrom docx.shared import inches  #è±å¯¸\n\n\n\n# ææ¬\n\n * ææ¬æä½ï¼åºç¡ï¼\n\n# å¨æ«å°¾æ·»å æ®µè½\nparagraph = document.add_paragraph('lorem ipsum dolor sit amet.')\n# å¨æ è¯ä¹åæ·»å æ®µè½\nprior_paragraph = paragraph.insert_paragraph_before('lorem ipsum')\n# æ·»å æ é¢ï¼é»è®¤1çº§ï¼\ndocument.add_heading('the real meaning of the universe')\n# æ·»å 2çº§æ é¢\ndocument.add_heading('the role of dolphins', level=2)\n# æ·»å åé¡µç¬¦\ndocument.add_page_break()\n\n\n\n * æ®µè½æ ·å¼\n\n# æ·»å æ®µè½æ¶è®¾ç½®æ ·å¼\ndocument.add_paragraph('lorem ipsum dolor sit amet.', style='listbullet')\n\n# æ·»å æ®µè½åè®¾ç½®æ ·å¼\nparagraph = document.add_paragraph('lorem ipsum dolor sit amet.')\nparagraph.style = 'list bullet'\n\n# éè¿runçä¸¤ä¸ªå±æ§æ¥è®¾ç½®ç²ä½åæä½\nparagraph = document.add_paragraph('lorem ipsum ')\nrun = paragraph.add_run('dolor')\nrun.bold = true # == paragraph.add_run('dolor').bold = true\nparagraph.add_run(' sit amet.')\n\n\n\n * å­ä½æ ·å¼\n\nparagraph = document.add_paragraph('normal text, ')\nparagraph.add_run('text with emphasis.', 'emphasis')\n\n# ç­ä»·äº\n\nparagraph = document.add_paragraph('normal text, ')\nrun = paragraph.add_run('text with emphasis.')\nrun.style = 'emphasis'\n\n\n\n# è¡¨æ ¼\n\n * è¡¨æ ¼æä½ï¼åºç¡ï¼\n\n# æ·»å ä¸ä¸ª2è¡2åçè¡¨æ ¼\ntable = document.add_table(rows=2, cols=2)\n# è·åååæ ¼\ncell = table.cell(0, 1)\n# ååæ ¼èµå¼\ncell.text = 'parrot, possibly dead'\n# è·åä¸è¡\nrow = table.rows[1]\n# æ·»å ä¸è¡\nrow = table.add_row()\n# æ·»å æ ·å¼\ntable.style = 'lightshading-accent1'\n\n\n\nç¤ºä¾ï¼å°æ°ç»çæ°æ®æ¾å¥è¡¨æ ¼\n\n# get table data -------------\nitems = (\n(7, '1024', 'plush kittens'),\n(3, '2042', 'furbees'),\n(1, '1288', 'french poodle collars, deluxe'),\n\n# add table ------------------\ntable = document.add_table(1, 3)\n# populate header row --------\nheading_cells = table.rows[0].cells\nheading_cells[0].text = 'qty'\nheading_cells[1].text = 'sku'\nheading_cells[2].text = 'description'\n# add a data row for each item\nfor item in items:\ncells = table.add_row().cells\ncells[0].text = str(item.qty)\ncells[1].text = item.sku\ncells[2].text = item.desc\n\n\n * è¯»åè¡¨æ ¼\n\npath = \"text\\\\é¢ç®ç®¡çä¸ä½åå°åºç³»ç»æ°æ®åºè®¾è®¡(ä»£ç é).docx\"\ndocument = document(path)  # è¯»å¥æä»¶\ntables = document.tables   # è·åæä»¶ä¸­çè¡¨æ ¼é\ntable = tables[1]  # è·åæä»¶ä¸­çç¬¬ä¸ä¸ªè¡¨æ ¼\n\n# éåè¡¨æ ¼åå®¹\nfor i in range(0, len(table.rows)):  # ä»è¡¨æ ¼ç¬¬ä¸è¡å¼å§å¾ªç¯è¯»åè¡¨æ ¼æ°æ®\n    for j in range(0, len(table.columns)):\n        print(table.cell(i,j).text, end = '\\t')\n    print('', end = '\\n')\n\n\n\n# å¾ç\n\n * å¾çæä½ï¼åºç¡ï¼\n\n# æ·»å å¾ç\ndocument.add_picture('image-filename.png')\n# æ·»å å¾çæ¶è®¾ç½®å¾çå¤§å°\ndocument.add_picture('image-filename.png', width=inches(1.0))\n\n\n\n\n# ææ¡£\n\n * ææ¡£æä½ï¼åºç¡ï¼\n\n# æ°å»ºæä»¶\nfrom docx import document\ndocument = document()\ndocument.save('test.docx')\n\n# æµå¼è¯»åï¼ï¼ï¼\nf = open('foobar.docx', 'rb')\ndocument = document(f)\nf.close()\n\n\nwith open('foobar.docx', 'rb') as f:\nsource_stream = stringio(f.read())\ndocument = document(source_stream)\nsource_stream.close()\n...\ntarget_stream = stringio()\ndocument.save(target_stream)\n\n\n * ææ¬å¯¹é½\n\n# ä»ç¶çº§åç´ ç»§æ¿\nfrom docx.enum.text import wd_align_paragraph\ndocument = document()\nparagraph = document.add_paragraph()\nparagraph_format = paragraph.paragraph_format\nparagraph_format.alignment\n# none# indicating alignment is inherited from the style hierarc\n\n# ä»å¯¹è±¡è·åå¼\nparagraph_format.alignment = wd_align_paragraph.center\nparagraph_format.alignment\n# center (1)\n\n\n * å·¦å³ï¼é¦è¡ï¼ç¼©è¿\n\n# å·¦ç¼©è¿\nfrom docx.shared import inches\nparagraph = document.add_paragraph()\nparagraph_format = paragraph.paragraph_format\nparagraph_format.left_indent\n# none # indicating indentation is inherited from the style hierarchy\nparagraph_format.left_indent = inches(0.5)\nparagraph_format.left_indent\n# 457200\nparagraph_format.left_indent.inches\n# 0.5\n\n# å³ç¼©è¿\nfrom docx.shared import pt\nparagraph_format.right_indent\n# none\nparagraph_format.right_indent = pt(24)\nparagraph_format.right_indent\n# 304800\nparagraph_format.right_indent.pt\n# 24.0\n\n\n# é¦è¡ç¼©è¿\nparagraph_format.first_line_indent\n#none\nparagraph_format.first_line_indent = inches(-0.25)\nparagraph_format.first_line_indent\n# -228600\nparagraph_format.first_line_indent.inches\n# -0.25\n\n\n * å¶è¡¨ç¬¦ï¼è§ææ¡£ï¼\n * æ®µé´è·ï¼è§ææ¡£ï¼\n * è¡é´è·ï¼è§ææ¡£ï¼\n * åé¡µï¼è§ææ¡£ï¼\n * å­ä½æ ¼å¼åé¢è²ï¼è§ææ¡£ï¼\n\nfrom docx import document\ndocument = document()\nrun = document.add_paragraph().add_run()\nfont = run.font\n\nfrom docx.shared import pt\nfont.name = 'calibri'\nfont.size = pt(12)\n\n\n * sectionsï¼è§ææ¡£ï¼\n * é¡µçé¡µèï¼è§ææ¡£ï¼\n\n\n# æé¡ºåºè¯»ådocææ¡£\n\nimport os\nimport docx\n\nfrom docx.document import document\nfrom docx.oxml.table import ct_tbl\nfrom docx.oxml.text.paragraph import ct_p\nfrom docx.table import _cell, table\nfrom docx.text.paragraph import paragraph\n\n\ndef iter_block_items(parent):\n    \"\"\"\n    yield each paragraph and table child within *parent*, in document order.\n    each returned value is an instance of either table or paragraph. *parent*\n    would most commonly be a reference to a main document object, but\n    also works for a _cell object, which itself can contain paragraphs and tables.\n    \"\"\"\n    if isinstance(parent, document):\n        parent_elm = parent.element.body\n    elif isinstance(parent, _cell):\n        parent_elm = parent._tc\n    else:\n        raise valueerror(\"something's not right\")\n\n    for child in parent_elm.iterchildren():\n        if isinstance(child, ct_p):\n            yield paragraph(child, parent)\n        elif isinstance(child, ct_tbl):\n            yield table(child, parent)\n\n\ndef read_table(table):\n    return [[cell.text for cell in row.cells] for row in table.rows]\n\n\ndef read_word(word_path):\n    doc = docx.document(word_path)\n    for block in iter_block_items(doc):\n        if isinstance(block, paragraph):\n            print(\"text\", [block.text])\n        elif isinstance(block, table):\n            print(\"table\", read_table(block))\n\n\nif __name__ == '__main__':\n    root_dir_p = os.path.abspath(os.path.dirname(os.path.dirname(__file__)))  # é¡¹ç®æ ¹ç®å½\n    word_path = os.path.join(root_dir_p, \"data/test_to_word.docx\")  # pdfæä»¶è·¯å¾åæä»¶å\n    # word_path = os.path.join(root_dir_p, \"data/test_to_word2.docx\")  # pdfæä»¶è·¯å¾åæä»¶å\n    read_word(word_path)\n\n\n\n\n# ææ¨¡ççæwordææ¡£\n\n\n# docxtpl\n\nç¬¬ä¸æ¹åºå®ç½ ï¼éµå¾ª jinja2 æ¨¡æ¿çè¯­æ³ï¼\nåèæ¨¡ç python-docx-template\n\næµè¯èæ¬\n\nimport json\nfrom docxtpl import docxtemplate\n\n# æå®jsonæä»¶çè·¯å¾\njson_file_path = 'conf/doc_data.json'\nres_doc_path = \"files/my_word_template_res.docx\"\ndoc = docxtemplate(\"conf/my_word_template.docx\")\n\n# è¯»åjsonæä»¶å¹¶å°å¶åå®¹è§£æä¸ºå­å¸\nwith open(json_file_path, 'r', encoding='utf-8') as file:\n    context = json.load(file)\ndoc.render(context)\ndoc.save(res_doc_path)\n\n\næµè¯æ°æ®\n\n{\n  \"name\": \"åç§°\",\n  \"rtext\": \"å¯ææ¬__\\n_&\",\n  \"special\": \"r('è½¬ä¹_ _<>_&')\",\n  \"fruits\": [\"apple\", \"banana\", \"cherry\"],\n  \"display_paragraph\":true,\n  \"paragraphs\" : [\n    {\n      \"name\": \"æ®µè½ 2.1\",\n      \"table_name\": \"table_name1\",\n      \"table_fields\": [\"id\", \"name\", \"age\", \"gender\"],\n      \"table_data\": [\n        {\"id\": \"1\", \"name\": \"å¼ ä¸\", \"age\": \"20\", \"gender\": \"ç·\"},\n        {\"id\": \"2\", \"name\": \"æå\", \"age\": \"21\", \"gender\": \"å¥³\"},\n        {\"id\": \"3\", \"name\": \"çäº\", \"age\": \"22\", \"gender\": \"ç·\"}\n      ]\n    },\n    {\"name\":\"æ®µè½ 2.2\"}\n  ]\n}\n\n\næµè¯æ¨¡çï¼wordï¼\n\n------------- å¾ªç¯\n{% for fruit in fruits %}\n- {{ fruit }}\n{% endfor %}\n\n\n------------- æ®µè½\n{% set paragraph %}\nthis is a new paragraph that we want to insert. it can contain multiple sentences.\n{% endset %}\n\n{{ paragraph }}\n\n------------- å¤æ­\n{%p if display_paragraph %}\nhere is my paragraph\n{%p endif %}\n\n\n------------- æ¼æ¥è¡\n1111\n{%- if display_paragraph -%}\n2222\n{%- else -%}\n3333\n{%- endif -%}\n9999\n\n\n------------- å¾ªç¯æ®µè½ï¼åµå¥åå®¹ï¼\n{% for paragraph in paragraphs %}\n{{ paragraph.name }}\n{{ paragraph.table_name }}\n\nid  name    age gender\n{%tr for row in paragraph. table_data %}\n{{ row.id }}    {{ row.name }}  {{ row.age }}   {{ row.gender }}\n{%tr endfor %}\n\n{% endfor %}\n\n\n\n\n# ææ¨¡ççæ excel ææ¡£\n\n\n# xlsxtpl\n\nç¬¬ä¸æ¹åºå®ç½\nxlsxtpl ä½¿ç¨ jinja2 ä½ä¸ºå¶æ¨¡æ¿å¼æï¼éµå¾ª jinja2 æ¨¡æ¿çè¯­æ³ã\n\n\n# ä½¿ç¨ python + mermaid ç»å¾å¹¶æå¥ word ææ¡£\n\nä½¿ç¨ nodejs å®è£ mermaid-cliï¼éè¿ python ä»£ç è°ç¨å®¢æ·ç«¯çæå¾çä¿å­å°ç£çï¼åå°ç£çå¾çæå¥å° word ææ¡£\n\n 1. å®è£ mermaid-cli npm install -g @mermaid-js/mermaid-cli\n 2. ä»£ç ç¤ºä¾\n\nimport subprocess\nfrom docx import document\nfrom docx.shared import inches\nimport os\n\n# ä½ çmermaidä»£ç \nmermaid_code = \"\"\"\ngraph td\n    a[christmas] --\x3e|get money| b(go shopping)\n    b --\x3e c{let me think}\n    c --\x3e|one| d[laptop]\n    c --\x3e|two| e[iphone]\n    c --\x3e|three| f[car]\n\"\"\"\n\n# å°mermaidä»£ç åå¥ä¸´æ¶æä»¶\nwith open('temp.mmd', 'w') as file:\n    file.write(mermaid_code)\n\nmmscpath = \"d:\\\\program files\\\\nodejs\\\\npm_global\\\\mmdc.cmd\"\n# ä½¿ç¨mermaid cliå°mermaidä»£ç è½¬æ¢ä¸ºsvg\n# subprocess.run(['mmdc', '-i', 'temp.mmd', '-o', 'temp.svg'])\nsubprocess.run([mmscpath, '-i', 'temp.mmd', '-o', 'temp.png'])\n# åå»ºæå è½½wordææ¡£\ndoc = document()\ndoc.add_heading('mermaid diagram in word', 0)\n# å°å¾çæå¥å°wordææ¡£ä¸­\ndoc.add_picture('temp.png', width=inches(4.0))\n# ä¿å­wordææ¡£\ndoc.save('diagram.docx')\n# æ¸çä¸´æ¶æä»¶\nos.remove('temp.mmd')\n# os.remove('temp.svg')\nos.remove('temp.png')\n",charsets:{cjk:!0},lastUpdated:"2025/01/02, 13:03:48",lastUpdatedTimestamp:1735794228e3},{title:"èªå·±åçpythonç¨åºï¼åå°å·¥ä½éï¼",frontmatter:{title:"èªå·±åçpythonç¨åºï¼åå°å·¥ä½éï¼",date:"2022-03-15T09:04:59.000Z",permalink:"/pages/c2b99b/",categories:["å¶ä»","Python"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/01.Python/04.%E8%87%AA%E5%B7%B1%E5%86%99%E7%9A%84python%E7%A8%8B%E5%BA%8F.html",relativePath:"04.å¶ä»/01.Python/04.èªå·±åçpythonç¨åº.md",key:"v-1dc96cde",path:"/pages/c2b99b/",headers:[{level:2,title:"æ¼æ¥sql",slug:"æ¼æ¥sql",normalizedTitle:"æ¼æ¥sql",charIndex:2},{level:2,title:"å°è¯å°Oracleæ¿æ¢ä¸ºMySQLè¯­æ³(æªå®æ)",slug:"å°è¯å°oracleæ¿æ¢ä¸ºmysqlè¯­æ³-æªå®æ",normalizedTitle:"å°è¯å°oracleæ¿æ¢ä¸ºmysqlè¯­æ³(æªå®æ)",charIndex:4255},{level:2,title:"ç»ä¹ é¢",slug:"ç»ä¹ é¢",normalizedTitle:"ç»ä¹ é¢",charIndex:6936},{level:3,title:"å­æ¯count",slug:"å­æ¯count",normalizedTitle:"å­æ¯count",charIndex:6944}],headersStr:"æ¼æ¥sql å°è¯å°Oracleæ¿æ¢ä¸ºMySQLè¯­æ³(æªå®æ) ç»ä¹ é¢ å­æ¯count",content:"# æ¼æ¥sql\n\nGD_STOCK_PAYMENT\tPAY_ID\tå¿è¿ä¿¡æ¯ä¸»é®\tDEBT_T_ZWGL_CHBJ\tCHBJ_ID\tå¿è¿æ¬éä¸»åID\nGD_STOCK_PAYMENT\tDEPT_STOCK_ID\tåºå¡ä¿¡æ¯ä¸»é®\tDEBT_T_ZWGL_CHBJ\tZW_ID\tåºå¡ID\nGD_STOCK_PAYMENT\tMOF_DIV_CODE\tè´¢æ¿åºåä»£ç \tDEBT_T_ZWGL_CHBJ\tAD_CODE\tåºåç¼ç \nGD_STOCK_PAYMENT\tAGENCY_CODE\tåä½ä»£ç \tDEBT_T_ZWGL_CHBJ\tAG_CODE\tåä½ç¼ç \n\n\nimport pandas as pd\nimport collections\n\nt_name = \"GD_ISSUE_PLAN\"\n\nfilepath = 'data\\{}.csv'.format(t_name)\n\n# è¯»åæä»¶\ndf = pd.read_csv(filepath, sep='\\t', header = None)\n\n# è·åç¬¬ä¸åå¹¶å»é\ntag_table = df[0].drop_duplicates().values[0]  \n# è·åæºè¡¨\nsource_tables = df[3].drop_duplicates().dropna().values   # ndarrayç±»å\n\n# è¡¨ååå«åæ¾å¥å­å¸\nnum = 0\n# dic = { tag_table: \"T{}\".format(num) }\ndic = collections.OrderedDict()\nfor table in source_tables:\n    num += 1\n    dic[table] = \"T{}\".format(num)\n\ncols = \",\".join(df.iloc[:, 1])\n\nlist1 = []\nlist1.append(\"INSERT INTO {}({})\".format(tag_table, cols))\nlist1.append(\"\\nSELECT\")\n\n# ç®æ è¡¨å ç®æ å­æ®µå æºè¡¨è¡¨å æºè¡¨å­æ®µå\ncolumns = df.iloc[:, [0,1,3,4]]\n\nsource_ad_table = ''   # åºåå¨åªä¸ªæºè¡¨\nsource_agency_table = ''  # åä½å¨åªä¸ªæºè¡¨ ?åªä¸ªå­æ®µå³è\n# æ¼æ¥selecté¨å\nfor row in range(0, columns.shape[0]):\n    if pd.isna(columns[4][row]):\n        if row != 0 :\n            list1.append(\"\\n\\t  ,{} AS {}\".format(\"''\", columns[1][row]))\n        else:\n            list1.append(\"\\n\\t   {} AS {}\".format(\"''\", columns[1][row]))\n    else:\n        tablename = dic[columns[3][row]]\n        # å¤çåºå\n        if columns[1][row] == \"MOF_DIV_CODE\":\n            num += 1\n            list1.append( \"\\n\\t  ,NVL(T{}.CZ_CODE, {}.AD_CODE) AS {}\".format(num, tablename, columns[1][row]) )\n            dic[\"DSY_V_ELE_AD\"] = \"T{}\".format(num)\n            source_ad_table = columns[3][row]\n        # å¤çåä½\n        elif columns[1][row] in (\"AGENCY_CODE\", \"AGENCY_COD\"):\n            num += 1\n            list1.append( \"\\n\\t  ,CASE WHEN T{}.CODE IS NULL THEN {}.AG_CODE ELSE T{}.AGENCY_CODE END AS AGENCY_CODE\".format(num, tablename, num) )\n            dic[\"BDA_T_DWDZ\"] = \"T{}\".format(num)\n            source_agency_table = columns[3][row]\n        # å¤çæ¶é´\n        elif columns[1][row].endswith( (\"TIME\", \"DATE\") ) : #, beg=[0, len(str)]\n            list1.append(\"\\n\\t  ,regexp_replace({}.{}, '-|:| ', '') AS {}\".format(tablename, columns[4][row], columns[1][row]))\n        else :\n            if row != 0 :\n                list1.append(\"\\n\\t  ,{}.{} AS {}\".format(tablename, columns[4][row], columns[1][row]))\n            else:\n                list1.append(\"\\n\\t   {}.{} AS {}\".format(tablename, columns[4][row], columns[1][row]))\n\n# æ¼æ¥fromåjoiné¨å\nindex = 0\nfor key in dic:\n    index += 1\n    if index == 1:\n        list1.append(\"\\n     FROM {}@DSY_HBDZ_DBLINK {}\".format(key, dic[key]))\n    else:\n        if key == \"DSY_V_ELE_AD\":\n            list1.append(\"\\nLEFT JOIN {} {}\\n       ON case when {}.AD_CODE='4200' then '420000' when {}.AD_CODE='4290'  then '4298' else {}.AD_CODE end = {}.CODE\".format(key, dic[key], dic[source_ad_table],dic[source_ad_table],dic[source_ad_table], dic[key]))\n        elif key == \"BDA_T_DWDZ\":\n            list1.append(\"\\nLEFT JOIN {} {}\\n       ON {}.AG_ID = {}.GUID\".format(key, dic[key], dic[source_agency_table], dic[key]))\n        else:\n            list1.append(\"\\nLEFT JOIN {}@DSY_HBDZ_DBLINK {}\\n       ON \".format(key, dic[key]))\n\n# dic\n# list1\nprint( ' '.join(list1) )\n\n# df\ncolumns\n# cols\n\n\nä¿®æ¹å ä¸å\n\nGD_STOCK_PAYMENT\tPAY_ID\tå¿è¿ä¿¡æ¯ä¸»é®\tDEBT_T_ZWGL_CHBJ\tCHBJ_ID\tå¿è¿æ¬éä¸»åID\tCHBJ_ID\nGD_STOCK_PAYMENT\tDEPT_STOCK_ID\tåºå¡ä¿¡æ¯ä¸»é®\tDEBT_T_ZWGL_CHBJ\tZW_ID\tåºå¡ID\tZW_ID\nGD_STOCK_PAYMENT\tMOF_DIV_CODE\tè´¢æ¿åºåä»£ç \tDEBT_T_ZWGL_CHBJ\tAD_CODE\tåºåç¼ç \tAD_CODE\nGD_STOCK_PAYMENT\tAGENCY_CODE\tåä½ä»£ç \tDEBT_T_ZWGL_CHBJ\tAG_CODE\tåä½ç¼ç \tAG_CODE\n\t\t\t\t\t\tPAY_ID\n\t\t\t\t\t\tDEPT_STOCK_ID\n\t\t\t\t\t\tMOF_DIV_CODE\n\t\t\t\t\t\tAGENCY_CODE\n\n\n\nä¿®æ¹ï¼\ndf0 = pd.read_csv(filepath, sep='\\t', header = None)\ndf = df0.iloc[:, [0,1,2,3,4,5]].dropna(thresh=2)\n\n\n\ndf2 = df0.iloc[:, [1,4,6]] #5\n\ndic2 = {}\nlist2 = []\n# èµå¼\nfor row in range(0, df2.shape[0]):\n    if( pd.isna(df2[4][row]) ):\n        pass\n    else:\n        dic2[df2[4][row]] = df2[1][row]\n\nfor row in range(0, df2.shape[0]):\n    if pd.isna(df2[6][row]):\n        pass\n    else:\n        if df2[6][row] in dic2.keys():\n            list2.append(\"\\n,{} as {}\".format( dic2[df2[6][row]], df2[6][row] ) )\n        else:\n            list2.append(\"\\n,null as {}\".format(df2[6][row]) )\n\nprint(\"\".join(list2))\n# df2\n# dic2\n\n\n\n# å°è¯å°Oracleæ¿æ¢ä¸ºMySQLè¯­æ³(æªå®æ)\n\nç±äºæäºSQLå½æ°åµå¥å¤ªå¤æ, ææ¶æç½®\n\n# import pandas as pd\n# t_name = \"æ°æ®\"\n# filepath = 'data{}.xlsx'.format(t_name)\n# df = pd.read_excel(filepath,  engine='openpyxl')\n# df['Q_TABLE'].apply(å½æ°, axis=1)\n\n\nimport re\n\nstr = \"\"\"SELECT Length(BILL.AD_CODE) as AD_CODE,\nsys_Guid() as guid,\n to_char(sysdate, 'yyyy-MM/dd HH24:mi:ss') as test2,\nto_char(sysdate, 'yyyy/MM/dd') as test3,\nto_char(sysdate, 'yyyy-MM') as test4,\nto_char(sysdate, 'yyyy') as test5,\nto_char(1540265121) as test6,\nto_date(a.xxx_date, 'YYYY-MM-DD HH24:mi:ss') as test7,\nto_date(a.xxx_date, 'YYYY-MM-DD') as test8,\n\"\"\"\n\n\n# length(str)å½æ°\ndef rep_length(text):\n    return re.sub(r'length\\(', r'char_length(', text, flags = re.IGNORECASE)\n\n# sys_guid()å½æ°\ndef rep_guid(text):\n    return re.sub(r'sys_guid\\(\\)', r'UUID()', text, flags = re.IGNORECASE)\n\n# to_char\ndef rep_tochar(text):\n    # to_char(sysdate, 'yyyy-MM-dd HH24:mi:ss') -> DATE_FORMAT(NOW(),'%Y-%m-%d %H:%i:%s')\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2} [h|\\d|:|m|i|s]{10}\\'\\)', r'\\1date_format(\\2, \"%Y\\3%m\\4%d %h:%i:%s\")', text, flags = re.IGNORECASE)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2}\\'\\)', r'\\1date_format(\\2, \"%Y\\3%m\\4%d\")', text, flags = re.IGNORECASE)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}\\'\\)', r'\\1date_format(\\2, \"%Y\\3%m\")', text, flags = re.IGNORECASE)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}\\'\\)', r'\\1date_format(\\2, \"%Y\")', text, flags = re.IGNORECASE)\n    # text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),(\\s+\\'[y|m|d|/|-]{8,10} [h|\\d|:|m|i|s]{10}\\')\\)', r'\\1date_format(\\2, \"%Y-%m-%d %h:%i:%s\")', text, flags = re.IGNORECASE)\n    # to_char(154643546466)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+)\\)', r'\\1CAST(\\2 AS CHAR)', text, flags = re.IGNORECASE)\n    return text\n\n# to_date\ndef rep_todate(text):\n    # to_date(a.xxx_date, 'YYYY-MM-DD') to_date('2019-01-01', 'YYYY-MM-DD')æªå¹é\n    text = re.sub(r'(\\s+)to_date\\(([\\w|\\.]+),(\\s+\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2} [h|\\d|:|m|i|s]{10}\\')\\)', r'\\1str_to_date(\\2, \"%Y\\3%m\\4%d %h:%i:%s\")', text, flags = re.IGNORECASE)\n    text = re.sub(r'(\\s+)to_date\\(([\\w|\\.]+),(\\s+\\'[y]{4}([/|-])[m]{2}\\')\\)', r'\\1str_to_date(\\2, \"%Y\\3%m\\4%d\")', text, flags = re.IGNORECASE)\n    return text\n\n# nvl\ndef rep_nvl(text):\n    return re.sub(r'(\\s+)nvl\\(', r'\\1ifnull(', text, flags = re.IGNORECASE)\n\n# to_number\ndef rep_tonumber(text):\n    return re.sub(r'(\\s+)to_number\\(', r'\\1ifnull(', text, flags = re.IGNORECASE)\n\n# sysdate â \ndef rep_sysdate(text):\n    return re.sub(r'sysdate', r'now() ', text, flags = re.IGNORECASE)\n\n# concat\n# ROWNUM\n# full join\n# decode\n\n\n\n# ç»ä¹ é¢\n\n\n# å­æ¯count\n\né¢æ¬¡ç¸å, å¤§åå­æ¯å¨åå°åå­æ¯å¨å\n\nimport re\n\nstr = input(\"è¯·è¾å¥å­ç¬¦ä¸²ï¼\")\n# str=\"A BVYLKG computer program is said to learn from experience E with respect to some task T and some performance measure P, if its performance on T, as measured by P, improves with experience E.\"\n\nfilename='word_count.txt'\n\n# æ­£åå¹éæ¾å°ææçå­æ¯\nlist = re.findall(r'[a-z|A-Z]',str)\n\n# type(list)  # æ¥çç±»å\ndic = {}      # å®ä¹å­å¸(é®å¼å¯¹)\nfor ch in list:\n    dic[ch] = dic.get(ch, 0) + 1      # è¥keyå¯¹åºçvalueä¸å­å¨,ç½®ä¸º0+1\n\n# æä¸¤åååº  ç±äºå¤§åå­æ¯å¨å°åå­æ¯ä¹åï¼è½¬asciiç ååè´è§£å³\nres = sorted(dic.items(), key=lambda kv: (kv[1], -ord(kv[0])), reverse=True)\nprint(res)\n\nwith open(filename, 'w', encoding='utf-8') as file:\n    for row in res:\n        file.write(\"(\\'{}\\', {})\\n\".format(row[0], row[1]))\n\n\"\"\"--------------------------------------------------------------------\"\"\"\n\nimport pandas as pd\nimport re\n\nfilename='word_count.txt'\nstr=\"A BVYLKG computer program is said to learn from experience E with respect to some task T and some performance measure P, if its performance on T, as measured by P, improves with experience E.\"\n\n# æ­£åå¹éæ¾å°ææçå­æ¯\nlist1 = re.findall(r'[a-z|A-Z]',str)\n\nlist2 = [1 for x in range(0, len(list1))]\n\nzip1 = zip(list1, list2)\n\ndf = pd.DataFrame(zip1, columns=['key', 'value'])\n\ndf1 = df.groupby('key').sum().sort_values(by=['value', 'key'], ascending=[False, True])   # åç»æ±åæåº\n\ndf1.to_csv(filename, header=None)\n\n# df1\n",normalizedContent:"# æ¼æ¥sql\n\ngd_stock_payment\tpay_id\tå¿è¿ä¿¡æ¯ä¸»é®\tdebt_t_zwgl_chbj\tchbj_id\tå¿è¿æ¬éä¸»åid\ngd_stock_payment\tdept_stock_id\tåºå¡ä¿¡æ¯ä¸»é®\tdebt_t_zwgl_chbj\tzw_id\tåºå¡id\ngd_stock_payment\tmof_div_code\tè´¢æ¿åºåä»£ç \tdebt_t_zwgl_chbj\tad_code\tåºåç¼ç \ngd_stock_payment\tagency_code\tåä½ä»£ç \tdebt_t_zwgl_chbj\tag_code\tåä½ç¼ç \n\n\nimport pandas as pd\nimport collections\n\nt_name = \"gd_issue_plan\"\n\nfilepath = 'data\\{}.csv'.format(t_name)\n\n# è¯»åæä»¶\ndf = pd.read_csv(filepath, sep='\\t', header = none)\n\n# è·åç¬¬ä¸åå¹¶å»é\ntag_table = df[0].drop_duplicates().values[0]  \n# è·åæºè¡¨\nsource_tables = df[3].drop_duplicates().dropna().values   # ndarrayç±»å\n\n# è¡¨ååå«åæ¾å¥å­å¸\nnum = 0\n# dic = { tag_table: \"t{}\".format(num) }\ndic = collections.ordereddict()\nfor table in source_tables:\n    num += 1\n    dic[table] = \"t{}\".format(num)\n\ncols = \",\".join(df.iloc[:, 1])\n\nlist1 = []\nlist1.append(\"insert into {}({})\".format(tag_table, cols))\nlist1.append(\"\\nselect\")\n\n# ç®æ è¡¨å ç®æ å­æ®µå æºè¡¨è¡¨å æºè¡¨å­æ®µå\ncolumns = df.iloc[:, [0,1,3,4]]\n\nsource_ad_table = ''   # åºåå¨åªä¸ªæºè¡¨\nsource_agency_table = ''  # åä½å¨åªä¸ªæºè¡¨ ?åªä¸ªå­æ®µå³è\n# æ¼æ¥selecté¨å\nfor row in range(0, columns.shape[0]):\n    if pd.isna(columns[4][row]):\n        if row != 0 :\n            list1.append(\"\\n\\t  ,{} as {}\".format(\"''\", columns[1][row]))\n        else:\n            list1.append(\"\\n\\t   {} as {}\".format(\"''\", columns[1][row]))\n    else:\n        tablename = dic[columns[3][row]]\n        # å¤çåºå\n        if columns[1][row] == \"mof_div_code\":\n            num += 1\n            list1.append( \"\\n\\t  ,nvl(t{}.cz_code, {}.ad_code) as {}\".format(num, tablename, columns[1][row]) )\n            dic[\"dsy_v_ele_ad\"] = \"t{}\".format(num)\n            source_ad_table = columns[3][row]\n        # å¤çåä½\n        elif columns[1][row] in (\"agency_code\", \"agency_cod\"):\n            num += 1\n            list1.append( \"\\n\\t  ,case when t{}.code is null then {}.ag_code else t{}.agency_code end as agency_code\".format(num, tablename, num) )\n            dic[\"bda_t_dwdz\"] = \"t{}\".format(num)\n            source_agency_table = columns[3][row]\n        # å¤çæ¶é´\n        elif columns[1][row].endswith( (\"time\", \"date\") ) : #, beg=[0, len(str)]\n            list1.append(\"\\n\\t  ,regexp_replace({}.{}, '-|:| ', '') as {}\".format(tablename, columns[4][row], columns[1][row]))\n        else :\n            if row != 0 :\n                list1.append(\"\\n\\t  ,{}.{} as {}\".format(tablename, columns[4][row], columns[1][row]))\n            else:\n                list1.append(\"\\n\\t   {}.{} as {}\".format(tablename, columns[4][row], columns[1][row]))\n\n# æ¼æ¥fromåjoiné¨å\nindex = 0\nfor key in dic:\n    index += 1\n    if index == 1:\n        list1.append(\"\\n     from {}@dsy_hbdz_dblink {}\".format(key, dic[key]))\n    else:\n        if key == \"dsy_v_ele_ad\":\n            list1.append(\"\\nleft join {} {}\\n       on case when {}.ad_code='4200' then '420000' when {}.ad_code='4290'  then '4298' else {}.ad_code end = {}.code\".format(key, dic[key], dic[source_ad_table],dic[source_ad_table],dic[source_ad_table], dic[key]))\n        elif key == \"bda_t_dwdz\":\n            list1.append(\"\\nleft join {} {}\\n       on {}.ag_id = {}.guid\".format(key, dic[key], dic[source_agency_table], dic[key]))\n        else:\n            list1.append(\"\\nleft join {}@dsy_hbdz_dblink {}\\n       on \".format(key, dic[key]))\n\n# dic\n# list1\nprint( ' '.join(list1) )\n\n# df\ncolumns\n# cols\n\n\nä¿®æ¹å ä¸å\n\ngd_stock_payment\tpay_id\tå¿è¿ä¿¡æ¯ä¸»é®\tdebt_t_zwgl_chbj\tchbj_id\tå¿è¿æ¬éä¸»åid\tchbj_id\ngd_stock_payment\tdept_stock_id\tåºå¡ä¿¡æ¯ä¸»é®\tdebt_t_zwgl_chbj\tzw_id\tåºå¡id\tzw_id\ngd_stock_payment\tmof_div_code\tè´¢æ¿åºåä»£ç \tdebt_t_zwgl_chbj\tad_code\tåºåç¼ç \tad_code\ngd_stock_payment\tagency_code\tåä½ä»£ç \tdebt_t_zwgl_chbj\tag_code\tåä½ç¼ç \tag_code\n\t\t\t\t\t\tpay_id\n\t\t\t\t\t\tdept_stock_id\n\t\t\t\t\t\tmof_div_code\n\t\t\t\t\t\tagency_code\n\n\n\nä¿®æ¹ï¼\ndf0 = pd.read_csv(filepath, sep='\\t', header = none)\ndf = df0.iloc[:, [0,1,2,3,4,5]].dropna(thresh=2)\n\n\n\ndf2 = df0.iloc[:, [1,4,6]] #5\n\ndic2 = {}\nlist2 = []\n# èµå¼\nfor row in range(0, df2.shape[0]):\n    if( pd.isna(df2[4][row]) ):\n        pass\n    else:\n        dic2[df2[4][row]] = df2[1][row]\n\nfor row in range(0, df2.shape[0]):\n    if pd.isna(df2[6][row]):\n        pass\n    else:\n        if df2[6][row] in dic2.keys():\n            list2.append(\"\\n,{} as {}\".format( dic2[df2[6][row]], df2[6][row] ) )\n        else:\n            list2.append(\"\\n,null as {}\".format(df2[6][row]) )\n\nprint(\"\".join(list2))\n# df2\n# dic2\n\n\n\n# å°è¯å°oracleæ¿æ¢ä¸ºmysqlè¯­æ³(æªå®æ)\n\nç±äºæäºsqlå½æ°åµå¥å¤ªå¤æ, ææ¶æç½®\n\n# import pandas as pd\n# t_name = \"æ°æ®\"\n# filepath = 'data{}.xlsx'.format(t_name)\n# df = pd.read_excel(filepath,  engine='openpyxl')\n# df['q_table'].apply(å½æ°, axis=1)\n\n\nimport re\n\nstr = \"\"\"select length(bill.ad_code) as ad_code,\nsys_guid() as guid,\n to_char(sysdate, 'yyyy-mm/dd hh24:mi:ss') as test2,\nto_char(sysdate, 'yyyy/mm/dd') as test3,\nto_char(sysdate, 'yyyy-mm') as test4,\nto_char(sysdate, 'yyyy') as test5,\nto_char(1540265121) as test6,\nto_date(a.xxx_date, 'yyyy-mm-dd hh24:mi:ss') as test7,\nto_date(a.xxx_date, 'yyyy-mm-dd') as test8,\n\"\"\"\n\n\n# length(str)å½æ°\ndef rep_length(text):\n    return re.sub(r'length\\(', r'char_length(', text, flags = re.ignorecase)\n\n# sys_guid()å½æ°\ndef rep_guid(text):\n    return re.sub(r'sys_guid\\(\\)', r'uuid()', text, flags = re.ignorecase)\n\n# to_char\ndef rep_tochar(text):\n    # to_char(sysdate, 'yyyy-mm-dd hh24:mi:ss') -> date_format(now(),'%y-%m-%d %h:%i:%s')\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2} [h|\\d|:|m|i|s]{10}\\'\\)', r'\\1date_format(\\2, \"%y\\3%m\\4%d %h:%i:%s\")', text, flags = re.ignorecase)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2}\\'\\)', r'\\1date_format(\\2, \"%y\\3%m\\4%d\")', text, flags = re.ignorecase)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}([/|-])[m]{2}\\'\\)', r'\\1date_format(\\2, \"%y\\3%m\")', text, flags = re.ignorecase)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),\\s*\\'[y]{4}\\'\\)', r'\\1date_format(\\2, \"%y\")', text, flags = re.ignorecase)\n    # text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+),(\\s+\\'[y|m|d|/|-]{8,10} [h|\\d|:|m|i|s]{10}\\')\\)', r'\\1date_format(\\2, \"%y-%m-%d %h:%i:%s\")', text, flags = re.ignorecase)\n    # to_char(154643546466)\n    text = re.sub(r'(\\s+)to_char\\(([\\w|\\.]+)\\)', r'\\1cast(\\2 as char)', text, flags = re.ignorecase)\n    return text\n\n# to_date\ndef rep_todate(text):\n    # to_date(a.xxx_date, 'yyyy-mm-dd') to_date('2019-01-01', 'yyyy-mm-dd')æªå¹é\n    text = re.sub(r'(\\s+)to_date\\(([\\w|\\.]+),(\\s+\\'[y]{4}([/|-])[m]{2}([/|-])[d]{2} [h|\\d|:|m|i|s]{10}\\')\\)', r'\\1str_to_date(\\2, \"%y\\3%m\\4%d %h:%i:%s\")', text, flags = re.ignorecase)\n    text = re.sub(r'(\\s+)to_date\\(([\\w|\\.]+),(\\s+\\'[y]{4}([/|-])[m]{2}\\')\\)', r'\\1str_to_date(\\2, \"%y\\3%m\\4%d\")', text, flags = re.ignorecase)\n    return text\n\n# nvl\ndef rep_nvl(text):\n    return re.sub(r'(\\s+)nvl\\(', r'\\1ifnull(', text, flags = re.ignorecase)\n\n# to_number\ndef rep_tonumber(text):\n    return re.sub(r'(\\s+)to_number\\(', r'\\1ifnull(', text, flags = re.ignorecase)\n\n# sysdate â \ndef rep_sysdate(text):\n    return re.sub(r'sysdate', r'now() ', text, flags = re.ignorecase)\n\n# concat\n# rownum\n# full join\n# decode\n\n\n\n# ç»ä¹ é¢\n\n\n# å­æ¯count\n\né¢æ¬¡ç¸å, å¤§åå­æ¯å¨åå°åå­æ¯å¨å\n\nimport re\n\nstr = input(\"è¯·è¾å¥å­ç¬¦ä¸²ï¼\")\n# str=\"a bvylkg computer program is said to learn from experience e with respect to some task t and some performance measure p, if its performance on t, as measured by p, improves with experience e.\"\n\nfilename='word_count.txt'\n\n# æ­£åå¹éæ¾å°ææçå­æ¯\nlist = re.findall(r'[a-z|a-z]',str)\n\n# type(list)  # æ¥çç±»å\ndic = {}      # å®ä¹å­å¸(é®å¼å¯¹)\nfor ch in list:\n    dic[ch] = dic.get(ch, 0) + 1      # è¥keyå¯¹åºçvalueä¸å­å¨,ç½®ä¸º0+1\n\n# æä¸¤åååº  ç±äºå¤§åå­æ¯å¨å°åå­æ¯ä¹åï¼è½¬asciiç ååè´è§£å³\nres = sorted(dic.items(), key=lambda kv: (kv[1], -ord(kv[0])), reverse=true)\nprint(res)\n\nwith open(filename, 'w', encoding='utf-8') as file:\n    for row in res:\n        file.write(\"(\\'{}\\', {})\\n\".format(row[0], row[1]))\n\n\"\"\"--------------------------------------------------------------------\"\"\"\n\nimport pandas as pd\nimport re\n\nfilename='word_count.txt'\nstr=\"a bvylkg computer program is said to learn from experience e with respect to some task t and some performance measure p, if its performance on t, as measured by p, improves with experience e.\"\n\n# æ­£åå¹éæ¾å°ææçå­æ¯\nlist1 = re.findall(r'[a-z|a-z]',str)\n\nlist2 = [1 for x in range(0, len(list1))]\n\nzip1 = zip(list1, list2)\n\ndf = pd.dataframe(zip1, columns=['key', 'value'])\n\ndf1 = df.groupby('key').sum().sort_values(by=['value', 'key'], ascending=[false, true])   # åç»æ±åæåº\n\ndf1.to_csv(filename, header=none)\n\n# df1\n",charsets:{cjk:!0},lastUpdated:"2022/04/13, 21:51:31",lastUpdatedTimestamp:1649857891e3},{title:"Pythonç±»åºå­¦ä¹ ",frontmatter:{title:"Pythonç±»åºå­¦ä¹ ",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/f2a341/",categories:["å¶ä»","Python"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/01.Python/03.Python%E7%B1%BB%E5%BA%93%E5%AD%A6%E4%B9%A0.html",relativePath:"04.å¶ä»/01.Python/03.Pythonç±»åºå­¦ä¹ .md",key:"v-152fe1e4",path:"/pages/f2a341/",headers:[{level:2,title:"åºç¡è¯­æ³",slug:"åºç¡è¯­æ³",normalizedTitle:"åºç¡è¯­æ³",charIndex:2},{level:2,title:"Numpyå­¦ä¹ ",slug:"numpyå­¦ä¹ ",normalizedTitle:"numpyå­¦ä¹ ",charIndex:11},{level:3,title:"Ndarrayç±»å­¦ä¹ ",slug:"ndarrayç±»å­¦ä¹ ",normalizedTitle:"ndarrayç±»å­¦ä¹ ",charIndex:23},{level:3,title:"np.arrayæ¹æ³",slug:"np-arrayæ¹æ³",normalizedTitle:"np.arrayæ¹æ³",charIndex:1120},{level:3,title:"Numpyæ°ç»åå»ºæ¹æ³",slug:"numpyæ°ç»åå»ºæ¹æ³",normalizedTitle:"numpyæ°ç»åå»ºæ¹æ³",charIndex:1865},{level:3,title:"æå°æ°ç»",slug:"æå°æ°ç»",normalizedTitle:"æå°æ°ç»",charIndex:2407},{level:3,title:"åºæ¬æä½ (æ°ç»åç´ çè¿ç®)",slug:"åºæ¬æä½-æ°ç»åç´ çè¿ç®",normalizedTitle:"åºæ¬æä½ (æ°ç»åç´ çè¿ç®)",charIndex:2679},{level:3,title:"åºæ¬æä½ (ç©éµä¹ç§¯)",slug:"åºæ¬æä½-ç©éµä¹ç§¯",normalizedTitle:"åºæ¬æä½ (ç©éµä¹ç§¯)",charIndex:2968},{level:3,title:"å½¢ç¶æçºµ",slug:"å½¢ç¶æçºµ",normalizedTitle:"å½¢ç¶æçºµ",charIndex:3699},{level:3,title:"ç´¢å¼ãåçåè¿­ä»£",slug:"ç´¢å¼ãåçåè¿­ä»£",normalizedTitle:"ç´¢å¼ãåçåè¿­ä»£",charIndex:5279},{level:3,title:"æ·±å¥:",slug:"æ·±å¥",normalizedTitle:"æ·±å¥:",charIndex:5746},{level:3,title:"æ·±å¥: ç´æ¹å¾",slug:"æ·±å¥-ç´æ¹å¾",normalizedTitle:"æ·±å¥: ç´æ¹å¾",charIndex:6611},{level:3,title:"é:åå»ºä¸ä¸ª3*3 çæ°ç»æ¹æ³",slug:"é-åå»ºä¸ä¸ª3-3-çæ°ç»æ¹æ³",normalizedTitle:"é:åå»ºä¸ä¸ª3*3 çæ°ç»æ¹æ³",charIndex:7120},{level:2,title:"Pandasï¼ä¸¤ç§æ°æ®ç»æå­¦ä¹ ï¼",slug:"pandas-ä¸¤ç§æ°æ®ç»æå­¦ä¹ ",normalizedTitle:"pandasï¼ä¸¤ç§æ°æ®ç»æå­¦ä¹ ï¼",charIndex:7459},{level:3,title:"1.Series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ ",slug:"_1-series-ä¸ç»´æ è®°æ°ç»-å­¦ä¹ ",normalizedTitle:"1.series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ ",charIndex:7480},{level:3,title:"2.DataFrame(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ ",slug:"_2-dataframe-äºç»´æ è®°æ°æ®ç»æ-å­¦ä¹ ",normalizedTitle:"2.dataframe(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ ",charIndex:8105},{level:4,title:"åå»º",slug:"åå»º",normalizedTitle:"åå»º",charIndex:394},{level:4,title:"DataFrameå¼ç´¢å¼",slug:"dataframeå¼ç´¢å¼",normalizedTitle:"dataframeå¼ç´¢å¼",charIndex:9366},{level:4,title:"å±æ¬¡åç´¢å¼ä¸unstack",slug:"å±æ¬¡åç´¢å¼ä¸unstack",normalizedTitle:"å±æ¬¡åç´¢å¼ä¸unstack",charIndex:10481},{level:4,title:"DataFrameå å ",slug:"dataframeå å ",normalizedTitle:"dataframeå å ",charIndex:10812},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-ä¸-éæ°ç´¢å¼-reindex",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)",charIndex:11377},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop)",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-äº-ä¸¢å¼å¼-drop",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop)",charIndex:11852},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-ä¸-ç®æ¯æ¹æ³",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³",charIndex:12578},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-å-ç´¢å¼æåº",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº",charIndex:13134},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(å¾è¡¥å)",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-äº-æè¿°åæ±æ»ç»è®¡-å¾è¡¥å",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(å¾è¡¥å)",charIndex:13823},{level:4,title:"DataFrameå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å",slug:"dataframeå¸¸ç¨å½æ°ä»ç»-å­-ç¼ºå¤±å¼å¡«å",normalizedTitle:"dataframeå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å",charIndex:14053},{level:4,title:"Pandasæä»¶è¯»å",slug:"pandasæä»¶è¯»å",normalizedTitle:"pandasæä»¶è¯»å",charIndex:14433},{level:4,title:"Pandasæä»¶åå¥",slug:"pandasæä»¶åå¥",normalizedTitle:"pandasæä»¶åå¥",charIndex:15122},{level:4,title:"Pandasåå¹¶xlsæä»¶",slug:"pandasåå¹¶xlsæä»¶",normalizedTitle:"pandasåå¹¶xlsæä»¶",charIndex:15579},{level:2,title:"Pandasæ°æ®åå¹¶ãæ¸æ´",slug:"pandasæ°æ®åå¹¶ãæ¸æ´",normalizedTitle:"pandasæ°æ®åå¹¶ãæ¸æ´",charIndex:15967},{level:3,title:"mergeå½æ° é»è®¤åè¿æ¥",slug:"mergeå½æ°-é»è®¤åè¿æ¥",normalizedTitle:"mergeå½æ° é»è®¤åè¿æ¥",charIndex:15985},{level:3,title:"å¤è¿æ¥",slug:"å¤è¿æ¥",normalizedTitle:"å¤è¿æ¥",charIndex:16546},{level:4,title:"å¤è¿æ¥",slug:"å¤è¿æ¥-2",normalizedTitle:"å¤è¿æ¥",charIndex:16546},{level:4,title:"å¤åè¿æ¥on=[]",slug:"å¤åè¿æ¥on",normalizedTitle:"å¤åè¿æ¥on=[]",charIndex:16612},{level:4,title:"å·¦è¿æ¥ how = 'left'",slug:"å·¦è¿æ¥-how-left",normalizedTitle:"å·¦è¿æ¥ how = 'left'",charIndex:17314},{level:4,title:"how = 'right'",slug:"how-right",normalizedTitle:"how = 'right'",charIndex:17597},{level:3,title:"ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥",slug:"ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥",normalizedTitle:"ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥",charIndex:17881},{level:3,title:"joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥",slug:"joinå½æ°-ä¸ºmergeçç¹ä¾-é»è®¤å¤è¿æ¥",normalizedTitle:"joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥",charIndex:18240},{level:3,title:"combine_firstå½æ°  ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å",slug:"combine-firstå½æ°-ä»¥ä¸ä¸ªä¸ºåºå-å¦ä¸ä¸ªè¿è¡è¡¥å",normalizedTitle:"combine_firstå½æ°  ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å",charIndex:18639},{level:3,title:"å¾è¡¥å",slug:"å¾è¡¥å",normalizedTitle:"å¾è¡¥å",charIndex:13850},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢",slug:"æ°æ®æ¸çä¸è½¬æ¢-ä¸-å¼æ¿æ¢",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢",charIndex:19001},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼",slug:"æ°æ®æ¸çä¸è½¬æ¢-äº-å»éå¤å¼",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼",charIndex:19583},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å",slug:"æ°æ®æ¸çä¸è½¬æ¢-ä¸-ç´¢å¼éå½å",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å",charIndex:19950},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢",slug:"æ°æ®æ¸çä¸è½¬æ¢-å-æ°æ®è½¬æ¢",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢",charIndex:20267},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± æå®ååè¾¹ç",slug:"æ°æ®æ¸çä¸è½¬æ¢-äº-æ°æ®ç¦»æ£ååè£ç®±-æå®ååè¾¹ç",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± æå®ååè¾¹ç",charIndex:20849},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± å¹³åååè¾¹ç",slug:"æ°æ®æ¸çä¸è½¬æ¢-äº-æ°æ®ç¦»æ£ååè£ç®±-å¹³åååè¾¹ç",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± å¹³åååè¾¹ç",charIndex:21540},{level:3,title:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± åä½ååè¾¹ç",slug:"æ°æ®æ¸çä¸è½¬æ¢-äº-æ°æ®ç¦»æ£ååè£ç®±-åä½ååè¾¹ç",normalizedTitle:"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± åä½ååè¾¹ç",charIndex:21895},{level:3,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:22278},{level:3,title:"æ°æ®éæºåæ ·(æåº)",slug:"æ°æ®éæºåæ ·-æåº",normalizedTitle:"æ°æ®éæºåæ ·(æåº)",charIndex:22619},{level:3,title:"è¡¥å",slug:"è¡¥å",normalizedTitle:"è¡¥å",charIndex:13851},{level:2,title:"Pandasèåä¸åç»",slug:"pandasèåä¸åç»",normalizedTitle:"pandasèåä¸åç»",charIndex:24169},{level:3,title:"æ°æ®åç»æä½(1)  (groupbyå½æ° & seriesåç»)",slug:"æ°æ®åç»æä½-1-groupbyå½æ°-seriesåç»",normalizedTitle:"æ°æ®åç»æä½(1)  (groupbyå½æ° &amp; seriesåç»)",charIndex:null},{level:3,title:"æ°æ®åç»æä½(2)  (DataFrmeåç»)",slug:"æ°æ®åç»æä½-2-datafrmeåç»",normalizedTitle:"æ°æ®åç»æä½(2)  (datafrmeåç»)",charIndex:24874},{level:3,title:"æ°æ®åç»æä½(3)  åç»æå®åºç¨èåå",slug:"æ°æ®åç»æä½-3-åç»æå®åºç¨èåå",normalizedTitle:"æ°æ®åç»æä½(3)  åç»æå®åºç¨èåå",charIndex:25788},{level:3,title:"æ°æ®åç»æä½(4)  åç»çè¿­ä»£æä½",slug:"æ°æ®åç»æä½-4-åç»çè¿­ä»£æä½",normalizedTitle:"æ°æ®åç»æä½(4)  åç»çè¿­ä»£æä½",charIndex:26428},{level:3,title:"æ°æ®åç»æä½(5)  å¯¹è¡ç´¢å¼åè¿è¡åç»",slug:"æ°æ®åç»æä½-5-å¯¹è¡ç´¢å¼åè¿è¡åç»",normalizedTitle:"æ°æ®åç»æä½(5)  å¯¹è¡ç´¢å¼åè¿è¡åç»",charIndex:26969},{level:3,title:"æ°æ®åç»æä½(6)  èåå½æ°",slug:"æ°æ®åç»æä½-6-èåå½æ°",normalizedTitle:"æ°æ®åç»æä½(6)  èåå½æ°",charIndex:27322},{level:3,title:"æ°æ®åç»æä½(7)  èªå®ä¹èåå½æ°agg()",slug:"æ°æ®åç»æä½-7-èªå®ä¹èåå½æ°agg",normalizedTitle:"æ°æ®åç»æä½(7)  èªå®ä¹èåå½æ°agg()",charIndex:28066},{level:3,title:"èªå®ä¹èåæä½  åç»è½¬æ¢ä¸åç»åºç¨",slug:"èªå®ä¹èåæä½-åç»è½¬æ¢ä¸åç»åºç¨",normalizedTitle:"èªå®ä¹èåæä½  åç»è½¬æ¢ä¸åç»åºç¨",charIndex:28717},{level:3,title:"éç¨çapplyæ¹æ³",slug:"éç¨çapplyæ¹æ³",normalizedTitle:"éç¨çapplyæ¹æ³",charIndex:29505},{level:3,title:"éè§è¡¨ä¸äº¤åè¡¨  éè§è¡¨(Pivot Table)",slug:"éè§è¡¨ä¸äº¤åè¡¨-éè§è¡¨-pivot-table",normalizedTitle:"éè§è¡¨ä¸äº¤åè¡¨  éè§è¡¨(pivot table)",charIndex:30460},{level:3,title:"éè§è¡¨ä¸äº¤åè¡¨  äº¤åè¡¨(Cross Table)",slug:"éè§è¡¨ä¸äº¤åè¡¨-äº¤åè¡¨-cross-table",normalizedTitle:"éè§è¡¨ä¸äº¤åè¡¨  äº¤åè¡¨(cross table)",charIndex:31441},{level:2,title:"Seaborn(Pandas)å¯è§å",slug:"seaborn-pandas-å¯è§å",normalizedTitle:"seaborn(pandas)å¯è§å",charIndex:32030},{level:2,title:"matplotlibå¯è§å",slug:"matplotlibå¯è§å",normalizedTitle:"matplotlibå¯è§å",charIndex:37680},{level:3,title:"æ¡å½¢å¾",slug:"æ¡å½¢å¾",normalizedTitle:"æ¡å½¢å¾",charIndex:32259},{level:4,title:"æ¡å½¢å¾",slug:"æ¡å½¢å¾-2",normalizedTitle:"æ¡å½¢å¾",charIndex:32259},{level:4,title:"æ¡å½¢å¾ bar()",slug:"æ¡å½¢å¾-bar",normalizedTitle:"æ¡å½¢å¾ bar()",charIndex:38775},{level:4,title:"æ°´å¹³æ¡å½¢å¾ barh()",slug:"æ°´å¹³æ¡å½¢å¾-barh",normalizedTitle:"æ°´å¹³æ¡å½¢å¾ barh()",charIndex:40077},{level:3,title:"å­å¾",slug:"å­å¾",normalizedTitle:"å­å¾",charIndex:41328},{level:3,title:"é¥¼å¾",slug:"é¥¼å¾",normalizedTitle:"é¥¼å¾",charIndex:42032},{level:3,title:"æçº¿å¾(å®æ´)",slug:"æçº¿å¾-å®æ´",normalizedTitle:"æçº¿å¾(å®æ´)",charIndex:43522}],headersStr:"åºç¡è¯­æ³ Numpyå­¦ä¹  Ndarrayç±»å­¦ä¹  np.arrayæ¹æ³ Numpyæ°ç»åå»ºæ¹æ³ æå°æ°ç» åºæ¬æä½ (æ°ç»åç´ çè¿ç®) åºæ¬æä½ (ç©éµä¹ç§¯) å½¢ç¶æçºµ ç´¢å¼ãåçåè¿­ä»£ æ·±å¥: æ·±å¥: ç´æ¹å¾ é:åå»ºä¸ä¸ª3*3 çæ°ç»æ¹æ³ Pandasï¼ä¸¤ç§æ°æ®ç»æå­¦ä¹ ï¼ 1.Series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹  2.DataFrame(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹  åå»º DataFrameå¼ç´¢å¼ å±æ¬¡åç´¢å¼ä¸unstack DataFrameå å  DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex) DataFrameå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop) DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³ DataFrameå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº DataFrameå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(å¾è¡¥å) DataFrameå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å Pandasæä»¶è¯»å Pandasæä»¶åå¥ Pandasåå¹¶xlsæä»¶ Pandasæ°æ®åå¹¶ãæ¸æ´ mergeå½æ° é»è®¤åè¿æ¥ å¤è¿æ¥ å¤è¿æ¥ å¤åè¿æ¥on=[] å·¦è¿æ¥ how = 'left' how = 'right' ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥ joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥ combine_firstå½æ°  ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å å¾è¡¥å æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢ æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼ æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢ æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± æå®ååè¾¹ç æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± å¹³åååè¾¹ç æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± åä½ååè¾¹ç ååé æ°æ®éæºåæ ·(æåº) è¡¥å Pandasèåä¸åç» æ°æ®åç»æä½(1)  (groupbyå½æ° & seriesåç») æ°æ®åç»æä½(2)  (DataFrmeåç») æ°æ®åç»æä½(3)  åç»æå®åºç¨èåå æ°æ®åç»æä½(4)  åç»çè¿­ä»£æä½ æ°æ®åç»æä½(5)  å¯¹è¡ç´¢å¼åè¿è¡åç» æ°æ®åç»æä½(6)  èåå½æ° æ°æ®åç»æä½(7)  èªå®ä¹èåå½æ°agg() èªå®ä¹èåæä½  åç»è½¬æ¢ä¸åç»åºç¨ éç¨çapplyæ¹æ³ éè§è¡¨ä¸äº¤åè¡¨  éè§è¡¨(Pivot Table) éè§è¡¨ä¸äº¤åè¡¨  äº¤åè¡¨(Cross Table) Seaborn(Pandas)å¯è§å matplotlibå¯è§å æ¡å½¢å¾ æ¡å½¢å¾ æ¡å½¢å¾ bar() æ°´å¹³æ¡å½¢å¾ barh() å­å¾ é¥¼å¾ æçº¿å¾(å®æ´)",content:"# åºç¡è¯­æ³\n\n\n# Numpyå­¦ä¹ \n\n\n# Ndarrayç±»å­¦ä¹ \n\nç¹å»æ¥ç\n\n# NumPy åèæå https://www.numpy.org.cn/reference/\n\"\"\"Ndarrayç±»å­¦ä¹  (å­æ¾åç±»ååç´ çå¤ç»´æ°ç»)\"\"\"\nimport numpy as np\n\n\"\"\"\nndarray.ndim - æ°ç»çè½´ï¼ç»´åº¦ï¼çä¸ªæ°ãå¨Pythonä¸çä¸­ï¼ç»´åº¦çæ°éè¢«ç§°ä¸ºrankã\nndarray.shape - æ°ç»çç»´åº¦ãè¿æ¯ä¸ä¸ªæ´æ°çåç»ï¼è¡¨ç¤ºæ¯ä¸ªç»´åº¦ä¸­æ°ç»çå¤§å°ãå¯¹äºæ n è¡å m åçç©éµï¼shape å°æ¯ (n,m)ãå æ­¤ï¼shape åç»çé¿åº¦å°±æ¯rankæç»´åº¦çä¸ªæ° ndimã\nndarray.size - æ°ç»åç´ çæ»æ°ãè¿ç­äº shape çåç´ çä¹ç§¯ã\nndarray.dtype - ä¸ä¸ªæè¿°æ°ç»ä¸­åç´ ç±»åçå¯¹è±¡ãå¯ä»¥ä½¿ç¨æ åçPythonç±»ååå»ºææå®dtypeãå¦å¤NumPyæä¾å®èªå·±çç±»åãä¾å¦numpy.int32ãnumpy.int16ånumpy.float64ã\nndarray.itemsize - æ°ç»ä¸­æ¯ä¸ªåç´ çå­èå¤§å°ãä¾å¦ï¼åç´ ä¸º float64 ç±»åçæ°ç»ç itemsize ä¸º8ï¼=64/8ï¼ï¼è complex32 ç±»åçæ°ç»ç itemsize ä¸º4ï¼=32/8ï¼ãå®ç­äº ndarray.dtype.itemsize ã\nndarray.data - è¯¥ç¼å²åºåå«æ°ç»çå®éåç´ ãéå¸¸ï¼æä»¬ä¸éè¦ä½¿ç¨æ­¤å±æ§ï¼å ä¸ºæä»¬å°ä½¿ç¨ç´¢å¼è®¿é®æ°ç»ä¸­çåç´ \n\"\"\"\n# order=\"C\" è¡ä¼å\n# arr1 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7]), offset=0, order=\"C\")\n# arr1\n\n# order=\"F\" åä¼å\n# arr2 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7]), offset=0, order=\"F\")\n# arr2\n\n# offset=8 bufferä¸­ç¨äºåå§åæ°ç»çé¦ä¸ªæ°æ®çåç§»  (å­èæ°çåç§» ndarray.itemsizeä¸º4 è®¾ç½®ä¸º8åç§»ä¸¤ä¸ªå¼)\narr3 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7,8]), offset=8, order=\"C\")\n# arr3.itemsize\narr3\n\n\n\n# np.arrayæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"\nnp.arrayåªæ¯ä¸ä¸ªä¾¿æ·çå½æ°,ç¨æ¥åå»ºndarray,\nå®æ¬èº«å¹¶ä¸æ¯ä¸ä¸ªç±»\n\"\"\"\nfrom numpy import *\n\narr4 = array(range(15)).reshape(3, 5)\n# arr4\n# print(arr4.T)\n# print(arr4.size)\n# print(arr4.itemsize)\n# print(arr4.ndim)\n# print(arr4.shape)\n# print(arr4.dtype)\n\n\"\"\"éè¿å¸¸è§ç±»ååå»ºarray\"\"\"\n# 1.éè¿tupleåå»ºarray\n# yuanzu = (4, 5, 6)\n# arr5 = array(yuanzu)\n# print(arr5)\n\n# 2.éè¿liståå»ºarray\n# pylist = [0, 1, 2]\n# arr6 = array(pylist)\n# print(arr6)\n\n# 3.æå»ºå¤ç»´çarray\n# pylist2 = [4, 5, 6]\n# arr7 = array( [pylist, pylist2] )\n# print(\"å¤ç»´æ°ç»:\\n\" + str(arr7))\n\n# 4.ç±»åèªå¨æ¨æ­\n# arr8 = array( [1, 2, 3.3] )\n# print(arr8)\n# arr8 = array( [\"1\", 2, 3] )\n# print(arr8)\n\n# 5.æç¡®æ°ç»ç±»å\n# arr9 = array([1, 3, 6, 9], dtype=float32)\n# arr9\narr9 = array(['1', 3, 6, 9], dtype=ubyte)\narr9\n\n\n\n# Numpyæ°ç»åå»ºæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"Numpyæ°ç»åå»ºæ¹æ³\"\"\"\n# from numpy import *\n\n# 1. å¨0æ°ç»\n# arr = zeros( (3, 4) ) # äºç»´å¨0æ°ç»\n# arr = zeros( (2,2,2) ) # ä¸ç»´å¨0æ°ç»\n\n# 1.1 å¨1æ°ç»\n# arr = ones( (2, 3) )\n\n# 1.2 åå§åå®¹æ¯éæºçï¼åå³äºåå­çç¶æ\narr = empty( (2, 3) )\n\n# 1.2 å¨xæ°ç»\n# arr = full( (2, 3), 6 )\n\n# 1.3 æ ¹æ®æ­¥é¿åå»ºæ°ç»arange(start, end, step)\n# arr = arange(0, 1, 0.1)\n\n# 2.ç­å·®æ°å\n# arr = linspace(0, 1, 10) # linspace(start, end, count, endpoint=True)\n# arr = linspace(0, 1, 10, endpoint=False)\n\n# 3.ç­æ¯æ°å\n# arr = logspace(0, 10, 1, base=2) # logspace(start, end, count, base=10)\n\narr\n\n\n\n# æå°æ°ç»\n\nç¹å»æ¥ç\n\n\"\"\"æå°æ°ç»\"\"\"\n# import sys\n# ä¸ç»´æ°ç»æå°ä¸ºè¡ï¼å°äºç»´æ°æ®æå°ä¸ºç©éµï¼å°ä¸ç»´æ°æ®æå°ä¸ºç©æ°ç»è¡¨\n# arr = arange(10000)\n\n# å¦ææ°ç»å¤ªå¤§èæ æ³æå°ï¼NumPyä¼èªå¨è·³è¿æ°ç»çä¸­å¿é¨åå¹¶ä»æå°è§ç¹\n# arr.reshape(100, 100)\n# ç¦ç¨æ­¤è¡ä¸ºå¹¶å¼ºå¶NumPyæå°æ´ä¸ªæ°ç» æ´æ¹æå°éé¡¹set_printoptions\n# set_printoptions(threshold=sys.maxsize)\n# arr.reshape(100, 100)\n\n\n\n# åºæ¬æä½ (æ°ç»åç´ çè¿ç®)\n\nç¹å»æ¥ç\n\n\"\"\"åºæ¬æä½ (æ°ç»åç´ çè¿ç®)\"\"\"\nimport numpy as np\n\na = np.array([10, 20, 30, 40, 50])\nb = np.array(np.arange(5))\nprint(\"%s%s\" % (\"æ°ç»a-æ°ç»b:\\t\",a - b)) # æ°ç»ç¸å\nprint(\"%s%s\" % (\"æ°ç»bç2æ¬¡æ¹:\\t\",b**2))\nprint(\"%s%s\" % (\"sin(a):\\t\", np.sin(a)))\nprint(\"%s%s\" % (\"æ°ç»a < 35\\t\",a < 35))\n\n\n\n# åºæ¬æä½ (ç©éµä¹ç§¯)\n\nç¹å»æ¥ç\n\n\"\"\"åºæ¬æä½ (ç©éµä¹ç§¯)\"\"\"\nA = np.array( [[1,1], [0,1]] )\nB = np.array( [[2,0], [3,4]] )\n\nprint(\"ç©éµä¹ç§¯:\" + str(A @ B))\nprint(\"ç©éµä¹ç§¯:\" + str(A.dot(B)))\n\n\n\"\"\"\næäºæä½ï¼ä¾å¦+=å *=ï¼ä¼æ´ç´æ¥æ´æ¹è¢«æä½çç©éµæ°ç»èä¸ä¼åå»ºæ°ç©éµæ°ç»\n\"\"\"\nA *= 0\nA += 3\nB = np.random.random( (2, 2) )\nprint(B)\n# A += B # éè¦åä¸è½¬æ¢ TypeError: Cannot cast ufunc add output from dtype('float64') to dtype('int32') with casting rule 'same_kind'\nB += A\nprint(\"B += A:\\n\" + str(B))\n\n\"\"\"ä¸åæä½\"\"\"\n# B.sum() # ææåç´ çå\n# B.min() # æå°çåç´ \n# B.max() # æå¤§çåç´ \n\n# B.sum(axis=0) # sum of each column\n# B.min(axis=1) # min of each row\n# B.cumsum(axis=1) # å¨æ¯ä¸è¡çç´¯ç§¯ cumulative sum along each row\n\n\"\"\"\néå½æ°\nNumPyæä¾çæçæ°å­¦å½æ°ï¼ä¾å¦sinï¼cosåexpãå¨NumPyä¸­ï¼è¿äºè¢«ç§°ä¸ºâéå½æ°âï¼ufuncï¼ãå¨NumPyä¸­ï¼è¿äºå½æ°å¨æ°ç»ä¸æåç´ è¿è¡è¿ç®ï¼äº§çä¸ä¸ªæ°ç»ä½ä¸ºè¾åº\n\"\"\"\n\n\n\n# å½¢ç¶æçºµ\n\nç¹å»æ¥ç\n\n\"\"\"å½¢ç¶æçºµ 0428\"\"\"\nimport numpy as np\n\n# æ¹åæ°ç»çå½¢ç¶\narr = np.floor(np.random.random( (3,4) ) * 10)\nprint(arr.shape)\nprint(arr)\n# arr.ravel() # returns the array, flattened\n# arr.T\n# arr.reshape(6, -2)\n\n# å°ä¸åæ°ç»å å å¨ä¸èµ·\narr1 = np.array([ [[1,2], [3,4]], [[5,6], [7,8]] ])\narr2 = np.array([ [[10,20], [30,40]], [[50,60], [70,80]] ])\n# np.vstack( (arr1, arr2) ) # æ²¿ç¬¬ä¸è½´[æ°´å¹³(æåé¡ºåº)]å å \n# np.row_stack( (arr1, arr2) )\n# np.hstack( (arr1, arr2) )   # æ²¿ç¬¬äºè½´[åç´(æç§è¡é¡ºåº)]å å \n# np.column_stack( (arr1, arr2) )\n## å¨å¤æçæåµä¸ï¼r_å c_äºéè¿æ²¿ä¸ä¸ªè½´å å æ°å­æ¥åå»ºæ°ç»å¾æç¨ãå®ä»¬åè®¸ä½¿ç¨èå´æä½ç¬¦(âï¼â)ã\n# np.r_[1:6, 0, 4]\n# np.r_[arr1, arr2]\n# np.c_[arr1, arr2]\n\n# å¤å¶å å   numpy.repeat(a, repeats, axis=None)\n# '''\n#     a(array_like): è¾å¥æ°ç»ã\n#     repeats(int or array of ints): æ¯ä¸ªåç´ çéå¤æ¬¡æ°ã éå¤æ­æ¾ä»¥éåç»å®è½´çå½¢ç¶\n#     axis(int, optional) éå¤å¼ææ²¿çè½´ãé»è®¤æåµä¸ï¼ä½¿ç¨å±å¹³çè¾å¥æ°ç»ï¼å¹¶è¿åå±å¹³çè¾åºæ°ç»ã\n# '''\n# np.repeat(a=3, repeats=4)\n# np.repeat(a=arr1, repeats=2)\n# np.repeat(a=arr1, repeats=2, axis=2)\n\n# '''title'''\n\n# å°ä¸ä¸ªæ°ç»æåæå ä¸ªè¾å°çæ°ç»\n# np.hsplit(arr1, (2,2))\n# a = np.array([np.arange(1,13), np.arange(1,13)*10])\n# np.hsplit(a, 3) # æ è®ºæ°ç»å°ºå¯¸å¦ä½ï¼æ°ç»å§ç»æ²¿ç¬¬äºè½´åå²\n# np.hsplit(a, (3, 6, 9)) # (ç¬¬äºä¸ªåæ°æ¯ååçå??? 012 345 678 9-)\n# np.vsplit(a, 2) # è¯¥éµåè¢«å§ç»æ²¿ç¬¬ä¸è½´çº¿åè£ä¸ç®¡éµåçå°ºå¯¸\n# '''split split(array, splits,axis=1) å°æ°ç»æåä¸ºå¤§å°ç¸ç­çå¤ä¸ªå­æ°ç»\n#     numpy.array_splitï¼aryï¼indexs_or_sectionsï¼axis = 0 ï¼\n#     array_splitåè®¸ indices_or_sectionsæ¯æ´æ°ï¼å®ä¸å¹³åè½´ãå¯¹äºåºåä¸ºnä¸ªé¨åçé¿åº¦ä¸ºlçæ°ç»ï¼å®è¿åå¤§å°ä¸ºl // n + 1çlï¼nä¸ªå­æ°ç»ï¼å¶ä½å¤§å°ä¸ºl // n\n# '''\n# np.array_split(ary=arr1, indices_or_sections=2, axis= 2)\narr3 = np.array([arr, arr*10])\nprint(\"arr3:\\n\" + str(arr3))\n# np.split(ary=arr3, indices_or_sections=arr3.shape[0], axis=0)\n\n\n\n# ç´¢å¼ãåçåè¿­ä»£\n\nç¹å»æ¥ç\n\nimport numpy as np\n\"\"\"ç´¢å¼ãåçåè¿­ä»£\"\"\"\n'''\nä¸ç»´çæ°ç»å¯ä»¥è¿è¡ç´¢å¼ãåçåè¿­ä»£æä½çï¼å°±å åè¡¨ åå¶ä»Pythonåºåç±»åä¸æ ·ã\n'''\narr = np.arange(12)**3\nprint(arr[5]) # ç´¢å¼\nprint(arr[0:12:2]) # åç\n# è¿­ä»£\nfor i in arr:\n    print(i, end=\" \")\n\n'''\nå¤ç»´çæ°ç»æ¯ä¸ªè½´å¯ä»¥æä¸ä¸ªç´¢å¼ãè¿äºç´¢å¼ä»¥éå·åéçåç»ç»åºï¼\n'''\narr = arr.reshape( (3,4) )\nprint(\"ç¬¬ä¸è¡ç¬¬ä¸ä¸ªåç´ :\" + str(arr[2, 0])) # ç´¢å¼\n\n# -1å¯¹åºäºç»´æ°ç»éçä¸ç»´è¯´çï¼ä½ä¸åå«æåä¸ä¸ªä¸ç»´æ°ç»ï¼-2å¯¹åºä¸ç»´æ°ç»éçåç´ ï¼ä¸åå«æ¯ä¸ªä¸ç»´æ°ç»æåä¸¤ä¸ª\nprint(arr[:-1,:-2]) # åç\n# è¿­ä»£\nfor elem in arr.flat:\n    print(elem, end=\" \")\n    \narr\n\n\n\n# æ·±å¥:\n\nç¹å»æ¥ç\n\n\"\"\"æ·è´åè§å¾\"\"\"\n# å®å¨ä¸å¤å¶\n# è§å¾ææµæ·è´\n# æ·±æ·è´\n\"\"\"Lessåºç¡ å¹¿æ­ï¼Broadcastingï¼è§å\"\"\"\n\"\"\"è±å¼ç´¢å¼åç´¢å¼æå·§\"\"\"\n# ä½¿ç¨ç´¢å¼æ°ç»è¿è¡ç´¢å¼\n# ä½¿ç¨å¸å°æ°ç»è¿è¡ç´¢å¼\nimport numpy as np\nimport matplotlib.pyplot as plt\ndef mandelbrot( h,w, maxit=20 ):\n    \"\"\"ç¨å¸å°ç´¢å¼çæMandelbrotéçå¾åï¼\"\"\"\n    \"\"\"Returns an image of the Mandelbrot fractal of size (h,w).\"\"\"\n    y,x = np.ogrid[ -1.4:1.4:h*1j, -2:0.8:w*1j ]\n    c = x+y*1j\n    z = c\n    divtime = maxit + np.zeros(z.shape, dtype=int)\n\n    for i in range(maxit):\n     z = z**2 + c\n     diverge = z*np.conj(z) > 2**2            # who is diverging\n     div_now = diverge & (divtime==maxit)  # who is diverging now\n     divtime[div_now] = i                  # note when\n     z[diverge] = 2                        # avoid diverging too much\n\n    return divtime\nplt.imshow(mandelbrot(400,400))\nplt.show()\n\n# ix_()å½æ°\n# ä½¿ç¨å­ç¬¦ä¸²å»ºç«ç´¢å¼\n\"\"\"çº¿æ§ä»£æ° ç®åæ°ç»æä½\"\"\"\n\"\"\"âèªå¨âæ´å½¢\"\"\"\n\"\"\"ç¢éå å \"\"\"\n\n\n\n# æ·±å¥: ç´æ¹å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç´æ¹å¾\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2\nmu, sigma = 2, 0.5\nv = np.random.normal(mu,sigma,10000)\n# Plot a normalized histogram with 50 bins\nplt.hist(v, bins=50, density=1)       # matplotlib version (plot)\nplt.show()\n\n# Compute the histogram with numpy and then plot it\n(n, bins) = np.histogram(v, bins=50, density=True)  # NumPy version (no plot)\nplt.plot(.5*(bins[1:]+bins[:-1]), n)\nplt.show()\n\n\n\n# é:åå»ºä¸ä¸ª3*3 çæ°ç»æ¹æ³\n\nç¹å»æ¥ç\n\nimport numpy as np\n\n# åå»ºä¸ä¸ª3*3 çæ°ç», ä¸åä»£ç éè¯¯çæ¯\n# A:np.arange(9).reshape(3,3)\n# B:np.eye(3)\n# C:np.random.random([3,3,3])\n# D:np.mat(\"1 2 3;4 5 6;7 8 9\")\n# æ­£ç¡®ç­æ¡:C\n\n# arr = np.arange(9).reshape(3,3)\n# arr = np.eye(3) # çæå¯¹è§ç©éµ\narr = np.random.random([3,3,3])\n# arr = np.mat(\"1 2 3;4 5 6;7 8 9\")\n\nprint(arr.shape)\narr\n\n\n\n# Pandasï¼ä¸¤ç§æ°æ®ç»æå­¦ä¹ ï¼\n\n\n# 1.Series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ \n\nç¹å»æ¥ç\n\n\"\"\"pandas ç®ä»:https://www.pypandas.cn/docs/getting_started/ \"\"\"\nimport pandas as pd\nimport numpy as np\n\n\"\"\"Series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ \"\"\"\n\n# obj = pd.Series([1, 3, 5, np.nan, 6, \"ai\"])  # é»è®¤ä¸æ 0123\nobj = pd.Series([1, 2, 3, 4, 5], index=['d', 'b', 'a', 'c', 'e']) \n\n# obj\n# obj.values # è¿åSeriesçå¼ ä¸ºndarrayç±»å\n# obj.index # è¿åç´¢å¼åç§°\n\n'''seriesç´¢å¼'''\n# 1.ç±»ä¼¼numpyç´¢å¼æ¹å¼\n# obj[2:6:2]\n\n# 2.indexåç§°ç´¢å¼\n# obj[\"a\"] # åä¸ª\n# obj[ [\"a\", \"d\", \"e\"] ] # ç´¢å¼å¤ä¸ªå¼,éè¦ä¼ å¥åç§°åè¡¨\n# obj[\"a\":\"c\"] # åæ¬\"c\"\n\n# 3.éè¿å¸å°è¡¨è¾¾å¼ç´¢å¼\n# obj[obj>=3]\n\n'''seriesèµå¼'''\n# 1.åä¸ªå¼èµå¼\n# obj[2] = 9\n\n# 2.å¤ä¸ªå¼èµå¼\n# obj[0:2] = [-9, -6]\n\n# 3.éè¿å¸å°è¡¨è¾¾å¼èµå¼\nobj[obj<3] = 0\n\nobj\n\n\n\n# 2.DataFrame(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ \n\n# åå»º\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\"\"\"\n    DataFrame( data, index, columns, dtype, copy)(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ \n    1. åSeriesä¸æ ·å¯ä»¥æ¥æ¶å¤ç§è¾å¥:listsãdictsãseriesåDataFrameç­\n    2.åå§åå¯¹è±¡æ¶,é¤äºæ°æ®è¿å¯ä»¥ä¼ indexåcolumnsè¿ä¸¤ä¸ªåæ°\n    é:å¯ä»¥æDataFrameæ³è±¡æä¸ä¸ªçµå­è¡¨æ ¼ï¼å®ç±è¡åï¼indexï¼ãåå(columns)åæ°æ®(values)ç»æã\n\"\"\"\n\n# 1.æ ¹æ®å­å¸æ°å»ºDataFrame\n# data = {\n#     'column_a':[1, 2, 3],\n#     'column_b':[4, 5, 6],\n#     'column_c':[7, 8, 9]\n# }\n# df = pd.DataFrame(data, index=['r1', 'r2', 'r3'])\n\n# 1.2.æ ¹æ®åµå¥å­å¸æ°å»ºDataFrame\n# data = {\n#     'c1':{'r1':111, 'r2':122},\n#     'c2':{'r1':211, 'r2':222}\n# }\n# df = pd.DataFrame(data)\n\n# 2. æ ¹æ®åè¡¨åå»ºDataFrame\n# data = [\n#     [1111, 2222, 3333],\n#     [111, 222, 333],\n#     [11, 22, 33],\n#     [1, 2, 3]\n# ]\n# df = pd.DataFrame(data, columns=['c1', 'c2', 'c3'], index=['r1', 'r2', 'r3', 'r4'])\n\n# 3. DataFrame å ndarray äºæä½\n# 3.1 ç¨ndarrayæé DataFrame\nnarr = np.array([\n    [11, 22, 33, 44, 55], \n    [1.1, 2.2, 3.3, 4.4, 5.5]\n])\ndf = pd.DataFrame(narr, columns=['c1', 'c2', 'c3', 'c4', 'c5'], index=['r1', 'r2'])\n# 3.2 ç¨DataFrameæé ndarray\n## narr2 = np.array(df)\n# narr2 = df.values\n# print(narr2)\n\n### end.è¾åº\n# print(df.index)\n# print(df.columns)\n# print(df.values) # è¿åå¼ä¸ºndarrayç±»å\n# print(df.values.shape)\n# print(df.index.shape)\ndf\n\n\n# DataFrameå¼ç´¢å¼\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\n\"\"\"DataFrameå¼ç´¢å¼\"\"\"\n\n\ndata = [\n    [1111, 2222, 3333],\n    [111, 222, 333],\n    [11, 22, 33],\n    [1, 2, 3]\n]\ndf = pd.DataFrame(data, columns=['c1', 'c2', 'c3'], index=['r1', 'r2', 'r3', 'r4'])\n\n# 1.åç´¢å¼(DataFrame[column_name],è¿åå¯¹åºåçææå¼)\n# df['c1']\n\n# 2. è¡ç´¢å¼(DataFrame.ix[index_name],è¿åå¯¹åºè¡çææå¼ãè¿åå¼ç±»åä¸ºSeriesã)\n# df.ix['r1'] # æ³¨æè¿éæ¯ä¸­æ¬å·,ä¸æ¯å½æ°??? (è¢«å¼ç¨????)\n\n# 3.DataFrame.loc[index_nameï¼column_name],è¿åå¯¹åºåç´ ã\n# df.loc['r1'] # è¡ç´¢å¼\n# df.loc[:, 'c1'] # åç´¢å¼\n# df.loc['r1', 'c1']\n# df.loc[ ['r1', 'r3'] ] # è¿åå¼ä¸ºDataFrameã\n# df.loc['r1': 'r3', 'c2'] # åç åæ¬èµ·å§åç»æ\n# df.loc[ df['c1']>100, ['c2'] ] # ææ¡ä»¶çè¿åå¸å°åºå + æå®å\n# df[df>100] # boolå¼çç´¢å¼æ¹æ³\n\n# 3.1 è®¾å®å¼ (å®è´¨ä¸æ¯ç»ç´¢å¼èµå¼??)\n# df.loc[df['c1']>100, ['c2'] ] = 2000\n# df\n\n# 4.DataFrame.iloc[xï¼y],è¿åå¯¹åºåç´ ã\n    # åæ°(æ´æ° # df.iloc[0] # æ´æ°  å·ææ´æ°çåçå¯¹è±¡,ä¾å¦1:7  å¸å°æ°ç»  ä¸ä¸ªcallableå¸¦æä¸ä¸ªåæ°çå½æ°ï¼è°ç¨SeriesæDataFrameï¼)\n# df.iloc[0] # æ´æ°\n# df.iloc[ [0, 1] ] # df.iloc[0] # æ´æ°\n# df.iloc[ 0:3:2 ] # åçå¯¹è±¡\n# df.iloc[[True, False, True, True]] # å¸å°æ©ç ä¸ç´¢å¼çé¿åº¦ç¸å\n\n# df = pd.DataFrame(data, columns=['c1', 'c2', 'c3'])\n# df.iloc[lambda x: x.index % 2 == 0]\n\n\n# å±æ¬¡åç´¢å¼ä¸unstack\n\nç¹å»æ¥ç\n\n\"\"\"å±æ¬¡åç´¢å¼ä¸unstack\"\"\"\n\"\"\"\nå±æ¬¡åç´¢å¼å¯ä»¥å¨ä¸ä¸ªè½´ä¸æ¥æå¤ä¸ªç´¢å¼çº§å«ãä¹å°±æ¯ä»¥ä½ç»´åº¦å½¢å¼å¤çé«ç»´åº¦æ°æ®ã\nunstack()å½æ°å¯ä»¥å°å±æ¬¡åseriesè½¬æ¢æé«ç»´çDataFrameã\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndata = pd.Series(np.random.randn(10), index=[['a', 'a', 'a', 'b', 'b', 'b', 'c', 'c', 'd', 'd'], [1, 2, 3, 1, 2, 3, 1, 2, 2, 3]])\n# data # ä¸¤å±ç´¢å¼\ndata.unstack()\n\n\n# DataFrameå å \n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå å  (shapeç¸å)  [DataFrameè¡¨æè¡ååæ ç­¾ï¼å æ­¤å å æ¶shapeå¯ä»¥ä¸ä¸è´]\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame(np.array([[1,2,3],[4,5,6]]), index=['â ', 'â¡'])\ndf2 = pd.DataFrame(np.array([[10,20,30],[40,50,60]]), index=['â ', 'â¡'])\n\n# concat([pd1,pd2],axis=0,ignore_index=False)\n# print( pd.concat([df, df2]) )\n# pd.concat([df, df2], ignore_index=False) # çºµåå å æ¶ï¼å¿½ç¥ç´¢å¼å\npd.concat([df, df2], axis=1)# æ¨ªåå å \n\n# frame = pd.DataFrame({'b': [4, 7, -3, 2], 'a': [0, 1, 0, 1]})\n# print('å¼æåº1  :\\n',   frame.sort_index(by='b', axis=0))\n# frame\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)\"\"\"\n\"\"\"\n    åæ°DataFrame.reindex(self, \n                labels=None, index=None, columns=None, axis=None, \n                method=None, copy=True, level=None, fill_value=nan, limit=None, tolerance=None)\n\"\"\"\nimport pandas as pd\n\ndf = pd.DataFrame(np.array([[1,2,3],[4,5,6]]), index=['â ', 'â¡'], columns=['a', 'b', 'c'])\ndf.reindex(index=['â ', 'â¡', 'â¢'], columns=['a', 'b', 'c', 'd'], fill_value=0 )\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop)\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop) [â , â¡, â¢, â£, â¤, â¥, â¦, â§, â¨, â©]\"\"\"\n\"\"\"\n    åæ°DataFrame.drop(self, labels=None, axis=0, index=None, \n    columns=None, level=None, inplace=False, errors='raise')\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(np.array([[1,2,3],[4,5,6], [7,8,9], [np.nan,10,np.nan]]), \n                  index=['â ', 'â¡', 'â¢', 'â£'], columns=['a', 'b', 'c'])\n# df.drop(index='â¢', axis=0) # å é¤è¡ (è¿åæ°å¯¹è±¡)\n# df.drop(columns='b', axis=1) # å é¤å (è¿åæ°å¯¹è±¡)\n# åæ° DataFrame.dropna(self, axis=0, how='any', thresh=None, subset=None, inplace=False)\n# df.dropna() # æ¸é¤æç©ºå¼(NaN)çè¡\ndf.dropna(how='all') # æ¸é¤å¨ä¸ºç©ºçè¡(axis=1çå)\ndf.dropna(subset=['åå'],inplace=True)  # æåä¸ºç©ºå é¤è¿ä¸è¡\n# df\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³\"\"\"\n\"\"\"\n    åæ°:add(self, other, axis='columns', level=None, fill_value=None)\n    sub(self, other, axis='columns', level=None, fill_value=None)\n    div(self, other, axis='columns', level=None, fill_value=None)\n    sub(self, other, axis='columns', level=None, fill_value=None)\n\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame(np.arange(4).reshape((2,2)), columns=list('ab'))\ndf2 = pd.DataFrame(np.arange(6).reshape((2,3)), columns=('â ', 'â¡', 'â¢'))\n# df + df2\n# df.add(df2)\ndf.add(10)\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº\"\"\"\n\"\"\"\n    DataFrame.sort_index(self, axis=0, level=None, ascending=True, inplace=False, \n        kind='quicksort', na_position='last', sort_remaining=True, ignore_index: bool = False)\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(np.array([[1,2,3], [7,8,9], [4,5,6], [np.nan,5.5,np.nan]]), \n                  index=['â¢', 'â£', 'â ', 'â¡'], columns=['b', 'a', 'c'])\n# print(df)\n# df.sort_index() # æç´¢å¼æåº\n# df.sort_index(by=['a', 'b']) # ä¸æ¨èä½¿ç¨sort_indexçåæ°ï¼è¯·ä½¿ç¨.sort_valuesï¼by = ...ï¼\n# df.sort_index(axis = 1, ascending=False) # æç§åç´¢å¼åéåºæåº\ndf.sort_index(axis = 0, ascending=False)\n# df.sort_values(by=[ 'a']) # æå¼æåº\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(å¾è¡¥å)\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(è¡¥å)\"\"\"\nimport pandas as pd\n\ndf = pd.DataFrame({'b': [4, 7, -3, 2], 'a': [0, 1, 0, 1]})\ndf.cov() # åæ¹å·®è®¡ç®æ¹æ³ï¼serieséè¦éè¿åæ°ä¼ å¥\ndf.corr() # ç¸å³ç³»æ°è®¡ç®æ¹æ³ï¼serieséè¦éè¿åæ°ä¼ å¥\n\n\n# DataFrameå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å\n\nç¹å»æ¥ç\n\n\"\"\"DataFrameå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(np.array([[1,2,3], [7,8,9], [4,5,6], [np.nan,5.5,np.nan]]), \n                  index=['â¢', 'â£', 'â ', 'â¡'], columns=['b', 'a', 'c'])\n# print(df)\n# df.fillna(0) # å¨å¡«ä¸º0\n# df.fillna({'b':666, 'c':999}) # åæ°ä¸ºå­å¸ç±»å ä¸ååå¡«åä¸åå¼\ndf.fillna(df.mean()) # åå¹³åå¼å¡«ååå¯¹åºçNaNå¼\n\n\n# Pandasæä»¶è¯»å\n\nç¹å»æ¥ç\n\n\"\"\"æä»¶è¯»å\"\"\"\nimport pandas as pd\n\n# filepath = 'data\\music.csv'\nfilepath = 'data\\sales-å¯æ¬.csv' # å«ä¸­æçæä»¶ 65è¡\n\n# 1.read_csvæ¹æ³\ndf = pd.read_csv(filepath, \n                 encoding='gbk', \n                 names=['åç¥¨id', 'éå®æ¥æ', 'æ»éé¢', 'æ¯ä»éé¢', 'æ¶é¶å'], # æå®åå,ä¸ä½¿ç¨ç¬¬ä¸è¡ä½ä¸ºåå\n                 skiprows=[0], # å¿½ç¥æå®å\n#                  na_values=['NULL'], # æ¾ç¤ºç©ºå¼\n#                  nrows=12, # æä»¶å¤§æ¶ è®¾ç½®è¯»åè¡\n#                  chunksize=4 # æ¯æ¬¡è¯»å4è¡\n                ) \n\n# 1.1ä½¿ç¨chunksize=4åæ°,è¯»ååçæ°æ®ç±»åä¸ºTextFileReader\n# for ele in df:\n#     print(ele)\n\n# 2.read_tableæ¹æ³\n# df = pd.read_table(filepath, sep=',', encoding='gbk')\n# print(\"Dataframeçå½¢ç¶\" + str(df.shape))\ndf\n\n# df.fillna(\"ç©ºå¼\")\n\n\n# Pandasæä»¶åå¥\n\nç¹å»æ¥ç\n\n\"\"\"æä»¶åå¥\"\"\"\nimport pandas as pd\nimport numpy as np\n# import sys\n\ndf = pd.DataFrame([\n    ['NaN', 88, 66, 55, 39],\n    [53, 52, 86, 66, np.nan],\n    [21, 98, 68, 'NULL', 99]\n])\n# df\nfilepath = 'data\\pfile_test.csv'\ndf.to_csv(filepath, # sys.stdout, # è¾åºå°æ§å¶å°\n          na_rep='non', # å­å¨ç©ºå¼\n          sep='\\t', # è®¾ç½®åéç¬¦\n          index=False, # ä¸å­å¨ç´¢å¼(index)\n          header=False, # ä¸å­å¨åå\n#           columns=[0, 1] # è®¾ç½®åªä¿å­ æäºå\n         )\n\n\n# Pandasåå¹¶xlsæä»¶\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport os\n\nfile_path = \"D:\\\\software\\\\pythonProjects\\\\weibospider\\\\weibospider\\\\spiders\\\\data\\\\weibo\"\nfile_list = [f\"{file_path}\" + i for i in os.listdir(file_path)]'\n\nli=[]\nfor i in file_list:\n    li.append(pd.read_excel(i))\nwriter = pd.ExcelWriter(f'{file_path}\\å¾®å.xlsx')\npd.concat(li).to_excel(writer,'Sheet1',index=False)\n \nwriter.save()\n\n\n\n# Pandasæ°æ®åå¹¶ãæ¸æ´\n\n\n# mergeå½æ° é»è®¤åè¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\"\"\"mergeå½æ° é»è®¤åè¿æ¥\"\"\"\n\n\"\"\"1.åè¿æ¥(é»è®¤) how = 'inner'\"\"\"\n# 1.1 æ ç¸ååå åè¿æ¥\n# df1 = pd.DataFrame({'key':['b','b','a','c'], 'data1':range(4)})\n# df2 = pd.DataFrame({'key':['a','b','d'], 'data2':range(3)})\n# df3 = pd.merge(df1, df2, on = 'key', how = 'inner')\n\n# 1.2 æ²¡æååå (ç¸å½äºæåæ°on= åä¸º left_on å right_onä¸¤ä¸ªåæ°)\ndf1 = pd.DataFrame({'key1':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.DataFrame({'key2':['a','b','d'], 'data1':range(3)})\ndf3 = pd.merge(df1, df2, left_on='key1', right_on='key2')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# å¤è¿æ¥\n\n# å¤è¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n\"\"\" 2.å¤è¿æ¥ \"\"\"\n''' 1.how  2.å¤åè¿æ¥on=[] 3.åºåç¸åååsuffixes= 4.ç´¢å¼åè¿æ¥right_index=True'''\n# 2.1.1  how = 'outer'\ndf1 = pd.DataFrame({'key': ['b', 'b', 'a', 'c'],'data1': range(4)})\ndf2 = pd.DataFrame({'key': ['a', 'b', 'd'],'data2': range(3)})\ndf3 = pd.merge(df1,df2,how='outer')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# å¤åè¿æ¥on=[]\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.1.2 å¤åè¿æ¥on=[]\ndf1 = pd.DataFrame({'k1': ['A', 'A', 'B'], 'k2': ['a', 'b', 'a'], 'lval': [1, 2, 3]})\ndf2 = pd.DataFrame({'k1': ['A', 'A', 'B', 'B'], 'k2': ['a', 'a', 'a', 'b'], 'rval': [4, 5, 6, 7]})\ndf3 = pd.merge(df1, df2, how='outer',on= ['k1', 'k2'])\n\n# 2.1.3 éè¿æ¥åæéåæ¶æå®åç¼\n# df3 = pd.merge(df1, df2, how='outer',on='k1', suffixes=['_x', '_y'])\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# å·¦è¿æ¥ how = 'left'\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.2\ndf1 = pd.DataFrame({'key':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.DataFrame({'key':['a','b','d'], 'data2':range(3)})\n# 2.2 å·¦è¿æ¥ how = 'left'\ndf3 = pd.merge(df1, df2, on = 'key', how = 'left')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# how = 'right'\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.2\ndf1 = pd.DataFrame({'key':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.DataFrame({'key':['a','b','d'], 'data2':range(3)})\n\n# 2.3 å³è¿æ¥ how = 'right'\ndf3 = pd.merge(df1, df2, on = 'key', how = 'right')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n# 2.4.1 ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥\ndf1 = pd.DataFrame({'key': ['a', 'b', 'a', 'c'],'value': range(4)})\ndf2 = pd.DataFrame({'val': [4, 9]}, index=['a', 'b']) \ndf3 = pd.merge(df1, df2, left_on='key', right_index=True, how='outer')\ndf3 = pd.merge(df1, df2, left_on='key', right_index=True, how='outer')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\"\"\"joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥\"\"\"\n\ndf1 = pd.DataFrame({'key1': ['b', 'b', 'a', 'c'],'data1': range(4)})\ndf2 = pd.DataFrame({'key2': ['a', 'b', 'd'],'data2': range(3)})\n\n# ä¸¤ç§æ¹å¼ç¸å½\nprint(pd.merge(df1, df2,left_index=True, right_index=True))\ndf1.join(df2, how='inner')\n\n\n\n# combine_firstå½æ° ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\n\n\"\"\"combine_firstå½æ°  ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å\"\"\"\ndf1 = pd.DataFrame(np.arange(6).reshape((2, 3)),index=['a','b'])\ndf2 = pd.DataFrame(np.arange(6).reshape((3, 2)),index=['a','b','c'])\n\n# ä½ä¼ä¸¤èçåºå«\nprint(df1.combine_first(df2)) # df1å¼ä¸ºNaNçä½ç½®ï¼ç±df2æ¥å¡«å\ndf2.combine_first(df1) # ä»¥df2ä¸ºåï¼ç¨df1è¡¥ç©º\n\n\n\n# å¾è¡¥å\n\nç¹å»æ¥ç\n\n\"\"\"\npd.concatä¸np.concatenateå¯¹æ¯\npd.concatä¸pd.mergeä¸join\nConcatå¿½ç¥ç´¢å¼\n\"\"\"\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢\"\"\"\n\nimport numpy as np\nimport pandas as pd\n\"\"\"æ°æ®æ¸ç--å¼æ¿æ¢\"\"\"\n\n''' 1. df.fillna()æ¹æ³[å¯¹NaNå¼è¿è¡å¡«å] '''\ndf =  pd.DataFrame([[1,np.nan,2,0], [np.nan, np.nan, np.nan, np.nan,], [3, np.nan,5,6]])\nprint(df) # æå°åå§å¼\n\n# 1.1 å¨é¨å¡«åä¸º0\n# df.fillna(0)\n\n# 1.2 å¡«åä¸ºåå¹³åå¼\n# df.fillna(df.mean())\n\n# 1.3 ä¸ååéç¨ä¸åå¡«å\n# df.fillna({0:0.0, 1:1.1, 2:2.2, 3:3.3})\n\n''' \n2.df.replace()æ¹æ³,å¯¹ä¸åå¼(æ¯å¦0, -1, NaN)è¿è¡å¡«å \n    é:df.replace(np.nan, 0) ç¸å½äº df.fillna(0)\n'''\n# 2.1 æå¤ä¸ªå¼[np.nan, 0] æ¿æ¢ä¸º -1\n# df.replace([np.nan, 0], -1)\n\n# 2.2 æå¤ä¸ªå¼ æ¿æ¢ä¸º å¤ä¸ªå¼\ndf.replace([np.nan, 0], [0, -1])\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf1 = pd.DataFrame({'k1': ['a','a','b','c','c','c','a'], 'k2': [1, 1, 2, 3, 3, 4, 6]}) \n# print(df1)\n\n# 1 duplicated()å½æ° [æ¾åºéå¤è®°å½]\n# df1.duplicated()\n# 2.1 drop_duplicates()å½æ° [ç´æ¥åé¤å¯¹åºçéå¤è®°å½]\n# df1.drop_duplicates()\n# 2.2ä»¥åä¸ºåä½æ¯è¾æ¯å¦å­å¨éå¤è®°å½[é»è®¤è¡ä¸ºåä½]\ndf1.drop_duplicates(['k1', 'k2'])\n\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å\"\"\"\nimport pandas as pd\n\n# 1.df.rename(index={},columns={})æ¹æ³\ndf1 = pd.DataFrame([[1111, 2222, 3333, 4444], [111, 222, 333, 444], [11, 22, 33, 44]])\n# print(df1)\n\ndf1.rename(index={0:'row_1', 1:'row_2', 2:'row_3'}, columns={0:'col_1', 1:'col_2', 2:'col_3', 3:'col_4'})\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢\"\"\"\nimport pandas as pd\n\n'''å½æ°è½¬æ¢ map(Func)å½æ°'''\n# 1. æ¿æ¢fillna replace(è§åé¢)\n# 2. map(Func)å½æ° [åé¨å¼è¿è¡å½æ°è½¬æ¢ãå¦ç»ä¸å­ç¬¦çå¤§å°åç­]\ndf1 = pd.DataFrame({\"course\":[\"Chinese\", \"math\", \"English\", \"physics\" , \"chemistry\", \"biologic\"], \n                    \"score\":[96, 94, 92, 62, 45, 60]})\n# 2.1ç¬¬ä¸åè½¬æ¢ä¸ºé¦å­æ¯å¤§å\n# df1['course'] = df1['course'].map(str.title) # upper\n\n'''æ å°è½¬æ¢ map(Func)å½æ°'''\n# 1.æ ¹æ®å­å¸çæ å°è¿è¡ç¸åºè½¬æ¢\ncourse = {\"Chinese\":\"è¯­æ\", \"math\":\"æ°å­¦\", \"English\":\"è±è¯­\", \"physics\":\"ç©ç\", \"chemistry\":\"åå­¦\", \"biologic\":\"çç©\"}\ndf1['course'] = df1['course'].map(course)\n\ndf1\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± æå®ååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\nimport pandas as pd\nimport numpy as np\n\n\"\"\"\n    æ°å¼ç±»å  1.è¿ç»­å¼:ä¸å®åºé´å¯è¿ç»­åå¼(æ¯å¦å¤©æ°çæ¸©åº¦)  2.ç¦»æ£å¼:æä¸å®é¡ºåºä¸ä¸åä¸¾(æ¯å¦'å¤äº','æ´å¤©','é¨å¤©','é´å¤©')\n    Categoricals:  1.æ¯ pandas çä¸ç§æ°æ®ç±»å,æ¯ç±åºå®çä¸æéæ°éçç¦»æ£åéç»æç 2.ä¸è½æåº(sort_by): é¡ºåºæ¯åå»ºæ¶æå·¥è®¾å®çï¼æ¯éæç\n\"\"\"\n\n'''æå®ååè¾¹ç  cut()å½æ°[å®ç°æ°æ®è£ç®±bin(è¿ç»­->ç¦»æ£)ãè¿åä¸ä¸ªCategoricalå¯¹è±¡]'''\n# arr = np.arange(0, 100, 7)\narr = np.random.randint(0, 100, 18) # çæå¨åå¼åé­åºé´[low,high)ä¸ç¦»æ£åååå¸çæ´æ°å¼\nprint(f\"arr:{arr}\")\nbins = [0, 40, 80, 100]\ncats = pd.cut(arr, bins)\n# cats \nprint(f\"ç¼å·:{cats.codes}\") # ä»0å¼å§çæç¼å·,ä¸å¨èå´åä¸º-1\n\n# æarrayè½¬æ¢ä¸ºDataFrame\ndf1 = pd.DataFrame( arr.reshape(3, 6) )\nprint(f\"ç©éµ:\\n{df1}\")\n\ndf1[3] = pd.cut(df1[3], bins).values.codes\ndf1\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± å¹³åååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\nimport pandas as pd\nimport numpy as np\n\n'''å¹³åååè¾¹ç  cut()å½æ° å¯ä»¥éè¿æ°å¼å¹³åç­å(å¹³åæ°)èªå¨ååå¹¶è£ç®±'''\narr = np.random.randint(0, 100, 18)\ncats = pd.cut(arr, 4)\n# print(f\"è£ç®±åç©éµ:\\n{cats.codes.reshape(3, 6)}\")\n\ndf1 = pd.DataFrame( arr.reshape(3, 6) )\nprint(df1)\npd.DataFrame( cats.codes.reshape(3, 6) )\n# cats\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± åä½ååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\n\nimport pandas as pd\nimport numpy as np\n\n'''åä½ååè¾¹ç  qcut(data,count) ä½¿ç¨ä¸­ä½æ°æ¥ååæ°æ®å¹¶è£ç®±'''\narr = np.random.randint(0, 100, 18)\ncats = pd.qcut(arr, 4)\n# print(f\"è£ç®±åç©éµ:\\n{cats.codes.reshape(3, 6)}\")\n\ndf1 = pd.DataFrame( arr.reshape(3, 6) )\nprint(f\"éæºç©éµ:{df1}\")\nprint(f\"cats:{cats}\")\npd.DataFrame( cats.codes.reshape(3, 6) )\n\n\n\n\n# ååé\n\nç¹å»æ¥ç\n\n\"\"\"\nååé(å¯ä»¥æé«è¿ç®éåº¦) ååé(dummy variable)æ¯æç¨0æ1è¡¨ç¤ºæä¸ªç±»å«æ¯å¦åºç°\n1. æNç§äºæ¥å±æ§æ¶ï¼ååééè¦å¼å¥N-1ä¸ªåéï¼ç¬ç­ç¼ç éè¦Nä¸ªåé\n2. get_dummies(drop_first=True)ä¸ºçæ­£ååéï¼é»è®¤çdrop_first=Falseä¸ºç¬ç­ç¼ç \n\n\"\"\"\nimport pandas as pd\n\ndf1 = pd.DataFrame({\"key\":['a', 'b', 'a', 'c']})\n# ç¬ç­ç¼ç \n# pd.get_dummies(df1['key'])\n\n# ååé\npd.get_dummies(df1['key'], drop_first=True)\n\n# è¿æ¥ååé\n\n\n\n# æ°æ®éæºåæ ·(æåº)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®éæºåæ ·\"\"\"\nimport pandas as pd\nimport numpy as np\n\n# 1.éæºæåº\ndf1 = pd.DataFrame({'k1': ['a','a','b','c','c','c'], 'k2': [1, 1, 2, 3, 3, 4]}) \n# sampler = np.random.permutation(6) # çæéæºåºå\n# df1.take(sampler) # ä»¥éæºåºåä¸ºè¡ç´¢å¼,éæ°æåºåè¾åº\n\n# 2.éæºä¸éæ · [éæºæåºå,åånè¡]\nsampler = np.random.permutation(len(df1))[:3] # simpler = array([x, x, x])\n\n# 3.éæºä¸éæ · [æ ·æ¬è¾å°æ¶,æ©å¤§æ ·æ¬(),ååæ ·]\n## çæ12ä¸ªåç´ å¨0 - 6èå´åçæ°ç»(æ­£æ)\n# sampler = np.random.randint(0, len(df1), size=2*len(df1))\n\ndf1.take(sampler)\n# sampler\n\n\n\n# è¡¥å\n\nç¹å»æ¥ç\n\n\"\"\"å­ç¬¦ä¸²æä½\"\"\"\n\n# æå°åç½®æ¹æ³åå±æ§\n# dir(): è¿ååæ°çå±æ§ãæ¹æ³åè¡¨\n# dir(\"\")\n\n# ç¼ç è§£ç \n# \"ä½ å¥½\".encode()\nb'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd'.decode('utf-8')\n\n\n\"\"\"èå¸çä»£ç \"\"\"\n\n# åç¼ä½¿ç¨\ndf=pd.DataFrame([[1,'a'],[2,'b'],[3,'c'],[1,'d'],[3,'e'],[2,'f']],columns=['lie1','lie2'])\nprint(df)\ndf1=pd.get_dummies(df['lie1'],prefix='lie1')\nprint(df1)\n\n'''\nä¸ä¸ªå¯¹ç»è®¡åºç¨æç¨çç§è¯æ¯ï¼ç»åget_dummiesåcutä¹ç±»çç¦»æ£åå½æ°\n'''\n#æ­£æåå¸æ¯ä¸ªæ°å¼\ndata=np.random.rand(10)\nprint(data)\n# [0.01472476 0.21786879 0.80685543 0.33888554 0.28585739 0.03260082\n#  0.86698275 0.86326211 0.36818782 0.04061498]\n \n#è®¾ç½®é¢å\nbins=[0,0.2,0.4,0.6,0.8,1]\n \n#é¢ååå\nprint(pd.cut(data,bins))\n# [0.09044921 0.34034557 0.16417927 0.45625488 0.05030981 0.26397673\n#  0.93966121 0.17444847 0.19196159 0.48356917]\n# [(0.0, 0.2], (0.2, 0.4], (0.0, 0.2], (0.4, 0.6], (0.0, 0.2], (0.2, 0.4], (0.8, 1.0], (0.0, 0.2], (0.0, 0.2], (0.4, 0.6]]\n# Categories (5, interval[float64]): [(0.0, 0.2] < (0.2, 0.4] < (0.4, 0.6] < (0.6, 0.8] < (0.8, 1.0]]\n#    (0.0, 0.2]  (0.2, 0.4]  (0.4, 0.6]  (0.6, 0.8]  (0.8, 1.0]\n \n#ååé\nprint(pd.get_dummies(pd.cut(data,bins)))\n\n\n\n# Pandasèåä¸åç»\n\n\n# æ°æ®åç»æä½(1) (groupbyå½æ° & seriesåç»)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(1)  (groupbyå½æ° & seriesåç»)\"\"\"\nimport pandas as pd\nimport numpy as np\n\n# 1.groupy()å½æ°è¿åä¸ä¸ªGroupByå¯¹è±¡,æ­¤å¯¹è±¡æ²¡æåä»»ä½è®¡ç®ï¼åªçæç¬¦ååç»æ¡ä»¶çä¸­é´æ°æ®ï¼å½æ§è¡applyæ¹æ³æ¶æè¿è¡çæ­£çè®¡ç®\ndf = pd.DataFrame({ 'k1':['a', 'a', 'b', 'b'], 'k2':['one', 'two', 'one', 'one'], 'v1':np.arange(4), 'v2':np.arange(6,10)})\n\n'''åååç»'''\n# grouped = df['v1'].groupby(df['k1'])\n\n'''å¤ååç» (å¤å±æ¬¡ç´¢å¼çSeries,å¯è½¬åä¸ºDataFeame)'''\ngrouped = df['v1'].groupby([df['k1'], df['k2']])\n\n# grouped # æ¾ç¤ºGroupByå¯¹è±¡\n\nprint(df) # æå°df\n\n# GroupByå¯¹è±¡å¨æ§è¡applyæ¹æ³æ¶ï¼æä¼è¿è¡çæ­£çè®¡ç®åç»å\n## å¦:å¨GroupByå¯¹è±¡ä¸åºç¨æ±å¹³åçåºç¨ï¼å¹¶èåè¾åºä¸ä¸ªæ°çSeries\n# grouped.mean()\npd.DataFrame(grouped.mean()) # å¤å±ç´¢å¼Seriesè½¬åä¸ºDataFrame\n\n\n\n# æ°æ®åç»æä½(2) (DataFrmeåç»)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(2)  (DataFrmeåç»)\"\"\"\n# np.array?? # help(np.array) # æ¥çæ¹æ³è¯¦ç»ä¿¡æ¯\n\n# DataFrameæ°æ®è¡¨å¯¹è±¡ï¼ä½¿ç¨groupby()å½æ°ï¼æå®åç»çåï¼å³å¯å¯¹æ°æ®è¡¨å¶å®åè¿è¡åºç¨åèå\ndf = pd.DataFrame({'k1' : ['a', 'a', 'b', 'b'], 'k2' : ['one', 'two', 'one', 'one'],'v1' : np.arange(4), 'v2' : np.arange(6,10)})\nprint(df)\n# 1. åååç»\n# å½è¢«åç»å¹¶åºç¨æ±èçåï¼æ æ³è¿è¡åºç¨æ±èæ¶ï¼åç´æ¥ä¸¢å¼(æ¯å¦k2åä¸ºå­ç¬¦ä¸²,ä¸è½è¿è¡meanæ±å¹³åå¼)\n# df.groupby('k1').mean()\n\n# 2.å¤ååç»\n# df.groupby(['k1', 'k2']).mean()\n\n# 3.å¤ååç»âå»é¤åç»ç´¢å¼\n## å¨å¤ååç»çæåµä¸ï¼æ°çæçæ°æ®è¡¨ä¼æå¤å±æ¬¡åç´¢å¼ï¼æçæ¶åæä»¬ä¸éè¦è¿äºç´¢å¼ï¼èæ¯è¦å°ä»ä»¬åææ°çæ°æ®å\n# df.groupby(['k1', 'k2'], as_index=False).mean()\n\n# 4.èªå®ä¹åç»\n# å¦ææä»¬ä¸æç§æ°æ®è¡¨ä¸­æåæ¥åç»ï¼åèªå·±å®ä¹åç»çè§åãè¿æ¶ï¼å¯ä»¥éè¿ä¼ å¥èªå®ä¹åè¡¨ä¼ å¥groupbyåæ°ï¼æç§åè¡¨æ°æ®è§åè¿è¡åç»\n# df.groupby(['A', 'A', 'A', 'B']).mean()\n# df.groupby(['1', '1', '2', '0']).mean()\n\n# 5.å¤ååç»âæ±å\n# df.groupby(['1', '1', '2', '0']).sum()\n\n# 6.å¤ååç»âæå¤§å¼\n# df.groupby(['k1', 'k2']).max()\n\n# 7.å¤ååç»âä¸­ä½æ°\n# df.groupby(['k1', 'k2']).median()\ndf.groupby(['1', '1', '2', '1']).median()\n\n\n\n# æ°æ®åç»æä½(3) åç»æå®åºç¨èåå\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(3)  åç»æå®åºç¨èåå\"\"\"\n\ndf = pd.DataFrame({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', 'one', 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\n# 1.æå®åå (è¿è¡æ²¡å¥½ä½¿)\n## ä½¿ç¨groupby()å½æ°å¯¹DataFrameæ°æ®è¡¨è¿è¡åç»æ¶ï¼å¯ä»¥æå®æ¹æ³åºç¨åèåçååï¼å¹¶è¿åSerieså¯¹è±¡ãseries.groupby([âcolumn_nameâ,âcolumn_nameâ]).mean()\n# df['v1'].groupby(['k1', 'k2']).mean()\n\n# 1.2 æå®ååâè¯­æ³ç³ (è®¡ç®æºè¯­è¨ä¸­æ·»å çæç§è¯­æ³ï¼è¿ç§è¯­æ³å¯¹è¯­è¨çåè½å¹¶æ²¡æå½±åï¼ä½æ¯æ´æ¹ä¾¿ç¨åºåä½¿ç¨)\n## ä»ä¹æ¯è¯­æ³ç³:https://www.jianshu.com/p/777b10385524\ndf.groupby(['k1', 'k2'])['v1'].mean()\n\n# 2.æå®å¤å (è¿è¡æ²¡å¥½ä½¿)\n# df[['v1','v2']].groupby(['k1', 'k2']).mean()\n\n# 2.1 æå®å¤åâè¯­æ³ç³\ndf.groupby(['k1', 'k2'])['v1','v2'].mean()\n\n\n\n# æ°æ®åç»æä½(4) åç»çè¿­ä»£æä½\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(4)  åç»çè¿­ä»£æä½\"\"\"\n\ndf = pd.DataFrame({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', 'one', 'one'],'v1' : np.arange(4),'v2' : np.arange(6,10)})\n# print(df)\n\n# å¯¹ä¸ååç»è¿è¡ä¸åå¤ç,å¯¹GroupByå¯¹è±¡è¿è¡è¿­ä»£,å¨è¿­ä»£ä¸­å¤çåä¸ªåç»\n# 1.è¾åºåç»\n# for name, group in df.groupby('k1'):\n#     print(\"name:\" + name)\n#     print(group)\n\n# 2.\n# for [k1, k2],group in df.groupby(['k1', 'k2']):\n#     print(f'({k1}, {k2}):\\n{group}')\n\n# 3.å¯ä»¥å°åç»æ°æ®åææ°æ®è¡¨å­å¸,dict(list(GroupByObj)) \ngroupDict = dict(list(df.groupby('k1'))) # åè½¬åè¡¨åè½¬å­å¸\ngroupDict['a']\n\n\n\n# æ°æ®åç»æä½(5) å¯¹è¡ç´¢å¼åè¿è¡åç»\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(5)  å¯¹è¡ç´¢å¼åè¿è¡åç»\"\"\"\n\ndf = pd.DataFrame({ 'k1':['a', 'a', 'b', 'b'], 'k2':['one', 'two', 'one', 'one'], 'v1':np.arange(4), 'v2':np.arange(6,10)}, \n                index=['c1','cc2','cc3','c4'])\nprint(df)\n# 1.è¡ç´¢å¼å½æ°åç»\ndf.groupby(len).mean()\n\n# 2.è¡ç´¢å¼å½æ°åç»\ndf.index=['c1','cc2','cc3','c1'] # éç½®ç´¢å¼\ndf.groupby(str).mean()\n# df\n\n\n\n# æ°æ®åç»æä½(6) èåå½æ°\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(6)  èåå½æ°\"\"\"\n\ndf = pd.DataFrame({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n# 1.éç©ºå¼è®¡æ°\ndf.groupby('k1').count()\n\n# 2. åç»ä¹ç§¯\n# df.iloc[3, 2] = np.nan # å°3,2è®¾ä¸ºNaN\n# df.groupby('k1').prod() # NaNä¸åä¸ä¹ç§¯\n\n# 3.åç»æ¹å·®åæ åå·®\n# df.iloc[3, 2] = np.nan\n# df.groupby('k1').var() # æ¹å·®\n# df.groupby('k1').std() # æ ·æ¬æ åå·® (numpyçæ¯æ»ä½æ ååå·®???)\n\n# 4.åä½æ°\n# df.iloc[3, 2] = np.nan\n# df.groupby(['k1', 'k2']).quantile(0.75)\n\n# 5.é¦å°¾å¼\n# df.iloc[3, 2] = np.nan\n# # df.groupby('k1').first()\n# df.groupby('k1').last()\n\n# 6.æ°æ®æ¢ç´¢\n## å¨æ°æ®åæçæ°æ®æ¢ç´¢é¶æ®µï¼éè¦å¯¹æ°æ®æä¸ªæ´ä½çæç¥ï¼å¦ææä¸é¢æ­¥éª¤ä¸ä¸ªä¸ªççè¯æ¯è¾éº»ç¦ãPandasæä¾describe()å½æ°ï¼å¯ä»¥çæå¸¸ç¨æ¹æ³ç»æ\ndf.iloc[3, 2] = np.nan\ndf.groupby('k1').describe()\n\n\n\n# æ°æ®åç»æä½(7) èªå®ä¹èåå½æ°agg()\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(7)  èªå®ä¹èåå½æ°agg()\"\"\"\n\ndf = pd.DataFrame({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\ndef my_fun(data):\n    return data.max() + data.min()\n\ndf.iloc[3, 2] = np.nan\n\n# 1.èªå®ä¹å½æ°\n# df.groupby('k1').agg(my_fun)\n\n# 2.èªå®ä¹aggå½æ°åè¡¨\n# df.groupby('k1').agg(['mean', 'max', 'min', my_fun])\n\n# 2.2 èªå®ä¹aggå½æ°åè¡¨ [æå®åºç¨ç»æçååç§°(ç¨åç»)]\n# df.groupby('k1').agg([('å¹³åå¼', 'mean'), ('æå¤§å¼', 'max'), ('æå°å¼', 'min'), (\"æå¤§æå°å¼ä¹å\", my_fun)])\n\n# 2.3 èªå®ä¹aggå½æ°åè¡¨ [æå®ååç§°(ç¨åç») + åç¼add_prefix]\n## å®ä¹æ°æ°æ®è¡¨ååæ¶ï¼å¨åä¸è¡ä¸­å½åä¼åºç°ç¸åçæåµï¼å®¹ææ··æ·\ndf.groupby('k1').agg( my_fun ).add_prefix('x_')\n\n\n\n# èªå®ä¹èåæä½ åç»è½¬æ¢ä¸åç»åºç¨\n\nç¹å»æ¥ç\n\n\"\"\"èªå®ä¹èåæä½  åç»è½¬æ¢ä¸åç»åºç¨\"\"\"\ndf = pd.DataFrame({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\n# df.iloc[3,2] = np.nan\n\n# 1.transform()å½æ° å¦ææä»¬éè¦å°ç»è®¡ç»æåç§åè¡¨çshape,ç´æ¥å¹¿æ­å°åä¸­\n# df.groupby('k1').transform(np.mean)\n# df.groupby('k1').mean()  # ?åºå«\n\n# 2.GroupByå¯¹è±¡çtransform()å½æ°ï¼ä¸agg()ä¸æ ·å¯ä»¥ä¼ å¥èªå®ä¹å½æ°\ndef my_fun(data):\n    return data.max() + data.min()\n\n# df.groupby(['k1', 'k2']).transform(my_fun)  # ????????????????????ä¸å¥½ä½¿\ndf.groupby('k1')['v1', 'v2'].transform(my_fun)\n\n# 3.aggåtransformçåºå«\n## agg()å½æ° å¿é¡»æ¯å¯ä»¥æ±èçå¼ï¼ aggregated value ï¼\n## transform()å½æ°åå¯ä»¥ä¼ å¥æ®éçè½¬æ¢å½æ°\n# def divide(df,n=2):\n#     return df/n\n\n# df.groupby('k1').agg(divide) # Exception: Must produce aggregated value\n# df.groupby(\"k1\")['v1','v2'].transform(divide)\n\n\n\n# éç¨çapplyæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"\néç¨çapplyæ¹æ³ å¯ä»¥æ¯éæ±èå½æ°\n1. éå¸¸ï¼aggèåçæçè¡¨shapeå°äºåè¡¨ï¼èapplyåtransformç»åçshapeå¯ä»¥ç­äºåè¡¨\n\"\"\"\n\n'''\n    aggåtransformçå±é\n    agg()å½æ°éè¦ä¼ å¥çæ¹æ³å¯ä»¥è¿åæ±èçå¼ï¼ aggregated value ï¼ï¼transform()å½æ°åå¯ä»¥æ¯N:1çæ±èå¼ï¼ä¹å¯ä»¥æ¯1å¯¹1çè½¬æ¢å¼ã\n    å¦ææ¯è¾å¥Må°è¾åºNçå½æ°(M>N)ï¼aggåtransformé½æ æ³ä½¿ç¨ï¼æ¯å¦: ååç»çåNä¸ªå¼\n'''\ndf = pd.DataFrame({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\ndef get_rows(df,n=2): \n    return df.iloc[:n,:]\n\n# df.groupby('k1')['v1','v2'].agg(get_rows) #  ValueError: Shape of passed values is (4, 2), indices imply (2, 2)\n# df.groupby(\"k1\")['v1','v2'].transform(get_rows) # IndexingError: ('Too many indexers', 'occurred at index v1')\n\n# 1.ååç»åNä¸ªå¼çæ¹æ³\n# df.groupby('k1')['v1','v2'].apply(get_rows,1)\n\n# 2.ä¹å¯ä»¥ç¨apply()åTopNä¸ªå¼\ndef topn(df, n=3, column='sort_column'):\n    return df.sort_values(by=column,ascending=False)[:n]\n\ndf.groupby(\"k1\")['v1','v2'].apply(topn,2,'v2')\n\n\n\n# éè§è¡¨ä¸äº¤åè¡¨ éè§è¡¨(Pivot Table)\n\nç¹å»æ¥ç\n\n\"\"\" éè§è¡¨ä¸äº¤åè¡¨  éè§è¡¨(Pivot Table)\"\"\"\nimport pandas as pd\n'''\néè§è¡¨(pivot table)æ¯åç§çµå­è¡¨æ ¼ç¨åºåå¶ä»æ°æ®åæè½¯ä»¶ä¸­ä¸ç§å¸¸è§çæ°æ®æ±æ»å·¥å·ãå®æ ¹æ®ä¸ä¸ªæå¤ä¸ªé®å¯¹æ°æ®è¿è¡èåï¼å¹¶æ ¹æ®è¡ååä¸å¾åç»å»ºå°æ°æ®åéå°åä¸ªç©å½¢åºåä¸­ã\n1. å¨Pythonåpandasä¸­ï¼å¯ä»¥éè¿æ¬ç« æä»ç»çgroupbyåè½ä»¥åï¼è½å¤å©ç¨å±æ¬¡åç´¢å¼çï¼éå¡è¿ç®å¶ä½éè§è¡¨ã\n2. DataFrameæä¸ä¸ªpivot_tableæ¹æ³ï¼æ­¤å¤è¿æä¸ä¸ªé¡¶çº§çpandas.pivot_tableå½æ°ãé¤äºè½ä¸ºgroupbyæä¾ä¾¿å©ä¹å¤ï¼pivot_tableè¿å¯ä»¥æ·»å åé¡¹å°è®¡ï¼ä¹å«margins\n'''\n\ndf = pd.DataFrame({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\n# DataFrame.pivot_table(Index, Columns, aggFunc(é»è®¤ä¸ºnp.mean), fill_value)\n# 1.å¦æåªæå®pivot_tabel()å½æ°çindexåæ°ï¼ä¸æå®columnsåæ°åfill_valueåæ°ï¼å¶ç»æååé¢ä»ç»çåç»èåç»æä¸è´ã\n# df.pivot_table(index='k1') # ç¸å½äºdf.groupby('k1').mean()\n\n# 2.æå®è¾åºçå\n# df.pivot_table(['v1', 'v2'], index='k1') # ç¸å½äºdf.groupby('k1')['v1', 'v2'].mean()\n\n# 3.å¦æåªæå®pivot_tabel()å½æ°çindexåæ°ï¼æå®columnsåæ°ï¼å°±æ¯å°ä»¥åç»´åº¦è¿è¡åç»ï¼å¶ææåæå®ä¸¤ä¸ªåç»è¡ç´¢å¼ï¼åå°è¿åçå±æ¬¡ç´¢å¼unstack() ç»æä¸è´\ndf.pivot_table(index='k1', columns='k2') # ç¸å½äºdf.groupby(['k1', 'k2']).mean().unstack()\n\n\n\n# éè§è¡¨ä¸äº¤åè¡¨ äº¤åè¡¨(Cross Table)\n\nç¹å»æ¥ç\n\n\"\"\" éè§è¡¨ä¸äº¤åè¡¨  äº¤åè¡¨(Cross Table)\"\"\"\nimport pandas as pd\n\n\"\"\"\n1. äº¤åè¡¨(cross table) æ¯ç©éµæ ¼å¼çä¸ç§è¡¨æ ¼ï¼æ¾ç¤ºåéçï¼å¤åéï¼é¢çåå¸ã\n2. äº¤åè¡¨è¢«å¹¿æ³ç¨äºè°æ¥ç ç©¶ï¼åä¸æºè½ï¼å·¥ç¨åç§å­¦ç ç©¶ãå®ä»¬æä¾äºä¸¤ä¸ªåéä¹é´çç¸äºå³ç³»çåºæ¬ç»é¢ï¼å¯ä»¥å¸®å©ä»ä»¬åç°å®ä»¬ä¹é´çç¸äºä½ç¨ã\n3. å¡å°Â·ç®å°éï¼Karl Pearsonï¼é¦åå¨âå³äºåºåççè®ºåå¶å³èçè®ºä¸æ­£å¸¸ç¸å³æ§âä¸­ä½¿ç¨äºäº¤åè¡¨ã\n4. å¨pandasä¸­ï¼äº¤åè¡¨æ¯ä¸ç§ç¹æ®çéè§è¡¨ã\n\"\"\"\n# pd.crosstab(index, columns, margins[è¾¹éæ±åå¼å³])\ndf = pd.DataFrame({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\ndef get_rows(df,n=2): \n    return df.iloc[:n,:]\n\ndf.iloc[3,2] = np.nan\n# pd.crosstab(df['k1'],df['k2'])\npd.crosstab(df['k1'],df['k2'],margins=True)\n\n\n\n# Seaborn(Pandas)å¯è§å\n\næçº¿å¾\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndf = pd.DataFrame(np.random.randn(10,3), columns = ['A','B','C'], index = np.arange(0,100,10))  \ndf.plot()\nplt.show() \n# df\n\n\næ¡å½¢å¾\n\nç¹å»æ¥ç\n\nfig, axes = plt.subplots(1,2)  \ndata = pd.Series(np.random.rand(7),index = list('abcdefg'))  \n#kindéæ©å¾è¡¨ç±»å  'bar' åç´æ¡å½¢å¾ \ndata.plot(kind = 'bar', ax = axes[0], color = 'b', alpha = 0.7) \n# 'barh' æ°´å¹³æ¡å½¢å¾ \ndata.plot(kind = 'barh', ax = axes[1], color = 'b', alpha = 0.7)\nplt.show() \n\n\nç´æ¹å¾\n\nç¹å»æ¥ç\n\nimport sklearn.datasets as skds\n\"\"\"ç´æ¹å¾\"\"\"\n\n# iris = skds.load_iris()\n# df_iris = pd.DataFrame(iris.data,columns=iris.feature_names)\n# df_iris.hist('sepal length (cm)')\n# plt.show()\n\niris = skds.load_iris()\ndf_iris = pd.DataFrame(iris.data,columns=iris.feature_names)\ndf_iris.hist()\nplt.show()\n\n## --------------------------------------------\n\nfig, axes = plt.subplots(1,2)  \ndata = pd.Series(np.random.randn(100))  \ndata.hist(ax = axes[0], bins = 50)       #ç´æ¹å¾  \ndata.plot(kind = 'kde', ax = axes[1])    #å¯åº¦å¾  \nplt.show() \n\n\næ£ç¹å¾\n\nç¹å»æ¥ç\n\niris = skds.load_iris()\ndf_iris = pd.DataFrame(iris.data,columns=iris.feature_names)\ndf_iris.plot(kind='scatter',x=\"sepal length (cm)\", y=\"sepal width (cm)\")\nplt.show()\n\n\nMatplotlibæ çæ¯é«åº¦å¯å®å¶çï¼ä½å¿«éå®æ½åºå¸å¼äººçç»èå°±åå¾æäºå¤æãSeabornä½ä¸ºä¸ä¸ªå¸¦çå®å¶ä¸»é¢åé«çº§çé¢æ§å¶çMatplotlibæ©å±åï¼è½è®©ç»å¾åå¾æ´è½»æ¾\n\nç¤ºä¾\n\nç¹å»æ¥ç\n\n\"\"\"Seabornå¯è§åæ¹æ³  (ååéåå¸)\"\"\"\nimport seaborn as sns \n\n\"\"\"æå¿«éæ¥çååéåå¸æ çæ¯ä½¿ç¨distplot()å½æ°ãé»è®¤æåµä¸ï¼è¿å°ç»å¶ä¸ä¸ªç´æ¹å¾ï¼å¹¶æååºæ ¸å¯åº¦ä¼°è®¡(KDE)\"\"\"\nx = np.random.normal(size=100)\nsns.distplot(x)\nplt.show()\n\n# ---------------------------------\n\"\"\"Seabornå¯è§åæ¹æ³  (ç´æ¹å¾)\"\"\"\n\n\"\"\"\nç´æ¹å¾éè¿å¨æ°æ®çèå´ååææ°æ®çæ®µï¼ç¶åç»å¶æ¯ä¸ªæ°æ®çæ®µä¸­çè§å¯æ¬¡æ°ï¼æ¥è¡¨ç¤ºæ´ä½æ°æ®çåå¸ã\næä»¬å é¤å¯åº¦æ²çº¿å¹¶æ·»å äºå°æ¯¯å¾ï¼æ¯ä¸ªè§å¯ç¹ç»å¶ä¸ä¸ªå°çåç´å»åº¦\n\"\"\"\n\nx = np.random.normal(size=100)\nsns.distplot(x, kde=False, rug=True)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"Seabornå¯è§åæ¹æ³  (æ ¸å¯åº¦ä¼°è®¡)\"\"\"\n\n\"\"\"Seabornçdisplot()å½æ°ï¼éè¿è®¾ç½®åæ°ï¼å¯ä»¥å®ç°åªæ¾ç¤ºæ ¸å¯åº¦ä¼°è®¡åå°æ¯¯å¾\"\"\"\nx = np.random.normal(size=100)\nsns.distplot(x, hist=False, rug=True)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"Seabornå¯è§åæ¹æ³  (æ£ç¹ååéåå¸)\"\"\"\n\n# éæºçæä¸¤åï¼å¶åå¼ä¸º[0,1],åæ¹å·®ç©éµä¸º[(1, 0.5), (0.5, 1)]çæ°ç»\n\nmean, cov = [0, 1], [(1, 0.5), (0.5, 1)]\ndata = np.random.multivariate_normal(mean, cov, 200)\ndf = pd.DataFrame(data, columns=[\"x\", \"y\"])\nsns.jointplot(x=\"x\", y=\"y\", data=df)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"Seabornå¯è§åæ¹æ³  (æå¯¹å³ç³»å¾)\"\"\"\n\"\"\"\nè¦å¨æ°æ®éä¸­ç»å¶å¤ä¸ªæå¯¹ååéåå¸ï¼å¯ä»¥ä½¿ç¨pairplot()å½æ°ãè¿å°åå»ºä¸ä¸ªè½´çç©éµï¼å¹¶æ¾ç¤ºDataFrameä¸­æ¯å¯¹åçå³ç³»ã\né»è®¤æåµä¸ï¼å®ä¹ç»å¶æ¯ä¸ªåéå¨å¯¹è§è½´ä¸çååéã\n\"\"\"\n\nimport sklearn.datasets as skds\niris = skds.load_iris()\ndf_iris = pd.DataFrame(iris.data,columns=iris.feature_names)\nsns.pairplot(df_iris)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"Seabornå¯è§åæ¹æ³  (çº¿æ§åå½çº¿ä¸)\"\"\"\n\n\"\"\"Seabornçlmplot(data,x,y)å½æ°ï¼å°dataæ°æ®è¡¨ä¸­xååyåæ°æ®ï¼çææ£ç¹å¾ï¼å¹¶ç»å¶çº¿æ§åå½çº¿ãæ¬ç¤ºä¾ä½¿ç¨tipsæ°æ®éã\"\"\"\n# tips = sns.load_dataset(\"tips\")\ntips = pd.read_csv('./data/tips.csv')\nsns.lmplot(data=tips, x=\"total_bill\", y=\"tip\")\nplt.show()\n## ---------------------------------\n\n\"\"\"Seabornå¯è§åæ¹æ³  (çº¿æ§åå½çº¿äº)\"\"\"\n\n\"\"\"Seabornçjointplot()å½æ°ç»å¶ååéåå¸æ¶ï¼ä¹å¯ä»¥ç»å¶åå½çº¿ãè®¾ç½®kindåæ°ä¸ºâregâãæ¬ç¤ºä¾ä½¿ç¨tipsæ°æ®éãææå¦ä¸\"\"\"\n\n# tips = sns.load_dataset(\"tips\")\ntips = pd.read_csv('./data/tips.csv')\nsns.jointplot(x=\"total_bill\", y=\"tip\", data=tips, kind=\"reg\")\nplt.show()\n# tips\n\n## ---------------------------------\n\n\"\"\"çææ°æ®\"\"\"\nimport csv\nimport random\nimport datetime\n\nfilepath ='data/data.csv'\nwith open(filepath, 'w', encoding='utf-8') as fp:\n    #åå»ºcsvæä»¶åå¥å¯¹è±¡\n    wr = csv.writer(fp)\n    #åå¥è¡¨å¤´\n    wr. writerow(['æ¥æ','éé'])\n    #çææ¨¡ææ°æ®\n    startDate = datetime. date(2020, 1, 1)\n    #çæ365ä¸ªæ¨¡ææ°æ®ï¼å¯ä»¥æ ¹æ®éè¦è¿è¡è°æ´\n\n    for i in range (365):\n        #çæä¸ä¸ªæ¨¡ææ°æ®ï¼åå¥csvæä»¶\n        amount = 300 + i*5 + random.randrange (100)\n        wr.writerow([str(startDate), amount] )\n        #ä¸ä¸å¤©\n        startDate = startDate + datetime.timedelta (days=1)\n\"OK\"\n\n## ---------------------------------\n\n\"\"\"çææ¨¡ææ°æ®\"\"\"\nimport numpy as np\nimport pandas as pd\n\n# ç¨å«æ¥ææ¶é´ç´¢å¼ä¸æ ç­¾ç NumPy æ°ç»çæ DataFrame\ndates = pd.DataFrame(pd.date_range(\"20200101\", periods=365), columns=['æ¥æ'])\ndata = pd.DataFrame(np.random.randint(300, 600, dates.shape[0]), columns=['éé'])\ndf = dates.join(data)\n\nfilepath = 'data\\data0.csv'\ndf.to_csv(filepath, # sys.stdout, # è¾åºå°æ§å¶å°\n          na_rep='non', # å­å¨ç©ºå¼\n          index=False, # ä¸å­å¨ç´¢å¼(index)\n          header=True, # å­å¨åå\n)\n\n## ---------------------------------\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# è¯»åæ°æ®ï¼ä¸¢å¼ç¼ºå¤±å¼\ndf = pd.read_csv('data\\\\data0.csv', encoding='utf-8')\ndf = df.dropna()\n# print(df['æ¥æ'])\n\n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif']=['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n#çæè¥ä¸é¢æçº¿å¾\nplt.figure()\ndf.plot(x='æ¥æ')\n# plt.savefig('data\\\\test\\\\first.jpg')\n\n#ææç»è®¡ï¼çææ±ç¶å¾\nplt.figure()\ndf1 = df[:]\n# map()ä¼æ ¹æ®æä¾çå½æ°å¯¹æå®åºååæ å°ãç¬¬ä¸ä¸ªåæ° function ä»¥åæ°åºåä¸­çæ¯ä¸ä¸ªåç´ è°ç¨ function å½æ°ï¼è¿ååå«æ¯æ¬¡ function å½æ°è¿åå¼çæ°åè¡¨\n# lambdaç®åäºå½æ°å®ä¹çä¹¦åå½¢å¼ãä½¿ä»£ç æ´ä¸ºç®æ´ï¼ä½æ¯ä½¿ç¨å½æ°çå®ä¹æ¹å¼æ´ä¸ºç´è§ï¼æçè§£ã\n# def fun(x):\n#     return x[:x.rindex('-')]\n\ndf1['month'] = df1['æ¥æ'].map(lambda x:x[:x.rindex('-')]) # lambda x:x[:x.rindex('-')]\ndf1 = df1.groupby(by='month', as_index=False).sum()\ndf1.plot(x='month', kind='bar')\n# plt.savefig('data\\\\test\\\\second.jpg')\n\n# æ¥æ¾æ¶¨å¹æå¤§çæä»½ï¼åå¥æä»¶ \nplt.figure()\ndf2 = df1.drop('month', axis=1).diff()\n# DataFrame.nlargest(self, n, columns, keep='first') è¿åæåéåºæåçånè¡ãä»¥éåºè¿åcolumnä¸­å·ææå¤§å¼çånè¡ãæªæå®çåä¹å°è¿åï¼ä½ä¸ç¨äºæåºã\n# æ­¤æ¹æ³ç­æäº ï¼ä½æ§è½æ´é«ãdf.sort_values(columns, ascending=False).head(n)\nm = df2['éé'].nlargest(1).keys()[0]\nprint(f\"ééæé«æä»½{df1.loc[m, 'month']}\")\nwith open('data\\\\test\\\\maxMonth.txt', 'w') as fp:\n    fp.write(df1.loc[m, 'month'])\n\n# æå­£åº¦ç»è®¡ï¼çæé¥¼ç¶å¾\nplt.figure()\none=df1[:3]['éé'].sum()\ntwo=df1[3:6]['éé'].sum()\nthree=df1[6:9]['éé'].sum()\nfour=df1[9:12]['éé'].sum()\nplt.pie([one, two, three, four], labels=['ç¬¬ä¸å­£åº¦', 'ç¬¬äºå­£åº¦', 'ç¬¬ä¸å­£åº¦', 'ç¬¬åå­£åº¦'])\n# plt.savefig('data\\\\test\\\\third.jpg')\n\nplt.show()\n\n\n\n\n# matplotlibå¯è§å\n\n\n# æ¡å½¢å¾\n\n# æ¡å½¢å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç¬¬ä¸æ¬¡ä½ä¸  æ¡å½¢å¾\"\"\"\nimport  pymysql\nimport matplotlib.pyplot as plt\n# from matplotlib import font_manager\n \n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯UTF-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n#å°åç»æ°æ®å­è¿åè¡¨ä¸­\ncity=[]\nneed=[]\nfor x in result:\n    city.append(x[0])\n    need.append(x[1])\n    \n# ä¸ç§è®¾ç½®å­ä½çæ¹å¼\n# my_font = font_manager.FontProperties(fname=\"D:\\software\\python\\Anaconda3\\Library\\MyFonts\\GeiTangBuDaoDan.ttf\")\n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif']=['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(12, 5), dpi=120)\n# è®¾ç½®å»åº¦å­ä½å¤§å°\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\n\n#ç´æ¹å¾\nplt.bar(range(len(need)), need, color='r', tick_label=city)\n\nplt.xlabel(\"åå¸å\", fontsize=20)\nplt.ylabel(\"æ°é\", fontsize=20)\nplt.title(\"åå¸èä½éæ±å¾\", fontsize=20)\nfor  x,y in enumerate(need):\n    plt.text(x-0.4, y+0.4, '%s' % y)\nplt.show()\n\n\n# æ¡å½¢å¾ bar()\n\nç¹å»æ¥ç\n\n\"\"\"æ¡å½¢å¾ bar()\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# ç¤ºä¾\n# plt.bar(np.arange(2,5),np.arange(1,4),\n#         label=\"zt example\") \n# plt.bar([1,2,3],[2,4,1],label=\"tz example\", color='g')\n# plt.xlabel(\"this is x\")\n# plt.ylabel(\"this is y\")\n# plt.title(\"this is bar\")\n# plt.legend()\n# plt.show()\n\n\"\"\"å±ç¤º2017ç¥¨æ¿æ°æ®\"\"\"\n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif'] = ['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig = plt.figure(figsize=(8, 4), dpi=200)\n\nmovie_name = [\"æç¼2\",\"éåº¦ä¸æ¿æ8\",\"åå¤«çä¼½\",\"è¥¿æ¸¸ä¼å¦ç¯\",\"åå½¢éå5ï¼æåçéªå£«\",\"æè·¤å§ï¼ç¸ç¸\",\"å åæ¯æµ·ç5ï¼æ­»æ å¯¹è¯\",\"éåï¼éª·é«å²\",\"æéç¹å·¥ï¼ç»æåå½\",\"çåå±æº6ï¼ç»ç« \",\"ä¹é£ç ´æµª\",\"ç¥å·å¥¶ç¸3\",\"æºåå¨èå±±\",\"å¤§é¹å¤©ç«º\",\"éåç¼3ï¼æ®æ­»ä¸æ\",\"èèä¾ ï¼è±éå½æ¥\",\"æç©ºä¼ \",\"é¶æ²³æ¤å«é2\",\"æå£\",\"æ°æ¨ä¹ä¼\",]\nbox_office = [56.01,26.94,17.53,16.49,15.45,12.96,11.8,11.61,11.28,11.12,10.49,10.3,8.75,7.55,7.32,6.99,6.88,6.86,6.58,6.23]\ndf = pd.DataFrame( {\"çµå½±å\":movie_name, \"ç¥¨æ¿(åä½:äº¿)\":box_office} )\n# df\nx = range(df.shape[0]) # xè½´çåè¡¨\ny = box_office\n\n# bar()ç»å¶æ¡å½¢å¾,åªè½æ¥åå¯è¿­ä»£çæ°å­å¯¹è±¡\nplt.bar(x, y,\n    width = 0.4, # é»è®¤0.8\n    color = 'orange',\n    tick_label = y,\n    label = 'çµå½±', # ä¸ºè®¾ç½®å¾ä¾ä½åå¤\n    alpha = 0.9\n)\n# éè¿è®¾ç½®xticksä½¿æ°å­ä¸å­ç¬¦ä¸²å¯¹åº\nplt.xticks(x, df.iloc[:, 0], rotation=90)\n# è®¾ç½®æè¿°ä¿¡æ¯\nplt.title(\"2017å¹´çµå½±ç¥¨æ¿å±ç¤º\")\nplt.xlabel(df.columns[0])\nplt.ylabel(df.columns[1])\n# æ¾ç¤ºå¾ä¾\nplt.legend()\n    \nplt.show()\n\n\n# æ°´å¹³æ¡å½¢å¾ barh()\n\nç¹å»æ¥ç\n\n\"\"\"æ°´å¹³æ¡å½¢å¾ barh()\"\"\"\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\"\"\"å±ç¤º2017ç¥¨æ¿æ°æ®\"\"\"\nmovie_name = [\"æç¼2\",\"éåº¦ä¸æ¿æ8\",\"åå¤«çä¼½\",\"è¥¿æ¸¸ä¼å¦ç¯\",\"åå½¢éå5ï¼æåçéªå£«\",\"æè·¤å§ï¼ç¸ç¸\",\"å åæ¯æµ·ç5ï¼æ­»æ å¯¹è¯\",\"éåï¼éª·é«å²\",\"æéç¹å·¥ï¼ç»æåå½\",\"çåå±æº6ï¼ç»ç« \",\"ä¹é£ç ´æµª\",\"ç¥å·å¥¶ç¸3\",\"æºåå¨èå±±\",\"å¤§é¹å¤©ç«º\",\"éåç¼3ï¼æ®æ­»ä¸æ\",\"èèä¾ ï¼è±éå½æ¥\",\"æç©ºä¼ \",\"é¶æ²³æ¤å«é2\",\"æå£\",\"æ°æ¨ä¹ä¼\",]\nbox_office = [56.01,26.94,17.53,16.49,15.45,12.96,11.8,11.61,11.28,11.12,10.49,10.3,8.75,7.55,7.32,6.99,6.88,6.86,6.58,6.23]\ndf = pd.DataFrame( {\"çµå½±å\":movie_name, \"ç¥¨æ¿(åä½:äº¿)\":box_office} )\n# df\n\n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif'] = ['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig, ax = plt.subplots(figsize=(20, 16), dpi=80)\n\nx = np.arange(df.shape[0]) # xè½´çåè¡¨\ny = box_office\n\n# bar()ç»å¶æ¡å½¢å¾,åªè½æ¥åå¯è¿­ä»£çæ°å­å¯¹è±¡\nplt.barh(x, y,\n    height = 0.4,\n    color = 'orange',\n    label = 'çµå½±', # ä¸ºè®¾ç½®å¾ä¾ä½åå¤\n    alpha = 0.9,\n    align='center'\n)\n\n# plt.yticks(y, movie_name) # , rotation=90\nax.set_yticks(x)\nax.set_yticklabels(df.iloc[:, 0], minor=False, fontsize=16)\nax.invert_yaxis() # æ ç­¾è¯»åèªä¸èä¸labels read top-to-bottom\n# è®¾ç½®æè¿°ä¿¡æ¯\nax.set_title(\"2017å¹´çµå½±ç¥¨æ¿å±ç¤º\", fontsize=20)\nax.set_xlabel(df.columns[1], fontsize=20)\nax.set_ylabel(df.columns[0], fontsize=20)\n# æ¾ç¤ºå¾ä¾\nax.legend()\n    \nplt.show()\n\n\n\n# å­å¾\n\nç¹å»æ¥ç\n\n\"\"\"å­å¾\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n\n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯UTF-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncol_result = cursor.description  # è·åæ¥è¯¢ç»æçå­æ®µæè¿°\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif']=['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(20, 10), dpi=120)\nfig, axes = plt.subplots(1, 2)\n\n# ç¨æ°æ®åºæ¥è¯¢å°çæ°æ®åå»ºDataFrame\n# print(col_result)\ndf = pd.DataFrame(result, columns=[col_result[0][0], col_result[1][0]])\n\n# é¥¼å¾\nslices = df.iloc[:, 1]\nactivities = df.iloc[:, 0]\naxes[0].pie(slices,labels=activities,\n        startangle=90, # åå§è§åº¦\n        shadow= True, # é´å½±\n        textprops={'size': 'small'},\n#         colors=[], # è®¾ç½®é¢è²\n#         radius=1.6, # åå¾\n        explode=(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.05, 0), # çªåº\n        autopct='%1.2f%%') # \n\n# æ¡å½¢å¾\naxes[1].bar(df.iloc[:, 0], df.iloc[:, 1], color='pink')\n# axes[1].xt\n\nplt.title('åå¸èä½éæ±å¾')\nplt.show()\n\n\n\n# é¥¼å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç¬¬äºæ¬¡ä½ä¸  é¥¼å¾\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n\n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯UTF-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncol_result = cursor.description  # è·åæ¥è¯¢ç»æçå­æ®µæè¿°\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif']=['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(6, 4), dpi=120)\n\n# ç¨æ°æ®åºæ¥è¯¢å°çæ°æ®åå»ºDataFrame\n# print(col_result)\ndf = pd.DataFrame(result, columns=[col_result[0][0], col_result[1][0]])\n\n# é¥¼å¾\nslices = df.iloc[:, 1]\nactivities = df.iloc[:, 0]\nplt.pie(slices,labels=activities,\n        startangle=90, # åå§è§åº¦\n        shadow= True, # é´å½±\n        textprops={'size': 'small'},\n#         colors=[], # è®¾ç½®é¢è²\n#         radius=1.6, # åå¾\n        explode=(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.05, 0), # çªåº\n        autopct='%1.2f%%') # \n\nplt.title('åå¸èä½éæ±å¾')\nplt.show()\n\n\n\n# æçº¿å¾(å®æ´)\n\nç¹å»æ¥ç\n\n\"\"\"æçº¿å¾   (ç»åºä½ ååæ¡å¨11-25å²è°è¿çå¥³åæ°)  \"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# è®¾ç½®å­ä½\nplt.rcParams['font.sans-serif'] = ['LiSu']\nplt.rcParams['axes.unicode_minus'] = False\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig = plt.figure('Figure Object 1', # å¾å½¢å¯¹è±¡åç§°  çªå£å·¦ä¸è§æ¾ç¤º\n    figsize=(8, 4), # çªå£å¤§å°\n    dpi=80, # åè¾¨ç\n    facecolor = 'white',     # èæ¯è²\n)\n\n# xè½´åyè½´\nx = range(11, 31)\ny_1 = [1, 0, 1, 1, 2, 4, 3, 2, 3, 4, 4, 5, 6, 5, 4, 3, 3, 1, 1, 1]\ny_2 = [1, 0, 3, 1, 2, 2, 3, 3, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n\nplt.plot(\n    x,\n    y_1,\n    # æçº¿æ ·å¼\n    color='r',  # è®¾ç½®çº¿æ¡é¢è²\n    linestyle='--',  # çº¿æ¡é£æ ¼\n    linewidth=1,  # çº¿æ¡ç²ç»\n    alpha=0.5,  # éæåº¦\n    label='èªå·±',\n    # 6.æç¹æ ·å¼è®¾ç½®\n    marker='o', # æç¹å½¢ç¶\n    markersize='3', # æ ms --æç¹å¤§å°\n    markerfacecolor='black', # æ mfc --æç¹å®å¿é¢è²\n)\n\nplt.plot(\n    x,\n    y_2,\n    color='b',  # è®¾ç½®çº¿æ¡é¢è²\n    linestyle=':',  # çº¿æ¡é£æ ¼\n    linewidth=1,  # çº¿æ¡ç²ç»\n    alpha=0.5,  # éæåº¦\n    label='åæ¡',\n    # æç¹æ ·å¼è®¾ç½®\n    marker='*', # æç¹å½¢ç¶\n    markersize='6', # æ ms --æç¹å¤§å°\n    markerfacecolor='pink', # æ mfc --æç¹å®å¿é¢è²\n)\n\n# 8.æ åºæé«ç¹ (å ä¸ºæ¨ªçºµåæ æ²¡æå¿ç¶èç³»æä»¥æ¯è¾é¾æ´)\nzip1 = dict( zip(x, y_1) ) # ææ¨ªçºµåæ åä¸ºä¸ä¸ªå­å¸\n# æ¾åºæå¤§å¼åä¸æ \nfor key,value in zip1.items():\n    if(value == max(zip1.values())):\n        max_index1 = key\n        max_value1 = value\ndel zip1\nplt.plot(max_index1,max_value1,'ks')\ns = f\"({max_index1},{max_value1})\"\n# plt.annotate()å½æ°ç¨äºæ æ³¨æå­\nplt.annotate(s, xytext=(max_index1,max_value1), xy=(max_index1,max_value1)) # æ³¨éåå®¹ æ³¨éææ¬çåæ ç¹ è¢«æ³¨éçåæ ç¹ï¼äºç»´åç»å½¢å¦(x,y)\n####\nzip2 = dict( zip(x, y_2) ) # ææ¨ªçºµåæ åä¸ºä¸ä¸ªå­å¸\n# æ¾åºæå¤§å¼åä¸æ \nfor key,value in zip2.items():\n    if(value == max(zip2.values())):\n        max_index2 = key\n        max_value2 = value\ndel zip2\nplt.plot(max_index2,max_value2,'ks')\ns = f\"({max_index2},{max_value2})\"\n# plt.annotate()å½æ°ç¨äºæ æ³¨æå­\nplt.annotate(s, xytext=(max_index2,max_value2), xy=(max_index2,max_value2))\n\n\n# 4.è°æ´xåyè½´å»åº¦é´è·\n_xtick_labels = [\"{}å²\".format(i) for i in x]\nplt.xticks(x, _xtick_labels, rotation=45, fontsize=9)\nplt.yticks(range(0, 9))\n# 5.çº¿æ¡æ ·å¼ é¢è² éæåº¦\n# å ç½æ ¼ (éæåº¦)\nplt.grid(alpha=0.5, linestyle='--', linewidth=1)\n\n# 3.æè¿°ä¿¡æ¯(xè½´[yè½´.æ é¢]ä»£è¡¨ä»ä¹)\nplt.xlabel('å¹´é¾')\nplt.ylabel('äººæ°')\nplt.title(\"åå¿éè±å²æ\", fontsize=16)\n\nplt.legend(loc='best')\n\n# 2.ä¿å­å°æ¬å° (å¯è®¾ç½®æ ¼å¼(svgç¢éå¾))\n# plt.savefig(\"data/xxx.svg\")\n\n# 7.å¾çå æ°´å°\ndef add_watermark(x, y):\n    fig.text(x, y, 'å¯å·ç¯å®', # textçä½ç½®,åå®¹\n        fontsize=16, \n        color='gray',\n        ha='left', \n        va='top',\n        rotation=-45, #æè½¬è§åº¦\n        alpha=0.3,\n        bbox = dict(facecolor = \"#B0C4DE\", alpha = 0.05)) # å æ¡(æ¡ä½é¢è²,éæåº¦)\n    \nadd_watermark(0.5, 0.6)\nadd_watermark(0.5, 0.8)\nadd_watermark(0.2, 0.6)\nadd_watermark(0.2, 0.8)\nplt.show()\n",normalizedContent:"# åºç¡è¯­æ³\n\n\n# numpyå­¦ä¹ \n\n\n# ndarrayç±»å­¦ä¹ \n\nç¹å»æ¥ç\n\n# numpy åèæå https://www.numpy.org.cn/reference/\n\"\"\"ndarrayç±»å­¦ä¹  (å­æ¾åç±»ååç´ çå¤ç»´æ°ç»)\"\"\"\nimport numpy as np\n\n\"\"\"\nndarray.ndim - æ°ç»çè½´ï¼ç»´åº¦ï¼çä¸ªæ°ãå¨pythonä¸çä¸­ï¼ç»´åº¦çæ°éè¢«ç§°ä¸ºrankã\nndarray.shape - æ°ç»çç»´åº¦ãè¿æ¯ä¸ä¸ªæ´æ°çåç»ï¼è¡¨ç¤ºæ¯ä¸ªç»´åº¦ä¸­æ°ç»çå¤§å°ãå¯¹äºæ n è¡å m åçç©éµï¼shape å°æ¯ (n,m)ãå æ­¤ï¼shape åç»çé¿åº¦å°±æ¯rankæç»´åº¦çä¸ªæ° ndimã\nndarray.size - æ°ç»åç´ çæ»æ°ãè¿ç­äº shape çåç´ çä¹ç§¯ã\nndarray.dtype - ä¸ä¸ªæè¿°æ°ç»ä¸­åç´ ç±»åçå¯¹è±¡ãå¯ä»¥ä½¿ç¨æ åçpythonç±»ååå»ºææå®dtypeãå¦å¤numpyæä¾å®èªå·±çç±»åãä¾å¦numpy.int32ãnumpy.int16ånumpy.float64ã\nndarray.itemsize - æ°ç»ä¸­æ¯ä¸ªåç´ çå­èå¤§å°ãä¾å¦ï¼åç´ ä¸º float64 ç±»åçæ°ç»ç itemsize ä¸º8ï¼=64/8ï¼ï¼è complex32 ç±»åçæ°ç»ç itemsize ä¸º4ï¼=32/8ï¼ãå®ç­äº ndarray.dtype.itemsize ã\nndarray.data - è¯¥ç¼å²åºåå«æ°ç»çå®éåç´ ãéå¸¸ï¼æä»¬ä¸éè¦ä½¿ç¨æ­¤å±æ§ï¼å ä¸ºæä»¬å°ä½¿ç¨ç´¢å¼è®¿é®æ°ç»ä¸­çåç´ \n\"\"\"\n# order=\"c\" è¡ä¼å\n# arr1 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7]), offset=0, order=\"c\")\n# arr1\n\n# order=\"f\" åä¼å\n# arr2 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7]), offset=0, order=\"f\")\n# arr2\n\n# offset=8 bufferä¸­ç¨äºåå§åæ°ç»çé¦ä¸ªæ°æ®çåç§»  (å­èæ°çåç§» ndarray.itemsizeä¸º4 è®¾ç½®ä¸º8åç§»ä¸¤ä¸ªå¼)\narr3 = np.ndarray(shape=(2, 3), dtype = int, buffer=np.array([1,2,3,4,5,6,7,8]), offset=8, order=\"c\")\n# arr3.itemsize\narr3\n\n\n\n# np.arrayæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"\nnp.arrayåªæ¯ä¸ä¸ªä¾¿æ·çå½æ°,ç¨æ¥åå»ºndarray,\nå®æ¬èº«å¹¶ä¸æ¯ä¸ä¸ªç±»\n\"\"\"\nfrom numpy import *\n\narr4 = array(range(15)).reshape(3, 5)\n# arr4\n# print(arr4.t)\n# print(arr4.size)\n# print(arr4.itemsize)\n# print(arr4.ndim)\n# print(arr4.shape)\n# print(arr4.dtype)\n\n\"\"\"éè¿å¸¸è§ç±»ååå»ºarray\"\"\"\n# 1.éè¿tupleåå»ºarray\n# yuanzu = (4, 5, 6)\n# arr5 = array(yuanzu)\n# print(arr5)\n\n# 2.éè¿liståå»ºarray\n# pylist = [0, 1, 2]\n# arr6 = array(pylist)\n# print(arr6)\n\n# 3.æå»ºå¤ç»´çarray\n# pylist2 = [4, 5, 6]\n# arr7 = array( [pylist, pylist2] )\n# print(\"å¤ç»´æ°ç»:\\n\" + str(arr7))\n\n# 4.ç±»åèªå¨æ¨æ­\n# arr8 = array( [1, 2, 3.3] )\n# print(arr8)\n# arr8 = array( [\"1\", 2, 3] )\n# print(arr8)\n\n# 5.æç¡®æ°ç»ç±»å\n# arr9 = array([1, 3, 6, 9], dtype=float32)\n# arr9\narr9 = array(['1', 3, 6, 9], dtype=ubyte)\narr9\n\n\n\n# numpyæ°ç»åå»ºæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"numpyæ°ç»åå»ºæ¹æ³\"\"\"\n# from numpy import *\n\n# 1. å¨0æ°ç»\n# arr = zeros( (3, 4) ) # äºç»´å¨0æ°ç»\n# arr = zeros( (2,2,2) ) # ä¸ç»´å¨0æ°ç»\n\n# 1.1 å¨1æ°ç»\n# arr = ones( (2, 3) )\n\n# 1.2 åå§åå®¹æ¯éæºçï¼åå³äºåå­çç¶æ\narr = empty( (2, 3) )\n\n# 1.2 å¨xæ°ç»\n# arr = full( (2, 3), 6 )\n\n# 1.3 æ ¹æ®æ­¥é¿åå»ºæ°ç»arange(start, end, step)\n# arr = arange(0, 1, 0.1)\n\n# 2.ç­å·®æ°å\n# arr = linspace(0, 1, 10) # linspace(start, end, count, endpoint=true)\n# arr = linspace(0, 1, 10, endpoint=false)\n\n# 3.ç­æ¯æ°å\n# arr = logspace(0, 10, 1, base=2) # logspace(start, end, count, base=10)\n\narr\n\n\n\n# æå°æ°ç»\n\nç¹å»æ¥ç\n\n\"\"\"æå°æ°ç»\"\"\"\n# import sys\n# ä¸ç»´æ°ç»æå°ä¸ºè¡ï¼å°äºç»´æ°æ®æå°ä¸ºç©éµï¼å°ä¸ç»´æ°æ®æå°ä¸ºç©æ°ç»è¡¨\n# arr = arange(10000)\n\n# å¦ææ°ç»å¤ªå¤§èæ æ³æå°ï¼numpyä¼èªå¨è·³è¿æ°ç»çä¸­å¿é¨åå¹¶ä»æå°è§ç¹\n# arr.reshape(100, 100)\n# ç¦ç¨æ­¤è¡ä¸ºå¹¶å¼ºå¶numpyæå°æ´ä¸ªæ°ç» æ´æ¹æå°éé¡¹set_printoptions\n# set_printoptions(threshold=sys.maxsize)\n# arr.reshape(100, 100)\n\n\n\n# åºæ¬æä½ (æ°ç»åç´ çè¿ç®)\n\nç¹å»æ¥ç\n\n\"\"\"åºæ¬æä½ (æ°ç»åç´ çè¿ç®)\"\"\"\nimport numpy as np\n\na = np.array([10, 20, 30, 40, 50])\nb = np.array(np.arange(5))\nprint(\"%s%s\" % (\"æ°ç»a-æ°ç»b:\\t\",a - b)) # æ°ç»ç¸å\nprint(\"%s%s\" % (\"æ°ç»bç2æ¬¡æ¹:\\t\",b**2))\nprint(\"%s%s\" % (\"sin(a):\\t\", np.sin(a)))\nprint(\"%s%s\" % (\"æ°ç»a < 35\\t\",a < 35))\n\n\n\n# åºæ¬æä½ (ç©éµä¹ç§¯)\n\nç¹å»æ¥ç\n\n\"\"\"åºæ¬æä½ (ç©éµä¹ç§¯)\"\"\"\na = np.array( [[1,1], [0,1]] )\nb = np.array( [[2,0], [3,4]] )\n\nprint(\"ç©éµä¹ç§¯:\" + str(a @ b))\nprint(\"ç©éµä¹ç§¯:\" + str(a.dot(b)))\n\n\n\"\"\"\næäºæä½ï¼ä¾å¦+=å *=ï¼ä¼æ´ç´æ¥æ´æ¹è¢«æä½çç©éµæ°ç»èä¸ä¼åå»ºæ°ç©éµæ°ç»\n\"\"\"\na *= 0\na += 3\nb = np.random.random( (2, 2) )\nprint(b)\n# a += b # éè¦åä¸è½¬æ¢ typeerror: cannot cast ufunc add output from dtype('float64') to dtype('int32') with casting rule 'same_kind'\nb += a\nprint(\"b += a:\\n\" + str(b))\n\n\"\"\"ä¸åæä½\"\"\"\n# b.sum() # ææåç´ çå\n# b.min() # æå°çåç´ \n# b.max() # æå¤§çåç´ \n\n# b.sum(axis=0) # sum of each column\n# b.min(axis=1) # min of each row\n# b.cumsum(axis=1) # å¨æ¯ä¸è¡çç´¯ç§¯ cumulative sum along each row\n\n\"\"\"\néå½æ°\nnumpyæä¾çæçæ°å­¦å½æ°ï¼ä¾å¦sinï¼cosåexpãå¨numpyä¸­ï¼è¿äºè¢«ç§°ä¸ºâéå½æ°âï¼ufuncï¼ãå¨numpyä¸­ï¼è¿äºå½æ°å¨æ°ç»ä¸æåç´ è¿è¡è¿ç®ï¼äº§çä¸ä¸ªæ°ç»ä½ä¸ºè¾åº\n\"\"\"\n\n\n\n# å½¢ç¶æçºµ\n\nç¹å»æ¥ç\n\n\"\"\"å½¢ç¶æçºµ 0428\"\"\"\nimport numpy as np\n\n# æ¹åæ°ç»çå½¢ç¶\narr = np.floor(np.random.random( (3,4) ) * 10)\nprint(arr.shape)\nprint(arr)\n# arr.ravel() # returns the array, flattened\n# arr.t\n# arr.reshape(6, -2)\n\n# å°ä¸åæ°ç»å å å¨ä¸èµ·\narr1 = np.array([ [[1,2], [3,4]], [[5,6], [7,8]] ])\narr2 = np.array([ [[10,20], [30,40]], [[50,60], [70,80]] ])\n# np.vstack( (arr1, arr2) ) # æ²¿ç¬¬ä¸è½´[æ°´å¹³(æåé¡ºåº)]å å \n# np.row_stack( (arr1, arr2) )\n# np.hstack( (arr1, arr2) )   # æ²¿ç¬¬äºè½´[åç´(æç§è¡é¡ºåº)]å å \n# np.column_stack( (arr1, arr2) )\n## å¨å¤æçæåµä¸ï¼r_å c_äºéè¿æ²¿ä¸ä¸ªè½´å å æ°å­æ¥åå»ºæ°ç»å¾æç¨ãå®ä»¬åè®¸ä½¿ç¨èå´æä½ç¬¦(âï¼â)ã\n# np.r_[1:6, 0, 4]\n# np.r_[arr1, arr2]\n# np.c_[arr1, arr2]\n\n# å¤å¶å å   numpy.repeat(a, repeats, axis=none)\n# '''\n#     a(array_like): è¾å¥æ°ç»ã\n#     repeats(int or array of ints): æ¯ä¸ªåç´ çéå¤æ¬¡æ°ã éå¤æ­æ¾ä»¥éåç»å®è½´çå½¢ç¶\n#     axis(int, optional) éå¤å¼ææ²¿çè½´ãé»è®¤æåµä¸ï¼ä½¿ç¨å±å¹³çè¾å¥æ°ç»ï¼å¹¶è¿åå±å¹³çè¾åºæ°ç»ã\n# '''\n# np.repeat(a=3, repeats=4)\n# np.repeat(a=arr1, repeats=2)\n# np.repeat(a=arr1, repeats=2, axis=2)\n\n# '''title'''\n\n# å°ä¸ä¸ªæ°ç»æåæå ä¸ªè¾å°çæ°ç»\n# np.hsplit(arr1, (2,2))\n# a = np.array([np.arange(1,13), np.arange(1,13)*10])\n# np.hsplit(a, 3) # æ è®ºæ°ç»å°ºå¯¸å¦ä½ï¼æ°ç»å§ç»æ²¿ç¬¬äºè½´åå²\n# np.hsplit(a, (3, 6, 9)) # (ç¬¬äºä¸ªåæ°æ¯ååçå??? 012 345 678 9-)\n# np.vsplit(a, 2) # è¯¥éµåè¢«å§ç»æ²¿ç¬¬ä¸è½´çº¿åè£ä¸ç®¡éµåçå°ºå¯¸\n# '''split split(array, splits,axis=1) å°æ°ç»æåä¸ºå¤§å°ç¸ç­çå¤ä¸ªå­æ°ç»\n#     numpy.array_splitï¼aryï¼indexs_or_sectionsï¼axis = 0 ï¼\n#     array_splitåè®¸ indices_or_sectionsæ¯æ´æ°ï¼å®ä¸å¹³åè½´ãå¯¹äºåºåä¸ºnä¸ªé¨åçé¿åº¦ä¸ºlçæ°ç»ï¼å®è¿åå¤§å°ä¸ºl // n + 1çlï¼nä¸ªå­æ°ç»ï¼å¶ä½å¤§å°ä¸ºl // n\n# '''\n# np.array_split(ary=arr1, indices_or_sections=2, axis= 2)\narr3 = np.array([arr, arr*10])\nprint(\"arr3:\\n\" + str(arr3))\n# np.split(ary=arr3, indices_or_sections=arr3.shape[0], axis=0)\n\n\n\n# ç´¢å¼ãåçåè¿­ä»£\n\nç¹å»æ¥ç\n\nimport numpy as np\n\"\"\"ç´¢å¼ãåçåè¿­ä»£\"\"\"\n'''\nä¸ç»´çæ°ç»å¯ä»¥è¿è¡ç´¢å¼ãåçåè¿­ä»£æä½çï¼å°±å åè¡¨ åå¶ä»pythonåºåç±»åä¸æ ·ã\n'''\narr = np.arange(12)**3\nprint(arr[5]) # ç´¢å¼\nprint(arr[0:12:2]) # åç\n# è¿­ä»£\nfor i in arr:\n    print(i, end=\" \")\n\n'''\nå¤ç»´çæ°ç»æ¯ä¸ªè½´å¯ä»¥æä¸ä¸ªç´¢å¼ãè¿äºç´¢å¼ä»¥éå·åéçåç»ç»åºï¼\n'''\narr = arr.reshape( (3,4) )\nprint(\"ç¬¬ä¸è¡ç¬¬ä¸ä¸ªåç´ :\" + str(arr[2, 0])) # ç´¢å¼\n\n# -1å¯¹åºäºç»´æ°ç»éçä¸ç»´è¯´çï¼ä½ä¸åå«æåä¸ä¸ªä¸ç»´æ°ç»ï¼-2å¯¹åºä¸ç»´æ°ç»éçåç´ ï¼ä¸åå«æ¯ä¸ªä¸ç»´æ°ç»æåä¸¤ä¸ª\nprint(arr[:-1,:-2]) # åç\n# è¿­ä»£\nfor elem in arr.flat:\n    print(elem, end=\" \")\n    \narr\n\n\n\n# æ·±å¥:\n\nç¹å»æ¥ç\n\n\"\"\"æ·è´åè§å¾\"\"\"\n# å®å¨ä¸å¤å¶\n# è§å¾ææµæ·è´\n# æ·±æ·è´\n\"\"\"lessåºç¡ å¹¿æ­ï¼broadcastingï¼è§å\"\"\"\n\"\"\"è±å¼ç´¢å¼åç´¢å¼æå·§\"\"\"\n# ä½¿ç¨ç´¢å¼æ°ç»è¿è¡ç´¢å¼\n# ä½¿ç¨å¸å°æ°ç»è¿è¡ç´¢å¼\nimport numpy as np\nimport matplotlib.pyplot as plt\ndef mandelbrot( h,w, maxit=20 ):\n    \"\"\"ç¨å¸å°ç´¢å¼çæmandelbrotéçå¾åï¼\"\"\"\n    \"\"\"returns an image of the mandelbrot fractal of size (h,w).\"\"\"\n    y,x = np.ogrid[ -1.4:1.4:h*1j, -2:0.8:w*1j ]\n    c = x+y*1j\n    z = c\n    divtime = maxit + np.zeros(z.shape, dtype=int)\n\n    for i in range(maxit):\n     z = z**2 + c\n     diverge = z*np.conj(z) > 2**2            # who is diverging\n     div_now = diverge & (divtime==maxit)  # who is diverging now\n     divtime[div_now] = i                  # note when\n     z[diverge] = 2                        # avoid diverging too much\n\n    return divtime\nplt.imshow(mandelbrot(400,400))\nplt.show()\n\n# ix_()å½æ°\n# ä½¿ç¨å­ç¬¦ä¸²å»ºç«ç´¢å¼\n\"\"\"çº¿æ§ä»£æ° ç®åæ°ç»æä½\"\"\"\n\"\"\"âèªå¨âæ´å½¢\"\"\"\n\"\"\"ç¢éå å \"\"\"\n\n\n\n# æ·±å¥: ç´æ¹å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç´æ¹å¾\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\n# build a vector of 10000 normal deviates with variance 0.5^2 and mean 2\nmu, sigma = 2, 0.5\nv = np.random.normal(mu,sigma,10000)\n# plot a normalized histogram with 50 bins\nplt.hist(v, bins=50, density=1)       # matplotlib version (plot)\nplt.show()\n\n# compute the histogram with numpy and then plot it\n(n, bins) = np.histogram(v, bins=50, density=true)  # numpy version (no plot)\nplt.plot(.5*(bins[1:]+bins[:-1]), n)\nplt.show()\n\n\n\n# é:åå»ºä¸ä¸ª3*3 çæ°ç»æ¹æ³\n\nç¹å»æ¥ç\n\nimport numpy as np\n\n# åå»ºä¸ä¸ª3*3 çæ°ç», ä¸åä»£ç éè¯¯çæ¯\n# a:np.arange(9).reshape(3,3)\n# b:np.eye(3)\n# c:np.random.random([3,3,3])\n# d:np.mat(\"1 2 3;4 5 6;7 8 9\")\n# æ­£ç¡®ç­æ¡:c\n\n# arr = np.arange(9).reshape(3,3)\n# arr = np.eye(3) # çæå¯¹è§ç©éµ\narr = np.random.random([3,3,3])\n# arr = np.mat(\"1 2 3;4 5 6;7 8 9\")\n\nprint(arr.shape)\narr\n\n\n\n# pandasï¼ä¸¤ç§æ°æ®ç»æå­¦ä¹ ï¼\n\n\n# 1.series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ \n\nç¹å»æ¥ç\n\n\"\"\"pandas ç®ä»:https://www.pypandas.cn/docs/getting_started/ \"\"\"\nimport pandas as pd\nimport numpy as np\n\n\"\"\"series(ä¸ç»´æ è®°æ°ç»)å­¦ä¹ \"\"\"\n\n# obj = pd.series([1, 3, 5, np.nan, 6, \"ai\"])  # é»è®¤ä¸æ 0123\nobj = pd.series([1, 2, 3, 4, 5], index=['d', 'b', 'a', 'c', 'e']) \n\n# obj\n# obj.values # è¿åseriesçå¼ ä¸ºndarrayç±»å\n# obj.index # è¿åç´¢å¼åç§°\n\n'''seriesç´¢å¼'''\n# 1.ç±»ä¼¼numpyç´¢å¼æ¹å¼\n# obj[2:6:2]\n\n# 2.indexåç§°ç´¢å¼\n# obj[\"a\"] # åä¸ª\n# obj[ [\"a\", \"d\", \"e\"] ] # ç´¢å¼å¤ä¸ªå¼,éè¦ä¼ å¥åç§°åè¡¨\n# obj[\"a\":\"c\"] # åæ¬\"c\"\n\n# 3.éè¿å¸å°è¡¨è¾¾å¼ç´¢å¼\n# obj[obj>=3]\n\n'''seriesèµå¼'''\n# 1.åä¸ªå¼èµå¼\n# obj[2] = 9\n\n# 2.å¤ä¸ªå¼èµå¼\n# obj[0:2] = [-9, -6]\n\n# 3.éè¿å¸å°è¡¨è¾¾å¼èµå¼\nobj[obj<3] = 0\n\nobj\n\n\n\n# 2.dataframe(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ \n\n# åå»º\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\"\"\"\n    dataframe( data, index, columns, dtype, copy)(äºç»´æ è®°æ°æ®ç»æ)å­¦ä¹ \n    1. åseriesä¸æ ·å¯ä»¥æ¥æ¶å¤ç§è¾å¥:listsãdictsãseriesådataframeç­\n    2.åå§åå¯¹è±¡æ¶,é¤äºæ°æ®è¿å¯ä»¥ä¼ indexåcolumnsè¿ä¸¤ä¸ªåæ°\n    é:å¯ä»¥ædataframeæ³è±¡æä¸ä¸ªçµå­è¡¨æ ¼ï¼å®ç±è¡åï¼indexï¼ãåå(columns)åæ°æ®(values)ç»æã\n\"\"\"\n\n# 1.æ ¹æ®å­å¸æ°å»ºdataframe\n# data = {\n#     'column_a':[1, 2, 3],\n#     'column_b':[4, 5, 6],\n#     'column_c':[7, 8, 9]\n# }\n# df = pd.dataframe(data, index=['r1', 'r2', 'r3'])\n\n# 1.2.æ ¹æ®åµå¥å­å¸æ°å»ºdataframe\n# data = {\n#     'c1':{'r1':111, 'r2':122},\n#     'c2':{'r1':211, 'r2':222}\n# }\n# df = pd.dataframe(data)\n\n# 2. æ ¹æ®åè¡¨åå»ºdataframe\n# data = [\n#     [1111, 2222, 3333],\n#     [111, 222, 333],\n#     [11, 22, 33],\n#     [1, 2, 3]\n# ]\n# df = pd.dataframe(data, columns=['c1', 'c2', 'c3'], index=['r1', 'r2', 'r3', 'r4'])\n\n# 3. dataframe å ndarray äºæä½\n# 3.1 ç¨ndarrayæé dataframe\nnarr = np.array([\n    [11, 22, 33, 44, 55], \n    [1.1, 2.2, 3.3, 4.4, 5.5]\n])\ndf = pd.dataframe(narr, columns=['c1', 'c2', 'c3', 'c4', 'c5'], index=['r1', 'r2'])\n# 3.2 ç¨dataframeæé ndarray\n## narr2 = np.array(df)\n# narr2 = df.values\n# print(narr2)\n\n### end.è¾åº\n# print(df.index)\n# print(df.columns)\n# print(df.values) # è¿åå¼ä¸ºndarrayç±»å\n# print(df.values.shape)\n# print(df.index.shape)\ndf\n\n\n# dataframeå¼ç´¢å¼\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\n\"\"\"dataframeå¼ç´¢å¼\"\"\"\n\n\ndata = [\n    [1111, 2222, 3333],\n    [111, 222, 333],\n    [11, 22, 33],\n    [1, 2, 3]\n]\ndf = pd.dataframe(data, columns=['c1', 'c2', 'c3'], index=['r1', 'r2', 'r3', 'r4'])\n\n# 1.åç´¢å¼(dataframe[column_name],è¿åå¯¹åºåçææå¼)\n# df['c1']\n\n# 2. è¡ç´¢å¼(dataframe.ix[index_name],è¿åå¯¹åºè¡çææå¼ãè¿åå¼ç±»åä¸ºseriesã)\n# df.ix['r1'] # æ³¨æè¿éæ¯ä¸­æ¬å·,ä¸æ¯å½æ°??? (è¢«å¼ç¨????)\n\n# 3.dataframe.loc[index_nameï¼column_name],è¿åå¯¹åºåç´ ã\n# df.loc['r1'] # è¡ç´¢å¼\n# df.loc[:, 'c1'] # åç´¢å¼\n# df.loc['r1', 'c1']\n# df.loc[ ['r1', 'r3'] ] # è¿åå¼ä¸ºdataframeã\n# df.loc['r1': 'r3', 'c2'] # åç åæ¬èµ·å§åç»æ\n# df.loc[ df['c1']>100, ['c2'] ] # ææ¡ä»¶çè¿åå¸å°åºå + æå®å\n# df[df>100] # boolå¼çç´¢å¼æ¹æ³\n\n# 3.1 è®¾å®å¼ (å®è´¨ä¸æ¯ç»ç´¢å¼èµå¼??)\n# df.loc[df['c1']>100, ['c2'] ] = 2000\n# df\n\n# 4.dataframe.iloc[xï¼y],è¿åå¯¹åºåç´ ã\n    # åæ°(æ´æ° # df.iloc[0] # æ´æ°  å·ææ´æ°çåçå¯¹è±¡,ä¾å¦1:7  å¸å°æ°ç»  ä¸ä¸ªcallableå¸¦æä¸ä¸ªåæ°çå½æ°ï¼è°ç¨seriesædataframeï¼)\n# df.iloc[0] # æ´æ°\n# df.iloc[ [0, 1] ] # df.iloc[0] # æ´æ°\n# df.iloc[ 0:3:2 ] # åçå¯¹è±¡\n# df.iloc[[true, false, true, true]] # å¸å°æ©ç ä¸ç´¢å¼çé¿åº¦ç¸å\n\n# df = pd.dataframe(data, columns=['c1', 'c2', 'c3'])\n# df.iloc[lambda x: x.index % 2 == 0]\n\n\n# å±æ¬¡åç´¢å¼ä¸unstack\n\nç¹å»æ¥ç\n\n\"\"\"å±æ¬¡åç´¢å¼ä¸unstack\"\"\"\n\"\"\"\nå±æ¬¡åç´¢å¼å¯ä»¥å¨ä¸ä¸ªè½´ä¸æ¥æå¤ä¸ªç´¢å¼çº§å«ãä¹å°±æ¯ä»¥ä½ç»´åº¦å½¢å¼å¤çé«ç»´åº¦æ°æ®ã\nunstack()å½æ°å¯ä»¥å°å±æ¬¡åseriesè½¬æ¢æé«ç»´çdataframeã\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndata = pd.series(np.random.randn(10), index=[['a', 'a', 'a', 'b', 'b', 'b', 'c', 'c', 'd', 'd'], [1, 2, 3, 1, 2, 3, 1, 2, 2, 3]])\n# data # ä¸¤å±ç´¢å¼\ndata.unstack()\n\n\n# dataframeå å \n\nç¹å»æ¥ç\n\n\"\"\"dataframeå å  (shapeç¸å)  [dataframeè¡¨æè¡ååæ ç­¾ï¼å æ­¤å å æ¶shapeå¯ä»¥ä¸ä¸è´]\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf = pd.dataframe(np.array([[1,2,3],[4,5,6]]), index=['â°', 'â±'])\ndf2 = pd.dataframe(np.array([[10,20,30],[40,50,60]]), index=['â°', 'â±'])\n\n# concat([pd1,pd2],axis=0,ignore_index=false)\n# print( pd.concat([df, df2]) )\n# pd.concat([df, df2], ignore_index=false) # çºµåå å æ¶ï¼å¿½ç¥ç´¢å¼å\npd.concat([df, df2], axis=1)# æ¨ªåå å \n\n# frame = pd.dataframe({'b': [4, 7, -3, 2], 'a': [0, 1, 0, 1]})\n# print('å¼æåº1  :\\n',   frame.sort_index(by='b', axis=0))\n# frame\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) éæ°ç´¢å¼(reindex)\"\"\"\n\"\"\"\n    åæ°dataframe.reindex(self, \n                labels=none, index=none, columns=none, axis=none, \n                method=none, copy=true, level=none, fill_value=nan, limit=none, tolerance=none)\n\"\"\"\nimport pandas as pd\n\ndf = pd.dataframe(np.array([[1,2,3],[4,5,6]]), index=['â°', 'â±'], columns=['a', 'b', 'c'])\ndf.reindex(index=['â°', 'â±', 'â²'], columns=['a', 'b', 'c', 'd'], fill_value=0 )\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop)\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(äº) ä¸¢å¼å¼(drop) [â°, â±, â², â³, â´, âµ, â¶, â·, â¸, â¹]\"\"\"\n\"\"\"\n    åæ°dataframe.drop(self, labels=none, axis=0, index=none, \n    columns=none, level=none, inplace=false, errors='raise')\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.dataframe(np.array([[1,2,3],[4,5,6], [7,8,9], [np.nan,10,np.nan]]), \n                  index=['â°', 'â±', 'â²', 'â³'], columns=['a', 'b', 'c'])\n# df.drop(index='â²', axis=0) # å é¤è¡ (è¿åæ°å¯¹è±¡)\n# df.drop(columns='b', axis=1) # å é¤å (è¿åæ°å¯¹è±¡)\n# åæ° dataframe.dropna(self, axis=0, how='any', thresh=none, subset=none, inplace=false)\n# df.dropna() # æ¸é¤æç©ºå¼(nan)çè¡\ndf.dropna(how='all') # æ¸é¤å¨ä¸ºç©ºçè¡(axis=1çå)\ndf.dropna(subset=['åå'],inplace=true)  # æåä¸ºç©ºå é¤è¿ä¸è¡\n# df\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(ä¸) ç®æ¯æ¹æ³\"\"\"\n\"\"\"\n    åæ°:add(self, other, axis='columns', level=none, fill_value=none)\n    sub(self, other, axis='columns', level=none, fill_value=none)\n    div(self, other, axis='columns', level=none, fill_value=none)\n    sub(self, other, axis='columns', level=none, fill_value=none)\n\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf = pd.dataframe(np.arange(4).reshape((2,2)), columns=list('ab'))\ndf2 = pd.dataframe(np.arange(6).reshape((2,3)), columns=('â°', 'â±', 'â²'))\n# df + df2\n# df.add(df2)\ndf.add(10)\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(å) ç´¢å¼æåº\"\"\"\n\"\"\"\n    dataframe.sort_index(self, axis=0, level=none, ascending=true, inplace=false, \n        kind='quicksort', na_position='last', sort_remaining=true, ignore_index: bool = false)\n\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.dataframe(np.array([[1,2,3], [7,8,9], [4,5,6], [np.nan,5.5,np.nan]]), \n                  index=['â²', 'â³', 'â°', 'â±'], columns=['b', 'a', 'c'])\n# print(df)\n# df.sort_index() # æç´¢å¼æåº\n# df.sort_index(by=['a', 'b']) # ä¸æ¨èä½¿ç¨sort_indexçåæ°ï¼è¯·ä½¿ç¨.sort_valuesï¼by = ...ï¼\n# df.sort_index(axis = 1, ascending=false) # æç§åç´¢å¼åéåºæåº\ndf.sort_index(axis = 0, ascending=false)\n# df.sort_values(by=[ 'a']) # æå¼æåº\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(å¾è¡¥å)\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(äº) æè¿°åæ±æ»ç»è®¡(è¡¥å)\"\"\"\nimport pandas as pd\n\ndf = pd.dataframe({'b': [4, 7, -3, 2], 'a': [0, 1, 0, 1]})\ndf.cov() # åæ¹å·®è®¡ç®æ¹æ³ï¼serieséè¦éè¿åæ°ä¼ å¥\ndf.corr() # ç¸å³ç³»æ°è®¡ç®æ¹æ³ï¼serieséè¦éè¿åæ°ä¼ å¥\n\n\n# dataframeå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å\n\nç¹å»æ¥ç\n\n\"\"\"dataframeå¸¸ç¨å½æ°ä»ç»(å­) ç¼ºå¤±å¼å¡«å\"\"\"\nimport pandas as pd\nimport numpy as np\n\ndf = pd.dataframe(np.array([[1,2,3], [7,8,9], [4,5,6], [np.nan,5.5,np.nan]]), \n                  index=['â²', 'â³', 'â°', 'â±'], columns=['b', 'a', 'c'])\n# print(df)\n# df.fillna(0) # å¨å¡«ä¸º0\n# df.fillna({'b':666, 'c':999}) # åæ°ä¸ºå­å¸ç±»å ä¸ååå¡«åä¸åå¼\ndf.fillna(df.mean()) # åå¹³åå¼å¡«ååå¯¹åºçnanå¼\n\n\n# pandasæä»¶è¯»å\n\nç¹å»æ¥ç\n\n\"\"\"æä»¶è¯»å\"\"\"\nimport pandas as pd\n\n# filepath = 'data\\music.csv'\nfilepath = 'data\\sales-å¯æ¬.csv' # å«ä¸­æçæä»¶ 65è¡\n\n# 1.read_csvæ¹æ³\ndf = pd.read_csv(filepath, \n                 encoding='gbk', \n                 names=['åç¥¨id', 'éå®æ¥æ', 'æ»éé¢', 'æ¯ä»éé¢', 'æ¶é¶å'], # æå®åå,ä¸ä½¿ç¨ç¬¬ä¸è¡ä½ä¸ºåå\n                 skiprows=[0], # å¿½ç¥æå®å\n#                  na_values=['null'], # æ¾ç¤ºç©ºå¼\n#                  nrows=12, # æä»¶å¤§æ¶ è®¾ç½®è¯»åè¡\n#                  chunksize=4 # æ¯æ¬¡è¯»å4è¡\n                ) \n\n# 1.1ä½¿ç¨chunksize=4åæ°,è¯»ååçæ°æ®ç±»åä¸ºtextfilereader\n# for ele in df:\n#     print(ele)\n\n# 2.read_tableæ¹æ³\n# df = pd.read_table(filepath, sep=',', encoding='gbk')\n# print(\"dataframeçå½¢ç¶\" + str(df.shape))\ndf\n\n# df.fillna(\"ç©ºå¼\")\n\n\n# pandasæä»¶åå¥\n\nç¹å»æ¥ç\n\n\"\"\"æä»¶åå¥\"\"\"\nimport pandas as pd\nimport numpy as np\n# import sys\n\ndf = pd.dataframe([\n    ['nan', 88, 66, 55, 39],\n    [53, 52, 86, 66, np.nan],\n    [21, 98, 68, 'null', 99]\n])\n# df\nfilepath = 'data\\pfile_test.csv'\ndf.to_csv(filepath, # sys.stdout, # è¾åºå°æ§å¶å°\n          na_rep='non', # å­å¨ç©ºå¼\n          sep='\\t', # è®¾ç½®åéç¬¦\n          index=false, # ä¸å­å¨ç´¢å¼(index)\n          header=false, # ä¸å­å¨åå\n#           columns=[0, 1] # è®¾ç½®åªä¿å­ æäºå\n         )\n\n\n# pandasåå¹¶xlsæä»¶\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport os\n\nfile_path = \"d:\\\\software\\\\pythonprojects\\\\weibospider\\\\weibospider\\\\spiders\\\\data\\\\weibo\"\nfile_list = [f\"{file_path}\" + i for i in os.listdir(file_path)]'\n\nli=[]\nfor i in file_list:\n    li.append(pd.read_excel(i))\nwriter = pd.excelwriter(f'{file_path}\\å¾®å.xlsx')\npd.concat(li).to_excel(writer,'sheet1',index=false)\n \nwriter.save()\n\n\n\n# pandasæ°æ®åå¹¶ãæ¸æ´\n\n\n# mergeå½æ° é»è®¤åè¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\"\"\"mergeå½æ° é»è®¤åè¿æ¥\"\"\"\n\n\"\"\"1.åè¿æ¥(é»è®¤) how = 'inner'\"\"\"\n# 1.1 æ ç¸ååå åè¿æ¥\n# df1 = pd.dataframe({'key':['b','b','a','c'], 'data1':range(4)})\n# df2 = pd.dataframe({'key':['a','b','d'], 'data2':range(3)})\n# df3 = pd.merge(df1, df2, on = 'key', how = 'inner')\n\n# 1.2 æ²¡æååå (ç¸å½äºæåæ°on= åä¸º left_on å right_onä¸¤ä¸ªåæ°)\ndf1 = pd.dataframe({'key1':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.dataframe({'key2':['a','b','d'], 'data1':range(3)})\ndf3 = pd.merge(df1, df2, left_on='key1', right_on='key2')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# å¤è¿æ¥\n\n# å¤è¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n\"\"\" 2.å¤è¿æ¥ \"\"\"\n''' 1.how  2.å¤åè¿æ¥on=[] 3.åºåç¸åååsuffixes= 4.ç´¢å¼åè¿æ¥right_index=true'''\n# 2.1.1  how = 'outer'\ndf1 = pd.dataframe({'key': ['b', 'b', 'a', 'c'],'data1': range(4)})\ndf2 = pd.dataframe({'key': ['a', 'b', 'd'],'data2': range(3)})\ndf3 = pd.merge(df1,df2,how='outer')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# å¤åè¿æ¥on=[]\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.1.2 å¤åè¿æ¥on=[]\ndf1 = pd.dataframe({'k1': ['a', 'a', 'b'], 'k2': ['a', 'b', 'a'], 'lval': [1, 2, 3]})\ndf2 = pd.dataframe({'k1': ['a', 'a', 'b', 'b'], 'k2': ['a', 'a', 'a', 'b'], 'rval': [4, 5, 6, 7]})\ndf3 = pd.merge(df1, df2, how='outer',on= ['k1', 'k2'])\n\n# 2.1.3 éè¿æ¥åæéåæ¶æå®åç¼\n# df3 = pd.merge(df1, df2, how='outer',on='k1', suffixes=['_x', '_y'])\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# å·¦è¿æ¥ how = 'left'\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.2\ndf1 = pd.dataframe({'key':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.dataframe({'key':['a','b','d'], 'data2':range(3)})\n# 2.2 å·¦è¿æ¥ how = 'left'\ndf3 = pd.merge(df1, df2, on = 'key', how = 'left')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n# how = 'right'\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\n# 2.2\ndf1 = pd.dataframe({'key':['b','b','a','c'], 'data1':range(4)})\ndf2 = pd.dataframe({'key':['a','b','d'], 'data2':range(3)})\n\n# 2.3 å³è¿æ¥ how = 'right'\ndf3 = pd.merge(df1, df2, on = 'key', how = 'right')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n# 2.4.1 ç¨è¡¨çè¡ç´¢å¼åä½ä¸ºè¿æ¥\ndf1 = pd.dataframe({'key': ['a', 'b', 'a', 'c'],'value': range(4)})\ndf2 = pd.dataframe({'val': [4, 9]}, index=['a', 'b']) \ndf3 = pd.merge(df1, df2, left_on='key', right_index=true, how='outer')\ndf3 = pd.merge(df1, df2, left_on='key', right_index=true, how='outer')\n\n# print(f\"{df1}\\n{df2}\")\ndf3\n\n\n\n# joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥\n\nç¹å»æ¥ç\n\nimport pandas as pd\n\"\"\"joinå½æ°(ä¸ºmergeçç¹ä¾) é»è®¤å¤è¿æ¥\"\"\"\n\ndf1 = pd.dataframe({'key1': ['b', 'b', 'a', 'c'],'data1': range(4)})\ndf2 = pd.dataframe({'key2': ['a', 'b', 'd'],'data2': range(3)})\n\n# ä¸¤ç§æ¹å¼ç¸å½\nprint(pd.merge(df1, df2,left_index=true, right_index=true))\ndf1.join(df2, how='inner')\n\n\n\n# combine_firstå½æ° ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\n\n\n\"\"\"combine_firstå½æ°  ä»¥ä¸ä¸ªä¸ºåºå,å¦ä¸ä¸ªè¿è¡è¡¥å\"\"\"\ndf1 = pd.dataframe(np.arange(6).reshape((2, 3)),index=['a','b'])\ndf2 = pd.dataframe(np.arange(6).reshape((3, 2)),index=['a','b','c'])\n\n# ä½ä¼ä¸¤èçåºå«\nprint(df1.combine_first(df2)) # df1å¼ä¸ºnançä½ç½®ï¼ç±df2æ¥å¡«å\ndf2.combine_first(df1) # ä»¥df2ä¸ºåï¼ç¨df1è¡¥ç©º\n\n\n\n# å¾è¡¥å\n\nç¹å»æ¥ç\n\n\"\"\"\npd.concatä¸np.concatenateå¯¹æ¯\npd.concatä¸pd.mergeä¸join\nconcatå¿½ç¥ç´¢å¼\n\"\"\"\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(ä¸) å¼æ¿æ¢\"\"\"\n\nimport numpy as np\nimport pandas as pd\n\"\"\"æ°æ®æ¸ç--å¼æ¿æ¢\"\"\"\n\n''' 1. df.fillna()æ¹æ³[å¯¹nanå¼è¿è¡å¡«å] '''\ndf =  pd.dataframe([[1,np.nan,2,0], [np.nan, np.nan, np.nan, np.nan,], [3, np.nan,5,6]])\nprint(df) # æå°åå§å¼\n\n# 1.1 å¨é¨å¡«åä¸º0\n# df.fillna(0)\n\n# 1.2 å¡«åä¸ºåå¹³åå¼\n# df.fillna(df.mean())\n\n# 1.3 ä¸ååéç¨ä¸åå¡«å\n# df.fillna({0:0.0, 1:1.1, 2:2.2, 3:3.3})\n\n''' \n2.df.replace()æ¹æ³,å¯¹ä¸åå¼(æ¯å¦0, -1, nan)è¿è¡å¡«å \n    é:df.replace(np.nan, 0) ç¸å½äº df.fillna(0)\n'''\n# 2.1 æå¤ä¸ªå¼[np.nan, 0] æ¿æ¢ä¸º -1\n# df.replace([np.nan, 0], -1)\n\n# 2.2 æå¤ä¸ªå¼ æ¿æ¢ä¸º å¤ä¸ªå¼\ndf.replace([np.nan, 0], [0, -1])\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) å»éå¤å¼\"\"\"\nimport numpy as np\nimport pandas as pd\n\ndf1 = pd.dataframe({'k1': ['a','a','b','c','c','c','a'], 'k2': [1, 1, 2, 3, 3, 4, 6]}) \n# print(df1)\n\n# 1 duplicated()å½æ° [æ¾åºéå¤è®°å½]\n# df1.duplicated()\n# 2.1 drop_duplicates()å½æ° [ç´æ¥åé¤å¯¹åºçéå¤è®°å½]\n# df1.drop_duplicates()\n# 2.2ä»¥åä¸ºåä½æ¯è¾æ¯å¦å­å¨éå¤è®°å½[é»è®¤è¡ä¸ºåä½]\ndf1.drop_duplicates(['k1', 'k2'])\n\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(ä¸) ç´¢å¼éå½å\"\"\"\nimport pandas as pd\n\n# 1.df.rename(index={},columns={})æ¹æ³\ndf1 = pd.dataframe([[1111, 2222, 3333, 4444], [111, 222, 333, 444], [11, 22, 33, 44]])\n# print(df1)\n\ndf1.rename(index={0:'row_1', 1:'row_2', 2:'row_3'}, columns={0:'col_1', 1:'col_2', 2:'col_3', 3:'col_4'})\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(å) æ°æ®è½¬æ¢\"\"\"\nimport pandas as pd\n\n'''å½æ°è½¬æ¢ map(func)å½æ°'''\n# 1. æ¿æ¢fillna replace(è§åé¢)\n# 2. map(func)å½æ° [åé¨å¼è¿è¡å½æ°è½¬æ¢ãå¦ç»ä¸å­ç¬¦çå¤§å°åç­]\ndf1 = pd.dataframe({\"course\":[\"chinese\", \"math\", \"english\", \"physics\" , \"chemistry\", \"biologic\"], \n                    \"score\":[96, 94, 92, 62, 45, 60]})\n# 2.1ç¬¬ä¸åè½¬æ¢ä¸ºé¦å­æ¯å¤§å\n# df1['course'] = df1['course'].map(str.title) # upper\n\n'''æ å°è½¬æ¢ map(func)å½æ°'''\n# 1.æ ¹æ®å­å¸çæ å°è¿è¡ç¸åºè½¬æ¢\ncourse = {\"chinese\":\"è¯­æ\", \"math\":\"æ°å­¦\", \"english\":\"è±è¯­\", \"physics\":\"ç©ç\", \"chemistry\":\"åå­¦\", \"biologic\":\"çç©\"}\ndf1['course'] = df1['course'].map(course)\n\ndf1\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± æå®ååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\nimport pandas as pd\nimport numpy as np\n\n\"\"\"\n    æ°å¼ç±»å  1.è¿ç»­å¼:ä¸å®åºé´å¯è¿ç»­åå¼(æ¯å¦å¤©æ°çæ¸©åº¦)  2.ç¦»æ£å¼:æä¸å®é¡ºåºä¸ä¸åä¸¾(æ¯å¦'å¤äº','æ´å¤©','é¨å¤©','é´å¤©')\n    categoricals:  1.æ¯ pandas çä¸ç§æ°æ®ç±»å,æ¯ç±åºå®çä¸æéæ°éçç¦»æ£åéç»æç 2.ä¸è½æåº(sort_by): é¡ºåºæ¯åå»ºæ¶æå·¥è®¾å®çï¼æ¯éæç\n\"\"\"\n\n'''æå®ååè¾¹ç  cut()å½æ°[å®ç°æ°æ®è£ç®±bin(è¿ç»­->ç¦»æ£)ãè¿åä¸ä¸ªcategoricalå¯¹è±¡]'''\n# arr = np.arange(0, 100, 7)\narr = np.random.randint(0, 100, 18) # çæå¨åå¼åé­åºé´[low,high)ä¸ç¦»æ£åååå¸çæ´æ°å¼\nprint(f\"arr:{arr}\")\nbins = [0, 40, 80, 100]\ncats = pd.cut(arr, bins)\n# cats \nprint(f\"ç¼å·:{cats.codes}\") # ä»0å¼å§çæç¼å·,ä¸å¨èå´åä¸º-1\n\n# æarrayè½¬æ¢ä¸ºdataframe\ndf1 = pd.dataframe( arr.reshape(3, 6) )\nprint(f\"ç©éµ:\\n{df1}\")\n\ndf1[3] = pd.cut(df1[3], bins).values.codes\ndf1\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± å¹³åååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\nimport pandas as pd\nimport numpy as np\n\n'''å¹³åååè¾¹ç  cut()å½æ° å¯ä»¥éè¿æ°å¼å¹³åç­å(å¹³åæ°)èªå¨ååå¹¶è£ç®±'''\narr = np.random.randint(0, 100, 18)\ncats = pd.cut(arr, 4)\n# print(f\"è£ç®±åç©éµ:\\n{cats.codes.reshape(3, 6)}\")\n\ndf1 = pd.dataframe( arr.reshape(3, 6) )\nprint(df1)\npd.dataframe( cats.codes.reshape(3, 6) )\n# cats\n\n\n\n# æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®± åä½ååè¾¹ç\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®æ¸çä¸è½¬æ¢(äº) æ°æ®ç¦»æ£ååè£ç®±\"\"\"\n\nimport pandas as pd\nimport numpy as np\n\n'''åä½ååè¾¹ç  qcut(data,count) ä½¿ç¨ä¸­ä½æ°æ¥ååæ°æ®å¹¶è£ç®±'''\narr = np.random.randint(0, 100, 18)\ncats = pd.qcut(arr, 4)\n# print(f\"è£ç®±åç©éµ:\\n{cats.codes.reshape(3, 6)}\")\n\ndf1 = pd.dataframe( arr.reshape(3, 6) )\nprint(f\"éæºç©éµ:{df1}\")\nprint(f\"cats:{cats}\")\npd.dataframe( cats.codes.reshape(3, 6) )\n\n\n\n\n# ååé\n\nç¹å»æ¥ç\n\n\"\"\"\nååé(å¯ä»¥æé«è¿ç®éåº¦) ååé(dummy variable)æ¯æç¨0æ1è¡¨ç¤ºæä¸ªç±»å«æ¯å¦åºç°\n1. ænç§äºæ¥å±æ§æ¶ï¼ååééè¦å¼å¥n-1ä¸ªåéï¼ç¬ç­ç¼ç éè¦nä¸ªåé\n2. get_dummies(drop_first=true)ä¸ºçæ­£ååéï¼é»è®¤çdrop_first=falseä¸ºç¬ç­ç¼ç \n\n\"\"\"\nimport pandas as pd\n\ndf1 = pd.dataframe({\"key\":['a', 'b', 'a', 'c']})\n# ç¬ç­ç¼ç \n# pd.get_dummies(df1['key'])\n\n# ååé\npd.get_dummies(df1['key'], drop_first=true)\n\n# è¿æ¥ååé\n\n\n\n# æ°æ®éæºåæ ·(æåº)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®éæºåæ ·\"\"\"\nimport pandas as pd\nimport numpy as np\n\n# 1.éæºæåº\ndf1 = pd.dataframe({'k1': ['a','a','b','c','c','c'], 'k2': [1, 1, 2, 3, 3, 4]}) \n# sampler = np.random.permutation(6) # çæéæºåºå\n# df1.take(sampler) # ä»¥éæºåºåä¸ºè¡ç´¢å¼,éæ°æåºåè¾åº\n\n# 2.éæºä¸éæ · [éæºæåºå,åånè¡]\nsampler = np.random.permutation(len(df1))[:3] # simpler = array([x, x, x])\n\n# 3.éæºä¸éæ · [æ ·æ¬è¾å°æ¶,æ©å¤§æ ·æ¬(),ååæ ·]\n## çæ12ä¸ªåç´ å¨0 - 6èå´åçæ°ç»(æ­£æ)\n# sampler = np.random.randint(0, len(df1), size=2*len(df1))\n\ndf1.take(sampler)\n# sampler\n\n\n\n# è¡¥å\n\nç¹å»æ¥ç\n\n\"\"\"å­ç¬¦ä¸²æä½\"\"\"\n\n# æå°åç½®æ¹æ³åå±æ§\n# dir(): è¿ååæ°çå±æ§ãæ¹æ³åè¡¨\n# dir(\"\")\n\n# ç¼ç è§£ç \n# \"ä½ å¥½\".encode()\nb'\\xe4\\xbd\\xa0\\xe5\\xa5\\xbd'.decode('utf-8')\n\n\n\"\"\"èå¸çä»£ç \"\"\"\n\n# åç¼ä½¿ç¨\ndf=pd.dataframe([[1,'a'],[2,'b'],[3,'c'],[1,'d'],[3,'e'],[2,'f']],columns=['lie1','lie2'])\nprint(df)\ndf1=pd.get_dummies(df['lie1'],prefix='lie1')\nprint(df1)\n\n'''\nä¸ä¸ªå¯¹ç»è®¡åºç¨æç¨çç§è¯æ¯ï¼ç»åget_dummiesåcutä¹ç±»çç¦»æ£åå½æ°\n'''\n#æ­£æåå¸æ¯ä¸ªæ°å¼\ndata=np.random.rand(10)\nprint(data)\n# [0.01472476 0.21786879 0.80685543 0.33888554 0.28585739 0.03260082\n#  0.86698275 0.86326211 0.36818782 0.04061498]\n \n#è®¾ç½®é¢å\nbins=[0,0.2,0.4,0.6,0.8,1]\n \n#é¢ååå\nprint(pd.cut(data,bins))\n# [0.09044921 0.34034557 0.16417927 0.45625488 0.05030981 0.26397673\n#  0.93966121 0.17444847 0.19196159 0.48356917]\n# [(0.0, 0.2], (0.2, 0.4], (0.0, 0.2], (0.4, 0.6], (0.0, 0.2], (0.2, 0.4], (0.8, 1.0], (0.0, 0.2], (0.0, 0.2], (0.4, 0.6]]\n# categories (5, interval[float64]): [(0.0, 0.2] < (0.2, 0.4] < (0.4, 0.6] < (0.6, 0.8] < (0.8, 1.0]]\n#    (0.0, 0.2]  (0.2, 0.4]  (0.4, 0.6]  (0.6, 0.8]  (0.8, 1.0]\n \n#ååé\nprint(pd.get_dummies(pd.cut(data,bins)))\n\n\n\n# pandasèåä¸åç»\n\n\n# æ°æ®åç»æä½(1) (groupbyå½æ° & seriesåç»)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(1)  (groupbyå½æ° & seriesåç»)\"\"\"\nimport pandas as pd\nimport numpy as np\n\n# 1.groupy()å½æ°è¿åä¸ä¸ªgroupbyå¯¹è±¡,æ­¤å¯¹è±¡æ²¡æåä»»ä½è®¡ç®ï¼åªçæç¬¦ååç»æ¡ä»¶çä¸­é´æ°æ®ï¼å½æ§è¡applyæ¹æ³æ¶æè¿è¡çæ­£çè®¡ç®\ndf = pd.dataframe({ 'k1':['a', 'a', 'b', 'b'], 'k2':['one', 'two', 'one', 'one'], 'v1':np.arange(4), 'v2':np.arange(6,10)})\n\n'''åååç»'''\n# grouped = df['v1'].groupby(df['k1'])\n\n'''å¤ååç» (å¤å±æ¬¡ç´¢å¼çseries,å¯è½¬åä¸ºdatafeame)'''\ngrouped = df['v1'].groupby([df['k1'], df['k2']])\n\n# grouped # æ¾ç¤ºgroupbyå¯¹è±¡\n\nprint(df) # æå°df\n\n# groupbyå¯¹è±¡å¨æ§è¡applyæ¹æ³æ¶ï¼æä¼è¿è¡çæ­£çè®¡ç®åç»å\n## å¦:å¨groupbyå¯¹è±¡ä¸åºç¨æ±å¹³åçåºç¨ï¼å¹¶èåè¾åºä¸ä¸ªæ°çseries\n# grouped.mean()\npd.dataframe(grouped.mean()) # å¤å±ç´¢å¼seriesè½¬åä¸ºdataframe\n\n\n\n# æ°æ®åç»æä½(2) (datafrmeåç»)\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(2)  (datafrmeåç»)\"\"\"\n# np.array?? # help(np.array) # æ¥çæ¹æ³è¯¦ç»ä¿¡æ¯\n\n# dataframeæ°æ®è¡¨å¯¹è±¡ï¼ä½¿ç¨groupby()å½æ°ï¼æå®åç»çåï¼å³å¯å¯¹æ°æ®è¡¨å¶å®åè¿è¡åºç¨åèå\ndf = pd.dataframe({'k1' : ['a', 'a', 'b', 'b'], 'k2' : ['one', 'two', 'one', 'one'],'v1' : np.arange(4), 'v2' : np.arange(6,10)})\nprint(df)\n# 1. åååç»\n# å½è¢«åç»å¹¶åºç¨æ±èçåï¼æ æ³è¿è¡åºç¨æ±èæ¶ï¼åç´æ¥ä¸¢å¼(æ¯å¦k2åä¸ºå­ç¬¦ä¸²,ä¸è½è¿è¡meanæ±å¹³åå¼)\n# df.groupby('k1').mean()\n\n# 2.å¤ååç»\n# df.groupby(['k1', 'k2']).mean()\n\n# 3.å¤ååç»âå»é¤åç»ç´¢å¼\n## å¨å¤ååç»çæåµä¸ï¼æ°çæçæ°æ®è¡¨ä¼æå¤å±æ¬¡åç´¢å¼ï¼æçæ¶åæä»¬ä¸éè¦è¿äºç´¢å¼ï¼èæ¯è¦å°ä»ä»¬åææ°çæ°æ®å\n# df.groupby(['k1', 'k2'], as_index=false).mean()\n\n# 4.èªå®ä¹åç»\n# å¦ææä»¬ä¸æç§æ°æ®è¡¨ä¸­æåæ¥åç»ï¼åèªå·±å®ä¹åç»çè§åãè¿æ¶ï¼å¯ä»¥éè¿ä¼ å¥èªå®ä¹åè¡¨ä¼ å¥groupbyåæ°ï¼æç§åè¡¨æ°æ®è§åè¿è¡åç»\n# df.groupby(['a', 'a', 'a', 'b']).mean()\n# df.groupby(['1', '1', '2', '0']).mean()\n\n# 5.å¤ååç»âæ±å\n# df.groupby(['1', '1', '2', '0']).sum()\n\n# 6.å¤ååç»âæå¤§å¼\n# df.groupby(['k1', 'k2']).max()\n\n# 7.å¤ååç»âä¸­ä½æ°\n# df.groupby(['k1', 'k2']).median()\ndf.groupby(['1', '1', '2', '1']).median()\n\n\n\n# æ°æ®åç»æä½(3) åç»æå®åºç¨èåå\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(3)  åç»æå®åºç¨èåå\"\"\"\n\ndf = pd.dataframe({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', 'one', 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\n# 1.æå®åå (è¿è¡æ²¡å¥½ä½¿)\n## ä½¿ç¨groupby()å½æ°å¯¹dataframeæ°æ®è¡¨è¿è¡åç»æ¶ï¼å¯ä»¥æå®æ¹æ³åºç¨åèåçååï¼å¹¶è¿åserieså¯¹è±¡ãseries.groupby([âcolumn_nameâ,âcolumn_nameâ]).mean()\n# df['v1'].groupby(['k1', 'k2']).mean()\n\n# 1.2 æå®ååâè¯­æ³ç³ (è®¡ç®æºè¯­è¨ä¸­æ·»å çæç§è¯­æ³ï¼è¿ç§è¯­æ³å¯¹è¯­è¨çåè½å¹¶æ²¡æå½±åï¼ä½æ¯æ´æ¹ä¾¿ç¨åºåä½¿ç¨)\n## ä»ä¹æ¯è¯­æ³ç³:https://www.jianshu.com/p/777b10385524\ndf.groupby(['k1', 'k2'])['v1'].mean()\n\n# 2.æå®å¤å (è¿è¡æ²¡å¥½ä½¿)\n# df[['v1','v2']].groupby(['k1', 'k2']).mean()\n\n# 2.1 æå®å¤åâè¯­æ³ç³\ndf.groupby(['k1', 'k2'])['v1','v2'].mean()\n\n\n\n# æ°æ®åç»æä½(4) åç»çè¿­ä»£æä½\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(4)  åç»çè¿­ä»£æä½\"\"\"\n\ndf = pd.dataframe({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', 'one', 'one'],'v1' : np.arange(4),'v2' : np.arange(6,10)})\n# print(df)\n\n# å¯¹ä¸ååç»è¿è¡ä¸åå¤ç,å¯¹groupbyå¯¹è±¡è¿è¡è¿­ä»£,å¨è¿­ä»£ä¸­å¤çåä¸ªåç»\n# 1.è¾åºåç»\n# for name, group in df.groupby('k1'):\n#     print(\"name:\" + name)\n#     print(group)\n\n# 2.\n# for [k1, k2],group in df.groupby(['k1', 'k2']):\n#     print(f'({k1}, {k2}):\\n{group}')\n\n# 3.å¯ä»¥å°åç»æ°æ®åææ°æ®è¡¨å­å¸,dict(list(groupbyobj)) \ngroupdict = dict(list(df.groupby('k1'))) # åè½¬åè¡¨åè½¬å­å¸\ngroupdict['a']\n\n\n\n# æ°æ®åç»æä½(5) å¯¹è¡ç´¢å¼åè¿è¡åç»\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(5)  å¯¹è¡ç´¢å¼åè¿è¡åç»\"\"\"\n\ndf = pd.dataframe({ 'k1':['a', 'a', 'b', 'b'], 'k2':['one', 'two', 'one', 'one'], 'v1':np.arange(4), 'v2':np.arange(6,10)}, \n                index=['c1','cc2','cc3','c4'])\nprint(df)\n# 1.è¡ç´¢å¼å½æ°åç»\ndf.groupby(len).mean()\n\n# 2.è¡ç´¢å¼å½æ°åç»\ndf.index=['c1','cc2','cc3','c1'] # éç½®ç´¢å¼\ndf.groupby(str).mean()\n# df\n\n\n\n# æ°æ®åç»æä½(6) èåå½æ°\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(6)  èåå½æ°\"\"\"\n\ndf = pd.dataframe({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n# 1.éç©ºå¼è®¡æ°\ndf.groupby('k1').count()\n\n# 2. åç»ä¹ç§¯\n# df.iloc[3, 2] = np.nan # å°3,2è®¾ä¸ºnan\n# df.groupby('k1').prod() # nanä¸åä¸ä¹ç§¯\n\n# 3.åç»æ¹å·®åæ åå·®\n# df.iloc[3, 2] = np.nan\n# df.groupby('k1').var() # æ¹å·®\n# df.groupby('k1').std() # æ ·æ¬æ åå·® (numpyçæ¯æ»ä½æ ååå·®???)\n\n# 4.åä½æ°\n# df.iloc[3, 2] = np.nan\n# df.groupby(['k1', 'k2']).quantile(0.75)\n\n# 5.é¦å°¾å¼\n# df.iloc[3, 2] = np.nan\n# # df.groupby('k1').first()\n# df.groupby('k1').last()\n\n# 6.æ°æ®æ¢ç´¢\n## å¨æ°æ®åæçæ°æ®æ¢ç´¢é¶æ®µï¼éè¦å¯¹æ°æ®æä¸ªæ´ä½çæç¥ï¼å¦ææä¸é¢æ­¥éª¤ä¸ä¸ªä¸ªççè¯æ¯è¾éº»ç¦ãpandasæä¾describe()å½æ°ï¼å¯ä»¥çæå¸¸ç¨æ¹æ³ç»æ\ndf.iloc[3, 2] = np.nan\ndf.groupby('k1').describe()\n\n\n\n# æ°æ®åç»æä½(7) èªå®ä¹èåå½æ°agg()\n\nç¹å»æ¥ç\n\n\"\"\"æ°æ®åç»æä½(7)  èªå®ä¹èåå½æ°agg()\"\"\"\n\ndf = pd.dataframe({'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\ndef my_fun(data):\n    return data.max() + data.min()\n\ndf.iloc[3, 2] = np.nan\n\n# 1.èªå®ä¹å½æ°\n# df.groupby('k1').agg(my_fun)\n\n# 2.èªå®ä¹aggå½æ°åè¡¨\n# df.groupby('k1').agg(['mean', 'max', 'min', my_fun])\n\n# 2.2 èªå®ä¹aggå½æ°åè¡¨ [æå®åºç¨ç»æçååç§°(ç¨åç»)]\n# df.groupby('k1').agg([('å¹³åå¼', 'mean'), ('æå¤§å¼', 'max'), ('æå°å¼', 'min'), (\"æå¤§æå°å¼ä¹å\", my_fun)])\n\n# 2.3 èªå®ä¹aggå½æ°åè¡¨ [æå®ååç§°(ç¨åç») + åç¼add_prefix]\n## å®ä¹æ°æ°æ®è¡¨ååæ¶ï¼å¨åä¸è¡ä¸­å½åä¼åºç°ç¸åçæåµï¼å®¹ææ··æ·\ndf.groupby('k1').agg( my_fun ).add_prefix('x_')\n\n\n\n# èªå®ä¹èåæä½ åç»è½¬æ¢ä¸åç»åºç¨\n\nç¹å»æ¥ç\n\n\"\"\"èªå®ä¹èåæä½  åç»è½¬æ¢ä¸åç»åºç¨\"\"\"\ndf = pd.dataframe({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\nprint(df)\n\n# df.iloc[3,2] = np.nan\n\n# 1.transform()å½æ° å¦ææä»¬éè¦å°ç»è®¡ç»æåç§åè¡¨çshape,ç´æ¥å¹¿æ­å°åä¸­\n# df.groupby('k1').transform(np.mean)\n# df.groupby('k1').mean()  # ?åºå«\n\n# 2.groupbyå¯¹è±¡çtransform()å½æ°ï¼ä¸agg()ä¸æ ·å¯ä»¥ä¼ å¥èªå®ä¹å½æ°\ndef my_fun(data):\n    return data.max() + data.min()\n\n# df.groupby(['k1', 'k2']).transform(my_fun)  # ????????????????????ä¸å¥½ä½¿\ndf.groupby('k1')['v1', 'v2'].transform(my_fun)\n\n# 3.aggåtransformçåºå«\n## agg()å½æ° å¿é¡»æ¯å¯ä»¥æ±èçå¼ï¼ aggregated value ï¼\n## transform()å½æ°åå¯ä»¥ä¼ å¥æ®éçè½¬æ¢å½æ°\n# def divide(df,n=2):\n#     return df/n\n\n# df.groupby('k1').agg(divide) # exception: must produce aggregated value\n# df.groupby(\"k1\")['v1','v2'].transform(divide)\n\n\n\n# éç¨çapplyæ¹æ³\n\nç¹å»æ¥ç\n\n\"\"\"\néç¨çapplyæ¹æ³ å¯ä»¥æ¯éæ±èå½æ°\n1. éå¸¸ï¼aggèåçæçè¡¨shapeå°äºåè¡¨ï¼èapplyåtransformç»åçshapeå¯ä»¥ç­äºåè¡¨\n\"\"\"\n\n'''\n    aggåtransformçå±é\n    agg()å½æ°éè¦ä¼ å¥çæ¹æ³å¯ä»¥è¿åæ±èçå¼ï¼ aggregated value ï¼ï¼transform()å½æ°åå¯ä»¥æ¯n:1çæ±èå¼ï¼ä¹å¯ä»¥æ¯1å¯¹1çè½¬æ¢å¼ã\n    å¦ææ¯è¾å¥må°è¾åºnçå½æ°(m>n)ï¼aggåtransformé½æ æ³ä½¿ç¨ï¼æ¯å¦: ååç»çånä¸ªå¼\n'''\ndf = pd.dataframe({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\ndef get_rows(df,n=2): \n    return df.iloc[:n,:]\n\n# df.groupby('k1')['v1','v2'].agg(get_rows) #  valueerror: shape of passed values is (4, 2), indices imply (2, 2)\n# df.groupby(\"k1\")['v1','v2'].transform(get_rows) # indexingerror: ('too many indexers', 'occurred at index v1')\n\n# 1.ååç»ånä¸ªå¼çæ¹æ³\n# df.groupby('k1')['v1','v2'].apply(get_rows,1)\n\n# 2.ä¹å¯ä»¥ç¨apply()åtopnä¸ªå¼\ndef topn(df, n=3, column='sort_column'):\n    return df.sort_values(by=column,ascending=false)[:n]\n\ndf.groupby(\"k1\")['v1','v2'].apply(topn,2,'v2')\n\n\n\n# éè§è¡¨ä¸äº¤åè¡¨ éè§è¡¨(pivot table)\n\nç¹å»æ¥ç\n\n\"\"\" éè§è¡¨ä¸äº¤åè¡¨  éè§è¡¨(pivot table)\"\"\"\nimport pandas as pd\n'''\néè§è¡¨(pivot table)æ¯åç§çµå­è¡¨æ ¼ç¨åºåå¶ä»æ°æ®åæè½¯ä»¶ä¸­ä¸ç§å¸¸è§çæ°æ®æ±æ»å·¥å·ãå®æ ¹æ®ä¸ä¸ªæå¤ä¸ªé®å¯¹æ°æ®è¿è¡èåï¼å¹¶æ ¹æ®è¡ååä¸å¾åç»å»ºå°æ°æ®åéå°åä¸ªç©å½¢åºåä¸­ã\n1. å¨pythonåpandasä¸­ï¼å¯ä»¥éè¿æ¬ç« æä»ç»çgroupbyåè½ä»¥åï¼è½å¤å©ç¨å±æ¬¡åç´¢å¼çï¼éå¡è¿ç®å¶ä½éè§è¡¨ã\n2. dataframeæä¸ä¸ªpivot_tableæ¹æ³ï¼æ­¤å¤è¿æä¸ä¸ªé¡¶çº§çpandas.pivot_tableå½æ°ãé¤äºè½ä¸ºgroupbyæä¾ä¾¿å©ä¹å¤ï¼pivot_tableè¿å¯ä»¥æ·»å åé¡¹å°è®¡ï¼ä¹å«margins\n'''\n\ndf = pd.dataframe({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\n# dataframe.pivot_table(index, columns, aggfunc(é»è®¤ä¸ºnp.mean), fill_value)\n# 1.å¦æåªæå®pivot_tabel()å½æ°çindexåæ°ï¼ä¸æå®columnsåæ°åfill_valueåæ°ï¼å¶ç»æååé¢ä»ç»çåç»èåç»æä¸è´ã\n# df.pivot_table(index='k1') # ç¸å½äºdf.groupby('k1').mean()\n\n# 2.æå®è¾åºçå\n# df.pivot_table(['v1', 'v2'], index='k1') # ç¸å½äºdf.groupby('k1')['v1', 'v2'].mean()\n\n# 3.å¦æåªæå®pivot_tabel()å½æ°çindexåæ°ï¼æå®columnsåæ°ï¼å°±æ¯å°ä»¥åç»´åº¦è¿è¡åç»ï¼å¶ææåæå®ä¸¤ä¸ªåç»è¡ç´¢å¼ï¼åå°è¿åçå±æ¬¡ç´¢å¼unstack() ç»æä¸è´\ndf.pivot_table(index='k1', columns='k2') # ç¸å½äºdf.groupby(['k1', 'k2']).mean().unstack()\n\n\n\n# éè§è¡¨ä¸äº¤åè¡¨ äº¤åè¡¨(cross table)\n\nç¹å»æ¥ç\n\n\"\"\" éè§è¡¨ä¸äº¤åè¡¨  äº¤åè¡¨(cross table)\"\"\"\nimport pandas as pd\n\n\"\"\"\n1. äº¤åè¡¨(cross table) æ¯ç©éµæ ¼å¼çä¸ç§è¡¨æ ¼ï¼æ¾ç¤ºåéçï¼å¤åéï¼é¢çåå¸ã\n2. äº¤åè¡¨è¢«å¹¿æ³ç¨äºè°æ¥ç ç©¶ï¼åä¸æºè½ï¼å·¥ç¨åç§å­¦ç ç©¶ãå®ä»¬æä¾äºä¸¤ä¸ªåéä¹é´çç¸äºå³ç³»çåºæ¬ç»é¢ï¼å¯ä»¥å¸®å©ä»ä»¬åç°å®ä»¬ä¹é´çç¸äºä½ç¨ã\n3. å¡å°Â·ç®å°éï¼karl pearsonï¼é¦åå¨âå³äºåºåççè®ºåå¶å³èçè®ºä¸æ­£å¸¸ç¸å³æ§âä¸­ä½¿ç¨äºäº¤åè¡¨ã\n4. å¨pandasä¸­ï¼äº¤åè¡¨æ¯ä¸ç§ç¹æ®çéè§è¡¨ã\n\"\"\"\n# pd.crosstab(index, columns, margins[è¾¹éæ±åå¼å³])\ndf = pd.dataframe({ 'k1' : ['a', 'a', 'b', 'b'],'k2' : ['one', 'two', np.nan, 'one'], 'v1' : np.arange(4),'v2' : np.arange(6,10)})\n\ndef get_rows(df,n=2): \n    return df.iloc[:n,:]\n\ndf.iloc[3,2] = np.nan\n# pd.crosstab(df['k1'],df['k2'])\npd.crosstab(df['k1'],df['k2'],margins=true)\n\n\n\n# seaborn(pandas)å¯è§å\n\næçº¿å¾\n\nç¹å»æ¥ç\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndf = pd.dataframe(np.random.randn(10,3), columns = ['a','b','c'], index = np.arange(0,100,10))  \ndf.plot()\nplt.show() \n# df\n\n\næ¡å½¢å¾\n\nç¹å»æ¥ç\n\nfig, axes = plt.subplots(1,2)  \ndata = pd.series(np.random.rand(7),index = list('abcdefg'))  \n#kindéæ©å¾è¡¨ç±»å  'bar' åç´æ¡å½¢å¾ \ndata.plot(kind = 'bar', ax = axes[0], color = 'b', alpha = 0.7) \n# 'barh' æ°´å¹³æ¡å½¢å¾ \ndata.plot(kind = 'barh', ax = axes[1], color = 'b', alpha = 0.7)\nplt.show() \n\n\nç´æ¹å¾\n\nç¹å»æ¥ç\n\nimport sklearn.datasets as skds\n\"\"\"ç´æ¹å¾\"\"\"\n\n# iris = skds.load_iris()\n# df_iris = pd.dataframe(iris.data,columns=iris.feature_names)\n# df_iris.hist('sepal length (cm)')\n# plt.show()\n\niris = skds.load_iris()\ndf_iris = pd.dataframe(iris.data,columns=iris.feature_names)\ndf_iris.hist()\nplt.show()\n\n## --------------------------------------------\n\nfig, axes = plt.subplots(1,2)  \ndata = pd.series(np.random.randn(100))  \ndata.hist(ax = axes[0], bins = 50)       #ç´æ¹å¾  \ndata.plot(kind = 'kde', ax = axes[1])    #å¯åº¦å¾  \nplt.show() \n\n\næ£ç¹å¾\n\nç¹å»æ¥ç\n\niris = skds.load_iris()\ndf_iris = pd.dataframe(iris.data,columns=iris.feature_names)\ndf_iris.plot(kind='scatter',x=\"sepal length (cm)\", y=\"sepal width (cm)\")\nplt.show()\n\n\nmatplotlibæ çæ¯é«åº¦å¯å®å¶çï¼ä½å¿«éå®æ½åºå¸å¼äººçç»èå°±åå¾æäºå¤æãseabornä½ä¸ºä¸ä¸ªå¸¦çå®å¶ä¸»é¢åé«çº§çé¢æ§å¶çmatplotlibæ©å±åï¼è½è®©ç»å¾åå¾æ´è½»æ¾\n\nç¤ºä¾\n\nç¹å»æ¥ç\n\n\"\"\"seabornå¯è§åæ¹æ³  (ååéåå¸)\"\"\"\nimport seaborn as sns \n\n\"\"\"æå¿«éæ¥çååéåå¸æ çæ¯ä½¿ç¨distplot()å½æ°ãé»è®¤æåµä¸ï¼è¿å°ç»å¶ä¸ä¸ªç´æ¹å¾ï¼å¹¶æååºæ ¸å¯åº¦ä¼°è®¡(kde)\"\"\"\nx = np.random.normal(size=100)\nsns.distplot(x)\nplt.show()\n\n# ---------------------------------\n\"\"\"seabornå¯è§åæ¹æ³  (ç´æ¹å¾)\"\"\"\n\n\"\"\"\nç´æ¹å¾éè¿å¨æ°æ®çèå´ååææ°æ®çæ®µï¼ç¶åç»å¶æ¯ä¸ªæ°æ®çæ®µä¸­çè§å¯æ¬¡æ°ï¼æ¥è¡¨ç¤ºæ´ä½æ°æ®çåå¸ã\næä»¬å é¤å¯åº¦æ²çº¿å¹¶æ·»å äºå°æ¯¯å¾ï¼æ¯ä¸ªè§å¯ç¹ç»å¶ä¸ä¸ªå°çåç´å»åº¦\n\"\"\"\n\nx = np.random.normal(size=100)\nsns.distplot(x, kde=false, rug=true)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"seabornå¯è§åæ¹æ³  (æ ¸å¯åº¦ä¼°è®¡)\"\"\"\n\n\"\"\"seabornçdisplot()å½æ°ï¼éè¿è®¾ç½®åæ°ï¼å¯ä»¥å®ç°åªæ¾ç¤ºæ ¸å¯åº¦ä¼°è®¡åå°æ¯¯å¾\"\"\"\nx = np.random.normal(size=100)\nsns.distplot(x, hist=false, rug=true)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"seabornå¯è§åæ¹æ³  (æ£ç¹ååéåå¸)\"\"\"\n\n# éæºçæä¸¤åï¼å¶åå¼ä¸º[0,1],åæ¹å·®ç©éµä¸º[(1, 0.5), (0.5, 1)]çæ°ç»\n\nmean, cov = [0, 1], [(1, 0.5), (0.5, 1)]\ndata = np.random.multivariate_normal(mean, cov, 200)\ndf = pd.dataframe(data, columns=[\"x\", \"y\"])\nsns.jointplot(x=\"x\", y=\"y\", data=df)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"seabornå¯è§åæ¹æ³  (æå¯¹å³ç³»å¾)\"\"\"\n\"\"\"\nè¦å¨æ°æ®éä¸­ç»å¶å¤ä¸ªæå¯¹ååéåå¸ï¼å¯ä»¥ä½¿ç¨pairplot()å½æ°ãè¿å°åå»ºä¸ä¸ªè½´çç©éµï¼å¹¶æ¾ç¤ºdataframeä¸­æ¯å¯¹åçå³ç³»ã\né»è®¤æåµä¸ï¼å®ä¹ç»å¶æ¯ä¸ªåéå¨å¯¹è§è½´ä¸çååéã\n\"\"\"\n\nimport sklearn.datasets as skds\niris = skds.load_iris()\ndf_iris = pd.dataframe(iris.data,columns=iris.feature_names)\nsns.pairplot(df_iris)\nplt.show()\n\n## ---------------------------------\n\n\"\"\"seabornå¯è§åæ¹æ³  (çº¿æ§åå½çº¿ä¸)\"\"\"\n\n\"\"\"seabornçlmplot(data,x,y)å½æ°ï¼å°dataæ°æ®è¡¨ä¸­xååyåæ°æ®ï¼çææ£ç¹å¾ï¼å¹¶ç»å¶çº¿æ§åå½çº¿ãæ¬ç¤ºä¾ä½¿ç¨tipsæ°æ®éã\"\"\"\n# tips = sns.load_dataset(\"tips\")\ntips = pd.read_csv('./data/tips.csv')\nsns.lmplot(data=tips, x=\"total_bill\", y=\"tip\")\nplt.show()\n## ---------------------------------\n\n\"\"\"seabornå¯è§åæ¹æ³  (çº¿æ§åå½çº¿äº)\"\"\"\n\n\"\"\"seabornçjointplot()å½æ°ç»å¶ååéåå¸æ¶ï¼ä¹å¯ä»¥ç»å¶åå½çº¿ãè®¾ç½®kindåæ°ä¸ºâregâãæ¬ç¤ºä¾ä½¿ç¨tipsæ°æ®éãææå¦ä¸\"\"\"\n\n# tips = sns.load_dataset(\"tips\")\ntips = pd.read_csv('./data/tips.csv')\nsns.jointplot(x=\"total_bill\", y=\"tip\", data=tips, kind=\"reg\")\nplt.show()\n# tips\n\n## ---------------------------------\n\n\"\"\"çææ°æ®\"\"\"\nimport csv\nimport random\nimport datetime\n\nfilepath ='data/data.csv'\nwith open(filepath, 'w', encoding='utf-8') as fp:\n    #åå»ºcsvæä»¶åå¥å¯¹è±¡\n    wr = csv.writer(fp)\n    #åå¥è¡¨å¤´\n    wr. writerow(['æ¥æ','éé'])\n    #çææ¨¡ææ°æ®\n    startdate = datetime. date(2020, 1, 1)\n    #çæ365ä¸ªæ¨¡ææ°æ®ï¼å¯ä»¥æ ¹æ®éè¦è¿è¡è°æ´\n\n    for i in range (365):\n        #çæä¸ä¸ªæ¨¡ææ°æ®ï¼åå¥csvæä»¶\n        amount = 300 + i*5 + random.randrange (100)\n        wr.writerow([str(startdate), amount] )\n        #ä¸ä¸å¤©\n        startdate = startdate + datetime.timedelta (days=1)\n\"ok\"\n\n## ---------------------------------\n\n\"\"\"çææ¨¡ææ°æ®\"\"\"\nimport numpy as np\nimport pandas as pd\n\n# ç¨å«æ¥ææ¶é´ç´¢å¼ä¸æ ç­¾ç numpy æ°ç»çæ dataframe\ndates = pd.dataframe(pd.date_range(\"20200101\", periods=365), columns=['æ¥æ'])\ndata = pd.dataframe(np.random.randint(300, 600, dates.shape[0]), columns=['éé'])\ndf = dates.join(data)\n\nfilepath = 'data\\data0.csv'\ndf.to_csv(filepath, # sys.stdout, # è¾åºå°æ§å¶å°\n          na_rep='non', # å­å¨ç©ºå¼\n          index=false, # ä¸å­å¨ç´¢å¼(index)\n          header=true, # å­å¨åå\n)\n\n## ---------------------------------\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# è¯»åæ°æ®ï¼ä¸¢å¼ç¼ºå¤±å¼\ndf = pd.read_csv('data\\\\data0.csv', encoding='utf-8')\ndf = df.dropna()\n# print(df['æ¥æ'])\n\n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif']=['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n#çæè¥ä¸é¢æçº¿å¾\nplt.figure()\ndf.plot(x='æ¥æ')\n# plt.savefig('data\\\\test\\\\first.jpg')\n\n#ææç»è®¡ï¼çææ±ç¶å¾\nplt.figure()\ndf1 = df[:]\n# map()ä¼æ ¹æ®æä¾çå½æ°å¯¹æå®åºååæ å°ãç¬¬ä¸ä¸ªåæ° function ä»¥åæ°åºåä¸­çæ¯ä¸ä¸ªåç´ è°ç¨ function å½æ°ï¼è¿ååå«æ¯æ¬¡ function å½æ°è¿åå¼çæ°åè¡¨\n# lambdaç®åäºå½æ°å®ä¹çä¹¦åå½¢å¼ãä½¿ä»£ç æ´ä¸ºç®æ´ï¼ä½æ¯ä½¿ç¨å½æ°çå®ä¹æ¹å¼æ´ä¸ºç´è§ï¼æçè§£ã\n# def fun(x):\n#     return x[:x.rindex('-')]\n\ndf1['month'] = df1['æ¥æ'].map(lambda x:x[:x.rindex('-')]) # lambda x:x[:x.rindex('-')]\ndf1 = df1.groupby(by='month', as_index=false).sum()\ndf1.plot(x='month', kind='bar')\n# plt.savefig('data\\\\test\\\\second.jpg')\n\n# æ¥æ¾æ¶¨å¹æå¤§çæä»½ï¼åå¥æä»¶ \nplt.figure()\ndf2 = df1.drop('month', axis=1).diff()\n# dataframe.nlargest(self, n, columns, keep='first') è¿åæåéåºæåçånè¡ãä»¥éåºè¿åcolumnä¸­å·ææå¤§å¼çånè¡ãæªæå®çåä¹å°è¿åï¼ä½ä¸ç¨äºæåºã\n# æ­¤æ¹æ³ç­æäº ï¼ä½æ§è½æ´é«ãdf.sort_values(columns, ascending=false).head(n)\nm = df2['éé'].nlargest(1).keys()[0]\nprint(f\"ééæé«æä»½{df1.loc[m, 'month']}\")\nwith open('data\\\\test\\\\maxmonth.txt', 'w') as fp:\n    fp.write(df1.loc[m, 'month'])\n\n# æå­£åº¦ç»è®¡ï¼çæé¥¼ç¶å¾\nplt.figure()\none=df1[:3]['éé'].sum()\ntwo=df1[3:6]['éé'].sum()\nthree=df1[6:9]['éé'].sum()\nfour=df1[9:12]['éé'].sum()\nplt.pie([one, two, three, four], labels=['ç¬¬ä¸å­£åº¦', 'ç¬¬äºå­£åº¦', 'ç¬¬ä¸å­£åº¦', 'ç¬¬åå­£åº¦'])\n# plt.savefig('data\\\\test\\\\third.jpg')\n\nplt.show()\n\n\n\n\n# matplotlibå¯è§å\n\n\n# æ¡å½¢å¾\n\n# æ¡å½¢å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç¬¬ä¸æ¬¡ä½ä¸  æ¡å½¢å¾\"\"\"\nimport  pymysql\nimport matplotlib.pyplot as plt\n# from matplotlib import font_manager\n \n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯utf-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n#å°åç»æ°æ®å­è¿åè¡¨ä¸­\ncity=[]\nneed=[]\nfor x in result:\n    city.append(x[0])\n    need.append(x[1])\n    \n# ä¸ç§è®¾ç½®å­ä½çæ¹å¼\n# my_font = font_manager.fontproperties(fname=\"d:\\software\\python\\anaconda3\\library\\myfonts\\geitangbudaodan.ttf\")\n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif']=['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(12, 5), dpi=120)\n# è®¾ç½®å»åº¦å­ä½å¤§å°\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\n\n#ç´æ¹å¾\nplt.bar(range(len(need)), need, color='r', tick_label=city)\n\nplt.xlabel(\"åå¸å\", fontsize=20)\nplt.ylabel(\"æ°é\", fontsize=20)\nplt.title(\"åå¸èä½éæ±å¾\", fontsize=20)\nfor  x,y in enumerate(need):\n    plt.text(x-0.4, y+0.4, '%s' % y)\nplt.show()\n\n\n# æ¡å½¢å¾ bar()\n\nç¹å»æ¥ç\n\n\"\"\"æ¡å½¢å¾ bar()\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# ç¤ºä¾\n# plt.bar(np.arange(2,5),np.arange(1,4),\n#         label=\"zt example\") \n# plt.bar([1,2,3],[2,4,1],label=\"tz example\", color='g')\n# plt.xlabel(\"this is x\")\n# plt.ylabel(\"this is y\")\n# plt.title(\"this is bar\")\n# plt.legend()\n# plt.show()\n\n\"\"\"å±ç¤º2017ç¥¨æ¿æ°æ®\"\"\"\n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif'] = ['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig = plt.figure(figsize=(8, 4), dpi=200)\n\nmovie_name = [\"æç¼2\",\"éåº¦ä¸æ¿æ8\",\"åå¤«çä¼½\",\"è¥¿æ¸¸ä¼å¦ç¯\",\"åå½¢éå5ï¼æåçéªå£«\",\"æè·¤å§ï¼ç¸ç¸\",\"å åæ¯æµ·ç5ï¼æ­»æ å¯¹è¯\",\"éåï¼éª·é«å²\",\"æéç¹å·¥ï¼ç»æåå½\",\"çåå±æº6ï¼ç»ç« \",\"ä¹é£ç ´æµª\",\"ç¥å·å¥¶ç¸3\",\"æºåå¨èå±±\",\"å¤§é¹å¤©ç«º\",\"éåç¼3ï¼æ®æ­»ä¸æ\",\"èèä¾ ï¼è±éå½æ¥\",\"æç©ºä¼ \",\"é¶æ²³æ¤å«é2\",\"æå£\",\"æ°æ¨ä¹ä¼\",]\nbox_office = [56.01,26.94,17.53,16.49,15.45,12.96,11.8,11.61,11.28,11.12,10.49,10.3,8.75,7.55,7.32,6.99,6.88,6.86,6.58,6.23]\ndf = pd.dataframe( {\"çµå½±å\":movie_name, \"ç¥¨æ¿(åä½:äº¿)\":box_office} )\n# df\nx = range(df.shape[0]) # xè½´çåè¡¨\ny = box_office\n\n# bar()ç»å¶æ¡å½¢å¾,åªè½æ¥åå¯è¿­ä»£çæ°å­å¯¹è±¡\nplt.bar(x, y,\n    width = 0.4, # é»è®¤0.8\n    color = 'orange',\n    tick_label = y,\n    label = 'çµå½±', # ä¸ºè®¾ç½®å¾ä¾ä½åå¤\n    alpha = 0.9\n)\n# éè¿è®¾ç½®xticksä½¿æ°å­ä¸å­ç¬¦ä¸²å¯¹åº\nplt.xticks(x, df.iloc[:, 0], rotation=90)\n# è®¾ç½®æè¿°ä¿¡æ¯\nplt.title(\"2017å¹´çµå½±ç¥¨æ¿å±ç¤º\")\nplt.xlabel(df.columns[0])\nplt.ylabel(df.columns[1])\n# æ¾ç¤ºå¾ä¾\nplt.legend()\n    \nplt.show()\n\n\n# æ°´å¹³æ¡å½¢å¾ barh()\n\nç¹å»æ¥ç\n\n\"\"\"æ°´å¹³æ¡å½¢å¾ barh()\"\"\"\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\"\"\"å±ç¤º2017ç¥¨æ¿æ°æ®\"\"\"\nmovie_name = [\"æç¼2\",\"éåº¦ä¸æ¿æ8\",\"åå¤«çä¼½\",\"è¥¿æ¸¸ä¼å¦ç¯\",\"åå½¢éå5ï¼æåçéªå£«\",\"æè·¤å§ï¼ç¸ç¸\",\"å åæ¯æµ·ç5ï¼æ­»æ å¯¹è¯\",\"éåï¼éª·é«å²\",\"æéç¹å·¥ï¼ç»æåå½\",\"çåå±æº6ï¼ç»ç« \",\"ä¹é£ç ´æµª\",\"ç¥å·å¥¶ç¸3\",\"æºåå¨èå±±\",\"å¤§é¹å¤©ç«º\",\"éåç¼3ï¼æ®æ­»ä¸æ\",\"èèä¾ ï¼è±éå½æ¥\",\"æç©ºä¼ \",\"é¶æ²³æ¤å«é2\",\"æå£\",\"æ°æ¨ä¹ä¼\",]\nbox_office = [56.01,26.94,17.53,16.49,15.45,12.96,11.8,11.61,11.28,11.12,10.49,10.3,8.75,7.55,7.32,6.99,6.88,6.86,6.58,6.23]\ndf = pd.dataframe( {\"çµå½±å\":movie_name, \"ç¥¨æ¿(åä½:äº¿)\":box_office} )\n# df\n\n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif'] = ['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig, ax = plt.subplots(figsize=(20, 16), dpi=80)\n\nx = np.arange(df.shape[0]) # xè½´çåè¡¨\ny = box_office\n\n# bar()ç»å¶æ¡å½¢å¾,åªè½æ¥åå¯è¿­ä»£çæ°å­å¯¹è±¡\nplt.barh(x, y,\n    height = 0.4,\n    color = 'orange',\n    label = 'çµå½±', # ä¸ºè®¾ç½®å¾ä¾ä½åå¤\n    alpha = 0.9,\n    align='center'\n)\n\n# plt.yticks(y, movie_name) # , rotation=90\nax.set_yticks(x)\nax.set_yticklabels(df.iloc[:, 0], minor=false, fontsize=16)\nax.invert_yaxis() # æ ç­¾è¯»åèªä¸èä¸labels read top-to-bottom\n# è®¾ç½®æè¿°ä¿¡æ¯\nax.set_title(\"2017å¹´çµå½±ç¥¨æ¿å±ç¤º\", fontsize=20)\nax.set_xlabel(df.columns[1], fontsize=20)\nax.set_ylabel(df.columns[0], fontsize=20)\n# æ¾ç¤ºå¾ä¾\nax.legend()\n    \nplt.show()\n\n\n\n# å­å¾\n\nç¹å»æ¥ç\n\n\"\"\"å­å¾\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n\n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯utf-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncol_result = cursor.description  # è·åæ¥è¯¢ç»æçå­æ®µæè¿°\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif']=['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(20, 10), dpi=120)\nfig, axes = plt.subplots(1, 2)\n\n# ç¨æ°æ®åºæ¥è¯¢å°çæ°æ®åå»ºdataframe\n# print(col_result)\ndf = pd.dataframe(result, columns=[col_result[0][0], col_result[1][0]])\n\n# é¥¼å¾\nslices = df.iloc[:, 1]\nactivities = df.iloc[:, 0]\naxes[0].pie(slices,labels=activities,\n        startangle=90, # åå§è§åº¦\n        shadow= true, # é´å½±\n        textprops={'size': 'small'},\n#         colors=[], # è®¾ç½®é¢è²\n#         radius=1.6, # åå¾\n        explode=(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.05, 0), # çªåº\n        autopct='%1.2f%%') # \n\n# æ¡å½¢å¾\naxes[1].bar(df.iloc[:, 0], df.iloc[:, 1], color='pink')\n# axes[1].xt\n\nplt.title('åå¸èä½éæ±å¾')\nplt.show()\n\n\n\n# é¥¼å¾\n\nç¹å»æ¥ç\n\n\"\"\"ç¬¬äºæ¬¡ä½ä¸  é¥¼å¾\"\"\"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n\n##è·åä¸ä¸ªæ°æ®åºè¿æ¥ï¼æ³¨æå¦ææ¯utf-8ç±»åçï¼éè¦å¶å®æ°æ®åº\ndb=pymysql.connect(host=\"127.0.0.1\",user='root',passwd=\"123456789\",port=3306,db=\"demo\",charset='utf8')\ncursor=db.cursor()#è·åä¸ä¸ªæ¸¸æ \nsql=\"select city,need from citys\"\ncursor.execute(sql)\nresult=cursor.fetchall() #resultä¸ºåç»\ncol_result = cursor.description  # è·åæ¥è¯¢ç»æçå­æ®µæè¿°\ncursor.close() #å³é­æ¸¸æ \ndb.close() #å³é­æ°æ®åº\n \n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif']=['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# è®¾ç½®å¾å½¢å¤§å°\nplt.figure(figsize=(6, 4), dpi=120)\n\n# ç¨æ°æ®åºæ¥è¯¢å°çæ°æ®åå»ºdataframe\n# print(col_result)\ndf = pd.dataframe(result, columns=[col_result[0][0], col_result[1][0]])\n\n# é¥¼å¾\nslices = df.iloc[:, 1]\nactivities = df.iloc[:, 0]\nplt.pie(slices,labels=activities,\n        startangle=90, # åå§è§åº¦\n        shadow= true, # é´å½±\n        textprops={'size': 'small'},\n#         colors=[], # è®¾ç½®é¢è²\n#         radius=1.6, # åå¾\n        explode=(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.05, 0), # çªåº\n        autopct='%1.2f%%') # \n\nplt.title('åå¸èä½éæ±å¾')\nplt.show()\n\n\n\n# æçº¿å¾(å®æ´)\n\nç¹å»æ¥ç\n\n\"\"\"æçº¿å¾   (ç»åºä½ ååæ¡å¨11-25å²è°è¿çå¥³åæ°)  \"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# è®¾ç½®å­ä½\nplt.rcparams['font.sans-serif'] = ['lisu']\nplt.rcparams['axes.unicode_minus'] = false\n\n# 1.è®¾ç½®å¾çå¤§å°\n# å®ä¾åfigureå¹¶ä¼ éåæ°  dpiä¸ºæ¯è±å¯¸åç´ ç¹æ°\nfig = plt.figure('figure object 1', # å¾å½¢å¯¹è±¡åç§°  çªå£å·¦ä¸è§æ¾ç¤º\n    figsize=(8, 4), # çªå£å¤§å°\n    dpi=80, # åè¾¨ç\n    facecolor = 'white',     # èæ¯è²\n)\n\n# xè½´åyè½´\nx = range(11, 31)\ny_1 = [1, 0, 1, 1, 2, 4, 3, 2, 3, 4, 4, 5, 6, 5, 4, 3, 3, 1, 1, 1]\ny_2 = [1, 0, 3, 1, 2, 2, 3, 3, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n\nplt.plot(\n    x,\n    y_1,\n    # æçº¿æ ·å¼\n    color='r',  # è®¾ç½®çº¿æ¡é¢è²\n    linestyle='--',  # çº¿æ¡é£æ ¼\n    linewidth=1,  # çº¿æ¡ç²ç»\n    alpha=0.5,  # éæåº¦\n    label='èªå·±',\n    # 6.æç¹æ ·å¼è®¾ç½®\n    marker='o', # æç¹å½¢ç¶\n    markersize='3', # æ ms --æç¹å¤§å°\n    markerfacecolor='black', # æ mfc --æç¹å®å¿é¢è²\n)\n\nplt.plot(\n    x,\n    y_2,\n    color='b',  # è®¾ç½®çº¿æ¡é¢è²\n    linestyle=':',  # çº¿æ¡é£æ ¼\n    linewidth=1,  # çº¿æ¡ç²ç»\n    alpha=0.5,  # éæåº¦\n    label='åæ¡',\n    # æç¹æ ·å¼è®¾ç½®\n    marker='*', # æç¹å½¢ç¶\n    markersize='6', # æ ms --æç¹å¤§å°\n    markerfacecolor='pink', # æ mfc --æç¹å®å¿é¢è²\n)\n\n# 8.æ åºæé«ç¹ (å ä¸ºæ¨ªçºµåæ æ²¡æå¿ç¶èç³»æä»¥æ¯è¾é¾æ´)\nzip1 = dict( zip(x, y_1) ) # ææ¨ªçºµåæ åä¸ºä¸ä¸ªå­å¸\n# æ¾åºæå¤§å¼åä¸æ \nfor key,value in zip1.items():\n    if(value == max(zip1.values())):\n        max_index1 = key\n        max_value1 = value\ndel zip1\nplt.plot(max_index1,max_value1,'ks')\ns = f\"({max_index1},{max_value1})\"\n# plt.annotate()å½æ°ç¨äºæ æ³¨æå­\nplt.annotate(s, xytext=(max_index1,max_value1), xy=(max_index1,max_value1)) # æ³¨éåå®¹ æ³¨éææ¬çåæ ç¹ è¢«æ³¨éçåæ ç¹ï¼äºç»´åç»å½¢å¦(x,y)\n####\nzip2 = dict( zip(x, y_2) ) # ææ¨ªçºµåæ åä¸ºä¸ä¸ªå­å¸\n# æ¾åºæå¤§å¼åä¸æ \nfor key,value in zip2.items():\n    if(value == max(zip2.values())):\n        max_index2 = key\n        max_value2 = value\ndel zip2\nplt.plot(max_index2,max_value2,'ks')\ns = f\"({max_index2},{max_value2})\"\n# plt.annotate()å½æ°ç¨äºæ æ³¨æå­\nplt.annotate(s, xytext=(max_index2,max_value2), xy=(max_index2,max_value2))\n\n\n# 4.è°æ´xåyè½´å»åº¦é´è·\n_xtick_labels = [\"{}å²\".format(i) for i in x]\nplt.xticks(x, _xtick_labels, rotation=45, fontsize=9)\nplt.yticks(range(0, 9))\n# 5.çº¿æ¡æ ·å¼ é¢è² éæåº¦\n# å ç½æ ¼ (éæåº¦)\nplt.grid(alpha=0.5, linestyle='--', linewidth=1)\n\n# 3.æè¿°ä¿¡æ¯(xè½´[yè½´.æ é¢]ä»£è¡¨ä»ä¹)\nplt.xlabel('å¹´é¾')\nplt.ylabel('äººæ°')\nplt.title(\"åå¿éè±å²æ\", fontsize=16)\n\nplt.legend(loc='best')\n\n# 2.ä¿å­å°æ¬å° (å¯è®¾ç½®æ ¼å¼(svgç¢éå¾))\n# plt.savefig(\"data/xxx.svg\")\n\n# 7.å¾çå æ°´å°\ndef add_watermark(x, y):\n    fig.text(x, y, 'å¯å·ç¯å®', # textçä½ç½®,åå®¹\n        fontsize=16, \n        color='gray',\n        ha='left', \n        va='top',\n        rotation=-45, #æè½¬è§åº¦\n        alpha=0.3,\n        bbox = dict(facecolor = \"#b0c4de\", alpha = 0.05)) # å æ¡(æ¡ä½é¢è²,éæåº¦)\n    \nadd_watermark(0.5, 0.6)\nadd_watermark(0.5, 0.8)\nadd_watermark(0.2, 0.6)\nadd_watermark(0.2, 0.8)\nplt.show()\n",charsets:{cjk:!0},lastUpdated:"2022/05/03, 23:36:40",lastUpdatedTimestamp:16515922e5},{title:"Pythonç¬è«",frontmatter:{title:"Pythonç¬è«",date:"2024-01-11T09:28:56.000Z",permalink:"/pages/f799c7/"},regularPath:"/04.%E5%85%B6%E4%BB%96/01.Python/05.Python%E7%88%AC%E8%99%AB.html",relativePath:"04.å¶ä»/01.Python/05.Pythonç¬è«.md",key:"v-547abcde",path:"/pages/f799c7/",headers:[{level:4,title:"çç¢ä»£ç ",slug:"çç¢ä»£ç ",normalizedTitle:"çç¢ä»£ç ",charIndex:2},{level:5,title:"Url ç¼ç è§£ç ",slug:"url-ç¼ç è§£ç ",normalizedTitle:"url ç¼ç è§£ç ",charIndex:52},{level:5,title:"æ¥ææ ¼å¼å",slug:"æ¥ææ ¼å¼å",normalizedTitle:"æ¥ææ ¼å¼å",charIndex:128},{level:5,title:"json è½¬å­ç¬¦ä¸²ä¹±ç è§£å³",slug:"json-è½¬å­ç¬¦ä¸²ä¹±ç è§£å³",normalizedTitle:"json è½¬å­ç¬¦ä¸²ä¹±ç è§£å³",charIndex:1074},{level:5,title:"ä½¿ç¨ lxml è§£ææ°æ®",slug:"ä½¿ç¨-lxml-è§£ææ°æ®",normalizedTitle:"ä½¿ç¨ lxml è§£ææ°æ®",charIndex:1166},{level:4,title:"Requests",slug:"requests",normalizedTitle:"requests",charIndex:1979},{level:5,title:"requests åºè¯·æ±ç»ææ¾ç¤ºä¸­æ",slug:"requests-åºè¯·æ±ç»ææ¾ç¤ºä¸­æ",normalizedTitle:"requests åºè¯·æ±ç»ææ¾ç¤ºä¸­æ",charIndex:2033},{level:5,title:"requests åºæºå¸¦æä»¶å¯¹è±¡åæ°",slug:"requests-åºæºå¸¦æä»¶å¯¹è±¡åæ°",normalizedTitle:"requests åºæºå¸¦æä»¶å¯¹è±¡åæ°",charIndex:2111},{level:4,title:"Scrapy",slug:"scrapy",normalizedTitle:"scrapy",charIndex:2291},{level:5,title:"ç¨åºä¸­ä¸»å¨éåºç¬è«",slug:"ç¨åºä¸­ä¸»å¨éåºç¬è«",normalizedTitle:"ç¨åºä¸­ä¸»å¨éåºç¬è«",charIndex:2343},{level:5,title:"ä»£ç ä¸­æ§è¡åä¸ªç¬è«",slug:"ä»£ç ä¸­æ§è¡åä¸ªç¬è«",normalizedTitle:"ä»£ç ä¸­æ§è¡åä¸ªç¬è«",charIndex:2436},{level:5,title:"å½ä»¤è¡ä¸­ä¼ å",slug:"å½ä»¤è¡ä¸­ä¼ å",normalizedTitle:"å½ä»¤è¡ä¸­ä¼ å",charIndex:2567},{level:5,title:"ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ°",slug:"ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ°",normalizedTitle:"ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ°",charIndex:2849},{level:5,title:"åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çCookie",slug:"åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çcookie",normalizedTitle:"åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çcookie",charIndex:2981},{level:5,title:"PipeLine å­å¨ Item æ°æ®å° Excel",slug:"pipeline-å­å¨-item-æ°æ®å°-excel",normalizedTitle:"pipeline å­å¨ item æ°æ®å° excel",charIndex:3119},{level:5,title:"ä¸­é´ä»¶ from_crawler æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ°",slug:"ä¸­é´ä»¶-from-crawler-æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ°",normalizedTitle:"ä¸­é´ä»¶ from_crawler æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ°",charIndex:3798},{level:5,title:"ä¸­é´ä»¶ï¼æspiderï¼ä¸­éæ°åéè¯·æ±",slug:"ä¸­é´ä»¶-æspider-ä¸­éæ°åéè¯·æ±",normalizedTitle:"ä¸­é´ä»¶ï¼æspiderï¼ä¸­éæ°åéè¯·æ±",charIndex:4148},{level:5,title:"ä¸­é´ä»¶ä¸­å¤çå¼å¸¸",slug:"ä¸­é´ä»¶ä¸­å¤çå¼å¸¸",normalizedTitle:"ä¸­é´ä»¶ä¸­å¤çå¼å¸¸",charIndex:4328},{level:5,title:"ERRORï¼ä½¿ç¨Rquestsåè¯·æ±å¯ä»¥ï¼ä½æ¯ä½¿ç¨Scrapyä¸è¡",slug:"error-ä½¿ç¨rquestsåè¯·æ±å¯ä»¥-ä½æ¯ä½¿ç¨scrapyä¸è¡",normalizedTitle:"errorï¼ä½¿ç¨rquestsåè¯·æ±å¯ä»¥ï¼ä½æ¯ä½¿ç¨scrapyä¸è¡",charIndex:4859},{level:4,title:"Selenium",slug:"selenium",normalizedTitle:"selenium",charIndex:5123},{level:5,title:"Selenium Chrome ææ°é©±å¨ä¸è½½å°å",slug:"selenium-chrome-ææ°é©±å¨ä¸è½½å°å",normalizedTitle:"selenium chrome ææ°é©±å¨ä¸è½½å°å",charIndex:5177},{level:5,title:"Selenium å»æç¬è«æ è¯ï¼ä¸ä¹åä¸åï¼",slug:"selenium-å»æç¬è«æ è¯-ä¸ä¹åä¸å",normalizedTitle:"selenium å»æç¬è«æ è¯ï¼ä¸ä¹åä¸åï¼",charIndex:5225},{level:5,title:"Selenium è®¾ç½®è¯·æ±å¤´",slug:"selenium-è®¾ç½®è¯·æ±å¤´",normalizedTitle:"selenium è®¾ç½®è¯·æ±å¤´",charIndex:5917},{level:5,title:"Selenium è®¾ç½®é¡µé¢è¶æ¶æ¶é´",slug:"selenium-è®¾ç½®é¡µé¢è¶æ¶æ¶é´",normalizedTitle:"selenium è®¾ç½®é¡µé¢è¶æ¶æ¶é´",charIndex:6079},{level:5,title:"Selenium å¨ Linuxï¼Centos7ï¼ ä¸ä½¿ç¨",slug:"selenium-å¨-linux-centos7-ä¸ä½¿ç¨",normalizedTitle:"selenium å¨ linuxï¼centos7ï¼ ä¸ä½¿ç¨",charIndex:6204},{level:5,title:"Selenium è·åè¯·æ±å¤´",slug:"selenium-è·åè¯·æ±å¤´",normalizedTitle:"selenium è·åè¯·æ±å¤´",charIndex:6975},{level:5,title:"Selenium è·åCookies",slug:"selenium-è·åcookies",normalizedTitle:"selenium è·åcookies",charIndex:7269},{level:5,title:"Selenium è·å jQuery ä¸­ localStorage",slug:"selenium-è·å-jquery-ä¸­-localstorage",normalizedTitle:"selenium è·å jquery ä¸­ localstorage",charIndex:7314},{level:5,title:"ç¬è«èªæµç½ç«",slug:"ç¬è«èªæµç½ç«",normalizedTitle:"ç¬è«èªæµç½ç«",charIndex:7548},{level:4,title:"ç¬è«æ¢³ç",slug:"ç¬è«æ¢³ç",normalizedTitle:"ç¬è«æ¢³ç",charIndex:7617},{level:4,title:"å å¯è§£å¯å½æ°",slug:"å å¯è§£å¯å½æ°",normalizedTitle:"å å¯è§£å¯å½æ°",charIndex:8197},{level:5,title:"ras è§£å¯",slug:"ras-è§£å¯",normalizedTitle:"ras è§£å¯",charIndex:8249},{level:5,title:"aes è§£å¯ï¼AES-CTR æ¨¡å¼ï¼å¶ä»ç±»ä¼¼ï¼",slug:"aes-è§£å¯-aes-ctr-æ¨¡å¼-å¶ä»ç±»ä¼¼",normalizedTitle:"aes è§£å¯ï¼aes-ctr æ¨¡å¼ï¼å¶ä»ç±»ä¼¼ï¼",charIndex:8644},{level:5,title:"aes å å¯ï¼AES-ECB æ¨¡å¼ï¼",slug:"aes-å å¯-aes-ecb-æ¨¡å¼",normalizedTitle:"aes å å¯ï¼aes-ecb æ¨¡å¼ï¼",charIndex:9203},{level:4,title:"éï¼ä»£ç ç¤ºä¾",slug:"é-ä»£ç ç¤ºä¾",normalizedTitle:"éï¼ä»£ç ç¤ºä¾",charIndex:9591},{level:5,title:"ç¬è«ä»£ç ",slug:"ç¬è«ä»£ç ",normalizedTitle:"ç¬è«ä»£ç ",charIndex:9643},{level:5,title:"ä¸­é´ä»¶ä½¿ç¨å¨æä»£çIPæµè¯",slug:"ä¸­é´ä»¶ä½¿ç¨å¨æä»£çipæµè¯",normalizedTitle:"ä¸­é´ä»¶ä½¿ç¨å¨æä»£çipæµè¯",charIndex:12012},{level:5,title:"ä¸­é´ä»¶ä½¿ç¨Seleniumåéè¯·æ± + å¨æä»£çIP",slug:"ä¸­é´ä»¶ä½¿ç¨seleniumåéè¯·æ±-å¨æä»£çip",normalizedTitle:"ä¸­é´ä»¶ä½¿ç¨seleniumåéè¯·æ± + å¨æä»£çip",charIndex:14545}],headersStr:"çç¢ä»£ç  Url ç¼ç è§£ç  æ¥ææ ¼å¼å json è½¬å­ç¬¦ä¸²ä¹±ç è§£å³ ä½¿ç¨ lxml è§£ææ°æ® Requests requests åºè¯·æ±ç»ææ¾ç¤ºä¸­æ requests åºæºå¸¦æä»¶å¯¹è±¡åæ° Scrapy ç¨åºä¸­ä¸»å¨éåºç¬è« ä»£ç ä¸­æ§è¡åä¸ªç¬è« å½ä»¤è¡ä¸­ä¼ å ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ° åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çCookie PipeLine å­å¨ Item æ°æ®å° Excel ä¸­é´ä»¶ from_crawler æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ° ä¸­é´ä»¶ï¼æspiderï¼ä¸­éæ°åéè¯·æ± ä¸­é´ä»¶ä¸­å¤çå¼å¸¸ ERRORï¼ä½¿ç¨Rquestsåè¯·æ±å¯ä»¥ï¼ä½æ¯ä½¿ç¨Scrapyä¸è¡ Selenium Selenium Chrome ææ°é©±å¨ä¸è½½å°å Selenium å»æç¬è«æ è¯ï¼ä¸ä¹åä¸åï¼ Selenium è®¾ç½®è¯·æ±å¤´ Selenium è®¾ç½®é¡µé¢è¶æ¶æ¶é´ Selenium å¨ Linuxï¼Centos7ï¼ ä¸ä½¿ç¨ Selenium è·åè¯·æ±å¤´ Selenium è·åCookies Selenium è·å jQuery ä¸­ localStorage ç¬è«èªæµç½ç« ç¬è«æ¢³ç å å¯è§£å¯å½æ° ras è§£å¯ aes è§£å¯ï¼AES-CTR æ¨¡å¼ï¼å¶ä»ç±»ä¼¼ï¼ aes å å¯ï¼AES-ECB æ¨¡å¼ï¼ éï¼ä»£ç ç¤ºä¾ ç¬è«ä»£ç  ä¸­é´ä»¶ä½¿ç¨å¨æä»£çIPæµè¯ ä¸­é´ä»¶ä½¿ç¨Seleniumåéè¯·æ± + å¨æä»£çIP",content:"# çç¢ä»£ç \n\n----------------------------------------\n\n# Url ç¼ç è§£ç \n\n# url ç¼ç \nurllib.parse.quote()\n# url è§£ç \nurllib.parse.unquote()\n\n\n# æ¥ææ ¼å¼å\n\nç¹æ®å­ç¬¦ä¸²è½¬æ¥æ\n\n# pip install python-dateutil\nimport datetime\nfrom dateutil import parser\n\ntime_string = \"Fri Jan 05 15:41:17 GMT+08:00 2024\"\ndt_object = parser.parse(time_string)\nprint(dt_object.strftime(\"%Y-%m-%d %H:%M:%S\"))\n# è½¬æ¢ä¸º UTC æ¶é´\nprint(dt_object.astimezone(tz=datetime.timezone.utc))\n# æèå¦æä½ æ³è½¬æ¢å°æ¬å°æ¶åºï¼åè®¾ä½ çç³»ç»éç½®äºæ­£ç¡®çæ¬å°æ¶åºï¼\nprint(dt_object.astimezone())\n\n\næ¥æè½¬å¸¦æ¶åºçå­ç¬¦ä¸²\n\nfrom datetime import datetime, timezone\nimport pytz\n\n# è·åå½åæ¶é´ï¼åè®¾æä»¬ä½¿ç¨UTCæ¶åºä½ä¸ºç¤ºä¾ï¼å®éä¸­ä½ å¯è½éè¦æ ¹æ®ä½ çä½ç½®è·åæ­£ç¡®çæ¶åºï¼\nnow_utc = datetime.now(timezone.utc)\n\n# å°UTCæ¶é´è½¬æ¢ä¸ºåäº¬æ¶é´ï¼GMT+08:00ï¼\n# æ³¨æï¼è¿éæä»¬ä½¿ç¨äºpytzåºæ¥è·ååäº¬æ¶é´çæ¶åºå¯¹è±¡\nbeijing_tz = pytz.timezone('Asia/Shanghai')\nnow_beijing = now_utc.astimezone(beijing_tz)\n\n# æ ¼å¼åæ¶é´ï¼ä½æ³¨æstrftime()ä¸æ¯æç´æ¥æ·»å æ¶åºåç§°ï¼æä»¥æä»¬æå¨æ·»å \n# '%A' - ææå çå¨å\n# '%b' - æä»½çç®åå\n# '%d' - æä¸­çä¸å¤©ï¼01è³31ï¼\n# '%Y' - å¹´ä»½\n# '%H:%M:%S' - æ¶:å:ç§\n# ç¶åæä»¬æå¨æ·»å  'GMT+0800 (ä¸­å½æ åæ¶é´)'\nformatted_time = now_beijing.strftime(\"%a %b %d %Y %H:%M:%S\") + \" GMT+0800 (ä¸­å½æ åæ¶é´)\"\n\nprint(\"å½åæ¶é´ï¼æ ¼å¼ååï¼:\", formatted_time)\n\n\n# json è½¬å­ç¬¦ä¸²ä¹±ç è§£å³\n\n# ç¡®ä¿è¾åºçç»æä¸­ä¸åå«éASCIIå­ç¬¦\njson.dumps(response[\"result\"], ensure_ascii=False)\n\n\n# ä½¿ç¨ lxml è§£ææ°æ®\n\ndata=\"\"\"\n<datastore>\n<recordset>\n<record><![CDATA[\n<div class=\"fyxx_lsbox\">\t<div class=\"btqz\"></div>\t<div class=\"fyxx_lsbox_r\">\t\t<a title=\"xxxxxxxxxxxxxxxxxxxxxx\" target=\"_blank\" href=\"/art/2024/1/12/art_1229682709_457018.html\">xxxxxxxxxxxxxxxxxxxxxx</a> <span>2024-01-12</span> </div></div>]]></record>\n</recordset>\n</datastore>\n\"\"\"\n\n# æ¹æ³ä¸ï¼å·¥å·ç´æ¥è§£æï¼ä¸è¿°æ°æ®ä¸å¤ªç¬¦åï¼ä½åæ³åºå¦æ­¤ï¼\nfrom xml.etree import ElementTree as ET\nroot = ET.fromstring(data)\nfor element in root.iter():\n   # ç®åå°è®¿é®.textå±æ§ï¼å ä¸ºå¨å¤§å¤æ°æåµä¸è§£æå¨å·²ç»å¤çå¥½CDATAäº\n   if element.text:\n      print(element.text)\n\n# æ¹æ³äºï¼å­ç¬¦ä¸²æ··åxpathå¤ç\ndatastore = etree.HTML(data)\nfor row in datastore.xpath('//record'):\n   record = etree.tostring(row).replace(r'<record>', '').replace(r']]&gt;</record>', '')\n   record1 = etree.HTML(record)\n   print etree.tostring(record1)\n\"\"\"\n\n\n# Requests\n\n----------------------------------------\n\n# requests åºè¯·æ±ç»ææ¾ç¤ºä¸­æ\n\n# è®¾ç½®ç¼ç \nresponse.encoding='utf-8'\nprint(response.text)\n\n\n# requests åºæºå¸¦æä»¶å¯¹è±¡åæ°\n\nresponse = requests.post(\n    url='http://xxx/captcha-ocr-yn/captcha',\n    files={'captcha': open(img_path, 'rb')},\n    data={'question': 'è¯·ä¾æ¬¡ç¹å»ãå·¥,ç¡®,æµ·ã'}\n)\n\n\n# Scrapy\n\n----------------------------------------\n\n# ç¨åºä¸­ä¸»å¨éåºç¬è«\n\n# scrapyæ¡æ¶ä¸­æå¨éåºç¬è«ç¨åº\nself.crawler.engine.close_spider(self, 'éªè¯ç å°è¯ä¸æ¬¡ä¸æ­£ç¡®ï¼éåºç¬è«')\n\n\n# ä»£ç ä¸­æ§è¡åä¸ªç¬è«\n\nfrom scrapy import cmdline\ncmdline.execute(\"scrapy crawl xxx -o ./data/xxx.csv -s LOG_FILE=./logs/xxx.log\".split())\n\n\n# å½ä»¤è¡ä¸­ä¼ å\n\nä¼ å¥åæ°\n\ncmdline.execute(\"scrapy crawl jianyuSearch -a searchWord=xxx -a page=10\".split())\n\n\nç¬è«ä¸­æ¥æ¶åæ°ï¼Spiderä¸­å¢å ï¼\n\ndef __init__(self, searchWord='', page=1,*args, **kwargs):\n  super(xxxSpider, self).__init__(*args, **kwargs)\n  self.searchWord = searchWord\n  self.page = page\n\n\n# ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ°\n\n# ç¬¬ä¸ä¸ªè¯·æ±æºå¸¦åæ°\nyield Request(url=url, callback=self.parse, meta={\"para1\": xxx})\n\n# parse åè°å½æ°ä¸­è·ååæ°\nresponse.meta['url']\n\n\n# åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çCookie\n\nresponse = requests.get(url, headers=headers)\nself.cookies = requests.utils.dict_from_cookiejar(response.cookies)\n\n\n# PipeLine å­å¨ Item æ°æ®å° Excel\n\nclass spiderNamePipeLine(object):\n    def open_spider(self,spider):\n        if spider.name in ['spiderName']:\n            self.field_list = [field_name for field_name, field_meta in spiderNameItems.fields.items()]\n            self.wb = openpyxl.Workbook()\n            self.ws = self.wb.active\n            self.ws.append(self.field_list)\n\n    def close_spider(self,spider):\n        if spider.name in ['spiderName']:\n            self.wb.save(\"test.xlsx\")\n\n    def process_item(self, item, spider):\n        if spider.name in ['spiderName']:\n            self.ws.append([item.get(field_name) for field_name in self.field_list])\n            return item\n\n\n# ä¸­é´ä»¶ from_crawler æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ°\n\n@classmethod\ndef from_crawler(cls, crawler):\n    # This method is used by Scrapy to create your spiders.\n    s = cls()\n    crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n    # ç»å® spider_closed ä¿¡å·çå¤çæ¹æ³\n    crawler.signals.connect(s.spider_closed, signal=signals.spider_closed)\n    return s\n\n\n# ä¸­é´ä»¶ï¼æspiderï¼ä¸­éæ°åéè¯·æ±\n\nfrom scrapy.downloadermiddlewares.retry import get_retry_request\n\nreturn get_retry_request(request=request, spider=spider, reason='xxx')   # spider = self\n\n\n# ä¸­é´ä»¶ä¸­å¤çå¼å¸¸\n\n# æåºå¼å¸¸\nraise IgnoreRequest(\"Filtered request: {}\".format(request))\nraise ValueError('403 response')\n\n# å¤çå¼å¸¸\ndef process_exception(self, request, exception, spider):\n    if isinstance(exception, IgnoreRequest):\n        # å¤ç IgnoreRequest å¼å¸¸ï¼ä¾å¦è®°å½æ¥å¿ãåééç¥ç­\n        # è¿å None è¡¨ç¤ºå¼å¸¸å·²ç»è¢«å¤ç\n        return None\n    else:\n        # éåè¯·æ±\n        request.meta['dont_filter'] = True\n        request.meta['max_retry_times'] = 4   # å¢å éè¯æ¬¡æ°\n        return get_retry_request(request=request, spider=spider, reason='process_exception')\n\n\n# ERRORï¼ä½¿ç¨Rquestsåè¯·æ±å¯ä»¥ï¼ä½æ¯ä½¿ç¨Scrapyä¸è¡\n\n 1. ç½ç«æè¯·æ±å¤´ Content-Length çæ ¡éªï¼Scrapyå¦æå¨headeråæ­»ï¼åè¯·æ±æ¶ä¼åå¢å ä¸ä¸ª Content-Lengthï¼èä¸æ¯æ¿æ¢åæ¥çï¼Requeståºè¯¥æ¯ç´æ¥æ¿æ¢åæ¥çï¼ï¼å¯¼è´è¯·æ±å¼å¸¸ï¼400 Bad Requestï¼ã\n 2. è½ä¸è½ç¨ headers[\"Content-Length\"] = len(urllib.parse.urlencode(params).encode('utf-8')) è®¡ç®è¯·æ±é¿åº¦ï¼ï¼ï¼\n\n# Selenium\n\n----------------------------------------\n\n# Selenium Chrome ææ°é©±å¨ä¸è½½å°å\n\nChrome for Testing\n\n# Selenium å»æç¬è«æ è¯ï¼ä¸ä¹åä¸åï¼\n\noptions = webdriver.ChromeOptions()\noptions.add_argument(\"--disable-blink-features=AutomationControlled\")  # å°window.navigator.webdriverè®¾ç½®ä¸ºfalse\nbrowser = webdriver.Chrome(options=options)\n\n\n#=============== ä¹åæ¯è¿æ ·ï¼æ²¡å¥½ä½¿ï¼ =====================\noptions = webdriver.ChromeOptions()\n# selenium ä¸æ¾ç¤ºæ­£å¨è¢«æµè¯è½¯ä»¶æ§å¶\noptions.add_experimental_option('excludeSwitches', ['enable-automation'])\noptions.add_experimental_option('useAutomationExtension', False)\nbrowser = webdriver.Chrome(options=options)\n# é²æ­¢éè¿åéè¯å«å° selenium\nbrowser.execute_cdp_cmd(\n    'Page.addScriptToEvaluateOnNewDocument',\n    {'source': 'Object.defineProperty(navigator, \"webdriver, {get: () => undefined})'}\n)\n\n\n# Selenium è®¾ç½®è¯·æ±å¤´\n\nbrowser.execute_cdp_cmd(\"Network.enable\", {})\nbrowser.execute_cdp_cmd(\"Network.setExtraHTTPHeaders\", {\"headers\": {\"User-Agent\": \"browser1\"}})\n\n\n# Selenium è®¾ç½®é¡µé¢è¶æ¶æ¶é´\n\n# è®¾ç½®é¡µé¢å è½½åjså è½½è¶æ¶æ¶é´ï¼è¶æ¶ç«å³æ¥éï¼å¦ä¸è®¾ç½®è¶æ¶æ¶é´ä¸ºxç§\nbrowser.set_page_load_timeout(10)\nbrowser.set_script_timeout(10)\n\n\n# Selenium å¨ Linuxï¼Centos7ï¼ ä¸ä½¿ç¨\n\n# 1. å¨æ®éç¨æ·æ²¡æé®é¢\n# 2. å¨ root ç¨æ·ä¸ç´æ¥é selenium.common.exceptions.WebDriverException: Message: unknown error: DevToolsActivePort file doesn't exist\n#    1. headless ä»¥ä¸åæ³è§£å³\noptions.add_argument('--no-sandbox')  # fix:DevToolsActivePort file doesn't exist\noptions.add_argument('--disable-gpu')  # fix:DevToolsActivePort file doesn't exist\noptions.add_argument('--disable-dev-shm-usage')  # fix:DevToolsActivePort file doesn't exist\noptions.add_argument('--remote-debugging-port=9222')  # fix:DevToolsActivePort file doesn't exist\n\n# æ³¨ï¼ï¼å¡ä¸æ´å¤©çé®é¢ï¼\n# ç¾åº¦ linux ä¸ chrome æå¼æ¥éï¼æç»åºä»¥ä¸è§£å³åæ³çãåä¸ä¸è¦ä¿®æ¹ï¼ï¼ï¼è¦ä¸ Selenium æ§è¡æ¥éï¼ï¼ï¼\n# å°`/usr/bin/google-chrome` ä¸­ `exec -a \"$0\" \"$HERE/chrome\" \"$@\"` ä¿®æ¹ä¸º `exec -a \"$0\" \"$HERE/chrome\" \"$@\" --user-data-dir --no-sandbox`\n\n\n# Selenium è·åè¯·æ±å¤´\n\n# pip install selenium-wire\n\nfrom seleniumwire import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get('https://www.baidu.com')\nfor request in driver.requests:\n    print('è¯·æ±headersï¼')\n    print(request.headers)\n    # print(request.response.headers)\n    break\ndriver.quit()\n\n\n# Selenium è·åCookies\n\ndriver.get_cookies()\n\n\n# Selenium è·å jQuery ä¸­ localStorage\n\nlocalStorageï¼å¨HTML5ä¸­ï¼æ°å å¥çä¸ä¸ªlç¹æ§ï¼è¿ä¸ªç¹æ§ä¸»è¦æ¯ç¨æ¥ä½ä¸ºæ¬å°å­å¨æ¥ä½¿ç¨çï¼è§£å³äºcookieå­å¨ç©ºé´ä¸è¶³çé®é¢ï¼localStorageä¸­ä¸è¬æµè§å¨æ¯æçæ¯5Må¤§å°ï¼è¿ä¸ªå¨ä¸åçæµè§å¨ä¸­localStorageä¼ææä¸å\n\nlocal_storage = driver.execute_script(\"return window.localStorage;\")\n\n\n# ç¬è«èªæµç½ç«\n\n# å¯ä»¥æ¥çä¸æ­£å¸¸è®¿é®ç¸æ¯æåªäºåæ°ä¸åï¼ç¨äºä¼åç¬è«ç¨åº\nhttps://bot.sannysoft.com/\n\n\n# ç¬è«æ¢³ç\n\n----------------------------------------\n\n 1.  Session éªè¯ï¼\n     * æ¨¡æç»å½åè·å Cookie ä¸­ï¼æ¯æ¬¡è¯·æ±å¸¦ä¸æ¹ Cookie\n 2.  æ°æ®å­æ¯éªè¯ç ï¼ OCR è¯å«ï¼åé¢è¯·æ±æ¯æ¬¡å¸¦ä¸éªè¯ç ï¼æäºéå å¯ï¼\n 3.  IPå°ç¦ï¼ è´­ä¹°å¨æIP\n 4.  User-Agentéªè¯ï¼ä¿®æ¹è¯·æ±UA\n 5.  æ°æ®å¨æå è½½ï¼\n     * æ¨¡ææ¥å£è¯·æ±ï¼è·åjsonæ°æ®\n     * Selenium è·åå¨ææ¸²æåç½ç«æºç \n 6.  æ°æ®å å¯ï¼çè®ºä¸å¨ç½ç«é½è½æ¾å°keyï¼\n     * base64 å å¯ï¼æ ç§é¥ï¼ç´æ¥è§£å¯\n     * ä½¿ç¨aeså å¯ç§é¥ï¼åç¨raså å¯æ­£æ\n 7.  Content-Length éªè¯ï¼æäºç½ç«ä¼éªè¯è¯·æ±å¤´ä¸­ç Content-Lengthï¼è¦ä¿è¯æä¸åªæä¸ä¸ªæ­£ç¡®çé¿åº¦\n 8.  éè¿ window.open('xxx'') å¯è·åè·³è½¬é¾æ¥\n 9.  éè¿Refererçåæç¬è«\n 10. éå¯¹ Selenium ç find_element_by_* æ¹æ³ç click äºä»¶çå¬\n\n * ç¬¬ä¸æ¹åºï¼pyautogui ç­\n\nåææè·¯\n\n> ä½¿ç¨æµè§å¨ > åç´  > äºä»¶çå¬å¨ï¼ææ¥æ§è¡çjs ä½¿ç¨ç§»å¨ç«¯é¾æ¥ www -> m\n\n# å å¯è§£å¯å½æ°\n\n----------------------------------------\n\n# ras è§£å¯\n\nfrom Crypto.PublicKey import RSA\nfrom Crypto.Cipher import PKCS1_v1_5 as Cipher_pkcs1_v1_5\nimport base64\n\ndef rsa_decrypt(cipher_text, private_key):\n    decode_text = base64.b64decode(cipher_text)\n    cipher = Cipher_pkcs1_v1_5.new(RSA.importKey(private_key))  # åå»ºç¨äºæ§è¡pkcs1_v1_5å å¯æè§£å¯çå¯ç \n    decrypt_text = cipher.decrypt(decode_text, b\"rsa\")\n    return decrypt_text.decode(\"utf-8\")\n\n\n# aes è§£å¯ï¼AES-CTR æ¨¡å¼ï¼å¶ä»ç±»ä¼¼ï¼\n\nfrom Crypto.Cipher import AES\nfrom Crypto.Util import Counter\nimport base64\n\ndef decrypt_aes_ctr(encrypted_data, key, iv):\n   ciphertext = base64.b64decode(encrypted_data)\n    key = str.encode(key)\n    # è®¾ç½® AES-CTR çè®¡æ°å¨\n    ctr = Counter.new(128, initial_value=int.from_bytes(iv, byteorder='big'))\n    # ä½¿ç¨ AES-CTR æ¨¡å¼åå»º AES å¯¹è±¡\n    aes = AES.new(key, AES.MODE_CTR, counter=ctr)\n    # è§£å¯å¯æ\n    decrypted_data = aes.decrypt(ciphertext)\n    # å°è§£å¯åçæ°æ®è½¬æ¢ä¸ºææ¬\n    decrypted_text = decrypted_data.decode('utf-8')\n    return decrypted_text\n\n\n# aes å å¯ï¼AES-ECB æ¨¡å¼ï¼\n\nfrom Crypto.Cipher import AES\n\ndef aes_encode(data, key):\n  global aes\n  while len(data) % 16 != 0:  # è¡¥è¶³å­ç¬¦ä¸²é¿åº¦ä¸º16çåæ°\n      data += (16 - len(data) % 16) * chr(16 - len(data) % 16)\n      data = str.encode(data)\n      aes = AES.new(str.encode(key), AES.MODE_ECB)  # åå§åå å¯å¨\n  return str(base64.encodebytes(aes.encrypt(data)), encoding='utf8').replace('\\n', '')  # å å¯\n\n\n# éï¼ä»£ç ç¤ºä¾\n\n----------------------------------------\n\n# ç¬è«ä»£ç \n\nfrom xxx.items import gpItems\nfrom scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.http import Request\n\nimport logging\nimport base64\nfrom Crypto.Cipher import AES\n\nclass XXXSpider(CrawlSpider):\n\tname = 'XXX'\n\tallowed_domains = ['www.xxx.com']\n\n\t# keyï¼æ°æ®æ¥å£å°å   valueï¼source type_code ä¸æ¬¡ç¬åçé¡µé¢æ°\n\tcategoryCodeDict = {\n\t\t'ç½å1{}': 'æè¿°1 ID1 1 3',  # 17é¡µ    15-31é¡µ\n\t\t'ç½å2{}': 'æè¿°2 ID2 1 6',  # 179é¡µ\n\t}\n\theaders = {\n\t}\n\n\tdef start_requests(self):\n\t\tfor key, value in self.categoryCodeDict.items():\n\t\t\tstart_page = int(value.split(' ')[2])\n\t\t\tpage = int(value.split(' ')[3])\n\t\t\tfor index in range(start_page, page):\n\t\t\t\turl = key.format(str(index))\n\t\t\t\tlogging.info('ç¬åæ»é¡µæ°ï¼{}  é¡µé¢é¾æ¥ï¼{}'.format(page - 1, url))\n\t\t\t\tyield Request(url=url, headers=self.headers, method='POST', callback=self.parse, meta={'categoryCode': key, 'categoryText': value})\n\n\tdef parse(self, response):\n\t\tcategoryText1 = response.meta['categoryText'].split(' ')[0]\n\t\tcategoryText2 = response.meta['categoryText'].split(' ')[1]\n\n\t\trows = response.xpath('//ul[@class=\"article-list-a\"]/li')\n\t\tfor row in rows:\n\t\t\ti = gpItems()\n\t\t\ti['publishTime'] = row.xpath('div[1]/div[@class=\"list-times\"]/text()').extract_first().strip()\n\t\t\turl = row.xpath('div[1]/a/@href').extract_first().strip()\n\t\t\tccc = url.split('/')[-1].split('.')[0]\n\t\t\tddd = self.aes_encode(ccc, 'å¬é¥ç¼ç ').replace('/', '^').replace(\"==\", \"\")\n\t\t\ti['url'] = url.replace(ccc, ddd)\n\t\t\ti['title'] = ''.join(row.xpath('div[1]/a/text()').extract()).strip()\n\t\t\tad_name = row.xpath('div[1]/a/label/text()').extract_first()\n\t\t\tif ad_name:\n\t\t\t\tad_name = ad_name.strip().replace('ã', '').replace('ã', '')\n\t\t\t\ti['ad_name'] = 'sss' if ad_name == 'bbb' else ad_name\n\t\t\telse:\n\t\t\t\ti['ad_name'] = 'xxx'\n\t\t\ti['source'] = categoryText1\n\t\t\ti['type_code'] = categoryText2\n\t\t\tyield Request(i['url'], headers=self.headers, meta={'item': i}, callback=self.parse_item)\n\n\tdef parse_item(self, response):\n\t\ti = response.meta['item']\n\t\ti['htmlcontent'] = response.xpath('//div[@class=\"class1111\"]').extract_first().strip()\n\t\treturn i\n\n\tdef aes_encode(self, data, key):\n\t\tglobal aes\n\t\twhile len(data) % 16 != 0:  # è¡¥è¶³å­ç¬¦ä¸²é¿åº¦ä¸º16çåæ°\n\t\t\tdata += (16 - len(data) % 16) * chr(16 - len(data) % 16)\n\t\t\tdata = str.encode(data)\n\t\t\taes = AES.new(str.encode(key), AES.MODE_ECB)  # åå§åå å¯å¨\n\t\treturn str(base64.encodebytes(aes.encrypt(data)), encoding='utf8').replace('\\n', '')  # å å¯\n\n\n# ä¸­é´ä»¶ä½¿ç¨å¨æä»£çIPæµè¯\n\nclass AutotestDownloaderMiddleware(object):\n    delay_sec = [0.1, 0.2, 0.3, 0.4, 0.5]   # , 0.6, 0.7, 0.8, 0.9\n    proxy_ip_dict = {}\n    # éè¦èµ°ä»£ççç¬è«\n    spiders_list = ['XXX']\n\n    def spider_opened(self, spider):\n        # åå§åä»£çæ± \n        if spider.name in self.spiders_list:\n            while len(self.proxy_ip_dict) < 6:\n                time.sleep(5)\n                self.get_proxy()\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        # This method is used by Scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        return s\n\n    def process_request(self, request, spider):\n        if spider.name in self.spiders_list:\n            # time.sleep(random.choice(self.delay_sec))\n            proxy_ip = self.determine(int(time.time()*1000))\n            print('request.meta[\\'proxy\\'] = {proxy_ip}'.format(proxy_ip=proxy_ip))\n            print('proxy_ip_listï¼{}'.format(self.proxy_ip_dict))\n            request.meta['proxy'] = proxy_ip\n\n    def process_response(self, request, response, spider):\n        return response\n\n    def process_exception(self, request, exception, spider):\n        pass\n\n    def get_proxy(self, proxy_pop=''):\n        curtime = int(time.time()*1000)\n        api_url = 'è´­ä¹°çå¨æIPæ¥å£'   # è¿åå¼ä¸º IP:PORT,å¯ç¨æ¶é´(æ¯«ç§)\n        response = requests.get(api_url).text.strip()\n        proxy = 'http://' +response.split(',')[0]\n        mill = int(response.split(',')[1])\n        print('ä»apiè·åå¨æipï¼{}'.format(response))\n        # self.proxy_ip_list.append((proxy, curtime + mill))\n        # å·²ç»æ,æ´æ°ï¼æ²¡æ,å é¤æ§ç,æå¥æ°ç   proxy_popä¸ºç©ºå­ç¬¦ä¸²æ¶åå§åå­å¸\n        if proxy_pop == '' or self.proxy_ip_dict.get(proxy) is not None:\n            pass\n        else:\n            print(\"==================å é¤ip======{}\".format(proxy_pop))\n            self.proxy_ip_dict.pop(proxy_pop)\n        self.proxy_ip_dict[proxy] = curtime + mill - 2000 # 2sé¢çæ¶é´å·®\n        # return (proxy, curtime + mill)\n        return proxy\n\n    def determine(self, curmill):\n        # è·åip\n        item1 = random.choice(list(self.proxy_ip_dict.keys()))\n        print('å¯ç¨æ¶é´ï¼{}  å½åæ¶é´ï¼{}'.format(self.proxy_ip_dict[item1], curmill))\n        if self.proxy_ip_dict[item1] > curmill:\n            # è¥å¯ç¨ï¼è¿å\n            # return tuple1[0]\n            return item1\n        else:\n            print(\"================== ipï¼{}  è¿ææ¶é´ï¼{}  å½åæ¶é´ï¼{} ======\".format(item1, self.proxy_ip_dict[item1], int(time.time()*1000) ))\n            # è¥ä¸å¯ç¨ï¼ä»åè¡¨ç§»é¤  éæ°è·å\n            return self.get_proxy(item1)\n\n\n# ä¸­é´ä»¶ä½¿ç¨Seleniumåéè¯·æ± + å¨æä»£çIP\n\nfrom selenium import webdriver\nfrom scrapy.downloadermiddlewares.retry import get_retry_request\nfrom scrapy.exceptions import IgnoreRequest\nimport pymysql\nfrom scrapy.utils.project import get_project_settings\nclass SeleniumDownloaderMiddleware(object):\n    # éè¦èµ°ä»£ççç¬è«\n    spiders_list = ['xxxx', 'xxxxxx']\n    proxy_ip_dict = {}  # keyï¼ä»£çip  valueï¼æå¤§å¯ç¨æ¯«ç§æ° ä½¿ç¨æ¬¡æ° éè¯¯æ¬¡æ°ï¼seleniumä¸­è·åä¸å°ä»£çIPï¼æåä¸æ¶é´åªè½ä½¿ç¨ä¸ä¸ªä»£çIPï¼\n    proxy = False    # æ¯å¦èµ°ä»£ç\n    db = None\n    cursorSeq = None\n\n    def __init__(self):\n        self.browser = None\n\n    def spider_opened(self, spider):\n        if spider.name in self.spiders_list:\n            self.browser = self.create_chrome_driver()  # åå»ºæµè§å¨å¯¹è±¡\n            self.connect()  # åå»ºæ°æ®åºè¿æ¥\n            if self.proxy:\n                while len(self.proxy_ip_dict) == 0:   # æ¯æ¬¡åªæä¸ä¸ªIP\n                    self.get_proxy()\n\n    def spider_closed(self, spider):\n        if spider.name in self.spiders_list:\n            if self.browser:   # å³é­æµè§å¨è¿æ¥\n                self.browser.close()\n            if self.cursorSeq or self.db:   # å³é­æ°æ®åºè¿æ¥\n                self.cursorSeq.close()\n                self.db.close()\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        # This method is used by Scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        # ç»å® spider_closed ä¿¡å·çå¤çæ¹æ³\n        crawler.signals.connect(s.spider_closed, signal=signals.spider_closed)\n        return s\n\n    def process_request(self, request, spider):\n        if spider.name in self.spiders_list:\n            # åºä¸­å­å¨å°±ä¸è®¿é®\n            if self.should_filter(request):\n                # å¦æéè¦è¿æ»¤ï¼åæåº IgnoreRequest å¼å¸¸\n                raise IgnoreRequest(\"Filtered request: {}\".format(request))\n            if self.proxy:\n                self.preparatory_work(int(time.time()*1000))\n            self.browser.get(request.url)\n            # time.sleep(random.uniform(0.1, 0.5))\n            print(\"=\" * 100)\n            print(\"#########{}\".format(self.browser.current_url))\n            if len(self.browser.page_source) < 200:  # ç©ºè¯·æ±ä½æIPè¶è¿æå¤§è¯·æ±é\n                # <html lang=\"zh-CN\"><head><meta charset=\"UTF-8\"><title>too many request</title></head><body>IPè¶è¿æå¤§è¯·æ±éï¼è¯¦æåè<a href=\"http://www.data5u.com/help/article-54.html\">www.data5u.com</a></body></html>\n                # <html><head></head><body></body></html>\n                print(\"================= Empty response: {url} =============================\".format(url=self.browser.current_url))\n                print(self.browser.page_source)\n                raise ValueError('Empty response')\n            return HtmlResponse(url=request.url, body=self.browser.page_source, encoding=\"utf-8\",\n                                request=request)  # ç¶åæè¿ä¸ªresponseå¯¹è±¡è¿åç»ç¬è«  self.browser.current_url\n\n    def process_response(self, request, response, spider):\n        if spider.name in self.spiders_list:\n            print(\"====================== process_response ====================================\")\n            print(response.status)\n            if self.proxy:\n                # ä½¿ç¨ next() å½æ°è·åç¬¬ä¸ä¸ªé®å¼å¯¹\n                first_key, first_value = next(iter(self.proxy_ip_dict.items()))\n                item_info = self.proxy_ip_dict[first_key].split(' ')\n                item_info[1] = str(int(item_info[1]) + 1)  # ä½¿ç¨æ¬¡æ°+1\n                if response.status != 200:\n                    item_info[2] = str(int(item_info[2]) + 1)  # éè¯¯æ¬¡æ°+1\n                self.proxy_ip_dict[first_key] = ' '.join(item_info)\n        # åè¿ååå§çååºå¯¹è±¡\n        return response\n\n    def process_exception(self, request, exception, spider):\n        if spider.name in self.spiders_list:\n            print(\"====================== process_exception ====================================\")\n            print(request.url)\n            print(exception)\n            if isinstance(exception, IgnoreRequest):\n                # å¤ç IgnoreRequest å¼å¸¸ï¼ä¾å¦è®°å½æ¥å¿ãåééç¥ç­\n                # è¿å None è¡¨ç¤ºå¼å¸¸å·²ç»è¢«å¤ç\n                return None\n            if self.proxy:\n                # ä½¿ç¨ next() å½æ°è·åç¬¬ä¸ä¸ªé®å¼å¯¹\n                first_key, first_value = next(iter(self.proxy_ip_dict.items()))\n                item_info = self.proxy_ip_dict[first_key].split(' ')\n                item_info[1] = str(int(item_info[1]) + 1)  # ä½¿ç¨æ¬¡æ°+1\n                item_info[2] = str(int(item_info[2]) + 1)  # éè¯¯æ¬¡æ°+1\n                self.proxy_ip_dict[first_key] = ' '.join(item_info)\n            request.meta['dont_filter'] = True    # å¯ä»¥ä¸å ï¼retryå½æ°ä¸­ä¼ä¿®æ¹\n            request.meta['max_retry_times'] = 4   # å¢å éè¯æ¬¡æ°\n            return get_retry_request(request=request, spider=spider, reason='process_exception')\n        pass\n\n    #=========================================== èªå®ä¹å½æ° =====================================\n\n    def should_filter(self, request):\n        # å¨è¿éç¼åè¿æ»¤é»è¾ï¼æ ¹æ®è¯·æ±çæäºç¹å¾æ¥å¤æ­æ¯å¦éè¦è¿æ»¤è¯¥è¯·æ±\n        sqlexists = \"select count(1) from crawler_t_src_spider a where a.url= '\"+request.url+\"'\"\n        self.cursorSeq.execute(sqlexists)\n        num1 = self.cursorSeq.fetchone()\n        num = num1[0]\n        # è¿å True è¡¨ç¤ºéè¦è¿æ»¤ï¼è¿å False è¡¨ç¤ºä¸éè¦è¿æ»¤\n        if num == 0:\n            return False  # ç¤ºä¾ä¸­é»è®¤ä¸è¿æ»¤ä»»ä½è¯·æ±\n        else:\n            print(\"======================= è¿æ»¤è¯·æ± =={}=============================\".format(request.url))\n            return True\n\n    def connect(self):\n        settings = get_project_settings()\n        self.db = pymysql.connect(\n            host=settings['DB_HOST'],\n            port=settings['DB_PORT'],\n            user=settings['DB_USER'],\n            password=settings['DB_PASSWROD'],\n            db=settings['DB_NAME'],\n            charset=settings['DB_CHARSET']\n        )\n        self.cursorSeq = self.db.cursor()\n\n    def create_chrome_driver(self, headless=False, proxy_ip=None):\n        options = webdriver.ChromeOptions()\n        if headless:\n            options.add_argument('--headless')\n            options.add_argument('--no-sandbox')  # fix:DevToolsActivePort file doesn't exist\n            options.add_argument('--disable-gpu')  # fix:DevToolsActivePort file doesn't exist\n            options.add_argument('--disable-dev-shm-usage')  # fix:DevToolsActivePort file doesn't exist\n            options.add_argument('--remote-debugging-port=9222')  # fix:DevToolsActivePort file doesn't exist\n            # headless æ¨¡å¼è¯·æ±å¤´ä¸æ­£å¸¸ä¸ä¸è´ï¼éä¿®æ¹è¯·æ±å¤´\n            options.add_argument(f'user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36')\n        else:\n            options.add_argument(\"--start-maximized\")\n        if proxy_ip: options.add_argument('--proxy-server={}'.format(proxy_ip))\n\n        options.add_argument(\"--disable-blink-features=AutomationControlled\")  # å°window.navigator.webdriverè®¾ç½®ä¸ºfalse\n        options.add_experimental_option(\"prefs\", {\"profile.mamaged_default_content_settings.images\": 2})  # ä¸å è½½å¾ç,å å¿«è®¿é®éåº¦\n        # selenium ä¸æ¾ç¤ºæ­£å¨è¢«æµè¯è½¯ä»¶æ§å¶\n        options.add_experimental_option('excludeSwitches', ['enable-automation'])\n        options.add_experimental_option('useAutomationExtension', False)\n        browser = webdriver.Chrome(options=options)\n        # é²æ­¢éè¿åéè¯å«å° selenium\n        browser.execute_cdp_cmd(\n            'Page.addScriptToEvaluateOnNewDocument',\n            {'source': 'Object.defineProperty(navigator, \"webdriver, {get: () => undefined})'}\n        )\n\n        # browser.execute_cdp_cmd(\"Network.enable\", {})\n        # browser.execute_cdp_cmd(\"Network.setExtraHTTPHeaders\", {\"headers\": {\"User-Agent\": \"browser1\"}})\n\n        # è®¾ç½®é¡µé¢å è½½åjså è½½è¶æ¶æ¶é´ï¼è¶æ¶ç«å³æ¥éï¼å¦ä¸è®¾ç½®è¶æ¶æ¶é´ä¸ºxç§\n        browser.set_page_load_timeout(10)\n        browser.set_script_timeout(10)\n        time.sleep(2)\n        print(\"=========== åå»ºæµè§å¨å¯¹è±¡ï¼ä»£çIPä¸º{} ================\".format(proxy_ip))\n        return browser\n\n    def get_proxy(self, proxy_pop=''):\n        api_url = 'ä»£çåAPIæ¥å£'\n        curtime, proxy, mill = None, None, None\n        for i in range(3):\n            if i > 0: time.sleep(3)\n            curtime = int(time.time()*1000)\n            response = requests.get(api_url).text.strip()\n            proxy = 'http://' + response.split(',')[0]\n            mill = int(response.split(',')[1])\n            if self.proxy_ip_dict.get(proxy) is None: break   # è·åå°æ°çï¼è·³åºå¾ªç¯\n        # proxy_popä¸ºç©ºå­ç¬¦ä¸²æ¶åå§åå­å¸\n        if proxy_pop == '':\n            self.proxy_ip_dict[proxy] = '{} 0 0'.format(curtime + mill)\n            if self.browser:\n                self.browser.close()\n            self.browser = self.create_chrome_driver(proxy_ip=proxy)\n        # IPå·²ç»å­å¨,è·³è¿\n        elif self.proxy_ip_dict.get(proxy) is not None:\n            pass\n        # å é¤æ§ç,æå¥æ°ç\n        else:\n            print(\"==================å é¤ip======{}\".format(proxy_pop))\n            self.proxy_ip_dict.pop(proxy_pop)\n            self.proxy_ip_dict[proxy] = '{} 0 0'.format(curtime + mill)\n            if self.browser:\n                self.browser.close()\n            self.browser = self.create_chrome_driver(proxy_ip=proxy)\n        return proxy\n\n    def preparatory_work(self, curmill):\n        proxy_ip = random.choice(list(self.proxy_ip_dict.keys()))\n        item_info = self.proxy_ip_dict[proxy_ip].split(' ')\n        print('å¯ç¨æ¶é´ï¼ä½¿ç¨æ¬¡æ°ãéè¯¯æ¬¡æ°ï¼ï¼{}  å½åæ¶é´ï¼{}'.format(self.proxy_ip_dict[proxy_ip], curmill))\n        if int(item_info[0]) > curmill and int(item_info[2]) == 0:  # and int(item_info[1]) < 10\n            return proxy_ip  # è¥å¯ç¨ï¼è¿å\n        else:\n            print(\"================== ipï¼{}  è¿ææ¶é´ï¼{}  å½åæ¶é´ï¼{} ======\".format(proxy_ip, item_info[0], int(time.time()*1000)))\n            return self.get_proxy(proxy_ip)   # è¥ä¸å¯ç¨ï¼ä»åè¡¨ç§»é¤  éæ°è·å\n",normalizedContent:"# çç¢ä»£ç \n\n----------------------------------------\n\n# url ç¼ç è§£ç \n\n# url ç¼ç \nurllib.parse.quote()\n# url è§£ç \nurllib.parse.unquote()\n\n\n# æ¥ææ ¼å¼å\n\nç¹æ®å­ç¬¦ä¸²è½¬æ¥æ\n\n# pip install python-dateutil\nimport datetime\nfrom dateutil import parser\n\ntime_string = \"fri jan 05 15:41:17 gmt+08:00 2024\"\ndt_object = parser.parse(time_string)\nprint(dt_object.strftime(\"%y-%m-%d %h:%m:%s\"))\n# è½¬æ¢ä¸º utc æ¶é´\nprint(dt_object.astimezone(tz=datetime.timezone.utc))\n# æèå¦æä½ æ³è½¬æ¢å°æ¬å°æ¶åºï¼åè®¾ä½ çç³»ç»éç½®äºæ­£ç¡®çæ¬å°æ¶åºï¼\nprint(dt_object.astimezone())\n\n\næ¥æè½¬å¸¦æ¶åºçå­ç¬¦ä¸²\n\nfrom datetime import datetime, timezone\nimport pytz\n\n# è·åå½åæ¶é´ï¼åè®¾æä»¬ä½¿ç¨utcæ¶åºä½ä¸ºç¤ºä¾ï¼å®éä¸­ä½ å¯è½éè¦æ ¹æ®ä½ çä½ç½®è·åæ­£ç¡®çæ¶åºï¼\nnow_utc = datetime.now(timezone.utc)\n\n# å°utcæ¶é´è½¬æ¢ä¸ºåäº¬æ¶é´ï¼gmt+08:00ï¼\n# æ³¨æï¼è¿éæä»¬ä½¿ç¨äºpytzåºæ¥è·ååäº¬æ¶é´çæ¶åºå¯¹è±¡\nbeijing_tz = pytz.timezone('asia/shanghai')\nnow_beijing = now_utc.astimezone(beijing_tz)\n\n# æ ¼å¼åæ¶é´ï¼ä½æ³¨æstrftime()ä¸æ¯æç´æ¥æ·»å æ¶åºåç§°ï¼æä»¥æä»¬æå¨æ·»å \n# '%a' - ææå çå¨å\n# '%b' - æä»½çç®åå\n# '%d' - æä¸­çä¸å¤©ï¼01è³31ï¼\n# '%y' - å¹´ä»½\n# '%h:%m:%s' - æ¶:å:ç§\n# ç¶åæä»¬æå¨æ·»å  'gmt+0800 (ä¸­å½æ åæ¶é´)'\nformatted_time = now_beijing.strftime(\"%a %b %d %y %h:%m:%s\") + \" gmt+0800 (ä¸­å½æ åæ¶é´)\"\n\nprint(\"å½åæ¶é´ï¼æ ¼å¼ååï¼:\", formatted_time)\n\n\n# json è½¬å­ç¬¦ä¸²ä¹±ç è§£å³\n\n# ç¡®ä¿è¾åºçç»æä¸­ä¸åå«éasciiå­ç¬¦\njson.dumps(response[\"result\"], ensure_ascii=false)\n\n\n# ä½¿ç¨ lxml è§£ææ°æ®\n\ndata=\"\"\"\n<datastore>\n<recordset>\n<record><![cdata[\n<div class=\"fyxx_lsbox\">\t<div class=\"btqz\"></div>\t<div class=\"fyxx_lsbox_r\">\t\t<a title=\"xxxxxxxxxxxxxxxxxxxxxx\" target=\"_blank\" href=\"/art/2024/1/12/art_1229682709_457018.html\">xxxxxxxxxxxxxxxxxxxxxx</a> <span>2024-01-12</span> </div></div>]]></record>\n</recordset>\n</datastore>\n\"\"\"\n\n# æ¹æ³ä¸ï¼å·¥å·ç´æ¥è§£æï¼ä¸è¿°æ°æ®ä¸å¤ªç¬¦åï¼ä½åæ³åºå¦æ­¤ï¼\nfrom xml.etree import elementtree as et\nroot = et.fromstring(data)\nfor element in root.iter():\n   # ç®åå°è®¿é®.textå±æ§ï¼å ä¸ºå¨å¤§å¤æ°æåµä¸è§£æå¨å·²ç»å¤çå¥½cdataäº\n   if element.text:\n      print(element.text)\n\n# æ¹æ³äºï¼å­ç¬¦ä¸²æ··åxpathå¤ç\ndatastore = etree.html(data)\nfor row in datastore.xpath('//record'):\n   record = etree.tostring(row).replace(r'<record>', '').replace(r']]&gt;</record>', '')\n   record1 = etree.html(record)\n   print etree.tostring(record1)\n\"\"\"\n\n\n# requests\n\n----------------------------------------\n\n# requests åºè¯·æ±ç»ææ¾ç¤ºä¸­æ\n\n# è®¾ç½®ç¼ç \nresponse.encoding='utf-8'\nprint(response.text)\n\n\n# requests åºæºå¸¦æä»¶å¯¹è±¡åæ°\n\nresponse = requests.post(\n    url='http://xxx/captcha-ocr-yn/captcha',\n    files={'captcha': open(img_path, 'rb')},\n    data={'question': 'è¯·ä¾æ¬¡ç¹å»ãå·¥,ç¡®,æµ·ã'}\n)\n\n\n# scrapy\n\n----------------------------------------\n\n# ç¨åºä¸­ä¸»å¨éåºç¬è«\n\n# scrapyæ¡æ¶ä¸­æå¨éåºç¬è«ç¨åº\nself.crawler.engine.close_spider(self, 'éªè¯ç å°è¯ä¸æ¬¡ä¸æ­£ç¡®ï¼éåºç¬è«')\n\n\n# ä»£ç ä¸­æ§è¡åä¸ªç¬è«\n\nfrom scrapy import cmdline\ncmdline.execute(\"scrapy crawl xxx -o ./data/xxx.csv -s log_file=./logs/xxx.log\".split())\n\n\n# å½ä»¤è¡ä¸­ä¼ å\n\nä¼ å¥åæ°\n\ncmdline.execute(\"scrapy crawl jianyusearch -a searchword=xxx -a page=10\".split())\n\n\nç¬è«ä¸­æ¥æ¶åæ°ï¼spiderä¸­å¢å ï¼\n\ndef __init__(self, searchword='', page=1,*args, **kwargs):\n  super(xxxspider, self).__init__(*args, **kwargs)\n  self.searchword = searchword\n  self.page = page\n\n\n# ä¸¤ä¸ªè¯·æ±è§ä¼ éåæ°\n\n# ç¬¬ä¸ä¸ªè¯·æ±æºå¸¦åæ°\nyield request(url=url, callback=self.parse, meta={\"para1\": xxx})\n\n# parse åè°å½æ°ä¸­è·ååæ°\nresponse.meta['url']\n\n\n# åéè¯·æ±å¹¶è·åè¯·æ±å¤´ä¸­çcookie\n\nresponse = requests.get(url, headers=headers)\nself.cookies = requests.utils.dict_from_cookiejar(response.cookies)\n\n\n# pipeline å­å¨ item æ°æ®å° excel\n\nclass spidernamepipeline(object):\n    def open_spider(self,spider):\n        if spider.name in ['spidername']:\n            self.field_list = [field_name for field_name, field_meta in spidernameitems.fields.items()]\n            self.wb = openpyxl.workbook()\n            self.ws = self.wb.active\n            self.ws.append(self.field_list)\n\n    def close_spider(self,spider):\n        if spider.name in ['spidername']:\n            self.wb.save(\"test.xlsx\")\n\n    def process_item(self, item, spider):\n        if spider.name in ['spidername']:\n            self.ws.append([item.get(field_name) for field_name in self.field_list])\n            return item\n\n\n# ä¸­é´ä»¶ from_crawler æ¹æ³ä¸­åä¸ªé¶æ®µæ§è¡åç»å®å½æ°\n\n@classmethod\ndef from_crawler(cls, crawler):\n    # this method is used by scrapy to create your spiders.\n    s = cls()\n    crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n    # ç»å® spider_closed ä¿¡å·çå¤çæ¹æ³\n    crawler.signals.connect(s.spider_closed, signal=signals.spider_closed)\n    return s\n\n\n# ä¸­é´ä»¶ï¼æspiderï¼ä¸­éæ°åéè¯·æ±\n\nfrom scrapy.downloadermiddlewares.retry import get_retry_request\n\nreturn get_retry_request(request=request, spider=spider, reason='xxx')   # spider = self\n\n\n# ä¸­é´ä»¶ä¸­å¤çå¼å¸¸\n\n# æåºå¼å¸¸\nraise ignorerequest(\"filtered request: {}\".format(request))\nraise valueerror('403 response')\n\n# å¤çå¼å¸¸\ndef process_exception(self, request, exception, spider):\n    if isinstance(exception, ignorerequest):\n        # å¤ç ignorerequest å¼å¸¸ï¼ä¾å¦è®°å½æ¥å¿ãåééç¥ç­\n        # è¿å none è¡¨ç¤ºå¼å¸¸å·²ç»è¢«å¤ç\n        return none\n    else:\n        # éåè¯·æ±\n        request.meta['dont_filter'] = true\n        request.meta['max_retry_times'] = 4   # å¢å éè¯æ¬¡æ°\n        return get_retry_request(request=request, spider=spider, reason='process_exception')\n\n\n# errorï¼ä½¿ç¨rquestsåè¯·æ±å¯ä»¥ï¼ä½æ¯ä½¿ç¨scrapyä¸è¡\n\n 1. ç½ç«æè¯·æ±å¤´ content-length çæ ¡éªï¼scrapyå¦æå¨headeråæ­»ï¼åè¯·æ±æ¶ä¼åå¢å ä¸ä¸ª content-lengthï¼èä¸æ¯æ¿æ¢åæ¥çï¼requeståºè¯¥æ¯ç´æ¥æ¿æ¢åæ¥çï¼ï¼å¯¼è´è¯·æ±å¼å¸¸ï¼400 bad requestï¼ã\n 2. è½ä¸è½ç¨ headers[\"content-length\"] = len(urllib.parse.urlencode(params).encode('utf-8')) è®¡ç®è¯·æ±é¿åº¦ï¼ï¼ï¼\n\n# selenium\n\n----------------------------------------\n\n# selenium chrome ææ°é©±å¨ä¸è½½å°å\n\nchrome for testing\n\n# selenium å»æç¬è«æ è¯ï¼ä¸ä¹åä¸åï¼\n\noptions = webdriver.chromeoptions()\noptions.add_argument(\"--disable-blink-features=automationcontrolled\")  # å°window.navigator.webdriverè®¾ç½®ä¸ºfalse\nbrowser = webdriver.chrome(options=options)\n\n\n#=============== ä¹åæ¯è¿æ ·ï¼æ²¡å¥½ä½¿ï¼ =====================\noptions = webdriver.chromeoptions()\n# selenium ä¸æ¾ç¤ºæ­£å¨è¢«æµè¯è½¯ä»¶æ§å¶\noptions.add_experimental_option('excludeswitches', ['enable-automation'])\noptions.add_experimental_option('useautomationextension', false)\nbrowser = webdriver.chrome(options=options)\n# é²æ­¢éè¿åéè¯å«å° selenium\nbrowser.execute_cdp_cmd(\n    'page.addscripttoevaluateonnewdocument',\n    {'source': 'object.defineproperty(navigator, \"webdriver, {get: () => undefined})'}\n)\n\n\n# selenium è®¾ç½®è¯·æ±å¤´\n\nbrowser.execute_cdp_cmd(\"network.enable\", {})\nbrowser.execute_cdp_cmd(\"network.setextrahttpheaders\", {\"headers\": {\"user-agent\": \"browser1\"}})\n\n\n# selenium è®¾ç½®é¡µé¢è¶æ¶æ¶é´\n\n# è®¾ç½®é¡µé¢å è½½åjså è½½è¶æ¶æ¶é´ï¼è¶æ¶ç«å³æ¥éï¼å¦ä¸è®¾ç½®è¶æ¶æ¶é´ä¸ºxç§\nbrowser.set_page_load_timeout(10)\nbrowser.set_script_timeout(10)\n\n\n# selenium å¨ linuxï¼centos7ï¼ ä¸ä½¿ç¨\n\n# 1. å¨æ®éç¨æ·æ²¡æé®é¢\n# 2. å¨ root ç¨æ·ä¸ç´æ¥é selenium.common.exceptions.webdriverexception: message: unknown error: devtoolsactiveport file doesn't exist\n#    1. headless ä»¥ä¸åæ³è§£å³\noptions.add_argument('--no-sandbox')  # fix:devtoolsactiveport file doesn't exist\noptions.add_argument('--disable-gpu')  # fix:devtoolsactiveport file doesn't exist\noptions.add_argument('--disable-dev-shm-usage')  # fix:devtoolsactiveport file doesn't exist\noptions.add_argument('--remote-debugging-port=9222')  # fix:devtoolsactiveport file doesn't exist\n\n# æ³¨ï¼ï¼å¡ä¸æ´å¤©çé®é¢ï¼\n# ç¾åº¦ linux ä¸ chrome æå¼æ¥éï¼æç»åºä»¥ä¸è§£å³åæ³çãåä¸ä¸è¦ä¿®æ¹ï¼ï¼ï¼è¦ä¸ selenium æ§è¡æ¥éï¼ï¼ï¼\n# å°`/usr/bin/google-chrome` ä¸­ `exec -a \"$0\" \"$here/chrome\" \"$@\"` ä¿®æ¹ä¸º `exec -a \"$0\" \"$here/chrome\" \"$@\" --user-data-dir --no-sandbox`\n\n\n# selenium è·åè¯·æ±å¤´\n\n# pip install selenium-wire\n\nfrom seleniumwire import webdriver\n\ndriver = webdriver.chrome()\ndriver.get('https://www.baidu.com')\nfor request in driver.requests:\n    print('è¯·æ±headersï¼')\n    print(request.headers)\n    # print(request.response.headers)\n    break\ndriver.quit()\n\n\n# selenium è·åcookies\n\ndriver.get_cookies()\n\n\n# selenium è·å jquery ä¸­ localstorage\n\nlocalstorageï¼å¨html5ä¸­ï¼æ°å å¥çä¸ä¸ªlç¹æ§ï¼è¿ä¸ªç¹æ§ä¸»è¦æ¯ç¨æ¥ä½ä¸ºæ¬å°å­å¨æ¥ä½¿ç¨çï¼è§£å³äºcookieå­å¨ç©ºé´ä¸è¶³çé®é¢ï¼localstorageä¸­ä¸è¬æµè§å¨æ¯æçæ¯5må¤§å°ï¼è¿ä¸ªå¨ä¸åçæµè§å¨ä¸­localstorageä¼ææä¸å\n\nlocal_storage = driver.execute_script(\"return window.localstorage;\")\n\n\n# ç¬è«èªæµç½ç«\n\n# å¯ä»¥æ¥çä¸æ­£å¸¸è®¿é®ç¸æ¯æåªäºåæ°ä¸åï¼ç¨äºä¼åç¬è«ç¨åº\nhttps://bot.sannysoft.com/\n\n\n# ç¬è«æ¢³ç\n\n----------------------------------------\n\n 1.  session éªè¯ï¼\n     * æ¨¡æç»å½åè·å cookie ä¸­ï¼æ¯æ¬¡è¯·æ±å¸¦ä¸æ¹ cookie\n 2.  æ°æ®å­æ¯éªè¯ç ï¼ ocr è¯å«ï¼åé¢è¯·æ±æ¯æ¬¡å¸¦ä¸éªè¯ç ï¼æäºéå å¯ï¼\n 3.  ipå°ç¦ï¼ è´­ä¹°å¨æip\n 4.  user-agentéªè¯ï¼ä¿®æ¹è¯·æ±ua\n 5.  æ°æ®å¨æå è½½ï¼\n     * æ¨¡ææ¥å£è¯·æ±ï¼è·åjsonæ°æ®\n     * selenium è·åå¨ææ¸²æåç½ç«æºç \n 6.  æ°æ®å å¯ï¼çè®ºä¸å¨ç½ç«é½è½æ¾å°keyï¼\n     * base64 å å¯ï¼æ ç§é¥ï¼ç´æ¥è§£å¯\n     * ä½¿ç¨aeså å¯ç§é¥ï¼åç¨raså å¯æ­£æ\n 7.  content-length éªè¯ï¼æäºç½ç«ä¼éªè¯è¯·æ±å¤´ä¸­ç content-lengthï¼è¦ä¿è¯æä¸åªæä¸ä¸ªæ­£ç¡®çé¿åº¦\n 8.  éè¿ window.open('xxx'') å¯è·åè·³è½¬é¾æ¥\n 9.  éè¿refererçåæç¬è«\n 10. éå¯¹ selenium ç find_element_by_* æ¹æ³ç click äºä»¶çå¬\n\n * ç¬¬ä¸æ¹åºï¼pyautogui ç­\n\nåææè·¯\n\n> ä½¿ç¨æµè§å¨ > åç´  > äºä»¶çå¬å¨ï¼ææ¥æ§è¡çjs ä½¿ç¨ç§»å¨ç«¯é¾æ¥ www -> m\n\n# å å¯è§£å¯å½æ°\n\n----------------------------------------\n\n# ras è§£å¯\n\nfrom crypto.publickey import rsa\nfrom crypto.cipher import pkcs1_v1_5 as cipher_pkcs1_v1_5\nimport base64\n\ndef rsa_decrypt(cipher_text, private_key):\n    decode_text = base64.b64decode(cipher_text)\n    cipher = cipher_pkcs1_v1_5.new(rsa.importkey(private_key))  # åå»ºç¨äºæ§è¡pkcs1_v1_5å å¯æè§£å¯çå¯ç \n    decrypt_text = cipher.decrypt(decode_text, b\"rsa\")\n    return decrypt_text.decode(\"utf-8\")\n\n\n# aes è§£å¯ï¼aes-ctr æ¨¡å¼ï¼å¶ä»ç±»ä¼¼ï¼\n\nfrom crypto.cipher import aes\nfrom crypto.util import counter\nimport base64\n\ndef decrypt_aes_ctr(encrypted_data, key, iv):\n   ciphertext = base64.b64decode(encrypted_data)\n    key = str.encode(key)\n    # è®¾ç½® aes-ctr çè®¡æ°å¨\n    ctr = counter.new(128, initial_value=int.from_bytes(iv, byteorder='big'))\n    # ä½¿ç¨ aes-ctr æ¨¡å¼åå»º aes å¯¹è±¡\n    aes = aes.new(key, aes.mode_ctr, counter=ctr)\n    # è§£å¯å¯æ\n    decrypted_data = aes.decrypt(ciphertext)\n    # å°è§£å¯åçæ°æ®è½¬æ¢ä¸ºææ¬\n    decrypted_text = decrypted_data.decode('utf-8')\n    return decrypted_text\n\n\n# aes å å¯ï¼aes-ecb æ¨¡å¼ï¼\n\nfrom crypto.cipher import aes\n\ndef aes_encode(data, key):\n  global aes\n  while len(data) % 16 != 0:  # è¡¥è¶³å­ç¬¦ä¸²é¿åº¦ä¸º16çåæ°\n      data += (16 - len(data) % 16) * chr(16 - len(data) % 16)\n      data = str.encode(data)\n      aes = aes.new(str.encode(key), aes.mode_ecb)  # åå§åå å¯å¨\n  return str(base64.encodebytes(aes.encrypt(data)), encoding='utf8').replace('\\n', '')  # å å¯\n\n\n# éï¼ä»£ç ç¤ºä¾\n\n----------------------------------------\n\n# ç¬è«ä»£ç \n\nfrom xxx.items import gpitems\nfrom scrapy.spiders import crawlspider, rule\nfrom scrapy.http import request\n\nimport logging\nimport base64\nfrom crypto.cipher import aes\n\nclass xxxspider(crawlspider):\n\tname = 'xxx'\n\tallowed_domains = ['www.xxx.com']\n\n\t# keyï¼æ°æ®æ¥å£å°å   valueï¼source type_code ä¸æ¬¡ç¬åçé¡µé¢æ°\n\tcategorycodedict = {\n\t\t'ç½å1{}': 'æè¿°1 id1 1 3',  # 17é¡µ    15-31é¡µ\n\t\t'ç½å2{}': 'æè¿°2 id2 1 6',  # 179é¡µ\n\t}\n\theaders = {\n\t}\n\n\tdef start_requests(self):\n\t\tfor key, value in self.categorycodedict.items():\n\t\t\tstart_page = int(value.split(' ')[2])\n\t\t\tpage = int(value.split(' ')[3])\n\t\t\tfor index in range(start_page, page):\n\t\t\t\turl = key.format(str(index))\n\t\t\t\tlogging.info('ç¬åæ»é¡µæ°ï¼{}  é¡µé¢é¾æ¥ï¼{}'.format(page - 1, url))\n\t\t\t\tyield request(url=url, headers=self.headers, method='post', callback=self.parse, meta={'categorycode': key, 'categorytext': value})\n\n\tdef parse(self, response):\n\t\tcategorytext1 = response.meta['categorytext'].split(' ')[0]\n\t\tcategorytext2 = response.meta['categorytext'].split(' ')[1]\n\n\t\trows = response.xpath('//ul[@class=\"article-list-a\"]/li')\n\t\tfor row in rows:\n\t\t\ti = gpitems()\n\t\t\ti['publishtime'] = row.xpath('div[1]/div[@class=\"list-times\"]/text()').extract_first().strip()\n\t\t\turl = row.xpath('div[1]/a/@href').extract_first().strip()\n\t\t\tccc = url.split('/')[-1].split('.')[0]\n\t\t\tddd = self.aes_encode(ccc, 'å¬é¥ç¼ç ').replace('/', '^').replace(\"==\", \"\")\n\t\t\ti['url'] = url.replace(ccc, ddd)\n\t\t\ti['title'] = ''.join(row.xpath('div[1]/a/text()').extract()).strip()\n\t\t\tad_name = row.xpath('div[1]/a/label/text()').extract_first()\n\t\t\tif ad_name:\n\t\t\t\tad_name = ad_name.strip().replace('ã', '').replace('ã', '')\n\t\t\t\ti['ad_name'] = 'sss' if ad_name == 'bbb' else ad_name\n\t\t\telse:\n\t\t\t\ti['ad_name'] = 'xxx'\n\t\t\ti['source'] = categorytext1\n\t\t\ti['type_code'] = categorytext2\n\t\t\tyield request(i['url'], headers=self.headers, meta={'item': i}, callback=self.parse_item)\n\n\tdef parse_item(self, response):\n\t\ti = response.meta['item']\n\t\ti['htmlcontent'] = response.xpath('//div[@class=\"class1111\"]').extract_first().strip()\n\t\treturn i\n\n\tdef aes_encode(self, data, key):\n\t\tglobal aes\n\t\twhile len(data) % 16 != 0:  # è¡¥è¶³å­ç¬¦ä¸²é¿åº¦ä¸º16çåæ°\n\t\t\tdata += (16 - len(data) % 16) * chr(16 - len(data) % 16)\n\t\t\tdata = str.encode(data)\n\t\t\taes = aes.new(str.encode(key), aes.mode_ecb)  # åå§åå å¯å¨\n\t\treturn str(base64.encodebytes(aes.encrypt(data)), encoding='utf8').replace('\\n', '')  # å å¯\n\n\n# ä¸­é´ä»¶ä½¿ç¨å¨æä»£çipæµè¯\n\nclass autotestdownloadermiddleware(object):\n    delay_sec = [0.1, 0.2, 0.3, 0.4, 0.5]   # , 0.6, 0.7, 0.8, 0.9\n    proxy_ip_dict = {}\n    # éè¦èµ°ä»£ççç¬è«\n    spiders_list = ['xxx']\n\n    def spider_opened(self, spider):\n        # åå§åä»£çæ± \n        if spider.name in self.spiders_list:\n            while len(self.proxy_ip_dict) < 6:\n                time.sleep(5)\n                self.get_proxy()\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        # this method is used by scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        return s\n\n    def process_request(self, request, spider):\n        if spider.name in self.spiders_list:\n            # time.sleep(random.choice(self.delay_sec))\n            proxy_ip = self.determine(int(time.time()*1000))\n            print('request.meta[\\'proxy\\'] = {proxy_ip}'.format(proxy_ip=proxy_ip))\n            print('proxy_ip_listï¼{}'.format(self.proxy_ip_dict))\n            request.meta['proxy'] = proxy_ip\n\n    def process_response(self, request, response, spider):\n        return response\n\n    def process_exception(self, request, exception, spider):\n        pass\n\n    def get_proxy(self, proxy_pop=''):\n        curtime = int(time.time()*1000)\n        api_url = 'è´­ä¹°çå¨æipæ¥å£'   # è¿åå¼ä¸º ip:port,å¯ç¨æ¶é´(æ¯«ç§)\n        response = requests.get(api_url).text.strip()\n        proxy = 'http://' +response.split(',')[0]\n        mill = int(response.split(',')[1])\n        print('ä»apiè·åå¨æipï¼{}'.format(response))\n        # self.proxy_ip_list.append((proxy, curtime + mill))\n        # å·²ç»æ,æ´æ°ï¼æ²¡æ,å é¤æ§ç,æå¥æ°ç   proxy_popä¸ºç©ºå­ç¬¦ä¸²æ¶åå§åå­å¸\n        if proxy_pop == '' or self.proxy_ip_dict.get(proxy) is not none:\n            pass\n        else:\n            print(\"==================å é¤ip======{}\".format(proxy_pop))\n            self.proxy_ip_dict.pop(proxy_pop)\n        self.proxy_ip_dict[proxy] = curtime + mill - 2000 # 2sé¢çæ¶é´å·®\n        # return (proxy, curtime + mill)\n        return proxy\n\n    def determine(self, curmill):\n        # è·åip\n        item1 = random.choice(list(self.proxy_ip_dict.keys()))\n        print('å¯ç¨æ¶é´ï¼{}  å½åæ¶é´ï¼{}'.format(self.proxy_ip_dict[item1], curmill))\n        if self.proxy_ip_dict[item1] > curmill:\n            # è¥å¯ç¨ï¼è¿å\n            # return tuple1[0]\n            return item1\n        else:\n            print(\"================== ipï¼{}  è¿ææ¶é´ï¼{}  å½åæ¶é´ï¼{} ======\".format(item1, self.proxy_ip_dict[item1], int(time.time()*1000) ))\n            # è¥ä¸å¯ç¨ï¼ä»åè¡¨ç§»é¤  éæ°è·å\n            return self.get_proxy(item1)\n\n\n# ä¸­é´ä»¶ä½¿ç¨seleniumåéè¯·æ± + å¨æä»£çip\n\nfrom selenium import webdriver\nfrom scrapy.downloadermiddlewares.retry import get_retry_request\nfrom scrapy.exceptions import ignorerequest\nimport pymysql\nfrom scrapy.utils.project import get_project_settings\nclass seleniumdownloadermiddleware(object):\n    # éè¦èµ°ä»£ççç¬è«\n    spiders_list = ['xxxx', 'xxxxxx']\n    proxy_ip_dict = {}  # keyï¼ä»£çip  valueï¼æå¤§å¯ç¨æ¯«ç§æ° ä½¿ç¨æ¬¡æ° éè¯¯æ¬¡æ°ï¼seleniumä¸­è·åä¸å°ä»£çipï¼æåä¸æ¶é´åªè½ä½¿ç¨ä¸ä¸ªä»£çipï¼\n    proxy = false    # æ¯å¦èµ°ä»£ç\n    db = none\n    cursorseq = none\n\n    def __init__(self):\n        self.browser = none\n\n    def spider_opened(self, spider):\n        if spider.name in self.spiders_list:\n            self.browser = self.create_chrome_driver()  # åå»ºæµè§å¨å¯¹è±¡\n            self.connect()  # åå»ºæ°æ®åºè¿æ¥\n            if self.proxy:\n                while len(self.proxy_ip_dict) == 0:   # æ¯æ¬¡åªæä¸ä¸ªip\n                    self.get_proxy()\n\n    def spider_closed(self, spider):\n        if spider.name in self.spiders_list:\n            if self.browser:   # å³é­æµè§å¨è¿æ¥\n                self.browser.close()\n            if self.cursorseq or self.db:   # å³é­æ°æ®åºè¿æ¥\n                self.cursorseq.close()\n                self.db.close()\n\n    @classmethod\n    def from_crawler(cls, crawler):\n        # this method is used by scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        # ç»å® spider_closed ä¿¡å·çå¤çæ¹æ³\n        crawler.signals.connect(s.spider_closed, signal=signals.spider_closed)\n        return s\n\n    def process_request(self, request, spider):\n        if spider.name in self.spiders_list:\n            # åºä¸­å­å¨å°±ä¸è®¿é®\n            if self.should_filter(request):\n                # å¦æéè¦è¿æ»¤ï¼åæåº ignorerequest å¼å¸¸\n                raise ignorerequest(\"filtered request: {}\".format(request))\n            if self.proxy:\n                self.preparatory_work(int(time.time()*1000))\n            self.browser.get(request.url)\n            # time.sleep(random.uniform(0.1, 0.5))\n            print(\"=\" * 100)\n            print(\"#########{}\".format(self.browser.current_url))\n            if len(self.browser.page_source) < 200:  # ç©ºè¯·æ±ä½æipè¶è¿æå¤§è¯·æ±é\n                # <html lang=\"zh-cn\"><head><meta charset=\"utf-8\"><title>too many request</title></head><body>ipè¶è¿æå¤§è¯·æ±éï¼è¯¦æåè<a href=\"http://www.data5u.com/help/article-54.html\">www.data5u.com</a></body></html>\n                # <html><head></head><body></body></html>\n                print(\"================= empty response: {url} =============================\".format(url=self.browser.current_url))\n                print(self.browser.page_source)\n                raise valueerror('empty response')\n            return htmlresponse(url=request.url, body=self.browser.page_source, encoding=\"utf-8\",\n                                request=request)  # ç¶åæè¿ä¸ªresponseå¯¹è±¡è¿åç»ç¬è«  self.browser.current_url\n\n    def process_response(self, request, response, spider):\n        if spider.name in self.spiders_list:\n            print(\"====================== process_response ====================================\")\n            print(response.status)\n            if self.proxy:\n                # ä½¿ç¨ next() å½æ°è·åç¬¬ä¸ä¸ªé®å¼å¯¹\n                first_key, first_value = next(iter(self.proxy_ip_dict.items()))\n                item_info = self.proxy_ip_dict[first_key].split(' ')\n                item_info[1] = str(int(item_info[1]) + 1)  # ä½¿ç¨æ¬¡æ°+1\n                if response.status != 200:\n                    item_info[2] = str(int(item_info[2]) + 1)  # éè¯¯æ¬¡æ°+1\n                self.proxy_ip_dict[first_key] = ' '.join(item_info)\n        # åè¿ååå§çååºå¯¹è±¡\n        return response\n\n    def process_exception(self, request, exception, spider):\n        if spider.name in self.spiders_list:\n            print(\"====================== process_exception ====================================\")\n            print(request.url)\n            print(exception)\n            if isinstance(exception, ignorerequest):\n                # å¤ç ignorerequest å¼å¸¸ï¼ä¾å¦è®°å½æ¥å¿ãåééç¥ç­\n                # è¿å none è¡¨ç¤ºå¼å¸¸å·²ç»è¢«å¤ç\n                return none\n            if self.proxy:\n                # ä½¿ç¨ next() å½æ°è·åç¬¬ä¸ä¸ªé®å¼å¯¹\n                first_key, first_value = next(iter(self.proxy_ip_dict.items()))\n                item_info = self.proxy_ip_dict[first_key].split(' ')\n                item_info[1] = str(int(item_info[1]) + 1)  # ä½¿ç¨æ¬¡æ°+1\n                item_info[2] = str(int(item_info[2]) + 1)  # éè¯¯æ¬¡æ°+1\n                self.proxy_ip_dict[first_key] = ' '.join(item_info)\n            request.meta['dont_filter'] = true    # å¯ä»¥ä¸å ï¼retryå½æ°ä¸­ä¼ä¿®æ¹\n            request.meta['max_retry_times'] = 4   # å¢å éè¯æ¬¡æ°\n            return get_retry_request(request=request, spider=spider, reason='process_exception')\n        pass\n\n    #=========================================== èªå®ä¹å½æ° =====================================\n\n    def should_filter(self, request):\n        # å¨è¿éç¼åè¿æ»¤é»è¾ï¼æ ¹æ®è¯·æ±çæäºç¹å¾æ¥å¤æ­æ¯å¦éè¦è¿æ»¤è¯¥è¯·æ±\n        sqlexists = \"select count(1) from crawler_t_src_spider a where a.url= '\"+request.url+\"'\"\n        self.cursorseq.execute(sqlexists)\n        num1 = self.cursorseq.fetchone()\n        num = num1[0]\n        # è¿å true è¡¨ç¤ºéè¦è¿æ»¤ï¼è¿å false è¡¨ç¤ºä¸éè¦è¿æ»¤\n        if num == 0:\n            return false  # ç¤ºä¾ä¸­é»è®¤ä¸è¿æ»¤ä»»ä½è¯·æ±\n        else:\n            print(\"======================= è¿æ»¤è¯·æ± =={}=============================\".format(request.url))\n            return true\n\n    def connect(self):\n        settings = get_project_settings()\n        self.db = pymysql.connect(\n            host=settings['db_host'],\n            port=settings['db_port'],\n            user=settings['db_user'],\n            password=settings['db_passwrod'],\n            db=settings['db_name'],\n            charset=settings['db_charset']\n        )\n        self.cursorseq = self.db.cursor()\n\n    def create_chrome_driver(self, headless=false, proxy_ip=none):\n        options = webdriver.chromeoptions()\n        if headless:\n            options.add_argument('--headless')\n            options.add_argument('--no-sandbox')  # fix:devtoolsactiveport file doesn't exist\n            options.add_argument('--disable-gpu')  # fix:devtoolsactiveport file doesn't exist\n            options.add_argument('--disable-dev-shm-usage')  # fix:devtoolsactiveport file doesn't exist\n            options.add_argument('--remote-debugging-port=9222')  # fix:devtoolsactiveport file doesn't exist\n            # headless æ¨¡å¼è¯·æ±å¤´ä¸æ­£å¸¸ä¸ä¸è´ï¼éä¿®æ¹è¯·æ±å¤´\n            options.add_argument(f'user-agent=mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/79.0.3945.79 safari/537.36')\n        else:\n            options.add_argument(\"--start-maximized\")\n        if proxy_ip: options.add_argument('--proxy-server={}'.format(proxy_ip))\n\n        options.add_argument(\"--disable-blink-features=automationcontrolled\")  # å°window.navigator.webdriverè®¾ç½®ä¸ºfalse\n        options.add_experimental_option(\"prefs\", {\"profile.mamaged_default_content_settings.images\": 2})  # ä¸å è½½å¾ç,å å¿«è®¿é®éåº¦\n        # selenium ä¸æ¾ç¤ºæ­£å¨è¢«æµè¯è½¯ä»¶æ§å¶\n        options.add_experimental_option('excludeswitches', ['enable-automation'])\n        options.add_experimental_option('useautomationextension', false)\n        browser = webdriver.chrome(options=options)\n        # é²æ­¢éè¿åéè¯å«å° selenium\n        browser.execute_cdp_cmd(\n            'page.addscripttoevaluateonnewdocument',\n            {'source': 'object.defineproperty(navigator, \"webdriver, {get: () => undefined})'}\n        )\n\n        # browser.execute_cdp_cmd(\"network.enable\", {})\n        # browser.execute_cdp_cmd(\"network.setextrahttpheaders\", {\"headers\": {\"user-agent\": \"browser1\"}})\n\n        # è®¾ç½®é¡µé¢å è½½åjså è½½è¶æ¶æ¶é´ï¼è¶æ¶ç«å³æ¥éï¼å¦ä¸è®¾ç½®è¶æ¶æ¶é´ä¸ºxç§\n        browser.set_page_load_timeout(10)\n        browser.set_script_timeout(10)\n        time.sleep(2)\n        print(\"=========== åå»ºæµè§å¨å¯¹è±¡ï¼ä»£çipä¸º{} ================\".format(proxy_ip))\n        return browser\n\n    def get_proxy(self, proxy_pop=''):\n        api_url = 'ä»£çåapiæ¥å£'\n        curtime, proxy, mill = none, none, none\n        for i in range(3):\n            if i > 0: time.sleep(3)\n            curtime = int(time.time()*1000)\n            response = requests.get(api_url).text.strip()\n            proxy = 'http://' + response.split(',')[0]\n            mill = int(response.split(',')[1])\n            if self.proxy_ip_dict.get(proxy) is none: break   # è·åå°æ°çï¼è·³åºå¾ªç¯\n        # proxy_popä¸ºç©ºå­ç¬¦ä¸²æ¶åå§åå­å¸\n        if proxy_pop == '':\n            self.proxy_ip_dict[proxy] = '{} 0 0'.format(curtime + mill)\n            if self.browser:\n                self.browser.close()\n            self.browser = self.create_chrome_driver(proxy_ip=proxy)\n        # ipå·²ç»å­å¨,è·³è¿\n        elif self.proxy_ip_dict.get(proxy) is not none:\n            pass\n        # å é¤æ§ç,æå¥æ°ç\n        else:\n            print(\"==================å é¤ip======{}\".format(proxy_pop))\n            self.proxy_ip_dict.pop(proxy_pop)\n            self.proxy_ip_dict[proxy] = '{} 0 0'.format(curtime + mill)\n            if self.browser:\n                self.browser.close()\n            self.browser = self.create_chrome_driver(proxy_ip=proxy)\n        return proxy\n\n    def preparatory_work(self, curmill):\n        proxy_ip = random.choice(list(self.proxy_ip_dict.keys()))\n        item_info = self.proxy_ip_dict[proxy_ip].split(' ')\n        print('å¯ç¨æ¶é´ï¼ä½¿ç¨æ¬¡æ°ãéè¯¯æ¬¡æ°ï¼ï¼{}  å½åæ¶é´ï¼{}'.format(self.proxy_ip_dict[proxy_ip], curmill))\n        if int(item_info[0]) > curmill and int(item_info[2]) == 0:  # and int(item_info[1]) < 10\n            return proxy_ip  # è¥å¯ç¨ï¼è¿å\n        else:\n            print(\"================== ipï¼{}  è¿ææ¶é´ï¼{}  å½åæ¶é´ï¼{} ======\".format(proxy_ip, item_info[0], int(time.time()*1000)))\n            return self.get_proxy(proxy_ip)   # è¥ä¸å¯ç¨ï¼ä»åè¡¨ç§»é¤  éæ°è·å\n",charsets:{cjk:!0},lastUpdated:"2024/12/26, 14:30:54",lastUpdatedTimestamp:1735194654e3},{title:"Shellåºç¡",frontmatter:{title:"Shellåºç¡",date:"2022-03-10T16:49:17.000Z",permalink:"/pages/5704cc/",categories:["å¶ä»","Shell"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/02.Shell/01.Shell%E5%9F%BA%E7%A1%80.html",relativePath:"04.å¶ä»/02.Shell/01.Shellåºç¡.md",key:"v-6ece5467",path:"/pages/5704cc/",headers:[{level:2,title:"ä¸ãå½ä»¤",slug:"ä¸ãå½ä»¤",normalizedTitle:"ä¸ãå½ä»¤",charIndex:14},{level:3,title:"1ãæç´¢å½ä»¤ç¨æ³",slug:"_1ãæç´¢å½ä»¤ç¨æ³",normalizedTitle:"1ãæç´¢å½ä»¤ç¨æ³",charIndex:56},{level:3,title:"2ãLinuxå½ä»¤åç±»",slug:"_2ãlinuxå½ä»¤åç±»",normalizedTitle:"2ãlinuxå½ä»¤åç±»",charIndex:69},{level:4,title:"æä»¶ä¼ è¾",slug:"æä»¶ä¼ è¾",normalizedTitle:"æä»¶ä¼ è¾",charIndex:84},{level:4,title:"å¤ä»½åç¼©",slug:"å¤ä»½åç¼©",normalizedTitle:"å¤ä»½åç¼©",charIndex:423},{level:4,title:"æä»¶ç®¡ç",slug:"æä»¶ç®¡ç",normalizedTitle:"æä»¶ç®¡ç",charIndex:1388},{level:4,title:"ç£çç®¡ç",slug:"ç£çç®¡ç",normalizedTitle:"ç£çç®¡ç",charIndex:1666},{level:4,title:"ç£çç»´æ¤",slug:"ç£çç»´æ¤",normalizedTitle:"ç£çç»´æ¤",charIndex:1836},{level:4,title:"ç³»ç»è®¾ç½®",slug:"ç³»ç»è®¾ç½®",normalizedTitle:"ç³»ç»è®¾ç½®",charIndex:2086},{level:4,title:"ç³»ç»ç®¡ç",slug:"ç³»ç»ç®¡ç",normalizedTitle:"ç³»ç»ç®¡ç",charIndex:2453},{level:4,title:"ææ¬å¤ç",slug:"ææ¬å¤ç",normalizedTitle:"ææ¬å¤ç",charIndex:2772},{level:4,title:"ç½ç»éè®¯",slug:"ç½ç»éè®¯",normalizedTitle:"ç½ç»éè®¯",charIndex:3018},{level:4,title:"è®¾å¤ç®¡ç",slug:"è®¾å¤ç®¡ç",normalizedTitle:"è®¾å¤ç®¡ç",charIndex:3442},{level:4,title:"çµå­é®ä»¶ä¸æ°é»ç»",slug:"çµå­é®ä»¶ä¸æ°é»ç»",normalizedTitle:"çµå­é®ä»¶ä¸æ°é»ç»",charIndex:3490},{level:4,title:"å¶ä»å½ä»¤",slug:"å¶ä»å½ä»¤",normalizedTitle:"å¶ä»å½ä»¤",charIndex:3703},{level:3,title:"åå®¢",slug:"åå®¢",normalizedTitle:"åå®¢",charIndex:3717},{level:2,title:"äºãshellèæ¬ç¸å³",slug:"äºãshellèæ¬ç¸å³",normalizedTitle:"äºãshellèæ¬ç¸å³",charIndex:3776},{level:3,title:"1ãèæ¬æ ¼å¼",slug:"_1ãèæ¬æ ¼å¼",normalizedTitle:"1ãèæ¬æ ¼å¼",charIndex:3801},{level:3,title:"2ãåé",slug:"_2ãåé",normalizedTitle:"2ãåé",charIndex:4174},{level:4,title:"åéç±»å",slug:"åéç±»å",normalizedTitle:"åéç±»å",charIndex:4182},{level:4,title:"å®ä¹åé",slug:"å®ä¹åé",normalizedTitle:"å®ä¹åé",charIndex:4408},{level:4,title:"åæ°æ©å±",slug:"åæ°æ©å±",normalizedTitle:"åæ°æ©å±",charIndex:4614},{level:4,title:"ééç¬¦",slug:"ééç¬¦",normalizedTitle:"ééç¬¦",charIndex:2979},{level:4,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:6207},{level:3,title:"3ãç¹æ®åé",slug:"_3ãç¹æ®åé",normalizedTitle:"3ãç¹æ®åé",charIndex:6335},{level:3,title:"4ãifæ¡ä»¶å¤æ­",slug:"_4ãifæ¡ä»¶å¤æ­",normalizedTitle:"4ãifæ¡ä»¶å¤æ­",charIndex:6843},{level:3,title:"5ãæµç¨æ§å¶",slug:"_5ãæµç¨æ§å¶",normalizedTitle:"5ãæµç¨æ§å¶",charIndex:8800},{level:4,title:"ifå¤æ­",slug:"ifå¤æ­",normalizedTitle:"ifå¤æ­",charIndex:8810},{level:4,title:"caseè¯­æ³",slug:"caseè¯­æ³",normalizedTitle:"caseè¯­æ³",charIndex:8998},{level:4,title:"forå¾ªç¯",slug:"forå¾ªç¯",normalizedTitle:"forå¾ªç¯",charIndex:9185},{level:4,title:"whileå¾ªç¯",slug:"whileå¾ªç¯",normalizedTitle:"whileå¾ªç¯",charIndex:9466},{level:4,title:"Untilå¾ªç¯",slug:"untilå¾ªç¯",normalizedTitle:"untilå¾ªç¯",charIndex:9533},{level:3,title:"6ãreadè¯»åæ§å¶å°è¾å¥",slug:"_6ãreadè¯»åæ§å¶å°è¾å¥",normalizedTitle:"6ãreadè¯»åæ§å¶å°è¾å¥",charIndex:9583},{level:3,title:"7ãå½æ°",slug:"_7ãå½æ°",normalizedTitle:"7ãå½æ°",charIndex:9741},{level:4,title:"basename æªåæä»¶å",slug:"basename-æªåæä»¶å",normalizedTitle:"basename æªåæä»¶å",charIndex:9749},{level:4,title:"dirname æªåç»å¯¹è·¯å¾",slug:"dirname-æªåç»å¯¹è·¯å¾",normalizedTitle:"dirname æªåç»å¯¹è·¯å¾",charIndex:9933}],headersStr:"ä¸ãå½ä»¤ 1ãæç´¢å½ä»¤ç¨æ³ 2ãLinuxå½ä»¤åç±» æä»¶ä¼ è¾ å¤ä»½åç¼© æä»¶ç®¡ç ç£çç®¡ç ç£çç»´æ¤ ç³»ç»è®¾ç½® ç³»ç»ç®¡ç ææ¬å¤ç ç½ç»éè®¯ è®¾å¤ç®¡ç çµå­é®ä»¶ä¸æ°é»ç» å¶ä»å½ä»¤ åå®¢ äºãshellèæ¬ç¸å³ 1ãèæ¬æ ¼å¼ 2ãåé åéç±»å å®ä¹åé åæ°æ©å± ééç¬¦ æ°ç» 3ãç¹æ®åé 4ãifæ¡ä»¶å¤æ­ 5ãæµç¨æ§å¶ ifå¤æ­ caseè¯­æ³ forå¾ªç¯ whileå¾ªç¯ Untilå¾ªç¯ 6ãreadè¯»åæ§å¶å°è¾å¥ 7ãå½æ° basename æªåæä»¶å dirname æªåç»å¯¹è·¯å¾",content:'# shellåºç¡\n\n\n# ä¸ãå½ä»¤\n\nè¯¦ç»ç¨æ³è¯·æ¥çLinuxå½ä»¤å¤§å¨æç´¢å·¥å· v1.5.1.pdf\n\n\n# 1ãæç´¢å½ä»¤ç¨æ³\n\n\n# 2ãLinuxå½ä»¤åç±»\n\n# æä»¶ä¼ è¾\n\nbyeãftpãftpcountãftpshutãftpwhoãncftpãtftpãuucicoãuucpãuupickãuutoãscp\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. ftpï¼ ä½¿ç¨ftp 127.0.0.1åå»ºè¿æ¥ï¼è¾å¥ç¨æ·åå¯ç åè¿æ¥æåï¼ä½¿ç¨[m]get xxxã[m]put xxxä¸ä¼ ä¸è½½æä»¶ï¼ä½¿ç¨[m]deleteå é¤è¿ç«¯æä»¶ï¼ä½¿ç¨byeãexitãquitå³é­è¿æ¥\n 2. scpï¼ è¿ç¨æ·è´å°æ¬æºï¼scp -r root@10.10.10.10:/opt/soft/mongodb /opt/soft/ æ¬æºæ·è´å°è¿ç¨ï¼scp -r /opt/soft/mongodb root@10.10.10.10:/opt/soft/scptest\n\n# å¤ä»½åç¼©\n\narãbunzip2ãbzip2ãbzip2recoverãcompressãcpioãdumpãgunzipãgzexeãgzipãlhaãrestoreãtarãunarjãunzipãzipãzipinfo\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. gzï¼ æåå¹¶åç¼©ï¼tar -czf [ç®æ æä»¶å].tar.gz [åæä»¶/ç®å½å] è§£åå¹¶è§£åï¼tar -zxvf xxx.tar.gz -C dirnameï¼æå®è§£åè·¯å¾ï¼\n    \n    > æ³¨ï¼cåæ°ä»£è¡¨createï¼åå»ºï¼ï¼xåæ°ä»£è¡¨extractï¼è§£åï¼ï¼våæ°ä»£è¡¨verboseï¼è¯¦ç»ä¿¡æ¯ï¼ï¼fåæ°ä»£è¡¨filenameï¼æä»¶åï¼ï¼æä»¥fåå¿é¡»æ¥æä»¶åã\n\n 2. zipï¼ åç¼©ï¼zip -qr [ç®æ æä»¶å].zip [åæä»¶/ç®å½å] è§£åï¼unzip [åæä»¶å].zip\n\n 3. bz2 æåå¹¶åç¼©ï¼ tar -jcvf [ç®æ æä»¶å].tar.bz2 [åæä»¶å/ç®å½å] è§£åå¹¶è§£åï¼ tar -jxvf [åæä»¶å].tar.bz2 æ³¨ï¼å°åjä»£è¡¨ç¨bzip2ç®æ³æ¥åç¼©/è§£å\n\n 4. 7z åç¼©ï¼7z a [ç®æ æä»¶å].7z [åæä»¶å/ç®å½å] è§£åï¼7z x [åæä»¶å].7z\n\n 5. jar åç¼©ï¼jar -cvf [ç®æ æä»¶å].jar [åæä»¶å/ç®å½å] è§£åï¼jar -xvf [åæä»¶å].jar\n    \n    > æ³¨ï¼å¦ææ¯æåçæ¯Javaç±»åºï¼å¹¶ä¸è¯¥ç±»åºä¸­å­å¨ä¸»ç±»ï¼é£ä¹éè¦åä¸ä¸ªMETA-INF/MANIFEST.MFéç½®æä»¶ï¼åå®¹å¦ä¸ï¼\n    > Manifest-Version: 1.0\n    > Created-By: 1.6.0_27 (Sun Microsystems Inc.)\n    > Main-class: the_name_of_the_main_class_should_be_put_here\n    > ç¶åç¨å¦ä¸å½ä»¤æåï¼jar -cvfm [ç®æ æä»¶å].jar META-INF/MANIFEST.MF [åæä»¶å/ç®å½å]ï¼è¿æ ·ä»¥åå°±è½ç¨âjava -jar [æä»¶å].jarâå½ä»¤ç´æ¥è¿è¡ä¸»ç±»ä¸­çpublic static void mainæ¹æ³äºã\n\n# æä»¶ç®¡ç\n\ndiffãdiffstatãfileãfindãgitãgitviewãlnãlocateãlsattrãmattribãmcãmcopyãmdelãmdirãmktempãmmoveãmreadãmrenãmshowfatãmtoolsãmtoolstestãmvãodãpasteãpatchãrcpãrhmaskãrmãslocateãsplitãteeãtmpwatchãtouchãumaskãwhereisãwhichãcatãchattrãchgrpãchmodãchownãcksumãcmpãcpãcutãindent\n\n# ç£çç®¡ç\n\ncdãdfãdirsãduãedquotaãejectãlndirãlsãmcdãmdeltreeãmduãmkdirãmlabelãmmdãmmountãmrdãmzipãpwdãquotaãquotacheckãquotaoffãquotaonãrepquotaãrmdirãrmtãstatãtreeãumount\n\n# ç£çç»´æ¤\n\nbadblocksãcfdiskãddãe2fsckãext2edãfdiskãfsck.ext2ãfsckãfsck.minixãfsconfãhdparmãlosetupãmbadblocksãmformatãmkbootdiskãmkdosfsãmke2fsãmkfs.ext2ãmkfsãmkfs.minixãmkfs.msdosãmkinitrdãmkisofsãmkswapãmpartitionãsfdiskãswapoffãswaponãsymlinksãsync\n\n# ç³»ç»è®¾ç½®\n\naliasãapmdãaumixãbindãchkconfigãchrootãclockãcrontabãdeclareãdepmodãdircolorsãdmesgãenableãevalãexportãfbsetãgrpconvãgrpunconvãhwclockãinsmodãkbdconfigãliloãliloconfigãlsmodãminfoãmkkickstartãmodinfoãmodprobeãmouseconfigãntsysvãpasswdãpwconvãpwunconvãrdateãresizeãrmmodãrpmãsetãsetconsoleãsetenvãsetupãsndconfigãSVGAText Modeãtimeconfigãulimitãunaliasãunset\n\n# ç³»ç»ç®¡ç\n\nadduserãchfnãchshãdateãexitãfingerãfreeãfwhoisãgitpsãgroupdelãgroupmodãhaltãidãkillãlastãlastbãloginãlognameãlogoutãlogrotateãnewgrpãniceãprocinfoãpsãpstreeãrebootãreniceãrloginãrshãrwhoãscreenãshutdownãsliploginãsuãsudoãsuspendãswatchãtloadãtopãunameãuseraddãuserconfãuserdelãusermodãvlockãwãwhoãwhoamiãwhois\n\n# ææ¬å¤ç\n\nawkãcolãcolrmãcommãcsplitãedãegrepãexãfgrepãfmtãfoldãgrepãispellãjedãjoeãjoinãlookãmtypeãpicoãrgrepãsedãsortãspellãtrãuniqãviãwc\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. grepï¼ å¤è¡å¹éï¼grep --color=auto -Pazo \'<div>\\s+</div>\' [æä»¶å/ééç¬¦].txt ï¼-z ä¸ºå¤è¡æ¨¡å¼ã-P ä¸º Perl æ­£åè¡¨è¾¾å¼ï¼\n\n# ç½ç»éè®¯\n\ndipãgettyãmingettyãppp-offãsmbd(samba daemon)ãtelnetãuulogãuustatãuuxãcuãdnsconfãefaxãhttpdãipãifconfigãmesgãminicomãncãnetconfãnetconfigãnetstatãpingãpppstatsãsambaãsetserialãshapecfg(shaper configuration)ãsmbd(samba daemon)ãstatserial(status ofserial port)ãtalkãtcpdumpãtestparm(test parameter)ãtracerouteãtty(teletypewriter)ãuunameãwall(write all)ãwriteãytalkãarpwatchãapachectlãsmbclient(samba client)ãpppsetup\n\n# è®¾å¤ç®¡ç\n\ndumpkeysãloadkeysãMAKEDEVãrdevãsetleds\n\n# çµå­é®ä»¶ä¸æ°é»ç»\n\narchiveãctlinndãelmãgetlistãinncheckãmailãmailconfãmailqãmessagesãmetamailãmuttãnntpgetãpineãslrnãX WINDOWS SYSTEMãreconfigãstartx(start X Window)ãXconfiguratorãXF86Setupãxlsatomsãxlsclientsãxlsfonts\n\n# å¶ä»å½ä»¤\n\nyes\n\n\n# åå®¢\n\nåå®¢é¾æ¥ï¼\n\n 1. Linuxæ§è½é®é¢åææµç¨ä¸æ§è½ä¼åæè·¯\n 2. CentOS 7ç³»ç»ä¼åèæ¬\n\n\n# äºãshellèæ¬ç¸å³\n\nBashå¬å±åº\n\n\n# 1ãèæ¬æ ¼å¼\n\nè§£æå¨\n\nä½¿ç¨ cat /etc/shells æ¥æ¥çç³»ç»æä¾çShellè§£æå¨ã ä½¿ç¨ echo $SHELL æ¥çé»è®¤ä½¿ç¨çè§£æå¨\n\n 1. ä»¥#!/bin/bashå¼å¤´(ç¨æ¥æå®è§£æå¨)\n 2. ä½¿ç¨sh/bash + èæ¬ä¸éè¦æ§è¡æéï¼ç´æ¥ä½¿ç¨èæ¬ç»å¯¹è·¯å¾æç¸å¯¹è·¯å¾éè¦æ§è¡æéã\n\n> ä½¿ç¨ bash(sh) x.sh çæ¹å¼æ§è¡èæ¬ï¼æ¯å¨å½åshellä¸­æå¼ä¸ä¸ªå­shellæ¥æ§è¡èæ¬\n> ä½¿ç¨ ./x.sh æ source(.) x.sh æ¯å¨å½åshellæ§è¡ï¼è¿ä¹æ¯æ¯æ¬¡ä¿®æ¹å®ç¯å¢åé/etc/profileæä»¶åï¼è¦æ§è¡source /etc/profile çåå \n> å¨å­shellæ§è¡åç¶shellæ§è¡çåºå«æ¯ï¼ç¯å¢åéçç»§æ¿å³ç³»ï¼æ¯å¦å¨å­shellè®¾ç½®çç¯å¢åéï¼å¨ç¶shellæ¯ä¸å¯è§ç\n\n\n# 2ãåé\n\n# åéç±»å\n\n 1. å±é¨åéï¼å±é¨åéå¨èæ¬æå½ä»¤ä¸­å®ä¹ï¼ä»å¨å½å shell å®ä¾ä¸­ææï¼å¶ä» shell å¯å¨çç¨åºä¸è½è®¿é®å±é¨åéï¼\n 2. ç¯å¢åéï¼ææçç¨åºï¼åæ¬ shell å¯å¨çç¨åºï¼é½è½è®¿é®ç¯å¢åéï¼æäºç¨åºéè¦ç¯å¢åéæ¥ä¿è¯å¶æ­£å¸¸è¿è¡ãå¿è¦çæ¶å shell èæ¬ä¹å¯ä»¥å®ä¹ç¯å¢åéï¼\n 3. shell åéï¼shell åéæ¯ç± shell ç¨åºè®¾ç½®çç¹æ®åéãshell åéä¸­æä¸é¨åæ¯ç¯å¢åéï¼æä¸é¨åæ¯å±é¨åéã\n\n# å®ä¹åé\n\n 1. å®ä¹åéï¼åé=å¼ ï¼ä¸­é´ä¸è½æç©ºæ ¼ï¼\n 2. ä½¿ç¨åé $åé æ ${åé}\n 3. æ¤éåéï¼unset åéå\n 4. å£°æå±é¨åéï¼local åé="xxx"\n 5. å£°æåªè¯»åéï¼readonly åéï¼ä¸è½unsetï¼\n\n--       --\nglobal   ä½ç¨åä»å®ä¹å°shellç»ææèåéè¢«å é¤\nlocal    ä½ç¨ååªå¨å½æ°åé¨,å½æ°åæ°æ¯localç\n\n# åæ°æ©å±\n\n 1. å»æç»å°¾çé¨å:\n    * ${var%pattern}: å»æåéå¼æ«å°¾ç¬¦å pattern çé¨åãä¾å¦ï¼${filename%.*} å»ææä»¶åä¸­çæ©å±åã\n    * ${var%%pattern}: å»æåéå¼æ«å°¾ç¬¦å pattern çæé¿é¨åãä¾å¦ï¼${path%%/} å»æè·¯å¾æ«å°¾çææææ ã\n 2. å»æå¼å¤´çé¨å:\n    * ${var#pattern}: å»æåéå¼å¼å¤´ç¬¦å pattern çé¨åãä¾å¦ï¼${path#*/} å»æè·¯å¾å¼å¤´çç¬¬ä¸ä¸ªææ ã\n    * ${var##pattern}: å»æåéå¼å¼å¤´ç¬¦å pattern çæé¿é¨åãä¾å¦ï¼${path##*/} å»æè·¯å¾å¼å¤´çææç®å½é¨åï¼åªçä¸æä»¶åã\n 3. æ¿æ¢åå®¹:\n    * ${var/pattern/replacement}: æ¿æ¢åéå¼ä¸­ç¬¬ä¸ä¸ªå¹é pattern çé¨åä¸º replacementãä¾å¦ï¼${filename/.txt/.bak} å° .txt æ¿æ¢ä¸º .bakã\n    * ${var//pattern/replacement}: æ¿æ¢åéå¼ä¸­ææå¹é pattern çé¨åä¸º replacementã\n 4. é»è®¤å¼:\n    * ${var:-default}: å¦æåé var æªè®¾ç½®æä¸ºç©ºï¼è¿å default çå¼ã\n    * ${var:=default}: å¦æåé var æªè®¾ç½®æä¸ºç©ºï¼å°å¶è®¾ç½®ä¸º default çå¼ï¼å¹¶è¿åè¯¥å¼ã\n 5. é¿åº¦åå­å­ç¬¦ä¸²:\n    * ${#var}: åé var çé¿åº¦ãä¾å¦ï¼${#filename} è¿åæä»¶åçé¿åº¦ã\n    * ${var:position:length}: ä»åé var ç position å¼å§æå length ä¸ªå­ç¬¦ãä¾å¦ï¼${filename:0:5} æåæä»¶åçåäºä¸ªå­ç¬¦ã\n\n# ééç¬¦\n\nééç¬¦               ä½ç¨                                   ç¤ºä¾\n*                 å¹éé¶ä¸ªæå¤ä¸ªå­ç¬¦ã                           ä¾å¦ï¼*.txt å¹éæææ©å±åä¸º .txt çæä»¶ã\n?                 å¹éä¸ä¸ªåä¸å­ç¬¦ã                            ä¾å¦ï¼file?.txt å¹é file1.txtãfileA.txt ç­ï¼ä½ä¸å¹é file10.txtã\n[abc]             å¹éæ¹æ¬å·åçä»»æä¸ä¸ªå­ç¬¦ã                       ä¾å¦ï¼file[123].txt å¹é file1.txtãfile2.txt å file3.txtã\n[a-z]             å¹éæ¹æ¬å·åçå­ç¬¦èå´ã                         ä¾å¦ï¼file[a-z].txt å¹é filea.txtãfileb.txt å° filez.txtã\n{a,b}             å¹é {} åçä»»æä¸ä¸ªéé¡¹ï¼ç¨äºæä»¶åçæï¼ã             ä¾å¦ï¼file{1,2}.txt å¹é file1.txt å file2.txtã\n[!abc] æ [^abc]   å¹éä¸å¨æ¹æ¬å·åçä»»ä½ä¸ä¸ªå­ç¬¦ã                     ä¾å¦ï¼file[!1].txt å¹é file2.txtãfileA.txt ç­ï¼ä½ä¸å¹é file1.txtã\n**                å¹éé¶ä¸ªæå¤ä¸ªç®å½ï¼å¨ Bash ç extglob æ©å±ä¸­æ¯æï¼ã   ä¾å¦ï¼dir/** å¹é dir ç®å½åå¶ææå­ç®å½åæä»¶ã\n\n# æ°ç»\n\n 1. å®ä¹æ°ç»ï¼arr=(value0 value1 value2)\n 2. ä½¿ç¨æ°ç»ï¼${æ°ç»å[ä¸æ ]}\n 3. è·ååç´ ï¼${arr[*]} æ ${arr[@]}\n 4. è·åé¿åº¦ï¼${#arr[@]} æ ${#arr[*]}\n\n\n# 3ãç¹æ®åé\n\nåé      å«ä¹\n$\'\\n\'   è·åæ¢è¡ç¬¦\n$1~$n   æ·»å å°Shellçååæ°å¼ã$1æ¯ç¬¬1åæ°ã$2æ¯ç¬¬2åæ°â¦åä»¥ä¸çåæ°éè¦ç¨å¤§æ¬å·åå«${10}\nshift   ä½ç½®åæ°å¯ä»¥ç¨shiftå½ä»¤å·¦ç§»ãæ¯å¦shift\n        3è¡¨ç¤ºåæ¥ç$4ç°å¨åæ$1ï¼åæ¥ç$5ç°å¨åæ$2ç­ç­ï¼åæ¥ç$1ã$2ã$3ä¸¢å¼ï¼$0ä¸ç§»å¨ãä¸å¸¦åæ°çshiftå½ä»¤ç¸å½äºshift\n        1ã\n$$      Shellæ¬èº«çPIDï¼ProcessIDï¼\n$!      Shellæåè¿è¡çåå°ProcessçPID\n$?      æåè¿è¡çå½ä»¤çç»æä»£ç ï¼è¿åå¼ï¼\n$-      ä½¿ç¨Setå½ä»¤è®¾å®çFlagä¸è§\n$*      ææåæ°åè¡¨(ææåæ°çæä¸ä¸ªæ´ä½)ãå¦"$*"ç¨ã"ãæ¬èµ·æ¥çæåµãä»¥"$1 $2 â¦ $n"çå½¢å¼è¾åºææåæ°\n$@      ææåæ°åè¡¨(æ¯ä¸ªåæ°åºåå¯¹å¾)ãå¦"$@"ç¨ã"ãæ¬èµ·æ¥çæåµãä»¥"$1" "$2" â¦ "$n" çå½¢å¼è¾åºææåæ°\n$#      æ·»å å°Shellçåæ°ä¸ªæ°\n$0      Shellæ¬èº«çæä»¶å\n\n\n# 4ãifæ¡ä»¶å¤æ­\n\nIFæ¡ä»¶åªè½ä¸ºå½ä»¤ï¼æèæ¬ï¼è¿åå¼ï¼æ¯å¦./test.shï¼ï¼[å½ä»¤ç­åäºtestå½ä»¤\n\næ¡ä»¶        å«ä¹\n[]åtest   å¨å½ä»¤è¡étest exprå[ expr ]çææç¸å(å¤æ­æä»¶ãå¤æ­å­ç¬¦ä¸²ãå¤æ­æ´æ°)\n[[ ]]     åç½®å¨shellä¸­çä¸ä¸ªå½ä»¤ï¼æ¯æå­ç¬¦ä¸²çæ¨¡å¼å¹éãé»è¾ç»åå¯ä»¥ä¸ä½¿ç¨testç-a,-oèä½¿ç¨&&\n-eq       ãæ°å¼æ¯è¾ãæµè¯ä¸¤ä¸ªæ´æ°æ¯å¦ç¸ç­\n-ne       ãæ°å¼æ¯è¾ãæµè¯ä¸¤ä¸ªæ´æ°æ¯å¦ä¸ç­\n-gt       ãæ°å¼æ¯è¾ãæµè¯ä¸ä¸ªæ°æ¯å¦å¤§äºå¦ä¸ä¸ªæ°\n-lt       ãæ°å¼æ¯è¾ãæµè¯ä¸ä¸ªæ°æ¯å¦å°äºå¦ä¸ä¸ªæ°\n-ge       ãæ°å¼æ¯è¾ãå¤§äºæç­äº\n-le       ãæ°å¼æ¯è¾ãå°äºæç­äº\né»è¾å³ç³»      å½ä»¤é´çé»è¾å³ç³», é»è¾ä¸ï¼&& , é»è¾æï¼\n=         ãå­ç¬¦ä¸²æ¯è¾ãç­äº ä¸¤è¾¹è¦æç©ºæ ¼\n!=        ãå­ç¬¦ä¸²æ¯è¾ãä¸ç­\n>         ãå­ç¬¦ä¸²æ¯è¾ãå¤§äº\n<         ãå­ç¬¦ä¸²æ¯è¾ãå°äº\n-z        ãå­ç¬¦ä¸²æ¯è¾ãstring å­ç¬¦æ¯å¦ä¸ºç©ºï¼ç©ºççï¼éç©ºä¸ºå\n-n        ãå­ç¬¦ä¸²æ¯è¾ãstring å­ç¬¦ä¸²æ¯å¦ä¸ºä¸ç©ºï¼é¿åº¦é0ï¼ï¼ç©ºä¸ºå éç©ºä¸ºçï¼if [ -n "" ]ï¼\n-e        ãæä»¶æµè¯ãfile æä»¶æ¯å¦å­å¨\n-f        ãæä»¶æµè¯ãfile æ¯å¦ä¸ºæ®éæä»¶ï¼if [ -f "" ]ï¼\n-d        ãæä»¶æµè¯ãfile æ¯å¦ä¸ºç®å½ï¼if [ -d "" ]ï¼\n-r        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯å¦å¯è¯»\n-w        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯å¦å¯å\n-x        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯é½å¯æ§è¡\n-z        ãæä»¶æµè¯ãæ¯å¦ä¸ºç©º ä¸ºç©ºåä¸ºç\n-a        ãæä»¶æµè¯ãæ¯å¦ä¸ç©º\n-s        ãæä»¶æµè¯ãæä»¶å­å¨ä¸è³å°æä¸ä¸ªå­ç¬¦æ¶ä¸ºç\n-c        ãæä»¶æµè¯ãæä»¶å­å¨ä¸ä¸ºå­ç¬¦åç¹æ®æä»¶æ¶ä¸ºç\n-b        ãæä»¶æµè¯ãæä»¶å­å¨ä¸ä¸ºåç¹æ®æä»¶æ¶ä¸ºç\n-r        ãæä»¶æéãæè¯»çæé(read)\n-w        ãæä»¶æéãæåçæé(write)\n-x        ãæä»¶æéãææ§è¡çæé(execute)\n=~        æ­£åå¹é if [[ $line =~ ^java.library.path=(.*)$ ]]\n\n[] å [[]]çåºå«\n\n> æ³¨æï¼ä½¿ç¨[]å[[]]çæ¶åä¸è¦åå¬ç©ºæ ¼ï¼æ¯ä¸é¡¹ä¸¤è¾¹é½è¦æç©ºæ ¼ï¼[[ 1 == 2 ]]çç»æä¸ºâåâï¼ä½[[ 1==2 ]]çç»æä¸ºâçâï¼\n\n> 1.é¦åï¼å°½ç®¡å¾ç¸ä¼¼ï¼ä½æ¯ä»æ¦å¿µä¸è®²ï¼äºèæ¯ä¸åå±æ¬¡çä¸è¥¿ã"[["ï¼æ¯å³é®å­ï¼è®¸å¤shell(å¦ash bsh)å¹¶ä¸æ¯æè¿ç§æ¹å¼ãksh, bash(æ®è¯´ä»2.02èµ·å¼å¥å¯¹[[çæ¯æ)ç­æ¯æã"["æ¯ä¸æ¡å½ä»¤ï¼ ä¸testç­ä»·ï¼å¤§å¤æ°shellé½æ¯æãå¨ç°ä»£çå¤§å¤æ°shå®ç°ä¸­ï¼"["ä¸"test"æ¯åé¨(builtin)å½ä»¤ï¼æ¢å¥è¯è¯´æ§è¡"test"/"["æ¶ä¸ä¼è°ç¨/some/path/to/testè¿æ ·çå¤é¨å½ä»¤(å¦ææè¿æ ·çå½ä»¤çè¯)ã\n\n> 2.[[]]ç»ææ¯Bashçæ¬ç[]æ´éç¨ãå¨[[å]]ä¹é´çææçå­ç¬¦é½ä¸ä¼è¢«æä»¶æ©å±ææ¯æ è®°åå²ï¼ä½æ¯ä¼æåæ°å¼ç¨åå½ä»¤æ¿æ¢ã ç¨[[ ... ]]æµè¯ç»ææ¯ç¨[ ... ]æ´è½é²æ­¢èæ¬éçè®¸å¤é»è¾éè¯¯ãæ¯å¦è¯´ï¼&&,||,<å>æä½ç¬¦è½å¨ä¸ä¸ª[[]]æµè¯ééè¿ï¼ä½å¨[]ç»æä¼åçéè¯¯ã\n\n> 3.(( ))ç»ææ©å±å¹¶è®¡ç®ä¸ä¸ªç®æ¯è¡¨è¾¾å¼çå¼ãå¦æè¡¨è¾¾å¼å¼ä¸º0ï¼ä¼è¿å1æåä½ä¸ºéåºç¶æç ãä¸ä¸ªéé¶å¼çè¡¨è¾¾å¼è¿åä¸ä¸ª0æçä½ä¸ºéåºç¶æç ãè¿ä¸ªç»æåååtestå½ä»¤å[]ç»æçè®¨è®ºåå¥½ç¸åã\n\n> 4.[ ... ]ä¸ºshellå½ä»¤ï¼æä»¥å¨å¶ä¸­çè¡¨è¾¾å¼åºæ¯å®çå½ä»¤è¡åæ°ï¼æä»¥ä¸²æ¯è¾æä½ç¬¦">" ä¸"<"å¿é¡»è½¬ä¹ï¼å¦åå°±åæIOæ¹åæä½ç¬¦äº(è¯·åçä¸é¢2ä¸­çä¾å­)ãå¨[[ä¸­"<"ä¸">"ä¸éè½¬ä¹ï¼ ç±äº"[["æ¯å³é®å­ï¼ä¸ä¼åå½ä»¤è¡æ©å±ï¼å èç¸å¯¹çè¯­æ³å°±ç¨ä¸¥æ ¼äºãä¾å¦ å¨[ ... ]ä¸­å¯ä»¥ç¨å¼å·æ¬èµ·æä½ç¬¦ï¼å ä¸ºå¨åå½ä»¤è¡æ©å±æ¶ä¼å»æè¿äºå¼å·ï¼èå¨[[ ... ]]åä¸åè®¸è¿æ ·åã\n\n> 5.[[ ... ]]è¿è¡ç®æ¯æ©å±ï¼è[ ... ]ä¸å\n\n> 6.[[ ... && ... && ... ]] å [ ... -a ... -a ...] ä¸ä¸æ ·ï¼[[ ]] æ¯é»è¾ç­è·¯æä½ï¼è [ ] ä¸ä¼è¿è¡é»è¾ç­è·¯\n\n\n# 5ãæµç¨æ§å¶\n\n# ifå¤æ­\n\n> æ³¨æ: 1.ifåè¦æç©ºæ ¼ 2.æ¡ä»¶ååè¦æç©ºæ ¼\n\n 1. ååæ¯\n\nif [ æ¡ä»¶å¤æ­ ]; then\n  # ç¨åº\nfi \n# æè\nif [  ]\nthen\n  # ç¨åº    \nfi\n\n\n 2. å¤åæ¯\n\nif [ æ¡ä»¶å¤æ­ ]\nthen\n  # ç¨åº\nelif [ æ¡ä»¶å¤æ­ ]\nthen\n  # ç¨åº\nelse\n  # ç¨åº    \nfi\n\n\n# caseè¯­æ³\n\n> æ³¨æ: 1. caseè¡å°¾å¿é¡»ä¸ºåè¯in 2. æ¯ä¸ªæ¨¡å¼å¹éå¿é¡»ä»¥\')\'ç»æ 3. \';;\'è¡¨ç¤ºå½ä»¤åºåç»æ(åjavaçbreak)\n\ncase $åé in\n"å¼1")\n  # åéçå¼ç­äºå¼1, åæ§è¡\n  ;;\n"å¼2")\n  # åéçå¼ç­äºå¼2, åæ§è¡\n  ;;\n*)\n  # åéçå¼é½ä¸æ¯ä»¥ä¸çå¼, åæ§è¡\n  ;;\nesac\n\n\n# forå¾ªç¯\n\n# for (( åå§å¼;å¾ªç¯æ§å¶æ¡ä»¶;åéåå ))\nfor (( i = 0; i < n; i++ )); do\n    \ndone\n\n# æè\n\n# for åé in å¼1 å¼2 å¼3...\nfor i in {1..5} ; do\n    \ndone\n\n\n> $* å $@ çåºå«:\n> \n> \n>  1. ä¸è¢«åå¼å·("")åå«æ¶: é½ä»¥$1 $2...$nå½¢å¼è¾åº\n>     \n>  2. è¢«åå¼å·("")åå«æ¶: $*å°ææåæ°çåæ´ä½"$1 $2...$n" ââ $@å°åä¸ªåæ°åå¼"$1" "$2"..."$n"\n\n# whileå¾ªç¯\n\nwhile [ æ¡ä»¶å¤æ­ ]; do\n    # ç¨åºï¼å¯ä½¿ç¨ break æ continue\ndone\n\n\n# Untilå¾ªç¯\n\nuntil condition\ndo\n    command\ndone\n\n\n\n# 6ãreadè¯»åæ§å¶å°è¾å¥\n\nread [éé¡¹] [åæ°]\n# éé¡¹ -p: æå®è¯»åæ¶æç¤ºç¬¦   -t: æå®è¯»åç­å¾æ¶é´(sç§),ä¸å é»è®¤ä¸ç´ç­å¾\n# åæ° æå®è¯»åæ¶çåéå\n\n#!/bin/bash\nread -t 3 -p "3såè¾å¥åç§°: " username\necho $username\n\n\n\n# 7ãå½æ°\n\n# basename æªåæä»¶å\n\n# è¯­æ³\nbasename [string/pathname] [suffix]    # å æææåç¼åå«æåä¸ä¸ª\'/\'(è¥æå®suffix,åå°å¶å æ), å°å­ç¬¦ä¸²æ¾ç¤º\n\n# ç¤ºä¾\n[banana@hadoop10 MyLog]$ basename /home/banana/MyLog/test.sh  .sh\ntest\n\n\n# dirname æªåç»å¯¹è·¯å¾\n\ndirname æä»¶ç»å¯¹è·¯å¾\n\n# ç¤ºä¾\n[banana@hadoop10 MyLog]$ dirname /home/banana/MyLog/test.sh       \n/home/banana/MyLog\n\n\n\n# èªå®ä¹å½æ°\n\n> æ³¨æ:\n> \n> \n>  1. ä½¿ç¨æ¶åºè¯¥åå£°æå½æ°, åè°ç¨(shellèæ¬éè¡æ§è¡)\n>     \n>  2. è¿åå¼: å¯ä»¥ç¨$?è·åè¿åå¼, è¥ä¸å , ä¸ºæåä¸ä¸ªå½ä»¤çè¿è¡ç»æ\n\n# å£°æ\n[function] funname[()]\n{\n  Action;\n  [return int(0-255);]\n}\n\n# è°ç¨\nfunname para1\n',normalizedContent:'# shellåºç¡\n\n\n# ä¸ãå½ä»¤\n\nè¯¦ç»ç¨æ³è¯·æ¥çlinuxå½ä»¤å¤§å¨æç´¢å·¥å· v1.5.1.pdf\n\n\n# 1ãæç´¢å½ä»¤ç¨æ³\n\n\n# 2ãlinuxå½ä»¤åç±»\n\n# æä»¶ä¼ è¾\n\nbyeãftpãftpcountãftpshutãftpwhoãncftpãtftpãuucicoãuucpãuupickãuutoãscp\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. ftpï¼ ä½¿ç¨ftp 127.0.0.1åå»ºè¿æ¥ï¼è¾å¥ç¨æ·åå¯ç åè¿æ¥æåï¼ä½¿ç¨[m]get xxxã[m]put xxxä¸ä¼ ä¸è½½æä»¶ï¼ä½¿ç¨[m]deleteå é¤è¿ç«¯æä»¶ï¼ä½¿ç¨byeãexitãquitå³é­è¿æ¥\n 2. scpï¼ è¿ç¨æ·è´å°æ¬æºï¼scp -r root@10.10.10.10:/opt/soft/mongodb /opt/soft/ æ¬æºæ·è´å°è¿ç¨ï¼scp -r /opt/soft/mongodb root@10.10.10.10:/opt/soft/scptest\n\n# å¤ä»½åç¼©\n\narãbunzip2ãbzip2ãbzip2recoverãcompressãcpioãdumpãgunzipãgzexeãgzipãlhaãrestoreãtarãunarjãunzipãzipãzipinfo\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. gzï¼ æåå¹¶åç¼©ï¼tar -czf [ç®æ æä»¶å].tar.gz [åæä»¶/ç®å½å] è§£åå¹¶è§£åï¼tar -zxvf xxx.tar.gz -c dirnameï¼æå®è§£åè·¯å¾ï¼\n    \n    > æ³¨ï¼cåæ°ä»£è¡¨createï¼åå»ºï¼ï¼xåæ°ä»£è¡¨extractï¼è§£åï¼ï¼våæ°ä»£è¡¨verboseï¼è¯¦ç»ä¿¡æ¯ï¼ï¼fåæ°ä»£è¡¨filenameï¼æä»¶åï¼ï¼æä»¥fåå¿é¡»æ¥æä»¶åã\n\n 2. zipï¼ åç¼©ï¼zip -qr [ç®æ æä»¶å].zip [åæä»¶/ç®å½å] è§£åï¼unzip [åæä»¶å].zip\n\n 3. bz2 æåå¹¶åç¼©ï¼ tar -jcvf [ç®æ æä»¶å].tar.bz2 [åæä»¶å/ç®å½å] è§£åå¹¶è§£åï¼ tar -jxvf [åæä»¶å].tar.bz2 æ³¨ï¼å°åjä»£è¡¨ç¨bzip2ç®æ³æ¥åç¼©/è§£å\n\n 4. 7z åç¼©ï¼7z a [ç®æ æä»¶å].7z [åæä»¶å/ç®å½å] è§£åï¼7z x [åæä»¶å].7z\n\n 5. jar åç¼©ï¼jar -cvf [ç®æ æä»¶å].jar [åæä»¶å/ç®å½å] è§£åï¼jar -xvf [åæä»¶å].jar\n    \n    > æ³¨ï¼å¦ææ¯æåçæ¯javaç±»åºï¼å¹¶ä¸è¯¥ç±»åºä¸­å­å¨ä¸»ç±»ï¼é£ä¹éè¦åä¸ä¸ªmeta-inf/manifest.mféç½®æä»¶ï¼åå®¹å¦ä¸ï¼\n    > manifest-version: 1.0\n    > created-by: 1.6.0_27 (sun microsystems inc.)\n    > main-class: the_name_of_the_main_class_should_be_put_here\n    > ç¶åç¨å¦ä¸å½ä»¤æåï¼jar -cvfm [ç®æ æä»¶å].jar meta-inf/manifest.mf [åæä»¶å/ç®å½å]ï¼è¿æ ·ä»¥åå°±è½ç¨âjava -jar [æä»¶å].jarâå½ä»¤ç´æ¥è¿è¡ä¸»ç±»ä¸­çpublic static void mainæ¹æ³äºã\n\n# æä»¶ç®¡ç\n\ndiffãdiffstatãfileãfindãgitãgitviewãlnãlocateãlsattrãmattribãmcãmcopyãmdelãmdirãmktempãmmoveãmreadãmrenãmshowfatãmtoolsãmtoolstestãmvãodãpasteãpatchãrcpãrhmaskãrmãslocateãsplitãteeãtmpwatchãtouchãumaskãwhereisãwhichãcatãchattrãchgrpãchmodãchownãcksumãcmpãcpãcutãindent\n\n# ç£çç®¡ç\n\ncdãdfãdirsãduãedquotaãejectãlndirãlsãmcdãmdeltreeãmduãmkdirãmlabelãmmdãmmountãmrdãmzipãpwdãquotaãquotacheckãquotaoffãquotaonãrepquotaãrmdirãrmtãstatãtreeãumount\n\n# ç£çç»´æ¤\n\nbadblocksãcfdiskãddãe2fsckãext2edãfdiskãfsck.ext2ãfsckãfsck.minixãfsconfãhdparmãlosetupãmbadblocksãmformatãmkbootdiskãmkdosfsãmke2fsãmkfs.ext2ãmkfsãmkfs.minixãmkfs.msdosãmkinitrdãmkisofsãmkswapãmpartitionãsfdiskãswapoffãswaponãsymlinksãsync\n\n# ç³»ç»è®¾ç½®\n\naliasãapmdãaumixãbindãchkconfigãchrootãclockãcrontabãdeclareãdepmodãdircolorsãdmesgãenableãevalãexportãfbsetãgrpconvãgrpunconvãhwclockãinsmodãkbdconfigãliloãliloconfigãlsmodãminfoãmkkickstartãmodinfoãmodprobeãmouseconfigãntsysvãpasswdãpwconvãpwunconvãrdateãresizeãrmmodãrpmãsetãsetconsoleãsetenvãsetupãsndconfigãsvgatext modeãtimeconfigãulimitãunaliasãunset\n\n# ç³»ç»ç®¡ç\n\nadduserãchfnãchshãdateãexitãfingerãfreeãfwhoisãgitpsãgroupdelãgroupmodãhaltãidãkillãlastãlastbãloginãlognameãlogoutãlogrotateãnewgrpãniceãprocinfoãpsãpstreeãrebootãreniceãrloginãrshãrwhoãscreenãshutdownãsliploginãsuãsudoãsuspendãswatchãtloadãtopãunameãuseraddãuserconfãuserdelãusermodãvlockãwãwhoãwhoamiãwhois\n\n# ææ¬å¤ç\n\nawkãcolãcolrmãcommãcsplitãedãegrepãexãfgrepãfmtãfoldãgrepãispellãjedãjoeãjoinãlookãmtypeãpicoãrgrepãsedãsortãspellãtrãuniqãviãwc\n\nç¹å»æ¥ç\n\nå®ä¾\n\n 1. grepï¼ å¤è¡å¹éï¼grep --color=auto -pazo \'<div>\\s+</div>\' [æä»¶å/ééç¬¦].txt ï¼-z ä¸ºå¤è¡æ¨¡å¼ã-p ä¸º perl æ­£åè¡¨è¾¾å¼ï¼\n\n# ç½ç»éè®¯\n\ndipãgettyãmingettyãppp-offãsmbd(samba daemon)ãtelnetãuulogãuustatãuuxãcuãdnsconfãefaxãhttpdãipãifconfigãmesgãminicomãncãnetconfãnetconfigãnetstatãpingãpppstatsãsambaãsetserialãshapecfg(shaper configuration)ãsmbd(samba daemon)ãstatserial(status ofserial port)ãtalkãtcpdumpãtestparm(test parameter)ãtracerouteãtty(teletypewriter)ãuunameãwall(write all)ãwriteãytalkãarpwatchãapachectlãsmbclient(samba client)ãpppsetup\n\n# è®¾å¤ç®¡ç\n\ndumpkeysãloadkeysãmakedevãrdevãsetleds\n\n# çµå­é®ä»¶ä¸æ°é»ç»\n\narchiveãctlinndãelmãgetlistãinncheckãmailãmailconfãmailqãmessagesãmetamailãmuttãnntpgetãpineãslrnãx windows systemãreconfigãstartx(start x window)ãxconfiguratorãxf86setupãxlsatomsãxlsclientsãxlsfonts\n\n# å¶ä»å½ä»¤\n\nyes\n\n\n# åå®¢\n\nåå®¢é¾æ¥ï¼\n\n 1. linuxæ§è½é®é¢åææµç¨ä¸æ§è½ä¼åæè·¯\n 2. centos 7ç³»ç»ä¼åèæ¬\n\n\n# äºãshellèæ¬ç¸å³\n\nbashå¬å±åº\n\n\n# 1ãèæ¬æ ¼å¼\n\nè§£æå¨\n\nä½¿ç¨ cat /etc/shells æ¥æ¥çç³»ç»æä¾çshellè§£æå¨ã ä½¿ç¨ echo $shell æ¥çé»è®¤ä½¿ç¨çè§£æå¨\n\n 1. ä»¥#!/bin/bashå¼å¤´(ç¨æ¥æå®è§£æå¨)\n 2. ä½¿ç¨sh/bash + èæ¬ä¸éè¦æ§è¡æéï¼ç´æ¥ä½¿ç¨èæ¬ç»å¯¹è·¯å¾æç¸å¯¹è·¯å¾éè¦æ§è¡æéã\n\n> ä½¿ç¨ bash(sh) x.sh çæ¹å¼æ§è¡èæ¬ï¼æ¯å¨å½åshellä¸­æå¼ä¸ä¸ªå­shellæ¥æ§è¡èæ¬\n> ä½¿ç¨ ./x.sh æ source(.) x.sh æ¯å¨å½åshellæ§è¡ï¼è¿ä¹æ¯æ¯æ¬¡ä¿®æ¹å®ç¯å¢åé/etc/profileæä»¶åï¼è¦æ§è¡source /etc/profile çåå \n> å¨å­shellæ§è¡åç¶shellæ§è¡çåºå«æ¯ï¼ç¯å¢åéçç»§æ¿å³ç³»ï¼æ¯å¦å¨å­shellè®¾ç½®çç¯å¢åéï¼å¨ç¶shellæ¯ä¸å¯è§ç\n\n\n# 2ãåé\n\n# åéç±»å\n\n 1. å±é¨åéï¼å±é¨åéå¨èæ¬æå½ä»¤ä¸­å®ä¹ï¼ä»å¨å½å shell å®ä¾ä¸­ææï¼å¶ä» shell å¯å¨çç¨åºä¸è½è®¿é®å±é¨åéï¼\n 2. ç¯å¢åéï¼ææçç¨åºï¼åæ¬ shell å¯å¨çç¨åºï¼é½è½è®¿é®ç¯å¢åéï¼æäºç¨åºéè¦ç¯å¢åéæ¥ä¿è¯å¶æ­£å¸¸è¿è¡ãå¿è¦çæ¶å shell èæ¬ä¹å¯ä»¥å®ä¹ç¯å¢åéï¼\n 3. shell åéï¼shell åéæ¯ç± shell ç¨åºè®¾ç½®çç¹æ®åéãshell åéä¸­æä¸é¨åæ¯ç¯å¢åéï¼æä¸é¨åæ¯å±é¨åéã\n\n# å®ä¹åé\n\n 1. å®ä¹åéï¼åé=å¼ ï¼ä¸­é´ä¸è½æç©ºæ ¼ï¼\n 2. ä½¿ç¨åé $åé æ ${åé}\n 3. æ¤éåéï¼unset åéå\n 4. å£°æå±é¨åéï¼local åé="xxx"\n 5. å£°æåªè¯»åéï¼readonly åéï¼ä¸è½unsetï¼\n\n--       --\nglobal   ä½ç¨åä»å®ä¹å°shellç»ææèåéè¢«å é¤\nlocal    ä½ç¨ååªå¨å½æ°åé¨,å½æ°åæ°æ¯localç\n\n# åæ°æ©å±\n\n 1. å»æç»å°¾çé¨å:\n    * ${var%pattern}: å»æåéå¼æ«å°¾ç¬¦å pattern çé¨åãä¾å¦ï¼${filename%.*} å»ææä»¶åä¸­çæ©å±åã\n    * ${var%%pattern}: å»æåéå¼æ«å°¾ç¬¦å pattern çæé¿é¨åãä¾å¦ï¼${path%%/} å»æè·¯å¾æ«å°¾çææææ ã\n 2. å»æå¼å¤´çé¨å:\n    * ${var#pattern}: å»æåéå¼å¼å¤´ç¬¦å pattern çé¨åãä¾å¦ï¼${path#*/} å»æè·¯å¾å¼å¤´çç¬¬ä¸ä¸ªææ ã\n    * ${var##pattern}: å»æåéå¼å¼å¤´ç¬¦å pattern çæé¿é¨åãä¾å¦ï¼${path##*/} å»æè·¯å¾å¼å¤´çææç®å½é¨åï¼åªçä¸æä»¶åã\n 3. æ¿æ¢åå®¹:\n    * ${var/pattern/replacement}: æ¿æ¢åéå¼ä¸­ç¬¬ä¸ä¸ªå¹é pattern çé¨åä¸º replacementãä¾å¦ï¼${filename/.txt/.bak} å° .txt æ¿æ¢ä¸º .bakã\n    * ${var//pattern/replacement}: æ¿æ¢åéå¼ä¸­ææå¹é pattern çé¨åä¸º replacementã\n 4. é»è®¤å¼:\n    * ${var:-default}: å¦æåé var æªè®¾ç½®æä¸ºç©ºï¼è¿å default çå¼ã\n    * ${var:=default}: å¦æåé var æªè®¾ç½®æä¸ºç©ºï¼å°å¶è®¾ç½®ä¸º default çå¼ï¼å¹¶è¿åè¯¥å¼ã\n 5. é¿åº¦åå­å­ç¬¦ä¸²:\n    * ${#var}: åé var çé¿åº¦ãä¾å¦ï¼${#filename} è¿åæä»¶åçé¿åº¦ã\n    * ${var:position:length}: ä»åé var ç position å¼å§æå length ä¸ªå­ç¬¦ãä¾å¦ï¼${filename:0:5} æåæä»¶åçåäºä¸ªå­ç¬¦ã\n\n# ééç¬¦\n\nééç¬¦               ä½ç¨                                   ç¤ºä¾\n*                 å¹éé¶ä¸ªæå¤ä¸ªå­ç¬¦ã                           ä¾å¦ï¼*.txt å¹éæææ©å±åä¸º .txt çæä»¶ã\n?                 å¹éä¸ä¸ªåä¸å­ç¬¦ã                            ä¾å¦ï¼file?.txt å¹é file1.txtãfilea.txt ç­ï¼ä½ä¸å¹é file10.txtã\n[abc]             å¹éæ¹æ¬å·åçä»»æä¸ä¸ªå­ç¬¦ã                       ä¾å¦ï¼file[123].txt å¹é file1.txtãfile2.txt å file3.txtã\n[a-z]             å¹éæ¹æ¬å·åçå­ç¬¦èå´ã                         ä¾å¦ï¼file[a-z].txt å¹é filea.txtãfileb.txt å° filez.txtã\n{a,b}             å¹é {} åçä»»æä¸ä¸ªéé¡¹ï¼ç¨äºæä»¶åçæï¼ã             ä¾å¦ï¼file{1,2}.txt å¹é file1.txt å file2.txtã\n[!abc] æ [^abc]   å¹éä¸å¨æ¹æ¬å·åçä»»ä½ä¸ä¸ªå­ç¬¦ã                     ä¾å¦ï¼file[!1].txt å¹é file2.txtãfilea.txt ç­ï¼ä½ä¸å¹é file1.txtã\n**                å¹éé¶ä¸ªæå¤ä¸ªç®å½ï¼å¨ bash ç extglob æ©å±ä¸­æ¯æï¼ã   ä¾å¦ï¼dir/** å¹é dir ç®å½åå¶ææå­ç®å½åæä»¶ã\n\n# æ°ç»\n\n 1. å®ä¹æ°ç»ï¼arr=(value0 value1 value2)\n 2. ä½¿ç¨æ°ç»ï¼${æ°ç»å[ä¸æ ]}\n 3. è·ååç´ ï¼${arr[*]} æ ${arr[@]}\n 4. è·åé¿åº¦ï¼${#arr[@]} æ ${#arr[*]}\n\n\n# 3ãç¹æ®åé\n\nåé      å«ä¹\n$\'\\n\'   è·åæ¢è¡ç¬¦\n$1~$n   æ·»å å°shellçååæ°å¼ã$1æ¯ç¬¬1åæ°ã$2æ¯ç¬¬2åæ°â¦åä»¥ä¸çåæ°éè¦ç¨å¤§æ¬å·åå«${10}\nshift   ä½ç½®åæ°å¯ä»¥ç¨shiftå½ä»¤å·¦ç§»ãæ¯å¦shift\n        3è¡¨ç¤ºåæ¥ç$4ç°å¨åæ$1ï¼åæ¥ç$5ç°å¨åæ$2ç­ç­ï¼åæ¥ç$1ã$2ã$3ä¸¢å¼ï¼$0ä¸ç§»å¨ãä¸å¸¦åæ°çshiftå½ä»¤ç¸å½äºshift\n        1ã\n$$      shellæ¬èº«çpidï¼processidï¼\n$!      shellæåè¿è¡çåå°processçpid\n$?      æåè¿è¡çå½ä»¤çç»æä»£ç ï¼è¿åå¼ï¼\n$-      ä½¿ç¨setå½ä»¤è®¾å®çflagä¸è§\n$*      ææåæ°åè¡¨(ææåæ°çæä¸ä¸ªæ´ä½)ãå¦"$*"ç¨ã"ãæ¬èµ·æ¥çæåµãä»¥"$1 $2 â¦ $n"çå½¢å¼è¾åºææåæ°\n$@      ææåæ°åè¡¨(æ¯ä¸ªåæ°åºåå¯¹å¾)ãå¦"$@"ç¨ã"ãæ¬èµ·æ¥çæåµãä»¥"$1" "$2" â¦ "$n" çå½¢å¼è¾åºææåæ°\n$#      æ·»å å°shellçåæ°ä¸ªæ°\n$0      shellæ¬èº«çæä»¶å\n\n\n# 4ãifæ¡ä»¶å¤æ­\n\nifæ¡ä»¶åªè½ä¸ºå½ä»¤ï¼æèæ¬ï¼è¿åå¼ï¼æ¯å¦./test.shï¼ï¼[å½ä»¤ç­åäºtestå½ä»¤\n\næ¡ä»¶        å«ä¹\n[]åtest   å¨å½ä»¤è¡étest exprå[ expr ]çææç¸å(å¤æ­æä»¶ãå¤æ­å­ç¬¦ä¸²ãå¤æ­æ´æ°)\n[[ ]]     åç½®å¨shellä¸­çä¸ä¸ªå½ä»¤ï¼æ¯æå­ç¬¦ä¸²çæ¨¡å¼å¹éãé»è¾ç»åå¯ä»¥ä¸ä½¿ç¨testç-a,-oèä½¿ç¨&&\n-eq       ãæ°å¼æ¯è¾ãæµè¯ä¸¤ä¸ªæ´æ°æ¯å¦ç¸ç­\n-ne       ãæ°å¼æ¯è¾ãæµè¯ä¸¤ä¸ªæ´æ°æ¯å¦ä¸ç­\n-gt       ãæ°å¼æ¯è¾ãæµè¯ä¸ä¸ªæ°æ¯å¦å¤§äºå¦ä¸ä¸ªæ°\n-lt       ãæ°å¼æ¯è¾ãæµè¯ä¸ä¸ªæ°æ¯å¦å°äºå¦ä¸ä¸ªæ°\n-ge       ãæ°å¼æ¯è¾ãå¤§äºæç­äº\n-le       ãæ°å¼æ¯è¾ãå°äºæç­äº\né»è¾å³ç³»      å½ä»¤é´çé»è¾å³ç³», é»è¾ä¸ï¼&& , é»è¾æï¼\n=         ãå­ç¬¦ä¸²æ¯è¾ãç­äº ä¸¤è¾¹è¦æç©ºæ ¼\n!=        ãå­ç¬¦ä¸²æ¯è¾ãä¸ç­\n>         ãå­ç¬¦ä¸²æ¯è¾ãå¤§äº\n<         ãå­ç¬¦ä¸²æ¯è¾ãå°äº\n-z        ãå­ç¬¦ä¸²æ¯è¾ãstring å­ç¬¦æ¯å¦ä¸ºç©ºï¼ç©ºççï¼éç©ºä¸ºå\n-n        ãå­ç¬¦ä¸²æ¯è¾ãstring å­ç¬¦ä¸²æ¯å¦ä¸ºä¸ç©ºï¼é¿åº¦é0ï¼ï¼ç©ºä¸ºå éç©ºä¸ºçï¼if [ -n "" ]ï¼\n-e        ãæä»¶æµè¯ãfile æä»¶æ¯å¦å­å¨\n-f        ãæä»¶æµè¯ãfile æ¯å¦ä¸ºæ®éæä»¶ï¼if [ -f "" ]ï¼\n-d        ãæä»¶æµè¯ãfile æ¯å¦ä¸ºç®å½ï¼if [ -d "" ]ï¼\n-r        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯å¦å¯è¯»\n-w        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯å¦å¯å\n-x        ãæä»¶æµè¯ãfile æä»¶å¯¹å½åç¨æ·æ¯é½å¯æ§è¡\n-z        ãæä»¶æµè¯ãæ¯å¦ä¸ºç©º ä¸ºç©ºåä¸ºç\n-a        ãæä»¶æµè¯ãæ¯å¦ä¸ç©º\n-s        ãæä»¶æµè¯ãæä»¶å­å¨ä¸è³å°æä¸ä¸ªå­ç¬¦æ¶ä¸ºç\n-c        ãæä»¶æµè¯ãæä»¶å­å¨ä¸ä¸ºå­ç¬¦åç¹æ®æä»¶æ¶ä¸ºç\n-b        ãæä»¶æµè¯ãæä»¶å­å¨ä¸ä¸ºåç¹æ®æä»¶æ¶ä¸ºç\n-r        ãæä»¶æéãæè¯»çæé(read)\n-w        ãæä»¶æéãæåçæé(write)\n-x        ãæä»¶æéãææ§è¡çæé(execute)\n=~        æ­£åå¹é if [[ $line =~ ^java.library.path=(.*)$ ]]\n\n[] å [[]]çåºå«\n\n> æ³¨æï¼ä½¿ç¨[]å[[]]çæ¶åä¸è¦åå¬ç©ºæ ¼ï¼æ¯ä¸é¡¹ä¸¤è¾¹é½è¦æç©ºæ ¼ï¼[[ 1 == 2 ]]çç»æä¸ºâåâï¼ä½[[ 1==2 ]]çç»æä¸ºâçâï¼\n\n> 1.é¦åï¼å°½ç®¡å¾ç¸ä¼¼ï¼ä½æ¯ä»æ¦å¿µä¸è®²ï¼äºèæ¯ä¸åå±æ¬¡çä¸è¥¿ã"[["ï¼æ¯å³é®å­ï¼è®¸å¤shell(å¦ash bsh)å¹¶ä¸æ¯æè¿ç§æ¹å¼ãksh, bash(æ®è¯´ä»2.02èµ·å¼å¥å¯¹[[çæ¯æ)ç­æ¯æã"["æ¯ä¸æ¡å½ä»¤ï¼ ä¸testç­ä»·ï¼å¤§å¤æ°shellé½æ¯æãå¨ç°ä»£çå¤§å¤æ°shå®ç°ä¸­ï¼"["ä¸"test"æ¯åé¨(builtin)å½ä»¤ï¼æ¢å¥è¯è¯´æ§è¡"test"/"["æ¶ä¸ä¼è°ç¨/some/path/to/testè¿æ ·çå¤é¨å½ä»¤(å¦ææè¿æ ·çå½ä»¤çè¯)ã\n\n> 2.[[]]ç»ææ¯bashçæ¬ç[]æ´éç¨ãå¨[[å]]ä¹é´çææçå­ç¬¦é½ä¸ä¼è¢«æä»¶æ©å±ææ¯æ è®°åå²ï¼ä½æ¯ä¼æåæ°å¼ç¨åå½ä»¤æ¿æ¢ã ç¨[[ ... ]]æµè¯ç»ææ¯ç¨[ ... ]æ´è½é²æ­¢èæ¬éçè®¸å¤é»è¾éè¯¯ãæ¯å¦è¯´ï¼&&,||,<å>æä½ç¬¦è½å¨ä¸ä¸ª[[]]æµè¯ééè¿ï¼ä½å¨[]ç»æä¼åçéè¯¯ã\n\n> 3.(( ))ç»ææ©å±å¹¶è®¡ç®ä¸ä¸ªç®æ¯è¡¨è¾¾å¼çå¼ãå¦æè¡¨è¾¾å¼å¼ä¸º0ï¼ä¼è¿å1æåä½ä¸ºéåºç¶æç ãä¸ä¸ªéé¶å¼çè¡¨è¾¾å¼è¿åä¸ä¸ª0æçä½ä¸ºéåºç¶æç ãè¿ä¸ªç»æåååtestå½ä»¤å[]ç»æçè®¨è®ºåå¥½ç¸åã\n\n> 4.[ ... ]ä¸ºshellå½ä»¤ï¼æä»¥å¨å¶ä¸­çè¡¨è¾¾å¼åºæ¯å®çå½ä»¤è¡åæ°ï¼æä»¥ä¸²æ¯è¾æä½ç¬¦">" ä¸"<"å¿é¡»è½¬ä¹ï¼å¦åå°±åæioæ¹åæä½ç¬¦äº(è¯·åçä¸é¢2ä¸­çä¾å­)ãå¨[[ä¸­"<"ä¸">"ä¸éè½¬ä¹ï¼ ç±äº"[["æ¯å³é®å­ï¼ä¸ä¼åå½ä»¤è¡æ©å±ï¼å èç¸å¯¹çè¯­æ³å°±ç¨ä¸¥æ ¼äºãä¾å¦ å¨[ ... ]ä¸­å¯ä»¥ç¨å¼å·æ¬èµ·æä½ç¬¦ï¼å ä¸ºå¨åå½ä»¤è¡æ©å±æ¶ä¼å»æè¿äºå¼å·ï¼èå¨[[ ... ]]åä¸åè®¸è¿æ ·åã\n\n> 5.[[ ... ]]è¿è¡ç®æ¯æ©å±ï¼è[ ... ]ä¸å\n\n> 6.[[ ... && ... && ... ]] å [ ... -a ... -a ...] ä¸ä¸æ ·ï¼[[ ]] æ¯é»è¾ç­è·¯æä½ï¼è [ ] ä¸ä¼è¿è¡é»è¾ç­è·¯\n\n\n# 5ãæµç¨æ§å¶\n\n# ifå¤æ­\n\n> æ³¨æ: 1.ifåè¦æç©ºæ ¼ 2.æ¡ä»¶ååè¦æç©ºæ ¼\n\n 1. ååæ¯\n\nif [ æ¡ä»¶å¤æ­ ]; then\n  # ç¨åº\nfi \n# æè\nif [  ]\nthen\n  # ç¨åº    \nfi\n\n\n 2. å¤åæ¯\n\nif [ æ¡ä»¶å¤æ­ ]\nthen\n  # ç¨åº\nelif [ æ¡ä»¶å¤æ­ ]\nthen\n  # ç¨åº\nelse\n  # ç¨åº    \nfi\n\n\n# caseè¯­æ³\n\n> æ³¨æ: 1. caseè¡å°¾å¿é¡»ä¸ºåè¯in 2. æ¯ä¸ªæ¨¡å¼å¹éå¿é¡»ä»¥\')\'ç»æ 3. \';;\'è¡¨ç¤ºå½ä»¤åºåç»æ(åjavaçbreak)\n\ncase $åé in\n"å¼1")\n  # åéçå¼ç­äºå¼1, åæ§è¡\n  ;;\n"å¼2")\n  # åéçå¼ç­äºå¼2, åæ§è¡\n  ;;\n*)\n  # åéçå¼é½ä¸æ¯ä»¥ä¸çå¼, åæ§è¡\n  ;;\nesac\n\n\n# forå¾ªç¯\n\n# for (( åå§å¼;å¾ªç¯æ§å¶æ¡ä»¶;åéåå ))\nfor (( i = 0; i < n; i++ )); do\n    \ndone\n\n# æè\n\n# for åé in å¼1 å¼2 å¼3...\nfor i in {1..5} ; do\n    \ndone\n\n\n> $* å $@ çåºå«:\n> \n> \n>  1. ä¸è¢«åå¼å·("")åå«æ¶: é½ä»¥$1 $2...$nå½¢å¼è¾åº\n>     \n>  2. è¢«åå¼å·("")åå«æ¶: $*å°ææåæ°çåæ´ä½"$1 $2...$n" ââ $@å°åä¸ªåæ°åå¼"$1" "$2"..."$n"\n\n# whileå¾ªç¯\n\nwhile [ æ¡ä»¶å¤æ­ ]; do\n    # ç¨åºï¼å¯ä½¿ç¨ break æ continue\ndone\n\n\n# untilå¾ªç¯\n\nuntil condition\ndo\n    command\ndone\n\n\n\n# 6ãreadè¯»åæ§å¶å°è¾å¥\n\nread [éé¡¹] [åæ°]\n# éé¡¹ -p: æå®è¯»åæ¶æç¤ºç¬¦   -t: æå®è¯»åç­å¾æ¶é´(sç§),ä¸å é»è®¤ä¸ç´ç­å¾\n# åæ° æå®è¯»åæ¶çåéå\n\n#!/bin/bash\nread -t 3 -p "3såè¾å¥åç§°: " username\necho $username\n\n\n\n# 7ãå½æ°\n\n# basename æªåæä»¶å\n\n# è¯­æ³\nbasename [string/pathname] [suffix]    # å æææåç¼åå«æåä¸ä¸ª\'/\'(è¥æå®suffix,åå°å¶å æ), å°å­ç¬¦ä¸²æ¾ç¤º\n\n# ç¤ºä¾\n[banana@hadoop10 mylog]$ basename /home/banana/mylog/test.sh  .sh\ntest\n\n\n# dirname æªåç»å¯¹è·¯å¾\n\ndirname æä»¶ç»å¯¹è·¯å¾\n\n# ç¤ºä¾\n[banana@hadoop10 mylog]$ dirname /home/banana/mylog/test.sh       \n/home/banana/mylog\n\n\n\n# èªå®ä¹å½æ°\n\n> æ³¨æ:\n> \n> \n>  1. ä½¿ç¨æ¶åºè¯¥åå£°æå½æ°, åè°ç¨(shellèæ¬éè¡æ§è¡)\n>     \n>  2. è¿åå¼: å¯ä»¥ç¨$?è·åè¿åå¼, è¥ä¸å , ä¸ºæåä¸ä¸ªå½ä»¤çè¿è¡ç»æ\n\n# å£°æ\n[function] funname[()]\n{\n  action;\n  [return int(0-255);]\n}\n\n# è°ç¨\nfunname para1\n',charsets:{cjk:!0},lastUpdated:"2024/08/01, 16:20:18",lastUpdatedTimestamp:1722500418e3},{title:"Shellå½ä»¤è¡",frontmatter:{title:"Shellå½ä»¤è¡",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/5765cc/",categories:["å¶ä»","Shell"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/02.Shell/02.Shell%E5%B0%8F%E5%B7%A5%E5%85%B7.html",relativePath:"04.å¶ä»/02.Shell/02.Shellå°å·¥å·.md",key:"v-e244ce58",path:"/pages/5765cc/",headers:[{level:2,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:2},{level:4,title:"æ¹éç§»å¨æå®æä»¶",slug:"æ¹éç§»å¨æå®æä»¶",normalizedTitle:"æ¹éç§»å¨æå®æä»¶",charIndex:10},{level:4,title:"æ¹éç§»å¨/æ·è´æä»¶",slug:"æ¹éç§»å¨-æ·è´æä»¶",normalizedTitle:"æ¹éç§»å¨/æ·è´æä»¶",charIndex:123},{level:4,title:"æ¹éææ­»è¿ç¨",slug:"æ¹éææ­»è¿ç¨",normalizedTitle:"æ¹éææ­»è¿ç¨",charIndex:273},{level:4,title:"æ¥çç®å½å¤§å°",slug:"æ¥çç®å½å¤§å°",normalizedTitle:"æ¥çç®å½å¤§å°",charIndex:343},{level:2,title:"å·¥å·",slug:"å·¥å·",normalizedTitle:"å·¥å·",charIndex:465},{level:3,title:"æ¥å¿å¤ç",slug:"æ¥å¿å¤ç",normalizedTitle:"æ¥å¿å¤ç",charIndex:514},{level:3,title:"éç¾¤èæ¬",slug:"éç¾¤èæ¬",normalizedTitle:"éç¾¤èæ¬",charIndex:1655},{level:3,title:"æå¡å¨æ­å»º(tomcat)",slug:"æå¡å¨æ­å»º-tomcat",normalizedTitle:"æå¡å¨æ­å»º(tomcat)",charIndex:3595},{level:3,title:"sedæ¿æ¢jsonæä»¶",slug:"sedæ¿æ¢jsonæä»¶",normalizedTitle:"sedæ¿æ¢jsonæä»¶",charIndex:4888},{level:3,title:"awkææä¸åææä»¶åæå¤ä¸ªæä»¶",slug:"awkææä¸åææä»¶åæå¤ä¸ªæä»¶",normalizedTitle:"awkææä¸åææä»¶åæå¤ä¸ªæä»¶",charIndex:6568},{level:3,title:"æ¿æ¢ææ¬åå®¹(sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦)",slug:"æ¿æ¢ææ¬åå®¹-sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦",normalizedTitle:"æ¿æ¢ææ¬åå®¹(sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦)",charIndex:6887},{level:3,title:"è®¡ç®æ¶é´",slug:"è®¡ç®æ¶é´",normalizedTitle:"è®¡ç®æ¶é´",charIndex:7759}],headersStr:"å¸¸ç¨å½ä»¤ æ¹éç§»å¨æå®æä»¶ æ¹éç§»å¨/æ·è´æä»¶ æ¹éææ­»è¿ç¨ æ¥çç®å½å¤§å° å·¥å· æ¥å¿å¤ç éç¾¤èæ¬ æå¡å¨æ­å»º(tomcat) sedæ¿æ¢jsonæä»¶ awkææä¸åææä»¶åæå¤ä¸ªæä»¶ æ¿æ¢ææ¬åå®¹(sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦) è®¡ç®æ¶é´",content:'# å¸¸ç¨å½ä»¤\n\n# æ¹éç§»å¨æå®æä»¶\n\nå°æä»¶ç²è´´å° selected.txt ä¸­ï¼ä½¿ç¨ Unix æ¢è¡ç¬¦å·\n\nfor file in $(cat selected.txt); do mv "$file" selected/; done\n\n\n# æ¹éç§»å¨/æ·è´æä»¶\n\n# ï¼éå½ï¼æ¥æ¾aaaç®å½ä¸ææjpgãpdfãpngæä»¶ï¼å¹¶æ·è´å°bbbç®å½\nfind ./aaa -type f \\( -iname \'*.jpg\' -o -iname \'*.pdf\' -o -iname \'*.png\' \\) -exec cp {} bbb \\;\n\n\n# æ¹éææ­»è¿ç¨\n\nps -ef|grep java|grep -v grep|awk \'{print $2}\'|xargs kill\n\n\n# æ¥çç®å½å¤§å°\n\n# æ¥çå½åç®å½åä¸çº§ç®å½å¤§å°ï¼æå¤§å°æåº\ndu -h --max-depth=1 . | sort -hr\n# æ¥çå½åç®å½ä¸æææä»¶åç®å½çè¯¦ç»å¤§å°\ndu -ah --max-depth=1 | sort -hr\n\n\n\n# å·¥å·\n\n----------------------------------------\n\n\n# æ¥å¿å¤ç\n\n#!/bin/bash\nset -e\n\nif [ ! -n "$1" ];then\n        pre_date=`date -d "-1 day now" +%Y-%m-%d`\nelse\n        pre_date=`date -d "$1" +%Y-%m-%d`\nfi\necho "===============å¤çæ¥å¿çæ¥æä¸º========================="$pre_date\n\n\nparent_dir=`date -d "$pre_date" +%Y-%m`\npath="/pp/pp-etl-1.0/log/$parent_dir/$pre_date"\nreg1="è¿åº¦[0-9]{3,}\\.[0-9]{2}%"\nreg2=".*([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}).*\\[INFO\\] ([a-z|A-Z]+)ï¼(.*_V1).*æå¥([0-9]+).*æ´æ°([0-9]+).*è¿åº¦([0-9]{3,}\\.[0-9]{2})%.*æ´æ°è³([0-9]{4}-[0-9]{2}-[0-9]{2})ã"\nfile="/home/xxx/tag.sql"\n\n\n# å¤æ­ç®å½å­ä¸å­å¨\necho "=========æ¥å¿è·¯å¾ä¸º $path=========="\nif [ ! -d "$path" ];then\n\techo "è¯¥æ¥æç®å½ä¸å­å¨ï¼éåºç¨åº..."\n\texit 1\nfi\n\nif [ `ls $path/custom*.log|wc -l` -eq 0 ];then\n\techo "æ²¡æéè¦çæ¥å¿æä»¶ï¼éåºç¨åº..."\n\texit 1\nelse\n\tgrep -E $reg1 "$path/"custom*.log | sed -E "s#$reg2#insert into xxx(xx, xx, xx, xx, xx, xx, xx) values(\'\\1\',\'\\2\',\'\\3\',\\4,\\5,\\6,\'\\7\');#g" > "$file"\nfi\n\n# å¤æ­æä»¶æ¯å¦å­å¨\nif [ ! -f "$file" ];then\n\texit 1\nfi\n# åå¼å·æ¿æ¢ä¸ºåå¼å·\nsed -i "s/\\"/\'/g" "$file"\n\n# åæä»¶å -Djava.security.egd=file:/dev/random \njava -Dfile=tag.sql -jar xxx.jar\nif [ $? -ne 0 ];then\n\techo "æ§è¡å¤±è´¥,éåº..."\nelse\n\t#rm -f "$file"\n\techo "æ§è¡æåï¼éåº..."\nfi\n\n\n\n# éç¾¤èæ¬\n\nå¯å¨éç¾¤\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nsource /etc/profile\necho ===================éç¾¤å¼å§å¯å¨====================\necho -------------------å¯å¨zkèç¹---------------------\nfor((host=101; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/zookeeper-3.5.7/bin/zkServer.sh start\'\ndone\necho -------------------å¯å¨dfséç¾¤-------------\nssh $user@hadoop101 \'/soft/module/hadoop-2.9.2/sbin/start-dfs.sh\'\necho -------------------å¯å¨hbaseéç¾¤-----------\nssh $user@hadoop100 \'/soft/module/hbase/bin/start-hbase.sh\'\necho -------------------å¯å¨hbaseå¤ä»½master--------------\nssh $user@hadoop101 \'/soft/module/hbase/bin/hbase-daemon.sh start master\'\n\n\nåæ­¢éç¾¤\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nsource /etc/profile\necho ===================éç¾¤å¼å§å³é­====================\necho -------------------å³é­hbaseå¤ä»½master--------------\nssh $user@hadoop101 \'/soft/module/hbase/bin/hbase-daemon.sh stop master\'\necho -------------------å³é­hbaseéç¾¤-----------\nssh $user@hadoop100 \'/soft/module/hbase/bin/stop-hbase.sh\'\necho -------------------å³é­dfséç¾¤-------------\nssh $user@hadoop101 \'/soft/module/hadoop-2.9.2/sbin/stop-dfs.sh\'\necho -------------------å³é­zkèç¹---------------------\nfor((host=101; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/zookeeper-3.5.7/bin/zkServer.sh stop\'\ndone\n\n\njpsæ¥çè¿ç¨\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nfor((host=100; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/jdk1.8.0_161/bin/jps\'\ndone\n\n\næç¤º\n\nshellèæ¬æ§è¡çè¿ç¨ä¸­ï¼ç»å½shell åéç»å½shell è¯»åçç¯å¢éç½®æä»¶ä¸åã ç»å½shell ä¼è¯»å /etc/profile, ~/.bash_profile,~/.bash_login ,~/.profileç­æä»¶ï¼èéç»å½shell è¯»åçèæ¬æ /etc/bashrc å ~/.bashrc ï¼åjavaï¼path è¿äºç¯å¢åéè¯»åä¸å°ã è§£å³æ¹æ³ï¼ 1.å°/etc/profileæä»¶åå¥ ~/.bashrc ;cat /etc/profile >~/.bashrc 2.æprofileçéç½®ä¿¡æ¯echoå°.bashrcä¸­echo \'source /etc/profile\' >> ~/.bashrc\n\n\n# æå¡å¨æ­å»º(tomcat)\n\nç¯å¢åé\n\n## java\nJAVA_HOME=/soft/jdk1.8.0_161\nCLASSPATH=%JAVA_HOME%/lib:%JAVA_HOME%/jre/lib\nPATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin\n\n## maven\nexport MAVEN_HOME=/soft/apache-maven-3.6.3\nexport PATH=$MAVEN_HOME/bin:$PATH\n\n## tomcat\nCATALINA_HOME=/soft/apache-tomcat-9.0.41\n\n\ntomcat\n\nsh startup.shï¼å¯å¨tomcatå½ä»¤ï¼\nå³é­tomcatå½ä»¤ï¼\nsh /usr/local/tomcat7/bin/shutdown.sh\n\nps -ef|grep java\næ¥è¯¢ç«¯å£æ¯å¦æè¿ç¨å®æ¤ç¨å¦ä¸å½ä»¤grepå¯¹åºç«¯å£ï¼å¦8088ä¸ºç«¯å£å·\nä¾ï¼netstat -nalp|grep 8080\n\n#åæ­¢firewall\nsystemctl stop firewalld.service \n \n#å¼å¯firewall\nsystemctl start firewalld.service\n \n#ç¦æ­¢firewallå¼æºå¯å¨\nsystemctl disable firewalld.service \n \n#æ¥çé»è®¤é²ç«å¢ç¶æï¼å³é­åæ¾ç¤ºnot runningï¼å¼å¯åæ¾ç¤ºrunningï¼\nfirewall-cmd --state\n\nå¼æ¾æå®ç«¯å£\nfirewall-cmd --zone=public --add-port=8080/tcp --permanent\n å½ä»¤å«ä¹ï¼\n--zone #ä½ç¨å\n--add-port=1935/tcp  #æ·»å ç«¯å£ï¼æ ¼å¼ä¸ºï¼ç«¯å£/éè®¯åè®®\n--permanent  #æ°¸ä¹çæï¼æ²¡ææ­¤åæ°éå¯åå¤±æ\n\nå¯ä»¥éè¿"netstat -anp" æ¥æ¥çåªäºç«¯å£è¢«æå¼\nç¶åå¯ä»¥éè¿"lsof -i:$PORT"æ¥çåºç¨è¯¥ç«¯å£çç¨åºï¼$PORTæå¯¹åºçç«¯å£å·ï¼ãæèä½ ä¹å¯ä»¥æ¥çæä»¶/etc/servicesï¼ä»éé¢å¯ä»¥æ¾åºç«¯å£æå¯¹åºçæå¡ã\n\n\nLinux Tomcatå¯å¨æ¢\n\næ¹æ¡1ï¼éè¿rng-toolsèªå¨è¡¥åçµæ± ï¼æ¨èï¼\n\nå®è£rngæå¡å¹¶å¯å¨ï¼ç¶åä¿®æ¹å®çéç½®æä»¶\nyum install rng-tools -y\nsystemctl start rngd\ncp /usr/lib/systemd/system/rngd.service /etc/systemd/system\ncd /etc/systemd/system/\n\nvim rngd.service \nå° ExecStart=/sbin/rngd -f æ¹ä¸º ExecStart=/sbin/rngd -f -r /dev/urandom\néæ°å è½½åï¼åéå¯æå¡\nsystemctl daemon-reload  \nsystemctl restart rngd\n\n\n\n# sedæ¿æ¢jsonæä»¶\n\n##########åå¤åæ°########################\nfilename=`cat "json.properties"|grep \'filename\'|awk -F \'==\' \'{print $2}\'`          #å­æ®µæä»¶å\nparameter_name=`cat "json.properties"|grep \'parameter_name\'|awk -F \'==\' \'{print $2}\'`     #ååºåæ°\nmysql_col=`cat "json.properties"|grep \'mysql_col\'|awk -F \'==\' \'{print $2}\'`             #mysqlå¯¹åºå­æ®µå\nhdfs_table=`cat "json.properties"|grep \'hdfs_table\'|awk -F \'==\' \'{print $2}\'`                   #hdfsè¡¨å\nmysql_table=`cat "json.properties"|grep \'mysql_table\'|awk -F \'==\' \'{print $2}\'`                 #mysqlå¯¹åºè¡¨å\nhdfs_path=`cat "json.properties"|grep \'hdfs_path\'|awk -F \'==\' \'{print $2}\'`\n\necho "$filename===$parameter_name===$mysql_col===$hdfs_table===$mysql_table===${hdfs_path}"\n\n########æ¼æ¥å­ç¬¦ä¸²####################\nsh create_column.sh $filename $parameter_name $mysql_col #"å­æ®µæä»¶å" "ååºåæ°" "mysqlååºå­æ®µ"\nfilename="hdfs_mysql_${hdfs_table}.json"\n########æ¿æ¢æä»¶#########################\ncp "template.json" "json/${filename}"\ncd json\nsed -i "s#hdfscolumns#$(cat \'../hdfscolumn\')#g" $filename\nsed -i "s#mysqlcolumns#$(cat \'../mysqlcolumn\')#g" $filename\nsed -i "s#hdfspath#${hdfs_path}#g" $filename\nsed -i "s#mysqltablename#${mysql_table}#g" $filename\nsed -i "s#parameter_name#${parameter_name}#g" $filename\nsed -i "s#mysqlcol#${mysql_col}#g" $filename\ncd -\n\n\nrm -f "hdfscolumn"\nrm -f "mysqlcolumn"\nfor i in $(cat $1)\ndo\n        array=(${i//|/ })\n        #`echo ${array[0]}\n        # echo ${array[1]}\n        echo -n "{\\"index\\" : \\"${array[0]}\\",\\"type\\" : \\"${array[1]}\\"}," >> hdfscolumn\n\n        echo -n "\\"${array[2]}\\"," >> mysqlcolumn\ndone\n\necho -n "{\\"value\\" : \\"$2\\",\\"type\\" : \\"string\\"}" >> hdfscolumn\n\necho -n "\\"$3\\"" >> mysqlcolumn\n\n\n\n# awkææä¸åææä»¶åæå¤ä¸ªæä»¶\n\nsed \'s/\\t/\\x01/g\' "data.csv" > "new_data.txt"\nfor idate in 2020-12-08 2020-12-07\ndo\n    awk \'BEGIN{FS="\\\\\\x01";var="\'${idate}\'";re="^\'${idate}\'"} $3~re{print $1"\\t"$2"\\t"$3>var".txt"}\' new_data.csv\n    # hdfs dfs -put\ndone\n\n\n# awk è·åæåé¿åº¦å¤§äº20çè¡(ç­é)\nawk -F, \'{if(length($1)>20) print $0}\'  xxx.csv\n\n\n\n# æ¿æ¢ææ¬åå®¹(sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦)\n\nfor i in $(cat filename.txt)\ndo\n        array=(${i//,/ })\n        #`echo ${array[0]}\n        # echo ${array[1]}\n        cp template.sh 1216/${array[1]}\n        sed -i "s#httpsed#${array[0]}#g" 1216/${array[1]}\ndone\n\n##\nfor filename in $(cat "filename.txt")\ndo\n    #echo $filename\n    filename_temp=${filename/"dwa"/"cio"}\n    echo $filename_temp\n    mv $filename $filename_temp\n    sed -i \'s/dwa/cio/g\' $filename_temp\ndone\n\n##\nfor CLASSIFY_DESC in 1002 1003 1004 1005 1006 1007 1008 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 3001 3002 3003 3004 3007 3008 3009 3010 3011 4002 4003 4004 4005 4006 4007\ndo\n   filename1="cio_cp_ctyun_website_index_day_1001_1.0.0.0.sql"\n   filename2=${filename1/1001/"${CLASSIFY_DESC}"}\n   echo $filename2\n   cp ${filename1} ${filename2}\n   sed -i s/CLASSIFY_DESC/"${CLASSIFY_DESC}"/g ${filename2} \ndone\n\n\n\n# è®¡ç®æ¶é´\n\ninput_date_time=$(date -d "2020-10-23 03:48:25" \'+%Y-%m-%d %H:%M:%S\')\nMONTH_ID=${input_date_time:0:7}\nPRE_MONTH_ID=$(date -d "${MONTH_ID}-01  -1 month" +%Y-%m)\n\nPRE_2MONTH_ID=$(date -d "${MONTH_ID}-01  -2 month" +%Y-%m)\nPRE_3MONTH_ID=$(date -d "${MONTH_ID}-01  -3 month" +%Y-%m)\nPRE_4MONTH_ID=$(date -d "${MONTH_ID}-01  -4 month" +%Y-%m)\nPRE_5MONTH_ID=$(date -d "${MONTH_ID}-01  -5 month" +%Y-%m)\nNEXT_MONTH=$(date -d "${MONTH_ID}-01  +1 month" +%Y-%m)\nLAST_DAY_MONTH=$(date -d "${NEXT_MONTH}-01 -1 days" +%Y-%m-%d)\nFIRST_DAY_MONTH=$(date -d "${MONTH_ID}-01" +%Y-%m-%d)\nFIRST_DAY_PRE_MONTH=$(date -d "${MONTH_ID}-01  -1 month" +%Y-%m-%d)\nFIRST_DAY_PRE_2MONTH=$(date -d "${MONTH_ID}-01  -2 month" +%Y-%m-%d)\nFIRST_DAY_PRE_3MONTH=$(date -d "${MONTH_ID}-01  -3 month" +%Y-%m-%d)\nFIRST_DAY_PRE_4MONTH=$(date -d "${MONTH_ID}-01  -4 month" +%Y-%m-%d)\n\necho "PRE_MONTH_ID : ${PRE_MONTH_ID}"\necho "PRE_2MONTH_ID : ${PRE_2MONTH_ID}"\necho "PRE_3MONTH_ID : ${PRE_3MONTH_ID}"\necho "PRE_4MONTH_ID : ${PRE_4MONTH_ID}"\necho "PRE_5MONTH_ID : ${PRE_5MONTH_ID}"\necho "LAST_DAY_MONTH : ${LAST_DAY_MONTH}"\necho "FIRST_DAY_MONTH : ${FIRST_DAY_MONTH}"\necho "FIRST_DAY_PRE_MONTH : ${FIRST_DAY_PRE_MONTH}"\necho "FIRST_DAY_PRE_2MONTH : ${FIRST_DAY_PRE_2MONTH}"\necho "FIRST_DAY_PRE_3MONTH : ${FIRST_DAY_PRE_3MONTH}"\necho "FIRST_DAY_PRE_4MONTH : ${FIRST_DAY_PRE_4MONTH}"\n',normalizedContent:'# å¸¸ç¨å½ä»¤\n\n# æ¹éç§»å¨æå®æä»¶\n\nå°æä»¶ç²è´´å° selected.txt ä¸­ï¼ä½¿ç¨ unix æ¢è¡ç¬¦å·\n\nfor file in $(cat selected.txt); do mv "$file" selected/; done\n\n\n# æ¹éç§»å¨/æ·è´æä»¶\n\n# ï¼éå½ï¼æ¥æ¾aaaç®å½ä¸ææjpgãpdfãpngæä»¶ï¼å¹¶æ·è´å°bbbç®å½\nfind ./aaa -type f \\( -iname \'*.jpg\' -o -iname \'*.pdf\' -o -iname \'*.png\' \\) -exec cp {} bbb \\;\n\n\n# æ¹éææ­»è¿ç¨\n\nps -ef|grep java|grep -v grep|awk \'{print $2}\'|xargs kill\n\n\n# æ¥çç®å½å¤§å°\n\n# æ¥çå½åç®å½åä¸çº§ç®å½å¤§å°ï¼æå¤§å°æåº\ndu -h --max-depth=1 . | sort -hr\n# æ¥çå½åç®å½ä¸æææä»¶åç®å½çè¯¦ç»å¤§å°\ndu -ah --max-depth=1 | sort -hr\n\n\n\n# å·¥å·\n\n----------------------------------------\n\n\n# æ¥å¿å¤ç\n\n#!/bin/bash\nset -e\n\nif [ ! -n "$1" ];then\n        pre_date=`date -d "-1 day now" +%y-%m-%d`\nelse\n        pre_date=`date -d "$1" +%y-%m-%d`\nfi\necho "===============å¤çæ¥å¿çæ¥æä¸º========================="$pre_date\n\n\nparent_dir=`date -d "$pre_date" +%y-%m`\npath="/pp/pp-etl-1.0/log/$parent_dir/$pre_date"\nreg1="è¿åº¦[0-9]{3,}\\.[0-9]{2}%"\nreg2=".*([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}).*\\[info\\] ([a-z|a-z]+)ï¼(.*_v1).*æå¥([0-9]+).*æ´æ°([0-9]+).*è¿åº¦([0-9]{3,}\\.[0-9]{2})%.*æ´æ°è³([0-9]{4}-[0-9]{2}-[0-9]{2})ã"\nfile="/home/xxx/tag.sql"\n\n\n# å¤æ­ç®å½å­ä¸å­å¨\necho "=========æ¥å¿è·¯å¾ä¸º $path=========="\nif [ ! -d "$path" ];then\n\techo "è¯¥æ¥æç®å½ä¸å­å¨ï¼éåºç¨åº..."\n\texit 1\nfi\n\nif [ `ls $path/custom*.log|wc -l` -eq 0 ];then\n\techo "æ²¡æéè¦çæ¥å¿æä»¶ï¼éåºç¨åº..."\n\texit 1\nelse\n\tgrep -e $reg1 "$path/"custom*.log | sed -e "s#$reg2#insert into xxx(xx, xx, xx, xx, xx, xx, xx) values(\'\\1\',\'\\2\',\'\\3\',\\4,\\5,\\6,\'\\7\');#g" > "$file"\nfi\n\n# å¤æ­æä»¶æ¯å¦å­å¨\nif [ ! -f "$file" ];then\n\texit 1\nfi\n# åå¼å·æ¿æ¢ä¸ºåå¼å·\nsed -i "s/\\"/\'/g" "$file"\n\n# åæä»¶å -djava.security.egd=file:/dev/random \njava -dfile=tag.sql -jar xxx.jar\nif [ $? -ne 0 ];then\n\techo "æ§è¡å¤±è´¥,éåº..."\nelse\n\t#rm -f "$file"\n\techo "æ§è¡æåï¼éåº..."\nfi\n\n\n\n# éç¾¤èæ¬\n\nå¯å¨éç¾¤\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nsource /etc/profile\necho ===================éç¾¤å¼å§å¯å¨====================\necho -------------------å¯å¨zkèç¹---------------------\nfor((host=101; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/zookeeper-3.5.7/bin/zkserver.sh start\'\ndone\necho -------------------å¯å¨dfséç¾¤-------------\nssh $user@hadoop101 \'/soft/module/hadoop-2.9.2/sbin/start-dfs.sh\'\necho -------------------å¯å¨hbaseéç¾¤-----------\nssh $user@hadoop100 \'/soft/module/hbase/bin/start-hbase.sh\'\necho -------------------å¯å¨hbaseå¤ä»½master--------------\nssh $user@hadoop101 \'/soft/module/hbase/bin/hbase-daemon.sh start master\'\n\n\nåæ­¢éç¾¤\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nsource /etc/profile\necho ===================éç¾¤å¼å§å³é­====================\necho -------------------å³é­hbaseå¤ä»½master--------------\nssh $user@hadoop101 \'/soft/module/hbase/bin/hbase-daemon.sh stop master\'\necho -------------------å³é­hbaseéç¾¤-----------\nssh $user@hadoop100 \'/soft/module/hbase/bin/stop-hbase.sh\'\necho -------------------å³é­dfséç¾¤-------------\nssh $user@hadoop101 \'/soft/module/hadoop-2.9.2/sbin/stop-dfs.sh\'\necho -------------------å³é­zkèç¹---------------------\nfor((host=101; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/zookeeper-3.5.7/bin/zkserver.sh stop\'\ndone\n\n\njpsæ¥çè¿ç¨\n\n#!/bin/bash\n# è·åå½åç¨æ·åç§°\nuser=`whoami`\nfor((host=100; host<=103; host++)); do\n        echo ------------------- hadoop$host --------------\n        ssh $user@hadoop$host \'/soft/module/jdk1.8.0_161/bin/jps\'\ndone\n\n\næç¤º\n\nshellèæ¬æ§è¡çè¿ç¨ä¸­ï¼ç»å½shell åéç»å½shell è¯»åçç¯å¢éç½®æä»¶ä¸åã ç»å½shell ä¼è¯»å /etc/profile, ~/.bash_profile,~/.bash_login ,~/.profileç­æä»¶ï¼èéç»å½shell è¯»åçèæ¬æ /etc/bashrc å ~/.bashrc ï¼åjavaï¼path è¿äºç¯å¢åéè¯»åä¸å°ã è§£å³æ¹æ³ï¼ 1.å°/etc/profileæä»¶åå¥ ~/.bashrc ;cat /etc/profile >~/.bashrc 2.æprofileçéç½®ä¿¡æ¯echoå°.bashrcä¸­echo \'source /etc/profile\' >> ~/.bashrc\n\n\n# æå¡å¨æ­å»º(tomcat)\n\nç¯å¢åé\n\n## java\njava_home=/soft/jdk1.8.0_161\nclasspath=%java_home%/lib:%java_home%/jre/lib\npath=$path:$java_home/bin:$java_home/jre/bin\n\n## maven\nexport maven_home=/soft/apache-maven-3.6.3\nexport path=$maven_home/bin:$path\n\n## tomcat\ncatalina_home=/soft/apache-tomcat-9.0.41\n\n\ntomcat\n\nsh startup.shï¼å¯å¨tomcatå½ä»¤ï¼\nå³é­tomcatå½ä»¤ï¼\nsh /usr/local/tomcat7/bin/shutdown.sh\n\nps -ef|grep java\næ¥è¯¢ç«¯å£æ¯å¦æè¿ç¨å®æ¤ç¨å¦ä¸å½ä»¤grepå¯¹åºç«¯å£ï¼å¦8088ä¸ºç«¯å£å·\nä¾ï¼netstat -nalp|grep 8080\n\n#åæ­¢firewall\nsystemctl stop firewalld.service \n \n#å¼å¯firewall\nsystemctl start firewalld.service\n \n#ç¦æ­¢firewallå¼æºå¯å¨\nsystemctl disable firewalld.service \n \n#æ¥çé»è®¤é²ç«å¢ç¶æï¼å³é­åæ¾ç¤ºnot runningï¼å¼å¯åæ¾ç¤ºrunningï¼\nfirewall-cmd --state\n\nå¼æ¾æå®ç«¯å£\nfirewall-cmd --zone=public --add-port=8080/tcp --permanent\n å½ä»¤å«ä¹ï¼\n--zone #ä½ç¨å\n--add-port=1935/tcp  #æ·»å ç«¯å£ï¼æ ¼å¼ä¸ºï¼ç«¯å£/éè®¯åè®®\n--permanent  #æ°¸ä¹çæï¼æ²¡ææ­¤åæ°éå¯åå¤±æ\n\nå¯ä»¥éè¿"netstat -anp" æ¥æ¥çåªäºç«¯å£è¢«æå¼\nç¶åå¯ä»¥éè¿"lsof -i:$port"æ¥çåºç¨è¯¥ç«¯å£çç¨åºï¼$portæå¯¹åºçç«¯å£å·ï¼ãæèä½ ä¹å¯ä»¥æ¥çæä»¶/etc/servicesï¼ä»éé¢å¯ä»¥æ¾åºç«¯å£æå¯¹åºçæå¡ã\n\n\nlinux tomcatå¯å¨æ¢\n\næ¹æ¡1ï¼éè¿rng-toolsèªå¨è¡¥åçµæ± ï¼æ¨èï¼\n\nå®è£rngæå¡å¹¶å¯å¨ï¼ç¶åä¿®æ¹å®çéç½®æä»¶\nyum install rng-tools -y\nsystemctl start rngd\ncp /usr/lib/systemd/system/rngd.service /etc/systemd/system\ncd /etc/systemd/system/\n\nvim rngd.service \nå° execstart=/sbin/rngd -f æ¹ä¸º execstart=/sbin/rngd -f -r /dev/urandom\néæ°å è½½åï¼åéå¯æå¡\nsystemctl daemon-reload  \nsystemctl restart rngd\n\n\n\n# sedæ¿æ¢jsonæä»¶\n\n##########åå¤åæ°########################\nfilename=`cat "json.properties"|grep \'filename\'|awk -f \'==\' \'{print $2}\'`          #å­æ®µæä»¶å\nparameter_name=`cat "json.properties"|grep \'parameter_name\'|awk -f \'==\' \'{print $2}\'`     #ååºåæ°\nmysql_col=`cat "json.properties"|grep \'mysql_col\'|awk -f \'==\' \'{print $2}\'`             #mysqlå¯¹åºå­æ®µå\nhdfs_table=`cat "json.properties"|grep \'hdfs_table\'|awk -f \'==\' \'{print $2}\'`                   #hdfsè¡¨å\nmysql_table=`cat "json.properties"|grep \'mysql_table\'|awk -f \'==\' \'{print $2}\'`                 #mysqlå¯¹åºè¡¨å\nhdfs_path=`cat "json.properties"|grep \'hdfs_path\'|awk -f \'==\' \'{print $2}\'`\n\necho "$filename===$parameter_name===$mysql_col===$hdfs_table===$mysql_table===${hdfs_path}"\n\n########æ¼æ¥å­ç¬¦ä¸²####################\nsh create_column.sh $filename $parameter_name $mysql_col #"å­æ®µæä»¶å" "ååºåæ°" "mysqlååºå­æ®µ"\nfilename="hdfs_mysql_${hdfs_table}.json"\n########æ¿æ¢æä»¶#########################\ncp "template.json" "json/${filename}"\ncd json\nsed -i "s#hdfscolumns#$(cat \'../hdfscolumn\')#g" $filename\nsed -i "s#mysqlcolumns#$(cat \'../mysqlcolumn\')#g" $filename\nsed -i "s#hdfspath#${hdfs_path}#g" $filename\nsed -i "s#mysqltablename#${mysql_table}#g" $filename\nsed -i "s#parameter_name#${parameter_name}#g" $filename\nsed -i "s#mysqlcol#${mysql_col}#g" $filename\ncd -\n\n\nrm -f "hdfscolumn"\nrm -f "mysqlcolumn"\nfor i in $(cat $1)\ndo\n        array=(${i//|/ })\n        #`echo ${array[0]}\n        # echo ${array[1]}\n        echo -n "{\\"index\\" : \\"${array[0]}\\",\\"type\\" : \\"${array[1]}\\"}," >> hdfscolumn\n\n        echo -n "\\"${array[2]}\\"," >> mysqlcolumn\ndone\n\necho -n "{\\"value\\" : \\"$2\\",\\"type\\" : \\"string\\"}" >> hdfscolumn\n\necho -n "\\"$3\\"" >> mysqlcolumn\n\n\n\n# awkææä¸åææä»¶åæå¤ä¸ªæä»¶\n\nsed \'s/\\t/\\x01/g\' "data.csv" > "new_data.txt"\nfor idate in 2020-12-08 2020-12-07\ndo\n    awk \'begin{fs="\\\\\\x01";var="\'${idate}\'";re="^\'${idate}\'"} $3~re{print $1"\\t"$2"\\t"$3>var".txt"}\' new_data.csv\n    # hdfs dfs -put\ndone\n\n\n# awk è·åæåé¿åº¦å¤§äº20çè¡(ç­é)\nawk -f, \'{if(length($1)>20) print $0}\'  xxx.csv\n\n\n\n# æ¿æ¢ææ¬åå®¹(sedæ¿æ¢çææ¬ä¸è½æå½ä»¤åéç¬¦)\n\nfor i in $(cat filename.txt)\ndo\n        array=(${i//,/ })\n        #`echo ${array[0]}\n        # echo ${array[1]}\n        cp template.sh 1216/${array[1]}\n        sed -i "s#httpsed#${array[0]}#g" 1216/${array[1]}\ndone\n\n##\nfor filename in $(cat "filename.txt")\ndo\n    #echo $filename\n    filename_temp=${filename/"dwa"/"cio"}\n    echo $filename_temp\n    mv $filename $filename_temp\n    sed -i \'s/dwa/cio/g\' $filename_temp\ndone\n\n##\nfor classify_desc in 1002 1003 1004 1005 1006 1007 1008 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 3001 3002 3003 3004 3007 3008 3009 3010 3011 4002 4003 4004 4005 4006 4007\ndo\n   filename1="cio_cp_ctyun_website_index_day_1001_1.0.0.0.sql"\n   filename2=${filename1/1001/"${classify_desc}"}\n   echo $filename2\n   cp ${filename1} ${filename2}\n   sed -i s/classify_desc/"${classify_desc}"/g ${filename2} \ndone\n\n\n\n# è®¡ç®æ¶é´\n\ninput_date_time=$(date -d "2020-10-23 03:48:25" \'+%y-%m-%d %h:%m:%s\')\nmonth_id=${input_date_time:0:7}\npre_month_id=$(date -d "${month_id}-01  -1 month" +%y-%m)\n\npre_2month_id=$(date -d "${month_id}-01  -2 month" +%y-%m)\npre_3month_id=$(date -d "${month_id}-01  -3 month" +%y-%m)\npre_4month_id=$(date -d "${month_id}-01  -4 month" +%y-%m)\npre_5month_id=$(date -d "${month_id}-01  -5 month" +%y-%m)\nnext_month=$(date -d "${month_id}-01  +1 month" +%y-%m)\nlast_day_month=$(date -d "${next_month}-01 -1 days" +%y-%m-%d)\nfirst_day_month=$(date -d "${month_id}-01" +%y-%m-%d)\nfirst_day_pre_month=$(date -d "${month_id}-01  -1 month" +%y-%m-%d)\nfirst_day_pre_2month=$(date -d "${month_id}-01  -2 month" +%y-%m-%d)\nfirst_day_pre_3month=$(date -d "${month_id}-01  -3 month" +%y-%m-%d)\nfirst_day_pre_4month=$(date -d "${month_id}-01  -4 month" +%y-%m-%d)\n\necho "pre_month_id : ${pre_month_id}"\necho "pre_2month_id : ${pre_2month_id}"\necho "pre_3month_id : ${pre_3month_id}"\necho "pre_4month_id : ${pre_4month_id}"\necho "pre_5month_id : ${pre_5month_id}"\necho "last_day_month : ${last_day_month}"\necho "first_day_month : ${first_day_month}"\necho "first_day_pre_month : ${first_day_pre_month}"\necho "first_day_pre_2month : ${first_day_pre_2month}"\necho "first_day_pre_3month : ${first_day_pre_3month}"\necho "first_day_pre_4month : ${first_day_pre_4month}"\n',charsets:{cjk:!0},lastUpdated:"2025/06/27, 12:02:59",lastUpdatedTimestamp:1750996979e3},{title:"è¯­æ³å­¦ä¹ ",frontmatter:{title:"è¯­æ³å­¦ä¹ ",date:"2022-03-02T11:06:24.000Z",permalink:"/pages/c917bd/",categories:["å¶ä»","Scala"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/03.Scala/01.%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0.html",relativePath:"04.å¶ä»/03.Scala/01.è¯­æ³å­¦ä¹ .md",key:"v-412d7d01",path:"/pages/c917bd/",headers:[{level:2,title:"Scalaä¸­,ä¸åçä¸ºå¯¹è±¡",slug:"scalaä¸­-ä¸åçä¸ºå¯¹è±¡",normalizedTitle:"scalaä¸­,ä¸åçä¸ºå¯¹è±¡",charIndex:2},{level:2,title:"éè¦æ³¨æç",slug:"éè¦æ³¨æç",normalizedTitle:"éè¦æ³¨æç",charIndex:20},{level:2,title:"è¿ç®ç¬¦",slug:"è¿ç®ç¬¦",normalizedTitle:"è¿ç®ç¬¦",charIndex:460},{level:2,title:"å­ç¬¦ä¸²å½æ°",slug:"å­ç¬¦ä¸²å½æ°",normalizedTitle:"å­ç¬¦ä¸²å½æ°",charIndex:648},{level:2,title:"æµç¨æ§å¶è¯­å¥",slug:"æµç¨æ§å¶è¯­å¥",normalizedTitle:"æµç¨æ§å¶è¯­å¥",charIndex:700},{level:2,title:"æ¹æ³åå½æ°",slug:"æ¹æ³åå½æ°",normalizedTitle:"æ¹æ³åå½æ°",charIndex:2562},{level:3,title:"1.æ®éæ¹æ³",slug:"_1-æ®éæ¹æ³",normalizedTitle:"1.æ®éæ¹æ³",charIndex:2614},{level:3,title:"2.éå½æ¹æ³",slug:"_2-éå½æ¹æ³",normalizedTitle:"2.éå½æ¹æ³",charIndex:2939},{level:3,title:"3.å¸¦é»è®¤åæ°çæ¹æ³",slug:"_3-å¸¦é»è®¤åæ°çæ¹æ³",normalizedTitle:"3.å¸¦é»è®¤åæ°çæ¹æ³",charIndex:3129},{level:3,title:"4.å¯åé¿åæ°çæ¹æ³",slug:"_4-å¯åé¿åæ°çæ¹æ³",normalizedTitle:"4.å¯åé¿åæ°çæ¹æ³",charIndex:3254},{level:3,title:"5.å¿åå½æ°",slug:"_5-å¿åå½æ°",normalizedTitle:"5.å¿åå½æ°",charIndex:3537},{level:3,title:"6.åµå¥å½æ°",slug:"_6-åµå¥å½æ°",normalizedTitle:"6.åµå¥å½æ°",charIndex:3653},{level:3,title:"7.ååºç¨å½æ°",slug:"_7-ååºç¨å½æ°",normalizedTitle:"7.ååºç¨å½æ°",charIndex:3813},{level:3,title:"8.é«é¶å½æ°",slug:"_8-é«é¶å½æ°",normalizedTitle:"8.é«é¶å½æ°",charIndex:4196},{level:3,title:"9.æ¯éåå½æ°",slug:"_9-æ¯éåå½æ°",normalizedTitle:"9.æ¯éåå½æ°",charIndex:5725},{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:421},{level:2,title:"åç»",slug:"åç»",normalizedTitle:"åç»",charIndex:157},{level:2,title:"é¾è¡¨List",slug:"é¾è¡¨list",normalizedTitle:"é¾è¡¨list",charIndex:8277},{level:2,title:"Map",slug:"map",normalizedTitle:"map",charIndex:448},{level:2,title:"Set",slug:"set",normalizedTitle:"set",charIndex:10179},{level:2,title:"ç±»ç»§æ¿åä¼´çå¯¹è±¡",slug:"ç±»ç»§æ¿åä¼´çå¯¹è±¡",normalizedTitle:"ç±»ç»§æ¿åä¼´çå¯¹è±¡",charIndex:12935},{level:2,title:"æ¨¡å¼å¹éåæ ·ä¾ç±»",slug:"æ¨¡å¼å¹éåæ ·ä¾ç±»",normalizedTitle:"æ¨¡å¼å¹éåæ ·ä¾ç±»",charIndex:14252},{level:2,title:"Scala ä¸åçº¿(_) ç¨æ³æ±æ»",slug:"scala-ä¸åçº¿-ç¨æ³æ±æ»",normalizedTitle:"scala ä¸åçº¿(_) ç¨æ³æ±æ»",charIndex:16406},{level:3,title:"1.å¯¼åæ¶çééç¬¦",slug:"_1-å¯¼åæ¶çééç¬¦",normalizedTitle:"1.å¯¼åæ¶çééç¬¦",charIndex:16470},{level:3,title:"2.Scalaç±»ä¸­æååéåå§å",slug:"_2-scalaç±»ä¸­æååéåå§å",normalizedTitle:"2.scalaç±»ä¸­æååéåå§å",charIndex:16533},{level:3,title:"3.ç±»åééç¬¦",slug:"_3-ç±»åééç¬¦",normalizedTitle:"3.ç±»åééç¬¦",charIndex:16623},{level:3,title:"4.å¯ååæ°",slug:"_4-å¯ååæ°",normalizedTitle:"4.å¯ååæ°",charIndex:16939},{level:3,title:"5.æ¨¡å¼å¹é",slug:"_5-æ¨¡å¼å¹é",normalizedTitle:"5.æ¨¡å¼å¹é",charIndex:17307},{level:3,title:"6.å°å½æ°èµç»åé",slug:"_6-å°å½æ°èµç»åé",normalizedTitle:"6.å°å½æ°èµç»åé",charIndex:18103},{level:3,title:"7.è®¿é®Tupleåç´ ",slug:"_7-è®¿é®tupleåç´ ",normalizedTitle:"7.è®¿é®tupleåç´ ",charIndex:18268},{level:3,title:"8.åæ°å±å¼",slug:"_8-åæ°å±å¼",normalizedTitle:"8.åæ°å±å¼",charIndex:18347},{level:3,title:"9.å¶å®ç¨æ³ââç®åå½æ°",slug:"_9-å¶å®ç¨æ³-ç®åå½æ°",normalizedTitle:"9.å¶å®ç¨æ³ââç®åå½æ°",charIndex:18628}],headersStr:"Scalaä¸­,ä¸åçä¸ºå¯¹è±¡ éè¦æ³¨æç è¿ç®ç¬¦ å­ç¬¦ä¸²å½æ° æµç¨æ§å¶è¯­å¥ æ¹æ³åå½æ° 1.æ®éæ¹æ³ 2.éå½æ¹æ³ 3.å¸¦é»è®¤åæ°çæ¹æ³ 4.å¯åé¿åæ°çæ¹æ³ 5.å¿åå½æ° 6.åµå¥å½æ° 7.ååºç¨å½æ° 8.é«é¶å½æ° 9.æ¯éåå½æ° æ°ç» åç» é¾è¡¨List Map Set ç±»ç»§æ¿åä¼´çå¯¹è±¡ æ¨¡å¼å¹éåæ ·ä¾ç±» Scala ä¸åçº¿(_) ç¨æ³æ±æ» 1.å¯¼åæ¶çééç¬¦ 2.Scalaç±»ä¸­æååéåå§å 3.ç±»åééç¬¦ 4.å¯ååæ° 5.æ¨¡å¼å¹é 6.å°å½æ°èµç»åé 7.è®¿é®Tupleåç´  8.åæ°å±å¼ 9.å¶å®ç¨æ³ââç®åå½æ°",content:'# Scalaä¸­,ä¸åçä¸ºå¯¹è±¡\n\n\n# éè¦æ³¨æç\n\n----------------------------------------\n\n * å®ä¹å¤ä¸ªåé var (i,j,temp) = (1, 0, 0)\n * è®°ä½: é¤äºå¾ªç¯é½æ²¡æè¿åå¼,å¶ä½é½æè¿åå¼\n * å½æ°åç¼ç¨: å½æ°å³åæ°\n\n//ä¾å¦ (éååç»)\ntuple22.productIterator.foreach(i => print(i + " "))\n\n\n * breakè¯­å¥\n\n// åå»º Breaks å¯¹è±¡\nval loop = new Breaks;\n// å¨ breakable ä¸­å¾ªç¯\nloop.breakable{\n    // å¾ªç¯\n    for(...){\n       ....\n       // å¾ªç¯ä¸­æ­\n       loop.break;\n   }\n}\n\n\n * foreachåè¿­ä»£å¨çåºå«\n\nforeachéååç´ ç±»åç¸åç (ä¾å¦ æ°ç») è¿­ä»£å¨ç¨æ¥éååç´ ç±»åä¸åç (ä¾å¦ åç». Mapéå?)\n\n\n# è¿ç®ç¬¦\n\n----------------------------------------\n\nobject MyScala{\n    def main(args:ArrayString]){\n        val num:Int = 195\n        println(s"${num<<2}\\r${num>>2}\\r${num>>>2}")\n    }\n}\n\n\n\n# å­ç¬¦ä¸²å½æ°\n\n----------------------------------------\n\n\n# æµç¨æ§å¶è¯­å¥\n\n----------------------------------------\n\npackage com.hrbu.nscala\n\nimport scala.io.StdIn\n\nobject ControlStatement {\n  \n  def test1(): Any = {\n    val in = StdIn.readLine("è¯·è¾å¥: ")\n    //ç¨ifå®ç°javaä¸åè¡¨è¾¾å¼\n    println(if(in.isInstanceOf[Int]) in.toString() else "å­ç¬¦ä¸²:" + in )\n    \n    return if(in.isInstanceOf[Int]) in.toString() else in\n  }\n  \n  def test2():Any = {\n    print("è¯·è¾å¥:")\n    val in = StdIn.readInt()\n    return if(in.isInstanceOf[Int]){\n      println("ç±»åæ­£ç¡®")\n    } else{\n      println("ç±»åä¸æ­£ç¡®")\n    }\n    \n  }\n  \n  /*\n   * 2.to and until\n   */\n  def test3{\n    val r1 = 1 to 10\n    val r2 = 1 until 10\n    val r3 = 1 to (10,2)\t\t// a.æ­¥é¿\n    println(r1 + "\\n" + r2 + "\\n" + r3)\n  }\n    \n\n    /*\n     * 3.å¾ªç¯è¯­å¥\n     * a.for\n     */\n  def test4{\n    for (i <- 1 to 4) {\n      println(i)\n    }\n  \n      //ä¹æ³è¡¨\n      /*for(i<- 1 until 10){\n        for(j<- 1 until 10){\n          if(i>=j){\n            print(s"$i * $j=" + i*j + "\\t")\n          }\n          if(i==j){\n            println()\n          }\n        }\n      }*/\n      //ç®å\n      /*for(i<- 1 until 10;j<- 1 until 10){\n          if(i>=j){\n            print(s"$i * $j=" + i*j + "\\t")\n          }\n          if(i==j){\n            println()\n          }\n      }*/\n    }\n    /**\n     * while\n     * do...while\n     */\n    def test5{\n      var b: Int = 0\n      while (b < 10) {\n        println(s"ç¬¬$b æ¬¡æ±å©") //r æ³¨æ$båä¸å®æç©ºæ ¼\n        b += 1\n      }\n    }\n\n    /**\n     * 4.yieldå³é®å­ï¼è®°ä½æ¯æ¬¡è¿­ä»£ä¸­çæå³å¼ï¼å¹¶éä¸å­å¥å°ä¸ä¸ªæ°ç»\n     * 5.å¾ªç¯è¿æ»¤ ï¼éåæ°ç»ï¼\n     */\n    def test6{\n      val result = for { i <- 1 to 100 if (i > 50) if (i % 5 == 0) } yield i\n      //val result = for(i<- 1 to 100 if(i>50) if(i%5==0)) yield i\n      println(result)\n    }\n  \n  def main(args: Array[String]): Unit = {\n    println("test1è¿å: " + test1())\n    \n    println("test2è¿åå¼: " + test2())\n    \n    println("printlnè¯­å¥è¿åå¼:" + println("nicai"))\n    \n  }\n}\n\n\n\n# æ¹æ³åå½æ°\n\n----------------------------------------\n\n\n# 1.æ®éæ¹æ³\n\ndef æ¹æ³å (åæ°:åæ°ç±»å):æ¹æ³è¿åå¼={å½æ°ä½}\n\ndef max1(a:Int,b:Int):Int={\n      if(a>b){\n        return a\n      } else{\n        println("b>a")\n        return b\n      }\n    }\nprintln("max1=" + max1(b=69, a=35))\n/*****ç®åä¸é¢çæ¹æ³**æ¹æ³ä½å¦æå¯ä»¥ä¸è¡æå®ï¼å¯å»æ{}*****/\ndef max1_1(a:Int,b:Int) = if(a>b) a else b\nprintln("max1.1=" + max1_1(12, 9))\n\n\n\n# 2.éå½æ¹æ³\n\néå½æ¹æ³è¦æ¾å¼çæå®å½æ°çè¿åå¼ç±»å\n\ndef factorial(num:Int):Int = {\n      if(num == 1){\n        1\n      } else {\n        num * factorial(num-1)\n      }\n    }\nprintln(s"5çé¶ä¹ä¸º:  ${factorial(5)}")\n\n\n\n# 3.å¸¦é»è®¤åæ°çæ¹æ³\n\ndef max3(a:Int=69, b:Int=66) = if (a>b) a else b\nprintln("max3= " + max3())\nprintln("max3= " + max3(b=100))\n\n\n\n# 4.å¯åé¿åæ°çæ¹æ³\n\ndef showStr(str:String*){\n  for(elem <- str){\n    print(elem)\n  }\n}\nshowStr("Hello", " ", "Scala", "\\r");\nshowStr("é¿æ²³è½æ¥ä¸é½å", ",", "éé©¬æè¾¹å°åå", "ã", "å°½è¯å®µå°å¤©ç­ä¹", ",", "é¿æªç¬å®å¤§åé­", "ã", "\\n")\n/***************æ¹æ³ç®å**************/\ndef showStr(str:String*) = str.foreach(print)\n\n\n\n# 5.å¿åå½æ°\n\n"=>"å°±æ¯å¿åå½æ°ï¼å¤ç¨äºæ¹æ³çåæ°ä¸ºå½æ°æ¶ï¼å¸¸ç¨å¿åå½æ°\n\ndef max5() = (a:Int, b:Int)=>if (a>b) a else b\nprintln(max5()(11, 22))\n\n\n\n# 6.åµå¥å½æ°\n\ndef value6(num:Int):Int={\n  def factorial6(a:Int):Int = if(a == 1) 1 else a * factorial6(a - 1)\n  factorial6(num)\n}\nprintln("5çé¶ä¹ä¸º: " + value6(5))\n\n\n\n# 7.ååºç¨å½æ°\n\næäºæåµä¸,æ¹æ³ä¸­åæ°éå¸¸å¤ï¼è°ç¨éå¸¸é¢ç¹ï¼æ¯æ¬¡è°ç¨åªæåºå®çä¸ä¸ªåæ°ååï¼å¶å®é½ä¸åï¼å¯ä»¥å®ä¹ååºç¨å½æ°ç®å\n\n//åå®ä¹ä¸ä¸ªæ®éå½æ°\ndef showLogs(date:Date, log:String) = {\n  println(s"date = $date\\tlog = $log")\n}\nval date: Date = new Date();    //æ³¨æ:è¿éæ¯scalaåé\nshowLogs(date, "balabala")      //æ®éå½æ°è°ç¨\nshowLogs(date, "hahahaha")\n\n//å®ä¹ååºç¨å½æ°\ndef showLogs7 = showLogs(date:Date, _:String)\nshowLogs7("123456789")\nshowLogs7("987654321")\n\n\n\n# 8.é«é¶å½æ°\n\n/**a.åæ°æ¯å½æ°çæ¹æ³*/\n/*def fun8_1(a:Int,b:Int)={\n  a+b\n}*/\n\n/*def fun8_a(f:(Int,Int)=>Int,s:String) : String={\n  val i:Int = f(100,200)\n  i+"#" +s\n}\nval result1 = fun8_a((a:Int,b:Int)=>{a*b},"Scala")\nprintln(result1)*/\n\n/**b.è¿åå¼æ¯å½æ°çæ¹æ³*/\n/*def fun8_b(s:String):(String,String)=>String={      //æ¾ç¤ºå£°æè¿åå¼(ææåä¸è¡åä¸ºfun _)\n  \n  def fun(s1:String,s2:String):String={\n    s1 + " " + s2 + " " +s\n  }\n  fun        //r å½è¿åå¼æ¶ä¸å æ¬å·\n}\n\nprintln(fun8_b("!!!")("Hello","Scala"))*/\n\n/**c.è¿åå¼ååæ°é½æ¯å½æ°çæ¹æ³*/\n/*def fun8_c(f:(Int,Int)=>Int):(String,String)=>String={\n  val fInt = f(1,2)\n  \n  def fun8(s1:String,s2:String):String={\n    s1 + " " + s2 + fInt.toString()\n  }\n  \n  fun9\n}\n\nprintln("è¿åå¼åæ°é½æ¯å½æ°ï¼" + fun9_c((a,b)=>{a+b})("Hello", "Scala"))*/\n\n\n1.æ¹æ³çåæ°æ¯å½æ°\n\n/*a.åæ°æ¯å½æ°*/\ndef pet(pName:String, pAttack:Int): String = {\n  (s"å® ç©åå­: ${pName}\\tå® ç©æ»å»å: ${pAttack}")\n}\ndef hero(fun:(String, Int) => String, heroName:String) = {\n  println(s"è±éåå­: ${heroName}\\t${fun("é¾ç¼ç", 10000)}")\n}\nhero(pet, "ç´å¸")\n\n\n2.æ¹æ³çè¿åæ¯å½æ°\n\n/*b.è¿åå¼ä¸ºåæ°*/\ndef hero2(heroName:String, heroAttack:Int) : (String, Int) => String = {\n  def getMessage(pName:String, pAttack:Int) : String = {\n    (s"è±éåå­: ${heroName}\\tå® ç©åå­: ${pName}\\tæ»å»å: ${heroAttack + pAttack}")\n  }\n  getMessage      //æ³¨æ å½è¿åå¼ä¸å ()\n}\nprintln(hero2("éç¥", 10000)("é´é³å", 8000))\n\n\n3.æ¹æ³çåæ°åè¿åå¼é½æ¯å½æ°\n\ndef hoFun(f:(Int,Int)=>Int):(String,String)=>String={\n  val fInt = f(1,2)\n  def fun(s1:String,s2:String):String={\n    s1 + " " + s2 + fInt.toString()\n  }\n  fun\n}\nprintln("è¿åå¼åæ°é½æ¯å½æ°ï¼" + hoFun((a,b)=>{a+b})("Hello", "Scala"))\n\n\n\n# 9.æ¯éåå½æ°\n\nè¿åå¼æ¯å½æ°çæ¹æ³çç®å\n\ndef fun9(a:Int, b:Int)(c:Int, d:Int) = a + b + c + d\nprintln(fun9(250,50)(100,120))\n\n\n\n# æ°ç»\n\n----------------------------------------\n\n/*\n   * 1.ç¬¬ä¸ç§å®ä¹æ¹å¼\n   */\n  def ImmutableArray1{\n    val arr = Array[String]("Hello", "Scala", "Hello", "World");\n    arr.foreach(println)\n  }\n  \n  /*\n   * 2.ç¬¬äºç§å®ä¹æ¹å¼\n   */\n  def ImmutableArray2{\n    val arr = new Array[String](3);\n    arr(0) = "ä½ å¥½"\n    arr(1) = "ä¸ç"\n    arr(2) = "!!!"\n    //arr(3) = ""  //java.lang.ArrayIndexOutOfBoundsException\n    arr.foreach(print)\n  }\n  \n  /*\n   * 3.å³äºæ°ç»è¿æ¥ fillæ¹æ³\n   */\n  def ImmutableArray3{\n    val arr1 = Array[String]("aaa", "bbb", "ccc")\n    val arr2 = Array[String]("333", "666", "999")\n//    println(arr1.contains(arr2))\n    Array.concat(arr1, arr2).foreach(print)\n    println()\n    \n    val arr3 = Array.fill(6)("Scala")\n    arr3.foreach(print)\n  }\n  /*\n   * 4.äºç»´æ°ç»\n   */\n  def ImmutableArray4{\n    val arr = new Array[Array[String]](3)\n    arr(0) = Array[String]("Hello", "World", "!!!")\n    arr(1) = Array[String]("Hello", "Scala")\n    arr(2) = Array[String]("Hello", "Array", "EOF")\n    for(arrTemp <- arr; str <- arrTemp){\n      print(str + "  ")\n    }\n  }\n  /*\n   * 5.å¯åæ°ç»   ç±»ä¼¼ java ç ArrayList\n   */\n  def MutableArray{\n    var arr = ArrayBuffer[String]("111", "222")\n    arr.foreach(i => print(i + " "))\n//    arr.+:("+:")\n    arr.+=("+=")      //æ°ç»æ«æå¥\n    arr.+=:("+=:")    //æ°ç»é¦æå¥\n//    arr.++("++")\n//    arr.++:("++:")\n//    arr.++=(Array("...", "***"))       //ç¨++=æä½ç¬¦è¿½å ä»»ä½éå\n    println()\n    arr.foreach(i => print(i + " "))\n    \n    arr.append("aaa", "bbb", "ccc")    //è¿½å åç´ \n    println()\n    arr.foreach(i => print(i + " "))\n  }\n\n\n\n# åç»\n\n----------------------------------------\n\næé¾\n\npackage com.hrbu.scala\n\n/**\n * åç»\n */\nobject Scala10_Tuple {\n  def main(args: Array[String]): Unit = {\n    \n    //æ³¨æ:tupleæå¤æ¯æ22ä¸ªåæ°\n    /**1.åå»º*/\n    //val tuple = new Tuple1(1)\n    val tuple2 = Tuple2("zhangsan",2)\n    val tuple3 = Tuple3(1,2,3)\n    //val tuple4 = (1,2,3,4)\n    //val tuple18 = Tuple18(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18)\n    val tuple22 = new Tuple22(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22)\n    \n    //ä½¿ç¨\n    /*println(tuple2._1 + "\\t"+tuple2._2)\n    val t = Tuple2((1,2),("zhangsan","lisi"))\n    println(t._1._2)*/\n    \n    \n    /***2.éå*/\n    val tupleIterator = tuple22.productIterator\n    while(tupleIterator.hasNext){\n      println(tupleIterator.next())\n    }\n\n    /**\n     * æ¹æ³\n     */\n    //ç¿»è½¬ï¼åªéå¯¹äºåç»\n    println(tuple2.swap)\n    \n    //toString\n    println(tuple3.toString())\n\n    \n  }\n} \n\n\n\n# é¾è¡¨List\n\n----------------------------------------\n\nåJavaéä¸åï¼Scalaä¸­Listä¸å®æ¯ä»¥é¾è¡¨æ¹å¼å®ç°çãJavaä¸­çListæ¦å¿µå¯¹åºScalaä¸­çSeqã é¾è¡¨çç¹å¾ï¼åç´ æååä¹åï¼éåéä¸ªè®¿é®\n\npackage com.hrbu.scala\n\nimport scala.collection.mutable.ListBuffer\n\nobject Scala7_List {\n  def main(args: Array[String]): Unit = {\n    \n    val list1 = List[Int](7,9,1,2,3,4,5,6)\n    /*for(i<-list1){\n      print(i + " ")\n    }*/\n    //list1.foreach(print)\n    /*for(i<-0 until list1.count(x=>true)){\n      print(list1(i) + " ")\n    }\n    println()*/\n    \n    /*val countList1 = list1.count(x=>x>=3)\n    println(countList1)*/\n    \n    /***********éè¦æ¹æ³****************/\n    val list2 = List("hello world","hello scala","hello spark")\n    // 1.è¿æ»¤ï¼filteræ¹æ³\n    //print(list1.filter(x=>x>=6).toString())\n    /*val list_ = list1.filter(x=>x>=6)\n    list_.foreach(println)*/\n    \n    // 2.å¯¹åç´ æä½ï¼mapæ¹æ³\n    /*val list2_  = list2.map(x=>x.split(" "))\n    for(i<-list2_;j<-i){\n      println(j)\n    }*/\n    \n    // 3.æå¹³åæä½(åæåå¹³ï¼åmapåflat)ï¼flatMapæ¹æ³\n    val list2_ = list2.flatMap(x=>x.split(" "))\n    for(elem<-list2_){\n      println(elem)\n    }\n    \n    \n    /**ä¸å¯åæ°ç»***/\n    /**å¯åæ°ç»*/\n    /*val list = ListBuffer[String]("hello","scala")\n    list.+=("aaa","bbb")\n    list.foreach(println(_))*/\n  }\n}\n\n\n\n# Map\n\n----------------------------------------\n\n/*\n* mapç»ä¹  \n*/\ndef testMap{\nval map1 = Map (\n  1 -> "hello",\n  "2" -> "scala",\n  (3, "kugou")\n)\n\nprintln(map1.get("2"))\nprintln(map1.get(3))\n// 1.è¥æ²¡æå¼,èµå¼ä¸ºgetOrElseä¼ çå¼\nprintln(map1.get("key").getOrElse("no value"))\n\n/****2.éåmap*******/\n//2.1 foreach éå\nprintln("1.foreach éå:")\nmap1.foreach(\n    f => println("key=" + f._1 + "\\tvalue=" + f._2)\n)\n//2.2 æ¯æ¬¡è·åå¶ä¸­ä¸ä¸ªåç»\nprintln("æ¯æ¬¡è·åå¶ä¸­ä¸ä¸ªåç»:")\nfor(elem <- map1){\n  println("key:" + elem._1 + "\\tvalue:" + elem._2)\n}\n//2.3 æ¯æ¬¡å¾ªç¯ç´æ¥è§£æåç»ï¼ææï¼\nprintln("æ¯æ¬¡å¾ªç¯ç´æ¥è§£æåç»:")\nfor((key,value) <- map1){\n  println(s"key:$key\\tvalue:$value")\n}\n\n/****3.éåkey*****/\nprintln("éåkey:")\n// 1.map.keysä¸ºè¿­ä»£å¨ç±»å  2.keySetä¸ºSetç±»å\nval keyIterable = map1.keys\nfor(elem<-keyIterable){\n  println("key:" + elem + "\\tvalue:" + map1.get(elem).get)\n}\n\n/****4.éåvalue****/\nprintln("éåvalue")\nval valueIterable = map1.values\nfor(elem <- valueIterable){\n  println("value:" + elem)\n}\n//    valueIterable.foreach { \n//      value => println("value: " + value)\n//    }\n  \n/*****5.åå¹¶map åå¹¶æ¶å°ç¸åkeyçvalueæ¿æ¢\t********/\nval map2 = Map[Int,String](\n    (1,"hi"),\n    (2,"ä½ å¥½"),  //æ­¤å¤2ä¸ºInt,ä¸é¢æ¯String\n    (3,"ä¸ç"),\n    (4,"é·ç")\n)\nprintln("map1å å¥å°map2ä¸­")\nmap1.++(map2).foreach(println)      //map1å å¥å°map2ä¸­\nprintln("map2å å¥å°map1ä¸­")\nmap1.++:(map2).foreach(println)    //map2å å¥å°map1ä¸­\n\n/****6.å¯åmap*****/\nvar map3 = scala.collection.mutable.Map(\n    "å¤©ç­" -> "é¿æ²³è½æ¥ä¸é½åï¼éé©¬æè¾¹å°ååãå°½è¯¸å®µå°å¤©ç­ä¹ï¼é¿æªç¬å®å¤§åé­ã", \n    "ä¸è±" -> "æ¥å°ç§èå¤æ¸é£ï¼ä¸ææææå¤ç©ºãä¸æ±ç¬é¿é£é¨å¤ï¼åªç¬æ¡æºéæ¢¦ä¸­ã", \n    "çº¯é³" -> "æä»çå¢å±±å¤å±±ï¼ä¹¾å¤é´é³ææ´å¤©ãåªé®çåä½å¤æï¼ä¸åæ±æ¹å¯»åä»ã",\n    "ä¸ç§" -> "è¥¿å­æ¹çè¥¿å­æï¼æ¥¼å¤æ¥¼ä¸­é¨ééãç»å»ç»£è«éè£³èï¼å°æ¡¥æµæ°´å¶å¨å©·ã",\n    "å°æ" -> "å¤å¹ç´«ç«¹ç¦éé¸£ï¼éå¦ä¼é­æ±æ¹è¡ãä½é³äº¦æè±ªææï¼å¤©ä¸æ­¦ååºå°æï¼", \n    "èå" -> "ç§æ°´çµå±±éåè¸ªï¼ä¸é»æ±æ¹é¸ééãéé¥æ­¤èº«åå­æï¼ä¸å£¶æ¸©éåé¿ç©ºã", \n    "äºæ¯" -> "èèä¸ºä¼´èä¸ºé»ï¼åè¶ç»ç¬èæ å½¢ãä¸äººçæ§æ­è ç©ï¼ä¸è§ææ¯å¨äººå¿ã",\n    "åé¨" -> "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã",\n    "èäº" -> "éªè¦è¡å³æ§å·èï¼é£æ¬ææ¼ èµ·ç¼çãåç«¯ç¾æ­»ä½è¾æï¼ç¢§è¡æä¹¦ç½é©¬ç¯ã",\n    "ä¸å¸®" -> "æå¨åå±±äºåå·ï¼é£å°å åå°½ç¿©é¥ãæ£ç½¢åéæªææï¼é¤é£åéä¸å¯å¯¥ã",\n    "é¿æ­" -> "åé¨æå¿ç¾é£é¨ï¼å¤±é¹¿å±±æ²³æ£è¥æãåå¤æäººä¾ å®¢æ¢¦ï¼è¯å°ç¢§è¡åä¸¹éã",\n    "é¸å" -> "å¯¥è½å°å¯°æ°åè½½ï¼ä½æ¾å¼ç¼è®ºè±ªè±ãååèµ·å¤é²¸åæµ·ï¼èªå°æµ®åæ¬æ­»çã"\n)\n/*å é¤åç´ */\n//map3.-=("åé¨")\nmap3.remove("åé¨")\n//map3.foreach(f => println(f._1 + ":" + f._2))\n/*å¢å åç´ */\n//map3.+=("åé¨" -> "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã")\nmap3.put("åé¨", "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã")\n/*ä¿®æ¹value*/\nmap3("èäº") = "æ­èµ·å¾æè¦ç®¡æ¨ï¼éç©¿çç²æé£å¯ãé»æ³ä½éé¬åå¼ï¼æå°½çæ²è¡æªå¹²ã"\nmap3.foreach(f => println(f._1 + ":" + f._2))\n\n/*\n * 7.éè¦æ¹æ³\n * filter:è¿æ»¤ï¼çä¸ç¬¦åæ¡ä»¶çè®°å½\n * count:ç»è®¡ç¬¦åæ¡ä»¶çè®°å½æ°\n * containsï¼mapä¸­æ¯å¦åå«æä¸ªkey\n * existï¼ç¬¦åæ¡ä»¶çè®°å½å­å¨ä¸å­å¨\n */\n}\n\n\n\n# Set\n\n----------------------------------------\n\npackage com.hrbu.scala\n\nimport scala.collection.mutable.Set\n\n\nobject Scala8_Set {\n  def main(args: Array[String]): Unit = {\n    \n    // setæ éå¤åç´  \n    /*val set1 = Set("hello","scala","hello","world")\n    set1.foreach(println)*/\n    \n    val set2 = Set("hello","world","scala","spark")\n    val set3 = Set("hello","world","!!!","???","///")\n    /***********éè¦æ¹æ³**************/\n    //1.æ±äº¤é\n    /*val set_ = set2.intersect(set3)\n    for(elem<-set_){\n      println(elem)\n    }*/\n    \n    //2.æ±å·®é\n    /*val set_ = set2.diff(set3)\n    for(elem<-set_){\n      println(elem)\n    }*/\n    \n    //3.æ±æ¯å¦æ¯å­é\n    //println(set2.subsetOf(set3))\n    \n    //4.max.min\n    //println(set2.min)\n    \n    //5.è½¬ææ°ç»\n    /*val set_ = set2.toList\n    set_.foreach(println)\n    println(set_)*/\n    \n    //6.è½¬æå­ç¬¦ä¸²\n    val strSet = set2.mkString("+")\n    println(strSet)\n    \n    \n    /*********å¯åé¿****************/\n    val set4 = Set[String]("aaa","bbb")\n    set4.add("ccc")\n    set4.+=("elem1")\n    set4.foreach(println)\n  }\n} \n\n\n\n# ç±»ç»§æ¿åä¼´çå¯¹è±¡\n\n----------------------------------------\n\nStudent.scala\n\npackage com.hrbu.nscala\n//å­ç±»  å¯ç»§æ¿ç¶ç±»çç§ææå\nclass Student(name:String, age:Int, height:Int, weight:Double) extends Persion(name, age) {\n  //println("Studentçæé æ¹æ³")\n  \n  val id = Student.getNumber()\n  val info = Student.info\n  override def sayMessage():String = {\n    s"$id\\t${super.sayMessage()}\\t$height\\t$weight\\t$info" \n  }\n}\n//ç¶ç±»\nclass Persion(name:String, age:Int) {\n  private var height:Int = _\n  private var weight:Double = _\n  //println("Persionçæé æ¹æ³")\n  \n  def sayMessage(): String = {\n    s"$name\\t$age"\n    //s"name= $name\\tage= $age\\theight= $height\\tweight= $weight"\n  }\n}\n//ä¼´çå¯¹è±¡  ç±»ä¼¼äºéæç±»\nobject Student {\n  private var lastnumber:Int = 0\n  private var info:String = _\n  def apply(in:String) = {\n    info = in\n  }\n  def getNumber():Int = {\n    lastnumber += 1\n    lastnumber\n  }\n}\n\n\nTest.scala\n\npackage com.hrbu.nscala\n\nobject Test {\n  def main(args: Array[String]): Unit = {\n    val persion = new Persion("a", 24)\n    println(persion.sayMessage())\n    \n    Student.apply("æä»¬é½æ¯å¥½å­©å­,ææåè¯çå­©å­")\n    val stu = Array[Student](\n        new Student("aaa", 22, 170, 65),\n        new Student("bbb", 25, 180, 75),\n        new Student("ccc", 24, 175, 73)\n    )\n    stu.foreach(f => println(f.sayMessage()))\n    //println(stu(0).sayMessage())\n  }\n}\n\n\n\n# æ¨¡å¼å¹éåæ ·ä¾ç±»\n\n----------------------------------------\n\npackage com.hrbu.nscala\n\nimport scala.util.Random\n\nobject MatchAndClass {\n  /**\n   * 0.æ¨¡å¼å¹éåæ ·ä¾ç±»\n   */\n  \n  \n  \n  /**\n   * _.æ¨¡å¼å¹é\n   * 1.æ¨¡å¼å¹éä¸ä»å¯ä»¥å¹éå¼è¿å¯ä»¥å¹éç±»å\nï * 2.ä»ä¸å°ä¸é¡ºåºå¹éï¼å¦æå¹éå°åä¸åå¾ä¸å¹é\nï * 3.é½å¹éä¸ä¸æ¶ï¼ä¼å¹éå°case _ ,ç¸å½äºdefault\n   */\n  def matchTest(x:Any):Unit = {\n    x match {\n      case a:Int => println("åæ°ä¸ºIntç±»å")\n      case 1 => println("å¼ä¸º 1")        //å¹éä¸å°\n      case 2 => println("å¼ä¸º 2")\n      case b:String => println("åæ°ä¸ºå­ç¬¦ä¸²ç±»å")\n      case _ => print("æªå¹éå°")\n    }\n  }\n  \n  /**\n   * _.åå½æ°\n   * 1.å¦æä¸ä¸ªæ¹æ³ä¸­æ²¡æmatch åªæcaseï¼è¿ä¸ªå½æ°å¯ä»¥å®ä¹æPartialFunctionåå½æ°ã\n   * 2.åå½æ°å®ä¹æ¶ï¼ä¸è½ä½¿ç¨æ¬å·ä¼ åï¼é»è®¤å®ä¹PartialFunctionä¸­ä¼ å¥ä¸ä¸ªå¼ï¼å¹éä¸äºå¯¹åºçcase,è¿åä¸ä¸ªå¼\n   */\n  //PartialFunctionçä¸ä¸ªå®ä¾ [åæ°ç±»å, è¿åå¼ç±»å]\n  def myTest: PartialFunction[String, Any] = {\n    case "Hello" => "Hello"\n    case "World" => println("World")\n    case "Scala" => "Scala"\n    case _ => "æªå¹éå°"\n  }\n  def myTest2(num:Int) :String = num match {\n    case 1 => "First"\n    case 2 => "Second"\n    case 3 => "Third"\n    case _ => "æªå¹éå°"\n  }\n  \n  /**\n   * _. æ ·ä¾ç±»\n   * 1.æ¦å¿µ\n   * \t1.1ä½¿ç¨äºcaseå³é®å­çç±»å®ä¹å°±æ¯æ ·ä¾ç±»(case classes)ï¼æ ·ä¾ç±»æ¯ç§ç¹æ®çç±»\n   * \t1.2å®ç°äºç±»æé åæ°çgetteræ¹æ³ï¼æé åæ°é»è®¤è¢«å£°æä¸ºvalï¼ï¼å½æé åæ°æ¯å£°æä¸ºvarç±»åçï¼å®å°å¸®ä½ å®ç°setterågetteræ¹æ³\n   * \t1.3 case classæ¯å¤ä¾çï¼åé¢è¦è·æé åæ°ï¼case objectæ¯åä¾ç\n   * 2.æ³¨æ\n   * \t2.1 æ ·ä¾ç±»é»è®¤å¸®ä½ å®ç°äºtoString,equalsï¼copyåhashCodeç­æ¹æ³\n   * \t2.2 æ ·ä¾ç±»å¯ä»¥new, ä¹å¯ä»¥ä¸ç¨new\n   */\n  def classDemo(){\n    val arr = Array(new Stu("æ¹éªé³", 32), People)\n    arr(Random.nextInt(arr.length)) match {\n      case Stu(name, age) =>{\n        println(s"å§å:$name\\tå¹´é¾:$age")\n      }\n      case People => {\n        println("Peopleç±»")\n      }\n    }\n  }\n  \n  /**\n   * Optionç±»åç¨æ ·ä¾ç±»æ¥è¡¨ç¤ºå¯è½å­å¨æä¹å¯è½ä¸å­å¨çå¼(Optionçå­ç±»æSomeåNone)\n   */\n  def optionTest(x:String) = {\n    val map = Map{\n      "å¤©ç­" -> "é¿æ²³è½æ¥ä¸é½åï¼éé©¬æè¾¹å°ååãå°½è¯¸å®µå°å¤©ç­ä¹ï¼é¿æªç¬å®å¤§åé­ã"\n    }\n    //ç±»ä¼¼getOrElse()æ¹æ³\n    map.get(x) match{\n      case Some(s) => s\n      case None => "?"\n    }\n  }\n  \n  def main(args: Array[String]): Unit = {\n    //1.æ¨¡å¼å¹é\n//    matchTest(1)\n    \n    //2.åå½æ°\n//    myTest("World")\n//    println(myTest("Scala"))\n//    println(myTest2(1))\n    \n    //3.æ ·ä¾ç±»\n    classDemo()\n    \n    //option\n    println(optionTest("å¤©ç­"))\n    println(optionTest("ä¸è±"))\n  }\n}\n\n\n\n# Scala ä¸åçº¿(_) ç¨æ³æ±æ»\n\n----------------------------------------\n\n\n# 1.å¯¼åæ¶çééç¬¦\n\nimport java.util._\n\n\nç±»ä¼¼Javaç import java.util.*\n\n\n# 2.Scalaç±»ä¸­æååéåå§å\n\nclass Foo{\n    //Stringç±»åçé»è®¤å¼ä¸ºnull ä¸éåå±é¨åé\n    var s: String = _\n}\n\n\n\n# 3.ç±»åééç¬¦\n\nJavaçæ³åç³»ç»æä¸ä¸ªééç¬¦ç±»åï¼ä¾å¦Listï¼ä»»æçListç±»åé½æ¯Listçå­ç±»åï¼å¦ææä»¬æ³ç¼åä¸ä¸ªå¯ä»¥æå°ææListç±»ååç´ çæ¹æ³ï¼å¯ä»¥å¦ä¸å£°æï¼\n\npublic static void printList(List<?> list){\n    for(Object elem: list){\n        System.out.println(elem + " ");\n    }\n}\n\n\nå¯¹åºçScalaçæ¬ä¸ºï¼\n\ndef printList(list: List[_]): Unit ={\n   list.foreach(elem => println(elem + " "))\n}\n\n\n\n# 4.å¯ååæ°\n\nJavaå£°æå¯ååæ°å¦ä¸ï¼\n\npublic static void printArgs(String ... args){\n    for(Object elem: args){\n        System.out.println(elem + " ");\n    }\n}\n\n\nè°ç¨æ¹æ³å¦ä¸ï¼\n\n//ä¼ å¥ä¸¤ä¸ªåæ°\nprintArgs("a", "b");\n//ä¹å¯ä»¥ä¼ å¥ä¸ä¸ªæ°ç»\nprintArgs(new String[]{"a", "b"});\n\n\nå¨Javaä¸­å¯ä»¥ç´æ¥å°æ°ç»ä¼ ç»printArgsæ¹æ³ï¼ä½æ¯å¨Scalaä¸­ï¼ä½ å¿é¡»è¦æç¡®çåè¯ç¼è¯å¨ï¼ä½ æ¯æ³å°éåä½ä¸ºä¸ä¸ªç¬ç«çåæ°ä¼ è¿å»ï¼è¿æ¯æ³å°éåçåç´ ä¼ è¿å»ãå¦ææ¯åèåè¦åå©ä¸åçº¿ï¼\n\nprintArgs(List("a", "b"): _*)\n\n\n\n# 5.æ¨¡å¼å¹é\n\n\ndef matchTest(x: Int): String = x match {\n     case 1 => "one"\n     case 2 => "two"\n     case _ => "anything other than one and two"\n }\n\n expr match {\n     case List(1,_,_) => " a list with three element and the first element is 1"\n     case List(_*)  => " a list with zero or more elements "\n     case Map[_,_] => " matches a map with any key type and any value type "\n     case _ =>\n }\n\n List(1,2,3,4,5).foreach(print(_))\n // Doing the same without underscore: \n List(1,2,3,4,5).foreach( a => print(a))\n\n\nå¨Scalaä¸­ï¼å¨ä¸ä¸ªobjectä¸­éç§æåéçgetterå setteræ¹æ³ä¼è¢«éå¼å®ä¹å¥½ï¼getteræ¹æ³åååéåç¸åï¼æä»¬å¯ä»¥ä½¿ç¨_=èªå®ä¹setter nameï¼æ´å¥½çæ§å¶èµå¼\n\nclass Test {\n    private var a = 0\n    def age = a\n    def age_=(n:Int) = {\n            require(n>0)\n            a = n\n    }\n}\n\n\nUsage:\n\nval t = new Test\nt.age = 5\nprintln(t.age)\n\n\n\n# 6.å°å½æ°èµç»åé\n\nå¦æå°è¯å°å½æ°ç´æ¥èµå¼ç»ä¸ä¸ªåéï¼è¿ä¸ªå½æ°ä¼è¢«ç´æ¥è°ç¨ï¼å¹¶å°è°ç¨çç»æèµå¼ç»åéï¼å¦æå¨å½æ°åç§°åé¢å ä¸_ï¼é£ä¹èµå¼çæ¯å½æ°ä½æ¬èº«\n\nclass Test {\n    def fun = {\n        // Some code\n    }\n    val funLike = fun _\n}\n\n\n\n# 7.è®¿é®Tupleåç´ \n\nval t = (1, 2, (7, 9))\nprintln(t._1, t._2, t._3._1, t._3._2)\n\n\n\n# 8.åæ°å±å¼\n\ndef getConnectionProps = {\n    ( Config.getHost, Config.getPort, Config.getSommElse, Config.getSommElsePartTwo )\n}\n\n\nå¦æå®¢æ·ç«¯éè¦æ¿å°ææè¿æ¥åæ°\n\nval ( host, port, sommEsle, someElsePartTwo ) = getConnectionProps\n\n\nå¦æä»ä»éè¦æ¿å°hoståport\n\nval ( host, port, _, _ ) = getConnectionProps\n\n\n\n# 9.å¶å®ç¨æ³ââç®åå½æ°\n\nval nums = List(1,2,3,4,5,6,7,8,9,10)\n\nnums.filter (_ % 2 == 0)\nnums.reduce (_ + _)\nnums.exists(_ > 5)\nnums.takeWhile(_ < 8)\n\n\nåèé¾æ¥',normalizedContent:'# scalaä¸­,ä¸åçä¸ºå¯¹è±¡\n\n\n# éè¦æ³¨æç\n\n----------------------------------------\n\n * å®ä¹å¤ä¸ªåé var (i,j,temp) = (1, 0, 0)\n * è®°ä½: é¤äºå¾ªç¯é½æ²¡æè¿åå¼,å¶ä½é½æè¿åå¼\n * å½æ°åç¼ç¨: å½æ°å³åæ°\n\n//ä¾å¦ (éååç»)\ntuple22.productiterator.foreach(i => print(i + " "))\n\n\n * breakè¯­å¥\n\n// åå»º breaks å¯¹è±¡\nval loop = new breaks;\n// å¨ breakable ä¸­å¾ªç¯\nloop.breakable{\n    // å¾ªç¯\n    for(...){\n       ....\n       // å¾ªç¯ä¸­æ­\n       loop.break;\n   }\n}\n\n\n * foreachåè¿­ä»£å¨çåºå«\n\nforeachéååç´ ç±»åç¸åç (ä¾å¦ æ°ç») è¿­ä»£å¨ç¨æ¥éååç´ ç±»åä¸åç (ä¾å¦ åç». mapéå?)\n\n\n# è¿ç®ç¬¦\n\n----------------------------------------\n\nobject myscala{\n    def main(args:arraystring]){\n        val num:int = 195\n        println(s"${num<<2}\\r${num>>2}\\r${num>>>2}")\n    }\n}\n\n\n\n# å­ç¬¦ä¸²å½æ°\n\n----------------------------------------\n\n\n# æµç¨æ§å¶è¯­å¥\n\n----------------------------------------\n\npackage com.hrbu.nscala\n\nimport scala.io.stdin\n\nobject controlstatement {\n  \n  def test1(): any = {\n    val in = stdin.readline("è¯·è¾å¥: ")\n    //ç¨ifå®ç°javaä¸åè¡¨è¾¾å¼\n    println(if(in.isinstanceof[int]) in.tostring() else "å­ç¬¦ä¸²:" + in )\n    \n    return if(in.isinstanceof[int]) in.tostring() else in\n  }\n  \n  def test2():any = {\n    print("è¯·è¾å¥:")\n    val in = stdin.readint()\n    return if(in.isinstanceof[int]){\n      println("ç±»åæ­£ç¡®")\n    } else{\n      println("ç±»åä¸æ­£ç¡®")\n    }\n    \n  }\n  \n  /*\n   * 2.to and until\n   */\n  def test3{\n    val r1 = 1 to 10\n    val r2 = 1 until 10\n    val r3 = 1 to (10,2)\t\t// a.æ­¥é¿\n    println(r1 + "\\n" + r2 + "\\n" + r3)\n  }\n    \n\n    /*\n     * 3.å¾ªç¯è¯­å¥\n     * a.for\n     */\n  def test4{\n    for (i <- 1 to 4) {\n      println(i)\n    }\n  \n      //ä¹æ³è¡¨\n      /*for(i<- 1 until 10){\n        for(j<- 1 until 10){\n          if(i>=j){\n            print(s"$i * $j=" + i*j + "\\t")\n          }\n          if(i==j){\n            println()\n          }\n        }\n      }*/\n      //ç®å\n      /*for(i<- 1 until 10;j<- 1 until 10){\n          if(i>=j){\n            print(s"$i * $j=" + i*j + "\\t")\n          }\n          if(i==j){\n            println()\n          }\n      }*/\n    }\n    /**\n     * while\n     * do...while\n     */\n    def test5{\n      var b: int = 0\n      while (b < 10) {\n        println(s"ç¬¬$b æ¬¡æ±å©") //r æ³¨æ$båä¸å®æç©ºæ ¼\n        b += 1\n      }\n    }\n\n    /**\n     * 4.yieldå³é®å­ï¼è®°ä½æ¯æ¬¡è¿­ä»£ä¸­çæå³å¼ï¼å¹¶éä¸å­å¥å°ä¸ä¸ªæ°ç»\n     * 5.å¾ªç¯è¿æ»¤ ï¼éåæ°ç»ï¼\n     */\n    def test6{\n      val result = for { i <- 1 to 100 if (i > 50) if (i % 5 == 0) } yield i\n      //val result = for(i<- 1 to 100 if(i>50) if(i%5==0)) yield i\n      println(result)\n    }\n  \n  def main(args: array[string]): unit = {\n    println("test1è¿å: " + test1())\n    \n    println("test2è¿åå¼: " + test2())\n    \n    println("printlnè¯­å¥è¿åå¼:" + println("nicai"))\n    \n  }\n}\n\n\n\n# æ¹æ³åå½æ°\n\n----------------------------------------\n\n\n# 1.æ®éæ¹æ³\n\ndef æ¹æ³å (åæ°:åæ°ç±»å):æ¹æ³è¿åå¼={å½æ°ä½}\n\ndef max1(a:int,b:int):int={\n      if(a>b){\n        return a\n      } else{\n        println("b>a")\n        return b\n      }\n    }\nprintln("max1=" + max1(b=69, a=35))\n/*****ç®åä¸é¢çæ¹æ³**æ¹æ³ä½å¦æå¯ä»¥ä¸è¡æå®ï¼å¯å»æ{}*****/\ndef max1_1(a:int,b:int) = if(a>b) a else b\nprintln("max1.1=" + max1_1(12, 9))\n\n\n\n# 2.éå½æ¹æ³\n\néå½æ¹æ³è¦æ¾å¼çæå®å½æ°çè¿åå¼ç±»å\n\ndef factorial(num:int):int = {\n      if(num == 1){\n        1\n      } else {\n        num * factorial(num-1)\n      }\n    }\nprintln(s"5çé¶ä¹ä¸º:  ${factorial(5)}")\n\n\n\n# 3.å¸¦é»è®¤åæ°çæ¹æ³\n\ndef max3(a:int=69, b:int=66) = if (a>b) a else b\nprintln("max3= " + max3())\nprintln("max3= " + max3(b=100))\n\n\n\n# 4.å¯åé¿åæ°çæ¹æ³\n\ndef showstr(str:string*){\n  for(elem <- str){\n    print(elem)\n  }\n}\nshowstr("hello", " ", "scala", "\\r");\nshowstr("é¿æ²³è½æ¥ä¸é½å", ",", "éé©¬æè¾¹å°åå", "ã", "å°½è¯å®µå°å¤©ç­ä¹", ",", "é¿æªç¬å®å¤§åé­", "ã", "\\n")\n/***************æ¹æ³ç®å**************/\ndef showstr(str:string*) = str.foreach(print)\n\n\n\n# 5.å¿åå½æ°\n\n"=>"å°±æ¯å¿åå½æ°ï¼å¤ç¨äºæ¹æ³çåæ°ä¸ºå½æ°æ¶ï¼å¸¸ç¨å¿åå½æ°\n\ndef max5() = (a:int, b:int)=>if (a>b) a else b\nprintln(max5()(11, 22))\n\n\n\n# 6.åµå¥å½æ°\n\ndef value6(num:int):int={\n  def factorial6(a:int):int = if(a == 1) 1 else a * factorial6(a - 1)\n  factorial6(num)\n}\nprintln("5çé¶ä¹ä¸º: " + value6(5))\n\n\n\n# 7.ååºç¨å½æ°\n\næäºæåµä¸,æ¹æ³ä¸­åæ°éå¸¸å¤ï¼è°ç¨éå¸¸é¢ç¹ï¼æ¯æ¬¡è°ç¨åªæåºå®çä¸ä¸ªåæ°ååï¼å¶å®é½ä¸åï¼å¯ä»¥å®ä¹ååºç¨å½æ°ç®å\n\n//åå®ä¹ä¸ä¸ªæ®éå½æ°\ndef showlogs(date:date, log:string) = {\n  println(s"date = $date\\tlog = $log")\n}\nval date: date = new date();    //æ³¨æ:è¿éæ¯scalaåé\nshowlogs(date, "balabala")      //æ®éå½æ°è°ç¨\nshowlogs(date, "hahahaha")\n\n//å®ä¹ååºç¨å½æ°\ndef showlogs7 = showlogs(date:date, _:string)\nshowlogs7("123456789")\nshowlogs7("987654321")\n\n\n\n# 8.é«é¶å½æ°\n\n/**a.åæ°æ¯å½æ°çæ¹æ³*/\n/*def fun8_1(a:int,b:int)={\n  a+b\n}*/\n\n/*def fun8_a(f:(int,int)=>int,s:string) : string={\n  val i:int = f(100,200)\n  i+"#" +s\n}\nval result1 = fun8_a((a:int,b:int)=>{a*b},"scala")\nprintln(result1)*/\n\n/**b.è¿åå¼æ¯å½æ°çæ¹æ³*/\n/*def fun8_b(s:string):(string,string)=>string={      //æ¾ç¤ºå£°æè¿åå¼(ææåä¸è¡åä¸ºfun _)\n  \n  def fun(s1:string,s2:string):string={\n    s1 + " " + s2 + " " +s\n  }\n  fun        //r å½è¿åå¼æ¶ä¸å æ¬å·\n}\n\nprintln(fun8_b("!!!")("hello","scala"))*/\n\n/**c.è¿åå¼ååæ°é½æ¯å½æ°çæ¹æ³*/\n/*def fun8_c(f:(int,int)=>int):(string,string)=>string={\n  val fint = f(1,2)\n  \n  def fun8(s1:string,s2:string):string={\n    s1 + " " + s2 + fint.tostring()\n  }\n  \n  fun9\n}\n\nprintln("è¿åå¼åæ°é½æ¯å½æ°ï¼" + fun9_c((a,b)=>{a+b})("hello", "scala"))*/\n\n\n1.æ¹æ³çåæ°æ¯å½æ°\n\n/*a.åæ°æ¯å½æ°*/\ndef pet(pname:string, pattack:int): string = {\n  (s"å® ç©åå­: ${pname}\\tå® ç©æ»å»å: ${pattack}")\n}\ndef hero(fun:(string, int) => string, heroname:string) = {\n  println(s"è±éåå­: ${heroname}\\t${fun("é¾ç¼ç", 10000)}")\n}\nhero(pet, "ç´å¸")\n\n\n2.æ¹æ³çè¿åæ¯å½æ°\n\n/*b.è¿åå¼ä¸ºåæ°*/\ndef hero2(heroname:string, heroattack:int) : (string, int) => string = {\n  def getmessage(pname:string, pattack:int) : string = {\n    (s"è±éåå­: ${heroname}\\tå® ç©åå­: ${pname}\\tæ»å»å: ${heroattack + pattack}")\n  }\n  getmessage      //æ³¨æ å½è¿åå¼ä¸å ()\n}\nprintln(hero2("éç¥", 10000)("é´é³å", 8000))\n\n\n3.æ¹æ³çåæ°åè¿åå¼é½æ¯å½æ°\n\ndef hofun(f:(int,int)=>int):(string,string)=>string={\n  val fint = f(1,2)\n  def fun(s1:string,s2:string):string={\n    s1 + " " + s2 + fint.tostring()\n  }\n  fun\n}\nprintln("è¿åå¼åæ°é½æ¯å½æ°ï¼" + hofun((a,b)=>{a+b})("hello", "scala"))\n\n\n\n# 9.æ¯éåå½æ°\n\nè¿åå¼æ¯å½æ°çæ¹æ³çç®å\n\ndef fun9(a:int, b:int)(c:int, d:int) = a + b + c + d\nprintln(fun9(250,50)(100,120))\n\n\n\n# æ°ç»\n\n----------------------------------------\n\n/*\n   * 1.ç¬¬ä¸ç§å®ä¹æ¹å¼\n   */\n  def immutablearray1{\n    val arr = array[string]("hello", "scala", "hello", "world");\n    arr.foreach(println)\n  }\n  \n  /*\n   * 2.ç¬¬äºç§å®ä¹æ¹å¼\n   */\n  def immutablearray2{\n    val arr = new array[string](3);\n    arr(0) = "ä½ å¥½"\n    arr(1) = "ä¸ç"\n    arr(2) = "!!!"\n    //arr(3) = ""  //java.lang.arrayindexoutofboundsexception\n    arr.foreach(print)\n  }\n  \n  /*\n   * 3.å³äºæ°ç»è¿æ¥ fillæ¹æ³\n   */\n  def immutablearray3{\n    val arr1 = array[string]("aaa", "bbb", "ccc")\n    val arr2 = array[string]("333", "666", "999")\n//    println(arr1.contains(arr2))\n    array.concat(arr1, arr2).foreach(print)\n    println()\n    \n    val arr3 = array.fill(6)("scala")\n    arr3.foreach(print)\n  }\n  /*\n   * 4.äºç»´æ°ç»\n   */\n  def immutablearray4{\n    val arr = new array[array[string]](3)\n    arr(0) = array[string]("hello", "world", "!!!")\n    arr(1) = array[string]("hello", "scala")\n    arr(2) = array[string]("hello", "array", "eof")\n    for(arrtemp <- arr; str <- arrtemp){\n      print(str + "  ")\n    }\n  }\n  /*\n   * 5.å¯åæ°ç»   ç±»ä¼¼ java ç arraylist\n   */\n  def mutablearray{\n    var arr = arraybuffer[string]("111", "222")\n    arr.foreach(i => print(i + " "))\n//    arr.+:("+:")\n    arr.+=("+=")      //æ°ç»æ«æå¥\n    arr.+=:("+=:")    //æ°ç»é¦æå¥\n//    arr.++("++")\n//    arr.++:("++:")\n//    arr.++=(array("...", "***"))       //ç¨++=æä½ç¬¦è¿½å ä»»ä½éå\n    println()\n    arr.foreach(i => print(i + " "))\n    \n    arr.append("aaa", "bbb", "ccc")    //è¿½å åç´ \n    println()\n    arr.foreach(i => print(i + " "))\n  }\n\n\n\n# åç»\n\n----------------------------------------\n\næé¾\n\npackage com.hrbu.scala\n\n/**\n * åç»\n */\nobject scala10_tuple {\n  def main(args: array[string]): unit = {\n    \n    //æ³¨æ:tupleæå¤æ¯æ22ä¸ªåæ°\n    /**1.åå»º*/\n    //val tuple = new tuple1(1)\n    val tuple2 = tuple2("zhangsan",2)\n    val tuple3 = tuple3(1,2,3)\n    //val tuple4 = (1,2,3,4)\n    //val tuple18 = tuple18(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18)\n    val tuple22 = new tuple22(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22)\n    \n    //ä½¿ç¨\n    /*println(tuple2._1 + "\\t"+tuple2._2)\n    val t = tuple2((1,2),("zhangsan","lisi"))\n    println(t._1._2)*/\n    \n    \n    /***2.éå*/\n    val tupleiterator = tuple22.productiterator\n    while(tupleiterator.hasnext){\n      println(tupleiterator.next())\n    }\n\n    /**\n     * æ¹æ³\n     */\n    //ç¿»è½¬ï¼åªéå¯¹äºåç»\n    println(tuple2.swap)\n    \n    //tostring\n    println(tuple3.tostring())\n\n    \n  }\n} \n\n\n\n# é¾è¡¨list\n\n----------------------------------------\n\nåjavaéä¸åï¼scalaä¸­listä¸å®æ¯ä»¥é¾è¡¨æ¹å¼å®ç°çãjavaä¸­çlistæ¦å¿µå¯¹åºscalaä¸­çseqã é¾è¡¨çç¹å¾ï¼åç´ æååä¹åï¼éåéä¸ªè®¿é®\n\npackage com.hrbu.scala\n\nimport scala.collection.mutable.listbuffer\n\nobject scala7_list {\n  def main(args: array[string]): unit = {\n    \n    val list1 = list[int](7,9,1,2,3,4,5,6)\n    /*for(i<-list1){\n      print(i + " ")\n    }*/\n    //list1.foreach(print)\n    /*for(i<-0 until list1.count(x=>true)){\n      print(list1(i) + " ")\n    }\n    println()*/\n    \n    /*val countlist1 = list1.count(x=>x>=3)\n    println(countlist1)*/\n    \n    /***********éè¦æ¹æ³****************/\n    val list2 = list("hello world","hello scala","hello spark")\n    // 1.è¿æ»¤ï¼filteræ¹æ³\n    //print(list1.filter(x=>x>=6).tostring())\n    /*val list_ = list1.filter(x=>x>=6)\n    list_.foreach(println)*/\n    \n    // 2.å¯¹åç´ æä½ï¼mapæ¹æ³\n    /*val list2_  = list2.map(x=>x.split(" "))\n    for(i<-list2_;j<-i){\n      println(j)\n    }*/\n    \n    // 3.æå¹³åæä½(åæåå¹³ï¼åmapåflat)ï¼flatmapæ¹æ³\n    val list2_ = list2.flatmap(x=>x.split(" "))\n    for(elem<-list2_){\n      println(elem)\n    }\n    \n    \n    /**ä¸å¯åæ°ç»***/\n    /**å¯åæ°ç»*/\n    /*val list = listbuffer[string]("hello","scala")\n    list.+=("aaa","bbb")\n    list.foreach(println(_))*/\n  }\n}\n\n\n\n# map\n\n----------------------------------------\n\n/*\n* mapç»ä¹  \n*/\ndef testmap{\nval map1 = map (\n  1 -> "hello",\n  "2" -> "scala",\n  (3, "kugou")\n)\n\nprintln(map1.get("2"))\nprintln(map1.get(3))\n// 1.è¥æ²¡æå¼,èµå¼ä¸ºgetorelseä¼ çå¼\nprintln(map1.get("key").getorelse("no value"))\n\n/****2.éåmap*******/\n//2.1 foreach éå\nprintln("1.foreach éå:")\nmap1.foreach(\n    f => println("key=" + f._1 + "\\tvalue=" + f._2)\n)\n//2.2 æ¯æ¬¡è·åå¶ä¸­ä¸ä¸ªåç»\nprintln("æ¯æ¬¡è·åå¶ä¸­ä¸ä¸ªåç»:")\nfor(elem <- map1){\n  println("key:" + elem._1 + "\\tvalue:" + elem._2)\n}\n//2.3 æ¯æ¬¡å¾ªç¯ç´æ¥è§£æåç»ï¼ææï¼\nprintln("æ¯æ¬¡å¾ªç¯ç´æ¥è§£æåç»:")\nfor((key,value) <- map1){\n  println(s"key:$key\\tvalue:$value")\n}\n\n/****3.éåkey*****/\nprintln("éåkey:")\n// 1.map.keysä¸ºè¿­ä»£å¨ç±»å  2.keysetä¸ºsetç±»å\nval keyiterable = map1.keys\nfor(elem<-keyiterable){\n  println("key:" + elem + "\\tvalue:" + map1.get(elem).get)\n}\n\n/****4.éåvalue****/\nprintln("éåvalue")\nval valueiterable = map1.values\nfor(elem <- valueiterable){\n  println("value:" + elem)\n}\n//    valueiterable.foreach { \n//      value => println("value: " + value)\n//    }\n  \n/*****5.åå¹¶map åå¹¶æ¶å°ç¸åkeyçvalueæ¿æ¢\t********/\nval map2 = map[int,string](\n    (1,"hi"),\n    (2,"ä½ å¥½"),  //æ­¤å¤2ä¸ºint,ä¸é¢æ¯string\n    (3,"ä¸ç"),\n    (4,"é·ç")\n)\nprintln("map1å å¥å°map2ä¸­")\nmap1.++(map2).foreach(println)      //map1å å¥å°map2ä¸­\nprintln("map2å å¥å°map1ä¸­")\nmap1.++:(map2).foreach(println)    //map2å å¥å°map1ä¸­\n\n/****6.å¯åmap*****/\nvar map3 = scala.collection.mutable.map(\n    "å¤©ç­" -> "é¿æ²³è½æ¥ä¸é½åï¼éé©¬æè¾¹å°ååãå°½è¯¸å®µå°å¤©ç­ä¹ï¼é¿æªç¬å®å¤§åé­ã", \n    "ä¸è±" -> "æ¥å°ç§èå¤æ¸é£ï¼ä¸ææææå¤ç©ºãä¸æ±ç¬é¿é£é¨å¤ï¼åªç¬æ¡æºéæ¢¦ä¸­ã", \n    "çº¯é³" -> "æä»çå¢å±±å¤å±±ï¼ä¹¾å¤é´é³ææ´å¤©ãåªé®çåä½å¤æï¼ä¸åæ±æ¹å¯»åä»ã",\n    "ä¸ç§" -> "è¥¿å­æ¹çè¥¿å­æï¼æ¥¼å¤æ¥¼ä¸­é¨ééãç»å»ç»£è«éè£³èï¼å°æ¡¥æµæ°´å¶å¨å©·ã",\n    "å°æ" -> "å¤å¹ç´«ç«¹ç¦éé¸£ï¼éå¦ä¼é­æ±æ¹è¡ãä½é³äº¦æè±ªææï¼å¤©ä¸æ­¦ååºå°æï¼", \n    "èå" -> "ç§æ°´çµå±±éåè¸ªï¼ä¸é»æ±æ¹é¸ééãéé¥æ­¤èº«åå­æï¼ä¸å£¶æ¸©éåé¿ç©ºã", \n    "äºæ¯" -> "èèä¸ºä¼´èä¸ºé»ï¼åè¶ç»ç¬èæ å½¢ãä¸äººçæ§æ­è ç©ï¼ä¸è§ææ¯å¨äººå¿ã",\n    "åé¨" -> "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã",\n    "èäº" -> "éªè¦è¡å³æ§å·èï¼é£æ¬ææ¼ èµ·ç¼çãåç«¯ç¾æ­»ä½è¾æï¼ç¢§è¡æä¹¦ç½é©¬ç¯ã",\n    "ä¸å¸®" -> "æå¨åå±±äºåå·ï¼é£å°å åå°½ç¿©é¥ãæ£ç½¢åéæªææï¼é¤é£åéä¸å¯å¯¥ã",\n    "é¿æ­" -> "åé¨æå¿ç¾é£é¨ï¼å¤±é¹¿å±±æ²³æ£è¥æãåå¤æäººä¾ å®¢æ¢¦ï¼è¯å°ç¢§è¡åä¸¹éã",\n    "é¸å" -> "å¯¥è½å°å¯°æ°åè½½ï¼ä½æ¾å¼ç¼è®ºè±ªè±ãååèµ·å¤é²¸åæµ·ï¼èªå°æµ®åæ¬æ­»çã"\n)\n/*å é¤åç´ */\n//map3.-=("åé¨")\nmap3.remove("åé¨")\n//map3.foreach(f => println(f._1 + ":" + f._2))\n/*å¢å åç´ */\n//map3.+=("åé¨" -> "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã")\nmap3.put("åé¨", "èä¸­ä¸å®¶çº·äºäºï¼æèµ·äºæ¶éä¹å¤©ãéç¿éæ£åæçµï¼æ´é¨é£æä¹¾å¤é¢ ã")\n/*ä¿®æ¹value*/\nmap3("èäº") = "æ­èµ·å¾æè¦ç®¡æ¨ï¼éç©¿çç²æé£å¯ãé»æ³ä½éé¬åå¼ï¼æå°½çæ²è¡æªå¹²ã"\nmap3.foreach(f => println(f._1 + ":" + f._2))\n\n/*\n * 7.éè¦æ¹æ³\n * filter:è¿æ»¤ï¼çä¸ç¬¦åæ¡ä»¶çè®°å½\n * count:ç»è®¡ç¬¦åæ¡ä»¶çè®°å½æ°\n * containsï¼mapä¸­æ¯å¦åå«æä¸ªkey\n * existï¼ç¬¦åæ¡ä»¶çè®°å½å­å¨ä¸å­å¨\n */\n}\n\n\n\n# set\n\n----------------------------------------\n\npackage com.hrbu.scala\n\nimport scala.collection.mutable.set\n\n\nobject scala8_set {\n  def main(args: array[string]): unit = {\n    \n    // setæ éå¤åç´  \n    /*val set1 = set("hello","scala","hello","world")\n    set1.foreach(println)*/\n    \n    val set2 = set("hello","world","scala","spark")\n    val set3 = set("hello","world","!!!","???","///")\n    /***********éè¦æ¹æ³**************/\n    //1.æ±äº¤é\n    /*val set_ = set2.intersect(set3)\n    for(elem<-set_){\n      println(elem)\n    }*/\n    \n    //2.æ±å·®é\n    /*val set_ = set2.diff(set3)\n    for(elem<-set_){\n      println(elem)\n    }*/\n    \n    //3.æ±æ¯å¦æ¯å­é\n    //println(set2.subsetof(set3))\n    \n    //4.max.min\n    //println(set2.min)\n    \n    //5.è½¬ææ°ç»\n    /*val set_ = set2.tolist\n    set_.foreach(println)\n    println(set_)*/\n    \n    //6.è½¬æå­ç¬¦ä¸²\n    val strset = set2.mkstring("+")\n    println(strset)\n    \n    \n    /*********å¯åé¿****************/\n    val set4 = set[string]("aaa","bbb")\n    set4.add("ccc")\n    set4.+=("elem1")\n    set4.foreach(println)\n  }\n} \n\n\n\n# ç±»ç»§æ¿åä¼´çå¯¹è±¡\n\n----------------------------------------\n\nstudent.scala\n\npackage com.hrbu.nscala\n//å­ç±»  å¯ç»§æ¿ç¶ç±»çç§ææå\nclass student(name:string, age:int, height:int, weight:double) extends persion(name, age) {\n  //println("studentçæé æ¹æ³")\n  \n  val id = student.getnumber()\n  val info = student.info\n  override def saymessage():string = {\n    s"$id\\t${super.saymessage()}\\t$height\\t$weight\\t$info" \n  }\n}\n//ç¶ç±»\nclass persion(name:string, age:int) {\n  private var height:int = _\n  private var weight:double = _\n  //println("persionçæé æ¹æ³")\n  \n  def saymessage(): string = {\n    s"$name\\t$age"\n    //s"name= $name\\tage= $age\\theight= $height\\tweight= $weight"\n  }\n}\n//ä¼´çå¯¹è±¡  ç±»ä¼¼äºéæç±»\nobject student {\n  private var lastnumber:int = 0\n  private var info:string = _\n  def apply(in:string) = {\n    info = in\n  }\n  def getnumber():int = {\n    lastnumber += 1\n    lastnumber\n  }\n}\n\n\ntest.scala\n\npackage com.hrbu.nscala\n\nobject test {\n  def main(args: array[string]): unit = {\n    val persion = new persion("a", 24)\n    println(persion.saymessage())\n    \n    student.apply("æä»¬é½æ¯å¥½å­©å­,ææåè¯çå­©å­")\n    val stu = array[student](\n        new student("aaa", 22, 170, 65),\n        new student("bbb", 25, 180, 75),\n        new student("ccc", 24, 175, 73)\n    )\n    stu.foreach(f => println(f.saymessage()))\n    //println(stu(0).saymessage())\n  }\n}\n\n\n\n# æ¨¡å¼å¹éåæ ·ä¾ç±»\n\n----------------------------------------\n\npackage com.hrbu.nscala\n\nimport scala.util.random\n\nobject matchandclass {\n  /**\n   * 0.æ¨¡å¼å¹éåæ ·ä¾ç±»\n   */\n  \n  \n  \n  /**\n   * _.æ¨¡å¼å¹é\n   * 1.æ¨¡å¼å¹éä¸ä»å¯ä»¥å¹éå¼è¿å¯ä»¥å¹éç±»å\nï * 2.ä»ä¸å°ä¸é¡ºåºå¹éï¼å¦æå¹éå°åä¸åå¾ä¸å¹é\nï * 3.é½å¹éä¸ä¸æ¶ï¼ä¼å¹éå°case _ ,ç¸å½äºdefault\n   */\n  def matchtest(x:any):unit = {\n    x match {\n      case a:int => println("åæ°ä¸ºintç±»å")\n      case 1 => println("å¼ä¸º 1")        //å¹éä¸å°\n      case 2 => println("å¼ä¸º 2")\n      case b:string => println("åæ°ä¸ºå­ç¬¦ä¸²ç±»å")\n      case _ => print("æªå¹éå°")\n    }\n  }\n  \n  /**\n   * _.åå½æ°\n   * 1.å¦æä¸ä¸ªæ¹æ³ä¸­æ²¡æmatch åªæcaseï¼è¿ä¸ªå½æ°å¯ä»¥å®ä¹æpartialfunctionåå½æ°ã\n   * 2.åå½æ°å®ä¹æ¶ï¼ä¸è½ä½¿ç¨æ¬å·ä¼ åï¼é»è®¤å®ä¹partialfunctionä¸­ä¼ å¥ä¸ä¸ªå¼ï¼å¹éä¸äºå¯¹åºçcase,è¿åä¸ä¸ªå¼\n   */\n  //partialfunctionçä¸ä¸ªå®ä¾ [åæ°ç±»å, è¿åå¼ç±»å]\n  def mytest: partialfunction[string, any] = {\n    case "hello" => "hello"\n    case "world" => println("world")\n    case "scala" => "scala"\n    case _ => "æªå¹éå°"\n  }\n  def mytest2(num:int) :string = num match {\n    case 1 => "first"\n    case 2 => "second"\n    case 3 => "third"\n    case _ => "æªå¹éå°"\n  }\n  \n  /**\n   * _. æ ·ä¾ç±»\n   * 1.æ¦å¿µ\n   * \t1.1ä½¿ç¨äºcaseå³é®å­çç±»å®ä¹å°±æ¯æ ·ä¾ç±»(case classes)ï¼æ ·ä¾ç±»æ¯ç§ç¹æ®çç±»\n   * \t1.2å®ç°äºç±»æé åæ°çgetteræ¹æ³ï¼æé åæ°é»è®¤è¢«å£°æä¸ºvalï¼ï¼å½æé åæ°æ¯å£°æä¸ºvarç±»åçï¼å®å°å¸®ä½ å®ç°setterågetteræ¹æ³\n   * \t1.3 case classæ¯å¤ä¾çï¼åé¢è¦è·æé åæ°ï¼case objectæ¯åä¾ç\n   * 2.æ³¨æ\n   * \t2.1 æ ·ä¾ç±»é»è®¤å¸®ä½ å®ç°äºtostring,equalsï¼copyåhashcodeç­æ¹æ³\n   * \t2.2 æ ·ä¾ç±»å¯ä»¥new, ä¹å¯ä»¥ä¸ç¨new\n   */\n  def classdemo(){\n    val arr = array(new stu("æ¹éªé³", 32), people)\n    arr(random.nextint(arr.length)) match {\n      case stu(name, age) =>{\n        println(s"å§å:$name\\tå¹´é¾:$age")\n      }\n      case people => {\n        println("peopleç±»")\n      }\n    }\n  }\n  \n  /**\n   * optionç±»åç¨æ ·ä¾ç±»æ¥è¡¨ç¤ºå¯è½å­å¨æä¹å¯è½ä¸å­å¨çå¼(optionçå­ç±»æsomeånone)\n   */\n  def optiontest(x:string) = {\n    val map = map{\n      "å¤©ç­" -> "é¿æ²³è½æ¥ä¸é½åï¼éé©¬æè¾¹å°ååãå°½è¯¸å®µå°å¤©ç­ä¹ï¼é¿æªç¬å®å¤§åé­ã"\n    }\n    //ç±»ä¼¼getorelse()æ¹æ³\n    map.get(x) match{\n      case some(s) => s\n      case none => "?"\n    }\n  }\n  \n  def main(args: array[string]): unit = {\n    //1.æ¨¡å¼å¹é\n//    matchtest(1)\n    \n    //2.åå½æ°\n//    mytest("world")\n//    println(mytest("scala"))\n//    println(mytest2(1))\n    \n    //3.æ ·ä¾ç±»\n    classdemo()\n    \n    //option\n    println(optiontest("å¤©ç­"))\n    println(optiontest("ä¸è±"))\n  }\n}\n\n\n\n# scala ä¸åçº¿(_) ç¨æ³æ±æ»\n\n----------------------------------------\n\n\n# 1.å¯¼åæ¶çééç¬¦\n\nimport java.util._\n\n\nç±»ä¼¼javaç import java.util.*\n\n\n# 2.scalaç±»ä¸­æååéåå§å\n\nclass foo{\n    //stringç±»åçé»è®¤å¼ä¸ºnull ä¸éåå±é¨åé\n    var s: string = _\n}\n\n\n\n# 3.ç±»åééç¬¦\n\njavaçæ³åç³»ç»æä¸ä¸ªééç¬¦ç±»åï¼ä¾å¦listï¼ä»»æçlistç±»åé½æ¯listçå­ç±»åï¼å¦ææä»¬æ³ç¼åä¸ä¸ªå¯ä»¥æå°æælistç±»ååç´ çæ¹æ³ï¼å¯ä»¥å¦ä¸å£°æï¼\n\npublic static void printlist(list<?> list){\n    for(object elem: list){\n        system.out.println(elem + " ");\n    }\n}\n\n\nå¯¹åºçscalaçæ¬ä¸ºï¼\n\ndef printlist(list: list[_]): unit ={\n   list.foreach(elem => println(elem + " "))\n}\n\n\n\n# 4.å¯ååæ°\n\njavaå£°æå¯ååæ°å¦ä¸ï¼\n\npublic static void printargs(string ... args){\n    for(object elem: args){\n        system.out.println(elem + " ");\n    }\n}\n\n\nè°ç¨æ¹æ³å¦ä¸ï¼\n\n//ä¼ å¥ä¸¤ä¸ªåæ°\nprintargs("a", "b");\n//ä¹å¯ä»¥ä¼ å¥ä¸ä¸ªæ°ç»\nprintargs(new string[]{"a", "b"});\n\n\nå¨javaä¸­å¯ä»¥ç´æ¥å°æ°ç»ä¼ ç»printargsæ¹æ³ï¼ä½æ¯å¨scalaä¸­ï¼ä½ å¿é¡»è¦æç¡®çåè¯ç¼è¯å¨ï¼ä½ æ¯æ³å°éåä½ä¸ºä¸ä¸ªç¬ç«çåæ°ä¼ è¿å»ï¼è¿æ¯æ³å°éåçåç´ ä¼ è¿å»ãå¦ææ¯åèåè¦åå©ä¸åçº¿ï¼\n\nprintargs(list("a", "b"): _*)\n\n\n\n# 5.æ¨¡å¼å¹é\n\n\ndef matchtest(x: int): string = x match {\n     case 1 => "one"\n     case 2 => "two"\n     case _ => "anything other than one and two"\n }\n\n expr match {\n     case list(1,_,_) => " a list with three element and the first element is 1"\n     case list(_*)  => " a list with zero or more elements "\n     case map[_,_] => " matches a map with any key type and any value type "\n     case _ =>\n }\n\n list(1,2,3,4,5).foreach(print(_))\n // doing the same without underscore: \n list(1,2,3,4,5).foreach( a => print(a))\n\n\nå¨scalaä¸­ï¼å¨ä¸ä¸ªobjectä¸­éç§æåéçgetterå setteræ¹æ³ä¼è¢«éå¼å®ä¹å¥½ï¼getteræ¹æ³åååéåç¸åï¼æä»¬å¯ä»¥ä½¿ç¨_=èªå®ä¹setter nameï¼æ´å¥½çæ§å¶èµå¼\n\nclass test {\n    private var a = 0\n    def age = a\n    def age_=(n:int) = {\n            require(n>0)\n            a = n\n    }\n}\n\n\nusage:\n\nval t = new test\nt.age = 5\nprintln(t.age)\n\n\n\n# 6.å°å½æ°èµç»åé\n\nå¦æå°è¯å°å½æ°ç´æ¥èµå¼ç»ä¸ä¸ªåéï¼è¿ä¸ªå½æ°ä¼è¢«ç´æ¥è°ç¨ï¼å¹¶å°è°ç¨çç»æèµå¼ç»åéï¼å¦æå¨å½æ°åç§°åé¢å ä¸_ï¼é£ä¹èµå¼çæ¯å½æ°ä½æ¬èº«\n\nclass test {\n    def fun = {\n        // some code\n    }\n    val funlike = fun _\n}\n\n\n\n# 7.è®¿é®tupleåç´ \n\nval t = (1, 2, (7, 9))\nprintln(t._1, t._2, t._3._1, t._3._2)\n\n\n\n# 8.åæ°å±å¼\n\ndef getconnectionprops = {\n    ( config.gethost, config.getport, config.getsommelse, config.getsommelseparttwo )\n}\n\n\nå¦æå®¢æ·ç«¯éè¦æ¿å°ææè¿æ¥åæ°\n\nval ( host, port, sommesle, someelseparttwo ) = getconnectionprops\n\n\nå¦æä»ä»éè¦æ¿å°hoståport\n\nval ( host, port, _, _ ) = getconnectionprops\n\n\n\n# 9.å¶å®ç¨æ³ââç®åå½æ°\n\nval nums = list(1,2,3,4,5,6,7,8,9,10)\n\nnums.filter (_ % 2 == 0)\nnums.reduce (_ + _)\nnums.exists(_ > 5)\nnums.takewhile(_ < 8)\n\n\nåèé¾æ¥',charsets:{cjk:!0},lastUpdated:"2022/07/14, 17:53:55",lastUpdatedTimestamp:1657792435e3},{title:"æ­£ååºç¡",frontmatter:{title:"æ­£ååºç¡",date:"2022-02-27T15:35:17.000Z",permalink:"/pages/e4e158/",categories:["å¶ä»","æ­£åè¡¨è¾¾å¼"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/04.%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/01.%E6%AD%A3%E5%88%99%E5%9F%BA%E7%A1%80.html",relativePath:"04.å¶ä»/04.æ­£åè¡¨è¾¾å¼/01.æ­£ååºç¡.md",key:"v-0499277d",path:"/pages/e4e158/",headers:[{level:2,title:"åå²",slug:"åå²",normalizedTitle:"åå²",charIndex:2},{level:2,title:"POSIXè§è",slug:"posixè§è",normalizedTitle:"posixè§è",charIndex:296},{level:3,title:"POSIXå­ç¬¦ç»",slug:"posixå­ç¬¦ç»",normalizedTitle:"posixå­ç¬¦ç»",charIndex:1448},{level:3,title:"Unicodeå¤ç",slug:"unicodeå¤ç",normalizedTitle:"unicodeå¤ç",charIndex:2697},{level:2,title:"ä¼åçº§",slug:"ä¼åçº§",normalizedTitle:"ä¼åçº§",charIndex:4829},{level:2,title:"è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å",slug:"è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å",normalizedTitle:"è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å",charIndex:4947},{level:2,title:"æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³",slug:"æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³",normalizedTitle:"æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³",charIndex:5689},{level:2,title:"ååå¼ç¨",slug:"ååå¼ç¨",normalizedTitle:"ååå¼ç¨",charIndex:928},{level:2,title:"å¹éä¸­æ",slug:"å¹éä¸­æ",normalizedTitle:"å¹éä¸­æ",charIndex:9833}],headersStr:"åå² POSIXè§è POSIXå­ç¬¦ç» Unicodeå¤ç ä¼åçº§ è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³ ååå¼ç¨ å¹éä¸­æ",content:"# åå²\n\n----------------------------------------\n\næåçæ­£åè¡¨è¾¾å¼åºç°äºçè®ºè®¡ç®æºç§å­¦çèªå¨æ§å¶çè®ºåå½¢å¼åè¯­è¨çè®ºä¸­ãå¨è¿äºé¢åä¸­æå¯¹è®¡ç®ï¼èªå¨æ§å¶ï¼çæ¨¡ååå¯¹å½¢å¼åè¯­è¨æè¿°ä¸åç±»çç ç©¶ã\n\n1940å¹´ï¼æ²ä¼¦Â·éº¦å¡æ´åä¸æ²å°ç¹Â·ç®è¨å°ç¥ç»ç³»ç»ä¸­çç¥ç»åæè¿°æå°èç®åçèªå¨æ§å¶åã\n\n1950å¹´ä»£ï¼æ°å­¦å®¶æ¯èè¬Â·ç§å°Â·åè±å°¼å©ç¨ç§°ä¹ä¸ºâæ­£åéåâçæ°å­¦ç¬¦å·æ¥æè¿°æ­¤æ¨¡åãè¯Â·æ±¤æ®éå°æ­¤ç¬¦å·ç³»ç»å¼å¥ç¼è¾å¨QEDï¼éåæ¯Unixä¸çç¼è¾å¨edï¼å¹¶æç»å¼å¥grepãèªæ­¤ä»¥åï¼æ­£åè¡¨è¾¾å¼è¢«å¹¿æ³å°åºç¨äºåç§Unixæç±»Unixç³»ç»çå·¥å·ä¸­ãæ­£åè¡¨è¾¾å¼çPOSIXè§èï¼åä¸ºåºæ¬åæ­£åè¡¨è¾¾å¼ï¼Basic Regular Expressionï¼BREï¼åæ©å±åæ­£åè¡¨è¾¾å¼ï¼Extended Regular Expressï¼EREï¼ä¸¤å¤§æµæ´¾ãå¨å¼å®¹POSIXçUNIXç³»ç»ä¸ï¼grepåegrepä¹ç±»çå·¥å·é½éµå¾ªPOSIXè§èï¼ä¸äºæ°æ®åºç³»ç»ä¸­çæ­£åè¡¨è¾¾å¼ä¹å¹éPOSIXè§èãgrepãviãsedé½å±äºBREï¼æ¯åå²ææ©çæ­£åè¡¨è¾¾å¼ï¼å æ­¤åå­ç¬¦å¿é¡»è½¬è¯ä¹åæå·æç¹æ®å«ä¹ãegrepãawkåå±äºEREï¼åå­ç¬¦ä¸ç¨è½¬è¯\n\nPerlçæ­£åè¡¨è¾¾å¼æºèªäºHenry Spenceräº1986å¹´1æ19æ¥åå¸çregexï¼å®å·²ç»æ¼åæäºPCREï¼Perlå¼å®¹æ­£åè¡¨è¾¾å¼ï¼Perl Compatible Regular Expressionsï¼ï¼ä¸ä¸ªç±Philip Hazelå¼åçï¼ä¸ºå¾å¤ç°ä»£å·¥å·æä½¿ç¨çåºã\n\næ¥æºï¼ç»´åºç¾ç§\n\n\n# POSIXè§è\n\n----------------------------------------\n\nPOSIXçå¨ç§°æ¯Portable Operating System Interface for unix. åä¸ºBRE(åºæ¬åæ­£åè¡¨è¾¾å¼)åERE(æ©å±åæ­£åè¡¨è¾¾å¼)ä¸¤å¤§æµæ´¾ã\n\nBREæµæ´¾\n\nLinuxä¸çviãgrepãsedå·¥å·å±äºBREè¿ä¸æ´¾ï¼BREä¸­åå­ç¬¦(ã)ã{ã}å¿é¡»è½¬ä¹ä¹åæå·æç¹æ®æä¹ï¼æ¯å¦a{1,2}æè½å¹éå­ç¬¦ä¸²aæaaã\n\nBREä¸æ¯æ+ã?éè¯ï¼å¤éç»æåååå¼ç¨\\1ã\\2ã\n\nGNUå¯¹BREåäºæ©å±ï¼ä½¿ä¹æ¯æ+ã?ã|ï¼ä½ä½¿ç¨æ¶éè½¬ä¹ãä¹æ¯æ\\1ã\\2ä¹ç±»çååå¼ç¨ã\n\nEREæµæ´¾\n\nLinuxä¸çegrepãawkå±äºEREæµæ´¾ãè¿ä¸æµæ´¾ä¸­ä½¿ç¨åå­ç¬¦æ¶ä¸ç¨è½¬ä¹ï¼æ¯æéè¯ç­ã\n\nç°å¨çBREåEREçä¸»è¦å·®å¼æ¯åå­ç¬¦æ¯å¦éè½¬ä¹ã\n\næ­£åè¡¨è¾¾å¼ç¹æ§               BRES           ERES\nç¹å·ã^ã$ã[...]ã[^...]   â              â\nâä»»ææ°ç®âéè¯              *              *\n+ å ? éè¯                             +ã?\nåºé´éè¯                  \\{min, max\\}   {min, max}\nåç»                    \\(...\\)        (...)\néè¯å¯å¦ä½ç¨äºæ¬å·             â              â\nååå¼ç¨                  \\1å°\\9          \nå¤éç»æ                                 â\n\nåæé¾æ¥\n\n\n# POSIXå­ç¬¦ç»\n\nPOSIXå­ç¬¦ç»     è¯´æ                    ASCIIç¯å¢                             UNICODEç¯å¢\n[:alnum:]    å­æ¯å­ç¬¦åæ°å­å­ç¬¦             [a-zA-Z0-9]                         [\\p{L&}\\p{Nd}]\n[:alpha:]    å­æ¯                    [a-zA-Z]                            \\p{L&}\n[:ascii:]    ASCIIå­ç¬¦               [\\x00-\\x7F]                         \\p{InBasicLatin}\n[:blank:]    ç©ºæ ¼å­ç¬¦åå¶è¡¨ç¬¦              [ \\t]                               [\\p{Zs}\\t]\n[:cntrl:]    æ§å¶å­ç¬¦                  [\\x00-\\x1F\\x7F]                     \\p{Cc}\n[:digit:]    æ°å­å­ç¬¦                  [0-9]                               \\p{Nd}\n[:graph:]    ç©ºç½å­ç¬¦ä¹å¤çå­ç¬¦             [\\x21-\\x7E]                         [^\\p{Z}\\p{C}]\n[:lower:]    å°åå­æ¯å­ç¬¦                [a-z]                               \\p{Ll}\n[:print:]    ç±»ä¼¼[:graph:]ï¼ä½åæ¬ç©ºç½å­ç¬¦   [\\x20-\\x7E]                         \\P{C}\n[:punct:]    æ ç¹ç¬¦å·                  [][!\"#$%&'()*+,./:;<=>?@\\^_{|}~-]   [\\p{P}\\p{S}]\n[:space:]    ç©ºç½å­ç¬¦                  [\\t\\r\\n\\v\\f]                        [\\p{Z}\\t\\r\\n\\v\\f]\n[:upper:]    å¤§åå­æ¯å­ç¬¦                [A-Z]                               \\p{Lu}\n[:word:]     å­æ¯å­ç¬¦                  [A-Za-z0-9_]                        [\\p{L}\\p{N}\\p{Pc}]\n[:xdigit:]   åå­è¿å¶å­ç¬¦                [A-Fa-f0-9]                         [A-Fa-f0-9]\n\n\n# Unicodeå¤ç\n\nå¨.NETãJavaãJavaScriptãPythonçæ­£åè¡¨è¾¾å¼ä¸­ï¼å¯ä»¥ç¨\\uXXXXè¡¨ç¤ºä¸ä¸ªUnicodeå­ç¬¦ï¼å¶ä¸­XXXXä¸ºåä½16è¿å¶æ°å­ã\n\nUnicodeå­ç¬¦çä¸ç§æ§è´¨ï¼\n\n * Unicode Propertyï¼å­ç¬¦å±äºæ ç¹ãç©ºæ ¼ãå­æ¯ç­ç­ãæ¯ä¸ªUnicodeå­ç¬¦åªè½å±äºå¯ä¸Unicode Propertyã.NETãJavaãPHPåRubyç­è¯­è¨æ¯æãå·ä½åç±»ä¸ºï¼\n   * å­ç¬¦\\p{L}\n     * \\p{Ll}æ\\p{Lowercase_Letter}ï¼å°åå­ç¬¦ï¼å¿é¡»æå¤§åçå½¢å¼ï¼ã\n     * \\p{Lu}æ\\p{Uppercase_Letter}ï¼å¤§åå­ç¬¦ï¼å¿é¡»æå°åçå½¢å¼ï¼ã\n     * \\p{Lt}æ\\p{Titlecase_Letter}ï¼å¨è¯é¦å­æ¯å¤§åçå­ç¬¦ã\n     * \\p{L&}æ\\p{Cased_Letter}ï¼å­å¨å¤§å°åå½¢å¼çå­ç¬¦ï¼Ll,Â Lu,Â Ltçç»åï¼ã\n     * \\p{Lm}æ\\p{Modifier_Letter}ï¼é³æ ä¿®é¥°å­ç¬¦ã\n     * \\p{Lo}æ\\p{Other_Letter}ï¼ä¸å·æå¤§å°åçå­ç¬¦æå­å½¢ã\n   * éå ç¬¦å·\\p{M}\n     * \\p{Mn}æ\\p{Non_Spacing_Mark}ï¼ä¸å¶ä»å­ç¬¦ç»åï¼ä¸é¢å¤å ç¨ç©ºé´çå­ç¬¦ï¼ä¾å¦æ¥è³æ¼è¯­åé³åé³ã\n     * \\p{Mc}æ\\p{Spacing_Combining_Mark}ï¼ä¸å¶ä»å­ç¬¦ç»åï¼é¢å¤å ç¨ç©ºé´çå­ç¬¦ï¼ä¾å¦é©¬æéæå§æ#åé³å­æ¯åéæ )ã\n     * \\p{Me}æ\\p{Enclosing_Mark}ï¼åå«å¶ä»å­ç¬¦çå­ç¬¦ï¼ä¾å¦ååãæ¹åã\n   * åéç¬¦\\p{Z}\n     * \\p{Zs}æ\\p{Space_Separator}ï¼ä¸å¯è§çç©ºæ ¼ï¼ä½å æ®ç©ºé´ã\n     * \\p{Zl}æ\\p{Line_Separator}ï¼åéçº¿å­ç¬¦U+2028ã\n     * \\p{Zp}æ\\p{Paragraph_Separator}ï¼åæ®µå­ç¬¦U+2029ã\n   * ç¬¦å·\\p{S}\n     * \\p{Sm}æ\\p{Math_Symbol}ï¼æ°å­¦ç¬¦å·ã\n     * \\p{Sc}æ\\p{Currency_Symbol}ï¼éè´§ç¬¦å·ã\n     * \\p{Sk}æ\\p{Modifier_Symbol}ï¼ç»åä¸ºå¶ä»å­ç¬¦çç¬¦å·ã\n     * \\p{So}æ\\p{Other_Symbol}ï¼å¶ä»ç¬¦å·ã\n   * æ°å¼å­ç¬¦\\p{N}\n     * \\p{Nd}æ\\p{Decimal_Digit_Number}ï¼ææææ¬ä¸­çæ°å­0è³9å­ç¬¦ï¼ä¸å«å½¢æç¬¦å·)ã\n     * \\p{Nl}æ\\p{Letter_Number}ï¼çèµ·æ¥åå­æ¯çç¬¦å·ï¼åå«ç½é©¬æ°å­ã\n     * \\p{No}æ\\p{Other_Number}ï¼ä¸è§æ æä¸è§æ æ°å­ï¼æèå¶ä»ä¸å±äº0è³9çæ°å­ãä¸å«å½¢æç¬¦å·ã\n   * æ ç¹ç¬¦å·\\p{P}\n     * \\p{Pd}æ\\p{Dash_Punctuation}ï¼ä»»ä½ç§ç±»çè¿å­å·æè¿æ¥å·ã\n     * \\p{Ps}æ\\p{Open_Punctuation}ï¼ä»»ä½ç§ç±»å¼æ¬å·ã\n     * \\p{Pe}æ\\p{Close_Punctuation}ï¼ä»»ä½ç§ç±»é­æ¬å·ã\n     * \\p{Pi}æ\\p{Initial_Punctuation}ï¼ä»»ä½ç§ç±»å¼å¼å·ã\n     * \\p{Pf}æ\\p{Final_Punctuation}ï¼ä»»ä½ç§ç±»é­å¼å·ã\n     * \\p{Pc}æ\\p{Connector_Punctuation}ï¼è¿æ¥è¯çæ ç¹ç¬¦å·ï¼å¦ä¸åçº¿ã\n     * \\p{Po}æ\\p{Other_Punctuation}ï¼å¶ä»æ ç¹ç¬¦å·ã\n   * å¶å®ç¬¦å·\\p{C}ï¼åæ¬ä¸å¯è§æ§å¶å­ç¬¦ä¸æªç¨ç ä½ï¼\n     * \\p{Cc}æ\\p{Control}ï¼ASCIIæLatin-1æ§å¶å­ç¬¦0x00-0x1Fä¸0x7F-0x9Fã\n     * \\p{Cf}æ\\p{Format}ï¼ä¸å¯è§çæ ¼å¼åæç¤ºå­ç¬¦ã\n     * \\p{Co}æ\\p{Private_Use}ï¼ç§ç¨ç ä½ã\n     * \\p{Cs}æ\\p{Surrogate}ï¼UTF-16ç¼ç çä»£çå¯¹çä¸åã\n     * \\p{Cn}æ\\p{Unassigned}ï¼æªè¢«ä½¿ç¨çç ä½ã\n * Unicode Blockï¼æç§ç¼ç åºé´ååUnicodeå­ç¬¦ï¼æ¯ä¸ªUnicode Blockä¸­çå­ç¬¦ç¼ç å±äºä¸ä¸ªç¼ç åºé´ãä¾å¦Javaè¯­è¨\\p{ InCJK_Compatibility_Ideographs }ï¼.NETè¯­è¨\\p{IsCJK_Compatibility_Ideographs}ã\n * Unicode Scriptï¼æç§å­ç¬¦æå±çä¹¦åç³»ç»æ¥ååUnicodeå­ç¬¦ãPHPåRubyï¼çæ¬ä¸ä½äº1.9ï¼æ¯æUnicode Scriptãä¾å¦\\p{Han}è¡¨ç¤ºæ±å­ï¼ä¸­æå­ç¬¦ï¼ã\n\nè¿ä¸ç§Unicodeæ§è´¨å¯¹åºçå­ç¬¦ç»è¡¥éæ¯å°å¼å¤´ç\\pæ¹ä¸º\\Pï¼å¶å®ä¸åã\n\n\n# ä¼åçº§\n\nä¼åæ   ç¬¦å·\næé«    \\\né«     ()ã(?:)ã(?=)ã[]\nä¸­     *ã+ã?ã{n}ã{n,}ã{n,m}\nä½     ^ã$ãä¸­ä»å­ç¬¦\næ¬¡æä½   ä¸²æ¥ï¼å³ç¸é»å­ç¬¦è¿æ¥å¨ä¸èµ·\næä½    |\n\n\n# è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å\n\næ¢ç¶æ­£è§è¡¨ç¤ºæ³æ¯å¤çå­ç¬¦ä¸²çä¸ç§è¡¨ç¤ºæ¹å¼ï¼é£ä¹å¯¹å­ç¬¦æåºæå½±åçè¯­ç³»æ°æ®å°±ä¼å¯¹æ­£è§è¡¨ç¤ºæ³çç»ææå½±åï¼\n\nä¸ºä»ä¹è¯­ç³»çæ°æ®ä¼å½±åå°æ­£è§è¡¨ç¤ºæ³çè¾åºç»æå¢ï¼æä»¬å¨ç¬¬é¶ç« è®¡ç®å¨æ¦è®ºçæå­ç¼ç ç³»ç»éé¢è°å°ï¼æä»¶å¶å®è®°å½çä»æ 0 ä¸ 1ï¼æä»¬çå°çå­ç¬¦æå­ä¸æ°å­é½æ¯éè¿ç¼ç è¡¨è½¬æ¢æ¥çãç±äºä¸åè¯­ç³»çç¼ç æ°æ®å¹¶ä¸ç¸åï¼æä»¥å°±ä¼é ææ°æ®æ·åç»æçå·®å¼äºã ä¸¾ä¾æ¥è¯´ï¼å¨è±æå¤§å°åçç¼ç é¡ºåºä¸­ï¼zh_TW.big5 å C è¿ä¸¤ç§è¯­ç³»çè¾åºç»æåå«å¦ä¸ï¼ ï·\n\n * LANG=C æ¶ï¼0 1 2 3 4 ... A B C D ... Z a b c d ...z\n * LANG=zh_TW æ¶ï¼0 1 2 3 4 ... a A b B c C d D ... z Z\n\nä¸é¢çé¡ºåºæ¯ç¼ç çé¡ºåºï¼æä»¬å¯ä»¥å¾æ¸æ¥çåç°è¿ä¸¤ç§è¯­ç³»ææ¾å°±æ¯ä¸ä¸æ ·ï¼å¦æä½ æ³è¦æ·åå¤§åå­ç¬¦èä½¿ç¨ [A-Z] æ¶ï¼ ä¼åç° LANG=C ç¡®å®å¯ä»¥ä»æå°å¤§åå­ç¬¦ (å ä¸ºæ¯è¿ç»­ç) ï¼ä½æ¯å¦æLANG=zh_TW.big5 æ¶ï¼å°±ä¼åç°å°ï¼ è¿åå°åç b-z ä¹ä¼è¢«æ·ååºæ¥ï¼å ä¸ºå°±ç¼ç çé¡ºåºæ¥çï¼big5 è¯­ç³»å¯ä»¥æ·åå°ã A b B c C ... z Z ãè¿ä¸å å­ç¬¦å©ï¼ æä»¥ï¼ä½¿ç¨æ­£è§è¡¨ç¤ºæ³æ¶ï¼éè¦ç¹å«çæå½æ¶ç¯å¢çè¯­ç³»ä¸ºä½ï¼ å¦åå¯è½ä¼åç°ä¸å«äººä¸ç¸åçæ·åç»æåï¼\n\nç±äºä¸è¬æä»¬å¨ç»ä¹ æ­£è§è¡¨ç¤ºæ³æ¶ï¼ä½¿ç¨çæ¯å¼å®¹äº POSIX çæ åï¼å æ­¤å°±ä½¿ç¨ã C ãè¿ä¸ªè¯­ç³»ï¼ å æ­¤ï¼åºä¸çå¾å¤ç»ä¹ é½æ¯ä½¿ç¨ã LANG=C ãè¿ä¸ªè¯­ç³»æ°æ®æ¥è¿è¡çåï¼ å¦å¤ï¼ä¸ºäºè¦é¿åè¿æ ·ç¼ç æé æçè±æä¸æ°å­çæ·åé®é¢ï¼å æ­¤æäºç¹æ®çç¬¦å·æä»¬å¾è¦äºè§£ä¸ä¸çï¼ è¿äºç¬¦å·ä¸»è¦æåºä¸è¿äºæä¹ï¼\n\n\n# æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³\n\n----------------------------------------\n\nå­ç¬¦             æè¿°\n\\              å°ä¸ä¸ä¸ªå­ç¬¦æ è®°ä¸ºä¸ä¸ªç¹æ®å­ç¬¦ï¼File Format Escapeï¼æ¸åè§æ¬è¡¨ï¼ãæä¸ä¸ªåä¹å­ç¬¦ï¼Identity\n               Escapeï¼æ^$()*+?.[\\{|å±è®¡12ä¸ªï¼ãæä¸ä¸ªååå¼ç¨ï¼backreferencesï¼ãæä¸ä¸ªå«è¿å¶è½¬ä¹ç¬¦ãä¾å¦ï¼ânâå¹éå­ç¬¦ânâãâ\\nâå¹éä¸ä¸ªæ¢è¡ç¬¦ãåºåâ\\\\âå¹éâ\\âèâ\\(âåå¹éâ(âã\n^              å¹éè¾å¥å­ç¬¦ä¸²çå¼å§ä½ç½®ãå¦æè®¾ç½®äºRegExpå¯¹è±¡çMultilineå±æ§ï¼^ä¹å¹éâ\\nâæâ\\râä¹åçä½ç½®ã\n$              å¹éè¾å¥å­ç¬¦ä¸²çç»æä½ç½®ãå¦æè®¾ç½®äºRegExpå¯¹è±¡çMultilineå±æ§ï¼$ä¹å¹éâ\\nâæâ\\râä¹åçä½ç½®ã\n*              å¹éåé¢çå­è¡¨è¾¾å¼é¶æ¬¡æå¤æ¬¡ãä¾å¦ï¼zo*è½å¹éâzâãâzoâä»¥åâzooâã*ç­ä»·äº{0,}ã\n+              å¹éåé¢çå­è¡¨è¾¾å¼ä¸æ¬¡æå¤æ¬¡ãä¾å¦ï¼âzo+âè½å¹éâzoâä»¥åâzooâï¼ä½ä¸è½å¹éâzâã+ç­ä»·äº{1,}ã\n?              å¹éåé¢çå­è¡¨è¾¾å¼é¶æ¬¡æä¸æ¬¡ãä¾å¦ï¼âdo(es)?âå¯ä»¥å¹éâdoesâä¸­çâdoâåâdoesâã?ç­ä»·äº{0,1}ã\n{n}            næ¯ä¸ä¸ªéè´æ´æ°ãå¹éç¡®å®çnæ¬¡ãä¾å¦ï¼âo{2}âä¸è½å¹éâBobâä¸­çâoâï¼ä½æ¯è½å¹éâfoodâä¸­çä¸¤ä¸ªoã\n{n,}           næ¯ä¸ä¸ªéè´æ´æ°ãè³å°å¹énæ¬¡ãä¾å¦ï¼âo{2,}âä¸è½å¹éâBobâä¸­çâoâï¼ä½è½å¹éâfooooodâä¸­çææoãâo{1,}âç­ä»·äºâo+âãâo{0,}âåç­ä»·äºâo*âã\n{n,m}          månåä¸ºéè´æ´æ°ï¼å¶ä¸­n<=mãæå°å¹énæ¬¡ä¸æå¤å¹émæ¬¡ãä¾å¦ï¼âo{1,3}âå°å¹éâfoooooodâä¸­çåä¸ä¸ªoãâo{0,1}âç­ä»·äºâo?âãè¯·æ³¨æå¨éå·åä¸¤ä¸ªæ°ä¹é´ä¸è½æç©ºæ ¼ã\n?              éè´ªå¿éåï¼Non-greedy\n               quantifiersï¼ï¼å½è¯¥å­ç¬¦ç´§è·å¨ä»»ä½ä¸ä¸ªå¶ä»éå¤ä¿®é¥°ç¬¦ï¼*,+,?ï¼{n}ï¼{n,}ï¼{n,m}ï¼åé¢æ¶ï¼å¹éæ¨¡å¼æ¯éè´ªå©ªçãéè´ªå©ªæ¨¡å¼å°½å¯è½å°çå¹éææç´¢çå­ç¬¦ä¸²ï¼èé»è®¤çè´ªå©ªæ¨¡å¼åå°½å¯è½å¤çå¹éææç´¢çå­ç¬¦ä¸²ãä¾å¦ï¼å¯¹äºå­ç¬¦ä¸²âooooâï¼âo+?âå°å¹éåä¸ªâoâï¼èâo+âå°å¹éææâoâã\n.              å¹éé¤â\\rââ\\nâä¹å¤çä»»ä½åä¸ªå­ç¬¦ãè¦å¹éåæ¬â\\rââ\\nâå¨åçä»»ä½å­ç¬¦ï¼è¯·ä½¿ç¨åâ(.|\\r|\\n)âçæ¨¡å¼ã\n(pattern)      å¹épatternå¹¶è·åè¿ä¸å¹éçå­å­ç¬¦ä¸²ãè¯¥å­å­ç¬¦ä¸²ç¨äºååå¼ç¨ãæè·åçå¹éå¯ä»¥ä»äº§ççMatcheséåå¾å°ï¼å¨VBScriptä¸­ä½¿ç¨SubMatcheséåï¼å¨JScriptä¸­åä½¿ç¨$0â¦$9å±æ§ãè¦å¹éåæ¬å·å­ç¬¦ï¼è¯·ä½¿ç¨â\\(âæâ\\)âãå¯å¸¦æ°éåç¼ã\n(?:pattern)    å¹épatternä½ä¸è·åå¹éçå­å­ç¬¦ä¸²ï¼shy\n               groupsï¼ï¼ä¹å°±æ¯è¯´è¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¸å­å¨å¹éçå­å­ç¬¦ä¸²ç¨äºååå¼ç¨ãè¿å¨ä½¿ç¨æå­ç¬¦â(|)âæ¥ç»åä¸ä¸ªæ¨¡å¼çåä¸ªé¨åæ¯å¾æç¨ãä¾å¦âindustr(?:y|ies)âå°±æ¯ä¸ä¸ªæ¯âindustry|industriesâæ´ç®ç¥çè¡¨è¾¾å¼ã\n(?=pattern)    æ­£åè¯å®é¢æ¥ï¼look ahead positive\n               assertï¼ï¼å¨ä»»ä½å¹épatternçå­ç¬¦ä¸²å¼å§å¤å¹éæ¥æ¾å­ç¬¦ä¸²ãè¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¹å°±æ¯è¯´ï¼è¯¥å¹éä¸éè¦è·åä¾ä»¥åä½¿ç¨ãä¾å¦ï¼âWindows(?=95|98|NT|2000)âè½å¹éâWindows2000âä¸­çâWindowsâï¼ä½ä¸è½å¹éâWindows3.1âä¸­çâWindowsâãé¢æ¥ä¸æ¶èå­ç¬¦ï¼ä¹å°±æ¯è¯´ï¼å¨ä¸ä¸ªå¹éåçåï¼å¨æåä¸æ¬¡å¹éä¹åç«å³å¼å§ä¸ä¸æ¬¡å¹éçæç´¢ï¼èä¸æ¯ä»åå«é¢æ¥çå­ç¬¦ä¹åå¼å§ã\n(?!pattern)    æ­£åå¦å®é¢æ¥ï¼negative\n               assertï¼ï¼å¨ä»»ä½ä¸å¹épatternçå­ç¬¦ä¸²å¼å§å¤å¹éæ¥æ¾å­ç¬¦ä¸²ãè¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¹å°±æ¯è¯´ï¼è¯¥å¹éä¸éè¦è·åä¾ä»¥åä½¿ç¨ãä¾å¦âWindows(?!95|98|NT|2000)âè½å¹éâWindows3.1âä¸­çâWindowsâï¼ä½ä¸è½å¹éâWindows2000âä¸­çâWindowsâãé¢æ¥ä¸æ¶èå­ç¬¦ï¼ä¹å°±æ¯è¯´ï¼å¨ä¸ä¸ªå¹éåçåï¼å¨æåä¸æ¬¡å¹éä¹åç«å³å¼å§ä¸ä¸æ¬¡å¹éçæç´¢ï¼èä¸æ¯ä»åå«é¢æ¥çå­ç¬¦ä¹åå¼å§\n(?<=pattern)   ååï¼look\n               behindï¼è¯å®é¢æ¥ï¼ä¸æ­£åè¯å®é¢æ¥ç±»ä¼¼ï¼åªæ¯æ¹åç¸åãä¾å¦ï¼â(?<=95|98|NT|2000)Windowsâè½å¹éâ2000Windowsâä¸­çâWindowsâï¼ä½ä¸è½å¹éâ3.1Windowsâä¸­çâWindowsâã\n(?<!pattern)   ååå¦å®é¢æ¥ï¼ä¸æ­£åå¦å®é¢æ¥ç±»ä¼¼ï¼åªæ¯æ¹åç¸åãä¾å¦â(?<!95|98|NT|2000)Windowsâè½å¹éâ3.1Windowsâä¸­çâWindowsâï¼ä½ä¸è½å¹éâ2000Windowsâä¸­çâWindowsâã\nx|y            æ²¡æåå´å¨()éï¼å¶èå´æ¯æ´ä¸ªæ­£åè¡¨è¾¾å¼ãä¾å¦ï¼âz|foodâè½å¹éâzâæâfoodâãâ(?:z|f)oodâåå¹éâzoodâæâfoodâã\n[xyz]          å­ç¬¦éåï¼character\n               classï¼ãå¹éæåå«çä»»æä¸ä¸ªå­ç¬¦ãä¾å¦ï¼â[abc]âå¯ä»¥å¹éâplainâä¸­çâaâãç¹æ®å­ç¬¦ä»æåæçº¿\\ä¿æç¹æ®å«ä¹ï¼ç¨äºè½¬ä¹å­ç¬¦ãå¶å®ç¹æ®å­ç¬¦å¦æå·ãå å·ãåç§æ¬å·ç­åä½ä¸ºæ®éå­ç¬¦ãè±å­ç¬¦^å¦æåºç°å¨é¦ä½åè¡¨ç¤ºè´å¼å­ç¬¦éåï¼å¦æåºç°å¨å­ç¬¦ä¸²ä¸­é´å°±ä»ä½ä¸ºæ®éå­ç¬¦ãè¿å­ç¬¦\n               -\n               å¦æåºç°å¨å­ç¬¦ä¸²ä¸­é´è¡¨ç¤ºå­ç¬¦èå´æè¿°ï¼å¦æå¦æåºç°å¨é¦ä½ï¼ææ«å°¾ï¼åä»ä½ä¸ºæ®éå­ç¬¦ãå³æ¹æ¬å·åºè½¬ä¹åºç°ï¼ä¹å¯ä»¥ä½ä¸ºé¦ä½å­ç¬¦åºç°ã\n[^xyz]         æé¤åå­ç¬¦éåï¼negated character\n               classesï¼ãå¹éæªååºçä»»æå­ç¬¦ãä¾å¦ï¼â[^abc]âå¯ä»¥å¹éâplainâä¸­çâplinâã\n[a-z]          å­ç¬¦èå´ãå¹éæå®èå´åçä»»æå­ç¬¦ãä¾å¦ï¼â[a-z]âå¯ä»¥å¹éâaâå°âzâèå´åçä»»æå°åå­æ¯å­ç¬¦ã\n[^a-z]         æé¤åçå­ç¬¦èå´ãå¹éä»»ä½ä¸å¨æå®èå´åçä»»æå­ç¬¦ãä¾å¦ï¼â[^a-z]âå¯ä»¥å¹éä»»ä½ä¸å¨âaâå°âzâèå´åçä»»æå­ç¬¦ã\n[:name:]       å¢å å½åå­ç¬¦ç±»ï¼named character classï¼ãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n[=elt=]        å¢å å½ålocaleä¸æåºï¼collateï¼ç­ä»·äºå­ç¬¦âeltâçåç´ ãä¾å¦ï¼[=a=]å¯è½ä¼å¢å Ã¤ãÃ¡ãÃ ãÄãáº¯ãáº±ãáºµãáº³ãÃ¢ãáº¥ãáº§ãáº«ãáº©ãÇãÃ¥ãÇ»ãÃ¤ãÇãÃ£ãÈ§ãÇ¡ãÄãÄãáº£ãÈãÈãáº¡ãáº·ãáº­ãá¸ãâ±¥ãá¶ãÉãÉ\n               ãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n[.elt.]        å¢å æåºåç´ ï¼collation\n               elementï¼eltå°è¡¨è¾¾å¼ä¸­ãè¿æ¯å ä¸ºæäºæåºåç´ ç±å¤ä¸ªå­ç¬¦ç»æãä¾å¦ï¼29ä¸ªå­æ¯è¡¨çè¥¿ç­çè¯­ï¼\n               \"CH\"ä½ä¸ºåä¸ªå­æ¯æå¨å­æ¯Cä¹åï¼å æ­¤ä¼äº§çå¦æ­¤æåºâcinco, credo,\n               chispaâãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n\\b             å¹éä¸ä¸ªåè¯è¾¹çï¼ä¹å°±æ¯æåè¯åç©ºæ ¼é´çä½ç½®ãä¾å¦ï¼âer\\bâå¯ä»¥å¹éâneverâä¸­çâerâï¼ä½ä¸è½å¹éâverbâä¸­çâerâã\n\\B             å¹ééåè¯è¾¹çãâer\\Bâè½å¹éâverbâä¸­çâerâï¼ä½ä¸è½å¹éâneverâä¸­çâerâã\n\\cx            å¹éç±xææçæ§å¶å­ç¬¦ãxçå¼å¿é¡»ä¸ºA-Zæa-zä¹ä¸ãå¦åï¼å°cè§ä¸ºä¸ä¸ªåä¹çâcâå­ç¬¦ãæ§å¶å­ç¬¦çå¼ç­äºxçå¼æä½5æ¯ç¹ï¼å³å¯¹3210è¿å¶çä½æ°ï¼ãä¾å¦ï¼\\cMå¹éä¸ä¸ªControl-Mæåè½¦ç¬¦ã\\caç­æäº\\u0001,\n               \\cbç­æäº\\u0002, ç­ç­â¦\n\\d             å¹éä¸ä¸ªæ°å­å­ç¬¦ãç­ä»·äº[0-9]ãæ³¨æUnicodeæ­£åè¡¨è¾¾å¼ä¼å¹éå¨è§æ°å­å­ç¬¦ã\n\\D             å¹éä¸ä¸ªéæ°å­å­ç¬¦ãç­ä»·äº[^0-9]ã\n\\f             å¹éä¸ä¸ªæ¢é¡µç¬¦ãç­ä»·äº\\x0cå\\cLã\n\\n             å¹éä¸ä¸ªæ¢è¡ç¬¦ãç­ä»·äº\\x0aå\\cJã\n\\r             å¹éä¸ä¸ªåè½¦ç¬¦ãç­ä»·äº\\x0då\\cMã\n\\s             å¹éä»»ä½ç©ºç½å­ç¬¦ï¼åæ¬ç©ºæ ¼ãå¶è¡¨ç¬¦ãæ¢é¡µç¬¦ç­ç­ãç­ä»·äº[\\f\\n\\r\\t\\v]ãæ³¨æUnicodeæ­£åè¡¨è¾¾å¼ä¼å¹éå¨è§ç©ºæ ¼ç¬¦ã\n\\S             å¹éä»»ä½éç©ºç½å­ç¬¦ãç­ä»·äº[^ \\f\\n\\r\\t\\v]ã\n\\t             å¹éä¸ä¸ªå¶è¡¨ç¬¦ãç­ä»·äº\\x09å\\cIã\n\\v             å¹éä¸ä¸ªåç´å¶è¡¨ç¬¦ãç­ä»·äº\\x0bå\\cKã\n\\w             å¹éåæ¬ä¸åçº¿çä»»ä½åè¯å­ç¬¦ãç­ä»·äºâ[A-Za-z0-9_]âãæ³¨æUnicodeæ­£åè¡¨è¾¾å¼ä¼å¹éä¸­æå­ç¬¦ã\n\\W             å¹éä»»ä½éåè¯å­ç¬¦ãç­ä»·äºâ[^A-Za-z0-9_]âã\n\\xnn           åå­è¿å¶è½¬ä¹å­ç¬¦åºåãå¹éä¸¤ä¸ªåå­è¿å¶æ°å­nnè¡¨ç¤ºçå­ç¬¦ãä¾å¦ï¼â\\x41âå¹éâAâãâ\\x041âåç­ä»·äºâ\\x04&1âãæ­£åè¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç¨ASCIIç¼ç ã.\n\\num           ååå¼ç¨ï¼back-referenceï¼ä¸ä¸ªå­å­ç¬¦ä¸²ï¼substringï¼ï¼è¯¥å­å­ç¬¦ä¸²ä¸æ­£åè¡¨è¾¾å¼çç¬¬numä¸ªç¨æ¬å·å´èµ·æ¥çææç¾¤ï¼capture\n               groupï¼å­è¡¨è¾¾å¼ï¼subexpressionï¼å¹éãå¶ä¸­numæ¯ä»1å¼å§çåè¿å¶æ­£æ´æ°ï¼å¶ä¸éå¯è½æ¯9ï¼å½åå­ç¬¦ç±»BREä¸grepæå¤åªè½ååå¼ç¨å°9ï¼Visual\n               C++çregexåºæå¤åªè½ååå¼ç¨å°31ï¼ECMAScriptä¸éååå¼ç¨çä¸éï¼ãä¾å¦ï¼â(.)\\1âå¹éä¸¤ä¸ªè¿ç»­çç¸åå­ç¬¦ã\n\\n             æ è¯ä¸ä¸ªå«è¿å¶è½¬ä¹å¼æä¸ä¸ªååå¼ç¨ãå¦æ\\nä¹åè³å°nä¸ªè·åçå­è¡¨è¾¾å¼ï¼ånä¸ºååå¼ç¨ãå¦åï¼å¦ænä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼ånä¸ºä¸ä¸ªå«è¿å¶è½¬ä¹å¼ã\n\\nm            3ä½å«è¿å¶æ°å­ï¼æ è¯ä¸ä¸ªå«è¿å¶è½¬ä¹å¼æä¸ä¸ªååå¼ç¨ãå¦æ\\nmä¹åè³å°ænmä¸ªè·å¾å­è¡¨è¾¾å¼ï¼ånmä¸ºååå¼ç¨ãå¦æ\\nmä¹åè³å°ænä¸ªè·åï¼ånä¸ºä¸ä¸ªåè·æå­mçååå¼ç¨ãå¦æåé¢çæ¡ä»¶é½ä¸æ»¡è¶³ï¼è¥nåmåä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼å\\nmå°å¹éå«è¿å¶è½¬ä¹å¼nmã\n\\nml           å¦ænä¸ºå«è¿å¶æ°å­ï¼0-3ï¼ï¼ä¸målåä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼åå¹éå«è¿å¶è½¬ä¹å¼nmlã\n\\un            Unicodeè½¬ä¹å­ç¬¦åºåãå¶ä¸­næ¯ä¸ä¸ªç¨åä¸ªåå­è¿å¶æ°å­è¡¨ç¤ºçUnicodeå­ç¬¦ãä¾å¦ï¼\\u00A9å¹éèä½æç¬¦å·ï¼Â©ï¼ã\n\n\n# ååå¼ç¨\n\n-- 1. åä¸ªæ­£ååä½¿ç¨\n^\\d{4}([-/])\\d{2}\\1\\d{2}$\n-- 2. æååç»­ä½¿ç¨\ngrep -E $reg1 \"$path/\"custom*.log | sed -E \"s#$reg2#insert into xxx(xx, xx, xx, xx, xx, xx, xx) values('\\1','\\2','\\3',\\4,\\5,\\6,'\\7');#g\" > \"$file\"\n\n\n\n# å¹éä¸­æ\n\n----------------------------------------\n\nåèé¾æ¥ï¼https://www.cnblogs.com/animalize/p/5432864.html\n\nä»¥ä¸æ¯æ¯è¾å¨é¢çæ±å­Unicodeåå¸ï¼åèUnicode 10.0æ åï¼2017å¹´6æåå¸ï¼ï¼\n\nåºå            èå´                                                 å®éæ±å­ä¸ªæ°/å¤æ³¨          æ­£åå¼\nCJKç»ä¸æ±å­       4E00-62FF, 6300-77FF,7800-8CFF, 8D00-9FFF          20,971å¸¸è§           [\\u4E00-\\u9FFF] æ[ä¸-é¿]\nCJKç»ä¸æ±å­æ©å±Aåº   3400-4DBF                                          6,582ç½è§            [\\u3400-\\u4DBF]\nCJKç»ä¸æ±å­æ©å±Båº   20000-215FF, 21600-230FF,23100-245FF,              42,711ç½è§ï¼åå²        [\\U00020000-\\U0002A6DF]\n              24600-260FF,26100-275FF, 27600-290FF,29100-2A6DF\nCJKç»ä¸æ±å­æ©å±Cåº   2A700-2B73F                                        4,149ç½è§ï¼åå²         [\\U0002A700-\\U0002B73F]\nCJKç»ä¸æ±å­æ©å±Dåº   2B740â2B81F                                        222ä¸å¸¸è§ï¼ä»å¨ä½¿ç¨        [\\U0002B740-\\U0002B81F]\nCJKç»ä¸æ±å­æ©å±Eåº   2B820â2CEAF                                        5,762ç½è§ï¼åå²         [\\U0002B820-\\U0002CEAF]\nCJKç»ä¸æ±å­æ©å±Fåº   2CEB0-2EBEF                                        7,473ç½è§ï¼åå²         [\\U0002CEB0-\\U0002EBEF]\nCJKå¼å®¹æ±å­       F900âFAFF                                          472éå¤ãå¯ç»ä¸åä½ãå¬å¸å®ä¹   [\\uF900-\\uFAFF]\nCJKå¼å®¹æ±å­å¢è¡¥     2F800-2FA1F                                        542å¯ç»ä¸åä½           [\\U0002F800-\\U0002FA1F]\n\nâå¦ææ³è¡¨ç¤ºææ®éçæ±å­\n\nç¨ï¼[\\u4E00-\\u9FFF] æ [ä¸-é¿] å±æ20950ä¸ªæ±å­ï¼åæ¬äºå¸¸ç¨ç®ä½å­åç¹ä½å­ï¼éç­å­ã åºæ¬å°±æ¯GBKçææï¼21003ä¸ªï¼æ±å­ãä¹åæ¬äºBIG5çææï¼13053ä¸ªï¼ç¹ä½æ±å­ã ä¸è¬æåµä¸è¿ä¸ªå°±å¤ç¨äºã\n\n> è¯´æï¼ä»ä»æªåæ¬åºç°å¨GBKéçCJKå¼å®¹æ±å­ç21ä¸ªæ±å­ï¼ï¤¬ï¥¹ï¦ï§§ï§±ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ ï¨¡ï¨£ï¨¤ï¨§ï¨¨ï¨© CJKå¼å®¹æ±å­ç¨äºè½¬ç å¤çï¼æ¥å¸¸ä¸­æ¯ç¨ä¸å°çï¼æä»¥ä¸åæ¬ä¹æ²¡ä»ä¹é®é¢ã æ³¨ææ­¤ï¥¹éå½¼åï¼ï¨ä¹ä¸æ¯å¸¸ç¨çé£ä¸ªï¼è½ç¶ç¨ç¼ççæ¯ä¸æ ·çï¼åè§ http://www.zhihu.com/question/20697984\n\nâå¦ææ³è¡¨ç¤ºBMPä¹åçæ±å­\n\nä¹å°±æ¯Unicodeå¼<=0xFFFFä¹åçæææ±å­ï¼ç¨ï¼[\\u4E00-\\u9FFF\\u3400-\\u4DBF\\uF900-\\uFAFF]ï¼è¿ä¸ªåå«ä½ä¸éäºGBKå®ä¹çæ±å­ï¼å±æ28025ä¸ªæ±å­ã\n\n> è¯´æï¼åä¸é¢ç¸æ¯ï¼ä¸»è¦æ¯å¤äºCJKç»ä¸æ±å­æ©å±Aåºï¼è¿æ¯1999å¹´æ¶å½å°Unicode 3.0æ åéç6,582ä¸ªæ±å­ã CJKç»ä¸æ±å­æ©å±Aåºï¼åæ¬äºä¸äºåå°åºï¼éæ¸¯å°æ¥é©æ°è¶ï¼çæ±å­ï¼æå¾å¤åº·çå­å¸çç¹ä½å­ã\n\nâ å¦ææ³å°½å¯è½è¡¨ç¤ºææçæ±å­\n\nç¨ï¼[\\u4E00-\\u9FFF\\u3400-\\u4DBF\\uF900-\\uFAFF\\U00020000-U0002EBEF]è¿ä¸ªåå«ä¸è¡¨çææ88342ä¸ªæ±å­\n\n> è¯´æï¼ 1, ä»¥ä¸æ­£åè¡¨è¾¾å¼ä¸ä¼å¹éï¼è±æãæ±å­çï¼æ ç¹ç¬¦å·ï¼ä¸ä¼å¹éé©å½æ¼é³å­ãæ¥æ¬ååã 2, ä¼å¹éä¸äºæ¥æ¬ãé©å½ç¬æçæ±å­ã 3, åå«äºä¸äºæ²¡ææ±å­çç©ºä½ç½®ï¼è¿éå¸¸ä¸ç¢äºã 4, \\uå\\Uçæ­£åè¯­æ³å¨Python 3.5ä¸æµè¯éè¿ã æäºæ­£åè¡¨è¾¾å¼å¼æä¸è®¤\\uFFFFå\\UFFFFFFFFè¿æ ·çè¯­æ³ï¼å¯ä»¥æ¢æ\\x{FFFF}è¯ä¸ä¸ï¼æäºä¸æ¯æBMPä¹å¤çèå´ï¼è¿å°±æ²¡åæ³å¤çCJKç»ä¸æ±å­æ©å±B~Eåºäºï¼å¦notepad++ã",normalizedContent:"# åå²\n\n----------------------------------------\n\næåçæ­£åè¡¨è¾¾å¼åºç°äºçè®ºè®¡ç®æºç§å­¦çèªå¨æ§å¶çè®ºåå½¢å¼åè¯­è¨çè®ºä¸­ãå¨è¿äºé¢åä¸­æå¯¹è®¡ç®ï¼èªå¨æ§å¶ï¼çæ¨¡ååå¯¹å½¢å¼åè¯­è¨æè¿°ä¸åç±»çç ç©¶ã\n\n1940å¹´ï¼æ²ä¼¦Â·éº¦å¡æ´åä¸æ²å°ç¹Â·ç®è¨å°ç¥ç»ç³»ç»ä¸­çç¥ç»åæè¿°æå°èç®åçèªå¨æ§å¶åã\n\n1950å¹´ä»£ï¼æ°å­¦å®¶æ¯èè¬Â·ç§å°Â·åè±å°¼å©ç¨ç§°ä¹ä¸ºâæ­£åéåâçæ°å­¦ç¬¦å·æ¥æè¿°æ­¤æ¨¡åãè¯Â·æ±¤æ®éå°æ­¤ç¬¦å·ç³»ç»å¼å¥ç¼è¾å¨qedï¼éåæ¯unixä¸çç¼è¾å¨edï¼å¹¶æç»å¼å¥grepãèªæ­¤ä»¥åï¼æ­£åè¡¨è¾¾å¼è¢«å¹¿æ³å°åºç¨äºåç§unixæç±»unixç³»ç»çå·¥å·ä¸­ãæ­£åè¡¨è¾¾å¼çposixè§èï¼åä¸ºåºæ¬åæ­£åè¡¨è¾¾å¼ï¼basic regular expressionï¼breï¼åæ©å±åæ­£åè¡¨è¾¾å¼ï¼extended regular expressï¼ereï¼ä¸¤å¤§æµæ´¾ãå¨å¼å®¹posixçunixç³»ç»ä¸ï¼grepåegrepä¹ç±»çå·¥å·é½éµå¾ªposixè§èï¼ä¸äºæ°æ®åºç³»ç»ä¸­çæ­£åè¡¨è¾¾å¼ä¹å¹éposixè§èãgrepãviãsedé½å±äºbreï¼æ¯åå²ææ©çæ­£åè¡¨è¾¾å¼ï¼å æ­¤åå­ç¬¦å¿é¡»è½¬è¯ä¹åæå·æç¹æ®å«ä¹ãegrepãawkåå±äºereï¼åå­ç¬¦ä¸ç¨è½¬è¯\n\nperlçæ­£åè¡¨è¾¾å¼æºèªäºhenry spenceräº1986å¹´1æ19æ¥åå¸çregexï¼å®å·²ç»æ¼åæäºpcreï¼perlå¼å®¹æ­£åè¡¨è¾¾å¼ï¼perl compatible regular expressionsï¼ï¼ä¸ä¸ªç±philip hazelå¼åçï¼ä¸ºå¾å¤ç°ä»£å·¥å·æä½¿ç¨çåºã\n\næ¥æºï¼ç»´åºç¾ç§\n\n\n# posixè§è\n\n----------------------------------------\n\nposixçå¨ç§°æ¯portable operating system interface for unix. åä¸ºbre(åºæ¬åæ­£åè¡¨è¾¾å¼)åere(æ©å±åæ­£åè¡¨è¾¾å¼)ä¸¤å¤§æµæ´¾ã\n\nbreæµæ´¾\n\nlinuxä¸çviãgrepãsedå·¥å·å±äºbreè¿ä¸æ´¾ï¼breä¸­åå­ç¬¦(ã)ã{ã}å¿é¡»è½¬ä¹ä¹åæå·æç¹æ®æä¹ï¼æ¯å¦a{1,2}æè½å¹éå­ç¬¦ä¸²aæaaã\n\nbreä¸æ¯æ+ã?éè¯ï¼å¤éç»æåååå¼ç¨\\1ã\\2ã\n\ngnuå¯¹breåäºæ©å±ï¼ä½¿ä¹æ¯æ+ã?ã|ï¼ä½ä½¿ç¨æ¶éè½¬ä¹ãä¹æ¯æ\\1ã\\2ä¹ç±»çååå¼ç¨ã\n\nereæµæ´¾\n\nlinuxä¸çegrepãawkå±äºereæµæ´¾ãè¿ä¸æµæ´¾ä¸­ä½¿ç¨åå­ç¬¦æ¶ä¸ç¨è½¬ä¹ï¼æ¯æéè¯ç­ã\n\nç°å¨çbreåereçä¸»è¦å·®å¼æ¯åå­ç¬¦æ¯å¦éè½¬ä¹ã\n\næ­£åè¡¨è¾¾å¼ç¹æ§               bres           eres\nç¹å·ã^ã$ã[...]ã[^...]   â              â\nâä»»ææ°ç®âéè¯              *              *\n+ å ? éè¯                             +ã?\nåºé´éè¯                  \\{min, max\\}   {min, max}\nåç»                    \\(...\\)        (...)\néè¯å¯å¦ä½ç¨äºæ¬å·             â              â\nååå¼ç¨                  \\1å°\\9          \nå¤éç»æ                                 â\n\nåæé¾æ¥\n\n\n# posixå­ç¬¦ç»\n\nposixå­ç¬¦ç»     è¯´æ                    asciiç¯å¢                             unicodeç¯å¢\n[:alnum:]    å­æ¯å­ç¬¦åæ°å­å­ç¬¦             [a-za-z0-9]                         [\\p{l&}\\p{nd}]\n[:alpha:]    å­æ¯                    [a-za-z]                            \\p{l&}\n[:ascii:]    asciiå­ç¬¦               [\\x00-\\x7f]                         \\p{inbasiclatin}\n[:blank:]    ç©ºæ ¼å­ç¬¦åå¶è¡¨ç¬¦              [ \\t]                               [\\p{zs}\\t]\n[:cntrl:]    æ§å¶å­ç¬¦                  [\\x00-\\x1f\\x7f]                     \\p{cc}\n[:digit:]    æ°å­å­ç¬¦                  [0-9]                               \\p{nd}\n[:graph:]    ç©ºç½å­ç¬¦ä¹å¤çå­ç¬¦             [\\x21-\\x7e]                         [^\\p{z}\\p{c}]\n[:lower:]    å°åå­æ¯å­ç¬¦                [a-z]                               \\p{ll}\n[:print:]    ç±»ä¼¼[:graph:]ï¼ä½åæ¬ç©ºç½å­ç¬¦   [\\x20-\\x7e]                         \\p{c}\n[:punct:]    æ ç¹ç¬¦å·                  [][!\"#$%&'()*+,./:;<=>?@\\^_{|}~-]   [\\p{p}\\p{s}]\n[:space:]    ç©ºç½å­ç¬¦                  [\\t\\r\\n\\v\\f]                        [\\p{z}\\t\\r\\n\\v\\f]\n[:upper:]    å¤§åå­æ¯å­ç¬¦                [a-z]                               \\p{lu}\n[:word:]     å­æ¯å­ç¬¦                  [a-za-z0-9_]                        [\\p{l}\\p{n}\\p{pc}]\n[:xdigit:]   åå­è¿å¶å­ç¬¦                [a-fa-f0-9]                         [a-fa-f0-9]\n\n\n# unicodeå¤ç\n\nå¨.netãjavaãjavascriptãpythonçæ­£åè¡¨è¾¾å¼ä¸­ï¼å¯ä»¥ç¨\\uxxxxè¡¨ç¤ºä¸ä¸ªunicodeå­ç¬¦ï¼å¶ä¸­xxxxä¸ºåä½16è¿å¶æ°å­ã\n\nunicodeå­ç¬¦çä¸ç§æ§è´¨ï¼\n\n * unicode propertyï¼å­ç¬¦å±äºæ ç¹ãç©ºæ ¼ãå­æ¯ç­ç­ãæ¯ä¸ªunicodeå­ç¬¦åªè½å±äºå¯ä¸unicode propertyã.netãjavaãphpårubyç­è¯­è¨æ¯æãå·ä½åç±»ä¸ºï¼\n   * å­ç¬¦\\p{l}\n     * \\p{ll}æ\\p{lowercase_letter}ï¼å°åå­ç¬¦ï¼å¿é¡»æå¤§åçå½¢å¼ï¼ã\n     * \\p{lu}æ\\p{uppercase_letter}ï¼å¤§åå­ç¬¦ï¼å¿é¡»æå°åçå½¢å¼ï¼ã\n     * \\p{lt}æ\\p{titlecase_letter}ï¼å¨è¯é¦å­æ¯å¤§åçå­ç¬¦ã\n     * \\p{l&}æ\\p{cased_letter}ï¼å­å¨å¤§å°åå½¢å¼çå­ç¬¦ï¼ll,Â lu,Â ltçç»åï¼ã\n     * \\p{lm}æ\\p{modifier_letter}ï¼é³æ ä¿®é¥°å­ç¬¦ã\n     * \\p{lo}æ\\p{other_letter}ï¼ä¸å·æå¤§å°åçå­ç¬¦æå­å½¢ã\n   * éå ç¬¦å·\\p{m}\n     * \\p{mn}æ\\p{non_spacing_mark}ï¼ä¸å¶ä»å­ç¬¦ç»åï¼ä¸é¢å¤å ç¨ç©ºé´çå­ç¬¦ï¼ä¾å¦æ¥è³æ¼è¯­åé³åé³ã\n     * \\p{mc}æ\\p{spacing_combining_mark}ï¼ä¸å¶ä»å­ç¬¦ç»åï¼é¢å¤å ç¨ç©ºé´çå­ç¬¦ï¼ä¾å¦é©¬æéæå§æ#åé³å­æ¯åéæ )ã\n     * \\p{me}æ\\p{enclosing_mark}ï¼åå«å¶ä»å­ç¬¦çå­ç¬¦ï¼ä¾å¦ååãæ¹åã\n   * åéç¬¦\\p{z}\n     * \\p{zs}æ\\p{space_separator}ï¼ä¸å¯è§çç©ºæ ¼ï¼ä½å æ®ç©ºé´ã\n     * \\p{zl}æ\\p{line_separator}ï¼åéçº¿å­ç¬¦u+2028ã\n     * \\p{zp}æ\\p{paragraph_separator}ï¼åæ®µå­ç¬¦u+2029ã\n   * ç¬¦å·\\p{s}\n     * \\p{sm}æ\\p{math_symbol}ï¼æ°å­¦ç¬¦å·ã\n     * \\p{sc}æ\\p{currency_symbol}ï¼éè´§ç¬¦å·ã\n     * \\p{sk}æ\\p{modifier_symbol}ï¼ç»åä¸ºå¶ä»å­ç¬¦çç¬¦å·ã\n     * \\p{so}æ\\p{other_symbol}ï¼å¶ä»ç¬¦å·ã\n   * æ°å¼å­ç¬¦\\p{n}\n     * \\p{nd}æ\\p{decimal_digit_number}ï¼ææææ¬ä¸­çæ°å­0è³9å­ç¬¦ï¼ä¸å«å½¢æç¬¦å·)ã\n     * \\p{nl}æ\\p{letter_number}ï¼çèµ·æ¥åå­æ¯çç¬¦å·ï¼åå«ç½é©¬æ°å­ã\n     * \\p{no}æ\\p{other_number}ï¼ä¸è§æ æä¸è§æ æ°å­ï¼æèå¶ä»ä¸å±äº0è³9çæ°å­ãä¸å«å½¢æç¬¦å·ã\n   * æ ç¹ç¬¦å·\\p{p}\n     * \\p{pd}æ\\p{dash_punctuation}ï¼ä»»ä½ç§ç±»çè¿å­å·æè¿æ¥å·ã\n     * \\p{ps}æ\\p{open_punctuation}ï¼ä»»ä½ç§ç±»å¼æ¬å·ã\n     * \\p{pe}æ\\p{close_punctuation}ï¼ä»»ä½ç§ç±»é­æ¬å·ã\n     * \\p{pi}æ\\p{initial_punctuation}ï¼ä»»ä½ç§ç±»å¼å¼å·ã\n     * \\p{pf}æ\\p{final_punctuation}ï¼ä»»ä½ç§ç±»é­å¼å·ã\n     * \\p{pc}æ\\p{connector_punctuation}ï¼è¿æ¥è¯çæ ç¹ç¬¦å·ï¼å¦ä¸åçº¿ã\n     * \\p{po}æ\\p{other_punctuation}ï¼å¶ä»æ ç¹ç¬¦å·ã\n   * å¶å®ç¬¦å·\\p{c}ï¼åæ¬ä¸å¯è§æ§å¶å­ç¬¦ä¸æªç¨ç ä½ï¼\n     * \\p{cc}æ\\p{control}ï¼asciiælatin-1æ§å¶å­ç¬¦0x00-0x1fä¸0x7f-0x9fã\n     * \\p{cf}æ\\p{format}ï¼ä¸å¯è§çæ ¼å¼åæç¤ºå­ç¬¦ã\n     * \\p{co}æ\\p{private_use}ï¼ç§ç¨ç ä½ã\n     * \\p{cs}æ\\p{surrogate}ï¼utf-16ç¼ç çä»£çå¯¹çä¸åã\n     * \\p{cn}æ\\p{unassigned}ï¼æªè¢«ä½¿ç¨çç ä½ã\n * unicode blockï¼æç§ç¼ç åºé´ååunicodeå­ç¬¦ï¼æ¯ä¸ªunicode blockä¸­çå­ç¬¦ç¼ç å±äºä¸ä¸ªç¼ç åºé´ãä¾å¦javaè¯­è¨\\p{ incjk_compatibility_ideographs }ï¼.netè¯­è¨\\p{iscjk_compatibility_ideographs}ã\n * unicode scriptï¼æç§å­ç¬¦æå±çä¹¦åç³»ç»æ¥ååunicodeå­ç¬¦ãphpårubyï¼çæ¬ä¸ä½äº1.9ï¼æ¯æunicode scriptãä¾å¦\\p{han}è¡¨ç¤ºæ±å­ï¼ä¸­æå­ç¬¦ï¼ã\n\nè¿ä¸ç§unicodeæ§è´¨å¯¹åºçå­ç¬¦ç»è¡¥éæ¯å°å¼å¤´ç\\pæ¹ä¸º\\pï¼å¶å®ä¸åã\n\n\n# ä¼åçº§\n\nä¼åæ   ç¬¦å·\næé«    \\\né«     ()ã(?:)ã(?=)ã[]\nä¸­     *ã+ã?ã{n}ã{n,}ã{n,m}\nä½     ^ã$ãä¸­ä»å­ç¬¦\næ¬¡æä½   ä¸²æ¥ï¼å³ç¸é»å­ç¬¦è¿æ¥å¨ä¸èµ·\næä½    |\n\n\n# è¯­ç³»å¯¹æ­£è§è¡¨ç¤ºæ³çå½±å\n\næ¢ç¶æ­£è§è¡¨ç¤ºæ³æ¯å¤çå­ç¬¦ä¸²çä¸ç§è¡¨ç¤ºæ¹å¼ï¼é£ä¹å¯¹å­ç¬¦æåºæå½±åçè¯­ç³»æ°æ®å°±ä¼å¯¹æ­£è§è¡¨ç¤ºæ³çç»ææå½±åï¼\n\nä¸ºä»ä¹è¯­ç³»çæ°æ®ä¼å½±åå°æ­£è§è¡¨ç¤ºæ³çè¾åºç»æå¢ï¼æä»¬å¨ç¬¬é¶ç« è®¡ç®å¨æ¦è®ºçæå­ç¼ç ç³»ç»éé¢è°å°ï¼æä»¶å¶å®è®°å½çä»æ 0 ä¸ 1ï¼æä»¬çå°çå­ç¬¦æå­ä¸æ°å­é½æ¯éè¿ç¼ç è¡¨è½¬æ¢æ¥çãç±äºä¸åè¯­ç³»çç¼ç æ°æ®å¹¶ä¸ç¸åï¼æä»¥å°±ä¼é ææ°æ®æ·åç»æçå·®å¼äºã ä¸¾ä¾æ¥è¯´ï¼å¨è±æå¤§å°åçç¼ç é¡ºåºä¸­ï¼zh_tw.big5 å c è¿ä¸¤ç§è¯­ç³»çè¾åºç»æåå«å¦ä¸ï¼ ï·\n\n * lang=c æ¶ï¼0 1 2 3 4 ... a b c d ... z a b c d ...z\n * lang=zh_tw æ¶ï¼0 1 2 3 4 ... a a b b c c d d ... z z\n\nä¸é¢çé¡ºåºæ¯ç¼ç çé¡ºåºï¼æä»¬å¯ä»¥å¾æ¸æ¥çåç°è¿ä¸¤ç§è¯­ç³»ææ¾å°±æ¯ä¸ä¸æ ·ï¼å¦æä½ æ³è¦æ·åå¤§åå­ç¬¦èä½¿ç¨ [a-z] æ¶ï¼ ä¼åç° lang=c ç¡®å®å¯ä»¥ä»æå°å¤§åå­ç¬¦ (å ä¸ºæ¯è¿ç»­ç) ï¼ä½æ¯å¦ælang=zh_tw.big5 æ¶ï¼å°±ä¼åç°å°ï¼ è¿åå°åç b-z ä¹ä¼è¢«æ·ååºæ¥ï¼å ä¸ºå°±ç¼ç çé¡ºåºæ¥çï¼big5 è¯­ç³»å¯ä»¥æ·åå°ã a b b c c ... z z ãè¿ä¸å å­ç¬¦å©ï¼ æä»¥ï¼ä½¿ç¨æ­£è§è¡¨ç¤ºæ³æ¶ï¼éè¦ç¹å«çæå½æ¶ç¯å¢çè¯­ç³»ä¸ºä½ï¼ å¦åå¯è½ä¼åç°ä¸å«äººä¸ç¸åçæ·åç»æåï¼\n\nç±äºä¸è¬æä»¬å¨ç»ä¹ æ­£è§è¡¨ç¤ºæ³æ¶ï¼ä½¿ç¨çæ¯å¼å®¹äº posix çæ åï¼å æ­¤å°±ä½¿ç¨ã c ãè¿ä¸ªè¯­ç³»ï¼ å æ­¤ï¼åºä¸çå¾å¤ç»ä¹ é½æ¯ä½¿ç¨ã lang=c ãè¿ä¸ªè¯­ç³»æ°æ®æ¥è¿è¡çåï¼ å¦å¤ï¼ä¸ºäºè¦é¿åè¿æ ·ç¼ç æé æçè±æä¸æ°å­çæ·åé®é¢ï¼å æ­¤æäºç¹æ®çç¬¦å·æä»¬å¾è¦äºè§£ä¸ä¸çï¼ è¿äºç¬¦å·ä¸»è¦æåºä¸è¿äºæä¹ï¼\n\n\n# æ­£åè¡¨è¾¾å¼åºæ¬è¯­æ³\n\n----------------------------------------\n\nå­ç¬¦             æè¿°\n\\              å°ä¸ä¸ä¸ªå­ç¬¦æ è®°ä¸ºä¸ä¸ªç¹æ®å­ç¬¦ï¼file format escapeï¼æ¸åè§æ¬è¡¨ï¼ãæä¸ä¸ªåä¹å­ç¬¦ï¼identity\n               escapeï¼æ^$()*+?.[\\{|å±è®¡12ä¸ªï¼ãæä¸ä¸ªååå¼ç¨ï¼backreferencesï¼ãæä¸ä¸ªå«è¿å¶è½¬ä¹ç¬¦ãä¾å¦ï¼ânâå¹éå­ç¬¦ânâãâ\\nâå¹éä¸ä¸ªæ¢è¡ç¬¦ãåºåâ\\\\âå¹éâ\\âèâ\\(âåå¹éâ(âã\n^              å¹éè¾å¥å­ç¬¦ä¸²çå¼å§ä½ç½®ãå¦æè®¾ç½®äºregexpå¯¹è±¡çmultilineå±æ§ï¼^ä¹å¹éâ\\nâæâ\\râä¹åçä½ç½®ã\n$              å¹éè¾å¥å­ç¬¦ä¸²çç»æä½ç½®ãå¦æè®¾ç½®äºregexpå¯¹è±¡çmultilineå±æ§ï¼$ä¹å¹éâ\\nâæâ\\râä¹åçä½ç½®ã\n*              å¹éåé¢çå­è¡¨è¾¾å¼é¶æ¬¡æå¤æ¬¡ãä¾å¦ï¼zo*è½å¹éâzâãâzoâä»¥åâzooâã*ç­ä»·äº{0,}ã\n+              å¹éåé¢çå­è¡¨è¾¾å¼ä¸æ¬¡æå¤æ¬¡ãä¾å¦ï¼âzo+âè½å¹éâzoâä»¥åâzooâï¼ä½ä¸è½å¹éâzâã+ç­ä»·äº{1,}ã\n?              å¹éåé¢çå­è¡¨è¾¾å¼é¶æ¬¡æä¸æ¬¡ãä¾å¦ï¼âdo(es)?âå¯ä»¥å¹éâdoesâä¸­çâdoâåâdoesâã?ç­ä»·äº{0,1}ã\n{n}            næ¯ä¸ä¸ªéè´æ´æ°ãå¹éç¡®å®çnæ¬¡ãä¾å¦ï¼âo{2}âä¸è½å¹éâbobâä¸­çâoâï¼ä½æ¯è½å¹éâfoodâä¸­çä¸¤ä¸ªoã\n{n,}           næ¯ä¸ä¸ªéè´æ´æ°ãè³å°å¹énæ¬¡ãä¾å¦ï¼âo{2,}âä¸è½å¹éâbobâä¸­çâoâï¼ä½è½å¹éâfooooodâä¸­çææoãâo{1,}âç­ä»·äºâo+âãâo{0,}âåç­ä»·äºâo*âã\n{n,m}          månåä¸ºéè´æ´æ°ï¼å¶ä¸­n<=mãæå°å¹énæ¬¡ä¸æå¤å¹émæ¬¡ãä¾å¦ï¼âo{1,3}âå°å¹éâfoooooodâä¸­çåä¸ä¸ªoãâo{0,1}âç­ä»·äºâo?âãè¯·æ³¨æå¨éå·åä¸¤ä¸ªæ°ä¹é´ä¸è½æç©ºæ ¼ã\n?              éè´ªå¿éåï¼non-greedy\n               quantifiersï¼ï¼å½è¯¥å­ç¬¦ç´§è·å¨ä»»ä½ä¸ä¸ªå¶ä»éå¤ä¿®é¥°ç¬¦ï¼*,+,?ï¼{n}ï¼{n,}ï¼{n,m}ï¼åé¢æ¶ï¼å¹éæ¨¡å¼æ¯éè´ªå©ªçãéè´ªå©ªæ¨¡å¼å°½å¯è½å°çå¹éææç´¢çå­ç¬¦ä¸²ï¼èé»è®¤çè´ªå©ªæ¨¡å¼åå°½å¯è½å¤çå¹éææç´¢çå­ç¬¦ä¸²ãä¾å¦ï¼å¯¹äºå­ç¬¦ä¸²âooooâï¼âo+?âå°å¹éåä¸ªâoâï¼èâo+âå°å¹éææâoâã\n.              å¹éé¤â\\rââ\\nâä¹å¤çä»»ä½åä¸ªå­ç¬¦ãè¦å¹éåæ¬â\\rââ\\nâå¨åçä»»ä½å­ç¬¦ï¼è¯·ä½¿ç¨åâ(.|\\r|\\n)âçæ¨¡å¼ã\n(pattern)      å¹épatternå¹¶è·åè¿ä¸å¹éçå­å­ç¬¦ä¸²ãè¯¥å­å­ç¬¦ä¸²ç¨äºååå¼ç¨ãæè·åçå¹éå¯ä»¥ä»äº§ççmatcheséåå¾å°ï¼å¨vbscriptä¸­ä½¿ç¨submatcheséåï¼å¨jscriptä¸­åä½¿ç¨$0â¦$9å±æ§ãè¦å¹éåæ¬å·å­ç¬¦ï¼è¯·ä½¿ç¨â\\(âæâ\\)âãå¯å¸¦æ°éåç¼ã\n(?:pattern)    å¹épatternä½ä¸è·åå¹éçå­å­ç¬¦ä¸²ï¼shy\n               groupsï¼ï¼ä¹å°±æ¯è¯´è¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¸å­å¨å¹éçå­å­ç¬¦ä¸²ç¨äºååå¼ç¨ãè¿å¨ä½¿ç¨æå­ç¬¦â(|)âæ¥ç»åä¸ä¸ªæ¨¡å¼çåä¸ªé¨åæ¯å¾æç¨ãä¾å¦âindustr(?:y|ies)âå°±æ¯ä¸ä¸ªæ¯âindustry|industriesâæ´ç®ç¥çè¡¨è¾¾å¼ã\n(?=pattern)    æ­£åè¯å®é¢æ¥ï¼look ahead positive\n               assertï¼ï¼å¨ä»»ä½å¹épatternçå­ç¬¦ä¸²å¼å§å¤å¹éæ¥æ¾å­ç¬¦ä¸²ãè¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¹å°±æ¯è¯´ï¼è¯¥å¹éä¸éè¦è·åä¾ä»¥åä½¿ç¨ãä¾å¦ï¼âwindows(?=95|98|nt|2000)âè½å¹éâwindows2000âä¸­çâwindowsâï¼ä½ä¸è½å¹éâwindows3.1âä¸­çâwindowsâãé¢æ¥ä¸æ¶èå­ç¬¦ï¼ä¹å°±æ¯è¯´ï¼å¨ä¸ä¸ªå¹éåçåï¼å¨æåä¸æ¬¡å¹éä¹åç«å³å¼å§ä¸ä¸æ¬¡å¹éçæç´¢ï¼èä¸æ¯ä»åå«é¢æ¥çå­ç¬¦ä¹åå¼å§ã\n(?!pattern)    æ­£åå¦å®é¢æ¥ï¼negative\n               assertï¼ï¼å¨ä»»ä½ä¸å¹épatternçå­ç¬¦ä¸²å¼å§å¤å¹éæ¥æ¾å­ç¬¦ä¸²ãè¿æ¯ä¸ä¸ªéè·åå¹éï¼ä¹å°±æ¯è¯´ï¼è¯¥å¹éä¸éè¦è·åä¾ä»¥åä½¿ç¨ãä¾å¦âwindows(?!95|98|nt|2000)âè½å¹éâwindows3.1âä¸­çâwindowsâï¼ä½ä¸è½å¹éâwindows2000âä¸­çâwindowsâãé¢æ¥ä¸æ¶èå­ç¬¦ï¼ä¹å°±æ¯è¯´ï¼å¨ä¸ä¸ªå¹éåçåï¼å¨æåä¸æ¬¡å¹éä¹åç«å³å¼å§ä¸ä¸æ¬¡å¹éçæç´¢ï¼èä¸æ¯ä»åå«é¢æ¥çå­ç¬¦ä¹åå¼å§\n(?<=pattern)   ååï¼look\n               behindï¼è¯å®é¢æ¥ï¼ä¸æ­£åè¯å®é¢æ¥ç±»ä¼¼ï¼åªæ¯æ¹åç¸åãä¾å¦ï¼â(?<=95|98|nt|2000)windowsâè½å¹éâ2000windowsâä¸­çâwindowsâï¼ä½ä¸è½å¹éâ3.1windowsâä¸­çâwindowsâã\n(?<!pattern)   ååå¦å®é¢æ¥ï¼ä¸æ­£åå¦å®é¢æ¥ç±»ä¼¼ï¼åªæ¯æ¹åç¸åãä¾å¦â(?<!95|98|nt|2000)windowsâè½å¹éâ3.1windowsâä¸­çâwindowsâï¼ä½ä¸è½å¹éâ2000windowsâä¸­çâwindowsâã\nx|y            æ²¡æåå´å¨()éï¼å¶èå´æ¯æ´ä¸ªæ­£åè¡¨è¾¾å¼ãä¾å¦ï¼âz|foodâè½å¹éâzâæâfoodâãâ(?:z|f)oodâåå¹éâzoodâæâfoodâã\n[xyz]          å­ç¬¦éåï¼character\n               classï¼ãå¹éæåå«çä»»æä¸ä¸ªå­ç¬¦ãä¾å¦ï¼â[abc]âå¯ä»¥å¹éâplainâä¸­çâaâãç¹æ®å­ç¬¦ä»æåæçº¿\\ä¿æç¹æ®å«ä¹ï¼ç¨äºè½¬ä¹å­ç¬¦ãå¶å®ç¹æ®å­ç¬¦å¦æå·ãå å·ãåç§æ¬å·ç­åä½ä¸ºæ®éå­ç¬¦ãè±å­ç¬¦^å¦æåºç°å¨é¦ä½åè¡¨ç¤ºè´å¼å­ç¬¦éåï¼å¦æåºç°å¨å­ç¬¦ä¸²ä¸­é´å°±ä»ä½ä¸ºæ®éå­ç¬¦ãè¿å­ç¬¦\n               -\n               å¦æåºç°å¨å­ç¬¦ä¸²ä¸­é´è¡¨ç¤ºå­ç¬¦èå´æè¿°ï¼å¦æå¦æåºç°å¨é¦ä½ï¼ææ«å°¾ï¼åä»ä½ä¸ºæ®éå­ç¬¦ãå³æ¹æ¬å·åºè½¬ä¹åºç°ï¼ä¹å¯ä»¥ä½ä¸ºé¦ä½å­ç¬¦åºç°ã\n[^xyz]         æé¤åå­ç¬¦éåï¼negated character\n               classesï¼ãå¹éæªååºçä»»æå­ç¬¦ãä¾å¦ï¼â[^abc]âå¯ä»¥å¹éâplainâä¸­çâplinâã\n[a-z]          å­ç¬¦èå´ãå¹éæå®èå´åçä»»æå­ç¬¦ãä¾å¦ï¼â[a-z]âå¯ä»¥å¹éâaâå°âzâèå´åçä»»æå°åå­æ¯å­ç¬¦ã\n[^a-z]         æé¤åçå­ç¬¦èå´ãå¹éä»»ä½ä¸å¨æå®èå´åçä»»æå­ç¬¦ãä¾å¦ï¼â[^a-z]âå¯ä»¥å¹éä»»ä½ä¸å¨âaâå°âzâèå´åçä»»æå­ç¬¦ã\n[:name:]       å¢å å½åå­ç¬¦ç±»ï¼named character classï¼ãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n[=elt=]        å¢å å½ålocaleä¸æåºï¼collateï¼ç­ä»·äºå­ç¬¦âeltâçåç´ ãä¾å¦ï¼[=a=]å¯è½ä¼å¢å aãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãaãâ±¥ãá¶ãÉãÉ\n               ãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n[.elt.]        å¢å æåºåç´ ï¼collation\n               elementï¼eltå°è¡¨è¾¾å¼ä¸­ãè¿æ¯å ä¸ºæäºæåºåç´ ç±å¤ä¸ªå­ç¬¦ç»æãä¾å¦ï¼29ä¸ªå­æ¯è¡¨çè¥¿ç­çè¯­ï¼\n               \"ch\"ä½ä¸ºåä¸ªå­æ¯æå¨å­æ¯cä¹åï¼å æ­¤ä¼äº§çå¦æ­¤æåºâcinco, credo,\n               chispaâãåªè½ç¨äºæ¹æ¬å·è¡¨è¾¾å¼ã\n\\b             å¹éä¸ä¸ªåè¯è¾¹çï¼ä¹å°±æ¯æåè¯åç©ºæ ¼é´çä½ç½®ãä¾å¦ï¼âer\\bâå¯ä»¥å¹éâneverâä¸­çâerâï¼ä½ä¸è½å¹éâverbâä¸­çâerâã\n\\b             å¹ééåè¯è¾¹çãâer\\bâè½å¹éâverbâä¸­çâerâï¼ä½ä¸è½å¹éâneverâä¸­çâerâã\n\\cx            å¹éç±xææçæ§å¶å­ç¬¦ãxçå¼å¿é¡»ä¸ºa-zæa-zä¹ä¸ãå¦åï¼å°cè§ä¸ºä¸ä¸ªåä¹çâcâå­ç¬¦ãæ§å¶å­ç¬¦çå¼ç­äºxçå¼æä½5æ¯ç¹ï¼å³å¯¹3210è¿å¶çä½æ°ï¼ãä¾å¦ï¼\\cmå¹éä¸ä¸ªcontrol-mæåè½¦ç¬¦ã\\caç­æäº\\u0001,\n               \\cbç­æäº\\u0002, ç­ç­â¦\n\\d             å¹éä¸ä¸ªæ°å­å­ç¬¦ãç­ä»·äº[0-9]ãæ³¨æunicodeæ­£åè¡¨è¾¾å¼ä¼å¹éå¨è§æ°å­å­ç¬¦ã\n\\d             å¹éä¸ä¸ªéæ°å­å­ç¬¦ãç­ä»·äº[^0-9]ã\n\\f             å¹éä¸ä¸ªæ¢é¡µç¬¦ãç­ä»·äº\\x0cå\\clã\n\\n             å¹éä¸ä¸ªæ¢è¡ç¬¦ãç­ä»·äº\\x0aå\\cjã\n\\r             å¹éä¸ä¸ªåè½¦ç¬¦ãç­ä»·äº\\x0då\\cmã\n\\s             å¹éä»»ä½ç©ºç½å­ç¬¦ï¼åæ¬ç©ºæ ¼ãå¶è¡¨ç¬¦ãæ¢é¡µç¬¦ç­ç­ãç­ä»·äº[\\f\\n\\r\\t\\v]ãæ³¨æunicodeæ­£åè¡¨è¾¾å¼ä¼å¹éå¨è§ç©ºæ ¼ç¬¦ã\n\\s             å¹éä»»ä½éç©ºç½å­ç¬¦ãç­ä»·äº[^ \\f\\n\\r\\t\\v]ã\n\\t             å¹éä¸ä¸ªå¶è¡¨ç¬¦ãç­ä»·äº\\x09å\\ciã\n\\v             å¹éä¸ä¸ªåç´å¶è¡¨ç¬¦ãç­ä»·äº\\x0bå\\ckã\n\\w             å¹éåæ¬ä¸åçº¿çä»»ä½åè¯å­ç¬¦ãç­ä»·äºâ[a-za-z0-9_]âãæ³¨æunicodeæ­£åè¡¨è¾¾å¼ä¼å¹éä¸­æå­ç¬¦ã\n\\w             å¹éä»»ä½éåè¯å­ç¬¦ãç­ä»·äºâ[^a-za-z0-9_]âã\n\\xnn           åå­è¿å¶è½¬ä¹å­ç¬¦åºåãå¹éä¸¤ä¸ªåå­è¿å¶æ°å­nnè¡¨ç¤ºçå­ç¬¦ãä¾å¦ï¼â\\x41âå¹éâaâãâ\\x041âåç­ä»·äºâ\\x04&1âãæ­£åè¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç¨asciiç¼ç ã.\n\\num           ååå¼ç¨ï¼back-referenceï¼ä¸ä¸ªå­å­ç¬¦ä¸²ï¼substringï¼ï¼è¯¥å­å­ç¬¦ä¸²ä¸æ­£åè¡¨è¾¾å¼çç¬¬numä¸ªç¨æ¬å·å´èµ·æ¥çææç¾¤ï¼capture\n               groupï¼å­è¡¨è¾¾å¼ï¼subexpressionï¼å¹éãå¶ä¸­numæ¯ä»1å¼å§çåè¿å¶æ­£æ´æ°ï¼å¶ä¸éå¯è½æ¯9ï¼å½åå­ç¬¦ç±»breä¸grepæå¤åªè½ååå¼ç¨å°9ï¼visual\n               c++çregexåºæå¤åªè½ååå¼ç¨å°31ï¼ecmascriptä¸éååå¼ç¨çä¸éï¼ãä¾å¦ï¼â(.)\\1âå¹éä¸¤ä¸ªè¿ç»­çç¸åå­ç¬¦ã\n\\n             æ è¯ä¸ä¸ªå«è¿å¶è½¬ä¹å¼æä¸ä¸ªååå¼ç¨ãå¦æ\\nä¹åè³å°nä¸ªè·åçå­è¡¨è¾¾å¼ï¼ånä¸ºååå¼ç¨ãå¦åï¼å¦ænä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼ånä¸ºä¸ä¸ªå«è¿å¶è½¬ä¹å¼ã\n\\nm            3ä½å«è¿å¶æ°å­ï¼æ è¯ä¸ä¸ªå«è¿å¶è½¬ä¹å¼æä¸ä¸ªååå¼ç¨ãå¦æ\\nmä¹åè³å°ænmä¸ªè·å¾å­è¡¨è¾¾å¼ï¼ånmä¸ºååå¼ç¨ãå¦æ\\nmä¹åè³å°ænä¸ªè·åï¼ånä¸ºä¸ä¸ªåè·æå­mçååå¼ç¨ãå¦æåé¢çæ¡ä»¶é½ä¸æ»¡è¶³ï¼è¥nåmåä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼å\\nmå°å¹éå«è¿å¶è½¬ä¹å¼nmã\n\\nml           å¦ænä¸ºå«è¿å¶æ°å­ï¼0-3ï¼ï¼ä¸målåä¸ºå«è¿å¶æ°å­ï¼0-7ï¼ï¼åå¹éå«è¿å¶è½¬ä¹å¼nmlã\n\\un            unicodeè½¬ä¹å­ç¬¦åºåãå¶ä¸­næ¯ä¸ä¸ªç¨åä¸ªåå­è¿å¶æ°å­è¡¨ç¤ºçunicodeå­ç¬¦ãä¾å¦ï¼\\u00a9å¹éèä½æç¬¦å·ï¼Â©ï¼ã\n\n\n# ååå¼ç¨\n\n-- 1. åä¸ªæ­£ååä½¿ç¨\n^\\d{4}([-/])\\d{2}\\1\\d{2}$\n-- 2. æååç»­ä½¿ç¨\ngrep -e $reg1 \"$path/\"custom*.log | sed -e \"s#$reg2#insert into xxx(xx, xx, xx, xx, xx, xx, xx) values('\\1','\\2','\\3',\\4,\\5,\\6,'\\7');#g\" > \"$file\"\n\n\n\n# å¹éä¸­æ\n\n----------------------------------------\n\nåèé¾æ¥ï¼https://www.cnblogs.com/animalize/p/5432864.html\n\nä»¥ä¸æ¯æ¯è¾å¨é¢çæ±å­unicodeåå¸ï¼åèunicode 10.0æ åï¼2017å¹´6æåå¸ï¼ï¼\n\nåºå            èå´                                                 å®éæ±å­ä¸ªæ°/å¤æ³¨          æ­£åå¼\ncjkç»ä¸æ±å­       4e00-62ff, 6300-77ff,7800-8cff, 8d00-9fff          20,971å¸¸è§           [\\u4e00-\\u9fff] æ[ä¸-é¿]\ncjkç»ä¸æ±å­æ©å±aåº   3400-4dbf                                          6,582ç½è§            [\\u3400-\\u4dbf]\ncjkç»ä¸æ±å­æ©å±båº   20000-215ff, 21600-230ff,23100-245ff,              42,711ç½è§ï¼åå²        [\\u00020000-\\u0002a6df]\n              24600-260ff,26100-275ff, 27600-290ff,29100-2a6df\ncjkç»ä¸æ±å­æ©å±cåº   2a700-2b73f                                        4,149ç½è§ï¼åå²         [\\u0002a700-\\u0002b73f]\ncjkç»ä¸æ±å­æ©å±dåº   2b740â2b81f                                        222ä¸å¸¸è§ï¼ä»å¨ä½¿ç¨        [\\u0002b740-\\u0002b81f]\ncjkç»ä¸æ±å­æ©å±eåº   2b820â2ceaf                                        5,762ç½è§ï¼åå²         [\\u0002b820-\\u0002ceaf]\ncjkç»ä¸æ±å­æ©å±fåº   2ceb0-2ebef                                        7,473ç½è§ï¼åå²         [\\u0002ceb0-\\u0002ebef]\ncjkå¼å®¹æ±å­       f900âfaff                                          472éå¤ãå¯ç»ä¸åä½ãå¬å¸å®ä¹   [\\uf900-\\ufaff]\ncjkå¼å®¹æ±å­å¢è¡¥     2f800-2fa1f                                        542å¯ç»ä¸åä½           [\\u0002f800-\\u0002fa1f]\n\nâå¦ææ³è¡¨ç¤ºææ®éçæ±å­\n\nç¨ï¼[\\u4e00-\\u9fff] æ [ä¸-é¿] å±æ20950ä¸ªæ±å­ï¼åæ¬äºå¸¸ç¨ç®ä½å­åç¹ä½å­ï¼éç­å­ã åºæ¬å°±æ¯gbkçææï¼21003ä¸ªï¼æ±å­ãä¹åæ¬äºbig5çææï¼13053ä¸ªï¼ç¹ä½æ±å­ã ä¸è¬æåµä¸è¿ä¸ªå°±å¤ç¨äºã\n\n> è¯´æï¼ä»ä»æªåæ¬åºç°å¨gbkéçcjkå¼å®¹æ±å­ç21ä¸ªæ±å­ï¼éåç§è£é£ååï¨ï¨ï¨ï¨ï¨ç¤¼ï¨èï¨¡ï¨£ï¨¤ï¨§ï¨¨ï¨© cjkå¼å®¹æ±å­ç¨äºè½¬ç å¤çï¼æ¥å¸¸ä¸­æ¯ç¨ä¸å°çï¼æä»¥ä¸åæ¬ä¹æ²¡ä»ä¹é®é¢ã æ³¨ææ­¤åéå½¼åï¼åä¹ä¸æ¯å¸¸ç¨çé£ä¸ªï¼è½ç¶ç¨ç¼ççæ¯ä¸æ ·çï¼åè§ http://www.zhihu.com/question/20697984\n\nâå¦ææ³è¡¨ç¤ºbmpä¹åçæ±å­\n\nä¹å°±æ¯unicodeå¼<=0xffffä¹åçæææ±å­ï¼ç¨ï¼[\\u4e00-\\u9fff\\u3400-\\u4dbf\\uf900-\\ufaff]ï¼è¿ä¸ªåå«ä½ä¸éäºgbkå®ä¹çæ±å­ï¼å±æ28025ä¸ªæ±å­ã\n\n> è¯´æï¼åä¸é¢ç¸æ¯ï¼ä¸»è¦æ¯å¤äºcjkç»ä¸æ±å­æ©å±aåºï¼è¿æ¯1999å¹´æ¶å½å°unicode 3.0æ åéç6,582ä¸ªæ±å­ã cjkç»ä¸æ±å­æ©å±aåºï¼åæ¬äºä¸äºåå°åºï¼éæ¸¯å°æ¥é©æ°è¶ï¼çæ±å­ï¼æå¾å¤åº·çå­å¸çç¹ä½å­ã\n\nâ å¦ææ³å°½å¯è½è¡¨ç¤ºææçæ±å­\n\nç¨ï¼[\\u4e00-\\u9fff\\u3400-\\u4dbf\\uf900-\\ufaff\\u00020000-u0002ebef]è¿ä¸ªåå«ä¸è¡¨çææ88342ä¸ªæ±å­\n\n> è¯´æï¼ 1, ä»¥ä¸æ­£åè¡¨è¾¾å¼ä¸ä¼å¹éï¼è±æãæ±å­çï¼æ ç¹ç¬¦å·ï¼ä¸ä¼å¹éé©å½æ¼é³å­ãæ¥æ¬ååã 2, ä¼å¹éä¸äºæ¥æ¬ãé©å½ç¬æçæ±å­ã 3, åå«äºä¸äºæ²¡ææ±å­çç©ºä½ç½®ï¼è¿éå¸¸ä¸ç¢äºã 4, \\uå\\uçæ­£åè¯­æ³å¨python 3.5ä¸æµè¯éè¿ã æäºæ­£åè¡¨è¾¾å¼å¼æä¸è®¤\\uffffå\\uffffffffè¿æ ·çè¯­æ³ï¼å¯ä»¥æ¢æ\\x{ffff}è¯ä¸ä¸ï¼æäºä¸æ¯æbmpä¹å¤çèå´ï¼è¿å°±æ²¡åæ³å¤çcjkç»ä¸æ±å­æ©å±b~eåºäºï¼å¦notepad++ã",charsets:{cjk:!0},lastUpdated:"2025/04/18, 12:12:36",lastUpdatedTimestamp:1744949556e3},{title:"æå½",frontmatter:{title:"æå½",date:"2022-03-02T17:42:54.000Z",permalink:"/pages/AXI4oJ/",categories:["å¶ä»","æå½"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/100.%E6%91%98%E5%BD%95/01.%E6%91%98%E5%BD%95.html",relativePath:"04.å¶ä»/100.æå½/01.æå½.md",key:"v-00f00e91",path:"/pages/AXI4oJ/",headers:[{level:2,title:"ä¸ãæå½",slug:"ä¸ãæå½",normalizedTitle:"ä¸ãæå½",charIndex:216},{level:2,title:"äºãæ¯å¤©ä¸éï¼å¿«ä¹åè§",slug:"äºãæ¯å¤©ä¸é-å¿«ä¹åè§",normalizedTitle:"äºãæ¯å¤©ä¸éï¼å¿«ä¹åè§",charIndex:1455}],headersStr:"ä¸ãæå½ äºãæ¯å¤©ä¸éï¼å¿«ä¹åè§",content:'----------------------------------------\n\næ¬æ¥æ ä¸ç©ï¼ä½å¤æå°å\n\n----------------------------------------\n\né»ç¥è¯ Â· æç©º\n\nå«æä¸é´æ¾æªè§ï¼ä¸è¡ä¸æ­¥ï¼ä¸è±æ°ã\næ¿ä½ åç»ä¹ä¹å«åä¸é¾ï¼å½æ¥ä»æ¯é£åªç³å¤´æ¨æ¨ã\né»å¤ç»äºæç«ç¼éçï¼ æè¦ç¨å®ï¼çç©¿å®¿å½ã\n\n----------------------------------------\n\n\n# ä¸ãæå½\n\nââäººç»å°è¢«å¹´å°ä¸å¯å¾ä¹ç©å°å¶ä¸çã\n\nââæ­£å¸¸çç¤¾ä¼å¹¶ä¸æ¯é»ç½åæãéæ­¤å³å½¼çï¼ææ¶åä¸åä¹ä¼åçå²çªã\n\nââäººçæ­£è½å½±åçäººå°ä¹åå°ï¼é£äºè¢«ä½ å½±åçäººï¼åªæ¯çå»çæå¨ã\n\nââäººè¦æ¥åèªå·±çæéæ§ï¼äººçé»è¾ãçæ§ãéè¯»é½æ¯æéçï¼æ´ä¸ªäººå°±æ¯å¨åè§ä¹ä¸­ãäººè¿ä¸çå°±æ¯å¨èµ°åºåè§ã\n\nââäººçä¸­æå¤§ççè¦,å°±æ¯ä½ ç¥éä»ä¹æ¯å¯¹ç,ä½å´æ°¸è¿ååºçæ¯éè¯¯çéæ©,ç¥éååå°è¿ä¸ªå·¨å¤§çé¸¿æ²,ä½ æ°¸è¿æ æ³è·¨è¶ã\n\nââäººçä¸è½å¤ªè¿åæ»¡ï¼æ±èä¸å¾æªå¿æ¯éæ¾ãå ä¸ºï¼äººè¦æ¥åäºä¸æ¿è¿åï¼æä»¬å¤ªæéäºï¼æä»¬åªè½åæä»¬è§å¾æ¯å¯¹çäºï¼ç¶åæ¥åç»æãè¯¯è§£æ¯äººçå¸¸æï¼çè§£ææ¯ç¨ç¼ºçä¾å¤ã\n\nââäººçååæ»¡çææï¼æå¾å¤æå½¢æ å½¢çèè¯ãå¾å¤æ¶åå¢ï¼æä»¬åªè½å°½åèä¸ºï¼ä½æ¯ç»æè¦éæ©è§åº¦ï¼å ä¸ºäººçå¯ä¸ç¡®å®çå°±æ¯ä¸ç¡®å®çäººçãå¨æ¯ä¸ä¸ªäººççéè¦å³å¤´ï¼æä»¬åªéè¦å°½åèä¸ºï¼ä¸çéæ¾ã\n\nââè¡è·¯é¾ï¼ä¸åæ°´ï¼ä¸å¨å±±ï¼åªå¨äººæåå¤é´ã\n\nââä½ è¦å¨è¿éçæ­£å°é«æ­çè¿åä¸è´¥æ¶å°è¿ï¼è¦å¨è¿éåä»ä¹äººçå½è¿ç´§ç´§çº ç¼ è¿ï¼è¦ä¸è¸å¥è¿éçæºåºè½¦ç«å°±è¢«å·¨å¤§çåå¿åææåæ»¡ï¼è¦ç»è¿è¿éåå­£çåç¦æ¸©ææ´çæ®é·ï¼ææèµæ ¼è¯´ï¼èªå·±å±äºè¿ä¸ªåå¸ãææ¾å¨è¿éï¼ä¸é¡¾ä¸åå°æ´»çã\n\n----------------------------------------\n\nââæ¯ä¸ªäººçå¿éé½æä¸å¢ç«ï¼è·¯è¿çäººåªè½çå°çãä½æ¯æ»æä¸ä¸ªäººï¼æ»æé£ä¹ä¸ä¸ªäººè½çå°è¿ç«ï¼ç¶åèµ°è¿æ¥éªæä¸èµ·ã\n\nââæµ·ä¸ææ¯å¤©ä¸æï¼ç¼åäººæ¯å¿ä¸äººã\nââåæ¥å¿æ¯çå®¢å¿ï¼å¥ä½äººæ¯å§ä¸­äººã\n\nââä¹ æ¯ä¼ä½¿æä»¬åæä¼¶ä¿èå¤´èç¬¨æã\n\nââå»çæå¨å¹´è½»çæ¶åä¸åå»äºï¼ç¾¡æå«äººææäºã\n\nââæ§æå¿ä¼¤ï¼ææ·±ä¸å¯¿ï¼å¼ºæåè¾±ï¼è°¦è°¦åå­ï¼æ¸©æ¶¦å¦çã\n\nââå½ä½ é¢åæä¸åº§ä¸å¯é¾è¶çå´å¢æ¶ï¼ä½ åªæä¸æ­çå°è¯è·³èµ·ï¼ä¸ç¶ï¼ä½ æ°¸è¿ä¹çä¸å°ï¼å¢é£è¾¹çå¤©ç©º\n\nââä¸ä¸ªå»çä¸ä¼å ä¸ºçäººçç¾çå¤ªè¿ä¸¥éèä¸å»å»æ²»ä»ï¼ä¿®å¤å¸ä¹æ¯ã\n\nââäººä»¬å¸¸å¸¸è¯´æ°¸è¿ä¸è¦å¨é¥¿çæ¶åéè¶å¸ï¼ä½ ä¼ä¹°ä¸éè¦çä¸è¥¿ï¼ä½ ççæ´»ä¹æ¯å¦æ­¤ï¼æ°¸è¿ä¸è¦å¨å­¤ç¬çæ¶åå¼å¯ä¸æ®µææï¼ä½ å¯è½ä¼éè§éè¯¯çäººï¼ä»ç»æ³ä¸ä¸ï¼å ä¸ºå½ä½ æ å©çæ¶åï¼ä½ ä¼æä½ä»»ä½ä½ æ³è¦çä¸è¥¿ï¼èä¸æ¯çæ­£éè¦çãæå¸æå¤§å®¶é½è½æ¾å°èªå·±çæ­£éè¦çã\n\nââè¥è½æ¾å¿åè³å¬ï¼ä¸ç±ä¿±å¯äº¦æ¯éµã\n\nââæ¨åèµ·äºç½å¡å°é¡¶ï¼ç»å°éºæ»¡é´é¾ä¹å°ã\n\nââå«åå¾äºè¿ä¸å»ï¼å ä¸ºå®å·²ç»è¿å»ï¼å«åç°å®è¿ä¸å»ï¼å ä¸ºä½ è¿è¦è¿ä¸å»ã\n\nââæ äººé®æ´¥ä¹å¥½ï¼æä¸å¦äººä¹ç½¢ï¼ä½ é½è¦è¯çå®éä¸æ¥ï¼å»åèªå·±è¯¥åçäºï¼èä¸æ¯è®©åå¿ç¦èºãç¦èï¼æ¯æä½ æ¬å°±ä¸å¤çç­æåå®åï¼\n\nââè¿ä¸ªä¸çä¸ç¬¬ä¸å¿«ä¹çäººï¼æ¯ä¸éè¦å¯¹å«äººè´è´£çäººï¼ç¬¬äºå¿«ä¹çäººï¼å°±æ¯ä»ä¸åå¤´ççäººãéæ¾è°æ²¡æå¢ï¼äººå¾å¾é½æ¯å¿«æ­»çæ¶åï¼æåç°äººçæå¤§çéæ¾ï¼å°±æ¯ä¸ç´å¨éæ¾è¿å»çéæ¾ãéæ¾å¨çµå½±éæ¯ä¸»è§å´èµ·çåæï¼å¨çæ´»éæ¯è®©äººæ²æ²¦çæ¯è¯ã\n\n----------------------------------------\n\n\n# äºãæ¯å¤©ä¸éï¼å¿«ä¹åè§\n\n<iframe src="https://b23.tv/EKLZ6NM" width="100%" height="600" frameborder="0" scrolling="No" leftmargin="0" topmargin="0"></iframe>\n',normalizedContent:'----------------------------------------\n\næ¬æ¥æ ä¸ç©ï¼ä½å¤æå°å\n\n----------------------------------------\n\né»ç¥è¯ Â· æç©º\n\nå«æä¸é´æ¾æªè§ï¼ä¸è¡ä¸æ­¥ï¼ä¸è±æ°ã\næ¿ä½ åç»ä¹ä¹å«åä¸é¾ï¼å½æ¥ä»æ¯é£åªç³å¤´æ¨æ¨ã\né»å¤ç»äºæç«ç¼éçï¼ æè¦ç¨å®ï¼çç©¿å®¿å½ã\n\n----------------------------------------\n\n\n# ä¸ãæå½\n\nââäººç»å°è¢«å¹´å°ä¸å¯å¾ä¹ç©å°å¶ä¸çã\n\nââæ­£å¸¸çç¤¾ä¼å¹¶ä¸æ¯é»ç½åæãéæ­¤å³å½¼çï¼ææ¶åä¸åä¹ä¼åçå²çªã\n\nââäººçæ­£è½å½±åçäººå°ä¹åå°ï¼é£äºè¢«ä½ å½±åçäººï¼åªæ¯çå»çæå¨ã\n\nââäººè¦æ¥åèªå·±çæéæ§ï¼äººçé»è¾ãçæ§ãéè¯»é½æ¯æéçï¼æ´ä¸ªäººå°±æ¯å¨åè§ä¹ä¸­ãäººè¿ä¸çå°±æ¯å¨èµ°åºåè§ã\n\nââäººçä¸­æå¤§ççè¦,å°±æ¯ä½ ç¥éä»ä¹æ¯å¯¹ç,ä½å´æ°¸è¿ååºçæ¯éè¯¯çéæ©,ç¥éååå°è¿ä¸ªå·¨å¤§çé¸¿æ²,ä½ æ°¸è¿æ æ³è·¨è¶ã\n\nââäººçä¸è½å¤ªè¿åæ»¡ï¼æ±èä¸å¾æªå¿æ¯éæ¾ãå ä¸ºï¼äººè¦æ¥åäºä¸æ¿è¿åï¼æä»¬å¤ªæéäºï¼æä»¬åªè½åæä»¬è§å¾æ¯å¯¹çäºï¼ç¶åæ¥åç»æãè¯¯è§£æ¯äººçå¸¸æï¼çè§£ææ¯ç¨ç¼ºçä¾å¤ã\n\nââäººçååæ»¡çææï¼æå¾å¤æå½¢æ å½¢çèè¯ãå¾å¤æ¶åå¢ï¼æä»¬åªè½å°½åèä¸ºï¼ä½æ¯ç»æè¦éæ©è§åº¦ï¼å ä¸ºäººçå¯ä¸ç¡®å®çå°±æ¯ä¸ç¡®å®çäººçãå¨æ¯ä¸ä¸ªäººççéè¦å³å¤´ï¼æä»¬åªéè¦å°½åèä¸ºï¼ä¸çéæ¾ã\n\nââè¡è·¯é¾ï¼ä¸åæ°´ï¼ä¸å¨å±±ï¼åªå¨äººæåå¤é´ã\n\nââä½ è¦å¨è¿éçæ­£å°é«æ­çè¿åä¸è´¥æ¶å°è¿ï¼è¦å¨è¿éåä»ä¹äººçå½è¿ç´§ç´§çº ç¼ è¿ï¼è¦ä¸è¸å¥è¿éçæºåºè½¦ç«å°±è¢«å·¨å¤§çåå¿åææåæ»¡ï¼è¦ç»è¿è¿éåå­£çåç¦æ¸©ææ´çæ®é·ï¼ææèµæ ¼è¯´ï¼èªå·±å±äºè¿ä¸ªåå¸ãææ¾å¨è¿éï¼ä¸é¡¾ä¸åå°æ´»çã\n\n----------------------------------------\n\nââæ¯ä¸ªäººçå¿éé½æä¸å¢ç«ï¼è·¯è¿çäººåªè½çå°çãä½æ¯æ»æä¸ä¸ªäººï¼æ»æé£ä¹ä¸ä¸ªäººè½çå°è¿ç«ï¼ç¶åèµ°è¿æ¥éªæä¸èµ·ã\n\nââæµ·ä¸ææ¯å¤©ä¸æï¼ç¼åäººæ¯å¿ä¸äººã\nââåæ¥å¿æ¯çå®¢å¿ï¼å¥ä½äººæ¯å§ä¸­äººã\n\nââä¹ æ¯ä¼ä½¿æä»¬åæä¼¶ä¿èå¤´èç¬¨æã\n\nââå»çæå¨å¹´è½»çæ¶åä¸åå»äºï¼ç¾¡æå«äººææäºã\n\nââæ§æå¿ä¼¤ï¼ææ·±ä¸å¯¿ï¼å¼ºæåè¾±ï¼è°¦è°¦åå­ï¼æ¸©æ¶¦å¦çã\n\nââå½ä½ é¢åæä¸åº§ä¸å¯é¾è¶çå´å¢æ¶ï¼ä½ åªæä¸æ­çå°è¯è·³èµ·ï¼ä¸ç¶ï¼ä½ æ°¸è¿ä¹çä¸å°ï¼å¢é£è¾¹çå¤©ç©º\n\nââä¸ä¸ªå»çä¸ä¼å ä¸ºçäººçç¾çå¤ªè¿ä¸¥éèä¸å»å»æ²»ä»ï¼ä¿®å¤å¸ä¹æ¯ã\n\nââäººä»¬å¸¸å¸¸è¯´æ°¸è¿ä¸è¦å¨é¥¿çæ¶åéè¶å¸ï¼ä½ ä¼ä¹°ä¸éè¦çä¸è¥¿ï¼ä½ ççæ´»ä¹æ¯å¦æ­¤ï¼æ°¸è¿ä¸è¦å¨å­¤ç¬çæ¶åå¼å¯ä¸æ®µææï¼ä½ å¯è½ä¼éè§éè¯¯çäººï¼ä»ç»æ³ä¸ä¸ï¼å ä¸ºå½ä½ æ å©çæ¶åï¼ä½ ä¼æä½ä»»ä½ä½ æ³è¦çä¸è¥¿ï¼èä¸æ¯çæ­£éè¦çãæå¸æå¤§å®¶é½è½æ¾å°èªå·±çæ­£éè¦çã\n\nââè¥è½æ¾å¿åè³å¬ï¼ä¸ç±ä¿±å¯äº¦æ¯éµã\n\nââæ¨åèµ·äºç½å¡å°é¡¶ï¼ç»å°éºæ»¡é´é¾ä¹å°ã\n\nââå«åå¾äºè¿ä¸å»ï¼å ä¸ºå®å·²ç»è¿å»ï¼å«åç°å®è¿ä¸å»ï¼å ä¸ºä½ è¿è¦è¿ä¸å»ã\n\nââæ äººé®æ´¥ä¹å¥½ï¼æä¸å¦äººä¹ç½¢ï¼ä½ é½è¦è¯çå®éä¸æ¥ï¼å»åèªå·±è¯¥åçäºï¼èä¸æ¯è®©åå¿ç¦èºãç¦èï¼æ¯æä½ æ¬å°±ä¸å¤çç­æåå®åï¼\n\nââè¿ä¸ªä¸çä¸ç¬¬ä¸å¿«ä¹çäººï¼æ¯ä¸éè¦å¯¹å«äººè´è´£çäººï¼ç¬¬äºå¿«ä¹çäººï¼å°±æ¯ä»ä¸åå¤´ççäººãéæ¾è°æ²¡æå¢ï¼äººå¾å¾é½æ¯å¿«æ­»çæ¶åï¼æåç°äººçæå¤§çéæ¾ï¼å°±æ¯ä¸ç´å¨éæ¾è¿å»çéæ¾ãéæ¾å¨çµå½±éæ¯ä¸»è§å´èµ·çåæï¼å¨çæ´»éæ¯è®©äººæ²æ²¦çæ¯è¯ã\n\n----------------------------------------\n\n\n# äºãæ¯å¤©ä¸éï¼å¿«ä¹åè§\n\n<iframe src="https://b23.tv/eklz6nm" width="100%" height="600" frameborder="0" scrolling="no" leftmargin="0" topmargin="0"></iframe>\n',charsets:{cjk:!0},lastUpdated:"2024/02/19, 14:31:28",lastUpdatedTimestamp:1708324288e3},{title:"åç«¯ç¸å³",frontmatter:{title:"åç«¯ç¸å³",date:"2022-02-28T10:14:49.000Z",permalink:"/pages/gxfmrs/",categories:["å¶ä»","åç«¯"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/06.%E5%89%8D%E7%AB%AF/01.%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3.html",relativePath:"04.å¶ä»/06.åç«¯/01.åç«¯ç¸å³.md",key:"v-48901c43",path:"/pages/gxfmrs/",headers:[{level:3,title:"jQueryè·ååå°Modelçå¼",slug:"jqueryè·ååå°modelçå¼",normalizedTitle:"jqueryè·ååå°modelçå¼",charIndex:2},{level:3,title:"æè®°",slug:"æè®°",normalizedTitle:"æè®°",charIndex:173},{level:4,title:"1.js è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)",slug:"_1-js-è·ååç´ -ç¶èç¹-å­èç¹-åå¼èç¹",normalizedTitle:"1.js è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)",charIndex:179},{level:4,title:"2.jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ°",slug:"_2-jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ°",normalizedTitle:"2.jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ°",charIndex:506},{level:4,title:"3.ä¸äºå¸¸ç¨æ¹æ³",slug:"_3-ä¸äºå¸¸ç¨æ¹æ³",normalizedTitle:"3.ä¸äºå¸¸ç¨æ¹æ³",charIndex:741},{level:4,title:"4.ulè°ç¨æä¸å",slug:"_4-ulè°ç¨æä¸å",normalizedTitle:"4.ulè°ç¨æä¸å",charIndex:1286},{level:4,title:"5.ååå°äº¤äºæ¶",slug:"_5-ååå°äº¤äºæ¶",normalizedTitle:"5.ååå°äº¤äºæ¶",charIndex:1350},{level:4,title:"6.jquery è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)",slug:"_6-jquery-è·ååç´ -ç¶èç¹-å­èç¹-åå¼èç¹",normalizedTitle:"6.jquery è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)",charIndex:1448},{level:4,title:"7.åè¡¨åç´ ç­é",slug:"_7-åè¡¨åç´ ç­é",normalizedTitle:"7.åè¡¨åç´ ç­é",charIndex:2023},{level:4,title:"8.jQuery å±æ¬¡éæ©å¨",slug:"_8-jquery-å±æ¬¡éæ©å¨",normalizedTitle:"8.jquery å±æ¬¡éæ©å¨",charIndex:2293},{level:3,title:"HTTP",slug:"http",normalizedTitle:"http",charIndex:2770},{level:4,title:"æ¶æ¯ç»æ",slug:"æ¶æ¯ç»æ",normalizedTitle:"æ¶æ¯ç»æ",charIndex:2778},{level:4,title:"è¯·æ±æ¹æ³",slug:"è¯·æ±æ¹æ³",normalizedTitle:"è¯·æ±æ¹æ³",charIndex:2935},{level:4,title:"ååºå¤´",slug:"ååºå¤´",normalizedTitle:"ååºå¤´",charIndex:3468},{level:4,title:"ç¶æç ",slug:"ç¶æç ",normalizedTitle:"ç¶æç ",charIndex:5745}],headersStr:"jQueryè·ååå°Modelçå¼ æè®° 1.js è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹) 2.jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ° 3.ä¸äºå¸¸ç¨æ¹æ³ 4.ulè°ç¨æä¸å 5.ååå°äº¤äºæ¶ 6.jquery è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹) 7.åè¡¨åç´ ç­é 8.jQuery å±æ¬¡éæ©å¨ HTTP æ¶æ¯ç»æ è¯·æ±æ¹æ³ ååºå¤´ ç¶æç ",content:'# jQueryè·ååå°Modelçå¼\n\n<script th:inline="javascript">\n    $(function () {\n        let topics = [[${topics}]]\n        console.log(topics)\n    })\n<\/script>\n\n\næ¥èªthymeleafææ¡£\n\n\n# æè®°\n\n# 1.js è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)\n\nvar test = document.getElementById("test");\nããvar parent = test.parentNode; // ç¶èç¹\nããvar chils = test.childNodes; // å¨é¨å­èç¹\nããvar first = test.firstChild; // ç¬¬ä¸ä¸ªå­èç¹\nããvar last = test.lastChile; // æåä¸ä¸ªå­èç¹ã\nããvar previous = test.previousSibling; // ä¸ä¸ä¸ªåå¼èç¹\nããvar next = test.nextSibling; // ä¸ä¸ä¸ªåå¼èç¹\n\n\n\n# 2.jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ°\n\nèçº¦JSä»£ç ;æè¿åçé½æ¯åä¸ä¸ªå¯¹è±¡,å¯ä»¥æé«ä»£ç çæç.(jqueryçè®¾è®¡å²å­¦æ¯Write less, do more)\n\n$(document).ready(function(){});\n$(function(){\n    console.log();\n})\n(ä¸¤ä¸ªå½æ°çææç­å)\n\n\n<script src="./js/login.js"><\/script>    æ¾å¨</body>ä¹å\nå¨æå»ºå®DOMæ åèªå¨æ§è¡\n\n\n# 3.ä¸äºå¸¸ç¨æ¹æ³\n\n.attr()        //æ¹æ³è®¾ç½®æè¿åè¢«éåç´ çå±æ§å¼    $("img").attr("width","180");\n.addClass("")    //åè¢«éåç´ æ·»å ä¸ä¸ªæå¤ä¸ªç±»\n.removeClass("")    //ä»è¢«éåç´ ç§»é¤ä¸ä¸ªæå¤ä¸ªç±»\n.append()            //å¨è¢«éåç´ çç»å°¾æå¥æå®åå®¹\n.html()            //è¿åæè®¾ç½®è¢«éåç´ çåå®¹\näºä»¶\n.click()            //åå»\n.mouseenter()        //é¼ æ æéè¿å¥ï¼ç©¿è¿ï¼åç´ æ¶\n.mouseleave()                    //é¼ æ æéç¦»å¼åç´ \n.mousedown()        //é¼ æ æéç§»å¨å°åç´ ä¸æ¹ï¼å¹¶æä¸é¼ æ æé®\n.mouseup()            //å¨åç´ ä¸æ¾æ¾é¼ æ æé®\n.focus()            //åç´ è·å¾ç¦ç¹\n.change()            //åç´ çå¼åçæ¹å\nå¨ç»\n.hide()               //hide() æ¹æ³éèè¢«éåç´ \n.show()               //æ¾ç¤ºéèçè¢«éåç´ \n\n\n# 4.ulè°ç¨æä¸å\n\n$(".payment li").eq(1).on("click", function(){})\n\n\n# 5.ååå°äº¤äºæ¶\n\nalert(data);     æ¾ç¤ºä¸ºObject  å·²ç»åå°æ°æ®\nvar b = JSON.stringify(data);\t\t//æObjectå¯¹è±¡æ¾ç¤ºä¸ºå­ç¬¦ä¸²\n\n\n# 6.jquery è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)\n\n$("#test1").parent(); // ç¶èç¹\n$("#test1").parents(); // å¨é¨ç¶èç¹\n$("#test1").parents(".mui-content");\n$("#test").children(); // å¨é¨å­èç¹\n$("#test").children("#test1");\n$("#test").contents(); // è¿å#testéé¢çææåå®¹ï¼åæ¬èç¹åææ¬\n$("#test").contents("#test1");\n$("#test1").prev();  // ä¸ä¸ä¸ªåå¼èç¹\n$("#test1").prevAll(); // ä¹åææåå¼èç¹\n$("#test1").next(); // ä¸ä¸ä¸ªåå¼èç¹\n$("#test1").nextAll(); // ä¹åææåå¼èç¹\n$("#test1").siblings(); // ææåå¼èç¹\n$("#test1").siblings("#test2");\n$("#test").find("#test1");\n\n\nä¸¾ä¸ªå°æ å­\n\n$(".name1").parent().parent().children().children(".name3").val()\n\n\n# 7.åè¡¨åç´ ç­é\n\n// ä»¥ä¸æ¹æ³é½è¿åä¸ä¸ªæ°çjQueryå¯¹è±¡ï¼ä»ä»¬åå«ç­éå°çåç´ \n$("ul li").eq(1); // éåul liä¸­å¹éçç´¢å¼é¡ºåºä¸º1çåç´ (ä¹å°±æ¯ç¬¬2ä¸ªliåç´ )\n$("ul li").first(); // éåul liä¸­å¹éçç¬¬ä¸ä¸ªåç´ \n$("ul li").last(); // éåul liä¸­å¹éçæåä¸ä¸ªåç´ \n$("ul li").slice(1, 4); // éåç¬¬2 ~ 4ä¸ªåç´ \n$("ul li").filter(":even"); // éåul liä¸­ææå¥æ°é¡ºåºçåç´ \n\n\n# 8.jQuery å±æ¬¡éæ©å¨\n\n$("div span") éå<div>éçææ<span>åç´ \n$("div >span") éå<div>åç´ ä¸åç´ åæ¯<span>çå­åç´ \n$("#one +div") éåidä¸ºoneçåç´ çä¸ä¸ä¸ª<div>åè¾åç´     ç­åäº$(#one).next("div")\n$("#one~div") éåidä¸ºoneçåç´ çåç´ åé¢çææ<div>åè¾åç´     ç­åäº$(#one).nextAll("div")\n$(#one).siblings("div") è·åidä¸ºoneçåç´ çææ<div>åè¾åç´ ï¼ä¸ç®¡ååï¼\n$(#one).prev("div") è·åidä¸ºoneçåç´ çåé¢ç´§é»çåè¾<div>åç´ \n\næä»¥ è·ååç´ èå´å¤§å°é¡ºåºä¾æ¬¡ä¸ºï¼\n$(#one).siblings("div")>$("#one~div")>$("#one +div")  ææ¯\n$(#one).siblings("div")>$(#one).nextAll("div")>$(#one).next("div")\n\n\n\n# HTTP\n\n# æ¶æ¯ç»æ\n\n 1. å®¢æ·ç«¯è¯·æ± å®¢æ·ç«¯åéä¸ä¸ªHTTPè¯·æ±å°æå¡å¨çè¯·æ±æ¶æ¯åæ¬ä»¥ä¸æ ¼å¼ï¼è¯·æ±è¡ï¼request lineï¼ãè¯·æ±å¤´é¨ï¼headerï¼ãç©ºè¡åè¯·æ±æ°æ®åä¸ªé¨åç»æï¼ä¸å¾ç»åºäºè¯·æ±æ¥æçä¸è¬æ ¼å¼ã\n\n 2. æå¡å¨ååº HTTPååºä¹ç±åä¸ªé¨åç»æï¼åå«æ¯ï¼ç¶æè¡ãæ¶æ¯æ¥å¤´ãç©ºè¡åååºæ­£æã\n\n# è¯·æ±æ¹æ³\n\nHTTP1.0 å®ä¹äºä¸ç§è¯·æ±æ¹æ³ï¼ GET, POST å HEAD æ¹æ³ã\nHTTP1.1 æ°å¢äºå­ç§è¯·æ±æ¹æ³ï¼OPTIONSãPUTãPATCHãDELETEãTRACE å CONNECT æ¹æ³ã\n\nåºå·   æ¹æ³        æè¿°\n1    GET       è¯·æ±æå®çé¡µé¢ä¿¡æ¯ï¼å¹¶è¿åå®ä½ä¸»ä½ã\n2    HEAD      ç±»ä¼¼äº GET è¯·æ±ï¼åªä¸è¿è¿åçååºä¸­æ²¡æå·ä½çåå®¹ï¼ç¨äºè·åæ¥å¤´\n3    POST      åæå®èµæºæäº¤æ°æ®è¿è¡å¤çè¯·æ±ï¼ä¾å¦æäº¤è¡¨åæèä¸ä¼ æä»¶ï¼ãæ°æ®è¢«åå«å¨è¯·æ±ä½ä¸­ãPOST\n               è¯·æ±å¯è½ä¼å¯¼è´æ°çèµæºçå»ºç«å/æå·²æèµæºçä¿®æ¹ã\n4    PUT       ä»å®¢æ·ç«¯åæå¡å¨ä¼ éçæ°æ®åä»£æå®çææ¡£çåå®¹ã\n5    DELETE    \n6    CONNECT   HTTP/1.1 åè®®ä¸­é¢çç»è½å¤å°è¿æ¥æ¹ä¸ºç®¡éæ¹å¼çä»£çæå¡å¨ã\n7    OPTIONS   åè®¸å®¢æ·ç«¯æ¥çæå¡å¨çæ§è½ã\n8    TRACE     åæ¾æå¡å¨æ¶å°çè¯·æ±ï¼ä¸»è¦ç¨äºæµè¯æè¯æ­ã\n9    PATCH     æ¯å¯¹ PUT æ¹æ³çè¡¥åï¼ç¨æ¥å¯¹å·²ç¥èµæºè¿è¡å±é¨æ´æ° ã\n\n# ååºå¤´\n\nHTTPè¯·æ±å¤´æä¾äºå³äºè¯·æ±ï¼ååºæèå¶ä»çåéå®ä½çä¿¡æ¯ã\n\nåºç­å¤´                è¯´æ\nAllow              æå¡å¨æ¯æåªäºè¯·æ±æ¹æ³ï¼å¦GETãPOSTç­ï¼ã\nContent-Encoding   ææ¡£çç¼ç ï¼Encodeï¼æ¹æ³ãåªæå¨è§£ç ä¹åæå¯ä»¥å¾å°Content-Typeå¤´æå®çåå®¹ç±»åãå©ç¨gzipåç¼©ææ¡£è½å¤æ¾èå°åå°HTMLææ¡£çä¸è½½æ¶é´ãJavaçGZIPOutputStreamå¯ä»¥å¾æ¹ä¾¿å°è¿è¡gzipåç¼©ï¼ä½åªæUnixä¸çNetscapeåWindowsä¸çIE\n                   4ãIE\n                   5ææ¯æå®ãå æ­¤ï¼Servletåºè¯¥éè¿æ¥çAccept-Encodingå¤´ï¼å³request.getHeader("Accept-Encoding")ï¼æ£æ¥æµè§å¨æ¯å¦æ¯ægzipï¼ä¸ºæ¯ægzipçæµè§å¨è¿åç»gzipåç¼©çHTMLé¡µé¢ï¼ä¸ºå¶ä»æµè§å¨è¿åæ®éé¡µé¢ã\nContent-Length     è¡¨ç¤ºåå®¹é¿åº¦ãåªæå½æµè§å¨ä½¿ç¨æä¹HTTPè¿æ¥æ¶æéè¦è¿ä¸ªæ°æ®ãå¦æä½ æ³è¦å©ç¨æä¹è¿æ¥çä¼å¿ï¼å¯ä»¥æè¾åºææ¡£åå¥\n                   ByteArrayOutputStreamï¼å®æåæ¥çå¶å¤§å°ï¼ç¶åæè¯¥å¼æ¾å¥Content-Lengthå¤´ï¼æåéè¿byteArrayStream.writeTo(response.getOutputStream()åéåå®¹ã\nContent-Type       è¡¨ç¤ºåé¢çææ¡£å±äºä»ä¹MIMEç±»åãServleté»è®¤ä¸ºtext/plainï¼ä½éå¸¸éè¦æ¾å¼å°æå®ä¸ºtext/htmlãç±äºç»å¸¸è¦è®¾ç½®Content-Typeï¼å æ­¤HttpServletResponseæä¾äºä¸ä¸ªä¸ç¨çæ¹æ³setContentTypeã\nDate               å½åçGMTæ¶é´ãä½ å¯ä»¥ç¨setDateHeaderæ¥è®¾ç½®è¿ä¸ªå¤´ä»¥é¿åè½¬æ¢æ¶é´æ ¼å¼çéº»ç¦ã\nExpires            åºè¯¥å¨ä»ä¹æ¶åè®¤ä¸ºææ¡£å·²ç»è¿æï¼ä»èä¸åç¼å­å®ï¼\nLast-Modified      ææ¡£çæåæ¹å¨æ¶é´ãå®¢æ·å¯ä»¥éè¿If-Modified-Sinceè¯·æ±å¤´æä¾ä¸ä¸ªæ¥æï¼è¯¥è¯·æ±å°è¢«è§ä¸ºä¸ä¸ªæ¡ä»¶GETï¼åªææ¹å¨æ¶é´è¿äºæå®æ¶é´çææ¡£æä¼è¿åï¼å¦åè¿åä¸ä¸ª304ï¼Not\n                   Modifiedï¼ç¶æãLast-Modifiedä¹å¯ç¨setDateHeaderæ¹æ³æ¥è®¾ç½®ã\nLocation           è¡¨ç¤ºå®¢æ·åºå½å°åªéå»æåææ¡£ãLocationéå¸¸ä¸æ¯ç´æ¥è®¾ç½®çï¼èæ¯éè¿HttpServletResponseçsendRedirectæ¹æ³ï¼è¯¥æ¹æ³åæ¶è®¾ç½®ç¶æä»£ç ä¸º302ã\nRefresh            è¡¨ç¤ºæµè§å¨åºè¯¥å¨å¤å°æ¶é´ä¹åå·æ°ææ¡£ï¼ä»¥ç§è®¡ãé¤äºå·æ°å½åææ¡£ä¹å¤ï¼ä½ è¿å¯ä»¥éè¿setHeader("Refresh",\n                   "5; URL=http://host/path")è®©æµè§å¨è¯»åæå®çé¡µé¢ã\n                   æ³¨æè¿ç§åè½éå¸¸æ¯éè¿è®¾ç½®HTMLé¡µé¢HEADåºçï¼META HTTP-EQUIV="Refresh"\n                   CONTENT="5;URL=http://host/path"ï¼å®ç°ï¼è¿æ¯å ä¸ºï¼èªå¨å·æ°æéå®åå¯¹äºé£äºä¸è½ä½¿ç¨CGIæServletçHTMLç¼åèååéè¦ãä½æ¯ï¼å¯¹äºServletæ¥è¯´ï¼ç´æ¥è®¾ç½®Refreshå¤´æ´å æ¹ä¾¿ã\n                   æ³¨æRefreshçæä¹æ¯"Nç§ä¹åå·æ°æ¬é¡µé¢æè®¿é®æå®é¡µé¢"ï¼èä¸æ¯"æ¯éNç§å·æ°æ¬é¡µé¢æè®¿é®æå®é¡µé¢"ãå æ­¤ï¼è¿ç»­å·æ°è¦æ±æ¯æ¬¡é½åéä¸ä¸ªRefreshå¤´ï¼èåé204ç¶æä»£ç åå¯ä»¥é»æ­¢æµè§å¨ç»§ç»­å·æ°ï¼ä¸ç®¡æ¯ä½¿ç¨Refreshå¤´è¿æ¯ï¼META\n                   HTTP-EQUIV="Refresh" ...ï¼ã\n                   æ³¨æRefreshå¤´ä¸å±äºHTTP 1.1æ­£å¼è§èçä¸é¨åï¼èæ¯ä¸ä¸ªæ©å±ï¼ä½NetscapeåIEé½æ¯æå®ã\nServer             æå¡å¨åå­ãServletä¸è¬ä¸è®¾ç½®è¿ä¸ªå¼ï¼èæ¯ç±Webæå¡å¨èªå·±è®¾ç½®ã\nSet-Cookie         è®¾ç½®åé¡µé¢å³èçCookieãServletä¸åºä½¿ç¨response.setHeader("Set-Cookie",\n                   ...)ï¼èæ¯åºä½¿ç¨HttpServletResponseæä¾çä¸ç¨æ¹æ³addCookieãåè§ä¸ææå³Cookieè®¾ç½®çè®¨è®ºã\nWWW-Authenticate   å®¢æ·åºè¯¥å¨Authorizationå¤´ä¸­æä¾ä»ä¹ç±»åçææä¿¡æ¯ï¼å¨åå«401ï¼Unauthorizedï¼ç¶æè¡çåºç­ä¸­è¿ä¸ªå¤´æ¯å¿éçãä¾å¦ï¼response.setHeader("WWW-Authenticate",\n                   "BASIC realm=ï¼¼"executivesï¼¼"")ã\n                   æ³¨æServletä¸è¬ä¸è¿è¡è¿æ¹é¢çå¤çï¼èæ¯è®©Webæå¡å¨çä¸é¨æºå¶æ¥æ§å¶åå¯ç ä¿æ¤é¡µé¢çè®¿é®ï¼ä¾å¦.htaccessï¼ã\n\n# ç¶æç \n\nå½æµè§èè®¿é®ä¸ä¸ªç½é¡µæ¶ï¼æµè§èçæµè§å¨ä¼åç½é¡µæå¨æå¡å¨ååºè¯·æ±ãå½æµè§å¨æ¥æ¶å¹¶æ¾ç¤ºç½é¡µåï¼æ­¤ç½é¡µæå¨çæå¡å¨ä¼è¿åä¸ä¸ªåå« HTTP ç¶æç çä¿¡æ¯å¤´ï¼server headerï¼ç¨ä»¥ååºæµè§å¨çè¯·æ±ã\n\nç¶æç åç±»\n\nåç±»    åç±»æè¿°\n1**   ä¿¡æ¯ï¼æå¡å¨æ¶å°è¯·æ±ï¼éè¦è¯·æ±èç»§ç»­æ§è¡æä½\n2**   æåï¼æä½è¢«æåæ¥æ¶å¹¶å¤ç\n3**   éå®åï¼éè¦è¿ä¸æ­¥çæä½ä»¥å®æè¯·æ±\n4**   å®¢æ·ç«¯éè¯¯ï¼è¯·æ±åå«è¯­æ³éè¯¯ææ æ³å®æè¯·æ±\n5**   æå¡å¨éè¯¯ï¼æå¡å¨å¨å¤çè¯·æ±çè¿ç¨ä¸­åçäºéè¯¯\n\nHTTPç¶æç åè¡¨(æ çº¢çä¸ºå¸¸ç¨)\n\nç¶æç    ç¶æç è±æåç§°                           ä¸­ææè¿°\n100   Continue                          ç»§ç»­ãå®¢æ·ç«¯åºç»§ç»­å¶è¯·æ±\n101   Switching Protocols               åæ¢åè®®ãæå¡å¨æ ¹æ®å®¢æ·ç«¯çè¯·æ±åæ¢åè®®ãåªè½åæ¢å°æ´é«çº§çåè®®ï¼ä¾å¦ï¼åæ¢å°HTTPçæ°çæ¬åè®®\n200   OK                                è¯·æ±æåãä¸è¬ç¨äºGETä¸POSTè¯·æ±\n201   Created                           å·²åå»ºãæåè¯·æ±å¹¶åå»ºäºæ°çèµæº\n202   Accepted                          å·²æ¥åãå·²ç»æ¥åè¯·æ±ï¼ä½æªå¤çå®æ\n203   Non-Authoritative Information     éææä¿¡æ¯ãè¯·æ±æåãä½è¿åçmetaä¿¡æ¯ä¸å¨åå§çæå¡å¨ï¼èæ¯ä¸ä¸ªå¯æ¬\n204   No Content                        æ åå®¹ãæå¡å¨æåå¤çï¼ä½æªè¿ååå®¹ãå¨æªæ´æ°ç½é¡µçæåµä¸ï¼å¯ç¡®ä¿æµè§å¨ç»§ç»­æ¾ç¤ºå½åææ¡£\n205   Reset Content                     éç½®åå®¹ãæå¡å¨å¤çæåï¼ç¨æ·ç»ç«¯ï¼ä¾å¦ï¼æµè§å¨ï¼åºéç½®ææ¡£è§å¾ãå¯éè¿æ­¤è¿åç æ¸é¤æµè§å¨çè¡¨åå\n206   Partial Content                   é¨ååå®¹ãæå¡å¨æåå¤çäºé¨åGETè¯·æ±\n300   Multiple Choices                  å¤ç§éæ©ãè¯·æ±çèµæºå¯åæ¬å¤ä¸ªä½ç½®ï¼ç¸åºå¯è¿åä¸ä¸ªèµæºç¹å¾ä¸å°åçåè¡¨ç¨äºç¨æ·ç»ç«¯ï¼ä¾å¦ï¼æµè§å¨ï¼éæ©\n301   Moved Permanently                 æ°¸ä¹ç§»å¨ãè¯·æ±çèµæºå·²è¢«æ°¸ä¹çç§»å¨å°æ°URIï¼è¿åä¿¡æ¯ä¼åæ¬æ°çURIï¼æµè§å¨ä¼èªå¨å®åå°æ°URIãä»åä»»ä½æ°çè¯·æ±é½åºä½¿ç¨æ°çURIä»£æ¿\n302   Found                             ä¸´æ¶ç§»å¨ãä¸301ç±»ä¼¼ãä½èµæºåªæ¯ä¸´æ¶è¢«ç§»å¨ãå®¢æ·ç«¯åºç»§ç»­ä½¿ç¨åæURI\n303   See Other                         æ¥çå¶å®å°åãä¸301ç±»ä¼¼ãä½¿ç¨GETåPOSTè¯·æ±æ¥ç\n304   Not Modified                      æªä¿®æ¹ãæè¯·æ±çèµæºæªä¿®æ¹ï¼æå¡å¨è¿åæ­¤ç¶æç æ¶ï¼ä¸ä¼è¿åä»»ä½èµæºãå®¢æ·ç«¯éå¸¸ä¼ç¼å­è®¿é®è¿çèµæºï¼éè¿æä¾ä¸ä¸ªå¤´ä¿¡æ¯æåºå®¢æ·ç«¯å¸æåªè¿åå¨æå®æ¥æä¹åä¿®æ¹çèµæº\n305   Use Proxy                         ä½¿ç¨ä»£çãæè¯·æ±çèµæºå¿é¡»éè¿ä»£çè®¿é®\n306   Unused                            å·²ç»è¢«åºå¼çHTTPç¶æç \n307   Temporary Redirect                ä¸´æ¶éå®åãä¸302ç±»ä¼¼ãä½¿ç¨GETè¯·æ±éå®å\n400   Bad Request                       å®¢æ·ç«¯è¯·æ±çè¯­æ³éè¯¯ï¼æå¡å¨æ æ³çè§£\n401   Unauthorized                      è¯·æ±è¦æ±ç¨æ·çèº«ä»½è®¤è¯\n402   Payment Required                  ä¿çï¼å°æ¥ä½¿ç¨\n403   Forbidden                         æå¡å¨çè§£è¯·æ±å®¢æ·ç«¯çè¯·æ±ï¼ä½æ¯æç»æ§è¡æ­¤è¯·æ±\n404   Not Found                         æå¡å¨æ æ³æ ¹æ®å®¢æ·ç«¯çè¯·æ±æ¾å°èµæºï¼ç½é¡µï¼ãéè¿æ­¤ä»£ç ï¼ç½ç«è®¾è®¡äººåå¯è®¾ç½®"æ¨æè¯·æ±çèµæºæ æ³æ¾å°"çä¸ªæ§é¡µé¢\n405   Method Not Allowed                å®¢æ·ç«¯è¯·æ±ä¸­çæ¹æ³è¢«ç¦æ­¢\n406   Not Acceptable                    æå¡å¨æ æ³æ ¹æ®å®¢æ·ç«¯è¯·æ±çåå®¹ç¹æ§å®æè¯·æ±\n407   Proxy Authentication Required     è¯·æ±è¦æ±ä»£ççèº«ä»½è®¤è¯ï¼ä¸401ç±»ä¼¼ï¼ä½è¯·æ±èåºå½ä½¿ç¨ä»£çè¿è¡ææ\n408   Request Time-out                  æå¡å¨ç­å¾å®¢æ·ç«¯åéçè¯·æ±æ¶é´è¿é¿ï¼è¶æ¶\n409   Conflict                          æå¡å¨å®æå®¢æ·ç«¯ç PUT è¯·æ±æ¶å¯è½è¿åæ­¤ä»£ç ï¼æå¡å¨å¤çè¯·æ±æ¶åçäºå²çª\n410   Gone                              å®¢æ·ç«¯è¯·æ±çèµæºå·²ç»ä¸å­å¨ã410ä¸åäº404ï¼å¦æèµæºä»¥åæç°å¨è¢«æ°¸ä¹å é¤äºå¯ä½¿ç¨410ä»£ç ï¼ç½ç«è®¾è®¡äººåå¯éè¿301ä»£ç æå®èµæºçæ°ä½ç½®\n411   Length Required                   æå¡å¨æ æ³å¤çå®¢æ·ç«¯åéçä¸å¸¦Content-Lengthçè¯·æ±ä¿¡æ¯\n412   Precondition Failed               å®¢æ·ç«¯è¯·æ±ä¿¡æ¯çåå³æ¡ä»¶éè¯¯\n413   Request Entity Too Large          ç±äºè¯·æ±çå®ä½è¿å¤§ï¼æå¡å¨æ æ³å¤çï¼å æ­¤æç»è¯·æ±ãä¸ºé²æ­¢å®¢æ·ç«¯çè¿ç»­è¯·æ±ï¼æå¡å¨å¯è½ä¼å³é­è¿æ¥ãå¦æåªæ¯æå¡å¨ææ¶æ æ³å¤çï¼åä¼åå«ä¸ä¸ªRetry-Afterçååºä¿¡æ¯\n414   Request-URI Too Large             è¯·æ±çURIè¿é¿ï¼URIéå¸¸ä¸ºç½åï¼ï¼æå¡å¨æ æ³å¤ç\n415   Unsupported Media Type            æå¡å¨æ æ³å¤çè¯·æ±éå¸¦çåªä½æ ¼å¼\n416   Requested range not satisfiable   å®¢æ·ç«¯è¯·æ±çèå´æ æ\n417   Expectation Failed                æå¡å¨æ æ³æ»¡è¶³Expectçè¯·æ±å¤´ä¿¡æ¯\n500   Internal Server Error             æå¡å¨åé¨éè¯¯ï¼æ æ³å®æè¯·æ±\n501   Not Implemented                   æå¡å¨ä¸æ¯æè¯·æ±çåè½ï¼æ æ³å®æè¯·æ±\n502   Bad Gateway                       ä½ä¸ºç½å³æèä»£çå·¥ä½çæå¡å¨å°è¯æ§è¡è¯·æ±æ¶ï¼ä»è¿ç¨æå¡å¨æ¥æ¶å°äºä¸ä¸ªæ æçååº\n503   Service Unavailable               ç±äºè¶è½½æç³»ç»ç»´æ¤ï¼æå¡å¨ææ¶çæ æ³å¤çå®¢æ·ç«¯çè¯·æ±ãå»¶æ¶çé¿åº¦å¯åå«å¨æå¡å¨çRetry-Afterå¤´ä¿¡æ¯ä¸­\n504   Gateway Time-out                  åå½ç½å³æä»£ççæå¡å¨ï¼æªåæ¶ä»è¿ç«¯æå¡å¨è·åè¯·æ±\n505   HTTP Version not supported        æå¡å¨ä¸æ¯æè¯·æ±çHTTPåè®®ççæ¬ï¼æ æ³å®æå¤ç',normalizedContent:'# jqueryè·ååå°modelçå¼\n\n<script th:inline="javascript">\n    $(function () {\n        let topics = [[${topics}]]\n        console.log(topics)\n    })\n<\/script>\n\n\næ¥èªthymeleafææ¡£\n\n\n# æè®°\n\n# 1.js è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)\n\nvar test = document.getelementbyid("test");\nããvar parent = test.parentnode; // ç¶èç¹\nããvar chils = test.childnodes; // å¨é¨å­èç¹\nããvar first = test.firstchild; // ç¬¬ä¸ä¸ªå­èç¹\nããvar last = test.lastchile; // æåä¸ä¸ªå­èç¹ã\nããvar previous = test.previoussibling; // ä¸ä¸ä¸ªåå¼èç¹\nããvar next = test.nextsibling; // ä¸ä¸ä¸ªåå¼èç¹\n\n\n\n# 2.jqé¾å¼è¯­æ³ä¼ç¹åå è½½å½æ°\n\nèçº¦jsä»£ç ;æè¿åçé½æ¯åä¸ä¸ªå¯¹è±¡,å¯ä»¥æé«ä»£ç çæç.(jqueryçè®¾è®¡å²å­¦æ¯write less, do more)\n\n$(document).ready(function(){});\n$(function(){\n    console.log();\n})\n(ä¸¤ä¸ªå½æ°çææç­å)\n\n\n<script src="./js/login.js"><\/script>    æ¾å¨</body>ä¹å\nå¨æå»ºå®domæ åèªå¨æ§è¡\n\n\n# 3.ä¸äºå¸¸ç¨æ¹æ³\n\n.attr()        //æ¹æ³è®¾ç½®æè¿åè¢«éåç´ çå±æ§å¼    $("img").attr("width","180");\n.addclass("")    //åè¢«éåç´ æ·»å ä¸ä¸ªæå¤ä¸ªç±»\n.removeclass("")    //ä»è¢«éåç´ ç§»é¤ä¸ä¸ªæå¤ä¸ªç±»\n.append()            //å¨è¢«éåç´ çç»å°¾æå¥æå®åå®¹\n.html()            //è¿åæè®¾ç½®è¢«éåç´ çåå®¹\näºä»¶\n.click()            //åå»\n.mouseenter()        //é¼ æ æéè¿å¥ï¼ç©¿è¿ï¼åç´ æ¶\n.mouseleave()                    //é¼ æ æéç¦»å¼åç´ \n.mousedown()        //é¼ æ æéç§»å¨å°åç´ ä¸æ¹ï¼å¹¶æä¸é¼ æ æé®\n.mouseup()            //å¨åç´ ä¸æ¾æ¾é¼ æ æé®\n.focus()            //åç´ è·å¾ç¦ç¹\n.change()            //åç´ çå¼åçæ¹å\nå¨ç»\n.hide()               //hide() æ¹æ³éèè¢«éåç´ \n.show()               //æ¾ç¤ºéèçè¢«éåç´ \n\n\n# 4.ulè°ç¨æä¸å\n\n$(".payment li").eq(1).on("click", function(){})\n\n\n# 5.ååå°äº¤äºæ¶\n\nalert(data);     æ¾ç¤ºä¸ºobject  å·²ç»åå°æ°æ®\nvar b = json.stringify(data);\t\t//æobjectå¯¹è±¡æ¾ç¤ºä¸ºå­ç¬¦ä¸²\n\n\n# 6.jquery è·ååç´ (ç¶èç¹,å­èç¹,åå¼èç¹)\n\n$("#test1").parent(); // ç¶èç¹\n$("#test1").parents(); // å¨é¨ç¶èç¹\n$("#test1").parents(".mui-content");\n$("#test").children(); // å¨é¨å­èç¹\n$("#test").children("#test1");\n$("#test").contents(); // è¿å#testéé¢çææåå®¹ï¼åæ¬èç¹åææ¬\n$("#test").contents("#test1");\n$("#test1").prev();  // ä¸ä¸ä¸ªåå¼èç¹\n$("#test1").prevall(); // ä¹åææåå¼èç¹\n$("#test1").next(); // ä¸ä¸ä¸ªåå¼èç¹\n$("#test1").nextall(); // ä¹åææåå¼èç¹\n$("#test1").siblings(); // ææåå¼èç¹\n$("#test1").siblings("#test2");\n$("#test").find("#test1");\n\n\nä¸¾ä¸ªå°æ å­\n\n$(".name1").parent().parent().children().children(".name3").val()\n\n\n# 7.åè¡¨åç´ ç­é\n\n// ä»¥ä¸æ¹æ³é½è¿åä¸ä¸ªæ°çjqueryå¯¹è±¡ï¼ä»ä»¬åå«ç­éå°çåç´ \n$("ul li").eq(1); // éåul liä¸­å¹éçç´¢å¼é¡ºåºä¸º1çåç´ (ä¹å°±æ¯ç¬¬2ä¸ªliåç´ )\n$("ul li").first(); // éåul liä¸­å¹éçç¬¬ä¸ä¸ªåç´ \n$("ul li").last(); // éåul liä¸­å¹éçæåä¸ä¸ªåç´ \n$("ul li").slice(1, 4); // éåç¬¬2 ~ 4ä¸ªåç´ \n$("ul li").filter(":even"); // éåul liä¸­ææå¥æ°é¡ºåºçåç´ \n\n\n# 8.jquery å±æ¬¡éæ©å¨\n\n$("div span") éå<div>éçææ<span>åç´ \n$("div >span") éå<div>åç´ ä¸åç´ åæ¯<span>çå­åç´ \n$("#one +div") éåidä¸ºoneçåç´ çä¸ä¸ä¸ª<div>åè¾åç´     ç­åäº$(#one).next("div")\n$("#one~div") éåidä¸ºoneçåç´ çåç´ åé¢çææ<div>åè¾åç´     ç­åäº$(#one).nextall("div")\n$(#one).siblings("div") è·åidä¸ºoneçåç´ çææ<div>åè¾åç´ ï¼ä¸ç®¡ååï¼\n$(#one).prev("div") è·åidä¸ºoneçåç´ çåé¢ç´§é»çåè¾<div>åç´ \n\næä»¥ è·ååç´ èå´å¤§å°é¡ºåºä¾æ¬¡ä¸ºï¼\n$(#one).siblings("div")>$("#one~div")>$("#one +div")  ææ¯\n$(#one).siblings("div")>$(#one).nextall("div")>$(#one).next("div")\n\n\n\n# http\n\n# æ¶æ¯ç»æ\n\n 1. å®¢æ·ç«¯è¯·æ± å®¢æ·ç«¯åéä¸ä¸ªhttpè¯·æ±å°æå¡å¨çè¯·æ±æ¶æ¯åæ¬ä»¥ä¸æ ¼å¼ï¼è¯·æ±è¡ï¼request lineï¼ãè¯·æ±å¤´é¨ï¼headerï¼ãç©ºè¡åè¯·æ±æ°æ®åä¸ªé¨åç»æï¼ä¸å¾ç»åºäºè¯·æ±æ¥æçä¸è¬æ ¼å¼ã\n\n 2. æå¡å¨ååº httpååºä¹ç±åä¸ªé¨åç»æï¼åå«æ¯ï¼ç¶æè¡ãæ¶æ¯æ¥å¤´ãç©ºè¡åååºæ­£æã\n\n# è¯·æ±æ¹æ³\n\nhttp1.0 å®ä¹äºä¸ç§è¯·æ±æ¹æ³ï¼ get, post å head æ¹æ³ã\nhttp1.1 æ°å¢äºå­ç§è¯·æ±æ¹æ³ï¼optionsãputãpatchãdeleteãtrace å connect æ¹æ³ã\n\nåºå·   æ¹æ³        æè¿°\n1    get       è¯·æ±æå®çé¡µé¢ä¿¡æ¯ï¼å¹¶è¿åå®ä½ä¸»ä½ã\n2    head      ç±»ä¼¼äº get è¯·æ±ï¼åªä¸è¿è¿åçååºä¸­æ²¡æå·ä½çåå®¹ï¼ç¨äºè·åæ¥å¤´\n3    post      åæå®èµæºæäº¤æ°æ®è¿è¡å¤çè¯·æ±ï¼ä¾å¦æäº¤è¡¨åæèä¸ä¼ æä»¶ï¼ãæ°æ®è¢«åå«å¨è¯·æ±ä½ä¸­ãpost\n               è¯·æ±å¯è½ä¼å¯¼è´æ°çèµæºçå»ºç«å/æå·²æèµæºçä¿®æ¹ã\n4    put       ä»å®¢æ·ç«¯åæå¡å¨ä¼ éçæ°æ®åä»£æå®çææ¡£çåå®¹ã\n5    delete    \n6    connect   http/1.1 åè®®ä¸­é¢çç»è½å¤å°è¿æ¥æ¹ä¸ºç®¡éæ¹å¼çä»£çæå¡å¨ã\n7    options   åè®¸å®¢æ·ç«¯æ¥çæå¡å¨çæ§è½ã\n8    trace     åæ¾æå¡å¨æ¶å°çè¯·æ±ï¼ä¸»è¦ç¨äºæµè¯æè¯æ­ã\n9    patch     æ¯å¯¹ put æ¹æ³çè¡¥åï¼ç¨æ¥å¯¹å·²ç¥èµæºè¿è¡å±é¨æ´æ° ã\n\n# ååºå¤´\n\nhttpè¯·æ±å¤´æä¾äºå³äºè¯·æ±ï¼ååºæèå¶ä»çåéå®ä½çä¿¡æ¯ã\n\nåºç­å¤´                è¯´æ\nallow              æå¡å¨æ¯æåªäºè¯·æ±æ¹æ³ï¼å¦getãpostç­ï¼ã\ncontent-encoding   ææ¡£çç¼ç ï¼encodeï¼æ¹æ³ãåªæå¨è§£ç ä¹åæå¯ä»¥å¾å°content-typeå¤´æå®çåå®¹ç±»åãå©ç¨gzipåç¼©ææ¡£è½å¤æ¾èå°åå°htmlææ¡£çä¸è½½æ¶é´ãjavaçgzipoutputstreamå¯ä»¥å¾æ¹ä¾¿å°è¿è¡gzipåç¼©ï¼ä½åªæunixä¸çnetscapeåwindowsä¸çie\n                   4ãie\n                   5ææ¯æå®ãå æ­¤ï¼servletåºè¯¥éè¿æ¥çaccept-encodingå¤´ï¼å³request.getheader("accept-encoding")ï¼æ£æ¥æµè§å¨æ¯å¦æ¯ægzipï¼ä¸ºæ¯ægzipçæµè§å¨è¿åç»gzipåç¼©çhtmlé¡µé¢ï¼ä¸ºå¶ä»æµè§å¨è¿åæ®éé¡µé¢ã\ncontent-length     è¡¨ç¤ºåå®¹é¿åº¦ãåªæå½æµè§å¨ä½¿ç¨æä¹httpè¿æ¥æ¶æéè¦è¿ä¸ªæ°æ®ãå¦æä½ æ³è¦å©ç¨æä¹è¿æ¥çä¼å¿ï¼å¯ä»¥æè¾åºææ¡£åå¥\n                   bytearrayoutputstreamï¼å®æåæ¥çå¶å¤§å°ï¼ç¶åæè¯¥å¼æ¾å¥content-lengthå¤´ï¼æåéè¿bytearraystream.writeto(response.getoutputstream()åéåå®¹ã\ncontent-type       è¡¨ç¤ºåé¢çææ¡£å±äºä»ä¹mimeç±»åãservleté»è®¤ä¸ºtext/plainï¼ä½éå¸¸éè¦æ¾å¼å°æå®ä¸ºtext/htmlãç±äºç»å¸¸è¦è®¾ç½®content-typeï¼å æ­¤httpservletresponseæä¾äºä¸ä¸ªä¸ç¨çæ¹æ³setcontenttypeã\ndate               å½åçgmtæ¶é´ãä½ å¯ä»¥ç¨setdateheaderæ¥è®¾ç½®è¿ä¸ªå¤´ä»¥é¿åè½¬æ¢æ¶é´æ ¼å¼çéº»ç¦ã\nexpires            åºè¯¥å¨ä»ä¹æ¶åè®¤ä¸ºææ¡£å·²ç»è¿æï¼ä»èä¸åç¼å­å®ï¼\nlast-modified      ææ¡£çæåæ¹å¨æ¶é´ãå®¢æ·å¯ä»¥éè¿if-modified-sinceè¯·æ±å¤´æä¾ä¸ä¸ªæ¥æï¼è¯¥è¯·æ±å°è¢«è§ä¸ºä¸ä¸ªæ¡ä»¶getï¼åªææ¹å¨æ¶é´è¿äºæå®æ¶é´çææ¡£æä¼è¿åï¼å¦åè¿åä¸ä¸ª304ï¼not\n                   modifiedï¼ç¶æãlast-modifiedä¹å¯ç¨setdateheaderæ¹æ³æ¥è®¾ç½®ã\nlocation           è¡¨ç¤ºå®¢æ·åºå½å°åªéå»æåææ¡£ãlocationéå¸¸ä¸æ¯ç´æ¥è®¾ç½®çï¼èæ¯éè¿httpservletresponseçsendredirectæ¹æ³ï¼è¯¥æ¹æ³åæ¶è®¾ç½®ç¶æä»£ç ä¸º302ã\nrefresh            è¡¨ç¤ºæµè§å¨åºè¯¥å¨å¤å°æ¶é´ä¹åå·æ°ææ¡£ï¼ä»¥ç§è®¡ãé¤äºå·æ°å½åææ¡£ä¹å¤ï¼ä½ è¿å¯ä»¥éè¿setheader("refresh",\n                   "5; url=http://host/path")è®©æµè§å¨è¯»åæå®çé¡µé¢ã\n                   æ³¨æè¿ç§åè½éå¸¸æ¯éè¿è®¾ç½®htmlé¡µé¢headåºçï¼meta http-equiv="refresh"\n                   content="5;url=http://host/path"ï¼å®ç°ï¼è¿æ¯å ä¸ºï¼èªå¨å·æ°æéå®åå¯¹äºé£äºä¸è½ä½¿ç¨cgiæservletçhtmlç¼åèååéè¦ãä½æ¯ï¼å¯¹äºservletæ¥è¯´ï¼ç´æ¥è®¾ç½®refreshå¤´æ´å æ¹ä¾¿ã\n                   æ³¨ærefreshçæä¹æ¯"nç§ä¹åå·æ°æ¬é¡µé¢æè®¿é®æå®é¡µé¢"ï¼èä¸æ¯"æ¯énç§å·æ°æ¬é¡µé¢æè®¿é®æå®é¡µé¢"ãå æ­¤ï¼è¿ç»­å·æ°è¦æ±æ¯æ¬¡é½åéä¸ä¸ªrefreshå¤´ï¼èåé204ç¶æä»£ç åå¯ä»¥é»æ­¢æµè§å¨ç»§ç»­å·æ°ï¼ä¸ç®¡æ¯ä½¿ç¨refreshå¤´è¿æ¯ï¼meta\n                   http-equiv="refresh" ...ï¼ã\n                   æ³¨ærefreshå¤´ä¸å±äºhttp 1.1æ­£å¼è§èçä¸é¨åï¼èæ¯ä¸ä¸ªæ©å±ï¼ä½netscapeåieé½æ¯æå®ã\nserver             æå¡å¨åå­ãservletä¸è¬ä¸è®¾ç½®è¿ä¸ªå¼ï¼èæ¯ç±webæå¡å¨èªå·±è®¾ç½®ã\nset-cookie         è®¾ç½®åé¡µé¢å³èçcookieãservletä¸åºä½¿ç¨response.setheader("set-cookie",\n                   ...)ï¼èæ¯åºä½¿ç¨httpservletresponseæä¾çä¸ç¨æ¹æ³addcookieãåè§ä¸ææå³cookieè®¾ç½®çè®¨è®ºã\nwww-authenticate   å®¢æ·åºè¯¥å¨authorizationå¤´ä¸­æä¾ä»ä¹ç±»åçææä¿¡æ¯ï¼å¨åå«401ï¼unauthorizedï¼ç¶æè¡çåºç­ä¸­è¿ä¸ªå¤´æ¯å¿éçãä¾å¦ï¼response.setheader("www-authenticate",\n                   "basic realm=ï¼¼"executivesï¼¼"")ã\n                   æ³¨æservletä¸è¬ä¸è¿è¡è¿æ¹é¢çå¤çï¼èæ¯è®©webæå¡å¨çä¸é¨æºå¶æ¥æ§å¶åå¯ç ä¿æ¤é¡µé¢çè®¿é®ï¼ä¾å¦.htaccessï¼ã\n\n# ç¶æç \n\nå½æµè§èè®¿é®ä¸ä¸ªç½é¡µæ¶ï¼æµè§èçæµè§å¨ä¼åç½é¡µæå¨æå¡å¨ååºè¯·æ±ãå½æµè§å¨æ¥æ¶å¹¶æ¾ç¤ºç½é¡µåï¼æ­¤ç½é¡µæå¨çæå¡å¨ä¼è¿åä¸ä¸ªåå« http ç¶æç çä¿¡æ¯å¤´ï¼server headerï¼ç¨ä»¥ååºæµè§å¨çè¯·æ±ã\n\nç¶æç åç±»\n\nåç±»    åç±»æè¿°\n1**   ä¿¡æ¯ï¼æå¡å¨æ¶å°è¯·æ±ï¼éè¦è¯·æ±èç»§ç»­æ§è¡æä½\n2**   æåï¼æä½è¢«æåæ¥æ¶å¹¶å¤ç\n3**   éå®åï¼éè¦è¿ä¸æ­¥çæä½ä»¥å®æè¯·æ±\n4**   å®¢æ·ç«¯éè¯¯ï¼è¯·æ±åå«è¯­æ³éè¯¯ææ æ³å®æè¯·æ±\n5**   æå¡å¨éè¯¯ï¼æå¡å¨å¨å¤çè¯·æ±çè¿ç¨ä¸­åçäºéè¯¯\n\nhttpç¶æç åè¡¨(æ çº¢çä¸ºå¸¸ç¨)\n\nç¶æç    ç¶æç è±æåç§°                           ä¸­ææè¿°\n100   continue                          ç»§ç»­ãå®¢æ·ç«¯åºç»§ç»­å¶è¯·æ±\n101   switching protocols               åæ¢åè®®ãæå¡å¨æ ¹æ®å®¢æ·ç«¯çè¯·æ±åæ¢åè®®ãåªè½åæ¢å°æ´é«çº§çåè®®ï¼ä¾å¦ï¼åæ¢å°httpçæ°çæ¬åè®®\n200   ok                                è¯·æ±æåãä¸è¬ç¨äºgetä¸postè¯·æ±\n201   created                           å·²åå»ºãæåè¯·æ±å¹¶åå»ºäºæ°çèµæº\n202   accepted                          å·²æ¥åãå·²ç»æ¥åè¯·æ±ï¼ä½æªå¤çå®æ\n203   non-authoritative information     éææä¿¡æ¯ãè¯·æ±æåãä½è¿åçmetaä¿¡æ¯ä¸å¨åå§çæå¡å¨ï¼èæ¯ä¸ä¸ªå¯æ¬\n204   no content                        æ åå®¹ãæå¡å¨æåå¤çï¼ä½æªè¿ååå®¹ãå¨æªæ´æ°ç½é¡µçæåµä¸ï¼å¯ç¡®ä¿æµè§å¨ç»§ç»­æ¾ç¤ºå½åææ¡£\n205   reset content                     éç½®åå®¹ãæå¡å¨å¤çæåï¼ç¨æ·ç»ç«¯ï¼ä¾å¦ï¼æµè§å¨ï¼åºéç½®ææ¡£è§å¾ãå¯éè¿æ­¤è¿åç æ¸é¤æµè§å¨çè¡¨åå\n206   partial content                   é¨ååå®¹ãæå¡å¨æåå¤çäºé¨ågetè¯·æ±\n300   multiple choices                  å¤ç§éæ©ãè¯·æ±çèµæºå¯åæ¬å¤ä¸ªä½ç½®ï¼ç¸åºå¯è¿åä¸ä¸ªèµæºç¹å¾ä¸å°åçåè¡¨ç¨äºç¨æ·ç»ç«¯ï¼ä¾å¦ï¼æµè§å¨ï¼éæ©\n301   moved permanently                 æ°¸ä¹ç§»å¨ãè¯·æ±çèµæºå·²è¢«æ°¸ä¹çç§»å¨å°æ°uriï¼è¿åä¿¡æ¯ä¼åæ¬æ°çuriï¼æµè§å¨ä¼èªå¨å®åå°æ°uriãä»åä»»ä½æ°çè¯·æ±é½åºä½¿ç¨æ°çuriä»£æ¿\n302   found                             ä¸´æ¶ç§»å¨ãä¸301ç±»ä¼¼ãä½èµæºåªæ¯ä¸´æ¶è¢«ç§»å¨ãå®¢æ·ç«¯åºç»§ç»­ä½¿ç¨åæuri\n303   see other                         æ¥çå¶å®å°åãä¸301ç±»ä¼¼ãä½¿ç¨getåpostè¯·æ±æ¥ç\n304   not modified                      æªä¿®æ¹ãæè¯·æ±çèµæºæªä¿®æ¹ï¼æå¡å¨è¿åæ­¤ç¶æç æ¶ï¼ä¸ä¼è¿åä»»ä½èµæºãå®¢æ·ç«¯éå¸¸ä¼ç¼å­è®¿é®è¿çèµæºï¼éè¿æä¾ä¸ä¸ªå¤´ä¿¡æ¯æåºå®¢æ·ç«¯å¸æåªè¿åå¨æå®æ¥æä¹åä¿®æ¹çèµæº\n305   use proxy                         ä½¿ç¨ä»£çãæè¯·æ±çèµæºå¿é¡»éè¿ä»£çè®¿é®\n306   unused                            å·²ç»è¢«åºå¼çhttpç¶æç \n307   temporary redirect                ä¸´æ¶éå®åãä¸302ç±»ä¼¼ãä½¿ç¨getè¯·æ±éå®å\n400   bad request                       å®¢æ·ç«¯è¯·æ±çè¯­æ³éè¯¯ï¼æå¡å¨æ æ³çè§£\n401   unauthorized                      è¯·æ±è¦æ±ç¨æ·çèº«ä»½è®¤è¯\n402   payment required                  ä¿çï¼å°æ¥ä½¿ç¨\n403   forbidden                         æå¡å¨çè§£è¯·æ±å®¢æ·ç«¯çè¯·æ±ï¼ä½æ¯æç»æ§è¡æ­¤è¯·æ±\n404   not found                         æå¡å¨æ æ³æ ¹æ®å®¢æ·ç«¯çè¯·æ±æ¾å°èµæºï¼ç½é¡µï¼ãéè¿æ­¤ä»£ç ï¼ç½ç«è®¾è®¡äººåå¯è®¾ç½®"æ¨æè¯·æ±çèµæºæ æ³æ¾å°"çä¸ªæ§é¡µé¢\n405   method not allowed                å®¢æ·ç«¯è¯·æ±ä¸­çæ¹æ³è¢«ç¦æ­¢\n406   not acceptable                    æå¡å¨æ æ³æ ¹æ®å®¢æ·ç«¯è¯·æ±çåå®¹ç¹æ§å®æè¯·æ±\n407   proxy authentication required     è¯·æ±è¦æ±ä»£ççèº«ä»½è®¤è¯ï¼ä¸401ç±»ä¼¼ï¼ä½è¯·æ±èåºå½ä½¿ç¨ä»£çè¿è¡ææ\n408   request time-out                  æå¡å¨ç­å¾å®¢æ·ç«¯åéçè¯·æ±æ¶é´è¿é¿ï¼è¶æ¶\n409   conflict                          æå¡å¨å®æå®¢æ·ç«¯ç put è¯·æ±æ¶å¯è½è¿åæ­¤ä»£ç ï¼æå¡å¨å¤çè¯·æ±æ¶åçäºå²çª\n410   gone                              å®¢æ·ç«¯è¯·æ±çèµæºå·²ç»ä¸å­å¨ã410ä¸åäº404ï¼å¦æèµæºä»¥åæç°å¨è¢«æ°¸ä¹å é¤äºå¯ä½¿ç¨410ä»£ç ï¼ç½ç«è®¾è®¡äººåå¯éè¿301ä»£ç æå®èµæºçæ°ä½ç½®\n411   length required                   æå¡å¨æ æ³å¤çå®¢æ·ç«¯åéçä¸å¸¦content-lengthçè¯·æ±ä¿¡æ¯\n412   precondition failed               å®¢æ·ç«¯è¯·æ±ä¿¡æ¯çåå³æ¡ä»¶éè¯¯\n413   request entity too large          ç±äºè¯·æ±çå®ä½è¿å¤§ï¼æå¡å¨æ æ³å¤çï¼å æ­¤æç»è¯·æ±ãä¸ºé²æ­¢å®¢æ·ç«¯çè¿ç»­è¯·æ±ï¼æå¡å¨å¯è½ä¼å³é­è¿æ¥ãå¦æåªæ¯æå¡å¨ææ¶æ æ³å¤çï¼åä¼åå«ä¸ä¸ªretry-afterçååºä¿¡æ¯\n414   request-uri too large             è¯·æ±çuriè¿é¿ï¼uriéå¸¸ä¸ºç½åï¼ï¼æå¡å¨æ æ³å¤ç\n415   unsupported media type            æå¡å¨æ æ³å¤çè¯·æ±éå¸¦çåªä½æ ¼å¼\n416   requested range not satisfiable   å®¢æ·ç«¯è¯·æ±çèå´æ æ\n417   expectation failed                æå¡å¨æ æ³æ»¡è¶³expectçè¯·æ±å¤´ä¿¡æ¯\n500   internal server error             æå¡å¨åé¨éè¯¯ï¼æ æ³å®æè¯·æ±\n501   not implemented                   æå¡å¨ä¸æ¯æè¯·æ±çåè½ï¼æ æ³å®æè¯·æ±\n502   bad gateway                       ä½ä¸ºç½å³æèä»£çå·¥ä½çæå¡å¨å°è¯æ§è¡è¯·æ±æ¶ï¼ä»è¿ç¨æå¡å¨æ¥æ¶å°äºä¸ä¸ªæ æçååº\n503   service unavailable               ç±äºè¶è½½æç³»ç»ç»´æ¤ï¼æå¡å¨ææ¶çæ æ³å¤çå®¢æ·ç«¯çè¯·æ±ãå»¶æ¶çé¿åº¦å¯åå«å¨æå¡å¨çretry-afterå¤´ä¿¡æ¯ä¸­\n504   gateway time-out                  åå½ç½å³æä»£ççæå¡å¨ï¼æªåæ¶ä»è¿ç«¯æå¡å¨è·åè¯·æ±\n505   http version not supported        æå¡å¨ä¸æ¯æè¯·æ±çhttpåè®®ççæ¬ï¼æ æ³å®æå¤ç',charsets:{cjk:!0},lastUpdated:"2022/05/05, 11:44:37",lastUpdatedTimestamp:1651722277e3},{title:"èµæ",frontmatter:{title:"èµæ",date:"2022-04-17T23:03:43.000Z",permalink:"/pages/e6d5cb/",categories:["å¶ä»"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/98.%E8%B5%84%E6%96%99/98.%E8%B5%84%E6%96%99.html",relativePath:"04.å¶ä»/98.èµæ/98.èµæ.md",key:"v-68f50c4e",path:"/pages/e6d5cb/",headers:[{level:2,title:"1. åºç¡",slug:"_1-åºç¡",normalizedTitle:"1. åºç¡",charIndex:2},{level:3,title:"Java",slug:"java",normalizedTitle:"java",charIndex:12},{level:3,title:"åºç¡",slug:"åºç¡",normalizedTitle:"åºç¡",charIndex:5},{level:2,title:"2. å¤§æ°æ®",slug:"_2-å¤§æ°æ®",normalizedTitle:"2. å¤§æ°æ®",charIndex:220},{level:3,title:"Hadoop",slug:"hadoop",normalizedTitle:"hadoop",charIndex:231},{level:3,title:"Kafka",slug:"kafka",normalizedTitle:"kafka",charIndex:428},{level:3,title:"HBase",slug:"hbase",normalizedTitle:"hbase",charIndex:472},{level:3,title:"Spark",slug:"spark",normalizedTitle:"spark",charIndex:516},{level:3,title:"Flink",slug:"flink",normalizedTitle:"flink",charIndex:647},{level:3,title:"HIVE",slug:"hive",normalizedTitle:"hive",charIndex:778},{level:3,title:"æ°ä»ãæ°æ¹",slug:"æ°ä»ãæ°æ¹",normalizedTitle:"æ°ä»ãæ°æ¹",charIndex:871},{level:3,title:"DataX",slug:"datax",normalizedTitle:"datax",charIndex:1068},{level:3,title:"Azkaban",slug:"azkaban",normalizedTitle:"azkaban",charIndex:1106},{level:3,title:"æºå¨å­¦ä¹ ",slug:"æºå¨å­¦ä¹ ",normalizedTitle:"æºå¨å­¦ä¹ ",charIndex:1144},{level:2,title:"3. æ°æ®åºåSQL",slug:"_3-æ°æ®åºåsql",normalizedTitle:"3. æ°æ®åºåsql",charIndex:1204},{level:3,title:"SQL",slug:"sql",normalizedTitle:"sql",charIndex:832},{level:2,title:"4. å¶ä»",slug:"_4-å¶ä»",normalizedTitle:"4. å¶ä»",charIndex:1338},{level:3,title:"Shell",slug:"shell",normalizedTitle:"shell",charIndex:1348},{level:3,title:"æ­£åè¡¨è¾¾å¼",slug:"æ­£åè¡¨è¾¾å¼",normalizedTitle:"æ­£åè¡¨è¾¾å¼",charIndex:1572}],headersStr:"1. åºç¡ Java åºç¡ 2. å¤§æ°æ® Hadoop Kafka HBase Spark Flink HIVE æ°ä»ãæ°æ¹ DataX Azkaban æºå¨å­¦ä¹  3. æ°æ®åºåSQL SQL 4. å¶ä» Shell æ­£åè¡¨è¾¾å¼",content:"# 1. åºç¡\n\n\n# Java\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-Javaç¥è¯ç¹å¤ä¹ \n\nä¹¦\n\n * ãæ·±å¥çè§£Javaèææºï¼JVMé«çº§ç¹æ§ä¸æä½³å®è·µï¼ç¬¬3çï¼ã-å¨å¿æ(2019)\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-Javaåºç¡é¢è¯é¢\n * äºåéå­¦å¤§æ°æ®-JVMé¢è¯ä¸é¢åç­æ¡\n\n\n# åºç¡\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-æä½ç³»ç»ç¯\n * äºåéå­¦å¤§æ°æ®-æ°æ®ç»æä¸ç®æ³ç¯\n * äºåéå­¦å¤§æ°æ®-è®¡ç®æºç½ç»ç¯\n\n\n# 2. å¤§æ°æ®\n\n\n# Hadoop\n\nç½ç\n\nä¹¦\n\n * ãå¤§æ°æ®ä¹è·¯é¿éå·´å·´å¤§æ°æ®å®è·µã\n * ãå¤§æ°æ®ææ¯æ¶ææåï¼å¬ä¼å·ï¼è¿å»å§å¤§æ°æ®ç¼å¶ï¼ã\n\n----------------------------------------\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-Hadoopä¼ä¸çº§è°ä¼æå\n * äºåéå­¦å¤§æ°æ®-Hadoopç¥è¯ä½ç³»åè¡å®å¸\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-2022ææ°å¤§æ°æ®é¢è¯å®å¸\n\n\n# Kafka\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-Kafkaç¥è¯ä½ç³»åè¡æ»ç»\n\n\n# HBase\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-HBaseç¥è¯ä½ç³»åè¡æ»ç»\n\n\n# Spark\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹Sparkæ§è½è°ä¼ä¸æéå¤çï¼1.1ï¼\n * äºåéå­¦å¤§æ°æ®-Sparkç¥è¯ä½ç³»åè¡æ»ç»\n * äºåéå­¦å¤§æ°æ®-Sparkæ°æ®å¾æåè§£å³æ¹æ¡\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-Sparké¢è¯å«è¡æ\n\n\n# Flink\n\nç½ç\n\nä¹¦\n\n * ãApache Flinkï¼é¿éåºåï¼ã\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-Flinkç¥è¯ä½ç³»ä¿å§çº§æ»ç»\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹Flinkåæ ¸ï¼1.12ï¼V1.0\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-Finké¢è¯å«è¡æ\n\n\n# HIVE\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-Hiveç¥è¯ä½ç³»ä¿å§çº§æ»ç»\n * äºåéå­¦å¤§æ°æ®-HiveSQLæ§è¡è®¡åè¯¦è§£\n * äºåéå­¦å¤§æ°æ®-æå¼ºHiveSQLå¼åæå\n\n\n# æ°ä»ãæ°æ¹\n\nç½ç\n\nä¹¦\n\n * ãæ°æ®ä»åºå·¥å·ç®± ç»´åº¦å»ºæ¨¡æå¨æå ç¬¬3çã\n\nèµæ\n\n * 3ä¸å­38é¡µãæ°æ®ä»åºç¥è¯ä½ç³»ã\n * äºåéå­¦å¤§æ°æ®-å¤§åå®æ¶æ°ä»å»ºè®¾æ¡ä¾\n * äºåéå­¦å¤§æ°æ®-æ°æ®æ¹ç¥è¯ä½ç³»æ»ç»\n * äºåéå­¦å¤§æ°æ®-æå¼ºæ°ä»å»ºè®¾ä¿å§çº§æç¨\n * äºåéå­¦å¤§æ°æ®-æå¼ºæå¨é¢æ°ä»å»ºè®¾è§èæåï¼å¼ºçæ¨èï¼\n * äºåéå­¦å¤§æ°æ®-ç¾å¢æ°æ®å¹³å°åæ°ä»å»ºè®¾å®è·µï¼å¨ç½ç¬åï¼\n\n\n# DataX\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹DataX\n\n\n# Azkaban\n\nç½ç\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹Azkaban\n\n\n# æºå¨å­¦ä¹ \n\nç½ç\n\nä¹¦\n\n * ãå¨å¿å-æºå¨å­¦ä¹ ãï¼è¥¿çä¹¦ï¼\n * ãèªç¶è¯­è¨å¤çã\n * ãç²¾éç¹å¾å·¥ç¨ã\n\n\n# 3. æ°æ®åºåSQL\n\n\n# SQL\n\nç½ç\n\nä¹¦\n\n * ãSQLè¿é¶æç¨ãé«æ¸ä¸­æç\n * ãMySQLå®æ45è®²ã\n * ãMySQLå¿ç¥å¿ä¼ã\n * ãOracleä»å¥é¨å°ç²¾éã\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-æå¼ºæå¨é¢çå¤§æ°æ®SQLé¢è¯é¢åç­æ¡\n\n\n# 4. å¶ä»\n\n\n# Shell\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-é«çº§ææ¯ä¹Linux(CentOS7.9)\n * å°ç¡è°·-é«çº§ææ¯ä¹Shell\n\nä¹¦\n\n * ãLinuxå½ä»¤å¤§å¨æç´¢å·¥å· v1.5.1.pdfã\n * ãLinuxå½ä»¤è¡ä¸shellèæ¬ç¼ç¨å¤§å¨ç¬¬3çã\n * ãThe Linux Command Lineä¸­æçã\n * ãLinuxä»å¥é¨å°ç²¾éã\n * ãé¸å¥çLinuxç§æ¿èã\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-Linuxé¢è¯ä¸é¢åç­æ¡\n\n\n# æ­£åè¡¨è¾¾å¼\n\nä¹¦\n\nç½ç\n\n * ãç²¾éæ­£åè¡¨è¾¾å¼ç¬¬ä¸çï¼ç¾ï¼ä½çå¾·ã",normalizedContent:"# 1. åºç¡\n\n\n# java\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-javaç¥è¯ç¹å¤ä¹ \n\nä¹¦\n\n * ãæ·±å¥çè§£javaèææºï¼jvmé«çº§ç¹æ§ä¸æä½³å®è·µï¼ç¬¬3çï¼ã-å¨å¿æ(2019)\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-javaåºç¡é¢è¯é¢\n * äºåéå­¦å¤§æ°æ®-jvmé¢è¯ä¸é¢åç­æ¡\n\n\n# åºç¡\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-æä½ç³»ç»ç¯\n * äºåéå­¦å¤§æ°æ®-æ°æ®ç»æä¸ç®æ³ç¯\n * äºåéå­¦å¤§æ°æ®-è®¡ç®æºç½ç»ç¯\n\n\n# 2. å¤§æ°æ®\n\n\n# hadoop\n\nç½ç\n\nä¹¦\n\n * ãå¤§æ°æ®ä¹è·¯é¿éå·´å·´å¤§æ°æ®å®è·µã\n * ãå¤§æ°æ®ææ¯æ¶ææåï¼å¬ä¼å·ï¼è¿å»å§å¤§æ°æ®ç¼å¶ï¼ã\n\n----------------------------------------\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-hadoopä¼ä¸çº§è°ä¼æå\n * äºåéå­¦å¤§æ°æ®-hadoopç¥è¯ä½ç³»åè¡å®å¸\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-2022ææ°å¤§æ°æ®é¢è¯å®å¸\n\n\n# kafka\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-kafkaç¥è¯ä½ç³»åè¡æ»ç»\n\n\n# hbase\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-hbaseç¥è¯ä½ç³»åè¡æ»ç»\n\n\n# spark\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹sparkæ§è½è°ä¼ä¸æéå¤çï¼1.1ï¼\n * äºåéå­¦å¤§æ°æ®-sparkç¥è¯ä½ç³»åè¡æ»ç»\n * äºåéå­¦å¤§æ°æ®-sparkæ°æ®å¾æåè§£å³æ¹æ¡\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-sparké¢è¯å«è¡æ\n\n\n# flink\n\nç½ç\n\nä¹¦\n\n * ãapache flinkï¼é¿éåºåï¼ã\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-flinkç¥è¯ä½ç³»ä¿å§çº§æ»ç»\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹flinkåæ ¸ï¼1.12ï¼v1.0\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-finké¢è¯å«è¡æ\n\n\n# hive\n\nç½ç\n\nèµæ\n\n * äºåéå­¦å¤§æ°æ®-hiveç¥è¯ä½ç³»ä¿å§çº§æ»ç»\n * äºåéå­¦å¤§æ°æ®-hivesqlæ§è¡è®¡åè¯¦è§£\n * äºåéå­¦å¤§æ°æ®-æå¼ºhivesqlå¼åæå\n\n\n# æ°ä»ãæ°æ¹\n\nç½ç\n\nä¹¦\n\n * ãæ°æ®ä»åºå·¥å·ç®± ç»´åº¦å»ºæ¨¡æå¨æå ç¬¬3çã\n\nèµæ\n\n * 3ä¸å­38é¡µãæ°æ®ä»åºç¥è¯ä½ç³»ã\n * äºåéå­¦å¤§æ°æ®-å¤§åå®æ¶æ°ä»å»ºè®¾æ¡ä¾\n * äºåéå­¦å¤§æ°æ®-æ°æ®æ¹ç¥è¯ä½ç³»æ»ç»\n * äºåéå­¦å¤§æ°æ®-æå¼ºæ°ä»å»ºè®¾ä¿å§çº§æç¨\n * äºåéå­¦å¤§æ°æ®-æå¼ºæå¨é¢æ°ä»å»ºè®¾è§èæåï¼å¼ºçæ¨èï¼\n * äºåéå­¦å¤§æ°æ®-ç¾å¢æ°æ®å¹³å°åæ°ä»å»ºè®¾å®è·µï¼å¨ç½ç¬åï¼\n\n\n# datax\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹datax\n\n\n# azkaban\n\nç½ç\n\n * å°ç¡è°·-å¤§æ°æ®ææ¯ä¹azkaban\n\n\n# æºå¨å­¦ä¹ \n\nç½ç\n\nä¹¦\n\n * ãå¨å¿å-æºå¨å­¦ä¹ ãï¼è¥¿çä¹¦ï¼\n * ãèªç¶è¯­è¨å¤çã\n * ãç²¾éç¹å¾å·¥ç¨ã\n\n\n# 3. æ°æ®åºåsql\n\n\n# sql\n\nç½ç\n\nä¹¦\n\n * ãsqlè¿é¶æç¨ãé«æ¸ä¸­æç\n * ãmysqlå®æ45è®²ã\n * ãmysqlå¿ç¥å¿ä¼ã\n * ãoracleä»å¥é¨å°ç²¾éã\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-æå¼ºæå¨é¢çå¤§æ°æ®sqlé¢è¯é¢åç­æ¡\n\n\n# 4. å¶ä»\n\n\n# shell\n\nç½ç\n\nèµæ\n\n * å°ç¡è°·-é«çº§ææ¯ä¹linux(centos7.9)\n * å°ç¡è°·-é«çº§ææ¯ä¹shell\n\nä¹¦\n\n * ãlinuxå½ä»¤å¤§å¨æç´¢å·¥å· v1.5.1.pdfã\n * ãlinuxå½ä»¤è¡ä¸shellèæ¬ç¼ç¨å¤§å¨ç¬¬3çã\n * ãthe linux command lineä¸­æçã\n * ãlinuxä»å¥é¨å°ç²¾éã\n * ãé¸å¥çlinuxç§æ¿èã\n\né¢è¯é¢\n\n * äºåéå­¦å¤§æ°æ®-linuxé¢è¯ä¸é¢åç­æ¡\n\n\n# æ­£åè¡¨è¾¾å¼\n\nä¹¦\n\nç½ç\n\n * ãç²¾éæ­£åè¡¨è¾¾å¼ç¬¬ä¸çï¼ç¾ï¼ä½çå¾·ã",charsets:{cjk:!0},lastUpdated:"2022/05/03, 23:07:48",lastUpdatedTimestamp:1651590468e3},{title:"å¸¸ç¨å·¥å·æç½ç«",frontmatter:{title:"å¸¸ç¨å·¥å·æç½ç«",date:"2022-03-02T17:42:54.000Z",permalink:"/pages/414e9c/",categories:["å¶ä»","æè®°"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/99.%E6%9D%82%E8%AE%B0/01.%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E6%88%96%E7%BD%91%E7%AB%99.html",relativePath:"04.å¶ä»/99.æè®°/01.å¸¸ç¨å·¥å·æç½ç«.md",key:"v-5e6eb6cd",path:"/pages/414e9c/",headers:[{level:2,title:"å·¥å·æç½ç«",slug:"å·¥å·æç½ç«",normalizedTitle:"å·¥å·æç½ç«",charIndex:2},{level:3,title:"å¨çº¿å·¥å·",slug:"å¨çº¿å·¥å·",normalizedTitle:"å¨çº¿å·¥å·",charIndex:12},{level:3,title:"jaråä¸è½½",slug:"jaråä¸è½½",normalizedTitle:"jaråä¸è½½",charIndex:154},{level:3,title:"æ°æ®åºéç¨å®¢æ·ç«¯å·¥å·",slug:"æ°æ®åºéç¨å®¢æ·ç«¯å·¥å·",normalizedTitle:"æ°æ®åºéç¨å®¢æ·ç«¯å·¥å·",charIndex:437},{level:3,title:"èªå¨åé¨ç½²",slug:"èªå¨åé¨ç½²",normalizedTitle:"èªå¨åé¨ç½²",charIndex:668},{level:3,title:"æ¥å£æµè¯",slug:"æ¥å£æµè¯",normalizedTitle:"æ¥å£æµè¯",charIndex:897},{level:3,title:"åæ°æ®ç®¡ç",slug:"åæ°æ®ç®¡ç",normalizedTitle:"åæ°æ®ç®¡ç",charIndex:1471},{level:3,title:"èµæºä¸è½½",slug:"èµæºä¸è½½",normalizedTitle:"èµæºä¸è½½",charIndex:2482},{level:3,title:"å­¦ä¹ ç½ç«",slug:"å­¦ä¹ ç½ç«",normalizedTitle:"å­¦ä¹ ç½ç«",charIndex:2869},{level:3,title:"äºç",slug:"äºç",normalizedTitle:"äºç",charIndex:3238},{level:3,title:"æºç ç½ç«",slug:"æºç ç½ç«",normalizedTitle:"æºç ç½ç«",charIndex:3709},{level:3,title:"å¤§æ°æ®3Då¯è§å",slug:"å¤§æ°æ®3då¯è§å",normalizedTitle:"å¤§æ°æ®3då¯è§å",charIndex:4215},{level:3,title:"ç¬è®°",slug:"ç¬è®°",normalizedTitle:"ç¬è®°",charIndex:4357},{level:3,title:"ä½å¾",slug:"ä½å¾",normalizedTitle:"ä½å¾",charIndex:4957},{level:3,title:"ç§å­¦",slug:"ç§å­¦",normalizedTitle:"ç§å­¦",charIndex:5504},{level:3,title:"çµèå¿å¤å·¥å·",slug:"çµèå¿å¤å·¥å·",normalizedTitle:"çµèå¿å¤å·¥å·",charIndex:5796},{level:3,title:"çµèå¸¸ç¨æ¶è´¹å·¥å·",slug:"çµèå¸¸ç¨æ¶è´¹å·¥å·",normalizedTitle:"çµèå¸¸ç¨æ¶è´¹å·¥å·",charIndex:8797}],headersStr:"å·¥å·æç½ç« å¨çº¿å·¥å· jaråä¸è½½ æ°æ®åºéç¨å®¢æ·ç«¯å·¥å· èªå¨åé¨ç½² æ¥å£æµè¯ åæ°æ®ç®¡ç èµæºä¸è½½ å­¦ä¹ ç½ç« äºç æºç ç½ç« å¤§æ°æ®3Då¯è§å ç¬è®° ä½å¾ ç§å­¦ çµèå¿å¤å·¥å· çµèå¸¸ç¨æ¶è´¹å·¥å·",content:"# å·¥å·æç½ç«\n\n\n# å¨çº¿å·¥å·\n\né¿éäºå¨çº¿å°å·¥å·\n\nnull\n\n- name: é¿éäºå¨çº¿å°å·¥å·\n  desc: \n  link: https://developer.aliyun.com/skills/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# jaråä¸è½½\n\né¿éäº\n\nä¸è½½å ä¹ææjarå\n\nmavenä¸­å¤®ä»åº\n\nä¸è½½jarå\n\n- name: é¿éäº\n  desc: ä¸è½½å ä¹ææjarå\n  link: https://developer.aliyun.com/mvn/guide\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: mavenä¸­å¤®ä»åº\n  desc: ä¸è½½jarå\n  link: https://mvnrepository.com/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n# æ°æ®åºéç¨å®¢æ·ç«¯å·¥å·\n\ndbeaver\n\nåè´¹çå¤å¹³å°æ°æ®åºå·¥å·ï¼ä¸ºå¼åäººåï¼æ°æ®åºç®¡çåï¼åæå¸åææéè¦ä¸æ°æ®åºå·¥ä½çäººãæ¯ææææµè¡çæ°æ®åºã\n\n- name: dbeaver\n  desc: åè´¹çå¤å¹³å°æ°æ®åºå·¥å·ï¼ä¸ºå¼åäººåï¼æ°æ®åºç®¡çåï¼åæå¸åææéè¦ä¸æ°æ®åºå·¥ä½çäººãæ¯ææææµè¡çæ°æ®åºã\n  link: https://dbeaver.io/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# èªå¨åé¨ç½²\n\nJenkins\n\nJavaè¯­è¨å¼åï¼ç¨äºçæ§æç»­éå¤çå·¥ä½ï¼åæ¬ï¼æç»­çè½¯ä»¶çæ¬åå¸/æµè¯é¡¹ç®ï¼çæ§å¤é¨è°ç¨æ§è¡çå·¥ä½ã\n\n- name: Jenkins\n  desc: Javaè¯­è¨å¼åï¼ç¨äºçæ§æç»­éå¤çå·¥ä½ï¼åæ¬ï¼æç»­çè½¯ä»¶çæ¬åå¸/æµè¯é¡¹ç®ï¼çæ§å¤é¨è°ç¨æ§è¡çå·¥ä½ã\n  link: http://www.jenkins.org.cn/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# æ¥å£æµè¯\n\nApifox\n\nAPI ææ¡£ãAPI è°è¯ãAPI MockãAPI èªå¨åæµè¯ï¼Postman + Swagger + Mock + JMeterï¼\n\nEolink\n\nEolink æ¯å½åèµ·æ­¥è¾æ©çAPIå¨çå½å¨æç®¡çå¹³å°ãäº§åè½åè¦çAPIå¼å-è¿ç»´-å¼æ¾äº¤æï¼å®ç°APIç åç®¡çãAPIå¿«éæµè¯ãAPIèªå¨åæµè¯ãAPIçæ§ãAPIå¾®æå¡ç½å³ãAPIå¯¹å¤å¼æ¾ç­ä¼ä¸æ·±åº¦åºæ¯ã\n\n- name: Apifox\n  desc: API ææ¡£ãAPI è°è¯ãAPI MockãAPI èªå¨åæµè¯ï¼Postman + Swagger + Mock + JMeterï¼\n  link: https://www.apifox.cn/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: Eolink\n  desc: Eolink æ¯å½åèµ·æ­¥è¾æ©çAPIå¨çå½å¨æç®¡çå¹³å°ãäº§åè½åè¦çAPIå¼å-è¿ç»´-å¼æ¾äº¤æï¼å®ç°APIç åç®¡çãAPIå¿«éæµè¯ãAPIèªå¨åæµè¯ãAPIçæ§ãAPIå¾®æå¡ç½å³ãAPIå¯¹å¤å¼æ¾ç­ä¼ä¸æ·±åº¦åºæ¯ã\n  link: https://www.eolink.com/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n# åæ°æ®ç®¡ç\n\nApache Atlas\n\nåæ°æ®ç®¡çåæ°æ®æ²»çå¹³å°ï¼æ¯Hadoopç¤¾åºä¸ºè§£å³Hadoopçæç³»ç»çåæ°æ®æ²»çé®é¢èäº§ççå¼æºé¡¹ç®ï¼å®ä¸ºHadoopéç¾¤æä¾äºåæ¬æ°æ®åç±»ãéä¸­ç­ç¥å¼æãæ°æ®è¡ç¼ãå®å¨åçå½å¨æç®¡çå¨åçåæ°æ®æ²»çæ ¸å¿è½åã\n\nSQLFlow\n\nSQLFlowæ¯ä¸ä¸ªå¯è§åçå¨çº¿å¤çSQLå¯¹è±¡ä¾èµå³ç³»çå·¥å·ï¼åªéè¦ä¸ä¼ ä½ çSQLèæ¬ï¼å®å¯ä»¥èªå¨åæSQLéçæ°æ®å¯¹è±¡ï¼åæ¬databaseãschemaãtableãviewãcolumnãprocedureãfunctionãtriggerç­ç­ï¼å¹¶ä¸è½å¤åæè¿äºæ°æ®å¯¹è±¡ä¹é´çä¾èµå³ç³»ï¼å¹¶å°è¿äºä¾èµå³ç³»å¯è§åå±ç°åºæ¥ã\n\nPDManer\n\nPDManeråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·\n\n- name: Apache Atlas\n  desc: åæ°æ®ç®¡çåæ°æ®æ²»çå¹³å°ï¼æ¯Hadoopç¤¾åºä¸ºè§£å³Hadoopçæç³»ç»çåæ°æ®æ²»çé®é¢èäº§ççå¼æºé¡¹ç®ï¼å®ä¸ºHadoopéç¾¤æä¾äºåæ¬æ°æ®åç±»ãéä¸­ç­ç¥å¼æãæ°æ®è¡ç¼ãå®å¨åçå½å¨æç®¡çå¨åçåæ°æ®æ²»çæ ¸å¿è½åã\n  link: https://atlas.apache.org/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: SQLFlow\n  desc: SQLFlowæ¯ä¸ä¸ªå¯è§åçå¨çº¿å¤çSQLå¯¹è±¡ä¾èµå³ç³»çå·¥å·ï¼åªéè¦ä¸ä¼ ä½ çSQLèæ¬ï¼å®å¯ä»¥èªå¨åæSQLéçæ°æ®å¯¹è±¡ï¼åæ¬databaseãschemaãtableãviewãcolumnãprocedureãfunctionãtriggerç­ç­ï¼å¹¶ä¸è½å¤åæè¿äºæ°æ®å¯¹è±¡ä¹é´çä¾èµå³ç³»ï¼å¹¶å°è¿äºä¾èµå³ç³»å¯è§åå±ç°åºæ¥ã\n  link: https://github.com/sql-machine-learning/sqlflow\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: PDManer\n  desc: PDManeråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·\n  link: https://gitee.com/robergroup/pdmaner\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# èµæºä¸è½½\n\nåä¸ºäºéå\n\nåä¸ºå¼æºéåç«(Mirrors)æ¯ç±åä¸ºäºæä¾çå¼æºç»ä»¶ãå¼æºæä½ç³»ç»åå¼æºDevOpså·¥å·éåç«\n\nmacwk\n\nè§£å³mac0Sä¸è½¯ä»¶é¾çé®é¢ï¼è®©ä½ ç®ååç²æ´çä¸è½½è½¯ä»¶\n\n- name: åä¸ºäºéå\n  desc: åä¸ºå¼æºéåç«(Mirrors)æ¯ç±åä¸ºäºæä¾çå¼æºç»ä»¶ãå¼æºæä½ç³»ç»åå¼æºDevOpså·¥å·éåç«\n  link: https://mirrors.huaweicloud.com/home\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: macwk\n  desc: è§£å³mac0Sä¸è½¯ä»¶é¾çé®é¢ï¼è®©ä½ ç®ååç²æ´çä¸è½½è½¯ä»¶\n  link: https://macwk.com/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n# å­¦ä¹ ç½ç«\n\nåå©åå©\n\nbilibili\n\nèé¸æç¨\n\nç¼ç¨ç¥è¯\n\nITPUBææ¯è®ºå\n\nææ¯æè¿°\n\n- name: åå©åå©\n  desc: bilibili\n  link: https://www.bilibili.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: èé¸æç¨\n  desc: ç¼ç¨ç¥è¯\n  link: https://www.runoob.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: ITPUBææ¯è®ºå\n  desc: ææ¯æè¿°\n  link: http://www.itpub.net/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# äºç\n\nèå¥äº\n\nææ¯æè¿°\n\nç¾åº¦ç½ç\n\nææ¯æè¿°\n\nè¾è®¯å¾®äº\n\nææ¯æè¿°\n\né¿éç½ç\n\nææ¯æè¿°\n\n- name: èå¥äº\n  desc: ææ¯æè¿°\n  link: https://www.lanzous.com\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: ç¾åº¦ç½ç\n  desc: ææ¯æè¿°\n  link: https://pan.baidu.com\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: è¾è®¯å¾®äº\n  desc: ææ¯æè¿°\n  link: https://www.weiyun.com/disk\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: é¿éç½ç\n  desc: ææ¯æè¿°\n  link: https://www.aliyundrive.com/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n\n# æºç ç½ç«\n\nç äºGitee\n\nææ¯æè¿°\n\nGithub\n\nææ¯æè¿°\n\næºç ä¹å®¶\n\nææ¯æè¿°\n\nAxureShop\n\nAxureShopäº§åååç½ï¼ä»è´¹ï¼\n\n- name: ç äºGitee\n  desc: ææ¯æè¿°\n  link: https://gitee.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Github\n  desc: ææ¯æè¿°\n  link: https://github.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: æºç ä¹å®¶\n  desc: ææ¯æè¿°\n  link: https://www.mycodes.net\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: AxureShop\n  desc: AxureShopäº§åååç½ï¼ä»è´¹ï¼\n  link: http://demo.axureshop.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# å¤§æ°æ®3Då¯è§å\n\nThingJs\n\nææ¯æè¿°\n\n- name: ThingJs\n  desc: ææ¯æè¿°\n  link:  http://www.thingjs.com/guide/\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n# ç¬è®°\n\nObsidian\n\nç¥è¯æ´çå·¥å·ï¼ååé¾æ¥ï¼\n\n- name: Obsidian\n  desc: ç¥è¯æ´çå·¥å·ï¼ååé¾æ¥ï¼\n  link: https://obsidian.md/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\næéäºç¬è®°\n\nææ¯æè¿°\n\nå°è±¡ç¬è®°\n\nææ¯æè¿°\n\nåå®¢å­\n\nææ¯æè¿°\n\nCSDN\n\nææ¯æè¿°\n\n- name: æéäºç¬è®°\n  desc: ææ¯æè¿°\n  link:  http://note.youdao.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: å°è±¡ç¬è®°\n  desc: ææ¯æè¿°\n  link: https://www.yinxiang.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: åå®¢å­\n  desc: ææ¯æè¿°\n  link: https://www.cnblogs.com\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: CSDN\n  desc: ææ¯æè¿°\n  link: https://www.csdn.net\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# ä½å¾\n\nç¾åº¦èå¾\n\nææ¯æè¿°\n\nProcessOn\n\nææ¯æè¿°\n\nå¨çº¿æç»´å¯¼å¾(æ¨¡æ¿)\n\nææ¯æè¿°\n\nè½¯ä»¶\n\nVisioãStarUMLãè°·æ­æµè§å¨æä»¶GliffyãBalsamiq Mockups 3\n\n- name: ç¾åº¦èå¾\n  desc: ææ¯æè¿°\n  link:  https://naotu.baidu.com\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: ProcessOn\n  desc: ææ¯æè¿°\n  link: https://www.processon.com\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: å¨çº¿æç»´å¯¼å¾(æ¨¡æ¿)\n  desc: ææ¯æè¿°\n  link: https://mm.edrawsoft.cn\n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n- name: è½¯ä»¶\n  desc: VisioãStarUMLãè°·æ­æµè§å¨æä»¶GliffyãBalsamiq Mockups 3\n  link: \n  bgColor: '#F0DFB1'\n  textColor: '#2A3344'\n\n\n\n# ç§å­¦\n\nAnycast\n\nææ¯æè¿°\n\nPigcha\n\nææ¯æè¿°\n\n- name: Anycast\n  desc: ææ¯æè¿°\n  link:  http://s.anyjs2.com/share/mfekij | http://www.d1kuai.com/#/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Pigcha\n  desc: ææ¯æè¿°\n  link: https://github.com/pigpigchacha\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# çµèå¿å¤å·¥å·\n\nSublime Text\n\næå¥½ç¨çææ¬ç¼è¾å¨ä¹ä¸\n\nObsidian\n\nè¿æ¬¾åè´¹çµæ´»çåºç¨ç¨åºå¯ä»¥è®©ä½ éå¿ææ¬²å°æèã\n\nTrafficMonitor\n\nä¸ä¸ªç¨äºæ¾ç¤ºå½åç½éãCPUååå­å©ç¨ççæ¡é¢æ¬æµ®çªè½¯ä»¶ï¼å¹¶æ¯æä»»å¡æ æ¾ç¤ºï¼æ¯ææ´æ¢ç®è¤ã\n\nListary\n\nWindows é©å½æ§çæä»¶æç´¢å·¥å·ãListary ä½¿å¾æ¥æ¾æä»¶åå¯å¨åºç¨ç¨åºåå¾å¼å¸¸è¿éï¼æ è®ºæ¯å¯¹æ®éç¨æ·è¿æ¯é«çº§ç¨æ·é½æ¯å¦æ­¤ï¼\n\nQuicker\n\næ¨çæå°å·¥å·ç®±\n\nmemreduct\n\nè½»éçº§å®æ¶åå­ç®¡çåºç¨ç¨åºï¼ç¨äºçè§åæ¸çè®¡ç®æºä¸çç³»ç»åå­ã\n\nF.lux\n\nF.lux ä½¿ä½ ççµèå±å¹çèµ·æ¥åä½ æå¨çæ¿é´ï¼å§ç»å¦æ­¤ãå½å¤ªé³è½å±±æ¶ï¼å®ä½¿ä½ ççµèçèµ·æ¥åå®¤åç¯åãæ©æ¨ï¼å®åä½¿äºç©çèµ·æ¥åé³å\n\nKeyFreeze\n\nKeyFreeze æ¯ä¸æ¬¾åè´¹ç Windows åºç¨ç¨åºï¼å®å¯ä»¥å¨ä¸ âéå®â å±å¹çæåµä¸éå®æ¨çé®çåé¼ æ ãè¿æ ·æ¨çå­©å­å°±å¯ä»¥å®å¨å°è§çå¨ç»çï¼æèä¸ä»ä»¬çç¥ç¶æ¯è¿è¡è§é¢èå¤©ï¼å¹¶éå¿ææ¬²å°æ²å»é®çã\n\nPDManer\n\nPDManeråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·ï¼ç¸å¯¹äºPowerDesignerï¼ä»å·å¤çé¢ç®æ´ç¾è§ï¼æä½ç®åï¼ä¸æå®¹æç­ç¹ç¹ãæ¯æWindows,Mac,Linuxç­æä½ç³»ç»ï¼ä¹è½å¤æ¯æå½äº§æä½ç³»ç»\n\nFiddler\n\nFiddleræ¯ä¸ä¸ªhttpåè®®è°è¯ä»£çå·¥å·ã\n\nSnipaste\n\næªå¾ãè´´å¾å·¥å·\n\nWinRAR\n\nåç¼©å·¥å·\n\nå¾å§å·¥å·ç®±\n\nå¾å§å·¥å·ç®±ï¼æ¯å¼æºãåè´¹ãç»¿è²ãçº¯åçç¡¬ä»¶æ£æµå·¥å·åéï¼ä¸ä¸ºææè®¡ç®æºç¡¬ä»¶æå®¢ãDIYç±å¥½èãåè·¯å¤§ç¥åå°ç½å¶ä½ãéæå¤§éå¸¸è§ç¡¬ä»¶æ£æµãè¯åå·¥å·ï¼ä¸é®ä¸è½½ãæ¹ä¾¿ä½¿ç¨ã\n\nFolcolor\n\nç»ä½ ç Windows æä»¶å¤¹æ¶è²å¯ä»¥å¸®å©ä½ æ´çåæé«å·¥ä½æçãä½ çæä»¶å¤¹å¯ä»¥éè¿é¢è²ç«å³è¯å«ï¼èä¸æ¯éè¦åä¸æ¥éè¯»æ ç­¾ã\n\n- name: Sublime Text\n  desc: æå¥½ç¨çææ¬ç¼è¾å¨ä¹ä¸\n  link: https://www.sublimetext.com/\n  link2: https://sublimetext.p2hp.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Obsidian\n  desc: è¿æ¬¾åè´¹çµæ´»çåºç¨ç¨åºå¯ä»¥è®©ä½ éå¿ææ¬²å°æèã\n  link: https://obsidian.md/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: TrafficMonitor\n  desc: ä¸ä¸ªç¨äºæ¾ç¤ºå½åç½éãCPUååå­å©ç¨ççæ¡é¢æ¬æµ®çªè½¯ä»¶ï¼å¹¶æ¯æä»»å¡æ æ¾ç¤ºï¼æ¯ææ´æ¢ç®è¤ã\n  link: https://github.com/zhongyang219/TrafficMonitor\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Listary\n  desc: Windows é©å½æ§çæä»¶æç´¢å·¥å·ãListary ä½¿å¾æ¥æ¾æä»¶åå¯å¨åºç¨ç¨åºåå¾å¼å¸¸è¿éï¼æ è®ºæ¯å¯¹æ®éç¨æ·è¿æ¯é«çº§ç¨æ·é½æ¯å¦æ­¤ï¼\n  link: https://www.listary.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Quicker\n  desc: æ¨çæå°å·¥å·ç®±\n  link: https://getquicker.net/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: memreduct\n  desc: è½»éçº§å®æ¶åå­ç®¡çåºç¨ç¨åºï¼ç¨äºçè§åæ¸çè®¡ç®æºä¸çç³»ç»åå­ã\n  link: https://github.com/henrypp/memreduct\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: F.lux\n  desc: F.lux ä½¿ä½ ççµèå±å¹çèµ·æ¥åä½ æå¨çæ¿é´ï¼å§ç»å¦æ­¤ãå½å¤ªé³è½å±±æ¶ï¼å®ä½¿ä½ ççµèçèµ·æ¥åå®¤åç¯åãæ©æ¨ï¼å®åä½¿äºç©çèµ·æ¥åé³å\n  link: https://justgetflux.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: KeyFreeze\n  desc: KeyFreeze æ¯ä¸æ¬¾åè´¹ç Windows åºç¨ç¨åºï¼å®å¯ä»¥å¨ä¸ âéå®â å±å¹çæåµä¸éå®æ¨çé®çåé¼ æ ãè¿æ ·æ¨çå­©å­å°±å¯ä»¥å®å¨å°è§çå¨ç»çï¼æèä¸ä»ä»¬çç¥ç¶æ¯è¿è¡è§é¢èå¤©ï¼å¹¶éå¿ææ¬²å°æ²å»é®çã\n  link: https://www.keyfreeze.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: PDManer\n  desc: PDManeråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·ï¼ç¸å¯¹äºPowerDesignerï¼ä»å·å¤çé¢ç®æ´ç¾è§ï¼æä½ç®åï¼ä¸æå®¹æç­ç¹ç¹ãæ¯æWindows,Mac,Linuxç­æä½ç³»ç»ï¼ä¹è½å¤æ¯æå½äº§æä½ç³»ç»\n  link: https://gitee.com/robergroup/pdmaner\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Fiddler\n  desc: Fiddleræ¯ä¸ä¸ªhttpåè®®è°è¯ä»£çå·¥å·ã\n  link: https://www.fiddler.net.cn/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Snipaste\n  desc: æªå¾ãè´´å¾å·¥å·\n  link: https://www.snipaste.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: WinRAR\n  desc: åç¼©å·¥å·\n  link: https://www.winrar.com.cn/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: å¾å§å·¥å·ç®±\n  desc: å¾å§å·¥å·ç®±ï¼æ¯å¼æºãåè´¹ãç»¿è²ãçº¯åçç¡¬ä»¶æ£æµå·¥å·åéï¼ä¸ä¸ºææè®¡ç®æºç¡¬ä»¶æå®¢ãDIYç±å¥½èãåè·¯å¤§ç¥åå°ç½å¶ä½ãéæå¤§éå¸¸è§ç¡¬ä»¶æ£æµãè¯åå·¥å·ï¼ä¸é®ä¸è½½ãæ¹ä¾¿ä½¿ç¨ã\n  link: https://www.tbtool.cn/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Folcolor\n  desc: ç»ä½ ç Windows æä»¶å¤¹æ¶è²å¯ä»¥å¸®å©ä½ æ´çåæé«å·¥ä½æçãä½ çæä»¶å¤¹å¯ä»¥éè¿é¢è²ç«å³è¯å«ï¼èä¸æ¯éè¦åä¸æ¥éè¯»æ ç­¾ã\n  link: http://www.folcolor.com/\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n\n\n\n# çµèå¸¸ç¨æ¶è´¹å·¥å·\n\nWallpaper Engine\n\nåºäºSteamå¹³å°çå£çº¸è½¯ä»¶\n\nBeyond Compare\n\nBeyond Compare æ¯æ°æ®æ¯è¾çä¸ä¸éæ©ãæ¯è¾æä»¶å¤¹ãææ¬æä»¶ãå¾ååè¡¨æ ¼ãé«æå®¡æ¥å·®å¼å¹¶èªä¿¡å°åå¹¶æ´æ¹ã\n\nSecureCRT\n\néç¨äº WindowsãmacOS å Linux ç SecureCRT å®¢æ·ç«¯ä¸ºè®¡ç®ä¸ä¸äººåæä¾äºåå®çç»ç«¯ä»¿çã\n\nInternet Download Manager\n\näºèç½ä¸è½½ç®¡çå¨ (IDM) æ¯ä¸ç§ä¸è½½å éå¨ï¼å¯å°ä¸è½½éåº¦æé«å¤è¾¾ 8 åï¼ç¨äºæ¢å¤ãç»ç»åå®æä¸è½½ã\n\nMyDockFinder\n\nMyDockFinderæ¯ä¸æ¬¾ç³»ç»å¿«éå¯å¨åæ§å¶æ¥çç³»ç»åè½çè½¯ä»¶ãå¯ä»¥ææ½æ·»å èªå·±åå¥½çç¨åºææä»¶ï¼ææ½ç´æ¥ä½¿ç¨ç¨åºæå¼æä»¶ï¼åºäºWinUIä½¿ç¨GPUæ¸²æï¼æµççå¨ç»ææï¼è´å¡å°æ²çº¿åè§æ¨¡ç³ï¼å¯ä»¥è°èæ¨¡ç³å¼ºåº¦ãç®¡çç³»ç»ææçªå£çæå°åå¨ç»ã\n\n- name: Wallpaper Engine\n  desc: åºäºSteamå¹³å°çå£çº¸è½¯ä»¶\n  link: https://www.wallpaperengine.io/zh-hans\n  bgColor: '#DFEEE7'\n  textColor: '#2A3344'\n- name: Beyond Compare\n  desc: Beyond Compare æ¯æ°æ®æ¯è¾çä¸ä¸éæ©ãæ¯è¾æä»¶å¤¹ãææ¬æä»¶ãå¾ååè¡¨æ ¼ãé«æå®¡æ¥å·®å¼å¹¶èªä¿¡å°åå¹¶æ´æ¹ã\n  link: https://bcompare.cn/\n  bgColor: '#DFEEE7'\n  textColor: '#D98765'\n- name: SecureCRT\n  desc: éç¨äº WindowsãmacOS å Linux ç SecureCRT å®¢æ·ç«¯ä¸ºè®¡ç®ä¸ä¸äººåæä¾äºåå®çç»ç«¯ä»¿çã\n  link: https://www.vandyke.com/products/securecrt/\n  bgColor: '#DFEEE7'\n  textColor: '#D98765'\n- name: Internet Download Manager\n  desc: äºèç½ä¸è½½ç®¡çå¨ (IDM) æ¯ä¸ç§ä¸è½½å éå¨ï¼å¯å°ä¸è½½éåº¦æé«å¤è¾¾ 8 åï¼ç¨äºæ¢å¤ãç»ç»åå®æä¸è½½ã\n  link: https://www.internetdownloadmanager.com/\n  bgColor: '#DFEEE7'\n  textColor: '#D98765'\n- name: MyDockFinder\n  desc: MyDockFinderæ¯ä¸æ¬¾ç³»ç»å¿«éå¯å¨åæ§å¶æ¥çç³»ç»åè½çè½¯ä»¶ãå¯ä»¥ææ½æ·»å èªå·±åå¥½çç¨åºææä»¶ï¼ææ½ç´æ¥ä½¿ç¨ç¨åºæå¼æä»¶ï¼åºäºWinUIä½¿ç¨GPUæ¸²æï¼æµççå¨ç»ææï¼è´å¡å°æ²çº¿åè§æ¨¡ç³ï¼å¯ä»¥è°èæ¨¡ç³å¼ºåº¦ãç®¡çç³»ç»ææçªå£çæå°åå¨ç»ã\n  link: https://www.mydockfinder.com/\n  bgColor: '#DFEEE7'\n  textColor: '#D98765'\n",normalizedContent:"# å·¥å·æç½ç«\n\n\n# å¨çº¿å·¥å·\n\né¿éäºå¨çº¿å°å·¥å·\n\nnull\n\n- name: é¿éäºå¨çº¿å°å·¥å·\n  desc: \n  link: https://developer.aliyun.com/skills/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# jaråä¸è½½\n\né¿éäº\n\nä¸è½½å ä¹ææjarå\n\nmavenä¸­å¤®ä»åº\n\nä¸è½½jarå\n\n- name: é¿éäº\n  desc: ä¸è½½å ä¹ææjarå\n  link: https://developer.aliyun.com/mvn/guide\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: mavenä¸­å¤®ä»åº\n  desc: ä¸è½½jarå\n  link: https://mvnrepository.com/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n# æ°æ®åºéç¨å®¢æ·ç«¯å·¥å·\n\ndbeaver\n\nåè´¹çå¤å¹³å°æ°æ®åºå·¥å·ï¼ä¸ºå¼åäººåï¼æ°æ®åºç®¡çåï¼åæå¸åææéè¦ä¸æ°æ®åºå·¥ä½çäººãæ¯ææææµè¡çæ°æ®åºã\n\n- name: dbeaver\n  desc: åè´¹çå¤å¹³å°æ°æ®åºå·¥å·ï¼ä¸ºå¼åäººåï¼æ°æ®åºç®¡çåï¼åæå¸åææéè¦ä¸æ°æ®åºå·¥ä½çäººãæ¯ææææµè¡çæ°æ®åºã\n  link: https://dbeaver.io/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# èªå¨åé¨ç½²\n\njenkins\n\njavaè¯­è¨å¼åï¼ç¨äºçæ§æç»­éå¤çå·¥ä½ï¼åæ¬ï¼æç»­çè½¯ä»¶çæ¬åå¸/æµè¯é¡¹ç®ï¼çæ§å¤é¨è°ç¨æ§è¡çå·¥ä½ã\n\n- name: jenkins\n  desc: javaè¯­è¨å¼åï¼ç¨äºçæ§æç»­éå¤çå·¥ä½ï¼åæ¬ï¼æç»­çè½¯ä»¶çæ¬åå¸/æµè¯é¡¹ç®ï¼çæ§å¤é¨è°ç¨æ§è¡çå·¥ä½ã\n  link: http://www.jenkins.org.cn/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# æ¥å£æµè¯\n\napifox\n\napi ææ¡£ãapi è°è¯ãapi mockãapi èªå¨åæµè¯ï¼postman + swagger + mock + jmeterï¼\n\neolink\n\neolink æ¯å½åèµ·æ­¥è¾æ©çapiå¨çå½å¨æç®¡çå¹³å°ãäº§åè½åè¦çapiå¼å-è¿ç»´-å¼æ¾äº¤æï¼å®ç°apiç åç®¡çãapiå¿«éæµè¯ãapièªå¨åæµè¯ãapiçæ§ãapiå¾®æå¡ç½å³ãapiå¯¹å¤å¼æ¾ç­ä¼ä¸æ·±åº¦åºæ¯ã\n\n- name: apifox\n  desc: api ææ¡£ãapi è°è¯ãapi mockãapi èªå¨åæµè¯ï¼postman + swagger + mock + jmeterï¼\n  link: https://www.apifox.cn/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: eolink\n  desc: eolink æ¯å½åèµ·æ­¥è¾æ©çapiå¨çå½å¨æç®¡çå¹³å°ãäº§åè½åè¦çapiå¼å-è¿ç»´-å¼æ¾äº¤æï¼å®ç°apiç åç®¡çãapiå¿«éæµè¯ãapièªå¨åæµè¯ãapiçæ§ãapiå¾®æå¡ç½å³ãapiå¯¹å¤å¼æ¾ç­ä¼ä¸æ·±åº¦åºæ¯ã\n  link: https://www.eolink.com/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n# åæ°æ®ç®¡ç\n\napache atlas\n\nåæ°æ®ç®¡çåæ°æ®æ²»çå¹³å°ï¼æ¯hadoopç¤¾åºä¸ºè§£å³hadoopçæç³»ç»çåæ°æ®æ²»çé®é¢èäº§ççå¼æºé¡¹ç®ï¼å®ä¸ºhadoopéç¾¤æä¾äºåæ¬æ°æ®åç±»ãéä¸­ç­ç¥å¼æãæ°æ®è¡ç¼ãå®å¨åçå½å¨æç®¡çå¨åçåæ°æ®æ²»çæ ¸å¿è½åã\n\nsqlflow\n\nsqlflowæ¯ä¸ä¸ªå¯è§åçå¨çº¿å¤çsqlå¯¹è±¡ä¾èµå³ç³»çå·¥å·ï¼åªéè¦ä¸ä¼ ä½ çsqlèæ¬ï¼å®å¯ä»¥èªå¨åæsqléçæ°æ®å¯¹è±¡ï¼åæ¬databaseãschemaãtableãviewãcolumnãprocedureãfunctionãtriggerç­ç­ï¼å¹¶ä¸è½å¤åæè¿äºæ°æ®å¯¹è±¡ä¹é´çä¾èµå³ç³»ï¼å¹¶å°è¿äºä¾èµå³ç³»å¯è§åå±ç°åºæ¥ã\n\npdmaner\n\npdmaneråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·\n\n- name: apache atlas\n  desc: åæ°æ®ç®¡çåæ°æ®æ²»çå¹³å°ï¼æ¯hadoopç¤¾åºä¸ºè§£å³hadoopçæç³»ç»çåæ°æ®æ²»çé®é¢èäº§ççå¼æºé¡¹ç®ï¼å®ä¸ºhadoopéç¾¤æä¾äºåæ¬æ°æ®åç±»ãéä¸­ç­ç¥å¼æãæ°æ®è¡ç¼ãå®å¨åçå½å¨æç®¡çå¨åçåæ°æ®æ²»çæ ¸å¿è½åã\n  link: https://atlas.apache.org/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: sqlflow\n  desc: sqlflowæ¯ä¸ä¸ªå¯è§åçå¨çº¿å¤çsqlå¯¹è±¡ä¾èµå³ç³»çå·¥å·ï¼åªéè¦ä¸ä¼ ä½ çsqlèæ¬ï¼å®å¯ä»¥èªå¨åæsqléçæ°æ®å¯¹è±¡ï¼åæ¬databaseãschemaãtableãviewãcolumnãprocedureãfunctionãtriggerç­ç­ï¼å¹¶ä¸è½å¤åæè¿äºæ°æ®å¯¹è±¡ä¹é´çä¾èµå³ç³»ï¼å¹¶å°è¿äºä¾èµå³ç³»å¯è§åå±ç°åºæ¥ã\n  link: https://github.com/sql-machine-learning/sqlflow\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: pdmaner\n  desc: pdmaneråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·\n  link: https://gitee.com/robergroup/pdmaner\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# èµæºä¸è½½\n\nåä¸ºäºéå\n\nåä¸ºå¼æºéåç«(mirrors)æ¯ç±åä¸ºäºæä¾çå¼æºç»ä»¶ãå¼æºæä½ç³»ç»åå¼æºdevopså·¥å·éåç«\n\nmacwk\n\nè§£å³mac0sä¸è½¯ä»¶é¾çé®é¢ï¼è®©ä½ ç®ååç²æ´çä¸è½½è½¯ä»¶\n\n- name: åä¸ºäºéå\n  desc: åä¸ºå¼æºéåç«(mirrors)æ¯ç±åä¸ºäºæä¾çå¼æºç»ä»¶ãå¼æºæä½ç³»ç»åå¼æºdevopså·¥å·éåç«\n  link: https://mirrors.huaweicloud.com/home\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: macwk\n  desc: è§£å³mac0sä¸è½¯ä»¶é¾çé®é¢ï¼è®©ä½ ç®ååç²æ´çä¸è½½è½¯ä»¶\n  link: https://macwk.com/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n# å­¦ä¹ ç½ç«\n\nåå©åå©\n\nbilibili\n\nèé¸æç¨\n\nç¼ç¨ç¥è¯\n\nitpubææ¯è®ºå\n\nææ¯æè¿°\n\n- name: åå©åå©\n  desc: bilibili\n  link: https://www.bilibili.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: èé¸æç¨\n  desc: ç¼ç¨ç¥è¯\n  link: https://www.runoob.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: itpubææ¯è®ºå\n  desc: ææ¯æè¿°\n  link: http://www.itpub.net/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# äºç\n\nèå¥äº\n\nææ¯æè¿°\n\nç¾åº¦ç½ç\n\nææ¯æè¿°\n\nè¾è®¯å¾®äº\n\nææ¯æè¿°\n\né¿éç½ç\n\nææ¯æè¿°\n\n- name: èå¥äº\n  desc: ææ¯æè¿°\n  link: https://www.lanzous.com\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: ç¾åº¦ç½ç\n  desc: ææ¯æè¿°\n  link: https://pan.baidu.com\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: è¾è®¯å¾®äº\n  desc: ææ¯æè¿°\n  link: https://www.weiyun.com/disk\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: é¿éç½ç\n  desc: ææ¯æè¿°\n  link: https://www.aliyundrive.com/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n\n# æºç ç½ç«\n\nç äºgitee\n\nææ¯æè¿°\n\ngithub\n\nææ¯æè¿°\n\næºç ä¹å®¶\n\nææ¯æè¿°\n\naxureshop\n\naxureshopäº§åååç½ï¼ä»è´¹ï¼\n\n- name: ç äºgitee\n  desc: ææ¯æè¿°\n  link: https://gitee.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: github\n  desc: ææ¯æè¿°\n  link: https://github.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: æºç ä¹å®¶\n  desc: ææ¯æè¿°\n  link: https://www.mycodes.net\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: axureshop\n  desc: axureshopäº§åååç½ï¼ä»è´¹ï¼\n  link: http://demo.axureshop.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# å¤§æ°æ®3då¯è§å\n\nthingjs\n\nææ¯æè¿°\n\n- name: thingjs\n  desc: ææ¯æè¿°\n  link:  http://www.thingjs.com/guide/\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n# ç¬è®°\n\nobsidian\n\nç¥è¯æ´çå·¥å·ï¼ååé¾æ¥ï¼\n\n- name: obsidian\n  desc: ç¥è¯æ´çå·¥å·ï¼ååé¾æ¥ï¼\n  link: https://obsidian.md/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\næéäºç¬è®°\n\nææ¯æè¿°\n\nå°è±¡ç¬è®°\n\nææ¯æè¿°\n\nåå®¢å­\n\nææ¯æè¿°\n\ncsdn\n\nææ¯æè¿°\n\n- name: æéäºç¬è®°\n  desc: ææ¯æè¿°\n  link:  http://note.youdao.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: å°è±¡ç¬è®°\n  desc: ææ¯æè¿°\n  link: https://www.yinxiang.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: åå®¢å­\n  desc: ææ¯æè¿°\n  link: https://www.cnblogs.com\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: csdn\n  desc: ææ¯æè¿°\n  link: https://www.csdn.net\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# ä½å¾\n\nç¾åº¦èå¾\n\nææ¯æè¿°\n\nprocesson\n\nææ¯æè¿°\n\nå¨çº¿æç»´å¯¼å¾(æ¨¡æ¿)\n\nææ¯æè¿°\n\nè½¯ä»¶\n\nvisioãstarumlãè°·æ­æµè§å¨æä»¶gliffyãbalsamiq mockups 3\n\n- name: ç¾åº¦èå¾\n  desc: ææ¯æè¿°\n  link:  https://naotu.baidu.com\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: processon\n  desc: ææ¯æè¿°\n  link: https://www.processon.com\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: å¨çº¿æç»´å¯¼å¾(æ¨¡æ¿)\n  desc: ææ¯æè¿°\n  link: https://mm.edrawsoft.cn\n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n- name: è½¯ä»¶\n  desc: visioãstarumlãè°·æ­æµè§å¨æä»¶gliffyãbalsamiq mockups 3\n  link: \n  bgcolor: '#f0dfb1'\n  textcolor: '#2a3344'\n\n\n\n# ç§å­¦\n\nanycast\n\nææ¯æè¿°\n\npigcha\n\nææ¯æè¿°\n\n- name: anycast\n  desc: ææ¯æè¿°\n  link:  http://s.anyjs2.com/share/mfekij | http://www.d1kuai.com/#/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: pigcha\n  desc: ææ¯æè¿°\n  link: https://github.com/pigpigchacha\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# çµèå¿å¤å·¥å·\n\nsublime text\n\næå¥½ç¨çææ¬ç¼è¾å¨ä¹ä¸\n\nobsidian\n\nè¿æ¬¾åè´¹çµæ´»çåºç¨ç¨åºå¯ä»¥è®©ä½ éå¿ææ¬²å°æèã\n\ntrafficmonitor\n\nä¸ä¸ªç¨äºæ¾ç¤ºå½åç½éãcpuååå­å©ç¨ççæ¡é¢æ¬æµ®çªè½¯ä»¶ï¼å¹¶æ¯æä»»å¡æ æ¾ç¤ºï¼æ¯ææ´æ¢ç®è¤ã\n\nlistary\n\nwindows é©å½æ§çæä»¶æç´¢å·¥å·ãlistary ä½¿å¾æ¥æ¾æä»¶åå¯å¨åºç¨ç¨åºåå¾å¼å¸¸è¿éï¼æ è®ºæ¯å¯¹æ®éç¨æ·è¿æ¯é«çº§ç¨æ·é½æ¯å¦æ­¤ï¼\n\nquicker\n\næ¨çæå°å·¥å·ç®±\n\nmemreduct\n\nè½»éçº§å®æ¶åå­ç®¡çåºç¨ç¨åºï¼ç¨äºçè§åæ¸çè®¡ç®æºä¸çç³»ç»åå­ã\n\nf.lux\n\nf.lux ä½¿ä½ ççµèå±å¹çèµ·æ¥åä½ æå¨çæ¿é´ï¼å§ç»å¦æ­¤ãå½å¤ªé³è½å±±æ¶ï¼å®ä½¿ä½ ççµèçèµ·æ¥åå®¤åç¯åãæ©æ¨ï¼å®åä½¿äºç©çèµ·æ¥åé³å\n\nkeyfreeze\n\nkeyfreeze æ¯ä¸æ¬¾åè´¹ç windows åºç¨ç¨åºï¼å®å¯ä»¥å¨ä¸ âéå®â å±å¹çæåµä¸éå®æ¨çé®çåé¼ æ ãè¿æ ·æ¨çå­©å­å°±å¯ä»¥å®å¨å°è§çå¨ç»çï¼æèä¸ä»ä»¬çç¥ç¶æ¯è¿è¡è§é¢èå¤©ï¼å¹¶éå¿ææ¬²å°æ²å»é®çã\n\npdmaner\n\npdmaneråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·ï¼ç¸å¯¹äºpowerdesignerï¼ä»å·å¤çé¢ç®æ´ç¾è§ï¼æä½ç®åï¼ä¸æå®¹æç­ç¹ç¹ãæ¯æwindows,mac,linuxç­æä½ç³»ç»ï¼ä¹è½å¤æ¯æå½äº§æä½ç³»ç»\n\nfiddler\n\nfiddleræ¯ä¸ä¸ªhttpåè®®è°è¯ä»£çå·¥å·ã\n\nsnipaste\n\næªå¾ãè´´å¾å·¥å·\n\nwinrar\n\nåç¼©å·¥å·\n\nå¾å§å·¥å·ç®±\n\nå¾å§å·¥å·ç®±ï¼æ¯å¼æºãåè´¹ãç»¿è²ãçº¯åçç¡¬ä»¶æ£æµå·¥å·åéï¼ä¸ä¸ºææè®¡ç®æºç¡¬ä»¶æå®¢ãdiyç±å¥½èãåè·¯å¤§ç¥åå°ç½å¶ä½ãéæå¤§éå¸¸è§ç¡¬ä»¶æ£æµãè¯åå·¥å·ï¼ä¸é®ä¸è½½ãæ¹ä¾¿ä½¿ç¨ã\n\nfolcolor\n\nç»ä½ ç windows æä»¶å¤¹æ¶è²å¯ä»¥å¸®å©ä½ æ´çåæé«å·¥ä½æçãä½ çæä»¶å¤¹å¯ä»¥éè¿é¢è²ç«å³è¯å«ï¼èä¸æ¯éè¦åä¸æ¥éè¯»æ ç­¾ã\n\n- name: sublime text\n  desc: æå¥½ç¨çææ¬ç¼è¾å¨ä¹ä¸\n  link: https://www.sublimetext.com/\n  link2: https://sublimetext.p2hp.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: obsidian\n  desc: è¿æ¬¾åè´¹çµæ´»çåºç¨ç¨åºå¯ä»¥è®©ä½ éå¿ææ¬²å°æèã\n  link: https://obsidian.md/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: trafficmonitor\n  desc: ä¸ä¸ªç¨äºæ¾ç¤ºå½åç½éãcpuååå­å©ç¨ççæ¡é¢æ¬æµ®çªè½¯ä»¶ï¼å¹¶æ¯æä»»å¡æ æ¾ç¤ºï¼æ¯ææ´æ¢ç®è¤ã\n  link: https://github.com/zhongyang219/trafficmonitor\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: listary\n  desc: windows é©å½æ§çæä»¶æç´¢å·¥å·ãlistary ä½¿å¾æ¥æ¾æä»¶åå¯å¨åºç¨ç¨åºåå¾å¼å¸¸è¿éï¼æ è®ºæ¯å¯¹æ®éç¨æ·è¿æ¯é«çº§ç¨æ·é½æ¯å¦æ­¤ï¼\n  link: https://www.listary.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: quicker\n  desc: æ¨çæå°å·¥å·ç®±\n  link: https://getquicker.net/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: memreduct\n  desc: è½»éçº§å®æ¶åå­ç®¡çåºç¨ç¨åºï¼ç¨äºçè§åæ¸çè®¡ç®æºä¸çç³»ç»åå­ã\n  link: https://github.com/henrypp/memreduct\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: f.lux\n  desc: f.lux ä½¿ä½ ççµèå±å¹çèµ·æ¥åä½ æå¨çæ¿é´ï¼å§ç»å¦æ­¤ãå½å¤ªé³è½å±±æ¶ï¼å®ä½¿ä½ ççµèçèµ·æ¥åå®¤åç¯åãæ©æ¨ï¼å®åä½¿äºç©çèµ·æ¥åé³å\n  link: https://justgetflux.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: keyfreeze\n  desc: keyfreeze æ¯ä¸æ¬¾åè´¹ç windows åºç¨ç¨åºï¼å®å¯ä»¥å¨ä¸ âéå®â å±å¹çæåµä¸éå®æ¨çé®çåé¼ æ ãè¿æ ·æ¨çå­©å­å°±å¯ä»¥å®å¨å°è§çå¨ç»çï¼æèä¸ä»ä»¬çç¥ç¶æ¯è¿è¡è§é¢èå¤©ï¼å¹¶éå¿ææ¬²å°æ²å»é®çã\n  link: https://www.keyfreeze.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: pdmaner\n  desc: pdmaneråæ°å»ºæ¨¡ï¼æ¯ä¸æ¬¾å¤æä½ç³»ç»å¼æºåè´¹çæ¡é¢çå³ç³»æ°æ®åºæ¨¡åå»ºæ¨¡å·¥å·ï¼ç¸å¯¹äºpowerdesignerï¼ä»å·å¤çé¢ç®æ´ç¾è§ï¼æä½ç®åï¼ä¸æå®¹æç­ç¹ç¹ãæ¯æwindows,mac,linuxç­æä½ç³»ç»ï¼ä¹è½å¤æ¯æå½äº§æä½ç³»ç»\n  link: https://gitee.com/robergroup/pdmaner\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: fiddler\n  desc: fiddleræ¯ä¸ä¸ªhttpåè®®è°è¯ä»£çå·¥å·ã\n  link: https://www.fiddler.net.cn/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: snipaste\n  desc: æªå¾ãè´´å¾å·¥å·\n  link: https://www.snipaste.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: winrar\n  desc: åç¼©å·¥å·\n  link: https://www.winrar.com.cn/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: å¾å§å·¥å·ç®±\n  desc: å¾å§å·¥å·ç®±ï¼æ¯å¼æºãåè´¹ãç»¿è²ãçº¯åçç¡¬ä»¶æ£æµå·¥å·åéï¼ä¸ä¸ºææè®¡ç®æºç¡¬ä»¶æå®¢ãdiyç±å¥½èãåè·¯å¤§ç¥åå°ç½å¶ä½ãéæå¤§éå¸¸è§ç¡¬ä»¶æ£æµãè¯åå·¥å·ï¼ä¸é®ä¸è½½ãæ¹ä¾¿ä½¿ç¨ã\n  link: https://www.tbtool.cn/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: folcolor\n  desc: ç»ä½ ç windows æä»¶å¤¹æ¶è²å¯ä»¥å¸®å©ä½ æ´çåæé«å·¥ä½æçãä½ çæä»¶å¤¹å¯ä»¥éè¿é¢è²ç«å³è¯å«ï¼èä¸æ¯éè¦åä¸æ¥éè¯»æ ç­¾ã\n  link: http://www.folcolor.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n\n\n\n# çµèå¸¸ç¨æ¶è´¹å·¥å·\n\nwallpaper engine\n\nåºäºsteamå¹³å°çå£çº¸è½¯ä»¶\n\nbeyond compare\n\nbeyond compare æ¯æ°æ®æ¯è¾çä¸ä¸éæ©ãæ¯è¾æä»¶å¤¹ãææ¬æä»¶ãå¾ååè¡¨æ ¼ãé«æå®¡æ¥å·®å¼å¹¶èªä¿¡å°åå¹¶æ´æ¹ã\n\nsecurecrt\n\néç¨äº windowsãmacos å linux ç securecrt å®¢æ·ç«¯ä¸ºè®¡ç®ä¸ä¸äººåæä¾äºåå®çç»ç«¯ä»¿çã\n\ninternet download manager\n\näºèç½ä¸è½½ç®¡çå¨ (idm) æ¯ä¸ç§ä¸è½½å éå¨ï¼å¯å°ä¸è½½éåº¦æé«å¤è¾¾ 8 åï¼ç¨äºæ¢å¤ãç»ç»åå®æä¸è½½ã\n\nmydockfinder\n\nmydockfinderæ¯ä¸æ¬¾ç³»ç»å¿«éå¯å¨åæ§å¶æ¥çç³»ç»åè½çè½¯ä»¶ãå¯ä»¥ææ½æ·»å èªå·±åå¥½çç¨åºææä»¶ï¼ææ½ç´æ¥ä½¿ç¨ç¨åºæå¼æä»¶ï¼åºäºwinuiä½¿ç¨gpuæ¸²æï¼æµççå¨ç»ææï¼è´å¡å°æ²çº¿åè§æ¨¡ç³ï¼å¯ä»¥è°èæ¨¡ç³å¼ºåº¦ãç®¡çç³»ç»ææçªå£çæå°åå¨ç»ã\n\n- name: wallpaper engine\n  desc: åºäºsteamå¹³å°çå£çº¸è½¯ä»¶\n  link: https://www.wallpaperengine.io/zh-hans\n  bgcolor: '#dfeee7'\n  textcolor: '#2a3344'\n- name: beyond compare\n  desc: beyond compare æ¯æ°æ®æ¯è¾çä¸ä¸éæ©ãæ¯è¾æä»¶å¤¹ãææ¬æä»¶ãå¾ååè¡¨æ ¼ãé«æå®¡æ¥å·®å¼å¹¶èªä¿¡å°åå¹¶æ´æ¹ã\n  link: https://bcompare.cn/\n  bgcolor: '#dfeee7'\n  textcolor: '#d98765'\n- name: securecrt\n  desc: éç¨äº windowsãmacos å linux ç securecrt å®¢æ·ç«¯ä¸ºè®¡ç®ä¸ä¸äººåæä¾äºåå®çç»ç«¯ä»¿çã\n  link: https://www.vandyke.com/products/securecrt/\n  bgcolor: '#dfeee7'\n  textcolor: '#d98765'\n- name: internet download manager\n  desc: äºèç½ä¸è½½ç®¡çå¨ (idm) æ¯ä¸ç§ä¸è½½å éå¨ï¼å¯å°ä¸è½½éåº¦æé«å¤è¾¾ 8 åï¼ç¨äºæ¢å¤ãç»ç»åå®æä¸è½½ã\n  link: https://www.internetdownloadmanager.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#d98765'\n- name: mydockfinder\n  desc: mydockfinderæ¯ä¸æ¬¾ç³»ç»å¿«éå¯å¨åæ§å¶æ¥çç³»ç»åè½çè½¯ä»¶ãå¯ä»¥ææ½æ·»å èªå·±åå¥½çç¨åºææä»¶ï¼ææ½ç´æ¥ä½¿ç¨ç¨åºæå¼æä»¶ï¼åºäºwinuiä½¿ç¨gpuæ¸²æï¼æµççå¨ç»ææï¼è´å¡å°æ²çº¿åè§æ¨¡ç³ï¼å¯ä»¥è°èæ¨¡ç³å¼ºåº¦ãç®¡çç³»ç»ææçªå£çæå°åå¨ç»ã\n  link: https://www.mydockfinder.com/\n  bgcolor: '#dfeee7'\n  textcolor: '#d98765'\n",charsets:{cjk:!0},lastUpdated:"2025/07/06, 23:26:24",lastUpdatedTimestamp:1751815584e3},{title:"å¿«æ·é®",frontmatter:{title:"å¿«æ·é®",date:"2022-04-02T14:56:18.000Z",permalink:"/pages/378bb1/",categories:["å¶ä»","æè®°"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/99.%E6%9D%82%E8%AE%B0/03.%E5%BF%AB%E6%8D%B7%E9%94%AE.html",relativePath:"04.å¶ä»/99.æè®°/03.å¿«æ·é®.md",key:"v-acb49e1a",path:"/pages/378bb1/",headers:[{level:3,title:"Sublimeå¿«æ·é®",slug:"sublimeå¿«æ·é®",normalizedTitle:"sublimeå¿«æ·é®",charIndex:2},{level:3,title:"IDEAå¿«æ·é®",slug:"ideaå¿«æ·é®",normalizedTitle:"ideaå¿«æ·é®",charIndex:726}],headersStr:"Sublimeå¿«æ·é® IDEAå¿«æ·é®",content:'# Sublimeå¿«æ·é®\n\n# åç¼è¾\nCtrl + Shift + L\n\n# å¤§å°åè½¬æ¢\nCtrl + K + U   # å¤§å\nCtrl + K + L   # å°å\n\n# å½ä»¤è¡\nCtrl + Shift + P\n\n# å¿«éæ¥æ¾ å¹éæ¬å·\nCtrl+R         # å¿«éæ¥æ¾å½æ°\nCtrl+M         # è·³è½¬å°å¦ä¸åæ¬å·\nCtrl+Shift+M   # å¿«éå¹éæ¬å·åå®¹\nCtrl+Shift+[   # æå ä»£ç \nCtrl+Shift+]   # å±å¼ä»£ç \nAlt+-          # åå°ä¸ä¸æ¬¡ç¼è¾çå°æ¹ï¼å¤æ¬¡æå¯ä»¥è¿½æº¯å°ç¼è¾è½¨è¿¹\nShift+Alt+-    # å¯¹åºçè¿åä¸ä¸ç¼è¾å¤ï¼ç´å°æç»ç¼è¾çå°æ¹ãè¿éè¯´çç¼è¾å¤ï¼å®éä¸å°±æ¯æçåæ æå¨çå°æ¹\nCtrl+;         # æ¥æ¾åéåï¼ä¹ä¼æ¾ç¤ºå½æ°åç§°ï¼\n\n# æä»¶\n["ctrl+shift+n"]\t\t# æ°å»ºçªå£\n["ctrl+shift+w"]\t\t# å³é­çªå£\n["ctrl+o"]\t\t        # æç¤ºæå¼æä»¶\n["ctrl+shift+t"]\t\t# éæ°æå¼æåå³é­çæä»¶\n["ctrl+n"]\t\t        # æ°å»ºæä»¶\n["ctrl+s"]\t\t        # ä¿å­æä»¶\n["ctrl+shift+s"]\t\t# å¦å­ä¸º\n["ctrl+w"]\t\t        # å³é­æä»¶\n\n# çªå£å\n["ctrl+k", "ctrl+b"]\t\t# ä¾§è¾¹æ \n["f11"]\t\t                # åæ¢å¨å±\n["shift+f11"]               # toggle_distraction_free\n\n\n\n# IDEAå¿«æ·é®\n\n# å¸¸ç¨å¿«æ·é®\nCtrl + X          # å é¤è¡\nCtrl + D          # å¤å¶è¡\nCtrl + /          # æ Ctrl+Shift+/ æ³¨éï¼// æè/â¦/ ï¼\nCtrl + E          # æè¿æå¼çæä»¶\nCtrl + H          # æ¾ç¤ºç±»ç»æå¾\nCtrl + F          # æç´¢\nCtrl + N          # æ¥æ¾ç±»\nCtrl + G        # è·³è½¬å°æä¸è¡\nAlt + 1           # å¿«éæå¼æéèå·¥ç¨é¢æ¿\nAlt +  left/right # åæ¢æå¼çæä»¶è§å¾\nAlt +  Up/Down    # å¨æ¹æ³é´å¿«éç§»å¨å®ä½\nAlt + åè½¦         # å¯¼å¥å,èªå¨ä¿®æ­£\nctrl + h        # æ¥æ¾å®ç°?\n\nä»£ç è¡¥å¨\t\nCtrl + Alt + V   # èªå¨è¡¥å¨åéååç±»åãä¾å¦ææ¬å·åçSQLèµæä¸ä¸ªåé ç¹å»settingå¾éLocal definitionå¯ä»¥èªå¨è¡¥å¨åéç±»å\n',normalizedContent:'# sublimeå¿«æ·é®\n\n# åç¼è¾\nctrl + shift + l\n\n# å¤§å°åè½¬æ¢\nctrl + k + u   # å¤§å\nctrl + k + l   # å°å\n\n# å½ä»¤è¡\nctrl + shift + p\n\n# å¿«éæ¥æ¾ å¹éæ¬å·\nctrl+r         # å¿«éæ¥æ¾å½æ°\nctrl+m         # è·³è½¬å°å¦ä¸åæ¬å·\nctrl+shift+m   # å¿«éå¹éæ¬å·åå®¹\nctrl+shift+[   # æå ä»£ç \nctrl+shift+]   # å±å¼ä»£ç \nalt+-          # åå°ä¸ä¸æ¬¡ç¼è¾çå°æ¹ï¼å¤æ¬¡æå¯ä»¥è¿½æº¯å°ç¼è¾è½¨è¿¹\nshift+alt+-    # å¯¹åºçè¿åä¸ä¸ç¼è¾å¤ï¼ç´å°æç»ç¼è¾çå°æ¹ãè¿éè¯´çç¼è¾å¤ï¼å®éä¸å°±æ¯æçåæ æå¨çå°æ¹\nctrl+;         # æ¥æ¾åéåï¼ä¹ä¼æ¾ç¤ºå½æ°åç§°ï¼\n\n# æä»¶\n["ctrl+shift+n"]\t\t# æ°å»ºçªå£\n["ctrl+shift+w"]\t\t# å³é­çªå£\n["ctrl+o"]\t\t        # æç¤ºæå¼æä»¶\n["ctrl+shift+t"]\t\t# éæ°æå¼æåå³é­çæä»¶\n["ctrl+n"]\t\t        # æ°å»ºæä»¶\n["ctrl+s"]\t\t        # ä¿å­æä»¶\n["ctrl+shift+s"]\t\t# å¦å­ä¸º\n["ctrl+w"]\t\t        # å³é­æä»¶\n\n# çªå£å\n["ctrl+k", "ctrl+b"]\t\t# ä¾§è¾¹æ \n["f11"]\t\t                # åæ¢å¨å±\n["shift+f11"]               # toggle_distraction_free\n\n\n\n# ideaå¿«æ·é®\n\n# å¸¸ç¨å¿«æ·é®\nctrl + x          # å é¤è¡\nctrl + d          # å¤å¶è¡\nctrl + /          # æ ctrl+shift+/ æ³¨éï¼// æè/â¦/ ï¼\nctrl + e          # æè¿æå¼çæä»¶\nctrl + h          # æ¾ç¤ºç±»ç»æå¾\nctrl + f          # æç´¢\nctrl + n          # æ¥æ¾ç±»\nctrl + g        # è·³è½¬å°æä¸è¡\nalt + 1           # å¿«éæå¼æéèå·¥ç¨é¢æ¿\nalt +  left/right # åæ¢æå¼çæä»¶è§å¾\nalt +  up/down    # å¨æ¹æ³é´å¿«éç§»å¨å®ä½\nalt + åè½¦         # å¯¼å¥å,èªå¨ä¿®æ­£\nctrl + h        # æ¥æ¾å®ç°?\n\nä»£ç è¡¥å¨\t\nctrl + alt + v   # èªå¨è¡¥å¨åéååç±»åãä¾å¦ææ¬å·åçsqlèµæä¸ä¸ªåé ç¹å»settingå¾élocal definitionå¯ä»¥èªå¨è¡¥å¨åéç±»å\n',charsets:{cjk:!0},lastUpdated:"2022/07/06, 17:52:56",lastUpdatedTimestamp:1657101176e3},{title:"çç¢ç¥è¯",frontmatter:{title:"çç¢ç¥è¯",date:"2022-03-08T09:53:01.000Z",permalink:"/pages/c0e729/",categories:["å¶ä»","æè®°"],tags:[null]},regularPath:"/04.%E5%85%B6%E4%BB%96/99.%E6%9D%82%E8%AE%B0/02.%E7%90%90%E7%A2%8E%E7%9F%A5%E8%AF%86.html",relativePath:"04.å¶ä»/99.æè®°/02.çç¢ç¥è¯.md",key:"v-90e7de80",path:"/pages/c0e729/",headers:[{level:3,title:"1ãè±æç¼©å",slug:"_1ãè±æç¼©å",normalizedTitle:"1ãè±æç¼©å",charIndex:2},{level:4,title:"Python",slug:"python",normalizedTitle:"python",charIndex:12},{level:4,title:"Oracle",slug:"oracle",normalizedTitle:"oracle",charIndex:67},{level:3,title:"æå¡å¨",slug:"æå¡å¨",normalizedTitle:"æå¡å¨",charIndex:146},{level:3,title:"2ãhtmlå®ä½",slug:"_2ãhtmlå®ä½",normalizedTitle:"2ãhtmlå®ä½",charIndex:217},{level:3,title:"3ãä½è¿ç®çè¿ç¨",slug:"_3ãä½è¿ç®çè¿ç¨",normalizedTitle:"3ãä½è¿ç®çè¿ç¨",charIndex:250},{level:4,title:"ä¸è¿ç®",slug:"ä¸è¿ç®",normalizedTitle:"ä¸è¿ç®",charIndex:262},{level:5,title:"å¤æ­å¥å¶",slug:"å¤æ­å¥å¶",normalizedTitle:"å¤æ­å¥å¶",charIndex:269},{level:5,title:"åæ°æå®ä½ï¼æå®ä½ç½®0ï¼",slug:"åæ°æå®ä½-æå®ä½ç½®0",normalizedTitle:"åæ°æå®ä½ï¼æå®ä½ç½®0ï¼",charIndex:329},{level:5,title:"å¹³åå¼",slug:"å¹³åå¼",normalizedTitle:"å¹³åå¼",charIndex:521},{level:5,title:"å¤æ­æ´æ°æ¯ä¸æ¯2çå¹",slug:"å¤æ­æ´æ°æ¯ä¸æ¯2çå¹",normalizedTitle:"å¤æ­æ´æ°æ¯ä¸æ¯2çå¹",charIndex:601},{level:4,title:"æè¿ç®",slug:"æè¿ç®",normalizedTitle:"æè¿ç®",charIndex:692},{level:5,title:"å¯¹æ°æå®ä½ç½®1",slug:"å¯¹æ°æå®ä½ç½®1",normalizedTitle:"å¯¹æ°æå®ä½ç½®1",charIndex:699},{level:4,title:"éè¿ç®",slug:"éè¿ç®",normalizedTitle:"éè¿ç®",charIndex:827},{level:5,title:"æä½ä½ç½®é¶",slug:"æä½ä½ç½®é¶",normalizedTitle:"æä½ä½ç½®é¶",charIndex:834},{level:4,title:"å¼æè¿ç®",slug:"å¼æè¿ç®",normalizedTitle:"å¼æè¿ç®",charIndex:964},{level:5,title:"ç¿»è½¬æå®ä½",slug:"ç¿»è½¬æå®ä½",normalizedTitle:"ç¿»è½¬æå®ä½",charIndex:1076},{level:5,title:"ä¸¤æ°ç¸ç­",slug:"ä¸¤æ°ç¸ç­",normalizedTitle:"ä¸¤æ°ç¸ç­",charIndex:1193},{level:5,title:"äº¤æ¢ä¸¤ä¸ªæ°",slug:"äº¤æ¢ä¸¤ä¸ªæ°",normalizedTitle:"äº¤æ¢ä¸¤ä¸ªæ°",charIndex:1223},{level:5,title:"ç»å¯¹å¼",slug:"ç»å¯¹å¼",normalizedTitle:"ç»å¯¹å¼",charIndex:1312},{level:4,title:"ç§»ä½è¿ç®",slug:"ç§»ä½è¿ç®",normalizedTitle:"ç§»ä½è¿ç®",charIndex:1416},{level:5,title:"ä¹ãé¤ãåæ¨¡è¿ç®",slug:"ä¹ãé¤ãåæ¨¡è¿ç®",normalizedTitle:"ä¹ãé¤ãåæ¨¡è¿ç®",charIndex:1424},{level:3,title:"4ãæ¥ææ ¼å¼åä¸­çyyyyåYYYYï¼JAVAï¼",slug:"_4ãæ¥ææ ¼å¼åä¸­çyyyyåyyyy-java",normalizedTitle:"4ãæ¥ææ ¼å¼åä¸­çyyyyåyyyyï¼javaï¼",charIndex:1615},{level:4,title:"å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸²",slug:"å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸²",normalizedTitle:"å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸²",charIndex:1765},{level:3,title:"5ãwindowsä¸ä½¿ç¨Linuxå½ä»¤",slug:"_5ãwindowsä¸ä½¿ç¨linuxå½ä»¤",normalizedTitle:"5ãwindowsä¸ä½¿ç¨linuxå½ä»¤",charIndex:4484},{level:4,title:"èææº",slug:"èææº",normalizedTitle:"èææº",charIndex:4507},{level:5,title:"VMwareé®é¢",slug:"vmwareé®é¢",normalizedTitle:"vmwareé®é¢",charIndex:4528},{level:4,title:"gitå½ä»¤è¡",slug:"gitå½ä»¤è¡",normalizedTitle:"gitå½ä»¤è¡",charIndex:4826},{level:4,title:"WSL",slug:"wsl",normalizedTitle:"wsl",charIndex:4836},{level:4,title:"Dockeræ¯ä¸æ¯ä¹å¯ä»¥",slug:"dockeræ¯ä¸æ¯ä¹å¯ä»¥",normalizedTitle:"dockeræ¯ä¸æ¯ä¹å¯ä»¥",charIndex:5549},{level:3,title:"6ãå®è£jarå(æå¨ä¸è½½)",slug:"_6ãå®è£jarå-æå¨ä¸è½½",normalizedTitle:"6ãå®è£jarå(æå¨ä¸è½½)",charIndex:5566},{level:3,title:"7ãæç´¢å¼æè¯­æ³",slug:"_7ãæç´¢å¼æè¯­æ³",normalizedTitle:"7ãæç´¢å¼æè¯­æ³",charIndex:6504},{level:3,title:"8ãJDKæºç å¯¼å¥idea",slug:"_8ãjdkæºç å¯¼å¥idea",normalizedTitle:"8ãjdkæºç å¯¼å¥idea",charIndex:7610},{level:3,title:"9ãææ¡£ç¼åï¼ä¸­æææ¡æçæåï¼",slug:"_9ãææ¡£ç¼å-ä¸­æææ¡æçæå",normalizedTitle:"9ãææ¡£ç¼åï¼ä¸­æææ¡æçæåï¼",charIndex:7931},{level:3,title:"10ãå­ç¬¦ç¼ç ",slug:"_10ãå­ç¬¦ç¼ç ",normalizedTitle:"10ãå­ç¬¦ç¼ç ",charIndex:8155},{level:4,title:"ç¼ç ",slug:"ç¼ç ",normalizedTitle:"ç¼ç ",charIndex:8160},{level:4,title:"å­ç¬¦è½¬æ¢å·¥å·",slug:"å­ç¬¦è½¬æ¢å·¥å·",normalizedTitle:"å­ç¬¦è½¬æ¢å·¥å·",charIndex:10028},{level:4,title:"ç°ä»£ç¼ç æ¨¡å",slug:"ç°ä»£ç¼ç æ¨¡å",normalizedTitle:"ç°ä»£ç¼ç æ¨¡å",charIndex:10677}],headersStr:"1ãè±æç¼©å Python Oracle æå¡å¨ 2ãhtmlå®ä½ 3ãä½è¿ç®çè¿ç¨ ä¸è¿ç® å¤æ­å¥å¶ åæ°æå®ä½ï¼æå®ä½ç½®0ï¼ å¹³åå¼ å¤æ­æ´æ°æ¯ä¸æ¯2çå¹ æè¿ç® å¯¹æ°æå®ä½ç½®1 éè¿ç® æä½ä½ç½®é¶ å¼æè¿ç® ç¿»è½¬æå®ä½ ä¸¤æ°ç¸ç­ äº¤æ¢ä¸¤ä¸ªæ° ç»å¯¹å¼ ç§»ä½è¿ç® ä¹ãé¤ãåæ¨¡è¿ç® 4ãæ¥ææ ¼å¼åä¸­çyyyyåYYYYï¼JAVAï¼ å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸² 5ãwindowsä¸ä½¿ç¨Linuxå½ä»¤ èææº VMwareé®é¢ gitå½ä»¤è¡ WSL Dockeræ¯ä¸æ¯ä¹å¯ä»¥ 6ãå®è£jarå(æå¨ä¸è½½) 7ãæç´¢å¼æè¯­æ³ 8ãJDKæºç å¯¼å¥idea 9ãææ¡£ç¼åï¼ä¸­æææ¡æçæåï¼ 10ãå­ç¬¦ç¼ç  ç¼ç  å­ç¬¦è½¬æ¢å·¥å· ç°ä»£ç¼ç æ¨¡å",content:'# 1ãè±æç¼©å\n\n# Python\n\nç®ç§°    å¨ç§°\npip   package installer for python\n\n# Oracle\n\nç®ç§°     å¨ç§°\nCLOB   Character Large Object\nBLOB   binary large object\n\n\n# æå¡å¨\n\nç®ç§°    å¨ç§°\nNTP   ç½ç»æ¶é´åè®®ï¼è±æåç§°ï¼Network Time Protocolï¼NTPï¼\n\nNTP éç½®\n\n\n# 2ãhtmlå®ä½\n\n&amp; &lt;ç­å­ç¬¦ åèé¾æ¥\n\n\n# 3ãä½è¿ç®çè¿ç¨\n\n# ä¸è¿ç®\n\n# å¤æ­å¥å¶\n\nå¤æ­intååéaæ¯å¥æ°è¿æ¯å¶æ°\n\na & 1 = 0 // å¶æ°\na & 1 = 1 // å¥æ°\n\n\n# åæ°æå®ä½ï¼æå®ä½ç½®0ï¼\n\nåä¸ä¸ªæ°çæå®ä½\n\n// 1. åintååéaï¼äºè¿å¶ï¼çç¬¬kä½\na >> k & 1  // åå³ç§»kä½ï¼ä¸1åååºç¬¬kä½\n\n// 2. \n// æ¯å¦åæ° X=1010 1110 çä½4ä½ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°Yï¼ä»¤Yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³Y=0000 1111ï¼ç¶åå°Xä¸Yè¿è¡æä½ä¸è¿ç®ï¼X&Y=0000 1110ï¼å³å¯å¾å°Xçæå®ä½ã\n\n\n# å¹³åå¼\n\næ´æ°çå¹³åå¼\n\nint average(int x, int y)\n{   \n     return (x&y)+((x^y)>>1);\n}\n\n\n# å¤æ­æ´æ°æ¯ä¸æ¯2çå¹\n\nå¤æ­ä¸ä¸ªæ´æ°æ¯ä¸æ¯2çå¹\n\nboolean power2(int x)\n{\n    return ((x&(x-1))==0)&&(x!=0);\n}\n\n\n# æè¿ç®\n\n# å¯¹æ°æå®ä½ç½®1\n\nå¤æ­ä¸ä¸ªæ´æ°æ¯ä¸æ¯2çå¹\n\n// æ¯å¦å°æ° X=1010 1110 çä½4ä½è®¾ç½®ä¸º1ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°Yï¼ä»¤Yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³Y=0000 1111ï¼ç¶åå°Xä¸Yè¿è¡æä½æè¿ç®ï¼X|Y=1010 1111ï¼å³å¯å¾å°ã\n\n\n# éè¿ç®\n\n# æä½ä½ç½®é¶\n\nä½¿ä¸ä¸ªæ°çæä½ä½ä¸ºé¶\n\n// ä½¿açæä½ä½ä¸º0ï¼å¯ä»¥è¡¨ç¤ºä¸ºï¼a & ~1ã~1çå¼ä¸º 1111 1111 1111 1110ï¼åæ"ä¸"è¿ç®ï¼æä½ä½ä¸å®ä¸º0ãå ä¸º" ~"è¿ç®ç¬¦çä¼åçº§æ¯ç®æ¯è¿ç®ç¬¦ãå³ç³»è¿ç®ç¬¦ãé»è¾è¿ç®ç¬¦åå¶ä»è¿ç®ç¬¦é½é«\n\n\n# å¼æè¿ç®\n\n> å¼æçå æ¡æ§è´¨\n> \n>  1. äº¤æ¢å¾\n>  2. ç»åå¾ (a^b)^c == a^(b^c)\n>  3. å¯¹äºä»»ä½æ°xï¼é½æ x^x=0ï¼x^0=x\n>  4. èªåæ§: a^b^b=a^0=a\n\n# ç¿»è½¬æå®ä½\n\nç¿»è½¬æå®ä½\n\n// æ¯å¦å°æ° X=1010 1110 çä½4ä½è¿è¡ç¿»è½¬ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°Yï¼ä»¤Yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³Y=0000 1111ï¼ç¶åå°Xä¸Yè¿è¡å¼æè¿ç®ï¼X^Y=1010 0001ï¼å³å¯å¾å°\n\n\n# ä¸¤æ°ç¸ç­\n\nå¤æ­ä¸¤ä¸ªæ´æ°ç¸ç­\n\na ^ 1 = 0\n\n\n# äº¤æ¢ä¸¤ä¸ªæ°\n\nç¨ä½è¿ç®ç¬¦äº¤æ¢ä¸¤ä¸ªæ´æ°\n\nvoid swap(int x , int y)\n{\n    x ^= y;\n    y ^= x;\n    x ^= y;\n}\n\n\n# ç»å¯¹å¼\n\nè®¡ç®ç»å¯¹å¼\n\nint abs( int x )\n{\n  int y ;\n  y = x >> 31 ;\n  return (x^y)-y ;        // or: (x+y)^y\n}\n\n\n# ç§»ä½è¿ç®\n\n# ä¹ãé¤ãåæ¨¡è¿ç®\n\nä¹ãé¤ãåæ¨¡è¿ç®è½¬åæä½è¿ç® (å¨ä¸äº§çæº¢åºçæåµä¸)\n\n// ä¹æ³è¿ç®è½¬åæä½è¿ç®\na * (2^n)      ç­ä»·äº     a << n\n\n// é¤æ³è¿ç®è½¬åæä½è¿ç®\na / (2^n)      ç­ä»·äº     a >> n\n\n// åæ¨¡è¿ç®è½¬åæä½è¿ç®\na % (2^n)      ç­ä»·äº     a & (2^n - 1)\n\n\nåæå°å\n\n\n# 4ãæ¥ææ ¼å¼åä¸­çyyyyåYYYYï¼JAVAï¼\n\n 1. y æ¯Year, Y è¡¨ç¤ºçæ¯Week yearï¼Week year æææ¯å½å¤©æå¨çå¨å±äºçå¹´ä»½ï¼ä¸å¨ä»å¨æ¥å¼å§ï¼å¨å­ç»æï¼åªè¦æ¬å¨è·¨å¹´ï¼é£ä¹è¿å¨å°±ç®å¥ä¸ä¸å¹´ã\n 2. å¤§åçDDä»£è¡¨çæ¯å¤äºè¿ä¸å¹´ä¸­é£ä¸å¤©ï¼ä¸æ¯å¤äºè¿ä¸ªæçé£ä¸å¤©\n\n# å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸²\n\n 1. yyyy-MM-dd HH24:mi:ss\n\næ ¼å¼        æè¿°\nY         å¹´çæåä¸ä½æ°å­ï¼å¦ï¼5\nYY        å¹´çæåä¸¤ä½æ°å­ï¼å¦ï¼15\nYYY       å¹´çæåä¸ä½æ°å­ï¼å¦ï¼015\nYYYY      å¹´ï¼å¦ï¼2015\nY,YYY     å¹´ç¨éå·åå²\nSYYYY     å¹´\nYEAR      å¹´æ¼åï¼å¦ï¼TWENTY FIFTEEN\nSYEAR     å¹´æ¼åï¼å¦ï¼TWENTY FIFTEEN\nI         ISOå¹´çæåä¸ä½æ°å­ï¼å¦ï¼5\nIY        ISOå¹´çæåä¸¤ä½æ°å­ï¼å¦ï¼15\nIYY       ISOå¹´çæåä¸ä½æ°å­ï¼å¦ï¼015\nIYYY      ISOå¹´ï¼å¦ï¼2015\nRR        ä¸¤ä½æ°å­å¹´ï¼å¦ï¼15\nRRRR      åä½æ°å­å¹´ï¼å¦ï¼2015\nMM        Month (01-12)\nMON       æä»½ç®ç§°ï¼å¦ï¼JUN\nMONTH     æä»½å¨ç§°ï¼å¦ï¼JUNE\nRM        ç½é©¬æ°å­æä»½\nD         Day of week (1-7)\nDD        Day of month (1-31)\nDDD       Day of year (1-366)\nHH        Hour of day (1-12)\nHH12      Hour of day (1-12)\nHH24      Hour of day (0-23)\nMI        Minute (0-59)\nSS        Second (0-59)\nSSSSS     Seconds past midnight\nFF[1â¦9]   æ¯«ç§\nDS        æ¥æç®ç§°ï¼å¦ï¼6/12/2015\nDL        æ¥æå¨ç§°ï¼å¦ï¼Friday, June 12, 2015\nTS        æ¶é´ç®ç§°ï¼å¦ï¼5:18:03 PM\nCC        ä¸çºªï¼å¦ï¼21\nSCC       ä¸çºªï¼å¦ï¼21\nQ         Quarter of year (1, 2, 3, 4)\nW         Week of month (1-5)\nWW        Week of year (1-53)\nIW        ISO Week of year (1-52 or 1-53)\nDY        ææç®ç§°ï¼å¦ï¼Fri\nDAY       ææå¨ç§°ï¼å¦ï¼Friday\nAM        A.M.\nPM        P.M.\nAD        A.D.\nBC        B.C.\nTZD       å¤ä»¤æ¶\nTZR       æ¶åº\nTZH       æ¶åºä¹æ¶å·®\nTZM       æ¶åºä¹åéå·®\nEE        era å¨ç§°\nE         era ç®ç§°\nJ         The number of days since January 1, 4712 BC\nFM        å»æé¦å°¾ç©ºæ ¼\nFX        ç²¾ç¡®å¹é\nX         ç§åæ¯«ç§åéç¬¦\nTH        DDTH --\x3e 4th\nSP        DDSP --\x3eFOUR\nSPTH      DDSPTH --\x3e FOURTH\nTHSP      DDTHSP --\x3e FOURTH\n\n 2. %Y-%m-%d %H:%i:%s\n\næ ¼å¼   æè¿°\n%a   ç¼©åææå\n%b   ç¼©åæå\n%c   æï¼æ°å¼\n%D   å¸¦æè±æåç¼çæä¸­çå¤©\n%d   æçå¤©ï¼æ°å¼(00-31)\n%e   æçå¤©ï¼æ°å¼(0-31)\n%f   å¾®ç§\n%H   å°æ¶ (00-23)\n%h   å°æ¶ (01-12)\n%I   å°æ¶ (01-12)\n%i   åéï¼æ°å¼(00-59)\n%j   å¹´çå¤© (001-366)\n%k   å°æ¶ (0-23)\n%l   å°æ¶ (1-12)\n%M   æå\n%m   æï¼æ°å¼(00-12)\n%p   AM æ PM\n%r   æ¶é´ï¼12-å°æ¶ï¼hh:mm:ss AM æ PMï¼\n%S   ç§(00-59)\n%s   ç§(00-59)\n%T   æ¶é´, 24-å°æ¶ (hh:mm:ss)\n%U   å¨ (00-53) æææ¥æ¯ä¸å¨çç¬¬ä¸å¤©\n%u   å¨ (00-53) ææä¸æ¯ä¸å¨çç¬¬ä¸å¤©\n%V   å¨ (01-53) æææ¥æ¯ä¸å¨çç¬¬ä¸å¤©ï¼ä¸ %X ä½¿ç¨\n%v   å¨ (01-53) ææä¸æ¯ä¸å¨çç¬¬ä¸å¤©ï¼ä¸ %x ä½¿ç¨\n%W   ææå\n%w   å¨çå¤© ï¼0=æææ¥, 6=ææå­ï¼\n%X   å¹´ï¼å¶ä¸­çæææ¥æ¯å¨çç¬¬ä¸å¤©ï¼4 ä½ï¼ä¸ %V ä½¿ç¨\n%x   å¹´ï¼å¶ä¸­çææä¸æ¯å¨çç¬¬ä¸å¤©ï¼4 ä½ï¼ä¸ %v ä½¿ç¨\n%Y   å¹´ï¼4 ä½\n%y   å¹´ï¼2 ä½\n\nè½¬å­ç¬¦ä¸²\n\nSELECT to_char(sysdate, \'DD-MON-YYYY HH24:MI:SS\') FROM dual;          -- 10-AUG-2022 17:11:53\nSELECT to_char(sysdate, \'MON-YY-DD HH:MI:SS AM\') FROM dual;           -- AUG-22-10 05:02:49 PM\nSELECT to_char(current_timestamp, \'HH24:MI:SS\') FROM dual;            -- 17:06:10\nSELECT to_char(current_timestamp,\'HH12:MI:SS\') FROM dual ;            -- 05:03:01\nSELECT to_char(current_timestamp,\'FMHH12:FMMI:FMSS\') FROM dual;       -- 5:03:11\n\n\nè½¬æ¶é´æ³\n\nSELECT to_timestamp(\'-1\',\'SYYYY\') FROM dual;\nSELECT to_timestamp(\'98\',\'RR\') FROM dual;\nSELECT to_timestamp(\'01\',\'RR\') FROM dual;\nSELECT to_timestamp(\'12-Sep-10 14:10:10.123000\',\'DD-Mon-YY HH24:MI:SS.FF\') FROM dual;   -- 12-SEP-10 02.10.10.123000000 PM\n\n\n\n# 5ãwindowsä¸ä½¿ç¨Linuxå½ä»¤\n\n# èææº\n\nç±»ä¼¼äºVMWareç­è½¯ä»¶\n\n# VMwareé®é¢\n\n 1. è§£å³ VMware ä¸­ CentOS 7 æ²¡æens33ç½å¡çé®é¢\n    * é¦åè®¾ç½®å¨ç³»ç»å¯å¨æ¶æ¿æ´»ç½å¡ vim /etc/sysconfig/network-scripts/ifcfg-ens33 å°ONBOOT=noæ¹ä¸ºONBOOT=yes\n    * æ§è¡ifconfig ens33 upï¼æ­¤æ¶ifconfig æ¾ç¤ºæäºens33ç½å¡ï¼ä½æ²¡æip\n    * æ§è¡ systemctl stop NetworkManager ifup ens33\n    * éå¯ç½ç» systemctl restart network.service\n\nåæé¾æ¥\n\n# gitå½ä»¤è¡\n\n# WSL\n\néç¨äºLinuxçwindowså­ç³»ç»ï¼WSLï¼Windows Subsystem for Linuxï¼\n\n 1. ç§»å¨WSLé»è®¤ä½ç½®\n\n# ä¸è½½LxRunOfflineï¼ä¸è½½æä»¶LxRunOffline-vxxxx.zip\nhttps://github.com/DDoSolitary/LxRunOffline/releases\n\n# æ¥çå­ç³»ç»(linux)çæ¬å·(cmdæ§è¡, æ³¨æè¦ä¹éç½®ç¯å¢åé, è¦ä¹å¨LxRunOffline.exeæå¨ç®å½æå¼cmd)\nLxRunOffline list\n\n# å°Linuxç§»å¨å°æå®çç®å½\nLxRunOffline move -n {version} -d {dir}\nLxRunOffline move -n Ubuntu-18.04 -d D:\\VMware\\LxRunOffline-v3.5.0-msvc\\Linux\n\n\n 2. åºå®ip\n\nåèé¾æ¥\n\n 3. ä½¿ç¨\n\nä½¿ç¨å½ä»¤è¡å·¥å·è¿æ¥WSL\n\n# çæç§é¥\nsudo ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key\nsudo ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key\nsudo ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key\n\n# ä¿®æ¹/etc/ssh/sshd_configçPasswordAuthenticationé¡¹ä¸ºyes\n\n# éå¯ssh\nsudo service ssh restart\n\n# ä½¿ç¨å½ä»¤è¡å·¥å·è¿æ¥\n\n\n# Dockeræ¯ä¸æ¯ä¹å¯ä»¥\n\n\n# 6ãå®è£jarå(æå¨ä¸è½½)\n\né¿éäºmavenåä¸è½½\n\nmvn install:install-file -Dfile=jaråçä½ç½® -DgroupId=ä¸é¢çgroupId -DartifactId=ä¸é¢çartifactId -Dversion=ä¸é¢çversion -Dpackaging=jar\n\nmvn install:install-file -Dfile=./pentaho-aggdesigner-algorithm-5.1.5-jhyde.jar -DgroupId=org.pentaho -DartifactId=pentaho-aggdesigner-algorithm -Dversion=5.1.5-jhyde -Dpackaging=jar\nmvn install:install-file -Dfile=./eigenbase-properties-1.1.4.jar -DgroupId=eigenbase -DartifactId=eigenbase-properties -Dversion=1.1.4 -Dpackaging=jar\n\n\n# è¿æ¯ä¸è¡, æ¯æ¬¡mavenè¿ä¼å»ä¸­å¤®ä»åºæ¾jarå\n# è§£å³æ¹æ³ å é¤æ¬å°ä»åºä¸­è¯¥jaråä¸:  _remote.repositories å ä»¥.lastUpdatedç»å°¾çæä»¶(è¿æ_maven.repositories ?)\n# æéç®å½äº, æ¬å°æä¸¤ä¸ªmavenä»åº, å®è£å°å¦ä¸ä¸ªä¸é¢å»äº, ç»äºè§£å³äº!!!\n\n\nå¼å¥é¡¹ç®ç®å½ä¸çjarå\n\n<dependency>\n    <groupId >com.dameng.common</groupId>\n    <artifactId>common-aop</artifactId>\n    <version>${dm-aop.version}</version>\n    <scope>system</scope>\n    <systemPath>${basedir}\\lib\\com.dameng.common.aop_${dm-aop.version}.jar</systemPath>\n</dependency>\n\n\n\n# 7ãæç´¢å¼æè¯­æ³\n\næç´¢æä»¤        åè½                     ç¤ºä¾\n@           æç´¢ç¤¾äº¤åªä½                 @twitter\n$           æç´¢ç¹å®ä»·æ ¼                 camera $400\n#           æç´¢ # æ ç­¾                #throwbackthursday\n-           ä»æç´¢ç»æä¸­æé¤ç¹å®å­è¯           "kafka3.0" -ç¹æ§ site:csdn.net\n+           ä»æç´¢ç»æä¸­è·åç¹å®å­è¯           "kafka3.0" +ç¹æ§ site:csdn.net\nfiletype:   ç²¾ç¡®æç´¢æä»¶ç±»å               filetype:chm "java"\n""          æç´¢å®å¨å¹éçç»æ              "kafka3.0æ°ç¹æ§"\n..          å¨æä¸ªæ°å­èå´åæ§è¡æç´¢           camera $50..$100\nORï¼å¤§åï¼      ç»åæç´¢                   marathon OR race\nsite:       æç´¢ç¹å®ç½ç«                 "kafka3.0æ°ç¹æ§" site:csdn.net\nrelated:    æç´¢ç¸å³ç½ç«                 related:time.com\ninfo:       è·åç½ç«è¯¦æ                 info:giffox.com\ncache:      æ¥çç½ç«ç Google ç¼å­çæ¬      cache:google.com\n\\           æç¨ç­åäº OR               apple\\google, apple OR google\n*           æ³æç´¢ï¼è¡¨å¾æªç¥é¨åï¼åªéç¨äºè±æ      * is the mother of success\nãã          åªæ¥è¯¢å¾ä¹¦ãå½±è§ä½åï¼åªéç¨äºä¸­æ      ãé¢éæ¯ææ ·ç¼æçã\ndef:        æ¥è¯¢å³é®è¯çå®ä¹               def:diversity / google def:\ninurl       æ¥æ¾å¨ URL å°åéææç´¢å³é®è¯çé¡µé¢   inurl:download inurl:book éªä¸­æåè¡\nintitle     æ¥æ¾å¨ç½é¡µæ é¢éææç´¢å³é®è¯çé¡µé¢      intitle:kafka3.0\n\n\n# 8ãJDKæºç å¯¼å¥idea\n\n * å°jdkå®è£ç®å½ä¸çsrc.zipå¯¼å¥ideaé¡¹ç®ï¼å°jdkä¸çlib/tools.jarå å¥å°Project StructureçLibrariesï¼æ°å»ºæµè¯ç±»æµè¯ï¼å¨ æ¥éåè\n * debugæ¶jdkæºç åä¿æ¤: Settings -> Debugger -> Stepping -> Do not step into the classes\n * è°å¤§ç¼è¯å åå­: Settings -> Build,Execution,Deployment -> Compiler -> Build process heap size (Mbytes):\n * SDKä¸­src.zipæ¢æèªå·±çä»£ç è·¯å¾\n\n\n# 9ãææ¡£ç¼åï¼ä¸­æææ¡æçæåï¼\n\n<iframe src="https://github.com/sparanoid/chinese-copywriting-guidelines/blob/master/README.zh-Hans.md" width="100%" height="600" frameborder="0" scrolling="Yes" leftmargin="0" topmargin="0"></iframe>\n\n\n\n# 10ãå­ç¬¦ç¼ç \n\n# ç¼ç \n\nç¹å»æ¥ç\n\næ©å°æ¯çµç \n\n> æ©å°æ¯çµç ï¼è±è¯­ï¼Morse codeï¼æ¯ä¸ç§æ¶éæ¶æ­çä¿¡å·ä»£ç ï¼éè¿ä¸åçæåé¡ºåºæ¥è¡¨è¾¾ä¸åçè±æå­æ¯ãæ°å­åæ ç¹ç¬¦å·ãæ¯ç±ç¾å½åæå®¶è¨ç¼ªå°Â·æ©å°æ¯åå¶å©æè¾å°è²å¾·Â·ç»´å°å¨1836å¹´åæã\n> æ©å°æ¯çµç æ¯ä¸ç§æ©æçæ°å­åéä¿¡å½¢å¼ï¼ä½æ¯å®ä¸åäºç°ä»£åªä½¿ç¨0å1ä¸¤ç§ç¶æçäºè¿å¶ä»£ç ï¼å®çä»£ç åæ¬äºç§ï¼\n> 1.ç¹ï¼Â·ï¼ï¼1\n> 2.åï¼-ï¼ï¼111\n> 3.å­ç¬¦åé¨çåé¡¿ï¼å¨ç¹ååä¹é´ï¼ï¼0\n> 4.å­ç¬¦ä¹é´çåé¡¿ï¼000\n> 5.åè¯ä¹é´çåé¡¿ï¼0000000\n\nASCII\n\n> ASCIIï¼åé³ï¼ /ËÃ¦ski/ ASS-keeï¼American Standard Code for Information Interchangeï¼ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç ï¼æ¯åºäºæä¸å­æ¯çä¸å¥çµèç¼ç ç³»ç»ãå®ä¸»è¦ç¨äºæ¾ç¤ºç°ä»£è±è¯­ï¼èå¶æ©å±çæ¬å»¶ä¼¸ç¾å½æ åä¿¡æ¯äº¤æ¢ç åå¯ä»¥é¨åæ¯æå¶ä»è¥¿æ¬§è¯­è¨ï¼å¹¶ç­åäºå½éæ åISO/IEC 646ã\n> ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç æ¯è¿å¥ç¼ç ç³»ç»çä¼ ç»å½åï¼äºèç½å·ç åéå±ç°å¨æ´å¾åäºä½¿ç¨å®çæ°åå­US-ASCIIã\n> ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç æ¯ç¾å½çµæ°åçµå­å·¥ç¨å¸åä¼éç¨ç¢ä¹ä¸ã\n> ASCII ç±çµæ¥ç åå±èæ¥ãç¬¬ä¸çæ ååå¸äº1963å¹´ï¼1967å¹´ç»åäºä¸æ¬¡ä¸»è¦ä¿®è®¢ï¼æåä¸æ¬¡æ´æ°åæ¯å¨1986å¹´ï¼è³ä»ä¸ºæ­¢å±å®ä¹äº128ä¸ªå­ç¬¦ï¼å¶ä¸­33ä¸ªå­ç¬¦æ æ³æ¾ç¤ºï¼ä¸äºç»ç«¯æä¾äºæ©å±ï¼ä½¿å¾è¿äºå­ç¬¦å¯æ¾ç¤ºä¸ºè¯¸å¦ç¬è¸ãæåçè±å¼ç­8-bitç¬¦å·ï¼ï¼ä¸è¿33ä¸ªå­ç¬¦å¤æ°é½å·²æ¯éåºçæ§å¶å­ç¬¦ãæ§å¶å­ç¬¦çç¨éä¸»è¦æ¯ç¨æ¥ææ§å·²ç»å¤çè¿çæå­ãå¨33ä¸ªå­ç¬¦ä¹å¤çæ¯95ä¸ªå¯æ¾ç¤ºçå­ç¬¦ãç¨é®çæ²ä¸ç©ºç½é®æäº§ççç©ºç½å­ç¬¦ä¹ç®1ä¸ªå¯æ¾ç¤ºå­ç¬¦ï¼æ¾ç¤ºä¸ºç©ºç½ï¼ã\n\nå¨è®¡ç®æºææ¯åå±çæ©æï¼å¦ASCIIï¼1963å¹´ï¼åEBCDICï¼1964å¹´ï¼è¿æ ·çå­ç¬¦ééæ¸æä¸ºæ åãä½è¿äºå­ç¬¦éçå±éå¾å¿«å°±åå¾ææ¾ï¼äºæ¯äººä»¬å¼åäºè®¸å¤æ¹æ³æ¥æ©å±å®ä»¬ãå¯¹äºæ¯æåæ¬ä¸äºCJKå­ç¬¦å®¶æå¨åçåä½ç³»ç»çè¦æ±è½æ¯ææ´å¤§éçå­ç¬¦ï¼å¹¶ä¸éè¦ä¸ç§ç³»ç»èä¸æ¯ä¸´æ¶çæ¹æ³å®ç°è¿äºå­ç¬¦çç¼ç ã\n\nEBCDIC\n\n> EBCDICï¼è±è¯­ï¼Extended Binary Coded Decimal Interchange Codeï¼æ©å¢äºè¿å¼åè¿äº¤æ¢ç ï¼ï¼ä¸ºIBMäº1963å¹´ï¼1964å¹´é´æ¨åºçå­ç¬¦ç¼ç è¡¨ï¼æ ¹æ®æ©ææå­æºå¼çäºè¿ååè¿æ°ï¼BCDï¼Binary Coded Decimalï¼æåèæãæ¯IBMè¿·å°çº§ä»¥ä¸çµèçæ åç ã\n> å®çç¼ºç¹æ¯ï¼è±æå­æ¯ä¸æ¯è¿ç»­å°æåï¼ä¸­é´åºç°å¤æ¬¡æ­ç»­ï¼ä¸ºæ°åç¨åºçäººå¸¦æ¥äºä¸äºå°é¾ã\n\nå¶ä»\n\nè¥¿æ¬§æ å\n\n * ISO-8859-1\n * ISO-8859-5\n * ISO-8859-6\n * ISO-8859-7\n * ISO-8859-11\n * ISO-8859-15\n * ISO/IEC 646\n\nDOSå­ç¬¦éï¼åç§°IBMä»£ç é¡µï¼\n\n * CP437\n * CP737\n * CP850\n * CP852\n * CP855\n * CP857\n * CP858\n * CP860\n * CP861\n * CP863\n * CP865\n * CP866\n * CP869\n\nWindowså­ç¬¦é\n\n * Windows-1250\n * Windows-1251ï¼ç¨äºè¥¿éå°å­æ¯è¡¨\n * Windows-1252\n * Windows-1253\n * Windows-1254\n * Windows-1255ï¼ç¨äºå¸ä¼¯è±è¯­\n * Windows-1256ï¼ç¨äºé¿æä¼¯è¯­\n * Windows-1257\n * Windows-1258ï¼ç¨äºè¶åè¯­\n\nå°æ¹¾\n\n * å¤§äºç \n * ä¸­æä¿¡æ¯äº¤æ¢ç ï¼CCCIIï¼\n * ä¸­ææ åäº¤æ¢ç ï¼CNS 11643ï¼\n * EUC\n\næ¥æ¬\n\n * ISO/IEC 2022\n * Shift JIS\n * EUC\n\nä¸­å½å¤§éåæ¸¯æ¾³\n\n * GB 2312\n * EUC\n * GBKï¼è§å®æä»¶ä¸ºGB13000ï¼\n * GB 18030\n * é¦æ¸¯å¢è¡¥å­ç¬¦é\n\næé²åå²\n\n * EUC\n * KOI8-R\n * KOI8-U\n * KOI7\n * MIK\n\nè¶å\n\n * è¶åä¿¡æ¯äº¤æ¢æ åä»£ç \n\nå°åº¦\n\n * å°åº¦æå­ä¿¡æ¯äº¤æ¢ç \n\nUnicode\n\n * Unicode\n * UTF-7\n * UTF-8\n * UTF-16\n * UTF-32\n\n# å­ç¬¦è½¬æ¢å·¥å·\n\nç±äºæå¾å¤ç§å­ç¬¦ç¼ç æ¹æ³è¢«ä½¿ç¨ï¼ä»ä¸ç§å­ç¬¦ç¼ç è½¬æ¢å°å¦ä¸ç§ï¼éè¦ä¸äºå·¥å·ã\n\nç¹å»æ¥ç\n\nè·¨å¹³å°ï¼\n\n * ç½é¡µæµè§å¨âå¤§å¤æ°ç°ä»£çç½é¡µæµè§å¨é½å·ææ­¤åè½ãä¸è¬æ¯å¨èå"æ¥ç"ï¼Viewï¼/"å­ç¬¦ç¼ç "ï¼Character Encodingï¼\n * iconv âç¨åºä¸ç¼ç¨APIï¼ç¨äºå­ç¬¦ç¼ç è½¬æ¢\n * convert_encoding.py âåºäºPythonçè½¬æ¢å·¥å·.\n * decodeh.py âç¨äºå¯åæ§çæµç¼ç æ¹æ¡çç®æ³ä¸æ¨¡å.\n * International Components for Unicode âä¸å¥Cè¯­è¨ä¸Javaè¯­è¨çå¼æºåºï¼ç±IBMæä¾ï¼ç¨äºUnicodeç­å¤è¯­è¨ç¼ç çè½¬æ¢ãå®ç°.\n * chardet â Mozillaçç¼ç èªå¨æ£æµä»£ç çPythonè¯­è¨å®ç°.\n * æ°çæ¬çUnixå½ä»¤Fileåå­ç¬¦ç¼ç çæ£æµ.ï¼cygwinä¸macé½ææ­¤å½ä»¤ï¼\n\nLinux:\n\n * recode â\n * utrac â å°æ´ä¸ªæä»¶åå®¹ä»ä¸ç§å­ç¬¦ç¼ç è½¬æ¢å°å¦å¤ä¸ç§\n * cstocs â\n * convmv âè½¬æ¢æä»¶å.\n * enca âåæç¼ç æ¨¡å¼.\n\nMicrosoft Windows:\n\n * Encoding.Convert â .NET API\n * MultiByteToWideChar/WideCharToMultiByte â Windows API\n * cscvt âè½¬æ¢å·¥å·\n * enca âåæç¼ç æ¹æ³\n\n# ç°ä»£ç¼ç æ¨¡å\n\nç¹å»æ¥ç\n\nç±ç»ä¸ç åéç¨å­ç¬¦éæææçç°ä»£å­ç¬¦ç¼ç æ¨¡ååæ²¡æè·ä»ç®åå­ç¬¦éçè§ç¹ãå®ä»¬å°å­ç¬¦ç¼ç çæ¦å¿µåä¸ºï¼æåªäºå­ç¬¦ãå®ä»¬çç¼å·ãè¿äºç¼å·å¦ä½ç¼ç æä¸ç³»åçâç åâï¼æéå¤§å°çæ°å­ï¼ä»¥åæåè¿äºååå¦ä½ç»æå«ä½å­èæµãåºåè¿äºæ¦å¿µçæ ¸å¿ææ³æ¯åå»ºä¸ä¸ªè½å¤ç¨ä¸åæ¹æ³æ¥ç¼ç çä¸ä¸ªéç¨å­ç¬¦éãä¸ºäºæ­£ç¡®å°è¡¨ç¤ºè¿ä¸ªæ¨¡åéè¦æ´å¤æ¯âå­ç¬¦éâåâå­ç¬¦ç¼ç âæ´ä¸ºç²¾ç¡®çæ¯è¯­è¡¨ç¤ºãå¨Unicode Technical Report (UTR) #17ä¸­ï¼ç°ä»£ç¼ç æ¨¡ååä¸º5ä¸ªå±æ¬¡ï¼æç¨çæ¯è¯­åå¨ä¸é¢ï¼\n\n 1. æ½è±¡å­ç¬¦è¡¨ï¼Abstract character repertoireï¼æ¯ä¸ä¸ªç³»ç»æ¯æçæææ½è±¡å­ç¬¦çéåãå­ç¬¦è¡¨å¯ä»¥æ¯å°é­çï¼å³é¤éåå»ºä¸ä¸ªæ°çæ åï¼ASCIIåå¤æ°ISO/IEC 8859ç³»åé½æ¯è¿æ ·çä¾å­ï¼ï¼å¦åä¸åè®¸æ·»å æ°çç¬¦å·ï¼å­ç¬¦è¡¨ä¹å¯ä»¥æ¯å¼æ¾çï¼å³åè®¸æ·»å æ°çç¬¦å·ï¼ç»ä¸ç åä¸å®ç¨åº¦ä¸ä»£ç é¡µæ¯è¿æ¹é¢çä¾å­ï¼ãç¹å®å­ç¬¦è¡¨ä¸­çå­ç¬¦åæ äºå¦ä½å°ä¹¦åç³»ç»åè§£æçº¿æ§ä¿¡æ¯ååçå³å®ãä¾å¦æä¸ãå¸èåæ¯æå¤«å­æ¯è¡¨åä¸ºå­æ¯ãæ°å­ãåé³ç¬¦å·ãæ ç¹åå¦ç©ºæ ¼è¿æ ·çä¸äºå°æ°ç¹æ®å­ç¬¦ï¼å®ä»¬é½è½æç§ä¸ç§ç®åççº¿æ§åºåæåï¼å°½ç®¡å¯¹å®ä»¬çå¤çéè¦å¦å¤çè§åï¼å¦å¸¦æåé³ç¬¦å·çå­æ¯è¿æ ·çç¹æµåºåå¦ä½è§£éââä½è¿ä¸å±äºå­ç¬¦è¡¨çèç´ï¼ãä¸ºäºæ¹ä¾¿èµ·è§ï¼è¿æ ·çå­ç¬¦è¡¨å¯ä»¥åæ¬é¢åç¼å·çå­æ¯ååé³ç¬¦å·çç»åãå¶å®çä¹¦åç³»ç»ï¼å¦é¿æä¼¯è¯­åå¸ä¼¯è±è¯­ï¼ç±äºè¦éåºååæå­åå¨ä¸åæå½¢ä¸æç§ä¸åæ¹å¼äº¤åå¨ä¸èµ·çå­å½¢ï¼å°±ä½¿ç¨æ´ä¸ºå¤æçç¬¦å·è¡¨è¡¨ç¤ºã\n 2. ç¼ç å­ç¬¦éï¼CCS:Coded Character Setï¼æ¯å°å­ç¬¦é{\\displaystyle C}Cä¸­æ¯ä¸ªå­ç¬¦æ å°å°1ä¸ªåæ ï¼æ´æ°å¼å¯¹ï¼x, yï¼æèè¡¨ç¤ºä¸º1ä¸ªéè´æ´æ°{\\displaystyle N}Nãå­ç¬¦éåç ä½æ å°ç§°ä¸ºç¼ç å­ç¬¦éãä¾å¦ï¼å¨ä¸ä¸ªç»å®çå­ç¬¦è¡¨ä¸­ï¼è¡¨ç¤ºå¤§åæä¸å­æ¯âAâçå­ç¬¦è¢«èµäºæ´æ°65ãå­ç¬¦âBâæ¯66ï¼å¦æ­¤ç»§ç»­ä¸å»ãå¤ä¸ªç¼ç å­ç¬¦éå¯ä»¥è¡¨ç¤ºåæ ·çå­ç¬¦è¡¨ï¼ä¾å¦ISO-8859-1åIBMçä»£ç é¡µ037åä»£ç é¡µ500å«çåæ ·çå­ç¬¦è¡¨ä½æ¯å°å­ç¬¦æ å°ä¸ºä¸åçæ´æ°ãç±æ­¤äº§çäºç¼ç ç©ºé´ï¼encoding spaceï¼çæ¦å¿µï¼ç®åè¯´å°±æ¯åå«ææå­ç¬¦çè¡¨çç»´åº¦ãå¯ä»¥ç¨ä¸å¯¹æ´æ°æ¥æè¿°ï¼ä¾å¦ï¼GB 2312çæ±å­ç¼ç ç©ºé´æ¯94 x 94ãå¯ä»¥ç¨ä¸ä¸ªæ´æ°æ¥æè¿°ï¼ä¾å¦ï¼ISO-8859-1çç¼ç ç©ºé´æ¯256ãä¹å¯ä»¥ç¨å­ç¬¦çå­å¨ååå°ºå¯¸æ¥æè¿°ï¼ä¾å¦ï¼ISO-8859-1æ¯ä¸ä¸ª8æ¯ç¹çç¼ç ç©ºé´ãç¼ç ç©ºé´è¿å¯ä»¥ç¨å¶å­éæ¥è¡¨è¿°ï¼å¦è¡ãåãé¢ï¼planeï¼ç­ãç¼ç ç©ºé´ä¸­çä¸ä¸ªä½ç½®ï¼positionï¼ç§°ä¸ºç ä½ï¼code pointï¼ãä¸ä¸ªå­ç¬¦æå ç¨çç ä½ç§°ä¸ºç ä½å¼ï¼code point valueï¼ã1ä¸ªç¼ç å­ç¬¦éå°±æ¯ææ½è±¡å­ç¬¦æ å°ä¸ºç ä½å¼ã\n 3. å­ç¬¦ç¼ç è¡¨ï¼CEF:Character Encoding Formï¼ï¼ä¹ç§°ä¸º"storage format"ï¼æ¯å°ç¼ç å­ç¬¦éçéè´æ´æ°å¼ï¼å³æ½è±¡çç ä½ï¼è½¬æ¢ææéæ¯ç¹é¿åº¦çæ´åå¼ï¼ç§°ä¸ºç åcode unitsï¼çåºåãè¿å¯¹äºå®é¿ç¼ç æ¥è¯´æ¯ä¸ªå°èªèº«çæ å°ï¼null mappingï¼ï¼ä½å¯¹äºåé¿ç¼ç æ¥è¯´ï¼è¯¥æ å°æ¯è¾å¤æï¼æä¸äºç ä½æ å°å°ä¸ä¸ªç åï¼æå¦å¤ä¸äºç ä½æ å°å°ç±å¤ä¸ªç åç»æçåºåãä¾å¦ï¼ä½¿ç¨16æ¯ç¹é¿çå­å¨ååä¿å­æ°å­ä¿¡æ¯ï¼ç³»ç»æ¯ä¸ªåååªè½å¤ç´æ¥è¡¨ç¤ºä»0å°65,535çæ°å¼ï¼ä½æ¯å¦æä½¿ç¨å¤ä¸ª16ä½ååå°±è½å¤è¡¨ç¤ºæ´å¤§çæ´æ°ãè¿å°±æ¯CEFçä½ç¨ï¼å®å¯ä»¥æUnicodeä»0å°140ä¸çç ç©ºé´èå´çæ¯ä¸ªç ä½æ å°å°åä¸ªæå¤ä¸ªå¨0å°65,5356èå´åçç å¼ãæç®åçå­ç¬¦ç¼ç è¡¨å°±æ¯åçº¯å°éæ©è¶³å¤å¤§çåä½ï¼ä»¥ä¿è¯ç¼ç å­ç¬¦éä¸­çæææ°å¼è½å¤ç´æ¥ç¼ç ï¼ä¸ä¸ªç ä½å¯¹åºä¸ä¸ªç å¼ï¼ãè¿å¯¹äºè½å¤ç¨ä½¿ç¨å«æ¯ç¹ç»æ¥è¡¨ç¤ºçç¼ç å­ç¬¦éï¼å¦å¤æ°ä¼ ç»çéCJKçå­ç¬¦éç¼ç ï¼æ¯åççï¼å¯¹äºè½å¤ä½¿ç¨åå­æ¯ç¹æ¥è¡¨ç¤ºçç¼ç å­ç¬¦éï¼å¦æ©æçæ¬çUnicodeï¼æ¥è¯´ä¹è¶³å¤åçãä½æ¯ï¼éçç¼ç å­ç¬¦éçå¤§å°å¢å ï¼ä¾å¦ï¼ç°å¨çUnicodeçå­ç¬¦éè³å°éè¦21ä½æè½å¨é¨è¡¨ç¤ºï¼ï¼è¿ç§ç´æ¥è¡¨ç¤ºæ³åå¾è¶æ¥è¶æ²¡ææçï¼å¹¶ä¸å¾é¾è®©ç°æè®¡ç®æºç³»ç»éåºæ´å¤§çç å¼ãå æ­¤ï¼è®¸å¤ä½¿ç¨æ°è¿çæ¬Unicodeçç³»ç»ï¼æèå°Unicodeç ä½å¯¹åºä¸ºå¯åé¿åº¦ç8ä½å­èåºåçUTF-8ï¼æèå°ç ä½å¯¹åºä¸ºå¯åé¿åº¦ç16ä½åºåçUTF-16ã\n 4. å­ç¬¦ç¼ç æ¹æ¡ï¼CES:Character Encoding Schemeï¼ï¼ä¹ç§°ä½"serialization format"ãå°å®é¿çæ´åå¼ï¼å³ç åï¼æ å°å°8ä½å­èåºåï¼ä»¥ä¾¿ç¼ç åçæ°æ®çæä»¶å­å¨æç½ç»ä¼ è¾ãå¨ä½¿ç¨Unicodeçåºåï¼ä½¿ç¨ä¸ä¸ªç®åçå­ç¬¦æ¥æå®å­èé¡ºåºæ¯å¤§ç«¯åºæèå°ç«¯åºï¼ä½å¯¹äºUTF-8æ¥è¯´å¹¶ä¸éè¦ä¸é¨ææå­èåºï¼ãç¶èï¼æäºå¤æçå­ç¬¦ç¼ç æºå¶ï¼å¦ISO/IEC 2022ï¼ä½¿ç¨æ§å¶å­ç¬¦è½¬ä¹åºåå¨å ç§ç¼ç å­ç¬¦éæèç¨äºåå°æ¯ä¸ªååæç¨å­èæ°çåç¼©æºå¶ï¼å¦SCSUãBOCUåPunycodeï¼ä¹é´åæ¢ã\n 5. ä¼ è¾ç¼ç è¯­æ³ï¼transfer encoding syntaxï¼ï¼ç¨äºå¤çä¸ä¸å±æ¬¡çå­ç¬¦ç¼ç æ¹æ¡æä¾çå­èåºåãä¸è¬å¶åè½åæ¬ä¸¤ç§ï¼ä¸æ¯æå­èåºåçå¼æ å°å°ä¸å¥æ´åéå¶çå¼ååï¼ä»¥æ»¡è¶³ä¼ è¾ç¯å¢çéå¶ï¼ä¾å¦Emailä¼ è¾æ¶Base64æèquoted-printableï¼é½æ¯æ8ä½çå­èç¼ç ä¸º7ä½é¿çæ°æ®ï¼å¦ä¸æ¯åç¼©å­èåºåçå¼ï¼å¦LZWæèè¡ç¨é¿åº¦ç¼ç ç­æ æåç¼©ææ¯ã\n\né«å±æºå¶ï¼higher level protocolï¼æä¾äºé¢å¤ä¿¡æ¯ï¼ç¨äºéæ©Unicodeå­ç¬¦çç¹å®åç§ï¼å¦XMLå±æ§xml:lang\n\nå­ç¬¦æ å°ï¼character mapï¼å¨Unicodeä¸­ä¿æäºå¶ä¼ ç»æä¹ï¼ä»å­ç¬¦åºåå°ç¼ç åçå­èåºåçæ å°ï¼åæ¬äºä¸è¿°çCCS, CEF, CESå±æ¬¡ã\n\nç»´åºç¾ç§\n\nJDK9ä¸ºä½è¦å°Stringçåºå±å®ç°ç±char[]æ¹æäºbyte[]?',normalizedContent:'# 1ãè±æç¼©å\n\n# python\n\nç®ç§°    å¨ç§°\npip   package installer for python\n\n# oracle\n\nç®ç§°     å¨ç§°\nclob   character large object\nblob   binary large object\n\n\n# æå¡å¨\n\nç®ç§°    å¨ç§°\nntp   ç½ç»æ¶é´åè®®ï¼è±æåç§°ï¼network time protocolï¼ntpï¼\n\nntp éç½®\n\n\n# 2ãhtmlå®ä½\n\n&amp; &lt;ç­å­ç¬¦ åèé¾æ¥\n\n\n# 3ãä½è¿ç®çè¿ç¨\n\n# ä¸è¿ç®\n\n# å¤æ­å¥å¶\n\nå¤æ­intååéaæ¯å¥æ°è¿æ¯å¶æ°\n\na & 1 = 0 // å¶æ°\na & 1 = 1 // å¥æ°\n\n\n# åæ°æå®ä½ï¼æå®ä½ç½®0ï¼\n\nåä¸ä¸ªæ°çæå®ä½\n\n// 1. åintååéaï¼äºè¿å¶ï¼çç¬¬kä½\na >> k & 1  // åå³ç§»kä½ï¼ä¸1åååºç¬¬kä½\n\n// 2. \n// æ¯å¦åæ° x=1010 1110 çä½4ä½ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°yï¼ä»¤yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³y=0000 1111ï¼ç¶åå°xä¸yè¿è¡æä½ä¸è¿ç®ï¼x&y=0000 1110ï¼å³å¯å¾å°xçæå®ä½ã\n\n\n# å¹³åå¼\n\næ´æ°çå¹³åå¼\n\nint average(int x, int y)\n{   \n     return (x&y)+((x^y)>>1);\n}\n\n\n# å¤æ­æ´æ°æ¯ä¸æ¯2çå¹\n\nå¤æ­ä¸ä¸ªæ´æ°æ¯ä¸æ¯2çå¹\n\nboolean power2(int x)\n{\n    return ((x&(x-1))==0)&&(x!=0);\n}\n\n\n# æè¿ç®\n\n# å¯¹æ°æå®ä½ç½®1\n\nå¤æ­ä¸ä¸ªæ´æ°æ¯ä¸æ¯2çå¹\n\n// æ¯å¦å°æ° x=1010 1110 çä½4ä½è®¾ç½®ä¸º1ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°yï¼ä»¤yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³y=0000 1111ï¼ç¶åå°xä¸yè¿è¡æä½æè¿ç®ï¼x|y=1010 1111ï¼å³å¯å¾å°ã\n\n\n# éè¿ç®\n\n# æä½ä½ç½®é¶\n\nä½¿ä¸ä¸ªæ°çæä½ä½ä¸ºé¶\n\n// ä½¿açæä½ä½ä¸º0ï¼å¯ä»¥è¡¨ç¤ºä¸ºï¼a & ~1ã~1çå¼ä¸º 1111 1111 1111 1110ï¼åæ"ä¸"è¿ç®ï¼æä½ä½ä¸å®ä¸º0ãå ä¸º" ~"è¿ç®ç¬¦çä¼åçº§æ¯ç®æ¯è¿ç®ç¬¦ãå³ç³»è¿ç®ç¬¦ãé»è¾è¿ç®ç¬¦åå¶ä»è¿ç®ç¬¦é½é«\n\n\n# å¼æè¿ç®\n\n> å¼æçå æ¡æ§è´¨\n> \n>  1. äº¤æ¢å¾\n>  2. ç»åå¾ (a^b)^c == a^(b^c)\n>  3. å¯¹äºä»»ä½æ°xï¼é½æ x^x=0ï¼x^0=x\n>  4. èªåæ§: a^b^b=a^0=a\n\n# ç¿»è½¬æå®ä½\n\nç¿»è½¬æå®ä½\n\n// æ¯å¦å°æ° x=1010 1110 çä½4ä½è¿è¡ç¿»è½¬ï¼åªéè¦å¦æ¾ä¸ä¸ªæ°yï¼ä»¤yçä½4ä½ä¸º1ï¼å¶ä½ä½ä¸º0ï¼å³y=0000 1111ï¼ç¶åå°xä¸yè¿è¡å¼æè¿ç®ï¼x^y=1010 0001ï¼å³å¯å¾å°\n\n\n# ä¸¤æ°ç¸ç­\n\nå¤æ­ä¸¤ä¸ªæ´æ°ç¸ç­\n\na ^ 1 = 0\n\n\n# äº¤æ¢ä¸¤ä¸ªæ°\n\nç¨ä½è¿ç®ç¬¦äº¤æ¢ä¸¤ä¸ªæ´æ°\n\nvoid swap(int x , int y)\n{\n    x ^= y;\n    y ^= x;\n    x ^= y;\n}\n\n\n# ç»å¯¹å¼\n\nè®¡ç®ç»å¯¹å¼\n\nint abs( int x )\n{\n  int y ;\n  y = x >> 31 ;\n  return (x^y)-y ;        // or: (x+y)^y\n}\n\n\n# ç§»ä½è¿ç®\n\n# ä¹ãé¤ãåæ¨¡è¿ç®\n\nä¹ãé¤ãåæ¨¡è¿ç®è½¬åæä½è¿ç® (å¨ä¸äº§çæº¢åºçæåµä¸)\n\n// ä¹æ³è¿ç®è½¬åæä½è¿ç®\na * (2^n)      ç­ä»·äº     a << n\n\n// é¤æ³è¿ç®è½¬åæä½è¿ç®\na / (2^n)      ç­ä»·äº     a >> n\n\n// åæ¨¡è¿ç®è½¬åæä½è¿ç®\na % (2^n)      ç­ä»·äº     a & (2^n - 1)\n\n\nåæå°å\n\n\n# 4ãæ¥ææ ¼å¼åä¸­çyyyyåyyyyï¼javaï¼\n\n 1. y æ¯year, y è¡¨ç¤ºçæ¯week yearï¼week year æææ¯å½å¤©æå¨çå¨å±äºçå¹´ä»½ï¼ä¸å¨ä»å¨æ¥å¼å§ï¼å¨å­ç»æï¼åªè¦æ¬å¨è·¨å¹´ï¼é£ä¹è¿å¨å°±ç®å¥ä¸ä¸å¹´ã\n 2. å¤§åçddä»£è¡¨çæ¯å¤äºè¿ä¸å¹´ä¸­é£ä¸å¤©ï¼ä¸æ¯å¤äºè¿ä¸ªæçé£ä¸å¤©\n\n# å¸¸è§çæ¶é´æ ¼å¼åå­ç¬¦ä¸²\n\n 1. yyyy-mm-dd hh24:mi:ss\n\næ ¼å¼        æè¿°\ny         å¹´çæåä¸ä½æ°å­ï¼å¦ï¼5\nyy        å¹´çæåä¸¤ä½æ°å­ï¼å¦ï¼15\nyyy       å¹´çæåä¸ä½æ°å­ï¼å¦ï¼015\nyyyy      å¹´ï¼å¦ï¼2015\ny,yyy     å¹´ç¨éå·åå²\nsyyyy     å¹´\nyear      å¹´æ¼åï¼å¦ï¼twenty fifteen\nsyear     å¹´æ¼åï¼å¦ï¼twenty fifteen\ni         isoå¹´çæåä¸ä½æ°å­ï¼å¦ï¼5\niy        isoå¹´çæåä¸¤ä½æ°å­ï¼å¦ï¼15\niyy       isoå¹´çæåä¸ä½æ°å­ï¼å¦ï¼015\niyyy      isoå¹´ï¼å¦ï¼2015\nrr        ä¸¤ä½æ°å­å¹´ï¼å¦ï¼15\nrrrr      åä½æ°å­å¹´ï¼å¦ï¼2015\nmm        month (01-12)\nmon       æä»½ç®ç§°ï¼å¦ï¼jun\nmonth     æä»½å¨ç§°ï¼å¦ï¼june\nrm        ç½é©¬æ°å­æä»½\nd         day of week (1-7)\ndd        day of month (1-31)\nddd       day of year (1-366)\nhh        hour of day (1-12)\nhh12      hour of day (1-12)\nhh24      hour of day (0-23)\nmi        minute (0-59)\nss        second (0-59)\nsssss     seconds past midnight\nff[1â¦9]   æ¯«ç§\nds        æ¥æç®ç§°ï¼å¦ï¼6/12/2015\ndl        æ¥æå¨ç§°ï¼å¦ï¼friday, june 12, 2015\nts        æ¶é´ç®ç§°ï¼å¦ï¼5:18:03 pm\ncc        ä¸çºªï¼å¦ï¼21\nscc       ä¸çºªï¼å¦ï¼21\nq         quarter of year (1, 2, 3, 4)\nw         week of month (1-5)\nww        week of year (1-53)\niw        iso week of year (1-52 or 1-53)\ndy        ææç®ç§°ï¼å¦ï¼fri\nday       ææå¨ç§°ï¼å¦ï¼friday\nam        a.m.\npm        p.m.\nad        a.d.\nbc        b.c.\ntzd       å¤ä»¤æ¶\ntzr       æ¶åº\ntzh       æ¶åºä¹æ¶å·®\ntzm       æ¶åºä¹åéå·®\nee        era å¨ç§°\ne         era ç®ç§°\nj         the number of days since january 1, 4712 bc\nfm        å»æé¦å°¾ç©ºæ ¼\nfx        ç²¾ç¡®å¹é\nx         ç§åæ¯«ç§åéç¬¦\nth        ddth --\x3e 4th\nsp        ddsp --\x3efour\nspth      ddspth --\x3e fourth\nthsp      ddthsp --\x3e fourth\n\n 2. %y-%m-%d %h:%i:%s\n\næ ¼å¼   æè¿°\n%a   ç¼©åææå\n%b   ç¼©åæå\n%c   æï¼æ°å¼\n%d   å¸¦æè±æåç¼çæä¸­çå¤©\n%d   æçå¤©ï¼æ°å¼(00-31)\n%e   æçå¤©ï¼æ°å¼(0-31)\n%f   å¾®ç§\n%h   å°æ¶ (00-23)\n%h   å°æ¶ (01-12)\n%i   å°æ¶ (01-12)\n%i   åéï¼æ°å¼(00-59)\n%j   å¹´çå¤© (001-366)\n%k   å°æ¶ (0-23)\n%l   å°æ¶ (1-12)\n%m   æå\n%m   æï¼æ°å¼(00-12)\n%p   am æ pm\n%r   æ¶é´ï¼12-å°æ¶ï¼hh:mm:ss am æ pmï¼\n%s   ç§(00-59)\n%s   ç§(00-59)\n%t   æ¶é´, 24-å°æ¶ (hh:mm:ss)\n%u   å¨ (00-53) æææ¥æ¯ä¸å¨çç¬¬ä¸å¤©\n%u   å¨ (00-53) ææä¸æ¯ä¸å¨çç¬¬ä¸å¤©\n%v   å¨ (01-53) æææ¥æ¯ä¸å¨çç¬¬ä¸å¤©ï¼ä¸ %x ä½¿ç¨\n%v   å¨ (01-53) ææä¸æ¯ä¸å¨çç¬¬ä¸å¤©ï¼ä¸ %x ä½¿ç¨\n%w   ææå\n%w   å¨çå¤© ï¼0=æææ¥, 6=ææå­ï¼\n%x   å¹´ï¼å¶ä¸­çæææ¥æ¯å¨çç¬¬ä¸å¤©ï¼4 ä½ï¼ä¸ %v ä½¿ç¨\n%x   å¹´ï¼å¶ä¸­çææä¸æ¯å¨çç¬¬ä¸å¤©ï¼4 ä½ï¼ä¸ %v ä½¿ç¨\n%y   å¹´ï¼4 ä½\n%y   å¹´ï¼2 ä½\n\nè½¬å­ç¬¦ä¸²\n\nselect to_char(sysdate, \'dd-mon-yyyy hh24:mi:ss\') from dual;          -- 10-aug-2022 17:11:53\nselect to_char(sysdate, \'mon-yy-dd hh:mi:ss am\') from dual;           -- aug-22-10 05:02:49 pm\nselect to_char(current_timestamp, \'hh24:mi:ss\') from dual;            -- 17:06:10\nselect to_char(current_timestamp,\'hh12:mi:ss\') from dual ;            -- 05:03:01\nselect to_char(current_timestamp,\'fmhh12:fmmi:fmss\') from dual;       -- 5:03:11\n\n\nè½¬æ¶é´æ³\n\nselect to_timestamp(\'-1\',\'syyyy\') from dual;\nselect to_timestamp(\'98\',\'rr\') from dual;\nselect to_timestamp(\'01\',\'rr\') from dual;\nselect to_timestamp(\'12-sep-10 14:10:10.123000\',\'dd-mon-yy hh24:mi:ss.ff\') from dual;   -- 12-sep-10 02.10.10.123000000 pm\n\n\n\n# 5ãwindowsä¸ä½¿ç¨linuxå½ä»¤\n\n# èææº\n\nç±»ä¼¼äºvmwareç­è½¯ä»¶\n\n# vmwareé®é¢\n\n 1. è§£å³ vmware ä¸­ centos 7 æ²¡æens33ç½å¡çé®é¢\n    * é¦åè®¾ç½®å¨ç³»ç»å¯å¨æ¶æ¿æ´»ç½å¡ vim /etc/sysconfig/network-scripts/ifcfg-ens33 å°onboot=noæ¹ä¸ºonboot=yes\n    * æ§è¡ifconfig ens33 upï¼æ­¤æ¶ifconfig æ¾ç¤ºæäºens33ç½å¡ï¼ä½æ²¡æip\n    * æ§è¡ systemctl stop networkmanager ifup ens33\n    * éå¯ç½ç» systemctl restart network.service\n\nåæé¾æ¥\n\n# gitå½ä»¤è¡\n\n# wsl\n\néç¨äºlinuxçwindowså­ç³»ç»ï¼wslï¼windows subsystem for linuxï¼\n\n 1. ç§»å¨wslé»è®¤ä½ç½®\n\n# ä¸è½½lxrunofflineï¼ä¸è½½æä»¶lxrunoffline-vxxxx.zip\nhttps://github.com/ddosolitary/lxrunoffline/releases\n\n# æ¥çå­ç³»ç»(linux)çæ¬å·(cmdæ§è¡, æ³¨æè¦ä¹éç½®ç¯å¢åé, è¦ä¹å¨lxrunoffline.exeæå¨ç®å½æå¼cmd)\nlxrunoffline list\n\n# å°linuxç§»å¨å°æå®çç®å½\nlxrunoffline move -n {version} -d {dir}\nlxrunoffline move -n ubuntu-18.04 -d d:\\vmware\\lxrunoffline-v3.5.0-msvc\\linux\n\n\n 2. åºå®ip\n\nåèé¾æ¥\n\n 3. ä½¿ç¨\n\nä½¿ç¨å½ä»¤è¡å·¥å·è¿æ¥wsl\n\n# çæç§é¥\nsudo ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key\nsudo ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key\nsudo ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key\n\n# ä¿®æ¹/etc/ssh/sshd_configçpasswordauthenticationé¡¹ä¸ºyes\n\n# éå¯ssh\nsudo service ssh restart\n\n# ä½¿ç¨å½ä»¤è¡å·¥å·è¿æ¥\n\n\n# dockeræ¯ä¸æ¯ä¹å¯ä»¥\n\n\n# 6ãå®è£jarå(æå¨ä¸è½½)\n\né¿éäºmavenåä¸è½½\n\nmvn install:install-file -dfile=jaråçä½ç½® -dgroupid=ä¸é¢çgroupid -dartifactid=ä¸é¢çartifactid -dversion=ä¸é¢çversion -dpackaging=jar\n\nmvn install:install-file -dfile=./pentaho-aggdesigner-algorithm-5.1.5-jhyde.jar -dgroupid=org.pentaho -dartifactid=pentaho-aggdesigner-algorithm -dversion=5.1.5-jhyde -dpackaging=jar\nmvn install:install-file -dfile=./eigenbase-properties-1.1.4.jar -dgroupid=eigenbase -dartifactid=eigenbase-properties -dversion=1.1.4 -dpackaging=jar\n\n\n# è¿æ¯ä¸è¡, æ¯æ¬¡mavenè¿ä¼å»ä¸­å¤®ä»åºæ¾jarå\n# è§£å³æ¹æ³ å é¤æ¬å°ä»åºä¸­è¯¥jaråä¸:  _remote.repositories å ä»¥.lastupdatedç»å°¾çæä»¶(è¿æ_maven.repositories ?)\n# æéç®å½äº, æ¬å°æä¸¤ä¸ªmavenä»åº, å®è£å°å¦ä¸ä¸ªä¸é¢å»äº, ç»äºè§£å³äº!!!\n\n\nå¼å¥é¡¹ç®ç®å½ä¸çjarå\n\n<dependency>\n    <groupid >com.dameng.common</groupid>\n    <artifactid>common-aop</artifactid>\n    <version>${dm-aop.version}</version>\n    <scope>system</scope>\n    <systempath>${basedir}\\lib\\com.dameng.common.aop_${dm-aop.version}.jar</systempath>\n</dependency>\n\n\n\n# 7ãæç´¢å¼æè¯­æ³\n\næç´¢æä»¤        åè½                     ç¤ºä¾\n@           æç´¢ç¤¾äº¤åªä½                 @twitter\n$           æç´¢ç¹å®ä»·æ ¼                 camera $400\n#           æç´¢ # æ ç­¾                #throwbackthursday\n-           ä»æç´¢ç»æä¸­æé¤ç¹å®å­è¯           "kafka3.0" -ç¹æ§ site:csdn.net\n+           ä»æç´¢ç»æä¸­è·åç¹å®å­è¯           "kafka3.0" +ç¹æ§ site:csdn.net\nfiletype:   ç²¾ç¡®æç´¢æä»¶ç±»å               filetype:chm "java"\n""          æç´¢å®å¨å¹éçç»æ              "kafka3.0æ°ç¹æ§"\n..          å¨æä¸ªæ°å­èå´åæ§è¡æç´¢           camera $50..$100\norï¼å¤§åï¼      ç»åæç´¢                   marathon or race\nsite:       æç´¢ç¹å®ç½ç«                 "kafka3.0æ°ç¹æ§" site:csdn.net\nrelated:    æç´¢ç¸å³ç½ç«                 related:time.com\ninfo:       è·åç½ç«è¯¦æ                 info:giffox.com\ncache:      æ¥çç½ç«ç google ç¼å­çæ¬      cache:google.com\n\\           æç¨ç­åäº or               apple\\google, apple or google\n*           æ³æç´¢ï¼è¡¨å¾æªç¥é¨åï¼åªéç¨äºè±æ      * is the mother of success\nãã          åªæ¥è¯¢å¾ä¹¦ãå½±è§ä½åï¼åªéç¨äºä¸­æ      ãé¢éæ¯ææ ·ç¼æçã\ndef:        æ¥è¯¢å³é®è¯çå®ä¹               def:diversity / google def:\ninurl       æ¥æ¾å¨ url å°åéææç´¢å³é®è¯çé¡µé¢   inurl:download inurl:book éªä¸­æåè¡\nintitle     æ¥æ¾å¨ç½é¡µæ é¢éææç´¢å³é®è¯çé¡µé¢      intitle:kafka3.0\n\n\n# 8ãjdkæºç å¯¼å¥idea\n\n * å°jdkå®è£ç®å½ä¸çsrc.zipå¯¼å¥ideaé¡¹ç®ï¼å°jdkä¸çlib/tools.jarå å¥å°project structureçlibrariesï¼æ°å»ºæµè¯ç±»æµè¯ï¼å¨ æ¥éåè\n * debugæ¶jdkæºç åä¿æ¤: settings -> debugger -> stepping -> do not step into the classes\n * è°å¤§ç¼è¯å åå­: settings -> build,execution,deployment -> compiler -> build process heap size (mbytes):\n * sdkä¸­src.zipæ¢æèªå·±çä»£ç è·¯å¾\n\n\n# 9ãææ¡£ç¼åï¼ä¸­æææ¡æçæåï¼\n\n<iframe src="https://github.com/sparanoid/chinese-copywriting-guidelines/blob/master/readme.zh-hans.md" width="100%" height="600" frameborder="0" scrolling="yes" leftmargin="0" topmargin="0"></iframe>\n\n\n\n# 10ãå­ç¬¦ç¼ç \n\n# ç¼ç \n\nç¹å»æ¥ç\n\næ©å°æ¯çµç \n\n> æ©å°æ¯çµç ï¼è±è¯­ï¼morse codeï¼æ¯ä¸ç§æ¶éæ¶æ­çä¿¡å·ä»£ç ï¼éè¿ä¸åçæåé¡ºåºæ¥è¡¨è¾¾ä¸åçè±æå­æ¯ãæ°å­åæ ç¹ç¬¦å·ãæ¯ç±ç¾å½åæå®¶è¨ç¼ªå°Â·æ©å°æ¯åå¶å©æè¾å°è²å¾·Â·ç»´å°å¨1836å¹´åæã\n> æ©å°æ¯çµç æ¯ä¸ç§æ©æçæ°å­åéä¿¡å½¢å¼ï¼ä½æ¯å®ä¸åäºç°ä»£åªä½¿ç¨0å1ä¸¤ç§ç¶æçäºè¿å¶ä»£ç ï¼å®çä»£ç åæ¬äºç§ï¼\n> 1.ç¹ï¼Â·ï¼ï¼1\n> 2.åï¼-ï¼ï¼111\n> 3.å­ç¬¦åé¨çåé¡¿ï¼å¨ç¹ååä¹é´ï¼ï¼0\n> 4.å­ç¬¦ä¹é´çåé¡¿ï¼000\n> 5.åè¯ä¹é´çåé¡¿ï¼0000000\n\nascii\n\n> asciiï¼åé³ï¼ /ËÃ¦ski/ ass-keeï¼american standard code for information interchangeï¼ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç ï¼æ¯åºäºæä¸å­æ¯çä¸å¥çµèç¼ç ç³»ç»ãå®ä¸»è¦ç¨äºæ¾ç¤ºç°ä»£è±è¯­ï¼èå¶æ©å±çæ¬å»¶ä¼¸ç¾å½æ åä¿¡æ¯äº¤æ¢ç åå¯ä»¥é¨åæ¯æå¶ä»è¥¿æ¬§è¯­è¨ï¼å¹¶ç­åäºå½éæ åiso/iec 646ã\n> ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç æ¯è¿å¥ç¼ç ç³»ç»çä¼ ç»å½åï¼äºèç½å·ç åéå±ç°å¨æ´å¾åäºä½¿ç¨å®çæ°åå­us-asciiã\n> ç¾å½ä¿¡æ¯äº¤æ¢æ åä»£ç æ¯ç¾å½çµæ°åçµå­å·¥ç¨å¸åä¼éç¨ç¢ä¹ä¸ã\n> ascii ç±çµæ¥ç åå±èæ¥ãç¬¬ä¸çæ ååå¸äº1963å¹´ï¼1967å¹´ç»åäºä¸æ¬¡ä¸»è¦ä¿®è®¢ï¼æåä¸æ¬¡æ´æ°åæ¯å¨1986å¹´ï¼è³ä»ä¸ºæ­¢å±å®ä¹äº128ä¸ªå­ç¬¦ï¼å¶ä¸­33ä¸ªå­ç¬¦æ æ³æ¾ç¤ºï¼ä¸äºç»ç«¯æä¾äºæ©å±ï¼ä½¿å¾è¿äºå­ç¬¦å¯æ¾ç¤ºä¸ºè¯¸å¦ç¬è¸ãæåçè±å¼ç­8-bitç¬¦å·ï¼ï¼ä¸è¿33ä¸ªå­ç¬¦å¤æ°é½å·²æ¯éåºçæ§å¶å­ç¬¦ãæ§å¶å­ç¬¦çç¨éä¸»è¦æ¯ç¨æ¥ææ§å·²ç»å¤çè¿çæå­ãå¨33ä¸ªå­ç¬¦ä¹å¤çæ¯95ä¸ªå¯æ¾ç¤ºçå­ç¬¦ãç¨é®çæ²ä¸ç©ºç½é®æäº§ççç©ºç½å­ç¬¦ä¹ç®1ä¸ªå¯æ¾ç¤ºå­ç¬¦ï¼æ¾ç¤ºä¸ºç©ºç½ï¼ã\n\nå¨è®¡ç®æºææ¯åå±çæ©æï¼å¦asciiï¼1963å¹´ï¼åebcdicï¼1964å¹´ï¼è¿æ ·çå­ç¬¦ééæ¸æä¸ºæ åãä½è¿äºå­ç¬¦éçå±éå¾å¿«å°±åå¾ææ¾ï¼äºæ¯äººä»¬å¼åäºè®¸å¤æ¹æ³æ¥æ©å±å®ä»¬ãå¯¹äºæ¯æåæ¬ä¸äºcjkå­ç¬¦å®¶æå¨åçåä½ç³»ç»çè¦æ±è½æ¯ææ´å¤§éçå­ç¬¦ï¼å¹¶ä¸éè¦ä¸ç§ç³»ç»èä¸æ¯ä¸´æ¶çæ¹æ³å®ç°è¿äºå­ç¬¦çç¼ç ã\n\nebcdic\n\n> ebcdicï¼è±è¯­ï¼extended binary coded decimal interchange codeï¼æ©å¢äºè¿å¼åè¿äº¤æ¢ç ï¼ï¼ä¸ºibmäº1963å¹´ï¼1964å¹´é´æ¨åºçå­ç¬¦ç¼ç è¡¨ï¼æ ¹æ®æ©ææå­æºå¼çäºè¿ååè¿æ°ï¼bcdï¼binary coded decimalï¼æåèæãæ¯ibmè¿·å°çº§ä»¥ä¸çµèçæ åç ã\n> å®çç¼ºç¹æ¯ï¼è±æå­æ¯ä¸æ¯è¿ç»­å°æåï¼ä¸­é´åºç°å¤æ¬¡æ­ç»­ï¼ä¸ºæ°åç¨åºçäººå¸¦æ¥äºä¸äºå°é¾ã\n\nå¶ä»\n\nè¥¿æ¬§æ å\n\n * iso-8859-1\n * iso-8859-5\n * iso-8859-6\n * iso-8859-7\n * iso-8859-11\n * iso-8859-15\n * iso/iec 646\n\ndoså­ç¬¦éï¼åç§°ibmä»£ç é¡µï¼\n\n * cp437\n * cp737\n * cp850\n * cp852\n * cp855\n * cp857\n * cp858\n * cp860\n * cp861\n * cp863\n * cp865\n * cp866\n * cp869\n\nwindowså­ç¬¦é\n\n * windows-1250\n * windows-1251ï¼ç¨äºè¥¿éå°å­æ¯è¡¨\n * windows-1252\n * windows-1253\n * windows-1254\n * windows-1255ï¼ç¨äºå¸ä¼¯è±è¯­\n * windows-1256ï¼ç¨äºé¿æä¼¯è¯­\n * windows-1257\n * windows-1258ï¼ç¨äºè¶åè¯­\n\nå°æ¹¾\n\n * å¤§äºç \n * ä¸­æä¿¡æ¯äº¤æ¢ç ï¼ccciiï¼\n * ä¸­ææ åäº¤æ¢ç ï¼cns 11643ï¼\n * euc\n\næ¥æ¬\n\n * iso/iec 2022\n * shift jis\n * euc\n\nä¸­å½å¤§éåæ¸¯æ¾³\n\n * gb 2312\n * euc\n * gbkï¼è§å®æä»¶ä¸ºgb13000ï¼\n * gb 18030\n * é¦æ¸¯å¢è¡¥å­ç¬¦é\n\næé²åå²\n\n * euc\n * koi8-r\n * koi8-u\n * koi7\n * mik\n\nè¶å\n\n * è¶åä¿¡æ¯äº¤æ¢æ åä»£ç \n\nå°åº¦\n\n * å°åº¦æå­ä¿¡æ¯äº¤æ¢ç \n\nunicode\n\n * unicode\n * utf-7\n * utf-8\n * utf-16\n * utf-32\n\n# å­ç¬¦è½¬æ¢å·¥å·\n\nç±äºæå¾å¤ç§å­ç¬¦ç¼ç æ¹æ³è¢«ä½¿ç¨ï¼ä»ä¸ç§å­ç¬¦ç¼ç è½¬æ¢å°å¦ä¸ç§ï¼éè¦ä¸äºå·¥å·ã\n\nç¹å»æ¥ç\n\nè·¨å¹³å°ï¼\n\n * ç½é¡µæµè§å¨âå¤§å¤æ°ç°ä»£çç½é¡µæµè§å¨é½å·ææ­¤åè½ãä¸è¬æ¯å¨èå"æ¥ç"ï¼viewï¼/"å­ç¬¦ç¼ç "ï¼character encodingï¼\n * iconv âç¨åºä¸ç¼ç¨apiï¼ç¨äºå­ç¬¦ç¼ç è½¬æ¢\n * convert_encoding.py âåºäºpythonçè½¬æ¢å·¥å·.\n * decodeh.py âç¨äºå¯åæ§çæµç¼ç æ¹æ¡çç®æ³ä¸æ¨¡å.\n * international components for unicode âä¸å¥cè¯­è¨ä¸javaè¯­è¨çå¼æºåºï¼ç±ibmæä¾ï¼ç¨äºunicodeç­å¤è¯­è¨ç¼ç çè½¬æ¢ãå®ç°.\n * chardet â mozillaçç¼ç èªå¨æ£æµä»£ç çpythonè¯­è¨å®ç°.\n * æ°çæ¬çunixå½ä»¤fileåå­ç¬¦ç¼ç çæ£æµ.ï¼cygwinä¸macé½ææ­¤å½ä»¤ï¼\n\nlinux:\n\n * recode â\n * utrac â å°æ´ä¸ªæä»¶åå®¹ä»ä¸ç§å­ç¬¦ç¼ç è½¬æ¢å°å¦å¤ä¸ç§\n * cstocs â\n * convmv âè½¬æ¢æä»¶å.\n * enca âåæç¼ç æ¨¡å¼.\n\nmicrosoft windows:\n\n * encoding.convert â .net api\n * multibytetowidechar/widechartomultibyte â windows api\n * cscvt âè½¬æ¢å·¥å·\n * enca âåæç¼ç æ¹æ³\n\n# ç°ä»£ç¼ç æ¨¡å\n\nç¹å»æ¥ç\n\nç±ç»ä¸ç åéç¨å­ç¬¦éæææçç°ä»£å­ç¬¦ç¼ç æ¨¡ååæ²¡æè·ä»ç®åå­ç¬¦éçè§ç¹ãå®ä»¬å°å­ç¬¦ç¼ç çæ¦å¿µåä¸ºï¼æåªäºå­ç¬¦ãå®ä»¬çç¼å·ãè¿äºç¼å·å¦ä½ç¼ç æä¸ç³»åçâç åâï¼æéå¤§å°çæ°å­ï¼ä»¥åæåè¿äºååå¦ä½ç»æå«ä½å­èæµãåºåè¿äºæ¦å¿µçæ ¸å¿ææ³æ¯åå»ºä¸ä¸ªè½å¤ç¨ä¸åæ¹æ³æ¥ç¼ç çä¸ä¸ªéç¨å­ç¬¦éãä¸ºäºæ­£ç¡®å°è¡¨ç¤ºè¿ä¸ªæ¨¡åéè¦æ´å¤æ¯âå­ç¬¦éâåâå­ç¬¦ç¼ç âæ´ä¸ºç²¾ç¡®çæ¯è¯­è¡¨ç¤ºãå¨unicode technical report (utr) #17ä¸­ï¼ç°ä»£ç¼ç æ¨¡ååä¸º5ä¸ªå±æ¬¡ï¼æç¨çæ¯è¯­åå¨ä¸é¢ï¼\n\n 1. æ½è±¡å­ç¬¦è¡¨ï¼abstract character repertoireï¼æ¯ä¸ä¸ªç³»ç»æ¯æçæææ½è±¡å­ç¬¦çéåãå­ç¬¦è¡¨å¯ä»¥æ¯å°é­çï¼å³é¤éåå»ºä¸ä¸ªæ°çæ åï¼asciiåå¤æ°iso/iec 8859ç³»åé½æ¯è¿æ ·çä¾å­ï¼ï¼å¦åä¸åè®¸æ·»å æ°çç¬¦å·ï¼å­ç¬¦è¡¨ä¹å¯ä»¥æ¯å¼æ¾çï¼å³åè®¸æ·»å æ°çç¬¦å·ï¼ç»ä¸ç åä¸å®ç¨åº¦ä¸ä»£ç é¡µæ¯è¿æ¹é¢çä¾å­ï¼ãç¹å®å­ç¬¦è¡¨ä¸­çå­ç¬¦åæ äºå¦ä½å°ä¹¦åç³»ç»åè§£æçº¿æ§ä¿¡æ¯ååçå³å®ãä¾å¦æä¸ãå¸èåæ¯æå¤«å­æ¯è¡¨åä¸ºå­æ¯ãæ°å­ãåé³ç¬¦å·ãæ ç¹åå¦ç©ºæ ¼è¿æ ·çä¸äºå°æ°ç¹æ®å­ç¬¦ï¼å®ä»¬é½è½æç§ä¸ç§ç®åççº¿æ§åºåæåï¼å°½ç®¡å¯¹å®ä»¬çå¤çéè¦å¦å¤çè§åï¼å¦å¸¦æåé³ç¬¦å·çå­æ¯è¿æ ·çç¹æµåºåå¦ä½è§£éââä½è¿ä¸å±äºå­ç¬¦è¡¨çèç´ï¼ãä¸ºäºæ¹ä¾¿èµ·è§ï¼è¿æ ·çå­ç¬¦è¡¨å¯ä»¥åæ¬é¢åç¼å·çå­æ¯ååé³ç¬¦å·çç»åãå¶å®çä¹¦åç³»ç»ï¼å¦é¿æä¼¯è¯­åå¸ä¼¯è±è¯­ï¼ç±äºè¦éåºååæå­åå¨ä¸åæå½¢ä¸æç§ä¸åæ¹å¼äº¤åå¨ä¸èµ·çå­å½¢ï¼å°±ä½¿ç¨æ´ä¸ºå¤æçç¬¦å·è¡¨è¡¨ç¤ºã\n 2. ç¼ç å­ç¬¦éï¼ccs:coded character setï¼æ¯å°å­ç¬¦é{\\displaystyle c}cä¸­æ¯ä¸ªå­ç¬¦æ å°å°1ä¸ªåæ ï¼æ´æ°å¼å¯¹ï¼x, yï¼æèè¡¨ç¤ºä¸º1ä¸ªéè´æ´æ°{\\displaystyle n}nãå­ç¬¦éåç ä½æ å°ç§°ä¸ºç¼ç å­ç¬¦éãä¾å¦ï¼å¨ä¸ä¸ªç»å®çå­ç¬¦è¡¨ä¸­ï¼è¡¨ç¤ºå¤§åæä¸å­æ¯âaâçå­ç¬¦è¢«èµäºæ´æ°65ãå­ç¬¦âbâæ¯66ï¼å¦æ­¤ç»§ç»­ä¸å»ãå¤ä¸ªç¼ç å­ç¬¦éå¯ä»¥è¡¨ç¤ºåæ ·çå­ç¬¦è¡¨ï¼ä¾å¦iso-8859-1åibmçä»£ç é¡µ037åä»£ç é¡µ500å«çåæ ·çå­ç¬¦è¡¨ä½æ¯å°å­ç¬¦æ å°ä¸ºä¸åçæ´æ°ãç±æ­¤äº§çäºç¼ç ç©ºé´ï¼encoding spaceï¼çæ¦å¿µï¼ç®åè¯´å°±æ¯åå«ææå­ç¬¦çè¡¨çç»´åº¦ãå¯ä»¥ç¨ä¸å¯¹æ´æ°æ¥æè¿°ï¼ä¾å¦ï¼gb 2312çæ±å­ç¼ç ç©ºé´æ¯94 x 94ãå¯ä»¥ç¨ä¸ä¸ªæ´æ°æ¥æè¿°ï¼ä¾å¦ï¼iso-8859-1çç¼ç ç©ºé´æ¯256ãä¹å¯ä»¥ç¨å­ç¬¦çå­å¨ååå°ºå¯¸æ¥æè¿°ï¼ä¾å¦ï¼iso-8859-1æ¯ä¸ä¸ª8æ¯ç¹çç¼ç ç©ºé´ãç¼ç ç©ºé´è¿å¯ä»¥ç¨å¶å­éæ¥è¡¨è¿°ï¼å¦è¡ãåãé¢ï¼planeï¼ç­ãç¼ç ç©ºé´ä¸­çä¸ä¸ªä½ç½®ï¼positionï¼ç§°ä¸ºç ä½ï¼code pointï¼ãä¸ä¸ªå­ç¬¦æå ç¨çç ä½ç§°ä¸ºç ä½å¼ï¼code point valueï¼ã1ä¸ªç¼ç å­ç¬¦éå°±æ¯ææ½è±¡å­ç¬¦æ å°ä¸ºç ä½å¼ã\n 3. å­ç¬¦ç¼ç è¡¨ï¼cef:character encoding formï¼ï¼ä¹ç§°ä¸º"storage format"ï¼æ¯å°ç¼ç å­ç¬¦éçéè´æ´æ°å¼ï¼å³æ½è±¡çç ä½ï¼è½¬æ¢ææéæ¯ç¹é¿åº¦çæ´åå¼ï¼ç§°ä¸ºç åcode unitsï¼çåºåãè¿å¯¹äºå®é¿ç¼ç æ¥è¯´æ¯ä¸ªå°èªèº«çæ å°ï¼null mappingï¼ï¼ä½å¯¹äºåé¿ç¼ç æ¥è¯´ï¼è¯¥æ å°æ¯è¾å¤æï¼æä¸äºç ä½æ å°å°ä¸ä¸ªç åï¼æå¦å¤ä¸äºç ä½æ å°å°ç±å¤ä¸ªç åç»æçåºåãä¾å¦ï¼ä½¿ç¨16æ¯ç¹é¿çå­å¨ååä¿å­æ°å­ä¿¡æ¯ï¼ç³»ç»æ¯ä¸ªåååªè½å¤ç´æ¥è¡¨ç¤ºä»0å°65,535çæ°å¼ï¼ä½æ¯å¦æä½¿ç¨å¤ä¸ª16ä½ååå°±è½å¤è¡¨ç¤ºæ´å¤§çæ´æ°ãè¿å°±æ¯cefçä½ç¨ï¼å®å¯ä»¥æunicodeä»0å°140ä¸çç ç©ºé´èå´çæ¯ä¸ªç ä½æ å°å°åä¸ªæå¤ä¸ªå¨0å°65,5356èå´åçç å¼ãæç®åçå­ç¬¦ç¼ç è¡¨å°±æ¯åçº¯å°éæ©è¶³å¤å¤§çåä½ï¼ä»¥ä¿è¯ç¼ç å­ç¬¦éä¸­çæææ°å¼è½å¤ç´æ¥ç¼ç ï¼ä¸ä¸ªç ä½å¯¹åºä¸ä¸ªç å¼ï¼ãè¿å¯¹äºè½å¤ç¨ä½¿ç¨å«æ¯ç¹ç»æ¥è¡¨ç¤ºçç¼ç å­ç¬¦éï¼å¦å¤æ°ä¼ ç»çécjkçå­ç¬¦éç¼ç ï¼æ¯åççï¼å¯¹äºè½å¤ä½¿ç¨åå­æ¯ç¹æ¥è¡¨ç¤ºçç¼ç å­ç¬¦éï¼å¦æ©æçæ¬çunicodeï¼æ¥è¯´ä¹è¶³å¤åçãä½æ¯ï¼éçç¼ç å­ç¬¦éçå¤§å°å¢å ï¼ä¾å¦ï¼ç°å¨çunicodeçå­ç¬¦éè³å°éè¦21ä½æè½å¨é¨è¡¨ç¤ºï¼ï¼è¿ç§ç´æ¥è¡¨ç¤ºæ³åå¾è¶æ¥è¶æ²¡ææçï¼å¹¶ä¸å¾é¾è®©ç°æè®¡ç®æºç³»ç»éåºæ´å¤§çç å¼ãå æ­¤ï¼è®¸å¤ä½¿ç¨æ°è¿çæ¬unicodeçç³»ç»ï¼æèå°unicodeç ä½å¯¹åºä¸ºå¯åé¿åº¦ç8ä½å­èåºåçutf-8ï¼æèå°ç ä½å¯¹åºä¸ºå¯åé¿åº¦ç16ä½åºåçutf-16ã\n 4. å­ç¬¦ç¼ç æ¹æ¡ï¼ces:character encoding schemeï¼ï¼ä¹ç§°ä½"serialization format"ãå°å®é¿çæ´åå¼ï¼å³ç åï¼æ å°å°8ä½å­èåºåï¼ä»¥ä¾¿ç¼ç åçæ°æ®çæä»¶å­å¨æç½ç»ä¼ è¾ãå¨ä½¿ç¨unicodeçåºåï¼ä½¿ç¨ä¸ä¸ªç®åçå­ç¬¦æ¥æå®å­èé¡ºåºæ¯å¤§ç«¯åºæèå°ç«¯åºï¼ä½å¯¹äºutf-8æ¥è¯´å¹¶ä¸éè¦ä¸é¨ææå­èåºï¼ãç¶èï¼æäºå¤æçå­ç¬¦ç¼ç æºå¶ï¼å¦iso/iec 2022ï¼ä½¿ç¨æ§å¶å­ç¬¦è½¬ä¹åºåå¨å ç§ç¼ç å­ç¬¦éæèç¨äºåå°æ¯ä¸ªååæç¨å­èæ°çåç¼©æºå¶ï¼å¦scsuãbocuåpunycodeï¼ä¹é´åæ¢ã\n 5. ä¼ è¾ç¼ç è¯­æ³ï¼transfer encoding syntaxï¼ï¼ç¨äºå¤çä¸ä¸å±æ¬¡çå­ç¬¦ç¼ç æ¹æ¡æä¾çå­èåºåãä¸è¬å¶åè½åæ¬ä¸¤ç§ï¼ä¸æ¯æå­èåºåçå¼æ å°å°ä¸å¥æ´åéå¶çå¼ååï¼ä»¥æ»¡è¶³ä¼ è¾ç¯å¢çéå¶ï¼ä¾å¦emailä¼ è¾æ¶base64æèquoted-printableï¼é½æ¯æ8ä½çå­èç¼ç ä¸º7ä½é¿çæ°æ®ï¼å¦ä¸æ¯åç¼©å­èåºåçå¼ï¼å¦lzwæèè¡ç¨é¿åº¦ç¼ç ç­æ æåç¼©ææ¯ã\n\né«å±æºå¶ï¼higher level protocolï¼æä¾äºé¢å¤ä¿¡æ¯ï¼ç¨äºéæ©unicodeå­ç¬¦çç¹å®åç§ï¼å¦xmlå±æ§xml:lang\n\nå­ç¬¦æ å°ï¼character mapï¼å¨unicodeä¸­ä¿æäºå¶ä¼ ç»æä¹ï¼ä»å­ç¬¦åºåå°ç¼ç åçå­èåºåçæ å°ï¼åæ¬äºä¸è¿°çccs, cef, ceså±æ¬¡ã\n\nç»´åºç¾ç§\n\njdk9ä¸ºä½è¦å°stringçåºå±å®ç°ç±char[]æ¹æäºbyte[]?',charsets:{cjk:!0},lastUpdated:"2025/04/18, 12:12:36",lastUpdatedTimestamp:1744949556e3},{title:"FAQ",frontmatter:{title:"FAQ",date:"2024-08-30T10:51:07.000Z",permalink:"/pages/3cec6c/"},regularPath:"/04.%E5%85%B6%E4%BB%96/99.%E6%9D%82%E8%AE%B0/10.FAQ.html",relativePath:"04.å¶ä»/99.æè®°/10.FAQ.md",key:"v-447f8646",path:"/pages/3cec6c/",headers:[{level:3,title:"èææº",slug:"èææº",normalizedTitle:"èææº",charIndex:2},{level:4,title:"èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º ens33 ç½å¡",slug:"èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º-ens33-ç½å¡",normalizedTitle:"èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º ens33 ç½å¡",charIndex:9},{level:4,title:"SecureFXä¸­æä¹±ç ",slug:"securefxä¸­æä¹±ç ",normalizedTitle:"securefxä¸­æä¹±ç ",charIndex:212},{level:3,title:"CDH",slug:"cdh",normalizedTitle:"cdh",charIndex:467},{level:4,title:"é®é¢ææ¥",slug:"é®é¢ææ¥",normalizedTitle:"é®é¢ææ¥",charIndex:474}],headersStr:"èææº èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º ens33 ç½å¡ SecureFXä¸­æä¹±ç  CDH é®é¢ææ¥",content:"# èææº\n\n# èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º ens33 ç½å¡\n\n# éç½®å¥½ç½å¡æä»¶\nvim /etc/sysconfig/network-scripts/ifcfg-ens33\n\nsystemctl stop NetworkManager  # å³é­æç½ç»ç®¡ç\nsystemctl disable NetworkManager  # å°ç½ç»ç®¡çç¦ç¨\nservice network restart  # éå¯ç½å¡\n\n\n# SecureFXä¸­æä¹±ç \n\n * Options -> Session Option -> Terminal(Appearance) ä¿®æ¹ Character encoding ä¸º UTF-8ï¼æ­£å¸¸ä¿®æ¹è¿ä¸ªå°±å¯ä»¥ï¼ä¸æ­£å¸¸çä¸ä¸æ¡ï¼\n * æ¾å°å·¥å·éç½®æä»¶è·¯å¾%AppData%\\VanDyke\\Config\\Sessionsï¼æ¾å°å¯¹åºæå¡å¨æèææºç ip.ini æä»¶ç¶åæå¼ï¼æç´¢éç½®é¡¹ Filenames Always Use UTF8 å° 00000000 æ¹ä¸º 00000001 ï¼ä¿å­éåº\n\n\n# CDH\n\n# é®é¢ææ¥\n\nç»æï¼å ä¸º NameNode èç¹ï¼ä¸»èç¹20 Rolesï¼åªå¯å¨äº cloudera-scm-server æå¡ï¼æ²¡æå¯å¨ cloudera-scm-agent æå¡ãå¯¼è´ cmf UI çé¢å¯ä»¥è¿å»ï¼æ¥çä¸»æºæ¶ä¸æ¾ç¤º N01 èç¹ç¶æï¼ä¸ HDFS ç­æå¡å¯å¨å¤±è´¥ãZookeeper å¯å¨æ¶æ¥é Command aborted because of exception: Command timed-out after 150 secondsã\n\n# å¯å¨æ¹å¼1\nsystemctl start cloudera-scm-agent\n#systemctl start cloudera-scm-server   # åªéå¯å¨ä¸å°æå¡å¨\n\n\n# å¯å¨æ¹å¼2 ï¼ä½¿ç¨ systemctl æ¾ä¸å°æå¡æ¶ï¼\nsu - root\ncd /home/CM/cm-5.14.1/etc/init.d  # è·¯å¾å¯è½ä¸ä¸æ ·\n./cloudera-scm-agent status\n./cloudera-scm-agent start\n#./cloudera-scm-server start  # åªéå¯å¨ä¸å°æå¡å¨\n",normalizedContent:"# èææº\n\n# èææºç§»å¨æå¶ä»åå ä¸æ¾ç¤º ens33 ç½å¡\n\n# éç½®å¥½ç½å¡æä»¶\nvim /etc/sysconfig/network-scripts/ifcfg-ens33\n\nsystemctl stop networkmanager  # å³é­æç½ç»ç®¡ç\nsystemctl disable networkmanager  # å°ç½ç»ç®¡çç¦ç¨\nservice network restart  # éå¯ç½å¡\n\n\n# securefxä¸­æä¹±ç \n\n * options -> session option -> terminal(appearance) ä¿®æ¹ character encoding ä¸º utf-8ï¼æ­£å¸¸ä¿®æ¹è¿ä¸ªå°±å¯ä»¥ï¼ä¸æ­£å¸¸çä¸ä¸æ¡ï¼\n * æ¾å°å·¥å·éç½®æä»¶è·¯å¾%appdata%\\vandyke\\config\\sessionsï¼æ¾å°å¯¹åºæå¡å¨æèææºç ip.ini æä»¶ç¶åæå¼ï¼æç´¢éç½®é¡¹ filenames always use utf8 å° 00000000 æ¹ä¸º 00000001 ï¼ä¿å­éåº\n\n\n# cdh\n\n# é®é¢ææ¥\n\nç»æï¼å ä¸º namenode èç¹ï¼ä¸»èç¹20 rolesï¼åªå¯å¨äº cloudera-scm-server æå¡ï¼æ²¡æå¯å¨ cloudera-scm-agent æå¡ãå¯¼è´ cmf ui çé¢å¯ä»¥è¿å»ï¼æ¥çä¸»æºæ¶ä¸æ¾ç¤º n01 èç¹ç¶æï¼ä¸ hdfs ç­æå¡å¯å¨å¤±è´¥ãzookeeper å¯å¨æ¶æ¥é command aborted because of exception: command timed-out after 150 secondsã\n\n# å¯å¨æ¹å¼1\nsystemctl start cloudera-scm-agent\n#systemctl start cloudera-scm-server   # åªéå¯å¨ä¸å°æå¡å¨\n\n\n# å¯å¨æ¹å¼2 ï¼ä½¿ç¨ systemctl æ¾ä¸å°æå¡æ¶ï¼\nsu - root\ncd /home/cm/cm-5.14.1/etc/init.d  # è·¯å¾å¯è½ä¸ä¸æ ·\n./cloudera-scm-agent status\n./cloudera-scm-agent start\n#./cloudera-scm-server start  # åªéå¯å¨ä¸å°æå¡å¨\n",charsets:{cjk:!0},lastUpdated:"2025/03/28, 16:25:58",lastUpdatedTimestamp:1743150358e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-460c88ea",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/07/10, 19:46:54",lastUpdatedTimestamp:1657453614e3},{title:"Home",frontmatter:{home:!0,heroImage:"img/gif/panda.jpg",heroText:"åå®åææ¸",tagline:"ç¨æ¥è®°å½éå°çç¹ç¹æ»´æ»´ï¼çç¢ç¥è¯",actionText:"ç°å¨å¼å§ â",actionLink:"/pages/5d76a5/",bannerBg:"none",features:[{title:"ç¥è¯ç®¡ç",details:"åå«ä¸ç§å¸åçç¥è¯ç®¡çå½¢æï¼ç»æåãç¢çåãä½ç³»åãè½»æ¾æé å±äºä½ èªå·±çç¥è¯ç®¡çå¹³å°"},{title:"ç®æ´é«æ",details:"ä»¥ Markdown ä¸ºä¸­å¿çé¡¹ç®ç»æï¼åç½®èªå¨åå·¥å·ï¼ä»¥æ´å°çéç½®å®ææ´å¤çäºãéåå¤ç»´ç´¢å¼å¿«éå®ä½æ¯ä¸ªç¥è¯ç¹"},{title:"æ²æµ¸å¼éè¯»",details:"ä¸ä¸ºéè¯»è®¾è®¡çUIï¼éåå¤ç§é¢è²æ¨¡å¼ãå¯å³é­çä¾§è¾¹æ åå¯¼èªæ ï¼å¸¦ç»ä½ ä¸ç§æ²æµ¸å¼éè¯»ä½éª"}],postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-5111c592",path:"/",headers:[{level:2,title:"ç®å½è§å¾",slug:"ç®å½è§å¾",normalizedTitle:"ç®å½è§å¾",charIndex:91},{level:2,title:"ðå¡çè§å¾",slug:"ðå¡çè§å¾",normalizedTitle:"ðå¡çè§å¾",charIndex:249}],headersStr:"ç®å½è§å¾ ðå¡çè§å¾",content:"balabalabala\n\né»ç¥è¯ Â· æç©º\nå«æä¸é´æ¾æªè§ï¼ä¸è¡ä¸æ­¥ï¼ä¸è±æ°ã\næ¿ä½ åç»ä¹ä¹å«åä¸é¾ï¼å½æ¥ä»æ¯é£åªç³å¤´æ¨æ¨ã\né»å¤ç»äºæç«ç¼éçï¼ æè¦ç¨å®ï¼çç©¿å®¿å½ã\n\n\n\n# ç®å½è§å¾\n\n<iframe :src=\"$withBase('/markmap/markmap.html')\" width=\"100%\" height=\"400\" frameborder=\"0\" scrolling=\"No\" leftmargin=\"0\" topmargin=\"0\"></iframe>\n\n\n\n\n# ðå¡çè§å¾\n\nJava\n\nJavaç¸å³çç¥è¯ç¹\n\nå¤§æ°æ®\n\nðå¤§æ°æ®ç¸å³ç»ä»¶çæ­å»ºï¼æ³¨æçæ¬ï¼ååºæ¬ç¨æ³\n\næ°æ®åº\n\næ°æ®åºçç¸å³ç¥è¯ç¹\n\nå¶ä»\n\nå¶ä»ç¼ç¨è¯­è¨åæè®°\n\n- name: Java\n  desc: Javaç¸å³çç¥è¯ç¹\n  link: /pages/768c32/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: å¤§æ°æ®\n  desc: ðå¤§æ°æ®ç¸å³ç»ä»¶çæ­å»ºï¼æ³¨æçæ¬ï¼ååºæ¬ç¨æ³\n  link: /pages/5d76a5/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: æ°æ®åº\n  desc: æ°æ®åºçç¸å³ç¥è¯ç¹\n  link: /pages/7e6951/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: å¶ä»\n  desc: å¶ä»ç¼ç¨è¯­è¨åæè®°\n  link: /pages/f2a340/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n\n\n\n",normalizedContent:"balabalabala\n\né»ç¥è¯ Â· æç©º\nå«æä¸é´æ¾æªè§ï¼ä¸è¡ä¸æ­¥ï¼ä¸è±æ°ã\næ¿ä½ åç»ä¹ä¹å«åä¸é¾ï¼å½æ¥ä»æ¯é£åªç³å¤´æ¨æ¨ã\né»å¤ç»äºæç«ç¼éçï¼ æè¦ç¨å®ï¼çç©¿å®¿å½ã\n\n\n\n# ç®å½è§å¾\n\n<iframe :src=\"$withbase('/markmap/markmap.html')\" width=\"100%\" height=\"400\" frameborder=\"0\" scrolling=\"no\" leftmargin=\"0\" topmargin=\"0\"></iframe>\n\n\n\n\n# ðå¡çè§å¾\n\njava\n\njavaç¸å³çç¥è¯ç¹\n\nå¤§æ°æ®\n\nðå¤§æ°æ®ç¸å³ç»ä»¶çæ­å»ºï¼æ³¨æçæ¬ï¼ååºæ¬ç¨æ³\n\næ°æ®åº\n\næ°æ®åºçç¸å³ç¥è¯ç¹\n\nå¶ä»\n\nå¶ä»ç¼ç¨è¯­è¨åæè®°\n\n- name: java\n  desc: javaç¸å³çç¥è¯ç¹\n  link: /pages/768c32/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: å¤§æ°æ®\n  desc: ðå¤§æ°æ®ç¸å³ç»ä»¶çæ­å»ºï¼æ³¨æçæ¬ï¼ååºæ¬ç¨æ³\n  link: /pages/5d76a5/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: æ°æ®åº\n  desc: æ°æ®åºçç¸å³ç¥è¯ç¹\n  link: /pages/7e6951/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: å¶ä»\n  desc: å¶ä»ç¼ç¨è¯­è¨åæè®°\n  link: /pages/f2a340/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/08/22, 21:13:20",lastUpdatedTimestamp:1661174e6}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Java",link:"/pages/de9b5e/",items:[{text:"åºç¡",items:[{text:"Javaåºç¡",link:"/pages/768c32/"}]},{text:"å·¥å·",items:[{text:"hutool",link:"/pages/1d1863/"},{text:"commons",link:"/pages/1d1864/"}]},{text:"æ¡æ¶",items:[{text:"Spring Bootç¸å³",link:"/pages/1e9420/"}]},{text:"è®¾è®¡æ¨¡å¼",items:[{text:"è®¾è®¡æ¨¡å¼å¥é¨",link:"/pages/bdceb5/"}]}]},{text:"å¤§æ°æ®",items:[{text:"Hadoop",items:[{text:"Hadoopåå¸å¼æ­å»º",link:"/pages/5d76a5/"},{text:"Hadoopé«å¯ç¨æ­å»º",link:"/pages/f9f70f/"},{text:"éç¾¤ç«¯å£",link:"/pages/3e77b2/"},{text:"ä»£ç demo",link:"/pages/03a2bd/"}]},{text:"Zookeeper",items:[{text:"Zookeeperéç¾¤æ­å»º",link:"/pages/e2226d/"}]},{text:"Hive",items:[{text:"Hiveéç¾¤æ­å»º",link:"/pages/edf4cb/"},{text:"Hiveç¸å³",link:"/pages/dd806a/"},{text:"HSQL",link:"/pages/dd807a/"}]},{text:"Kafka",items:[{text:"Kafkaéç¾¤æ­å»º",link:"/pages/bfa383/"}]},{text:"HBase",items:[{text:"HBaseéç¾¤æ­å»º",link:"/pages/b22228/"},{text:"HBaseåºç¡å­¦ä¹ ",link:"/pages/e15afa/"}]},{text:"Spark",items:[{text:"Sparkç¯å¢æ­å»º",link:"/pages/7d157d/"},{text:"Sparkç¸å³ç¥è¯",link:"/pages/b3ba00/"}]},{text:"Flink",items:[{text:"Flinkç¯å¢æ­å»º",link:"/pages/415096/"},{text:"Flinkå­¦ä¹ ",link:"/pages/415097/"}]},{text:"Flume",items:[{text:"Flumeå®è£éç½®",link:"/pages/e4166e/"},{text:"Flumeé«å¯ç¨éç¾¤å®è£",link:"/pages/0376ec/"},{text:"Flumeç¸å³å­¦ä¹ ",link:"/pages/3408a8/"}]},{text:"Sqoop",items:[{text:"Sqoopå®è£éç½®",link:"/pages/60b3d7/"},{text:"Sqoopä½¿ç¨",link:"/pages/40f7a3/"}]},{text:"å¶ä»",items:[{text:"docker",link:"/pages/d89b45/"}]}]},{text:"æ°æ®åº",link:"/pages/e0cc49/",items:[{text:"Oracle",items:[{text:"Oracleç¸å³ç¥è¯æè®°",link:"/pages/7e6951/"},{text:"ç³»ç»å½æ°ç¯",link:"/pages/b5c27a/"},{text:"ä¸MySQLè¯­æ³åºå«",link:"/pages/c2df29/"}]},{text:"MySQL",items:[{text:"MySQLç¥è¯ç¹",link:"/pages/36476d/"}]}]},{text:"å¶ä»",items:[{text:"Python",items:[{text:"Pythonç®åè¯­æ³",link:"/pages/f2a330/"},{text:"Pythonæä½Office",link:"/pages/f2a340/"},{text:"Pythonç±»åºå­¦ä¹ ",link:"/pages/f2a341/"},{text:"Pythonç¬è«",link:"/pages/f799c7/"}]},{text:"Shell",items:[{text:"Shellåºç¡",link:"/pages/5704cc/"},{text:"Shellå½ä»¤è¡",link:"/pages/5765cc/"}]},{text:"Scala",items:[{text:"è¯­æ³å­¦ä¹ ",link:"/pages/c917bd/"}]},{text:"æ­£åè¡¨è¾¾å¼",items:[{text:"æ­£ååºç¡",link:"/pages/e4e158/"}]},{text:"è°åº¦",items:[{text:"è°åº¦å·¥å·",link:"/pages/a04438/"}]},{text:"åç«¯",items:[{text:"åç«¯ç¸å³",link:"/pages/gxfmrs/"}]},{text:"æè®°",items:[{text:"å¸¸ç¨å·¥å·æç½ç«",link:"/pages/414e9c/"},{text:"çç¢ç¥è¯",link:"/pages/c0e729/"}]},{text:"æå½",items:[{text:"æå½",link:"/pages/AXI4oJ/"}]}]}],sidebarDepth:2,logo:"https://i.postimg.cc/2yr3430s/panda.jpg",repo:"user-h/hdata-doc",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"ç¼è¾",sidebar:{"/01.Javaç¸å³/":[["00.Javaç¸å³ç¥è¯.md","Javaç¸å³ç¥è¯","/pages/de9b5e/"],{title:"åºç¡",collapsable:!1,children:[["01.åºç¡/01.Javaåºç¡.md","Javaåºç¡","/pages/768c32/"],["01.åºç¡/02.Javaæ©å±.md","Javaæ©å±","/pages/035171/"]]},{title:"å·¥å·",collapsable:!1,children:[["02.å·¥å·/001.hutoolå·¥å·å.md","hutoolå·¥å·å","/pages/1d1863/"],["02.å·¥å·/002.Apache Commonså·¥å·å.md","Commonsç±»åº","/pages/1d1864/"],["02.å·¥å·/010.SQLè§£æå·¥å·.md","SQLè§£æå·¥å·","/pages/2e9bb7/"]]},{title:"æ¡æ¶",collapsable:!1,children:[["03.æ¡æ¶/01.Spring Bootç¸å³.md","Spring Bootç¸å³","/pages/1e9420/"]]},{title:"è®¾è®¡æ¨¡å¼",collapsable:!1,children:[["04.è®¾è®¡æ¨¡å¼/006.è®¾è®¡æ¨¡å¼å¥é¨.md","è®¾è®¡æ¨¡å¼å¥é¨","/pages/bdceb5/"],["04.è®¾è®¡æ¨¡å¼/011.ç­ç¥æ¨¡å¼.md","ç­ç¥æ¨¡å¼","/pages/676d02/"],["04.è®¾è®¡æ¨¡å¼/020.è§å¯èæ¨¡å¼.md","è§å¯èæ¨¡å¼","/pages/d0e23d/"],["04.è®¾è®¡æ¨¡å¼/030.è£é¥°èæ¨¡å¼.md","è£é¥°èæ¨¡å¼","/pages/116f8a/"],["04.è®¾è®¡æ¨¡å¼/040.å·¥åæ¨¡å¼.md","å·¥åæ¨¡å¼","/pages/668a2b/"],["04.è®¾è®¡æ¨¡å¼/050.åä¾æ¨¡å¼.md","åä¾æ¨¡å¼","/pages/4e0678/"],["04.è®¾è®¡æ¨¡å¼/060.å½ä»¤æ¨¡å¼.md","å½ä»¤æ¨¡å¼","/pages/5d365c/"],["04.è®¾è®¡æ¨¡å¼/070.ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼.md","ééå¨æ¨¡å¼ä¸å¤è§æ¨¡å¼","/pages/c7cf8b/"],["04.è®¾è®¡æ¨¡å¼/080.æ¨¡æ¿æ¹æ³æ¨¡å¼.md","æ¨¡æ¿æ¹æ³æ¨¡å¼","/pages/93ef90/"],["04.è®¾è®¡æ¨¡å¼/090.è¿­ä»£å¨ä¸ç»åæ¨¡å¼.md","è¿­ä»£å¨ä¸ç»åæ¨¡å¼","/pages/4372f2/"],["04.è®¾è®¡æ¨¡å¼/110.ç¶ææ¨¡å¼.md","State æ¨¡å¼","/pages/463f44/"],["04.è®¾è®¡æ¨¡å¼/120.ä»£çæ¨¡å¼.md","ä»£çæ¨¡å¼","/pages/cb203f/"]]}],catalogue:{},"/02.å¤§æ°æ®/":[{title:"Hadoop",collapsable:!1,children:[["01.Hadoop/01.Hadoopåå¸å¼æ­å»º.md","Hadoopåå¸å¼æ­å»º","/pages/5d76a5/"],["01.Hadoop/02.Hadoopé«å¯ç¨æ­å»º.md","Hadoopé«å¯ç¨æ­å»º","/pages/f9f70f/"],["01.Hadoop/03.éç¾¤ç«¯å£.md","éç¾¤ç«¯å£","/pages/3e77b2/"],["01.Hadoop/04.ä»£ç demoï¼mr hbase hive redisï¼.md","ä»£ç demoï¼mr hbase hive redisï¼","/pages/03a2bd/"]]},{title:"Zookeeper",collapsable:!1,children:[["02.Zookeeper/01.Zookeeperéç¾¤æ­å»º.md","Zookeeperéç¾¤æ­å»º","/pages/e2226d/"]]},{title:"Hive",collapsable:!1,children:[["03.Hive/01.Hiveéç¾¤æ­å»º.md","Hiveéç¾¤æ­å»º","/pages/edf4cb/"],["03.Hive/02.Hiveç¸å³.md","Hiveç¸å³","/pages/dd806a/"],["03.Hive/03.HSQL.md","HSQL","/pages/dd807a/"]]},{title:"Kafka",collapsable:!1,children:[["04.Kafka/01.Kafkaéç¾¤æ­å»º.md","Kafkaéç¾¤æ­å»º","/pages/bfa383/"]]},{title:"HBase",collapsable:!1,children:[["05.HBase/01.HBaseéç¾¤æ­å»º.md","HBaseéç¾¤æ­å»º","/pages/b22228/"],["05.HBase/02.HBaseåºç¡å­¦ä¹ .md","HBaseåºç¡å­¦ä¹ ","/pages/e15afa/"]]},{title:"Spark",collapsable:!1,children:[["06.Spark/01.Sparkç¯å¢æ­å»º.md","Sparkç¯å¢æ­å»º","/pages/7d157d/"],["06.Spark/02.Sparkç¸å³ç¥è¯.md","Sparkç¸å³ç¥è¯","/pages/b3ba00/"],["06.Spark/10.Sparkåæ ¸å­¦ä¹ .md","Sparkåæ ¸å­¦ä¹ ","/pages/70f03f/"]]},{title:"Flink",collapsable:!1,children:[["07.Flink/01.Flinkç¯å¢æ­å»º.md","Flinkç¯å¢æ­å»º","/pages/415096/"],["07.Flink/02.Flinkå­¦ä¹ .md","Flinkå­¦ä¹ ","/pages/415097/"]]},{title:"Flume",collapsable:!1,children:[["10.Flume/01.Flumeå®è£éç½®.md","Flumeå®è£éç½®","/pages/e4166e/"],["10.Flume/02.Flumeé«å¯ç¨éç¾¤å®è£.md","Flumeé«å¯ç¨éç¾¤å®è£","/pages/0376ec/"],["10.Flume/03.Flumeç¸å³å­¦ä¹ .md","Flumeç¸å³å­¦ä¹ ","/pages/3408a8/"],["10.Flume/04.Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼.md","Flumeææ°æ®å¯¼å¥hiveï¼æä»¶æ¹å¼ï¼","/pages/eeda49/"]]},{title:"æ°æ®éæå·¥å·",collapsable:!1,children:[["11.æ°æ®éæå·¥å·/01.Sqoopå®è£éç½®.md","Sqoopå®è£éç½®","/pages/60b3d7/"],["11.æ°æ®éæå·¥å·/02.Sqoopä½¿ç¨.md","Sqoopä½¿ç¨","/pages/40f7a3/"],["11.æ°æ®éæå·¥å·/09.æ°æ®éææ¡æ¶.md","å¶ä»ETLå·¥å·","/pages/b76fc1/"]]},{title:" Impala",collapsable:!1,children:[["12. Impala/01.Impala.md","Impala","/pages/4d39ac/"]]},{title:"è°åº¦",collapsable:!1,children:[["16.è°åº¦/01.è°åº¦å·¥å·.md","è°åº¦å·¥å·","/pages/a04438/"]]},{title:"å¶ä»",collapsable:!1,children:[["20.å¶ä»/01.docker.md","docker","/pages/d89b45/"]]}],"/03.æ°æ®åº/":[{title:"Oracle",collapsable:!1,children:[["01.Oracle/01.Oracleç¸å³ç¥è¯æè®°.md","Oracleç¸å³ç¥è¯æè®°","/pages/7e6951/"],["01.Oracle/02.ç³»ç»å½æ°ç¯.md","ç³»ç»å½æ°ç¯","/pages/b5c27a/"],["01.Oracle/06.ä¸MySQLè¯­æ³åºå«.md","ä¸MySQLè¯­æ³åºå«","/pages/c2df29/"]]},{title:"MySQL",collapsable:!1,children:[["02.MySQL/02.MySQLçç¢ç¥è¯ç¹.md","MySQLçç¢ç¥è¯ç¹","/pages/36476d/"]]},{title:"å½äº§æ°æ®åº",collapsable:!1,children:[["06.å½äº§æ°æ®åº/03.è¾¾æ¢¦æ°æ®åº.md","è¾¾æ¢¦æ°æ®åº","/pages/086761/"],["06.å½äº§æ°æ®åº/09.åä¸ºé«æ¯æ°æ®åº.md","åä¸ºé«æ¯æ°æ®åº","/pages/e461e3/"]]},{title:"Redis",collapsable:!1,children:[["09.Redis/01.Rediså½ä»¤å­¦ä¹ .md","Rediså½ä»¤å­¦ä¹ ","/pages/ca5c12/"]]},{title:"Excel",collapsable:!1,children:[["10.Excel/01.Excelæå·§.md","Excelæå·§","/pages/265b1a/"]]},["0101.æ°æ®åº.md","æ°æ®åº","/pages/e0cc49/"],["1000.SQLéå¸¸è§ç¨æ³éé¦.md","SQLéå¸¸è§ç¨æ³","/pages/e02b49/"],["1006.SQLç»ä¹ é¢.md","SQLç»ä¹ é¢","/pages/d5b8e9/"]],"/04.å¶ä»/":[{title:"Python",collapsable:!1,children:[["01.Python/01.Pythonç®åè¯­æ³å­¦ä¹ .md","Pythonç®åè¯­æ³å­¦ä¹ ","/pages/f2a330/"],["01.Python/02.Pythonæä½Office.md","Pythonæä½Office","/pages/f2a340/"],["01.Python/03.Pythonç±»åºå­¦ä¹ .md","Pythonç±»åºå­¦ä¹ ","/pages/f2a341/"],["01.Python/04.èªå·±åçpythonç¨åº.md","èªå·±åçpythonç¨åºï¼åå°å·¥ä½éï¼","/pages/c2b99b/"],["01.Python/05.Pythonç¬è«.md","Pythonç¬è«","/pages/f799c7/"]]},{title:"Shell",collapsable:!1,children:[["02.Shell/01.Shellåºç¡.md","Shellåºç¡","/pages/5704cc/"],["02.Shell/02.Shellå°å·¥å·.md","Shellå½ä»¤è¡","/pages/5765cc/"]]},{title:"Scala",collapsable:!1,children:[["03.Scala/01.è¯­æ³å­¦ä¹ .md","è¯­æ³å­¦ä¹ ","/pages/c917bd/"]]},{title:"æ­£åè¡¨è¾¾å¼",collapsable:!1,children:[["04.æ­£åè¡¨è¾¾å¼/01.æ­£ååºç¡.md","æ­£ååºç¡","/pages/e4e158/"]]},{title:"åç«¯",collapsable:!1,children:[["06.åç«¯/01.åç«¯ç¸å³.md","åç«¯ç¸å³","/pages/gxfmrs/"]]},{title:"èµæ",collapsable:!1,children:[["98.èµæ/98.èµæ.md","èµæ","/pages/e6d5cb/"]]},{title:"æè®°",collapsable:!1,children:[["99.æè®°/01.å¸¸ç¨å·¥å·æç½ç«.md","å¸¸ç¨å·¥å·æç½ç«","/pages/414e9c/"],["99.æè®°/02.çç¢ç¥è¯.md","çç¢ç¥è¯","/pages/c0e729/"],["99.æè®°/03.å¿«æ·é®.md","å¿«æ·é®","/pages/378bb1/"],["99.æè®°/10.FAQ.md","FAQ","/pages/3cec6c/"]]},{title:"æå½",collapsable:!1,children:[["100.æå½/01.æå½.md","æå½","/pages/AXI4oJ/"]]}]},updateBar:{showToArticle:!1},category:!1,tag:!1,author:{name:"Ai",href:"https://github.com/user-h"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:1033078928@qq.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/user-h"},{iconClass:"icon-gitee",title:"Gitee",link:"https://gitee.com/aihb"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com"},{iconClass:"icon-bilibili",title:"åå©åå©",link:"https://bilibili.com"},{iconClass:"icon-douyin",title:"æé³",link:"https://douyin.com/"},{iconClass:"icon-mao",title:"ç«åª",link:""}]},footer:{createYear:2022,copyrightInfo:"Ai | MIT License"},htmlModules:{pageB:'\n  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>\n  <style>\n    .pageB img{width:80px!important;}\n    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}\n  </style>\n  ',windowRB:'\n    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;\n    min-width: auto;min-height:auto;"></div>\n    <style>\n      .windowRB{ padding: 0;}\n      .windowRB .wwads-img{margin-top: 10px;}\n      .windowRB .wwads-content{margin: 0 10px 10px 10px;}\n      .custom-html-window-rb .close-but{\n        display: none;\n      }\n    </style>\n  '}}};var yl=t(86),vl=t.n(yl),_l=t(94),xl=t(95),kl=t(11);var Sl={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:a}}=n;return!(e||!1===t||!0===a)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,a=e.frontmatter.sticky;return t&&a?t==a?Object(kl.a)(n,e):t-a:t&&!a?-1:!t&&a?1:Object(kl.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(kl.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let a=0,r=n.length;a<r;a++){const{frontmatter:{categories:r,tags:i}}=n[a];"array"===Object(kl.n)(r)&&r.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[a]))}),"array"===Object(kl.n)(i)&&i.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[a]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Ht.component(_l.default),Ht.component(xl.default);function wl(n){return n.toString().padStart(2,"0")}t(237);Ht.component("Badge",()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,412))),Ht.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,95))),Ht.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,94)));t(238);var El={props:{color:{required:!1,default:"rgb(66, 185, 131)"}}},Tl=(t(239),Object(hl.a)(El,(function(){return(0,this._self._c)("div",{staticClass:"spinner",style:{background:this.color}})}),[],!1,null,"1bbcb91a",null).exports);const Il={name:"Mermaid",props:{id:{type:String,required:!1,default:()=>"diagram_"+Date.now()},graph:{type:String,required:!1}},data:()=>({svg:void 0}),computed:{graphData(){return this.graph?this.graph:this.$slots.default[0].text}},render(n){return void 0===this.svg?n("Loading"):n("div",{class:["mermaid-diagram"],domProps:{innerHTML:this.svg,style:"width: 100%"}})},mounted(){t.e(79).then(t.t.bind(null,335,7)).then(n=>{n.initialize({startOnLoad:!0}),n.render(this.id,this.graphData,n=>{this.svg=n})})},components:{Loading:Tl}};var Al=[vl.a,({Vue:n,options:e,router:t,siteData:a})=>{a.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${wl(n.getUTCMonth()+1)}-${wl(n.getUTCDate())} ${wl(n.getUTCHours())}:${wl(n.getUTCMinutes())}:${wl(n.getUTCSeconds())}`}(e)),t?n.author=t:a.themeConfig.author&&(n.author=a.themeConfig.author)}),n.mixin(Sl)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},()=>{"undefined"!=typeof window&&function(n,e,t){function a(n){var t=e.createElement("div");t.className="heart",r.push({el:t,x:n.clientX-5,y:n.clientY-5,scale:1,alpha:1,color:"rgb(220,173,248)"}),e.body.appendChild(t)}var r=[];n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},function(n){var t=e.createElement("style");t.type="text/css";try{t.appendChild(e.createTextNode(n))}catch(e){t.styleSheet.cssText=n}e.getElementsByTagName("head")[0].appendChild(t)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var e="function"==typeof n.onclick&&n.onclick;n.onclick=function(n){let t=!0;n.path&&n.path.forEach(n=>{1===n.nodeType&&"string"==typeof n.className&&n.className.indexOf("theme-vdoing-content")>-1&&(t=!1)}),t&&(e&&e(),a(n))}}(),function n(){for(var t=0;t<r.length;t++)r[t].alpha<=0?(e.body.removeChild(r[t].el),r.splice(t,1)):(r[t].y--,r[t].scale+=.004,r[t].alpha-=.013,r[t].el.style.cssText="left:"+r[t].x+"px;top:"+r[t].y+"px;opacity:"+r[t].alpha+";transform:scale("+r[t].scale+","+r[t].scale+") rotate(45deg);background:"+r[t].color+";z-index:99999");requestAnimationFrame(n)}()}(window,document)},({Vue:n})=>{n.component(Il.name,Il)},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?01293bffa6c3962016c08ba685c79d78";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))}],jl=[];class zl extends class{constructor(){this.store=new Ht({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Ht.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(zl.prototype,{getPageAsyncComponent:to,getLayoutAsyncComponent:ao,getAsyncComponent:ro,getVueComponent:io});var Ol={install(n){const e=new zl;n.$vuepress=e,n.prototype.$vuepress=e}};function Cl(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Dl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return oo("pageKey",e),Ht.component(e)||Ht.component(e,to(e)),Ht.component(e)?n(e):n("")}},Nl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Ll={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Ml=(t(240),t(241),Object(hl.a)(Ll,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Rl={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Ht.config.productionTip=!1,Ht.use(Fs),Ht.use(Ol),Ht.mixin(function(n,e,t=Ht){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const a=new(n(t.$vuepress.$get("siteData"))),r=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),i={};return Object.keys(r).reduce((n,e)=>(e.startsWith("$")&&(n[e]=r[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const a in n)"/"===a?t=n[a]:0===this.$page.path.indexOf(a)&&(e=n[a]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,a=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?a?a+" | "+t:t:a||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const a=n[t];if(a.path.toLowerCase()===e.toLowerCase())return a}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},bl)),Ht.component("Content",Dl),Ht.component("ContentSlotsDistributor",Nl),Ht.component("OutboundLink",Ml),Ht.component("ClientOnly",Rl),Ht.component("Layout",ao("Layout")),Ht.component("NotFound",ao("NotFound")),Ht.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.7",hash:"5c72014"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:bl.routerBase||bl.base,t=new Fs({base:e,mode:"history",fallback:!1,routes:gl,scrollBehavior:(n,e,t)=>t||(n.hash?!Ht.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,a)=>{if(Cl(n,e.path))a();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Cl(n,t)?a(t):a()}else a();else{const t=e.path+"/",r=e.path+".html";Cl(n,r)?a(r):Cl(n,t)?a(t):a()}})}(t);const a={};try{await Promise.all(Al.filter(n=>"function"==typeof n).map(e=>e({Vue:Ht,options:a,router:t,siteData:bl,isServer:n})))}catch(n){console.error(n)}return{app:new Ht(Object.assign(a,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},jl.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);