<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hive相关 | 唐宋元明清</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/hdata-doc/img/favicon.ico">
    <meta name="description" content="">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/hdata-doc/assets/css/0.styles.ce16c74b.css" as="style"><link rel="preload" href="/hdata-doc/assets/js/app.37e4fbb6.js" as="script"><link rel="preload" href="/hdata-doc/assets/js/2.82afd9cb.js" as="script"><link rel="preload" href="/hdata-doc/assets/js/36.ecc28683.js" as="script"><link rel="prefetch" href="/hdata-doc/assets/js/10.7b061388.js"><link rel="prefetch" href="/hdata-doc/assets/js/11.3d84b622.js"><link rel="prefetch" href="/hdata-doc/assets/js/12.f524e450.js"><link rel="prefetch" href="/hdata-doc/assets/js/13.b3ff7d26.js"><link rel="prefetch" href="/hdata-doc/assets/js/14.3675e190.js"><link rel="prefetch" href="/hdata-doc/assets/js/15.676eac9f.js"><link rel="prefetch" href="/hdata-doc/assets/js/16.c546644f.js"><link rel="prefetch" href="/hdata-doc/assets/js/17.d80c3241.js"><link rel="prefetch" href="/hdata-doc/assets/js/18.bfa024db.js"><link rel="prefetch" href="/hdata-doc/assets/js/19.c4ebe893.js"><link rel="prefetch" href="/hdata-doc/assets/js/20.0c06c705.js"><link rel="prefetch" href="/hdata-doc/assets/js/21.e586d4fc.js"><link rel="prefetch" href="/hdata-doc/assets/js/22.d4747bce.js"><link rel="prefetch" href="/hdata-doc/assets/js/23.cfa91ca4.js"><link rel="prefetch" href="/hdata-doc/assets/js/24.77c960d1.js"><link rel="prefetch" href="/hdata-doc/assets/js/25.cc923a02.js"><link rel="prefetch" href="/hdata-doc/assets/js/26.432e9cf4.js"><link rel="prefetch" href="/hdata-doc/assets/js/27.3248ab2a.js"><link rel="prefetch" href="/hdata-doc/assets/js/28.67efb541.js"><link rel="prefetch" href="/hdata-doc/assets/js/29.e500a45f.js"><link rel="prefetch" href="/hdata-doc/assets/js/3.5c0f818a.js"><link rel="prefetch" href="/hdata-doc/assets/js/30.27916467.js"><link rel="prefetch" href="/hdata-doc/assets/js/31.db03022b.js"><link rel="prefetch" href="/hdata-doc/assets/js/32.40451343.js"><link rel="prefetch" href="/hdata-doc/assets/js/33.57a8afa5.js"><link rel="prefetch" href="/hdata-doc/assets/js/34.e8da6dc5.js"><link rel="prefetch" href="/hdata-doc/assets/js/35.25dea1e4.js"><link rel="prefetch" href="/hdata-doc/assets/js/37.976e826a.js"><link rel="prefetch" href="/hdata-doc/assets/js/38.f1f7e891.js"><link rel="prefetch" href="/hdata-doc/assets/js/39.6daaca2d.js"><link rel="prefetch" href="/hdata-doc/assets/js/4.528973e8.js"><link rel="prefetch" href="/hdata-doc/assets/js/40.3766a207.js"><link rel="prefetch" href="/hdata-doc/assets/js/41.515be286.js"><link rel="prefetch" href="/hdata-doc/assets/js/42.87e45d55.js"><link rel="prefetch" href="/hdata-doc/assets/js/43.0eea2c15.js"><link rel="prefetch" href="/hdata-doc/assets/js/44.f5a1989e.js"><link rel="prefetch" href="/hdata-doc/assets/js/45.96eaa743.js"><link rel="prefetch" href="/hdata-doc/assets/js/46.6db88dae.js"><link rel="prefetch" href="/hdata-doc/assets/js/47.f3e98870.js"><link rel="prefetch" href="/hdata-doc/assets/js/48.138b9428.js"><link rel="prefetch" href="/hdata-doc/assets/js/49.b4e2bdb7.js"><link rel="prefetch" href="/hdata-doc/assets/js/5.53dd3ef1.js"><link rel="prefetch" href="/hdata-doc/assets/js/50.6624a71f.js"><link rel="prefetch" href="/hdata-doc/assets/js/51.4273468b.js"><link rel="prefetch" href="/hdata-doc/assets/js/52.d69c448e.js"><link rel="prefetch" href="/hdata-doc/assets/js/53.3e61789b.js"><link rel="prefetch" href="/hdata-doc/assets/js/54.ed81b599.js"><link rel="prefetch" href="/hdata-doc/assets/js/55.a2edf6d0.js"><link rel="prefetch" href="/hdata-doc/assets/js/56.324986ae.js"><link rel="prefetch" href="/hdata-doc/assets/js/57.640caf90.js"><link rel="prefetch" href="/hdata-doc/assets/js/58.344d4730.js"><link rel="prefetch" href="/hdata-doc/assets/js/59.d9078674.js"><link rel="prefetch" href="/hdata-doc/assets/js/6.22885e2c.js"><link rel="prefetch" href="/hdata-doc/assets/js/60.2afcb1b9.js"><link rel="prefetch" href="/hdata-doc/assets/js/61.996c28ca.js"><link rel="prefetch" href="/hdata-doc/assets/js/62.cb5e8bee.js"><link rel="prefetch" href="/hdata-doc/assets/js/63.146ed62c.js"><link rel="prefetch" href="/hdata-doc/assets/js/64.8bb9c50a.js"><link rel="prefetch" href="/hdata-doc/assets/js/65.460effd7.js"><link rel="prefetch" href="/hdata-doc/assets/js/66.f5294e94.js"><link rel="prefetch" href="/hdata-doc/assets/js/67.0da1dddd.js"><link rel="prefetch" href="/hdata-doc/assets/js/68.64117a5a.js"><link rel="prefetch" href="/hdata-doc/assets/js/69.ed33359f.js"><link rel="prefetch" href="/hdata-doc/assets/js/7.814d9e01.js"><link rel="prefetch" href="/hdata-doc/assets/js/70.1250ab19.js"><link rel="prefetch" href="/hdata-doc/assets/js/71.f6a79a2a.js"><link rel="prefetch" href="/hdata-doc/assets/js/72.683057b4.js"><link rel="prefetch" href="/hdata-doc/assets/js/73.94e5450b.js"><link rel="prefetch" href="/hdata-doc/assets/js/74.fa587d94.js"><link rel="prefetch" href="/hdata-doc/assets/js/75.48871ae9.js"><link rel="prefetch" href="/hdata-doc/assets/js/76.447894b5.js"><link rel="prefetch" href="/hdata-doc/assets/js/77.da5dadf2.js"><link rel="prefetch" href="/hdata-doc/assets/js/78.a8553a08.js"><link rel="prefetch" href="/hdata-doc/assets/js/79.bd712952.js"><link rel="prefetch" href="/hdata-doc/assets/js/8.a242d330.js"><link rel="prefetch" href="/hdata-doc/assets/js/9.c7938acd.js">
    <link rel="stylesheet" href="/hdata-doc/assets/css/0.styles.ce16c74b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hdata-doc/" class="home-link router-link-active"><img src="https://i.postimg.cc/2yr3430s/panda.jpg" alt="唐宋元明清" class="logo"> <span class="site-name can-hide">唐宋元明清</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hdata-doc/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/hdata-doc/pages/de9b5e/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/768c32/" class="nav-link">Java基础</a></li></ul></li><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/1d1863/" class="nav-link">hutool</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/1d1864/" class="nav-link">commons</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/1e9420/" class="nav-link">Spring Boot相关</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/bdceb5/" class="nav-link">设计模式入门</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><!----> <span class="title" style="display:;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Hadoop</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/5d76a5/" class="nav-link">Hadoop分布式搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f9f70f/" class="nav-link">Hadoop高可用搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/3e77b2/" class="nav-link">集群端口</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/03a2bd/" class="nav-link">代码demo</a></li></ul></li><li class="dropdown-item"><h4>Zookeeper</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e2226d/" class="nav-link">Zookeeper集群搭建</a></li></ul></li><li class="dropdown-item"><h4>Hive</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/edf4cb/" class="nav-link">Hive集群搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/dd806a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Hive相关</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/dd807a/" class="nav-link">HSQL</a></li></ul></li><li class="dropdown-item"><h4>Kafka</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/bfa383/" class="nav-link">Kafka集群搭建</a></li></ul></li><li class="dropdown-item"><h4>HBase</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/b22228/" class="nav-link">HBase集群搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/e15afa/" class="nav-link">HBase基础学习</a></li></ul></li><li class="dropdown-item"><h4>Spark</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/7d157d/" class="nav-link">Spark环境搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/b3ba00/" class="nav-link">Spark相关知识</a></li></ul></li><li class="dropdown-item"><h4>Flink</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/415096/" class="nav-link">Flink环境搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/415097/" class="nav-link">Flink学习</a></li></ul></li><li class="dropdown-item"><h4>Flume</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e4166e/" class="nav-link">Flume安装配置</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/0376ec/" class="nav-link">Flume高可用集群安装</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/3408a8/" class="nav-link">Flume相关学习</a></li></ul></li><li class="dropdown-item"><h4>Sqoop</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/60b3d7/" class="nav-link">Sqoop安装配置</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/40f7a3/" class="nav-link">Sqoop使用</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/d89b45/" class="nav-link">docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/hdata-doc/pages/e0cc49/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Oracle</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/7e6951/" class="nav-link">Oracle相关知识杂记</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/b5c27a/" class="nav-link">系统函数篇</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/c2df29/" class="nav-link">与MySQL语法区别</a></li></ul></li><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/36476d/" class="nav-link">MySQL知识点</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><!----> <span class="title" style="display:;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a330/" class="nav-link">Python简单语法</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a340/" class="nav-link">Python操作Office</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a341/" class="nav-link">Python类库学习</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f799c7/" class="nav-link">Python爬虫</a></li></ul></li><li class="dropdown-item"><h4>Shell</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/5704cc/" class="nav-link">Shell基础</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/5765cc/" class="nav-link">Shell命令行</a></li></ul></li><li class="dropdown-item"><h4>Scala</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/c917bd/" class="nav-link">语法学习</a></li></ul></li><li class="dropdown-item"><h4>正则表达式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e4e158/" class="nav-link">正则基础</a></li></ul></li><li class="dropdown-item"><h4>调度</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/a04438/" class="nav-link">调度工具</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/gxfmrs/" class="nav-link">前端相关</a></li></ul></li><li class="dropdown-item"><h4>杂记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/414e9c/" class="nav-link">常用工具或网站</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/c0e729/" class="nav-link">琐碎知识</a></li></ul></li><li class="dropdown-item"><h4>摘录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/AXI4oJ/" class="nav-link">摘录</a></li></ul></li></ul></div></div> <a href="https://github.com/user-h/hdata-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/hdata-doc/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/hdata-doc/pages/de9b5e/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/768c32/" class="nav-link">Java基础</a></li></ul></li><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/1d1863/" class="nav-link">hutool</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/1d1864/" class="nav-link">commons</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/1e9420/" class="nav-link">Spring Boot相关</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/bdceb5/" class="nav-link">设计模式入门</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><!----> <span class="title" style="display:;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Hadoop</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/5d76a5/" class="nav-link">Hadoop分布式搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f9f70f/" class="nav-link">Hadoop高可用搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/3e77b2/" class="nav-link">集群端口</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/03a2bd/" class="nav-link">代码demo</a></li></ul></li><li class="dropdown-item"><h4>Zookeeper</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e2226d/" class="nav-link">Zookeeper集群搭建</a></li></ul></li><li class="dropdown-item"><h4>Hive</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/edf4cb/" class="nav-link">Hive集群搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/dd806a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Hive相关</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/dd807a/" class="nav-link">HSQL</a></li></ul></li><li class="dropdown-item"><h4>Kafka</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/bfa383/" class="nav-link">Kafka集群搭建</a></li></ul></li><li class="dropdown-item"><h4>HBase</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/b22228/" class="nav-link">HBase集群搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/e15afa/" class="nav-link">HBase基础学习</a></li></ul></li><li class="dropdown-item"><h4>Spark</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/7d157d/" class="nav-link">Spark环境搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/b3ba00/" class="nav-link">Spark相关知识</a></li></ul></li><li class="dropdown-item"><h4>Flink</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/415096/" class="nav-link">Flink环境搭建</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/415097/" class="nav-link">Flink学习</a></li></ul></li><li class="dropdown-item"><h4>Flume</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e4166e/" class="nav-link">Flume安装配置</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/0376ec/" class="nav-link">Flume高可用集群安装</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/3408a8/" class="nav-link">Flume相关学习</a></li></ul></li><li class="dropdown-item"><h4>Sqoop</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/60b3d7/" class="nav-link">Sqoop安装配置</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/40f7a3/" class="nav-link">Sqoop使用</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/d89b45/" class="nav-link">docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/hdata-doc/pages/e0cc49/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Oracle</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/7e6951/" class="nav-link">Oracle相关知识杂记</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/b5c27a/" class="nav-link">系统函数篇</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/c2df29/" class="nav-link">与MySQL语法区别</a></li></ul></li><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/36476d/" class="nav-link">MySQL知识点</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><!----> <span class="title" style="display:;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a330/" class="nav-link">Python简单语法</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a340/" class="nav-link">Python操作Office</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f2a341/" class="nav-link">Python类库学习</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/f799c7/" class="nav-link">Python爬虫</a></li></ul></li><li class="dropdown-item"><h4>Shell</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/5704cc/" class="nav-link">Shell基础</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/5765cc/" class="nav-link">Shell命令行</a></li></ul></li><li class="dropdown-item"><h4>Scala</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/c917bd/" class="nav-link">语法学习</a></li></ul></li><li class="dropdown-item"><h4>正则表达式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/e4e158/" class="nav-link">正则基础</a></li></ul></li><li class="dropdown-item"><h4>调度</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/a04438/" class="nav-link">调度工具</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/gxfmrs/" class="nav-link">前端相关</a></li></ul></li><li class="dropdown-item"><h4>杂记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/414e9c/" class="nav-link">常用工具或网站</a></li><li class="dropdown-subitem"><a href="/hdata-doc/pages/c0e729/" class="nav-link">琐碎知识</a></li></ul></li><li class="dropdown-item"><h4>摘录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hdata-doc/pages/AXI4oJ/" class="nav-link">摘录</a></li></ul></li></ul></div></div> <a href="https://github.com/user-h/hdata-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Hadoop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/5d76a5/" class="sidebar-link">Hadoop分布式搭建</a></li><li><a href="/hdata-doc/pages/f9f70f/" class="sidebar-link">Hadoop高可用搭建</a></li><li><a href="/hdata-doc/pages/3e77b2/" class="sidebar-link">集群端口</a></li><li><a href="/hdata-doc/pages/03a2bd/" class="sidebar-link">代码demo（mr hbase hive redis）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Zookeeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/e2226d/" class="sidebar-link">Zookeeper集群搭建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Hive</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/edf4cb/" class="sidebar-link">Hive集群搭建</a></li><li><a href="/hdata-doc/pages/dd806a/" aria-current="page" class="active sidebar-link">Hive相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#数据从本地导入" class="sidebar-link">数据从本地导入</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#数据从hdfs导入" class="sidebar-link">数据从hdfs导入</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#表格操作" class="sidebar-link">表格操作</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#数据操作" class="sidebar-link">数据操作</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#hive复合-集合-数据类型" class="sidebar-link">hive复合(集合)数据类型</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#管理表和外部表" class="sidebar-link">管理表和外部表</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#分区表-分目录" class="sidebar-link">分区表(分目录)</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#分区表注意事项" class="sidebar-link">分区表注意事项</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#分桶表" class="sidebar-link">分桶表</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#索引-待添加" class="sidebar-link">索引(待添加)</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#系统函数" class="sidebar-link">系统函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#数学函数" class="sidebar-link">数学函数</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#日期函数" class="sidebar-link">日期函数</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#字符串函数" class="sidebar-link">字符串函数</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#聚合函数" class="sidebar-link">聚合函数</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#其他-运算符、字符匹配、条件、统计、复杂类型" class="sidebar-link">其他（运算符、字符匹配、条件、统计、复杂类型）</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#lateral-view-与-explode-以及-reflect-待完善" class="sidebar-link">lateral view 与 explode 以及 reflect（待完善）</a></li><li class="sidebar-sub-header level3"><a href="/hdata-doc/pages/dd806a/#窗口函数" class="sidebar-link">窗口函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#自定义函数-udf、udaf、udtf" class="sidebar-link">自定义函数(UDF、UDAF、UDTF)</a></li><li class="sidebar-sub-header level2"><a href="/hdata-doc/pages/dd806a/#java-api代码" class="sidebar-link">Java API代码</a></li></ul></li><li><a href="/hdata-doc/pages/dd807a/" class="sidebar-link">HSQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kafka</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/bfa383/" class="sidebar-link">Kafka集群搭建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HBase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/b22228/" class="sidebar-link">HBase集群搭建</a></li><li><a href="/hdata-doc/pages/e15afa/" class="sidebar-link">HBase基础学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spark</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/7d157d/" class="sidebar-link">Spark环境搭建</a></li><li><a href="/hdata-doc/pages/b3ba00/" class="sidebar-link">Spark相关知识</a></li><li><a href="/hdata-doc/pages/70f03f/" class="sidebar-link">Spark内核学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Flink</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/415096/" class="sidebar-link">Flink环境搭建</a></li><li><a href="/hdata-doc/pages/415097/" class="sidebar-link">Flink学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Flume</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/e4166e/" class="sidebar-link">Flume安装配置</a></li><li><a href="/hdata-doc/pages/0376ec/" class="sidebar-link">Flume高可用集群安装</a></li><li><a href="/hdata-doc/pages/3408a8/" class="sidebar-link">Flume相关学习</a></li><li><a href="/hdata-doc/pages/eeda49/" class="sidebar-link">Flume把数据导入hive（文件方式）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据集成工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/60b3d7/" class="sidebar-link">Sqoop安装配置</a></li><li><a href="/hdata-doc/pages/40f7a3/" class="sidebar-link">Sqoop使用</a></li><li><a href="/hdata-doc/pages/b76fc1/" class="sidebar-link">其他ETL工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span> Impala</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/4d39ac/" class="sidebar-link">Impala</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>调度</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/a04438/" class="sidebar-link">调度工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hdata-doc/pages/d89b45/" class="sidebar-link">docker</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/hdata-doc/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>大数据</span></li><li data-v-06225672><span data-v-06225672>Hive</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/user-h" target="_blank" title="作者" class="beLink" data-v-06225672>Ai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-02-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Hive相关<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="数据从本地导入"><a href="#数据从本地导入" class="header-anchor">#</a> 数据从本地导入</h2> <p>表格信息:</p> <div class="language-text extra-class"><pre class="language-text"><code>QD01012018070009        张先生  M       山东科技大学    计算机
QD01012017050004        test张飞        M       北京邮电大学    软件工程
QD01012017030001        学员秦小建      M       北京邮电大学    软件工程
QD01012017050003        小四    M       北京邮电大学    软件工程
QD01012017050006        thomas  M       哈弗    物理
QD01012017050007        hello kity      F       哈弗    物理
QD01012017050002        小星    M       深大    计算机
QD010120180011 12345   M       12345   12345
QD01012017050005        呵呵    F       北京化工大学    信息工程
QD01012018070008        测试学生        M       qd      rg
QD010120180010  123     F       123     123
</code></pre></div><p>创建表格:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student_2<span class="token punctuation">(</span>code string<span class="token punctuation">,</span>name string<span class="token punctuation">,</span>gender string<span class="token punctuation">,</span>school string<span class="token punctuation">,</span>profession string<span class="token punctuation">)</span>
 <span class="token keyword">comment</span> <span class="token string">'this is a student table'</span>
 <span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span>
 stored <span class="token keyword">as</span> textfile<span class="token punctuation">;</span> 

<span class="token keyword">create</span> <span class="token keyword">table</span> stu_kongge<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span> name string<span class="token punctuation">)</span>  
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">' '</span><span class="token punctuation">;</span>
</code></pre></div><p>从本地导入数据:</p> <div class="language-shell script extra-class"><pre class="language-shell"><code>load data <span class="token builtin class-name">local</span> inpath <span class="token string">'/soft/module/datas/short-student-utf8.txt'</span> into table student_2<span class="token punctuation">;</span>

查看：hadoop fs -cat /user/hive/warehouse/test_db.db/student_2/short-student-utf8.txt
</code></pre></div><h2 id="数据从hdfs导入"><a href="#数据从hdfs导入" class="header-anchor">#</a> 数据从hdfs导入</h2> <div class="language-shell script extra-class"><pre class="language-shell"><code>load data inpath <span class="token string">'/ahb/datas/short-student-utf8_add.txt'</span> into table student<span class="token punctuation">;</span>
</code></pre></div><h2 id="表格操作"><a href="#表格操作" class="header-anchor">#</a> 表格操作</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>清除表内容: <span class="token keyword">truncate</span> <span class="token keyword">table</span> student<span class="token punctuation">;</span>	
删除表: <span class="token keyword">drop</span> <span class="token keyword">table</span> student<span class="token punctuation">;</span>
重命名:  <span class="token keyword">alter</span> <span class="token keyword">table</span> student_2 <span class="token keyword">rename</span> <span class="token keyword">to</span> student<span class="token punctuation">;</span>
添加列: <span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">add</span> <span class="token keyword">columns</span> <span class="token punctuation">(</span>grade string<span class="token punctuation">,</span>class string<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">--导入数据: 先清空表,再导入整理好的数据</span>
更改列顺序: <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 列名 列名 STRING <span class="token keyword">COMMENT</span> <span class="token string">'列注释'</span> <span class="token keyword">AFTER</span> 列名<span class="token punctuation">;</span>
删除列: <span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">drop</span> <span class="token keyword">column</span> class string<span class="token punctuation">;</span>
        <span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">replace</span> <span class="token keyword">columns</span> <span class="token punctuation">(</span>code string<span class="token punctuation">,</span>name string<span class="token punctuation">,</span>gender string<span class="token punctuation">,</span>school string<span class="token punctuation">,</span>profession string<span class="token punctuation">,</span>grade string<span class="token punctuation">)</span><span class="token punctuation">;</span>
修改列名与类型: <span class="token keyword">alter</span> <span class="token keyword">table</span> student change class banji <span class="token keyword">double</span><span class="token punctuation">;</span><span class="token punctuation">(</span>String转换为<span class="token keyword">Double</span><span class="token punctuation">)</span> <span class="token comment">--无法double to int转换为String to int或double to int转换为double to int 。</span>
替换列属性: 
        更新列:
        <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE <span class="token punctuation">[</span><span class="token keyword">COLUMN</span><span class="token punctuation">]</span> col_old_name col_new_name column_type <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">FIRST</span><span class="token operator">|</span><span class="token keyword">AFTER</span> column_name<span class="token punctuation">]</span>
        增加和替换列:
        <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span><span class="token operator">|</span><span class="token keyword">REPLACE</span> <span class="token keyword">COLUMNS</span> <span class="token punctuation">(</span>col_name data_type <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="数据操作"><a href="#数据操作" class="header-anchor">#</a> 数据操作</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>数据查询  <span class="token keyword">select</span> school<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student_2 <span class="token keyword">group</span> <span class="token keyword">by</span> school<span class="token punctuation">;</span>
数据更新  <span class="token keyword">update</span> student <span class="token keyword">set</span> grade<span class="token operator">=</span><span class="token string">'17'</span> <span class="token keyword">where</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">--配置文件和建表时有要求</span>
</code></pre></div><h2 id="hive复合-集合-数据类型"><a href="#hive复合-集合-数据类型" class="header-anchor">#</a> hive复合(集合)数据类型</h2> <ul><li>建表</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t5_struct<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">,</span>
name string<span class="token punctuation">,</span>
info struct<span class="token operator">&lt;</span>city: string <span class="token punctuation">,</span>subway:string <span class="token operator">&gt;</span> <span class="token punctuation">)</span> 
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span>
collection items <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">','</span><span class="token punctuation">;</span>
</code></pre></div><p>数据格式</p> <div class="language-text extra-class"><pre class="language-text"><code>{
    &quot;name&quot;: &quot;songsong&quot;,
    &quot;friends&quot;: [&quot;bingbing&quot; , &quot;lili&quot;],      //列表 Array
    &quot;children&quot;: {                     //键值对Map
        &quot;xiao song&quot;: 18 , &quot;xiaoxiao song&quot;: 19
    }
    &quot;address&quot;:{           //结构体Struct
        &quot;street&quot;: &quot;hui long guan&quot;, 
        &quot;city&quot;: &quot;beijing&quot;
    }
}
</code></pre></div><ul><li>创建表:[ terminate:终止,结束 ] [ street:街道 ]</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> people<span class="token punctuation">(</span>
    name string<span class="token punctuation">,</span>
    friends array<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    children map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    address struct<span class="token operator">&lt;</span>street:string<span class="token punctuation">,</span>city:string<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">row</span> format delimited
<span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">','</span>
collection items <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'_'</span>
map <span class="token keyword">keys</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">':'</span><span class="token punctuation">;</span>

字段解释：
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">','</span>   <span class="token comment">-- 列分隔符</span>
collection items <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'_'</span>          <span class="token comment">--MAP STRUCT 和 ARRAY 的分隔符(数据分割符号)</span>
map <span class="token keyword">keys</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">':'</span>                          <span class="token comment">-- MAP 中的key 与 value 的分隔符</span>
<span class="token keyword">lines</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>                              <span class="token comment">-- 行分隔符</span>
</code></pre></div><p>数据格式</p> <div class="language-text extra-class"><pre class="language-text"><code>张伟,黄辉鸿_曾小贤_胡一菲,张小伟:18_张大伟:24,屌丝路_上海
吕小布,陈美嘉_唐悠悠_关谷神奇,小小布:20_吕小小:25,幸福里_上海
</code></pre></div><h2 id="管理表和外部表"><a href="#管理表和外部表" class="header-anchor">#</a> 管理表和外部表</h2> <p>理论</p> <blockquote><p>因为表是外部表，所以 Hive 并非认为其完全拥有这份数据。删除该表并不会删除掉这份数据，不过描述表的元数据信息会被删除掉。</p></blockquote> <p>管理表和外部表的使用场景</p> <blockquote><p>每天将收集到的网站日志定期流入HDFS 文本文件。在外部表（原始日志表）的基础上做大量的统计分析，用到的中间表、结果表使用内部表存储，数据通过 SELECT+INSERT 进入内部表。</p></blockquote> <p>建外部表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> external <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token keyword">default</span><span class="token punctuation">.</span>emp<span class="token punctuation">(</span> empno <span class="token keyword">int</span><span class="token punctuation">,</span>
ename string<span class="token punctuation">,</span> 
job string<span class="token punctuation">,</span> 
mgr <span class="token keyword">int</span><span class="token punctuation">,</span>
hiredate string<span class="token punctuation">,</span> 
sal  <span class="token keyword">double</span><span class="token punctuation">,</span> 
comm <span class="token keyword">double</span><span class="token punctuation">,</span>
deptno <span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span><span class="token punctuation">;</span>
</code></pre></div><p>管理表和外部表相互转换</p> <div class="language-sql extra-class"><pre class="language-sql"><code>内部表转为外部表
<span class="token keyword">alter</span> <span class="token keyword">table</span> student2 <span class="token keyword">set</span> tblproperties<span class="token punctuation">(</span><span class="token string">'EXTERNAL'</span><span class="token operator">=</span><span class="token string">'TRUE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
外部表转为内部表
<span class="token keyword">alter</span> <span class="token keyword">table</span> student2 <span class="token keyword">set</span> tblproperties<span class="token punctuation">(</span><span class="token string">'EXTERNAL'</span><span class="token operator">=</span><span class="token string">'FALSE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="分区表-分目录"><a href="#分区表-分目录" class="header-anchor">#</a> 分区表(分目录)</h2> <p>建表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student2<span class="token punctuation">(</span>code string<span class="token punctuation">,</span>name string<span class="token punctuation">,</span>gender string<span class="token punctuation">,</span>school string<span class="token punctuation">,</span>profession string<span class="token punctuation">,</span>grade string<span class="token punctuation">)</span>
partitioned <span class="token keyword">by</span> <span class="token punctuation">(</span>class <span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span>
stored <span class="token keyword">as</span> textfile<span class="token punctuation">;</span>
</code></pre></div><p>加载数据</p> <div class="language-text extra-class"><pre class="language-text"><code>load data local inpath &quot;/soft/datas/short-student-utf8_classNO1.txt&quot; into table student2 partition(class=1)
</code></pre></div><p>扩展</p> <div class="language-text extra-class"><pre class="language-text"><code>多分区联合查询

增加分区
创建单个分区
alter table student2 add partition(class=3);
同时创建多个分区
alter table studet2 add partition(class=4) partition(class=5)

删除分区
删除单个分区
alter table student2 drop partition(class=3);
同时删除多个分区
alter table student2 drop partition(class=4),partition(class=5);

查看分区表有多少分区
show partitions student2;

查看分区表结构
desc formatted student2;
批量删除分区
alter table schema.table_name drop partition (ds&amp;lt;'2018-08-01');

批量删除分区脚本
#!/bin/sh
if [ $# == 3 ]; then
    begin_date=`date -d &quot;+0 day $2&quot; +%Y-%m-%d`
    end_date=`date -d &quot;+0 day $3&quot; +%Y-%m-%d`
    date=${end_date}
    sql=''
    while [[ &quot;${date}&quot; &gt; &quot;${begin_date}&quot; || &quot;${date}&quot; = &quot;${begin_date}&quot; ]]
          do
              echo $date
              sql=${sql}&quot;ALTER TABLE $1 DROP IF EXISTS PARTITION(date = '$date');&quot;
              echo ${sql}
              date=`date -d &quot;$date -1 days&quot; +&quot;%Y-%m-%d&quot;`
          done 
    echo &quot;hive -e '${sql}' &quot;
    hive -e &quot;${sql}&quot;
elif [ $# == 1 ]; then
    date=`date -d -1days '+%Y-%m-%d'`
    echo &quot;hive -e 'ALTER TABLE $1 DROP IF EXISTS PARTITION(date = '$date');'&quot;
    hive -e &quot;ALTER TABLE $1 DROP IF EXISTS PARTITION(date = '$date');&quot;
else 
    echo 'Parameter error!'
fi
————————————————
原文链接：https://blog.csdn.net/fanlying/article/details/78688003
</code></pre></div><h2 id="分区表注意事项"><a href="#分区表注意事项" class="header-anchor">#</a> 分区表注意事项</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">1.</span>创建二级分区表
<span class="token keyword">create</span> <span class="token keyword">table</span> student2<span class="token punctuation">(</span>code string<span class="token punctuation">,</span>name string<span class="token punctuation">,</span>gender string<span class="token punctuation">,</span>school string<span class="token punctuation">,</span>profession string<span class="token punctuation">)</span>
partitioned <span class="token keyword">by</span> <span class="token punctuation">(</span>grade string<span class="token punctuation">,</span>class <span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span><span class="token punctuation">;</span>

<span class="token number">2.</span>加载到二级分区表
<span class="token keyword">load</span> <span class="token keyword">data</span> <span class="token keyword">local</span> inpath <span class="token string">&quot;&quot;</span> <span class="token keyword">into</span> <span class="token keyword">table</span> student2 partition2 <span class="token keyword">partition</span><span class="token punctuation">(</span>grade<span class="token operator">=</span><span class="token string">&quot;18&quot;</span><span class="token punctuation">,</span>class<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student2 <span class="token keyword">where</span> grade<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">and</span> class<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
</code></pre></div><p>动态分区示例：<strong>源表字段和输出分区值之间的关系是根据位置而不是根据命名来匹配的</strong>，也可以静态分区和动态分区混用</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> overwrite <span class="token keyword">table</span> 目标表 <span class="token keyword">partition</span><span class="token punctuation">(</span>bdp_day<span class="token punctuation">,</span> bdp_year<span class="token punctuation">)</span>
<span class="token keyword">select</span>
rel<span class="token punctuation">.</span>release_session<span class="token punctuation">,</span>
rel<span class="token punctuation">.</span>release_status<span class="token punctuation">,</span>
rel<span class="token punctuation">.</span>device_num<span class="token punctuation">,</span>
rel<span class="token punctuation">.</span>device_type<span class="token punctuation">,</span>
rel<span class="token punctuation">.</span>sources<span class="token punctuation">,</span>
rel<span class="token punctuation">.</span>channels<span class="token punctuation">,</span>
from_unixtime<span class="token punctuation">(</span>rel<span class="token punctuation">.</span>ct<span class="token punctuation">,</span><span class="token string">'HH'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
from_unixtime<span class="token punctuation">(</span>rel<span class="token punctuation">.</span>ct<span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
from_unixtime<span class="token punctuation">(</span>rel<span class="token punctuation">.</span>ct<span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> bdp_day  <span class="token comment">-- 分区字段</span>
from_unixtime<span class="token punctuation">(</span>rel<span class="token punctuation">.</span>ct<span class="token punctuation">,</span><span class="token string">'yyyy'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> x_year       <span class="token comment">-- 二级分区</span>
<span class="token keyword">from</span> 源表
</code></pre></div><p><strong>使用动态分区表必须配置的参数 ：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">set</span> hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>dynamic<span class="token punctuation">.</span><span class="token keyword">partition</span> <span class="token operator">=</span><span class="token boolean">true</span>  <span class="token comment">--（默认false）,表示开启动态分区功能</span>
<span class="token keyword">set</span> hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>dynamic<span class="token punctuation">.</span><span class="token keyword">partition</span><span class="token punctuation">.</span><span class="token keyword">mode</span> <span class="token operator">=</span> nonstrict   <span class="token comment">-- (默认strict),表示允许所有分区都是动态的，否则必须有静态分区字段</span>
</code></pre></div><p><strong>动态分区相关的调优参数：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">set</span>  hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>max<span class="token punctuation">.</span>dynamic<span class="token punctuation">.</span>partitions<span class="token punctuation">.</span>pernode<span class="token operator">=</span><span class="token number">100</span> （默认<span class="token number">100</span>，一般可以设置大一点，比如<span class="token number">1000</span>）
       表示每个maper或reducer可以允许创建的最大动态分区个数，默认是<span class="token number">100</span>，超出则会报错。
<span class="token keyword">set</span> hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>max<span class="token punctuation">.</span>dynamic<span class="token punctuation">.</span>partitions <span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>默认值<span class="token punctuation">)</span> 
       表示一个动态分区语句可以创建的最大动态分区个数，超出报错
<span class="token keyword">set</span> hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>max<span class="token punctuation">.</span>created<span class="token punctuation">.</span>files <span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">(</span>默认<span class="token punctuation">)</span> 全局可以创建的最大文件个数，超出报错。
</code></pre></div><h2 id="分桶表"><a href="#分桶表" class="header-anchor">#</a> 分桶表</h2> <p>注：分区针对的是数据的存储路径；分桶针对的是数据文件。 分桶后，桶内有序，整体不一定有序。</p> <blockquote><p>数据加载通过hdfs dfs -put文件或者通过load data均不好使
原因：数据上传到hdfs上，这个过程怎么识别分桶字段，有怎么取hash值呢（必须经过MapReduce）
load是put上去的</p></blockquote> <p>缺点:
如果通过数据文件LOAD 到分桶表中，会存在额外的MR负担。
实际生产中分桶策略使用频率较低，更常见的还是使用数据分区。</p> <ul><li>分区针对的是数据的存储路径；分桶针对的是数据文件。</li> <li>Hive Load语句不会在加载数据的时候做任何转换工作，而是纯粹的把数据文件复制/移动到Hive表对应的地址。</li> <li>分桶表  加载数据 From Select 是经过MR(映射和归纳)的</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">1.</span>数据准备


<span class="token number">2.</span>创建分桶表
<span class="token keyword">create</span> <span class="token keyword">table</span> stu_buck<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span> name string<span class="token punctuation">)</span> 
<span class="token keyword">clustered</span> <span class="token keyword">by</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">into</span> <span class="token number">4</span> buckets
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span><span class="token punctuation">;</span>

<span class="token number">3.</span>查看表结构
<span class="token keyword">desc</span> formatted stu_buck<span class="token punctuation">;</span>

<span class="token number">4.</span> 导入数据到分桶表
<span class="token keyword">load</span> <span class="token keyword">data</span> <span class="token keyword">local</span> inpath <span class="token string">&quot;/soft/datas/student.txt&quot;</span> <span class="token keyword">into</span> <span class="token keyword">table</span> stu_buck<span class="token punctuation">;</span>

<span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span>不好使<span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span><span class="token operator">=</span>

创建分桶表，数据通过子查询方式导入
<span class="token number">1.</span>先创建普通表
<span class="token keyword">create</span> <span class="token keyword">table</span> stu<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span> name string<span class="token punctuation">)</span>
<span class="token keyword">row</span> format delimited <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">'\t'</span><span class="token punctuation">;</span>

<span class="token number">2.</span>导入数据到普通表
<span class="token keyword">load</span> <span class="token keyword">data</span> <span class="token keyword">local</span> inpath <span class="token string">'/soft/datas/student.txt'</span> <span class="token keyword">into</span> <span class="token keyword">table</span> stu<span class="token punctuation">;</span>

<span class="token number">3.</span>创建分桶表<span class="token punctuation">(</span>清空分桶表<span class="token punctuation">)</span>
<span class="token keyword">truncate</span> <span class="token keyword">table</span> stu_buck<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu_buck<span class="token punctuation">;</span>

<span class="token number">4.</span>通过子查询的方式导入数据到分桶表
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">table</span> stu_buck <span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> stu<span class="token punctuation">;</span>

<span class="token number">5.</span>发现还是只有一个分桶

<span class="token number">6.</span>设置属性
    <span class="token number">1.</span><span class="token keyword">set</span> hive<span class="token punctuation">.</span>enforce<span class="token punctuation">.</span>bucketing<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">#设置让hive强制分桶，自动按照分桶表的bucket 进行分桶 [程序自动分配reduce的数量从而适配相应的bucket;] </span>
    <span class="token number">2.</span><span class="token keyword">set</span> mapreduce<span class="token punctuation">.</span>job<span class="token punctuation">.</span>reduces<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">#-1是不指定reduce数量</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">table</span> stu_buck <span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> stu<span class="token punctuation">;</span>

<span class="token number">7.</span>查询分桶数据
 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu_buck
</code></pre></div><p><strong>分桶抽样查询</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu_buck tablesample<span class="token punctuation">(</span>bucket <span class="token number">1</span> <span class="token keyword">out</span> <span class="token keyword">of</span> <span class="token number">4</span> <span class="token keyword">on</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

注：tablesample 是抽样语句，语法：TABLESAMPLE<span class="token punctuation">(</span>BUCKET x <span class="token keyword">OUT</span> <span class="token keyword">OF</span> y<span class="token punctuation">)</span> 。

y 必须是 <span class="token keyword">table</span> 总 bucket 数的倍数或者因子。hive 根据 y 的大小，决定抽样的比例。例如，<span class="token keyword">table</span> 总共分了 <span class="token number">4</span> 份，当 y<span class="token operator">=</span><span class="token number">2</span> 时，抽取<span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">)</span><span class="token number">2</span> 个bucket 的数据，当 y<span class="token operator">=</span><span class="token number">8</span> 时，抽取<span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">8</span><span class="token operator">=</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> 个 bucket 的数据。
x 表示从哪个 bucket 开始抽取，如果需要取多个分区，以后的分区号为当前分区号加上y。例如，<span class="token keyword">table</span> 总 bucket 数为 <span class="token number">4</span>，tablesample<span class="token punctuation">(</span>bucket <span class="token number">1</span> <span class="token keyword">out</span> <span class="token keyword">of</span> <span class="token number">2</span><span class="token punctuation">)</span>，表示总共抽取（<span class="token number">4</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">=</span>）<span class="token number">2</span> 个

bucket 的数据，抽取第 <span class="token number">1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>个和第 <span class="token number">3</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span>个 bucket 的数据。注意：x 的值必须小于等于 y 的值，否则
FAILED: SemanticException <span class="token punctuation">[</span>Error <span class="token number">10061</span><span class="token punctuation">]</span>: 
</code></pre></div><h2 id="索引-待添加"><a href="#索引-待添加" class="header-anchor">#</a> 索引(待添加)</h2> <h2 id="系统函数"><a href="#系统函数" class="header-anchor">#</a> 系统函数</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">1.</span>查看系统自带函数 <span class="token keyword">show</span> functions<span class="token punctuation">;</span>
<span class="token number">2.</span>显示自带函数用法 <span class="token keyword">desc</span> <span class="token keyword">function</span> upper<span class="token punctuation">;</span>
<span class="token number">3.</span>详细显示自带的函数的用法 <span class="token keyword">desc</span> <span class="token keyword">function</span> <span class="token keyword">extended</span> upper
</code></pre></div><h3 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">#四舍五入</span>
<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">0.131415926</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">#保留n位小数</span>
<span class="token keyword">select</span> bround<span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">select</span> bround<span class="token punctuation">(</span><span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">#2 4银行家舍入法(四舍六入五取偶)</span>
银行家舍入法:四舍六入五考虑，五后非空就进一，五后为空看奇偶，五前为偶应舍去，五前为奇要进一
<span class="token keyword">select</span> bround<span class="token punctuation">(</span><span class="token number">2.55554</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#2.556 银行家舍入法,保留d位小数</span>
<span class="token keyword">select</span> floor<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.54</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#向下取整(即在数轴上左边的整数)</span>
<span class="token keyword">select</span> ceil<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.54</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#向上取整</span>
<span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">#返回一个DOUBLE型随机数</span>
<span class="token keyword">select</span> exp<span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#e的a幂次方</span>
<span class="token keyword">select</span> ln<span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#自然数为底d的对数</span>
<span class="token keyword">select</span> log10<span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#以10为底d的对数</span>
<span class="token keyword">select</span> log2<span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#以2为底数d的对数</span>
<span class="token keyword">select</span> log<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#select log(DOUBLE base, DOUBLE a)以base为底的对数</span>
<span class="token keyword">select</span> pow<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#a的p次幂</span>
<span class="token keyword">select</span> sqrt<span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#a的平方根 </span>
<span class="token keyword">select</span> bin<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">select</span> bin<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#二进制a的STRING类型 bin(BIGINT a)</span>
<span class="token keyword">select</span> hex<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#十六进制a的STRING类型 hex的逆方法 unhex(STRING a)</span>
<span class="token keyword">select</span> conv<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#把十进制的15转换为二进制</span>
<span class="token keyword">select</span> abs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#绝对值</span>
<span class="token keyword">select</span> pmod<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#取模</span>
<span class="token keyword">select</span> sin<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#正弦值  </span>
<span class="token keyword">select</span> asin<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#反正弦值 定义域[-1,1]</span>
<span class="token keyword">select</span> e<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 求e</span>
<span class="token keyword">select</span> pi<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 求pi</span>
<span class="token keyword">select</span> factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#阶乘</span>
</code></pre></div></details> <h3 id="日期函数"><a href="#日期函数" class="header-anchor">#</a> 日期函数</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#获取当前时间戳</span>
<span class="token keyword">select</span> unix_timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">#UNIX时间戳转日期函数</span>
<span class="token keyword">select</span> from_unixtime<span class="token punctuation">(</span><span class="token number">1585294471</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd hh:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">#日期转UNIX时间戳函数 指定格式日期转UNIX时间戳函数</span>
<span class="token keyword">select</span> unix_timestamp<span class="token punctuation">(</span><span class="token string">&quot;2020-03-27 03:34:31&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">select</span> unix_timestamp<span class="token punctuation">(</span><span class="token string">&quot;2020-03-27 03:34:31&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#日期时间转日期</span>
<span class="token keyword">select</span> to_date<span class="token punctuation">(</span><span class="token string">'2020-03-27 03:34:31'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#日期取年 select year('2020-03-27 03:34:31');</span>
<span class="token comment">#日期取月 select month('2020-03-27 03:34:31');</span>
<span class="token comment">#日期取日 select day('2020-03-27 03:34:31');</span>
<span class="token comment">#日期取时 select hour('2020-03-27 03:34:31');</span>
<span class="token comment">#日期取分 select minute('2020-03-27 15:34:31');</span>
<span class="token comment">#日期取秒 select second('2020-03-27 15:34:31');</span>
<span class="token comment">#日期转周 select weekofyear('2020-03-27 15:34:31');</span>
<span class="token comment">#日期比较 select datediff(&quot;2020-3-27&quot;,&quot;2020-3-2&quot;);</span>
<span class="token comment">#日期增加 select date_add(&quot;2020-3-27&quot;,25);</span>
<span class="token comment">#日期减少 select date_sub(&quot;2020-3-27&quot;,25);</span>
</code></pre></div></details> <h3 id="字符串函数"><a href="#字符串函数" class="header-anchor">#</a> 字符串函数</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--字符串模糊匹配</span>
<span class="token comment">-- LIKE、RLIKE、REGEXP、regexp_replace、regexp_extract</span>

<span class="token comment">-- 字符串长度                  select length(&quot;hello world&quot;);</span>
<span class="token comment">-- 字符串反转                  select reverse(&quot;洛河飘香茶香飘河洛!&quot;);</span>
<span class="token comment">-- 字符串连接                  select concat(&quot;Hello&quot;,&quot;World&quot;);</span>
<span class="token comment">-- 带分隔符字符串连接           select concat_ws(&quot;\t&quot;,&quot;name&quot;,&quot;age&quot;,&quot;sex&quot;);</span>
<span class="token comment">-- 字符串截取                  substr(str,start),substring(str,start,len)</span>
                              <span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;洛河飘香茶香飘河洛&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;洛河飘香茶香飘河洛&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 字符串转大写函数             upper,ucase</span>
                              <span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 字符串转小写函数：           lower,lcase</span>
                              <span class="token keyword">select</span> <span class="token function">lcase</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 去空格(两边)                select trim(&quot; Hello World &quot;);</span>
<span class="token comment">-- 左去空格                    select ltrim(&quot; Hello World &quot;);</span>
<span class="token comment">-- 右去空格                    select rtrim(&quot; Hello World &quot;);</span>
<span class="token comment">-- 正则表达式替换 将字符串A中的符合java正则表达式B的部分替换为C   regexp_replace(string A, string B, string C)</span>
                              <span class="token keyword">select</span> regexp_replace<span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">,</span> <span class="token string">'or|ll'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 正则表达式解析 将字符串subject按照pattern正则表达式的规则拆分，返回index指定的字符 regexp_extract(string subject, string pattern, int index)</span>
<span class="token comment">-- 注意，在有些情况下要使用转义字符，下面的等号要用双竖线转义，这是java正则表达式的规则</span>
                              <span class="token keyword">select</span> regexp_extract<span class="token punctuation">(</span><span class="token string">'foothebar'</span><span class="token punctuation">,</span> <span class="token string">'foo(.*?)(bar)'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token keyword">select</span> regexp_extract<span class="token punctuation">(</span><span class="token string">'foothebar'</span><span class="token punctuation">,</span> <span class="token string">'foo(.*?)(bar)'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- URL解析函数 parse_url(string urlString, string partToExtract [, string keyToExtract])</span>
<span class="token comment">-- 返回URL中指定的部分。partToExtract的有效值为：HOST, PATH, QUERY, REF, PROTOCOL, AUTHORITY, FILE, and USERINFO</span>
                              <span class="token keyword">select</span> parse_url<span class="token punctuation">(</span><span class="token string">&quot;https://www.bilibili.com/video/BV1yE411v7Pq/?spm_id_from=333.788.videocard.1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;HOST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- json解析函数 解析json的字符串json_string,返回path指定的内容。如果输入的json字符串无效，那么返回NULL</span>
<span class="token keyword">select</span> get_json_object<span class="token punctuation">(</span><span class="token string">'{&quot;store&quot;:
{&quot;fruit&quot;:\[{&quot;weight&quot;:8,&quot;type&quot;:&quot;apple&quot;},{&quot;weight&quot;:9,&quot;type&quot;:&quot;pear&quot;}],
&quot;bicycle&quot;:{&quot;price&quot;:19.95,&quot;color&quot;:&quot;red&quot;}
},
&quot;email&quot;:&quot;amy@only_for_json_udf_test.net&quot;,
&quot;owner&quot;:&quot;amy&quot;
}'</span><span class="token punctuation">,</span><span class="token string">'$.owner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 空格字符串函数 返回长度为n的字符串           select space(10); select length(space(10));</span>
<span class="token comment">-- 重复字符串函数 返回重复n次后的str字符串      select repeat('hello',3);</span>
<span class="token comment">-- 首字符ascii函数 返回字符串str第一个字符的ascii码      select ascii(&quot;hello&quot;);</span>
<span class="token comment">-- 左补足函数 将str进行用pad进行左补足到len位 lpad(string str, int len, string pad) select lpad(&quot;string&quot;,10,&quot;do&quot;); #dodostring</span>
<span class="token comment">-- 右补足函数                                 select rpad(&quot;string&quot;,10,&quot;do&quot;);</span>
<span class="token comment">-- 分割字符串函数 按照pat字符串分割str，会返回分割后的字符串数组 split(string str, string pat)</span>
                                             <span class="token keyword">select</span> split<span class="token punctuation">(</span><span class="token string">&quot;pneumonoultramicroscopicsilicovolcanoconiosis&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                             结果:<span class="token punctuation">[</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;eumo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;oultramicroscopicsilicovolca&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;oco&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;iosis&quot;</span><span class="token punctuation">]</span>
<span class="token comment">-- 集合查找函数 str在strlist第一次出现的位置，strlist用逗号分割,0未找到   find_in_set(string str, string strList)</span>
                                             <span class="token keyword">select</span> find_in_set<span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">,</span><span class="token string">'ef,ab,de'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div></details> <h3 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 等常用的聚合函数
</code></pre></div><blockquote><p>注意：<br>
聚合操作时要注意 null 值<br>
count(*) 包含 null 值，统计所有行数<br>
count(id) 不包含 null 值<br>
min 求最小值是不包含 null，除非所有值都是 null<br>
avg 求平均值也是不包含 null</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 非空集合总体变量函数: var_pop</span>
<span class="token comment">-- 非空集合样本变量函数: var_samp</span>
<span class="token comment">-- 总体标准偏离函数: stddev_pop</span>
<span class="token comment">-- 中位数函数: percentile</span>
</code></pre></div></details> <h3 id="其他-运算符、字符匹配、条件、统计、复杂类型"><a href="#其他-运算符、字符匹配、条件、统计、复杂类型" class="header-anchor">#</a> 其他（运算符、字符匹配、条件、统计、复杂类型）</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code>关系运算 <span class="token operator">=</span><span class="token punctuation">.</span> <span class="token operator">&lt;</span><span class="token punctuation">.</span> <span class="token operator">&gt;</span><span class="token punctuation">.</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">.</span> <span class="token operator">LIKE</span><span class="token punctuation">.</span> PLIKE<span class="token punctuation">.</span> <span class="token operator">REGEXP</span>
数学运算<span class="token operator">+</span> <span class="token operator">-</span> <span class="token operator">*</span> <span class="token operator">/</span> <span class="token operator">%</span> <span class="token operator">&amp;</span>  <span class="token operator">|</span> <span class="token operator">~</span> <span class="token operator">^</span>
逻辑运算<span class="token operator">AND</span> <span class="token operator">OR</span> <span class="token operator">NOT</span>
条件函数
<span class="token comment">-- if(boolean testCondition, T valueTrue, T valueFalseOrNull)</span>
<span class="token comment">-- 条件判断函数：case when </span>
<span class="token comment">-- 非空查找函数:coalesce(T v1, T v2, …)</span>

集合统计函数等等<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>count 直方图: histogram_numeric 中位数函数: percentile 总体标准偏离函数: stddev_pop
复合类型构建map<span class="token punctuation">.</span> struct<span class="token punctuation">.</span> array
<span class="token comment">-- Map类型构建:map (key1, value1, key2, value2, …)</span>
<span class="token comment">-- Struct 类型构建:struct(val1, val2, val3, …)</span>
<span class="token comment">-- array 类型构建:array(val1, val2, …)</span>

复杂类型访问操作A<span class="token punctuation">[</span>n<span class="token punctuation">]</span>  M<span class="token punctuation">[</span><span class="token keyword">key</span><span class="token punctuation">]</span>  S<span class="token punctuation">.</span>x
<span class="token comment">-- array 类型访问:语法: A[n]</span>
<span class="token comment">-- map 类型访问:语法: M[key]</span>
<span class="token comment">-- struct 类型访问:语法: S.x</span>

复杂类型长度统计函数 size<span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>k <span class="token punctuation">.</span>V<span class="token operator">&gt;</span><span class="token punctuation">)</span> size<span class="token punctuation">(</span>Array<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span> 类型转换函数
<span class="token comment">-- Map 类型长度函数:语法: size(Map&lt;k .V&gt;)</span>
<span class="token comment">-- array 类型长度函数:语法: size(Array&lt;T&gt;)</span>
<span class="token comment">-- 类型转换函数: cast  语法: cast(expr as &lt;type&gt;)</span>
</code></pre></div></details> <h3 id="lateral-view-与-explode-以及-reflect-待完善"><a href="#lateral-view-与-explode-以及-reflect-待完善" class="header-anchor">#</a> lateral view 与 explode 以及 reflect（待完善）</h3> <h3 id="窗口函数"><a href="#窗口函数" class="header-anchor">#</a> 窗口函数</h3> <details class="custom-block details"><summary>点击查看</summary> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># SUM、AVG、MIN、MAX</span>

<span class="token comment"># ROW_NUMBER、RANK、DENSE_RANK、NTILE</span>
<span class="token comment">-- ROW_NUMBER()： ROW_NUMBER()从 1 开始，按照顺序，生成分组内记录的序列</span>
<span class="token comment">-- RANK() 生成数据项在分组中的排名，排名相等会在名次中留下空位。</span>
<span class="token comment">-- DENSE_RANK()生成数据项在分组中的排名，排名相等会在名次中不会留下空位。</span>
<span class="token comment">-- ntile 可以看成是：把有序的数据集合平均分配到指定的数量（num）个桶中, 将桶号分配给每一行。如果不能平均分配，则优先分配较小编号的桶，并且各个桶中能放的行数最多相差 1。</span>

<span class="token comment"># LAG、LEAD、FIRST_VALUE、LAST_VALUE</span>
<span class="token comment">-- LAG(col,n,DEFAULT) 用于统计窗口内往上第 n 行值。</span>
<span class="token comment">-- LEAD(col,n,DEFAULT) 用于统计窗口内往下第 n 行值。</span>
<span class="token comment">-- FIRST_VALUE 取分组内排序后，截止到当前行，第一个值。</span>
<span class="token comment">-- LAST_VALUE 取分组内排序后，截止到当前行，最后一个值。</span>

<span class="token comment"># CUME_DIST</span>
此函数的结果和 <span class="token keyword">order</span> <span class="token keyword">by</span> 的排序顺序有关系。CUME_DIST：小于等于当前值的行数<span class="token operator">/</span>分组内总行数。 <span class="token keyword">order</span> 默认顺序 ：正序
比如，统计小于等于当前薪水的人数，所占总人数的比例。

<span class="token comment"># GROUPING SETS、GROUPING__ID、CUBE、ROLLUP</span>
<span class="token comment">-- grouping sets 是一种将多个 group by 逻辑写在一个 sql 语句中的便利写法。等价于将不同维度的 GROUP BY 结果集进行 UNION ALL。</span>
<span class="token comment">-- CUBE ： 根据 GROUP BY 的维度的所有组合进行聚合。  </span>
<span class="token comment">-- ROLLUP ： 是 CUBE 的子集，以最左侧的维度为主，从该维度进行层级聚合。比如，以 month 维度进行层级聚合：</span>

</code></pre></div></details> <h2 id="自定义函数-udf、udaf、udtf"><a href="#自定义函数-udf、udaf、udtf" class="header-anchor">#</a> 自定义函数(UDF、UDAF、UDTF)</h2> <ul><li>UDF（User-Defined-Function） 一进一出</li> <li>UDAF（User-Defined Aggregation Function） 聚集函数，多进一出
类似于：count/max/min</li> <li>UDTF（User-Defined Table-Generating Functions） 一进多出</li></ul> <p><strong>UDF</strong></p> <p>https://www.cnblogs.com/swordfall/p/11167486.html</p> <div class="language-text extra-class"><pre class="language-text"><code>1.继承 org.apache.hadoop.hive.ql.exec.UDF
   
2.实现 evaluate()函数,此函数支持重载

3.在 hive 命令行创建函数
   1.添加jar
   add jar /soft/module/datas/GenderUDF.jar
   2.创建function
   create temporary function [dbname.]gender_udf as &quot;com.hrbu.hive.GenderUDF&quot;
   
4.在hive命令行删除函数
drop temporary function if exists [dbname.]gender_udf
</code></pre></div><h2 id="java-api代码"><a href="#java-api代码" class="header-anchor">#</a> Java API代码</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hrbu<span class="token punctuation">.</span>hive</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">After</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Before</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>



<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeatApi</span> <span class="token punctuation">{</span>
	
	<span class="token comment">//驱动名称</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driverName <span class="token operator">=</span> <span class="token string">&quot;org.apache.hive.jdbc.HiveDriver&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">//连接用的url</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:hive2://192.168.1.100:10000/default&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">//用户名与密码无需提供</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Statement</span> stmt <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	
	<span class="token comment">/**
	 * junit单元测试方法,关键技术是注解
	 * 1可以随时测试某个方法,不用再写main函数与多余的代码
	 * 2面向切面的before和after使我们的代码结构更加合理
	 */</span>
	<span class="token comment">//加载驱动,创建连接</span>
	<span class="token annotation punctuation">@Before</span>	<span class="token comment">//表示在任意使用@Test注解标注的public void方法之前执行</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driverName<span class="token punctuation">)</span><span class="token punctuation">;</span>
			conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
			stmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//释放资源</span>
	<span class="token annotation punctuation">@After</span> <span class="token comment">//表示在任意使用@Test注解标注的public void方法之后执行</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>stmt <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			stmt<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//创建数据库</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">create_DataBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;create database IF NOT EXISTS hive_jdbc_test&quot;</span><span class="token punctuation">;</span>	<span class="token comment">//create database IF NOT EXISTS hive_jdbc_test</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		stmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;create database success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//创建表格</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">create_StudentTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token comment">//String sql0 = &quot;use hive_jdbc_test&quot;;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;create table student(code string,name string,gender string,school string,profession string)\r\n&quot;</span> <span class="token operator">+</span> 
				<span class="token string">&quot; comment 'this is a student table'\r\n&quot;</span> <span class="token operator">+</span> 
				<span class="token string">&quot; row format delimited fields terminated by '\\t'\r\n&quot;</span> <span class="token operator">+</span> 
				<span class="token string">&quot; stored as textfile&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running create table student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//stmt.execute(sql0);</span>
		stmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;create table student success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// 查询所有数据库</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show_DataBases</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;show Databases&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 查询当前数据库中所有表</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show_Tables</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;show tables&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//加载数据</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">load_Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token comment">//linux路径</span>
		<span class="token class-name">String</span> filePath <span class="token operator">=</span> <span class="token string">&quot;'/soft/datas/short-student-utf8.txt'&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;load data local inpath&quot;</span> <span class="token operator">+</span> filePath <span class="token operator">+</span> <span class="token string">&quot;overwrite into table student&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		stmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;load data local success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//查询数据</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">select_Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from student&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学号\t姓名\t性别\t学校\t专业&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;profession&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//统计查询(运行mapreduce作业)</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">count_Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select count(*) from student&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		rs <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;学号\t姓名\t性别\t学校\t专业&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//删除数据库</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drop_DataBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
		<span class="token comment">//强制删除数据库</span>
		<span class="token comment">//String sql = &quot;DROP DATABASE IF EXISTS hive_jdbc_test CASCADE&quot;;</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;DROP DATABASE IF EXISTS hive_jdbc_test&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		stmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DROP DATABASE success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/user-h/hdata-doc/edit/master/docs/02.大数据/03.Hive/02.Hive相关.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/07/07, 11:20:39</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/hdata-doc/pages/edf4cb/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Hive集群搭建</div></a> <a href="/hdata-doc/pages/dd807a/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">HSQL</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/hdata-doc/pages/edf4cb/" class="prev">Hive集群搭建</a></span> <span class="next"><a href="/hdata-doc/pages/dd807a/">HSQL</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1033078928@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/user-h" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/aihb" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://music.163.com" title="听音乐" target="_blank" class="iconfont icon-erji"></a><a href="https://bilibili.com" title="哔哩哔哩" target="_blank" class="iconfont icon-bilibili"></a><a href="https://douyin.com/" title="抖音" target="_blank" class="iconfont icon-douyin"></a><a href="" title="猫咪" target="_blank" class="iconfont icon-mao"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2025
    <span>Ai | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"></div></div>
    <script src="/hdata-doc/assets/js/app.37e4fbb6.js" defer></script><script src="/hdata-doc/assets/js/2.82afd9cb.js" defer></script><script src="/hdata-doc/assets/js/36.ecc28683.js" defer></script>
  </body>
</html>
